<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Key Management Service (KMS)</title>

    <link rel="alternate" href="https://campusempresa.com/aws/aws-key-management-service" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/aws/aws-key-management-service" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/aws/aws-key-management-service" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/aws/aws-key-management-service" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/aws/aws-key-management-service" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='aws-compliance-programs'>&#x25C4;AWS Compliance Programs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">AWS Key Management Service (KMS)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='amazon-cloudwatch'>Amazon CloudWatch &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to AWS KMS</h1>
<div class='content'><p>AWS Key Management Service (KMS) is a managed service that makes it easy to create and control the encryption keys used to encrypt your data. KMS is integrated with other AWS services, making it simple to encrypt data you store in these services and control access to the keys that decrypt it.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Customer Master Keys (CMKs)</strong>: The primary resources in AWS KMS. CMKs can be used to encrypt and decrypt up to 4 KB of data directly or to generate data keys that can encrypt larger amounts of data.</li>
<li><strong>Data Keys</strong>: Keys generated by CMKs that are used to encrypt data. Data keys can be used outside of AWS KMS.</li>
<li><strong>Key Policies</strong>: JSON-based policies that define who can use and manage CMKs.</li>
<li><strong>Grants</strong>: Allow temporary permissions to use CMKs.</li>
<li><strong>Encryption Context</strong>: Optional, non-secret data that can be associated with encrypted data to provide additional security.</li>
</ul>
</div><h1>Creating and Managing CMKs</h1>
<h2>Creating a CMK</h2>
<div class='content'><p>To create a CMK, you can use the AWS Management Console, AWS CLI, or AWS SDKs.</p>
<h4>Using AWS Management Console</h4>
<ol>
<li>Open the AWS KMS console.</li>
<li>Choose <strong>Create key</strong>.</li>
<li>Select the key type (symmetric or asymmetric).</li>
<li>Configure key settings, including key usage permissions.</li>
<li>Review and create the key.</li>
</ol>
<h4>Using AWS CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGttcyBjcmVhdGUta2V5IC0tZGVzY3JpcHRpb24gIk15IENNSyIgLS1rZXktdXNhZ2UgRU5DUllQVF9ERUNSWVBUIC0tb3JpZ2luIEFXU19LTVM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws kms create-key --description &quot;My CMK&quot; --key-usage ENCRYPT_DECRYPT --origin AWS_KMS</pre></div><div class='content'></div><h2>Managing CMKs</h2>
<div class='content'><ul>
<li><strong>Enabling/Disabling CMKs</strong>: You can enable or disable CMKs to control their usage.</li>
<li><strong>Rotating CMKs</strong>: AWS KMS can automatically rotate CMKs every year.</li>
<li><strong>Deleting CMKs</strong>: Schedule a CMK for deletion if it is no longer needed.</li>
</ul>
</div><h1>Encrypting and Decrypting Data</h1>
<h2>Encrypting Data</h2>
<div class='content'><p>You can encrypt data using CMKs directly or by using data keys.</p>
<h4>Encrypting with AWS CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGttcyBlbmNyeXB0IC0ta2V5LWlkIDxDTUtfSUQ+IC0tcGxhaW50ZXh0IGZpbGViOi8vZXhhbXBsZS50eHQgLS1vdXRwdXQgdGV4dCAtLXF1ZXJ5IENpcGhlcnRleHRCbG9i"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws kms encrypt --key-id &lt;CMK_ID&gt; --plaintext fileb://example.txt --output text --query CiphertextBlob</pre></div><div class='content'></div><h2>Decrypting Data</h2>
<div class='content'><p>To decrypt data, you need to have the necessary permissions to use the CMK.</p>
<h4>Decrypting with AWS CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGttcyBkZWNyeXB0IC0tY2lwaGVydGV4dC1ibG9iIGZpbGViOi8vZW5jcnlwdGVkX2ZpbGUgLS1vdXRwdXQgdGV4dCAtLXF1ZXJ5IFBsYWludGV4dA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws kms decrypt --ciphertext-blob fileb://encrypted_file --output text --query Plaintext</pre></div><div class='content'></div><h1>Key Policies and Access Control</h1>
<h2>Key Policies</h2>
<div class='content'><p>Key policies are JSON documents that specify who can use and manage a CMK. They are similar to IAM policies but are specific to KMS.</p>
<h4>Example Key Policy</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJWZXJzaW9uIjogIjIwMTItMTAtMTciLAogICJJZCI6ICJrZXktZGVmYXVsdC0xIiwKICAiU3RhdGVtZW50IjogWwogICAgewogICAgICAiU2lkIjogIkVuYWJsZSBJQU0gVXNlciBQZXJtaXNzaW9ucyIsCiAgICAgICJFZmZlY3QiOiAiQWxsb3ciLAogICAgICAiUHJpbmNpcGFsIjogewogICAgICAgICJBV1MiOiAiYXJuOmF3czppYW06OjEyMzQ1Njc4OTAxMjpyb290IgogICAgICB9LAogICAgICAiQWN0aW9uIjogImttczoqIiwKICAgICAgIlJlc291cmNlIjogIioiCiAgICB9CiAgXQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Id&quot;: &quot;key-default-1&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Sid&quot;: &quot;Enable IAM User Permissions&quot;,
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;AWS&quot;: &quot;arn:aws:iam::123456789012:root&quot;
      },
      &quot;Action&quot;: &quot;kms:*&quot;,
      &quot;Resource&quot;: &quot;*&quot;
    }
  ]
}</pre></div><div class='content'></div><h2>Grants</h2>
<div class='content'><p>Grants provide temporary permissions to use a CMK. They are useful for delegating access without modifying the key policy.</p>
<h4>Creating a Grant</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGttcyBjcmVhdGUtZ3JhbnQgLS1rZXktaWQgPENNS19JRD4gLS1ncmFudGVlLXByaW5jaXBhbCA8SUFNX1JPTEVfQVJOPiAtLW9wZXJhdGlvbnMgRW5jcnlwdCBEZWNyeXB0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws kms create-grant --key-id &lt;CMK_ID&gt; --grantee-principal &lt;IAM_ROLE_ARN&gt; --operations Encrypt Decrypt</pre></div><div class='content'></div><h1>Advanced Topics</h1>
<h2>Using Encryption Context</h2>
<div class='content'><p>An encryption context is additional, non-secret data that you can associate with encrypted data to provide additional security.</p>
<h4>Example with Encryption Context</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGttcyBlbmNyeXB0IC0ta2V5LWlkIDxDTUtfSUQ+IC0tcGxhaW50ZXh0IGZpbGViOi8vZXhhbXBsZS50eHQgLS1lbmNyeXB0aW9uLWNvbnRleHQgUHVycG9zZT1UZXN0IC0tb3V0cHV0IHRleHQgLS1xdWVyeSBDaXBoZXJ0ZXh0QmxvYg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws kms encrypt --key-id &lt;CMK_ID&gt; --plaintext fileb://example.txt --encryption-context Purpose=Test --output text --query CiphertextBlob</pre></div><div class='content'></div><h2>Asymmetric Keys</h2>
<div class='content'><p>AWS KMS supports asymmetric keys for encryption/decryption and signing/verification.</p>
<h4>Creating an Asymmetric CMK</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGttcyBjcmVhdGUta2V5IC0tZGVzY3JpcHRpb24gIk15IEFzeW1tZXRyaWMgQ01LIiAtLWtleS11c2FnZSBFTkNSWVBUX0RFQ1JZUFQgLS1rZXktc3BlYyBSU0FfMjA0OA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws kms create-key --description &quot;My Asymmetric CMK&quot; --key-usage ENCRYPT_DECRYPT --key-spec RSA_2048</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>AWS KMS is a powerful and flexible service for managing encryption keys in the cloud. By understanding the key concepts, how to create and manage CMKs, and how to encrypt and decrypt data, you can effectively secure your data in AWS. Advanced features like encryption context and asymmetric keys provide additional capabilities for more complex use cases.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='aws-compliance-programs'>&#x25C4;AWS Compliance Programs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">AWS Key Management Service (KMS)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='amazon-cloudwatch'>Amazon CloudWatch &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
