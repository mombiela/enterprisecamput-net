<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Directives in Vue.js</title>

    <link rel="alternate" href="https://campusempresa.com/vuejs/custom-directives" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/vuejs/custom-directives" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/vuejs/custom-directives" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/vuejs/custom-directives" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/vuejs/custom-directives" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='mixins'>&#x25C4;Mixins</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Directives in Vue.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='render-functions-jsx'>Render Functions and JSX &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Custom Directives</h1>
<div class='content'><p>Custom directives in Vue.js allow you to extend the functionality of HTML elements. While Vue provides some built-in directives like <code>v-if</code>, <code>v-for</code>, and <code>v-bind</code>, custom directives give you the flexibility to create your own reusable behaviors.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Directives</strong>: Special tokens in the markup that tell the library to do something to a DOM element.</li>
<li><strong>Hook Functions</strong>: Lifecycle hooks for directives, such as <code>bind</code>, <code>inserted</code>, <code>update</code>, <code>componentUpdated</code>, and <code>unbind</code>.</li>
</ul>
</div><h1>Creating a Basic Custom Directive</h1>
<div class='content'><p>To create a custom directive, you use the <code>Vue.directive</code> method. Here's a simple example of a custom directive that changes the background color of an element.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VnVlLmRpcmVjdGl2ZSgnaGlnaGxpZ2h0JywgewogIGJpbmQoZWwsIGJpbmRpbmcpIHsKICAgIGVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJpbmRpbmcudmFsdWU7CiAgfQp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Vue.directive('highlight', {
  bind(el, binding) {
    el.style.backgroundColor = binding.value;
  }
});</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>Vue.directive('highlight', {...})</code>: Registers a new directive named <code>highlight</code>.</li>
<li><code>bind(el, binding)</code>: The <code>bind</code> hook is called only once, when the directive is first bound to the element. Here, <code>el</code> is the element the directive is bound to, and <code>binding</code> contains information about the directive, such as its value.</li>
</ul>
</div><h2>Usage</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRpdiB2LWhpZ2hsaWdodD0iJ3llbGxvdyciPlRoaXMgd2lsbCBoYXZlIGEgeWVsbG93IGJhY2tncm91bmQuPC9kaXY+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;div v-highlight=&quot;'yellow'&quot;&gt;This will have a yellow background.&lt;/div&gt;</pre></div><div class='content'></div><h1>Advanced Custom Directives</h1>
<div class='content'><p>Custom directives can be more complex and can use multiple lifecycle hooks to manage the DOM.</p>
</div><h2>Example: Tooltip Directive</h2>
<div class='content'><p>Let's create a tooltip directive that shows a tooltip when the user hovers over an element.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VnVlLmRpcmVjdGl2ZSgndG9vbHRpcCcsIHsKICBiaW5kKGVsLCBiaW5kaW5nKSB7CiAgICBsZXQgdG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdG9vbHRpcC5jbGFzc05hbWUgPSAndG9vbHRpcCc7CiAgICB0b29sdGlwLmlubmVyVGV4dCA9IGJpbmRpbmcudmFsdWU7CiAgICBlbC50b29sdGlwID0gdG9vbHRpcDsKICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbHRpcCk7CiAgICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYfXB4YDsKICAgICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHtyZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZIC0gdG9vbHRpcC5vZmZzZXRIZWlnaHR9cHhgOwogICAgfSk7CiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gewogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRvb2x0aXApOwogICAgfSk7CiAgfSwKICB1bmJpbmQoZWwpIHsKICAgIGlmIChlbC50b29sdGlwKSB7CiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInKTsKICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScpOwogICAgfQogIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Vue.directive('tooltip', {
  bind(el, binding) {
    let tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    tooltip.innerText = binding.value;
    el.tooltip = tooltip;
    el.addEventListener('mouseenter', () =&gt; {
      document.body.appendChild(tooltip);
      let rect = el.getBoundingClientRect();
      tooltip.style.left = `${rect.left + window.scrollX}px`;
      tooltip.style.top = `${rect.top + window.scrollY - tooltip.offsetHeight}px`;
    });
    el.addEventListener('mouseleave', () =&gt; {
      document.body.removeChild(tooltip);
    });
  },
  unbind(el) {
    if (el.tooltip) {
      el.removeEventListener('mouseenter');
      el.removeEventListener('mouseleave');
    }
  }
});</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>bind</strong>: Creates the tooltip element and sets up event listeners for <code>mouseenter</code> and <code>mouseleave</code>.</li>
<li><strong>unbind</strong>: Cleans up the event listeners when the directive is unbound from the element.</li>
</ul>
</div><h2>Usage</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGJ1dHRvbiB2LXRvb2x0aXA9IidUaGlzIGlzIGEgdG9vbHRpcCciPkhvdmVyIG92ZXIgbWU8L2J1dHRvbj4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;button v-tooltip=&quot;'This is a tooltip'&quot;&gt;Hover over me&lt;/button&gt;</pre></div><div class='content'></div><h1>Directive Hook Functions</h1>
<div class='content'><p>Vue.js provides several hook functions for custom directives:</p>
<p>| Hook Function       | Description                                                                 |
|---------------------|-----------------------------------------------------------------------------|
| <code>bind</code>              | Called only once, when the directive is first bound to the element.         |
| <code>inserted</code>          | Called when the bound element has been inserted into its parent node.       |
| <code>update</code>            | Called when the component's VNode is updated, but possibly before its children are updated. |
| <code>componentUpdated</code>  | Called after the component's VNode and its children have updated.           |
| <code>unbind</code>            | Called only once, when the directive is unbound from the element.           |</p>
</div><h1>Summary</h1>
<div class='content'><p>Custom directives in Vue.js are a powerful way to extend the functionality of your applications. They allow you to encapsulate reusable behaviors and apply them to any DOM element. By understanding and utilizing the lifecycle hooks provided by Vue, you can create complex and interactive custom directives.</p>
</div><h2>Key Takeaways</h2>
<div class='content'><ul>
<li>Custom directives enhance HTML elements with reusable behaviors.</li>
<li>Use <code>Vue.directive</code> to register a custom directive.</li>
<li>Lifecycle hooks (<code>bind</code>, <code>inserted</code>, <code>update</code>, <code>componentUpdated</code>, <code>unbind</code>) manage the directive's behavior.</li>
<li>Custom directives can range from simple style changes to complex interactions like tooltips.</li>
</ul>
<p>By mastering custom directives, you can significantly improve the modularity and reusability of your Vue.js applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='mixins'>&#x25C4;Mixins</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Directives in Vue.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='render-functions-jsx'>Render Functions and JSX &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
