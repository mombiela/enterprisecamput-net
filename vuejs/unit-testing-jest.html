<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing with Jest</title>

    <link rel="alternate" href="https://campusempresa.com/vuejs/unit-testing-jest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/vuejs/unit-testing-jest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/vuejs/unit-testing-jest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/vuejs/unit-testing-jest" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/vuejs/unit-testing-jest" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introduction to Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='component-testing-vue-test-utils'>Component Testing with Vue Test Utils &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Unit Testing</h1>
<div class='content'><p>Unit testing is a software testing method where individual units or components of a software are tested. The purpose is to validate that each unit of the software performs as expected.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Unit</strong>: The smallest testable part of any software.</li>
<li><strong>Test Case</strong>: A set of conditions or variables under which a tester will determine if a unit of software works as expected.</li>
<li><strong>Test Suite</strong>: A collection of test cases.</li>
<li><strong>Mocking</strong>: Creating a fake version of a function or module to isolate the unit being tested.</li>
</ul>
</div><h1>Why Use Jest for Unit Testing in Vue.js?</h1>
<div class='content'><p>Jest is a delightful JavaScript testing framework with a focus on simplicity. It works seamlessly with Vue.js, providing a robust environment for testing Vue components.</p>
</div><h2>Key Features of Jest</h2>
<div class='content'><ul>
<li><strong>Zero Configuration</strong>: Works out of the box for most JavaScript projects.</li>
<li><strong>Snapshot Testing</strong>: Captures the rendered output of a component and compares it to a reference snapshot file.</li>
<li><strong>Mocking</strong>: Built-in support for mocking functions and modules.</li>
<li><strong>Code Coverage</strong>: Provides detailed code coverage reports.</li>
</ul>
</div><h1>Setting Up Jest in a Vue.js Project</h1>
<div class='content'><p>To get started with Jest in a Vue.js project, you need to install the necessary dependencies and configure Jest.</p>
</div><h2>Installation</h2>
<div class='content'><p>First, install Jest and Vue Test Utils:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqZXN0IEB2dWUvdGVzdC11dGlscw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jest @vue/test-utils</pre></div><div class='content'></div><h2>Configuration</h2>
<div class='content'><p>Create a <code>jest.config.js</code> file in the root of your project:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlLmV4cG9ydHMgPSB7CiAgcHJlc2V0OiAnQHZ1ZS9jbGktcGx1Z2luLXVuaXQtamVzdC9wcmVzZXRzL25vLWJhYmVsJywKICB0ZXN0TWF0Y2g6IFsnKiovX190ZXN0c19fLyoqLyouc3BlYy5banRdcz8oeCknXSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module.exports = {
  preset: '@vue/cli-plugin-unit-jest/presets/no-babel',
  testMatch: ['**/__tests__/**/*.spec.[jt]s?(x)'],
};</pre></div><div class='content'></div><h1>Writing Your First Test</h1>
<div class='content'><p>Let's write a simple unit test for a Vue component.</p>
</div><h2>Example Component</h2>
<div class='content'><p>Consider a simple <code>HelloWorld.vue</code> component:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHRlbXBsYXRlPgogIDxkaXY+CiAgICA8cD57eyBtZXNzYWdlIH19PC9wPgogIDwvZGl2Pgo8L3RlbXBsYXRlPgoKPHNjcmlwdD4KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIZWxsb1dvcmxkJywKICBwcm9wczogewogICAgbWVzc2FnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfQp9Cjwvc2NyaXB0Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'HelloWorld',
  props: {
    message: {
      type: String,
      required: true
    }
  }
}
&lt;/script&gt;</pre></div><div class='content'></div><h2>Test Case</h2>
<div class='content'><p>Create a test file <code>HelloWorld.spec.js</code> in the <code>__tests__</code> directory:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJzsKCmRlc2NyaWJlKCdIZWxsb1dvcmxkLnZ1ZScsICgpID0+IHsKICBpdCgncmVuZGVycyBwcm9wcy5tZXNzYWdlIHdoZW4gcGFzc2VkJywgKCkgPT4gewogICAgY29uc3QgbWVzc2FnZSA9ICdIZWxsbywgSmVzdCEnOwogICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3dNb3VudChIZWxsb1dvcmxkLCB7CiAgICAgIHByb3BzRGF0YTogeyBtZXNzYWdlIH0KICAgIH0pOwogICAgZXhwZWN0KHdyYXBwZXIudGV4dCgpKS50b01hdGNoKG1lc3NhZ2UpOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () =&gt; {
  it('renders props.message when passed', () =&gt; {
    const message = 'Hello, Jest!';
    const wrapper = shallowMount(HelloWorld, {
      propsData: { message }
    });
    expect(wrapper.text()).toMatch(message);
  });
});</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>shallowMount</strong>: Creates a shallow wrapper for the component, which means it only renders the component itself without rendering child components.</li>
<li><strong>propsData</strong>: Passes props to the component.</li>
<li><strong>expect</strong>: Jest's assertion function to check if the component's text matches the passed message.</li>
</ul>
</div><h1>Advanced Testing Techniques</h1>
<div class='content'><p>As you become more comfortable with Jest, you can explore more advanced testing techniques.</p>
</div><h2>Mocking Dependencies</h2>
<div class='content'><p>Sometimes, components depend on external modules or services. Jest allows you to mock these dependencies.</p>
<h4>Example</h4>
<p>Suppose your component uses a service to fetch data:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGF0YUZldGNoZXInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBudWxsCiAgICB9OwogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYXBpL2RhdGEnKTsKICAgIHRoaXMuZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

export default {
  name: 'DataFetcher',
  data() {
    return {
      data: null
    };
  },
  async created() {
    const response = await axios.get('/api/data');
    this.data = response.data;
  }
}</pre></div><div class='content'><h4>Mocking Axios</h4>
<p>In your test file, you can mock the axios module:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IERhdGFGZXRjaGVyIGZyb20gJ0AvY29tcG9uZW50cy9EYXRhRmV0Y2hlci52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKamVzdC5tb2NrKCdheGlvcycpOwoKZGVzY3JpYmUoJ0RhdGFGZXRjaGVyLnZ1ZScsICgpID0+IHsKICBpdCgnZmV0Y2hlcyBkYXRhIG9uIGNyZWF0ZWQnLCBhc3luYyAoKSA9PiB7CiAgICBjb25zdCBkYXRhID0geyBkYXRhOiAnbW9ja2VkIGRhdGEnIH07CiAgICBheGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoZGF0YSk7CgogICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3dNb3VudChEYXRhRmV0Y2hlcik7CiAgICBhd2FpdCB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwoKICAgIGV4cGVjdCh3cmFwcGVyLnZtLmRhdGEpLnRvQmUoJ21vY2tlZCBkYXRhJyk7CiAgfSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import DataFetcher from '@/components/DataFetcher.vue';
import axios from 'axios';

jest.mock('axios');

describe('DataFetcher.vue', () =&gt; {
  it('fetches data on created', async () =&gt; {
    const data = { data: 'mocked data' };
    axios.get.mockResolvedValue(data);

    const wrapper = shallowMount(DataFetcher);
    await wrapper.vm.$nextTick();

    expect(wrapper.vm.data).toBe('mocked data');
  });
});</pre></div><div class='content'></div><h2>Snapshot Testing</h2>
<div class='content'><p>Snapshot testing is useful for ensuring the UI does not change unexpectedly.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJzsKCmRlc2NyaWJlKCdIZWxsb1dvcmxkLnZ1ZScsICgpID0+IHsKICBpdCgnbWF0Y2hlcyBzbmFwc2hvdCcsICgpID0+IHsKICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93TW91bnQoSGVsbG9Xb3JsZCwgewogICAgICBwcm9wc0RhdGE6IHsgbWVzc2FnZTogJ0hlbGxvLCBKZXN0IScgfQogICAgfSk7CiAgICBleHBlY3Qod3JhcHBlci5odG1sKCkpLnRvTWF0Y2hTbmFwc2hvdCgpOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () =&gt; {
  it('matches snapshot', () =&gt; {
    const wrapper = shallowMount(HelloWorld, {
      propsData: { message: 'Hello, Jest!' }
    });
    expect(wrapper.html()).toMatchSnapshot();
  });
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Unit testing with Jest in a Vue.js project ensures that your components work as expected and helps prevent regressions. By starting with simple tests and gradually incorporating more advanced techniques like mocking and snapshot testing, you can build a robust test suite that enhances the reliability of your application.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introduction to Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='component-testing-vue-test-utils'>Component Testing with Vue Test Utils &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
