<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kotlin DSL (Domain-Specific Language)</title>

    <link rel="alternate" href="https://campusempresa.com/kotlin/kotlin-dsl" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kotlin/kotlin-dsl" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kotlin/kotlin-dsl" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kotlin/kotlin-dsl" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kotlin/kotlin-dsl" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='kotlin-scripting'>&#x25C4;Kotlin Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Kotlin DSL (Domain-Specific Language)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='unit-testing-with-kotlin'>Unit Testing with Kotlin &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Kotlin DSL</h1>
<div class='content'><p>Kotlin DSLs (Domain-Specific Languages) are specialized mini-languages created using Kotlin to solve specific problems more efficiently. They leverage Kotlin's expressive syntax and type-safe builders to create readable and maintainable code.</p>
<ul>
<li><strong>Definition</strong>: A DSL is a specialized language tailored to a specific application domain.</li>
<li><strong>Purpose</strong>: To simplify complex tasks and improve code readability and maintainability.</li>
<li><strong>Examples</strong>: Gradle build scripts, HTML builders, SQL query builders.</li>
</ul>
</div><h1>Key Concepts of Kotlin DSLs</h1>
<div class='content'></div><h2>Type-Safe Builders</h2>
<div class='content'><p>Type-safe builders are a common pattern in Kotlin DSLs that ensure the correct structure of the DSL at compile-time.</p>
<ul>
<li><strong>Type Safety</strong>: Ensures that the DSL is used correctly, reducing runtime errors.</li>
<li><strong>Builders</strong>: Use Kotlin's lambda with receiver to create nested structures.</li>
</ul>
<h4>Example: HTML Builder</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIGh0bWwoaW5pdDogSFRNTC4oKSAtPiBVbml0KTogSFRNTCB7CiAgICB2YWwgaHRtbCA9IEhUTUwoKQogICAgaHRtbC5pbml0KCkKICAgIHJldHVybiBodG1sCn0KCmNsYXNzIEhUTUwgewogICAgcHJpdmF0ZSB2YWwgY2hpbGRyZW4gPSBtdXRhYmxlTGlzdE9mPEFueT4oKQoKICAgIGZ1biBib2R5KGluaXQ6IEJPRFkuKCkgLT4gVW5pdCkgewogICAgICAgIHZhbCBib2R5ID0gQk9EWSgpCiAgICAgICAgYm9keS5pbml0KCkKICAgICAgICBjaGlsZHJlbi5hZGQoYm9keSkKICAgIH0KCiAgICBvdmVycmlkZSBmdW4gdG9TdHJpbmcoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gIjxodG1sPiR7Y2hpbGRyZW4uam9pblRvU3RyaW5nKCIiKX08L2h0bWw+IgogICAgfQp9CgpjbGFzcyBCT0RZIHsKICAgIHByaXZhdGUgdmFsIGNoaWxkcmVuID0gbXV0YWJsZUxpc3RPZjxTdHJpbmc+KCkKCiAgICBmdW4gcCh0ZXh0OiBTdHJpbmcpIHsKICAgICAgICBjaGlsZHJlbi5hZGQoIjxwPiR0ZXh0PC9wPiIpCiAgICB9CgogICAgb3ZlcnJpZGUgZnVuIHRvU3RyaW5nKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuICI8Ym9keT4ke2NoaWxkcmVuLmpvaW5Ub1N0cmluZygiIil9PC9ib2R5PiIKICAgIH0KfQoKLy8gVXNhZ2UKdmFsIGh0bWxDb250ZW50ID0gaHRtbCB7CiAgICBib2R5IHsKICAgICAgICBwKCJIZWxsbywgV29ybGQhIikKICAgICAgICBwKCJLb3RsaW4gRFNMcyBhcmUgcG93ZXJmdWwhIikKICAgIH0KfQoKcHJpbnRsbihodG1sQ29udGVudCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun html(init: HTML.() -&gt; Unit): HTML {
    val html = HTML()
    html.init()
    return html
}

class HTML {
    private val children = mutableListOf&lt;Any&gt;()

    fun body(init: BODY.() -&gt; Unit) {
        val body = BODY()
        body.init()
        children.add(body)
    }

    override fun toString(): String {
        return &quot;&lt;html&gt;${children.joinToString(&quot;&quot;)}&lt;/html&gt;&quot;
    }
}

class BODY {
    private val children = mutableListOf&lt;String&gt;()

    fun p(text: String) {
        children.add(&quot;&lt;p&gt;$text&lt;/p&gt;&quot;)
    }

    override fun toString(): String {
        return &quot;&lt;body&gt;${children.joinToString(&quot;&quot;)}&lt;/body&gt;&quot;
    }
}

// Usage
val htmlContent = html {
    body {
        p(&quot;Hello, World!&quot;)
        p(&quot;Kotlin DSLs are powerful!&quot;)
    }
}

println(htmlContent)</pre></div><div class='content'></div><h2>Extension Functions</h2>
<div class='content'><p>Extension functions allow you to add new functionality to existing classes, which is crucial for creating fluent APIs in DSLs.</p>
<ul>
<li><strong>Syntax</strong>: <code>fun ClassName.functionName() { ... }</code></li>
<li><strong>Usage</strong>: Enhances readability and provides a natural way to extend classes.</li>
</ul>
<h4>Example: Adding Functions to String</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIFN0cmluZy5ib2xkKCk6IFN0cmluZyB7CiAgICByZXR1cm4gIjxiPiR0aGlzPC9iPiIKfQoKZnVuIFN0cmluZy5pdGFsaWMoKTogU3RyaW5nIHsKICAgIHJldHVybiAiPGk+JHRoaXM8L2k+Igp9CgovLyBVc2FnZQp2YWwgdGV4dCA9ICJLb3RsaW4iLmJvbGQoKS5pdGFsaWMoKQpwcmludGxuKHRleHQpIC8vIE91dHB1dDogPGk+PGI+S290bGluPC9iPjwvaT4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun String.bold(): String {
    return &quot;&lt;b&gt;$this&lt;/b&gt;&quot;
}

fun String.italic(): String {
    return &quot;&lt;i&gt;$this&lt;/i&gt;&quot;
}

// Usage
val text = &quot;Kotlin&quot;.bold().italic()
println(text) // Output: &lt;i&gt;&lt;b&gt;Kotlin&lt;/b&gt;&lt;/i&gt;</pre></div><div class='content'></div><h2>Lambdas with Receiver</h2>
<div class='content'><p>Lambdas with receiver allow you to call methods on an implicit receiver object within a lambda expression, making the DSL more concise and readable.</p>
<ul>
<li><strong>Syntax</strong>: <code>ClassName.() -&gt; Unit</code></li>
<li><strong>Usage</strong>: Used extensively in type-safe builders.</li>
</ul>
<h4>Example: Custom Configuration DSL</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ29uZmlndXJhdGlvbiB7CiAgICB2YXIgaG9zdDogU3RyaW5nID0gIiIKICAgIHZhciBwb3J0OiBJbnQgPSAwCgogICAgZnVuIGRhdGFiYXNlKGluaXQ6IERhdGFiYXNlLigpIC0+IFVuaXQpIHsKICAgICAgICB2YWwgZGIgPSBEYXRhYmFzZSgpCiAgICAgICAgZGIuaW5pdCgpCiAgICAgICAgcHJpbnRsbigiRGF0YWJhc2UgY29uZmlndXJlZCB3aXRoIGhvc3Q6ICR7ZGIuaG9zdH0sIHBvcnQ6ICR7ZGIucG9ydH0iKQogICAgfQp9CgpjbGFzcyBEYXRhYmFzZSB7CiAgICB2YXIgaG9zdDogU3RyaW5nID0gIiIKICAgIHZhciBwb3J0OiBJbnQgPSAwCn0KCi8vIFVzYWdlCnZhbCBjb25maWcgPSBDb25maWd1cmF0aW9uKCkuYXBwbHkgewogICAgaG9zdCA9ICJsb2NhbGhvc3QiCiAgICBwb3J0ID0gODA4MAogICAgZGF0YWJhc2UgewogICAgICAgIGhvc3QgPSAiZGIubG9jYWwiCiAgICAgICAgcG9ydCA9IDU0MzIKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Configuration {
    var host: String = &quot;&quot;
    var port: Int = 0

    fun database(init: Database.() -&gt; Unit) {
        val db = Database()
        db.init()
        println(&quot;Database configured with host: ${db.host}, port: ${db.port}&quot;)
    }
}

class Database {
    var host: String = &quot;&quot;
    var port: Int = 0
}

// Usage
val config = Configuration().apply {
    host = &quot;localhost&quot;
    port = 8080
    database {
        host = &quot;db.local&quot;
        port = 5432
    }
}</pre></div><div class='content'></div><h1>Advanced Kotlin DSL Techniques</h1>
<div class='content'></div><h2>Inline Functions</h2>
<div class='content'><p>Inline functions can improve performance by reducing the overhead of function calls, which is particularly useful in DSLs.</p>
<ul>
<li><strong>Syntax</strong>: <code>inline fun functionName() { ... }</code></li>
<li><strong>Usage</strong>: Used to optimize higher-order functions.</li>
</ul>
<h4>Example: Inline Function in DSL</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5saW5lIGZ1biBidWlsZFN0cmluZyhidWlsZGVyQWN0aW9uOiBTdHJpbmdCdWlsZGVyLigpIC0+IFVuaXQpOiBTdHJpbmcgewogICAgdmFsIHNiID0gU3RyaW5nQnVpbGRlcigpCiAgICBzYi5idWlsZGVyQWN0aW9uKCkKICAgIHJldHVybiBzYi50b1N0cmluZygpCn0KCi8vIFVzYWdlCnZhbCByZXN1bHQgPSBidWlsZFN0cmluZyB7CiAgICBhcHBlbmQoIkhlbGxvLCAiKQogICAgYXBwZW5kKCJXb3JsZCEiKQp9CnByaW50bG4ocmVzdWx0KSAvLyBPdXRwdXQ6IEhlbGxvLCBXb3JsZCE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>inline fun buildString(builderAction: StringBuilder.() -&gt; Unit): String {
    val sb = StringBuilder()
    sb.builderAction()
    return sb.toString()
}

// Usage
val result = buildString {
    append(&quot;Hello, &quot;)
    append(&quot;World!&quot;)
}
println(result) // Output: Hello, World!</pre></div><div class='content'></div><h2>Operator Overloading</h2>
<div class='content'><p>Operator overloading allows you to define custom behavior for standard operators, making the DSL more intuitive.</p>
<ul>
<li><strong>Syntax</strong>: <code>operator fun plus(other: Type): Type { ... }</code></li>
<li><strong>Usage</strong>: Enhances the expressiveness of the DSL.</li>
</ul>
<h4>Example: Vector Arithmetic DSL</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSBjbGFzcyBWZWN0b3IodmFsIHg6IEludCwgdmFsIHk6IEludCkgewogICAgb3BlcmF0b3IgZnVuIHBsdXMob3RoZXI6IFZlY3Rvcik6IFZlY3RvciB7CiAgICAgICAgcmV0dXJuIFZlY3Rvcih4ICsgb3RoZXIueCwgeSArIG90aGVyLnkpCiAgICB9Cn0KCi8vIFVzYWdlCnZhbCB2MSA9IFZlY3RvcigxLCAyKQp2YWwgdjIgPSBWZWN0b3IoMywgNCkKdmFsIHJlc3VsdCA9IHYxICsgdjIKcHJpbnRsbihyZXN1bHQpIC8vIE91dHB1dDogVmVjdG9yKHg9NCwgeT02KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data class Vector(val x: Int, val y: Int) {
    operator fun plus(other: Vector): Vector {
        return Vector(x + other.x, y + other.y)
    }
}

// Usage
val v1 = Vector(1, 2)
val v2 = Vector(3, 4)
val result = v1 + v2
println(result) // Output: Vector(x=4, y=6)</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Kotlin DSLs provide a powerful way to create readable, maintainable, and type-safe code for specific domains. By leveraging type-safe builders, extension functions, lambdas with receiver, inline functions, and operator overloading, you can create expressive and efficient DSLs tailored to your needs. As you advance in Kotlin, mastering these techniques will enable you to build more sophisticated and user-friendly APIs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='kotlin-scripting'>&#x25C4;Kotlin Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Kotlin DSL (Domain-Specific Language)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='unit-testing-with-kotlin'>Unit Testing with Kotlin &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
