<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File System Security</title>

    <link rel="alternate" href="https://campusempresa.com/powershell/file-system-security" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/powershell/file-system-security" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/powershell/file-system-security" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/powershell/file-system-security" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/powershell/file-system-security" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='managing-file-paths'>&#x25C4;Managing File Paths</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File System Security</a>
	</div>
	<div class='col-4 text-end'>
					<a href='regular-expressions'>Regular Expressions &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>File system security is a crucial aspect of managing and maintaining a secure environment in any operating system. PowerShell provides powerful cmdlets to manage file and folder permissions, ensuring that only authorized users can access or modify sensitive data. This section will guide you through the basics to advanced concepts of file system security using PowerShell.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>File System Permissions</strong>: Control who can read, write, or execute files and directories.</li>
<li><strong>Access Control Lists (ACLs)</strong>: Define the permissions for users and groups.</li>
<li><strong>Security Identifiers (SIDs)</strong>: Unique values used to identify user, group, and computer accounts.</li>
<li><strong>Inheritance</strong>: Permissions can be inherited from parent directories to child items.</li>
</ul>
</div><h1>Basic File System Security</h1>
<div class='content'></div><h2>Viewing Permissions</h2>
<div class='content'><p>To view the permissions of a file or directory, you can use the <code>Get-Acl</code> cmdlet.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBWaWV3aW5nIHBlcm1pc3Npb25zIG9mIGEgZmlsZQpHZXQtQWNsIC1QYXRoICJDOlxleGFtcGxlXGZpbGUudHh0Ig=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Viewing permissions of a file
Get-Acl -Path &quot;C:\example\file.txt&quot;</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>Get-Acl</code>: Retrieves the access control list (ACL) of the specified file or directory.</li>
<li><code>-Path</code>: Specifies the path to the file or directory.</li>
</ul>
</div><h2>Setting Permissions</h2>
<div class='content'><p>To set permissions, you can use the <code>Set-Acl</code> cmdlet along with <code>Get-Acl</code> and <code>Set-Acl</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBHcmFudGluZyBmdWxsIGNvbnRyb2wgdG8gYSB1c2VyCiRhY2wgPSBHZXQtQWNsIC1QYXRoICJDOlxleGFtcGxlXGZpbGUudHh0IgokcGVybWlzc2lvbiA9ICJET01BSU5cVXNlciIsIkZ1bGxDb250cm9sIiwiQWxsb3ciCiRhY2Nlc3NSdWxlID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5GaWxlU3lzdGVtQWNjZXNzUnVsZSAkcGVybWlzc2lvbgokYWNsLlNldEFjY2Vzc1J1bGUoJGFjY2Vzc1J1bGUpClNldC1BY2wgLVBhdGggIkM6XGV4YW1wbGVcZmlsZS50eHQiIC1BY2xPYmplY3QgJGFjbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Granting full control to a user
$acl = Get-Acl -Path &quot;C:\example\file.txt&quot;
$permission = &quot;DOMAIN\User&quot;,&quot;FullControl&quot;,&quot;Allow&quot;
$accessRule = New-Object System.Security.AccessControl.FileSystemAccessRule $permission
$acl.SetAccessRule($accessRule)
Set-Acl -Path &quot;C:\example\file.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>$acl</code>: Stores the current ACL of the file.</li>
<li><code>$permission</code>: Defines the permission rule.</li>
<li><code>$accessRule</code>: Creates a new access rule object.</li>
<li><code>$acl.SetAccessRule($accessRule)</code>: Adds the new access rule to the ACL.</li>
<li><code>Set-Acl</code>: Applies the modified ACL to the file.</li>
</ul>
</div><h1>Intermediate File System Security</h1>
<div class='content'></div><h2>Modifying Inherited Permissions</h2>
<div class='content'><p>Sometimes, you may need to modify inherited permissions. This can be done using the <code>SetAccessRuleProtection</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBNb2RpZnlpbmcgaW5oZXJpdGVkIHBlcm1pc3Npb25zCiRhY2wgPSBHZXQtQWNsIC1QYXRoICJDOlxleGFtcGxlXGZpbGUudHh0IgokYWNsLlNldEFjY2Vzc1J1bGVQcm90ZWN0aW9uKCR0cnVlLCAkZmFsc2UpClNldC1BY2wgLVBhdGggIkM6XGV4YW1wbGVcZmlsZS50eHQiIC1BY2xPYmplY3QgJGFjbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Modifying inherited permissions
$acl = Get-Acl -Path &quot;C:\example\file.txt&quot;
$acl.SetAccessRuleProtection($true, $false)
Set-Acl -Path &quot;C:\example\file.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>$acl.SetAccessRuleProtection($true, $false)</code>: Disables inheritance and copies the inherited permissions as explicit permissions.</li>
</ul>
</div><h2>Removing Permissions</h2>
<div class='content'><p>To remove specific permissions, you can use the <code>RemoveAccessRule</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBSZW1vdmluZyBhIHVzZXIncyBwZXJtaXNzaW9uCiRhY2wgPSBHZXQtQWNsIC1QYXRoICJDOlxleGFtcGxlXGZpbGUudHh0IgokcGVybWlzc2lvbiA9ICJET01BSU5cVXNlciIsIkZ1bGxDb250cm9sIiwiQWxsb3ciCiRhY2Nlc3NSdWxlID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5GaWxlU3lzdGVtQWNjZXNzUnVsZSAkcGVybWlzc2lvbgokYWNsLlJlbW92ZUFjY2Vzc1J1bGUoJGFjY2Vzc1J1bGUpClNldC1BY2wgLVBhdGggIkM6XGV4YW1wbGVcZmlsZS50eHQiIC1BY2xPYmplY3QgJGFjbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Removing a user's permission
$acl = Get-Acl -Path &quot;C:\example\file.txt&quot;
$permission = &quot;DOMAIN\User&quot;,&quot;FullControl&quot;,&quot;Allow&quot;
$accessRule = New-Object System.Security.AccessControl.FileSystemAccessRule $permission
$acl.RemoveAccessRule($accessRule)
Set-Acl -Path &quot;C:\example\file.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>$acl.RemoveAccessRule($accessRule)</code>: Removes the specified access rule from the ACL.</li>
</ul>
</div><h1>Advanced File System Security</h1>
<div class='content'></div><h2>Auditing File Access</h2>
<div class='content'><p>Auditing allows you to track access to files and directories. You can configure auditing using the <code>AddAuditRule</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBBdWRpdGluZyBmaWxlIGFjY2VzcwokYWNsID0gR2V0LUFjbCAtUGF0aCAiQzpcZXhhbXBsZVxmaWxlLnR4dCIKJGF1ZGl0UnVsZSA9IE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LkFjY2Vzc0NvbnRyb2wuRmlsZVN5c3RlbUF1ZGl0UnVsZSgiRE9NQUlOXFVzZXIiLCAiUmVhZCIsICJTdWNjZXNzIikKJGFjbC5BZGRBdWRpdFJ1bGUoJGF1ZGl0UnVsZSkKU2V0LUFjbCAtUGF0aCAiQzpcZXhhbXBsZVxmaWxlLnR4dCIgLUFjbE9iamVjdCAkYWNs"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Auditing file access
$acl = Get-Acl -Path &quot;C:\example\file.txt&quot;
$auditRule = New-Object System.Security.AccessControl.FileSystemAuditRule(&quot;DOMAIN\User&quot;, &quot;Read&quot;, &quot;Success&quot;)
$acl.AddAuditRule($auditRule)
Set-Acl -Path &quot;C:\example\file.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>$auditRule</code>: Creates a new audit rule object.</li>
<li><code>$acl.AddAuditRule($auditRule)</code>: Adds the audit rule to the ACL.</li>
</ul>
</div><h2>Managing Ownership</h2>
<div class='content'><p>You can change the ownership of a file or directory using the <code>SetOwner</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBDaGFuZ2luZyBmaWxlIG93bmVyc2hpcAokYWNsID0gR2V0LUFjbCAtUGF0aCAiQzpcZXhhbXBsZVxmaWxlLnR4dCIKJG93bmVyID0gW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50XSJET01BSU5cVXNlciIKJGFjbC5TZXRPd25lcigkb3duZXIpClNldC1BY2wgLVBhdGggIkM6XGV4YW1wbGVcZmlsZS50eHQiIC1BY2xPYmplY3QgJGFjbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Changing file ownership
$acl = Get-Acl -Path &quot;C:\example\file.txt&quot;
$owner = [System.Security.Principal.NTAccount]&quot;DOMAIN\User&quot;
$acl.SetOwner($owner)
Set-Acl -Path &quot;C:\example\file.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>$owner</code>: Specifies the new owner.</li>
<li><code>$acl.SetOwner($owner)</code>: Sets the new owner in the ACL.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, you have learned how to manage file system security using PowerShell. Starting from viewing and setting permissions, you progressed to modifying inherited permissions, removing permissions, auditing file access, and managing ownership. These skills are essential for maintaining a secure file system environment and ensuring that only authorized users have access to sensitive data. Practice these commands and explore further to master file system security in PowerShell.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='managing-file-paths'>&#x25C4;Managing File Paths</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File System Security</a>
	</div>
	<div class='col-4 text-end'>
					<a href='regular-expressions'>Regular Expressions &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
