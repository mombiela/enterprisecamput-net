<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication and Authorization</title>

    <link rel="alternate" href="https://campusempresa.com/rest_api/autenticacion-y-autorizacion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/rest_api/autenticacion-y-autorizacion" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/rest_api/autenticacion-y-autorizacion" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/rest_api/autenticacion-y-autorizacion" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/rest_api/autenticacion-y-autorizacion" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In the development of REST APIs, security is a crucial aspect. Two fundamental concepts to ensure security are authentication and authorization. Although often used interchangeably, they have distinct meanings:</p>
<ul>
<li><strong>Authentication</strong>: Process of verifying the identity of a user or system.</li>
<li><strong>Authorization</strong>: Process of determining if an authenticated user or system has permission to perform a specific action.</li>
</ul>
</div><h1>Authentication</h1>
<div class='content'><p>Authentication is the first step to securing an API. There are several methods to authenticate users in a REST API:</p>
</div><h2>Authentication Methods</h2>
<div class='content'><ol>
<li>
<p><strong>Basic Authentication</strong></p>
<ul>
<li>Sends the username and password in each HTTP request.</li>
<li>Encodes the credentials in Base64.</li>
<li>Not secure by itself; must be used with HTTPS.</li>
</ul>
<pre><code class="language-http">GET /api/resource HTTP/1.1
Host: example.com
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
</code></pre>
</li>
<li>
<p><strong>API Tokens</strong></p>
<ul>
<li>Uses a unique token for each user.</li>
<li>The token is sent in the request header.</li>
</ul>
<pre><code class="language-http">GET /api/resource HTTP/1.1
Host: example.com
Authorization: Bearer your_api_token
</code></pre>
</li>
<li>
<p><strong>OAuth 2.0</strong></p>
<ul>
<li>Authorization protocol that allows applications to obtain limited access to user resources.</li>
<li>Uses access tokens and refresh tokens.</li>
</ul>
<pre><code class="language-http">GET /api/resource HTTP/1.1
Host: example.com
Authorization: Bearer your_oauth_token
</code></pre>
</li>
<li>
<p><strong>JWT (JSON Web Tokens)</strong></p>
<ul>
<li>Compact and self-contained token used to transmit information between two parties.</li>
<li>Includes a signature to verify the integrity and authenticity of the token.</li>
</ul>
<pre><code class="language-http">GET /api/resource HTTP/1.1
Host: example.com
Authorization: Bearer your_jwt_token
</code></pre>
</li>
</ol>
</div><h1>Authorization</h1>
<div class='content'><p>Once a user is authenticated, the next step is authorization. This involves verifying if the user has permissions to access certain resources or perform certain actions.</p>
</div><h2>Authorization Methods</h2>
<div class='content'><ol>
<li>
<p><strong>Roles and Permissions</strong></p>
<ul>
<li>Assigns roles to users (e.g., admin, user, guest).</li>
<li>Defines specific permissions for each role.</li>
</ul>
<pre><code class="language-json">{
  &quot;user&quot;: {
    &quot;role&quot;: &quot;admin&quot;,
    &quot;permissions&quot;: [&quot;read&quot;, &quot;write&quot;, &quot;delete&quot;]
  }
}
</code></pre>
</li>
<li>
<p><strong>Access Control Lists (ACL)</strong></p>
<ul>
<li>Defines permissions at the resource level.</li>
<li>Each resource has a list of users and their associated permissions.</li>
</ul>
<pre><code class="language-json">{
  &quot;resource&quot;: &quot;file123&quot;,
  &quot;acl&quot;: [
    {&quot;user&quot;: &quot;user1&quot;, &quot;permissions&quot;: [&quot;read&quot;]},
    {&quot;user&quot;: &quot;user2&quot;, &quot;permissions&quot;: [&quot;read&quot;, &quot;write&quot;]}
  ]
}
</code></pre>
</li>
<li>
<p><strong>Attribute-Based Access Control (ABAC)</strong></p>
<ul>
<li>Uses attributes of the user, resource, and environment to make authorization decisions.</li>
<li>More flexible and granular than role-based methods.</li>
</ul>
<pre><code class="language-json">{
  &quot;user&quot;: {
    &quot;attributes&quot;: {&quot;department&quot;: &quot;sales&quot;}
  },
  &quot;resource&quot;: {
    &quot;attributes&quot;: {&quot;type&quot;: &quot;report&quot;}
  },
  &quot;environment&quot;: {
    &quot;attributes&quot;: {&quot;time&quot;: &quot;business_hours&quot;}
  },
  &quot;policy&quot;: &quot;allow if user.department == 'sales' and resource.type == 'report' and environment.time == 'business_hours'&quot;
}
</code></pre>
</li>
</ol>
</div><h1>Implementation Examples</h1>
<div class='content'></div><h2>Example of Authentication with JWT</h2>
<div class='content'><ol>
<li>
<p><strong>Token Generation</strong></p>
<pre><code class="language-python">import jwt
import datetime

def generate_token(user_id):
    payload = {
        'user_id': user_id,
        'exp': datetime.datetime.utcnow() + datetime.timedelta(hours=1)
    }
    token = jwt.encode(payload, 'secret_key', algorithm='HS256')
    return token
</code></pre>
</li>
<li>
<p><strong>Token Verification</strong></p>
<pre><code class="language-python">def verify_token(token):
    try:
        payload = jwt.decode(token, 'secret_key', algorithms=['HS256'])
        return payload['user_id']
    except jwt.ExpiredSignatureError:
        return 'Token has expired'
    except jwt.InvalidTokenError:
        return 'Invalid token'
</code></pre>
</li>
</ol>
</div><h2>Example of Role-Based Authorization</h2>
<div class='content'><ol>
<li>
<p><strong>Definition of Roles and Permissions</strong></p>
<pre><code class="language-python">roles_permissions = {
    'admin': ['read', 'write', 'delete'],
    'user': ['read', 'write'],
    'guest': ['read']
}
</code></pre>
</li>
<li>
<p><strong>Permission Verification</strong></p>
<pre><code class="language-python">def check_permission(user_role, permission):
    if permission in roles_permissions.get(user_role, []):
        return True
    return False
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Authentication and authorization are essential components for the security of a REST API. Authentication ensures that only legitimate users can access the API, while authorization ensures that these users can only perform actions for which they have permission. When implementing these mechanisms, it is crucial to choose the appropriate method according to the needs and context of the application, and always use HTTPS to protect credentials and tokens in transit.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
