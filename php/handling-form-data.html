<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Form Data</title>

    <link rel="alternate" href="https://campusempresa.com/php/handling-form-data" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/php/handling-form-data" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/php/handling-form-data" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/php/handling-form-data" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/php/handling-form-data" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='functions-in-php'>&#x25C4;Functions in PHP</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling Form Data</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-validation'>Form Validation &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Handling form data is a crucial aspect of web development in PHP. This topic will guide you through the basics of capturing and processing form data, as well as more advanced techniques for validation and security.</p>
</div><h1>Introduction to Form Handling</h1>
<div class='content'><p>Forms are a fundamental part of web applications, allowing users to submit data that can be processed by the server. PHP provides several ways to handle form data efficiently.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Form Elements</strong>: HTML elements like <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, and <code>&lt;select&gt;</code> that collect user input.</li>
<li><strong>Form Methods</strong>: <code>GET</code> and <code>POST</code> methods used to send form data to the server.</li>
<li><strong>Superglobals</strong>: PHP arrays like <code>$_GET</code> and <code>$_POST</code> that store form data.</li>
</ul>
</div><h1>Creating a Simple Form</h1>
<div class='content'><p>Let's start with a basic HTML form that uses the <code>POST</code> method to send data to a PHP script.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5TaW1wbGUgRm9ybTwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8Zm9ybSBhY3Rpb249InByb2Nlc3NfZm9ybS5waHAiIG1ldGhvZD0icG9zdCI+CiAgICAgICAgPGxhYmVsIGZvcj0ibmFtZSI+TmFtZTo8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFtZSIgbmFtZT0ibmFtZSI+PGJyPjxicj4KICAgICAgICA8bGFiZWwgZm9yPSJlbWFpbCI+RW1haWw6PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJlbWFpbCIgbmFtZT0iZW1haWwiPjxicj48YnI+CiAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCI+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Simple Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;process_form.php&quot; method=&quot;post&quot;&gt;
        &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br&gt;&lt;br&gt;
        &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;
        &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong><code>action</code></strong>: Specifies the PHP script that will process the form data.</li>
<li><strong><code>method</code></strong>: Defines how the form data will be sent (<code>POST</code> in this case).</li>
<li><strong><code>name</code> attribute</strong>: Each input element must have a <code>name</code> attribute to be accessible in the PHP script.</li>
</ul>
</div><h1>Processing Form Data in PHP</h1>
<div class='content'><p>In the <code>process_form.php</code> file, you can access the form data using the <code>$_POST</code> superglobal.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKaWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgJG5hbWUgPSAkX1BPU1RbJ25hbWUnXTsKICAgICRlbWFpbCA9ICRfUE9TVFsnZW1haWwnXTsKCiAgICBlY2hvICJOYW1lOiAiIC4gaHRtbHNwZWNpYWxjaGFycygkbmFtZSkgLiAiPGJyPiI7CiAgICBlY2hvICJFbWFpbDogIiAuIGh0bWxzcGVjaWFsY2hhcnMoJGVtYWlsKSAuICI8YnI+IjsKfQo/Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    $name = $_POST['name'];
    $email = $_POST['email'];

    echo &quot;Name: &quot; . htmlspecialchars($name) . &quot;&lt;br&gt;&quot;;
    echo &quot;Email: &quot; . htmlspecialchars($email) . &quot;&lt;br&gt;&quot;;
}
?&gt;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong><code>$_SERVER[&quot;REQUEST_METHOD&quot;]</code></strong>: Checks if the form was submitted using the <code>POST</code> method.</li>
<li><strong><code>$_POST['name']</code> and <code>$_POST['email']</code></strong>: Access the form data.</li>
<li><strong><code>htmlspecialchars()</code></strong>: Converts special characters to HTML entities to prevent XSS attacks.</li>
</ul>
</div><h1>Validating Form Data</h1>
<div class='content'><p>Validation ensures that the data submitted by the user meets certain criteria before processing it.</p>
</div><h2>Example: Validating Name and Email</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKaWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgJG5hbWUgPSB0cmltKCRfUE9TVFsnbmFtZSddKTsKICAgICRlbWFpbCA9IHRyaW0oJF9QT1NUWydlbWFpbCddKTsKICAgICRlcnJvcnMgPSBbXTsKCiAgICBpZiAoZW1wdHkoJG5hbWUpKSB7CiAgICAgICAgJGVycm9yc1tdID0gIk5hbWUgaXMgcmVxdWlyZWQuIjsKICAgIH0KCiAgICBpZiAoZW1wdHkoJGVtYWlsKSkgewogICAgICAgICRlcnJvcnNbXSA9ICJFbWFpbCBpcyByZXF1aXJlZC4iOwogICAgfSBlbHNlaWYgKCFmaWx0ZXJfdmFyKCRlbWFpbCwgRklMVEVSX1ZBTElEQVRFX0VNQUlMKSkgewogICAgICAgICRlcnJvcnNbXSA9ICJJbnZhbGlkIGVtYWlsIGZvcm1hdC4iOwogICAgfQoKICAgIGlmIChlbXB0eSgkZXJyb3JzKSkgewogICAgICAgIGVjaG8gIk5hbWU6ICIgLiBodG1sc3BlY2lhbGNoYXJzKCRuYW1lKSAuICI8YnI+IjsKICAgICAgICBlY2hvICJFbWFpbDogIiAuIGh0bWxzcGVjaWFsY2hhcnMoJGVtYWlsKSAuICI8YnI+IjsKICAgIH0gZWxzZSB7CiAgICAgICAgZm9yZWFjaCAoJGVycm9ycyBhcyAkZXJyb3IpIHsKICAgICAgICAgICAgZWNobyAkZXJyb3IgLiAiPGJyPiI7CiAgICAgICAgfQogICAgfQp9Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    $name = trim($_POST['name']);
    $email = trim($_POST['email']);
    $errors = [];

    if (empty($name)) {
        $errors[] = &quot;Name is required.&quot;;
    }

    if (empty($email)) {
        $errors[] = &quot;Email is required.&quot;;
    } elseif (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $errors[] = &quot;Invalid email format.&quot;;
    }

    if (empty($errors)) {
        echo &quot;Name: &quot; . htmlspecialchars($name) . &quot;&lt;br&gt;&quot;;
        echo &quot;Email: &quot; . htmlspecialchars($email) . &quot;&lt;br&gt;&quot;;
    } else {
        foreach ($errors as $error) {
            echo $error . &quot;&lt;br&gt;&quot;;
        }
    }
}
?&gt;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong><code>trim()</code></strong>: Removes whitespace from the beginning and end of a string.</li>
<li><strong><code>filter_var()</code></strong>: Validates the email format.</li>
<li><strong>Error Handling</strong>: Collects and displays errors if validation fails.</li>
</ul>
</div><h1>Advanced Form Handling Techniques</h1>
<div class='content'></div><h2>Handling File Uploads</h2>
<div class='content'><p>PHP allows you to handle file uploads through forms. Here's a basic example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5GaWxlIFVwbG9hZCBGb3JtPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxmb3JtIGFjdGlvbj0idXBsb2FkLnBocCIgbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIj4KICAgICAgICA8bGFiZWwgZm9yPSJmaWxlIj5DaG9vc2UgZmlsZTo8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iZmlsZSIgbmFtZT0iZmlsZSI+PGJyPjxicj4KICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iVXBsb2FkIj4KICAgIDwvZm9ybT4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;File Upload Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;upload.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
        &lt;label for=&quot;file&quot;&gt;Choose file:&lt;/label&gt;
        &lt;input type=&quot;file&quot; id=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br&gt;&lt;br&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Upload&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Processing File Uploads</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKaWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgJHRhcmdldF9kaXIgPSAidXBsb2Fkcy8iOwogICAgJHRhcmdldF9maWxlID0gJHRhcmdldF9kaXIgLiBiYXNlbmFtZSgkX0ZJTEVTWyJmaWxlIl1bIm5hbWUiXSk7CiAgICAkdXBsb2FkT2sgPSAxOwogICAgJGZpbGVUeXBlID0gc3RydG9sb3dlcihwYXRoaW5mbygkdGFyZ2V0X2ZpbGUsIFBBVEhJTkZPX0VYVEVOU0lPTikpOwoKICAgIC8vIENoZWNrIGlmIGZpbGUgaXMgYSByZWFsIGltYWdlCiAgICAkY2hlY2sgPSBnZXRpbWFnZXNpemUoJF9GSUxFU1siZmlsZSJdWyJ0bXBfbmFtZSJdKTsKICAgIGlmICgkY2hlY2sgIT09IGZhbHNlKSB7CiAgICAgICAgZWNobyAiRmlsZSBpcyBhbiBpbWFnZSAtICIgLiAkY2hlY2tbIm1pbWUiXSAuICIuPGJyPiI7CiAgICAgICAgJHVwbG9hZE9rID0gMTsKICAgIH0gZWxzZSB7CiAgICAgICAgZWNobyAiRmlsZSBpcyBub3QgYW4gaW1hZ2UuPGJyPiI7CiAgICAgICAgJHVwbG9hZE9rID0gMDsKICAgIH0KCiAgICAvLyBDaGVjayBpZiBmaWxlIGFscmVhZHkgZXhpc3RzCiAgICBpZiAoZmlsZV9leGlzdHMoJHRhcmdldF9maWxlKSkgewogICAgICAgIGVjaG8gIlNvcnJ5LCBmaWxlIGFscmVhZHkgZXhpc3RzLjxicj4iOwogICAgICAgICR1cGxvYWRPayA9IDA7CiAgICB9CgogICAgLy8gQ2hlY2sgZmlsZSBzaXplCiAgICBpZiAoJF9GSUxFU1siZmlsZSJdWyJzaXplIl0gPiA1MDAwMDApIHsKICAgICAgICBlY2hvICJTb3JyeSwgeW91ciBmaWxlIGlzIHRvbyBsYXJnZS48YnI+IjsKICAgICAgICAkdXBsb2FkT2sgPSAwOwogICAgfQoKICAgIC8vIEFsbG93IGNlcnRhaW4gZmlsZSBmb3JtYXRzCiAgICBpZiAoJGZpbGVUeXBlICE9ICJqcGciICYmICRmaWxlVHlwZSAhPSAicG5nIiAmJiAkZmlsZVR5cGUgIT0gImpwZWciICYmICRmaWxlVHlwZSAhPSAiZ2lmIikgewogICAgICAgIGVjaG8gIlNvcnJ5LCBvbmx5IEpQRywgSlBFRywgUE5HICYgR0lGIGZpbGVzIGFyZSBhbGxvd2VkLjxicj4iOwogICAgICAgICR1cGxvYWRPayA9IDA7CiAgICB9CgogICAgLy8gQ2hlY2sgaWYgJHVwbG9hZE9rIGlzIHNldCB0byAwIGJ5IGFuIGVycm9yCiAgICBpZiAoJHVwbG9hZE9rID09IDApIHsKICAgICAgICBlY2hvICJTb3JyeSwgeW91ciBmaWxlIHdhcyBub3QgdXBsb2FkZWQuPGJyPiI7CiAgICAvLyBJZiBldmVyeXRoaW5nIGlzIG9rLCB0cnkgdG8gdXBsb2FkIGZpbGUKICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG1vdmVfdXBsb2FkZWRfZmlsZSgkX0ZJTEVTWyJmaWxlIl1bInRtcF9uYW1lIl0sICR0YXJnZXRfZmlsZSkpIHsKICAgICAgICAgICAgZWNobyAiVGhlIGZpbGUgIi4gaHRtbHNwZWNpYWxjaGFycyhiYXNlbmFtZSgkX0ZJTEVTWyJmaWxlIl1bIm5hbWUiXSkpLiAiIGhhcyBiZWVuIHVwbG9hZGVkLjxicj4iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVjaG8gIlNvcnJ5LCB0aGVyZSB3YXMgYW4gZXJyb3IgdXBsb2FkaW5nIHlvdXIgZmlsZS48YnI+IjsKICAgICAgICB9CiAgICB9Cn0KPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    $target_dir = &quot;uploads/&quot;;
    $target_file = $target_dir . basename($_FILES[&quot;file&quot;][&quot;name&quot;]);
    $uploadOk = 1;
    $fileType = strtolower(pathinfo($target_file, PATHINFO_EXTENSION));

    // Check if file is a real image
    $check = getimagesize($_FILES[&quot;file&quot;][&quot;tmp_name&quot;]);
    if ($check !== false) {
        echo &quot;File is an image - &quot; . $check[&quot;mime&quot;] . &quot;.&lt;br&gt;&quot;;
        $uploadOk = 1;
    } else {
        echo &quot;File is not an image.&lt;br&gt;&quot;;
        $uploadOk = 0;
    }

    // Check if file already exists
    if (file_exists($target_file)) {
        echo &quot;Sorry, file already exists.&lt;br&gt;&quot;;
        $uploadOk = 0;
    }

    // Check file size
    if ($_FILES[&quot;file&quot;][&quot;size&quot;] &gt; 500000) {
        echo &quot;Sorry, your file is too large.&lt;br&gt;&quot;;
        $uploadOk = 0;
    }

    // Allow certain file formats
    if ($fileType != &quot;jpg&quot; &amp;&amp; $fileType != &quot;png&quot; &amp;&amp; $fileType != &quot;jpeg&quot; &amp;&amp; $fileType != &quot;gif&quot;) {
        echo &quot;Sorry, only JPG, JPEG, PNG &amp; GIF files are allowed.&lt;br&gt;&quot;;
        $uploadOk = 0;
    }

    // Check if $uploadOk is set to 0 by an error
    if ($uploadOk == 0) {
        echo &quot;Sorry, your file was not uploaded.&lt;br&gt;&quot;;
    // If everything is ok, try to upload file
    } else {
        if (move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], $target_file)) {
            echo &quot;The file &quot;. htmlspecialchars(basename($_FILES[&quot;file&quot;][&quot;name&quot;])). &quot; has been uploaded.&lt;br&gt;&quot;;
        } else {
            echo &quot;Sorry, there was an error uploading your file.&lt;br&gt;&quot;;
        }
    }
}
?&gt;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong><code>$_FILES</code></strong>: Superglobal array used to handle file uploads.</li>
<li><strong><code>getimagesize()</code></strong>: Checks if the file is an actual image.</li>
<li><strong><code>move_uploaded_file()</code></strong>: Moves the uploaded file to the specified directory.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Handling form data in PHP involves creating HTML forms, capturing and processing the data, validating inputs, and handling file uploads. By mastering these techniques, you can build robust and secure web applications that effectively interact with users. Always remember to validate and sanitize user inputs to maintain the security and integrity of your application.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='functions-in-php'>&#x25C4;Functions in PHP</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling Form Data</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-validation'>Form Validation &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
