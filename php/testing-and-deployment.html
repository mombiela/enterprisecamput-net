<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing and Deployment</title>

    <link rel="alternate" href="https://campusempresa.com/php/testing-and-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/php/testing-and-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/php/testing-and-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/php/testing-and-deployment" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/php/testing-and-deployment" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='implementing-features'>&#x25C4;Implementing Features</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Deployment</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Testing and deployment are crucial aspects of software development. This section will guide you through the basics of testing your PHP applications and deploying them to a production environment. By the end of this section, you will have a solid understanding of how to ensure your PHP code is reliable and how to deploy it efficiently.</p>
</div><h1>Testing in PHP</h1>
<div class='content'></div><h2>Why Testing is Important</h2>
<div class='content'><ul>
<li><strong>Ensures Code Quality</strong>: Helps catch bugs and errors early.</li>
<li><strong>Facilitates Refactoring</strong>: Makes it easier to change code without breaking functionality.</li>
<li><strong>Automates Verification</strong>: Saves time by automating repetitive checks.</li>
</ul>
</div><h2>Types of Testing</h2>
<div class='content'><ul>
<li><strong>Unit Testing</strong>: Tests individual components or functions.</li>
<li><strong>Integration Testing</strong>: Tests how different parts of the application work together.</li>
<li><strong>Functional Testing</strong>: Tests the application from the user's perspective.</li>
</ul>
</div><h2>Setting Up PHPUnit</h2>
<div class='content'><p>PHPUnit is the most widely used testing framework for PHP.</p>
<h4>Installation</h4>
<p>You can install PHPUnit using Composer:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29tcG9zZXIgcmVxdWlyZSAtLWRldiBwaHB1bml0L3BocHVuaXQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>composer require --dev phpunit/phpunit</pre></div><div class='content'><h4>Basic Usage</h4>
<p>Create a test file, e.g., <code>CalculatorTest.php</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdXNlIFBIUFVuaXRcRnJhbWV3b3JrXFRlc3RDYXNlOwoKY2xhc3MgQ2FsY3VsYXRvclRlc3QgZXh0ZW5kcyBUZXN0Q2FzZSB7CiAgICBwdWJsaWMgZnVuY3Rpb24gdGVzdEFkZGl0aW9uKCkgewogICAgICAgICRjYWxjdWxhdG9yID0gbmV3IENhbGN1bGF0b3IoKTsKICAgICAgICAkcmVzdWx0ID0gJGNhbGN1bGF0b3ItPmFkZCgyLCAzKTsKICAgICAgICAkdGhpcy0+YXNzZXJ0RXF1YWxzKDUsICRyZXN1bHQpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
use PHPUnit\Framework\TestCase;

class CalculatorTest extends TestCase {
    public function testAddition() {
        $calculator = new Calculator();
        $result = $calculator-&gt;add(2, 3);
        $this-&gt;assertEquals(5, $result);
    }
}</pre></div><div class='content'><p>Run the test:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmVuZG9yL2Jpbi9waHB1bml0IENhbGN1bGF0b3JUZXN0LnBocA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>vendor/bin/phpunit CalculatorTest.php</pre></div><div class='content'></div><h2>Writing Unit Tests</h2>
<div class='content'><ul>
<li><strong>Arrange</strong>: Set up the conditions for the test.</li>
<li><strong>Act</strong>: Execute the code being tested.</li>
<li><strong>Assert</strong>: Verify that the outcome is as expected.</li>
</ul>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdXNlIFBIUFVuaXRcRnJhbWV3b3JrXFRlc3RDYXNlOwoKY2xhc3MgU3RyaW5nVXRpbHNUZXN0IGV4dGVuZHMgVGVzdENhc2UgewogICAgcHVibGljIGZ1bmN0aW9uIHRlc3RTdHJpbmdSZXZlcnNhbCgpIHsKICAgICAgICAkc3RyaW5nVXRpbHMgPSBuZXcgU3RyaW5nVXRpbHMoKTsKICAgICAgICAkcmVzdWx0ID0gJHN0cmluZ1V0aWxzLT5yZXZlcnNlKCJoZWxsbyIpOwogICAgICAgICR0aGlzLT5hc3NlcnRFcXVhbHMoIm9sbGVoIiwgJHJlc3VsdCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
use PHPUnit\Framework\TestCase;

class StringUtilsTest extends TestCase {
    public function testStringReversal() {
        $stringUtils = new StringUtils();
        $result = $stringUtils-&gt;reverse(&quot;hello&quot;);
        $this-&gt;assertEquals(&quot;olleh&quot;, $result);
    }
}</pre></div><div class='content'></div><h2>Mocking and Stubbing</h2>
<div class='content'><p>Mocks and stubs are used to simulate objects in tests.</p>
<p>Example using Mockery:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdXNlIFBIUFVuaXRcRnJhbWV3b3JrXFRlc3RDYXNlOwp1c2UgTW9ja2VyeSBhcyBtOwoKY2xhc3MgVXNlclNlcnZpY2VUZXN0IGV4dGVuZHMgVGVzdENhc2UgewogICAgcHVibGljIGZ1bmN0aW9uIHRlYXJEb3duKCk6IHZvaWQgewogICAgICAgIG06OmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHRlc3RVc2VyQ3JlYXRpb24oKSB7CiAgICAgICAgJHVzZXJSZXBvID0gbTo6bW9jaygnVXNlclJlcG9zaXRvcnknKTsKICAgICAgICAkdXNlclJlcG8tPnNob3VsZFJlY2VpdmUoJ3NhdmUnKS0+b25jZSgpLT5hbmRSZXR1cm4odHJ1ZSk7CgogICAgICAgICR1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZSgkdXNlclJlcG8pOwogICAgICAgICRyZXN1bHQgPSAkdXNlclNlcnZpY2UtPmNyZWF0ZVVzZXIoJ0pvaG4gRG9lJyk7CgogICAgICAgICR0aGlzLT5hc3NlcnRUcnVlKCRyZXN1bHQpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
use PHPUnit\Framework\TestCase;
use Mockery as m;

class UserServiceTest extends TestCase {
    public function tearDown(): void {
        m::close();
    }

    public function testUserCreation() {
        $userRepo = m::mock('UserRepository');
        $userRepo-&gt;shouldReceive('save')-&gt;once()-&gt;andReturn(true);

        $userService = new UserService($userRepo);
        $result = $userService-&gt;createUser('John Doe');

        $this-&gt;assertTrue($result);
    }
}</pre></div><div class='content'></div><h1>Deployment</h1>
<div class='content'></div><h2>Preparing for Deployment</h2>
<div class='content'><ul>
<li><strong>Code Review</strong>: Ensure all code has been reviewed.</li>
<li><strong>Testing</strong>: Run all tests and ensure they pass.</li>
<li><strong>Environment Configuration</strong>: Set up environment variables and configurations.</li>
</ul>
</div><h2>Deployment Strategies</h2>
<div class='content'><ul>
<li><strong>Manual Deployment</strong>: Copy files manually to the server.</li>
<li><strong>Automated Deployment</strong>: Use tools like GitHub Actions, Jenkins, or GitLab CI/CD.</li>
</ul>
</div><h2>Using Composer for Deployment</h2>
<div class='content'><p>Composer can help manage dependencies and autoloading.</p>
<h4>Example <code>composer.json</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICAgInJlcXVpcmUiOiB7CiAgICAgICAgIm1vbm9sb2cvbW9ub2xvZyI6ICJeMi4wIgogICAgfSwKICAgICJhdXRvbG9hZCI6IHsKICAgICAgICAicHNyLTQiOiB7CiAgICAgICAgICAgICJBcHBcXCI6ICJzcmMvIgogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
    &quot;require&quot;: {
        &quot;monolog/monolog&quot;: &quot;^2.0&quot;
    },
    &quot;autoload&quot;: {
        &quot;psr-4&quot;: {
            &quot;App\\&quot;: &quot;src/&quot;
        }
    }
}</pre></div><div class='content'><h4>Deployment Steps</h4>
<ol>
<li><strong>Install Dependencies</strong>: Run <code>composer install</code> on the server.</li>
<li><strong>Set Up Autoloading</strong>: Ensure autoloading is configured correctly.</li>
<li><strong>Environment Variables</strong>: Use <code>.env</code> files or server environment variables.</li>
</ol>
</div><h2>Continuous Integration and Continuous Deployment (CI/CD)</h2>
<div class='content'><p>CI/CD automates the process of testing and deploying code.</p>
<h4>Example GitHub Actions Workflow</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAtIG5hbWU6IFNldCB1cCBQSFAKICAgICAgdXNlczogc2hpdmFtbWF0aHVyL3NldHVwLXBocEB2MgogICAgICB3aXRoOgogICAgICAgIHBocC12ZXJzaW9uOiAnNy40JwogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IGNvbXBvc2VyIGluc3RhbGwKICAgIC0gbmFtZTogUnVuIHRlc3RzCiAgICAgIHJ1bjogdmVuZG9yL2Jpbi9waHB1bml0CiAgICAtIG5hbWU6IERlcGxveSB0byBTZXJ2ZXIKICAgICAgcnVuOiB8CiAgICAgICAgcnN5bmMgLWF2eiAtLWV4Y2x1ZGUgJ3ZlbmRvcicgLiB1c2VyQHNlcnZlcjovcGF0aC90by9wcm9qZWN0CiAgICAgICAgc3NoIHVzZXJAc2VydmVyICdjZCAvcGF0aC90by9wcm9qZWN0ICYmIGNvbXBvc2VyIGluc3RhbGwgLS1uby1kZXYn"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: '7.4'
    - name: Install dependencies
      run: composer install
    - name: Run tests
      run: vendor/bin/phpunit
    - name: Deploy to Server
      run: |
        rsync -avz --exclude 'vendor' . user@server:/path/to/project
        ssh user@server 'cd /path/to/project &amp;&amp; composer install --no-dev'</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Testing and deployment are essential practices in PHP development. By writing tests, you ensure your code is reliable and maintainable. Deployment strategies, whether manual or automated, help you deliver your application to users efficiently. Implementing CI/CD pipelines further streamlines the process, allowing for continuous integration and deployment. With these skills, you are well-equipped to develop, test, and deploy robust PHP applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementing-features'>&#x25C4;Implementing Features</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Deployment</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
