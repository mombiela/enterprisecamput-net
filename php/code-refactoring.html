<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Refactoring in PHP</title>

    <link rel="alternate" href="https://campusempresa.com/php/code-refactoring" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/php/code-refactoring" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/php/code-refactoring" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/php/code-refactoring" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/php/code-refactoring" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='coding-standards'>&#x25C4;Coding Standards</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Code Refactoring in PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-and-debugging'>Testing and Debugging &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Code Refactoring</h1>
<div class='content'><p>Code refactoring is the process of restructuring existing computer code without changing its external behavior. The main goal is to improve the nonfunctional attributes of the software.</p>
<ul>
<li><strong>Why Refactor?</strong>
<ul>
<li>Improve code readability.</li>
<li>Reduce complexity.</li>
<li>Enhance maintainability.</li>
<li>Optimize performance.</li>
</ul>
</li>
</ul>
</div><h1>Basic Refactoring Techniques</h1>
<div class='content'></div><h2>Renaming Variables and Functions</h2>
<div class='content'><p>Renaming variables and functions to more meaningful names can greatly improve code readability.</p>
<p><strong>Before Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY2FsYygkYSwgJGIpIHsKICAgIHJldHVybiAkYSArICRiOwp9CgokcmVzdWx0ID0gY2FsYyg1LCAxMCk7CmVjaG8gJHJlc3VsdDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function calc($a, $b) {
    return $a + $b;
}

$result = calc(5, 10);
echo $result;</pre></div><div class='content'><p><strong>After Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY2FsY3VsYXRlU3VtKCRmaXJzdE51bWJlciwgJHNlY29uZE51bWJlcikgewogICAgcmV0dXJuICRmaXJzdE51bWJlciArICRzZWNvbmROdW1iZXI7Cn0KCiRyZXN1bHQgPSBjYWxjdWxhdGVTdW0oNSwgMTApOwplY2hvICRyZXN1bHQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function calculateSum($firstNumber, $secondNumber) {
    return $firstNumber + $secondNumber;
}

$result = calculateSum(5, 10);
echo $result;</pre></div><div class='content'></div><h2>Extracting Functions</h2>
<div class='content'><p>Extracting a block of code into a separate function can make the code more modular and easier to understand.</p>
<p><strong>Before Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gcHJvY2Vzc09yZGVyKCRvcmRlcikgewogICAgLy8gVmFsaWRhdGUgb3JkZXIKICAgIGlmIChlbXB0eSgkb3JkZXJbJ2lkJ10pKSB7CiAgICAgICAgcmV0dXJuICdJbnZhbGlkIG9yZGVyIElEJzsKICAgIH0KICAgIAogICAgLy8gUHJvY2VzcyBwYXltZW50CiAgICBpZiAoJG9yZGVyWydhbW91bnQnXSA8PSAwKSB7CiAgICAgICAgcmV0dXJuICdJbnZhbGlkIGFtb3VudCc7CiAgICB9CiAgICAKICAgIHJldHVybiAnT3JkZXIgcHJvY2Vzc2VkJzsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function processOrder($order) {
    // Validate order
    if (empty($order['id'])) {
        return 'Invalid order ID';
    }
    
    // Process payment
    if ($order['amount'] &lt;= 0) {
        return 'Invalid amount';
    }
    
    return 'Order processed';
}</pre></div><div class='content'><p><strong>After Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gdmFsaWRhdGVPcmRlcigkb3JkZXIpIHsKICAgIGlmIChlbXB0eSgkb3JkZXJbJ2lkJ10pKSB7CiAgICAgICAgcmV0dXJuICdJbnZhbGlkIG9yZGVyIElEJzsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBwcm9jZXNzUGF5bWVudCgkYW1vdW50KSB7CiAgICBpZiAoJGFtb3VudCA8PSAwKSB7CiAgICAgICAgcmV0dXJuICdJbnZhbGlkIGFtb3VudCc7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gcHJvY2Vzc09yZGVyKCRvcmRlcikgewogICAgJHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0ZU9yZGVyKCRvcmRlcik7CiAgICBpZiAoJHZhbGlkYXRpb25SZXN1bHQgIT09IHRydWUpIHsKICAgICAgICByZXR1cm4gJHZhbGlkYXRpb25SZXN1bHQ7CiAgICB9CiAgICAKICAgICRwYXltZW50UmVzdWx0ID0gcHJvY2Vzc1BheW1lbnQoJG9yZGVyWydhbW91bnQnXSk7CiAgICBpZiAoJHBheW1lbnRSZXN1bHQgIT09IHRydWUpIHsKICAgICAgICByZXR1cm4gJHBheW1lbnRSZXN1bHQ7CiAgICB9CiAgICAKICAgIHJldHVybiAnT3JkZXIgcHJvY2Vzc2VkJzsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function validateOrder($order) {
    if (empty($order['id'])) {
        return 'Invalid order ID';
    }
    return true;
}

function processPayment($amount) {
    if ($amount &lt;= 0) {
        return 'Invalid amount';
    }
    return true;
}

function processOrder($order) {
    $validationResult = validateOrder($order);
    if ($validationResult !== true) {
        return $validationResult;
    }
    
    $paymentResult = processPayment($order['amount']);
    if ($paymentResult !== true) {
        return $paymentResult;
    }
    
    return 'Order processed';
}</pre></div><div class='content'></div><h1>Intermediate Refactoring Techniques</h1>
<div class='content'></div><h2>Simplifying Conditional Expressions</h2>
<div class='content'><p>Complex conditional expressions can be simplified to make the code more readable.</p>
<p><strong>Before Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCR1c2VyLT5pc0xvZ2dlZEluKCkgJiYgJHVzZXItPmlzQWRtaW4oKSAmJiAhJHVzZXItPmlzU3VzcGVuZGVkKCkpIHsKICAgIC8vIEFkbWluIGFjdGlvbnMKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if ($user-&gt;isLoggedIn() &amp;&amp; $user-&gt;isAdmin() &amp;&amp; !$user-&gt;isSuspended()) {
    // Admin actions
}</pre></div><div class='content'><p><strong>After Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY2FuUGVyZm9ybUFkbWluQWN0aW9ucygkdXNlcikgewogICAgcmV0dXJuICR1c2VyLT5pc0xvZ2dlZEluKCkgJiYgJHVzZXItPmlzQWRtaW4oKSAmJiAhJHVzZXItPmlzU3VzcGVuZGVkKCk7Cn0KCmlmIChjYW5QZXJmb3JtQWRtaW5BY3Rpb25zKCR1c2VyKSkgewogICAgLy8gQWRtaW4gYWN0aW9ucwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function canPerformAdminActions($user) {
    return $user-&gt;isLoggedIn() &amp;&amp; $user-&gt;isAdmin() &amp;&amp; !$user-&gt;isSuspended();
}

if (canPerformAdminActions($user)) {
    // Admin actions
}</pre></div><div class='content'></div><h2>Removing Duplicate Code</h2>
<div class='content'><p>Duplicate code can be refactored into a single function to reduce redundancy.</p>
<p><strong>Before Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY3JlYXRlVXNlcigkbmFtZSwgJGVtYWlsKSB7CiAgICAvLyBDcmVhdGUgdXNlcgogICAgZWNobyAiVXNlciAkbmFtZSB3aXRoIGVtYWlsICRlbWFpbCBjcmVhdGVkLiI7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUFkbWluKCRuYW1lLCAkZW1haWwpIHsKICAgIC8vIENyZWF0ZSBhZG1pbgogICAgZWNobyAiQWRtaW4gJG5hbWUgd2l0aCBlbWFpbCAkZW1haWwgY3JlYXRlZC4iOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function createUser($name, $email) {
    // Create user
    echo &quot;User $name with email $email created.&quot;;
}

function createAdmin($name, $email) {
    // Create admin
    echo &quot;Admin $name with email $email created.&quot;;
}</pre></div><div class='content'><p><strong>After Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY3JlYXRlVXNlcigkbmFtZSwgJGVtYWlsLCAkcm9sZSA9ICdVc2VyJykgewogICAgLy8gQ3JlYXRlIHVzZXIgb3IgYWRtaW4KICAgIGVjaG8gIiRyb2xlICRuYW1lIHdpdGggZW1haWwgJGVtYWlsIGNyZWF0ZWQuIjsKfQoKY3JlYXRlVXNlcignSm9obiBEb2UnLCAnam9obkBleGFtcGxlLmNvbScpOwpjcmVhdGVVc2VyKCdKYW5lIERvZScsICdqYW5lQGV4YW1wbGUuY29tJywgJ0FkbWluJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function createUser($name, $email, $role = 'User') {
    // Create user or admin
    echo &quot;$role $name with email $email created.&quot;;
}

createUser('John Doe', 'john@example.com');
createUser('Jane Doe', 'jane@example.com', 'Admin');</pre></div><div class='content'></div><h1>Advanced Refactoring Techniques</h1>
<div class='content'></div><h2>Applying Design Patterns</h2>
<div class='content'><p>Refactoring code to use design patterns can improve the structure and scalability of the application.</p>
<p><strong>Example: Refactoring to Singleton Pattern</strong></p>
<p><strong>Before Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRGF0YWJhc2UgewogICAgcHVibGljIGZ1bmN0aW9uIGNvbm5lY3QoKSB7CiAgICAgICAgLy8gQ29ubmVjdCB0byBkYXRhYmFzZQogICAgfQp9CgokZGIgPSBuZXcgRGF0YWJhc2UoKTsKJGRiLT5jb25uZWN0KCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Database {
    public function connect() {
        // Connect to database
    }
}

$db = new Database();
$db-&gt;connect();</pre></div><div class='content'><p><strong>After Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRGF0YWJhc2UgewogICAgcHJpdmF0ZSBzdGF0aWMgJGluc3RhbmNlID0gbnVsbDsKCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkgewogICAgICAgIC8vIFByaXZhdGUgY29uc3RydWN0b3IgdG8gcHJldmVudCBtdWx0aXBsZSBpbnN0YW5jZXMKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbmNlKCkgewogICAgICAgIGlmIChzZWxmOjokaW5zdGFuY2UgPT0gbnVsbCkgewogICAgICAgICAgICBzZWxmOjokaW5zdGFuY2UgPSBuZXcgRGF0YWJhc2UoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNlbGY6OiRpbnN0YW5jZTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY29ubmVjdCgpIHsKICAgICAgICAvLyBDb25uZWN0IHRvIGRhdGFiYXNlCiAgICB9Cn0KCiRkYiA9IERhdGFiYXNlOjpnZXRJbnN0YW5jZSgpOwokZGItPmNvbm5lY3QoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Database {
    private static $instance = null;

    private function __construct() {
        // Private constructor to prevent multiple instances
    }

    public static function getInstance() {
        if (self::$instance == null) {
            self::$instance = new Database();
        }
        return self::$instance;
    }

    public function connect() {
        // Connect to database
    }
}

$db = Database::getInstance();
$db-&gt;connect();</pre></div><div class='content'></div><h2>Refactoring for Performance</h2>
<div class='content'><p>Optimizing code for better performance without changing its functionality.</p>
<p><strong>Before Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JG51bWJlcnMgPSByYW5nZSgxLCAxMDAwMDAwKTsKJHN1bSA9IDA7CmZvcmVhY2ggKCRudW1iZXJzIGFzICRudW1iZXIpIHsKICAgICRzdW0gKz0gJG51bWJlcjsKfQplY2hvICRzdW07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$numbers = range(1, 1000000);
$sum = 0;
foreach ($numbers as $number) {
    $sum += $number;
}
echo $sum;</pre></div><div class='content'><p><strong>After Refactoring:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JHN1bSA9IGFycmF5X3N1bShyYW5nZSgxLCAxMDAwMDAwKSk7CmVjaG8gJHN1bTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$sum = array_sum(range(1, 1000000));
echo $sum;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Refactoring is a crucial practice for maintaining and improving the quality of your codebase. By applying various refactoring techniques, you can make your PHP code more readable, maintainable, and efficient. Remember, the goal of refactoring is not to change what the code does, but to improve how it does it. Regularly refactoring your code will lead to a more robust and scalable application.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='coding-standards'>&#x25C4;Coding Standards</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Code Refactoring in PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-and-debugging'>Testing and Debugging &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
