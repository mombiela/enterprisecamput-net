<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integration Testing in TypeScript</title>

    <link rel="alternate" href="https://campusempresa.com/typescript/integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/typescript/integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/typescript/integration-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/typescript/integration-testing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/typescript/integration-testing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing-jest'>&#x25C4;Unit Testing with Jest</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integration Testing in TypeScript</a>
	</div>
	<div class='col-4 text-end'>
					<a href='mocking-tests'>Mocking in Tests &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Integration testing is a crucial aspect of software development that ensures different modules or services within an application work together as expected. In this section, we will explore how to perform integration testing in TypeScript, from basic concepts to advanced techniques.</p>
</div><h1>What is Integration Testing?</h1>
<div class='content'><p>Integration testing involves testing the interaction between different components or modules of an application to ensure they work together correctly. Unlike unit testing, which focuses on individual components, integration testing verifies the combined functionality of multiple components.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Modules/Components</strong>: Individual parts of an application that need to be tested together.</li>
<li><strong>Test Suites</strong>: Collections of test cases that verify the interactions between modules.</li>
<li><strong>Mocks and Stubs</strong>: Tools used to simulate the behavior of real components during testing.</li>
<li><strong>Test Runner</strong>: A tool that executes the tests and reports the results.</li>
</ul>
</div><h1>Setting Up Integration Testing in TypeScript</h1>
<div class='content'><p>Before we dive into writing integration tests, let's set up our environment.</p>
</div><h2>Installing Necessary Packages</h2>
<div class='content'><p>To perform integration testing in TypeScript, you will need the following packages:</p>
<ul>
<li><strong>Jest</strong>: A popular testing framework.</li>
<li><strong>ts-jest</strong>: A TypeScript preprocessor for Jest.</li>
<li><strong>Supertest</strong>: A library for testing HTTP servers.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqZXN0IHRzLWplc3QgQHR5cGVzL2plc3Qgc3VwZXJ0ZXN0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jest ts-jest @types/jest supertest</pre></div><div class='content'></div><h2>Configuring Jest</h2>
<div class='content'><p>Create a <code>jest.config.js</code> file to configure Jest for TypeScript:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlLmV4cG9ydHMgPSB7CiAgcHJlc2V0OiAndHMtamVzdCcsCiAgdGVzdEVudmlyb25tZW50OiAnbm9kZScsCiAgdGVzdE1hdGNoOiBbJyoqLz8oKi4pKyhzcGVjfHRlc3QpLlt0al1zPyh4KSddLAp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  testMatch: ['**/?(*.)+(spec|test).[tj]s?(x)'],
};</pre></div><div class='content'></div><h1>Writing Integration Tests</h1>
<div class='content'><p>Let's write some integration tests for a simple Express application.</p>
</div><h2>Example Application</h2>
<div class='content'><p>Consider a basic Express server with a single endpoint:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC50cwppbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJzsKCmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsKCmFwcC5nZXQoJy9hcGkvZ3JlZXQnLCAocmVxLCByZXMpID0+IHsKICByZXMuanNvbih7IG1lc3NhZ2U6ICdIZWxsbywgV29ybGQhJyB9KTsKfSk7CgpleHBvcnQgZGVmYXVsdCBhcHA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app.ts
import express from 'express';

const app = express();

app.get('/api/greet', (req, res) =&gt; {
  res.json({ message: 'Hello, World!' });
});

export default app;</pre></div><div class='content'></div><h2>Integration Test for the Example Application</h2>
<div class='content'><p>Create a test file to verify the <code>/api/greet</code> endpoint:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gdGVzdHMvYXBwLnRlc3QudHMKaW1wb3J0IHJlcXVlc3QgZnJvbSAnc3VwZXJ0ZXN0JzsKaW1wb3J0IGFwcCBmcm9tICcuLi9zcmMvYXBwJzsKCmRlc2NyaWJlKCdHRVQgL2FwaS9ncmVldCcsICgpID0+IHsKICBpdCgnc2hvdWxkIHJldHVybiBhIGdyZWV0aW5nIG1lc3NhZ2UnLCBhc3luYyAoKSA9PiB7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvZ3JlZXQnKTsKICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTsKICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ0hlbGxvLCBXb3JsZCEnKTsKICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// tests/app.test.ts
import request from 'supertest';
import app from '../src/app';

describe('GET /api/greet', () =&gt; {
  it('should return a greeting message', async () =&gt; {
    const response = await request(app).get('/api/greet');
    expect(response.status).toBe(200);
    expect(response.body.message).toBe('Hello, World!');
  });
});</pre></div><div class='content'></div><h2>Running the Tests</h2>
<div class='content'><p>To run the tests, add a script to your <code>package.json</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("InNjcmlwdHMiOiB7CiAgInRlc3QiOiAiamVzdCIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&quot;scripts&quot;: {
  &quot;test&quot;: &quot;jest&quot;
}</pre></div><div class='content'><p>Then, run the tests using the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm test</pre></div><div class='content'></div><h1>Advanced Integration Testing Techniques</h1>
<div class='content'><p>As your application grows, you may need more advanced techniques to handle complex scenarios.</p>
</div><h2>Using Mocks and Stubs</h2>
<div class='content'><p>Mocks and stubs can simulate the behavior of external services or components. For example, if your application interacts with a database, you can use a mock database during testing.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2RhdGFiYXNlLnRzCmV4cG9ydCBjb25zdCBnZXRVc2VyID0gKGlkOiBudW1iZXIpID0+IHsKICAvLyBTaW11bGF0ZSBkYXRhYmFzZSBjYWxsCiAgcmV0dXJuIHsgaWQsIG5hbWU6ICdKb2huIERvZScgfTsKfTsKCi8vIHRlc3RzL2RhdGFiYXNlLnRlc3QudHMKaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gJy4uL3NyYy9kYXRhYmFzZSc7CgpqZXN0Lm1vY2soJy4uL3NyYy9kYXRhYmFzZScsICgpID0+ICh7CiAgZ2V0VXNlcjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7IGlkOiAxLCBuYW1lOiAnTW9jayBVc2VyJyB9KSwKfSkpOwoKZGVzY3JpYmUoJ0RhdGFiYXNlIE1vY2snLCAoKSA9PiB7CiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBtb2NrIHVzZXInLCAoKSA9PiB7CiAgICBjb25zdCB1c2VyID0gZ2V0VXNlcigxKTsKICAgIGV4cGVjdCh1c2VyLm5hbWUpLnRvQmUoJ01vY2sgVXNlcicpOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/database.ts
export const getUser = (id: number) =&gt; {
  // Simulate database call
  return { id, name: 'John Doe' };
};

// tests/database.test.ts
import { getUser } from '../src/database';

jest.mock('../src/database', () =&gt; ({
  getUser: jest.fn().mockReturnValue({ id: 1, name: 'Mock User' }),
}));

describe('Database Mock', () =&gt; {
  it('should return a mock user', () =&gt; {
    const user = getUser(1);
    expect(user.name).toBe('Mock User');
  });
});</pre></div><div class='content'></div><h2>Testing Asynchronous Code</h2>
<div class='content'><p>Integration tests often involve asynchronous operations. Jest provides utilities to handle asynchronous code.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FzeW5jU2VydmljZS50cwpleHBvcnQgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKCkgPT4gewogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHJlc29sdmUoJ0RhdGEgZmV0Y2hlZCcpOwogICAgfSwgMTAwMCk7CiAgfSk7Cn07CgovLyB0ZXN0cy9hc3luY1NlcnZpY2UudGVzdC50cwppbXBvcnQgeyBmZXRjaERhdGEgfSBmcm9tICcuLi9zcmMvYXN5bmNTZXJ2aWNlJzsKCmRlc2NyaWJlKCdBc3luYyBTZXJ2aWNlJywgKCkgPT4gewogIGl0KCdzaG91bGQgZmV0Y2ggZGF0YScsIGFzeW5jICgpID0+IHsKICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaERhdGEoKTsKICAgIGV4cGVjdChkYXRhKS50b0JlKCdEYXRhIGZldGNoZWQnKTsKICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/asyncService.ts
export const fetchData = async () =&gt; {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      resolve('Data fetched');
    }, 1000);
  });
};

// tests/asyncService.test.ts
import { fetchData } from '../src/asyncService';

describe('Async Service', () =&gt; {
  it('should fetch data', async () =&gt; {
    const data = await fetchData();
    expect(data).toBe('Data fetched');
  });
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Integration testing in TypeScript ensures that different parts of your application work together as expected. By setting up a proper testing environment, writing comprehensive test cases, and using advanced techniques like mocks and asynchronous testing, you can significantly improve the reliability and robustness of your application. Remember, the goal of integration testing is to catch issues that may not be evident in unit tests, providing a higher level of confidence in your codebase.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing-jest'>&#x25C4;Unit Testing with Jest</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integration Testing in TypeScript</a>
	</div>
	<div class='col-4 text-end'>
					<a href='mocking-tests'>Mocking in Tests &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
