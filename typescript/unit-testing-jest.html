<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing with Jest</title>

    <link rel="alternate" href="https://campusempresa.com/typescript/unit-testing-jest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/typescript/unit-testing-jest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/typescript/unit-testing-jest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/typescript/unit-testing-jest" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/typescript/unit-testing-jest" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introduction to Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Integration Testing &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Unit Testing</h1>
<div class='content'><p>Unit testing is a software testing method where individual units or components of a software are tested. The purpose is to validate that each unit of the software performs as expected.</p>
<ul>
<li><strong>Unit</strong>: The smallest testable part of any software.</li>
<li><strong>Unit Test</strong>: A piece of code written by a developer that executes a small part of the code being tested and checks if the results are as expected.</li>
</ul>
</div><h1>Why Use Jest for Unit Testing?</h1>
<div class='content'><p>Jest is a delightful JavaScript testing framework with a focus on simplicity. It works with projects using Babel, TypeScript, Node.js, React, Angular, Vue.js, and more.</p>
<ul>
<li><strong>Zero configuration</strong>: Jest aims to work out of the box.</li>
<li><strong>Snapshots</strong>: Capture the state of your UI to ensure it does not change unexpectedly.</li>
<li><strong>Isolated</strong>: Tests are run in parallel in their own processes to maximize performance.</li>
</ul>
</div><h1>Setting Up Jest with TypeScript</h1>
<div class='content'><p>To get started with Jest in a TypeScript project, follow these steps:</p>
<ol>
<li>
<p><strong>Install Jest and its TypeScript dependencies</strong>:</p>
<pre><code class="language-bash">npm install --save-dev jest ts-jest @types/jest
</code></pre>
</li>
<li>
<p><strong>Configure Jest</strong>:
Create a <code>jest.config.js</code> file in the root of your project:</p>
<pre><code class="language-javascript">module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
};
</code></pre>
</li>
<li>
<p><strong>Add a test script to <code>package.json</code></strong>:</p>
<pre><code class="language-json">&quot;scripts&quot;: {
  &quot;test&quot;: &quot;jest&quot;
}
</code></pre>
</li>
</ol>
</div><h1>Writing Your First Test</h1>
<div class='content'><p>Let's write a simple function and a corresponding test.</p>
</div><h2>Example Function</h2>
<div class='content'><p>Create a file named <code>sum.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IGZ1bmN0aW9uIHN1bShhOiBudW1iZXIsIGI6IG51bWJlcik6IG51bWJlciB7CiAgcmV0dXJuIGEgKyBiOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export function sum(a: number, b: number): number {
  return a + b;
}</pre></div><div class='content'></div><h2>Example Test</h2>
<div class='content'><p>Create a file named <code>sum.test.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc3VtIH0gZnJvbSAnLi9zdW0nOwoKdGVzdCgnYWRkcyAxICsgMiB0byBlcXVhbCAzJywgKCkgPT4gewogIGV4cGVjdChzdW0oMSwgMikpLnRvQmUoMyk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { sum } from './sum';

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});</pre></div><div class='content'></div><h2>Running the Test</h2>
<div class='content'><p>Run the following command to execute your tests:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm test</pre></div><div class='content'></div><h1>Advanced Testing Techniques</h1>
<div class='content'></div><h2>Mocking</h2>
<div class='content'><p>Mocking is a technique to replace complex objects with simplified versions that simulate the behavior of the real objects.</p>
<h4>Example with Mocking</h4>
<p>Suppose you have a function that fetches data from an API:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaERhdGEodXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4gewogIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7CiAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

export async function fetchData(url: string): Promise&lt;any&gt; {
  const response = await axios.get(url);
  return response.data;
}</pre></div><div class='content'><p>You can mock <code>axios</code> in your test:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZmV0Y2hEYXRhIH0gZnJvbSAnLi9mZXRjaERhdGEnOwoKamVzdC5tb2NrKCdheGlvcycpOwpjb25zdCBtb2NrZWRBeGlvcyA9IGF4aW9zIGFzIGplc3QuTW9ja2VkPHR5cGVvZiBheGlvcz47Cgp0ZXN0KCdmZXRjaGVzIHN1Y2Nlc3NmdWxseSBkYXRhIGZyb20gYW4gQVBJJywgYXN5bmMgKCkgPT4gewogIGNvbnN0IGRhdGEgPSB7IG5hbWU6ICdKb2huIERvZScgfTsKICBtb2NrZWRBeGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhIH0pOwoKICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaERhdGEoJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL3VzZXInKTsKICBleHBlY3QocmVzdWx0KS50b0VxdWFsKGRhdGEpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';
import { fetchData } from './fetchData';

jest.mock('axios');
const mockedAxios = axios as jest.Mocked&lt;typeof axios&gt;;

test('fetches successfully data from an API', async () =&gt; {
  const data = { name: 'John Doe' };
  mockedAxios.get.mockResolvedValue({ data });

  const result = await fetchData('https://api.example.com/user');
  expect(result).toEqual(data);
});</pre></div><div class='content'></div><h2>Snapshot Testing</h2>
<div class='content'><p>Snapshot testing is a way to test the UI by comparing the current state of the UI with a previously saved state.</p>
<h4>Example with Snapshot Testing</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlbmRlcmVyIGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInOwppbXBvcnQgTXlDb21wb25lbnQgZnJvbSAnLi9NeUNvbXBvbmVudCc7Cgp0ZXN0KCdyZW5kZXJzIGNvcnJlY3RseScsICgpID0+IHsKICBjb25zdCB0cmVlID0gcmVuZGVyZXIuY3JlYXRlKDxNeUNvbXBvbmVudCAvPikudG9KU09OKCk7CiAgZXhwZWN0KHRyZWUpLnRvTWF0Y2hTbmFwc2hvdCgpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import renderer from 'react-test-renderer';
import MyComponent from './MyComponent';

test('renders correctly', () =&gt; {
  const tree = renderer.create(&lt;MyComponent /&gt;).toJSON();
  expect(tree).toMatchSnapshot();
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Unit testing is an essential part of the software development process, ensuring that individual components work as expected. Jest provides a robust framework for writing and running tests in TypeScript projects, offering features like zero configuration, mocking, and snapshot testing. By integrating Jest into your TypeScript projects, you can improve code quality and maintainability, making your development process more efficient and reliable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introduction to Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Integration Testing &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
