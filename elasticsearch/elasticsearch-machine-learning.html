<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elasticsearch with Machine Learning</title>

    <link rel="alternate" href="https://campusempresa.com/elasticsearch/elasticsearch-machine-learning" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/elasticsearch/elasticsearch-machine-learning" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/elasticsearch/elasticsearch-machine-learning" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/elasticsearch/elasticsearch-machine-learning" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/elasticsearch/elasticsearch-machine-learning" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='elasticsearch-hadoop'>&#x25C4;Elasticsearch with Hadoop</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Elasticsearch with Machine Learning</a>
	</div>
	<div class='col-4 text-end'>
					<a href='custom-analyzers'>Custom Analyzers &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Elasticsearch with Machine Learning</h1>
<div class='content'><p>Elasticsearch is a powerful search and analytics engine, while machine learning (ML) can provide predictive insights and anomaly detection. Combining these two can significantly enhance data analysis capabilities.</p>
<ul>
<li><strong>Elasticsearch</strong>: A distributed, RESTful search and analytics engine.</li>
<li><strong>Machine Learning</strong>: Algorithms and statistical models that enable computers to perform tasks without explicit instructions.</li>
</ul>
</div><h1>Setting Up Elasticsearch for Machine Learning</h1>
<div class='content'><p>Before diving into machine learning with Elasticsearch, ensure you have a running Elasticsearch cluster with the necessary plugins.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>Elasticsearch installed and running.</li>
<li>X-Pack installed (for machine learning features).</li>
</ul>
</div><h2>Installation</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEb3dubG9hZCBhbmQgaW5zdGFsbCBFbGFzdGljc2VhcmNoCndnZXQgaHR0cHM6Ly9hcnRpZmFjdHMuZWxhc3RpYy5jby9kb3dubG9hZHMvZWxhc3RpY3NlYXJjaC9lbGFzdGljc2VhcmNoLTcuMTAuMC1saW51eC14ODZfNjQudGFyLmd6CnRhciAteHpmIGVsYXN0aWNzZWFyY2gtNy4xMC4wLWxpbnV4LXg4Nl82NC50YXIuZ3oKY2QgZWxhc3RpY3NlYXJjaC03LjEwLjAKCiMgU3RhcnQgRWxhc3RpY3NlYXJjaAouL2Jpbi9lbGFzdGljc2VhcmNo"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Download and install Elasticsearch
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.0-linux-x86_64.tar.gz
tar -xzf elasticsearch-7.10.0-linux-x86_64.tar.gz
cd elasticsearch-7.10.0

# Start Elasticsearch
./bin/elasticsearch</pre></div><div class='content'></div><h1>Data Preparation</h1>
<div class='content'><p>Machine learning models require well-prepared data. Elasticsearch provides tools to ingest, transform, and store data efficiently.</p>
</div><h2>Ingesting Data</h2>
<div class='content'><p>Use the Bulk API to ingest large datasets.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCBfYnVsawp7ICJpbmRleCIgOiB7ICJfaW5kZXgiIDogIm15X2luZGV4IiwgIl9pZCIgOiAiMSIgfSB9CnsgImZpZWxkMSIgOiAidmFsdWUxIiwgImZpZWxkMiIgOiAidmFsdWUyIiB9CnsgImluZGV4IiA6IHsgIl9pbmRleCIgOiAibXlfaW5kZXgiLCAiX2lkIiA6ICIyIiB9IH0KeyAiZmllbGQxIiA6ICJ2YWx1ZTMiLCAiZmllbGQyIiA6ICJ2YWx1ZTQiIH0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST _bulk
{ &quot;index&quot; : { &quot;_index&quot; : &quot;my_index&quot;, &quot;_id&quot; : &quot;1&quot; } }
{ &quot;field1&quot; : &quot;value1&quot;, &quot;field2&quot; : &quot;value2&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;my_index&quot;, &quot;_id&quot; : &quot;2&quot; } }
{ &quot;field1&quot; : &quot;value3&quot;, &quot;field2&quot; : &quot;value4&quot; }</pre></div><div class='content'></div><h2>Transforming Data</h2>
<div class='content'><p>Use Ingest Pipelines to preprocess data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF9pbmdlc3QvcGlwZWxpbmUvbXlfcGlwZWxpbmUKewogICJkZXNjcmlwdGlvbiIgOiAiZGVzY3JpYmUgcGlwZWxpbmUiLAogICJwcm9jZXNzb3JzIiA6IFsKICAgIHsKICAgICAgInNldCIgOiB7CiAgICAgICAgImZpZWxkIjogImZpZWxkMyIsCiAgICAgICAgInZhbHVlIjogIm5ld192YWx1ZSIKICAgICAgfQogICAgfQogIF0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _ingest/pipeline/my_pipeline
{
  &quot;description&quot; : &quot;describe pipeline&quot;,
  &quot;processors&quot; : [
    {
      &quot;set&quot; : {
        &quot;field&quot;: &quot;field3&quot;,
        &quot;value&quot;: &quot;new_value&quot;
      }
    }
  ]
}</pre></div><div class='content'></div><h1>Machine Learning Jobs in Elasticsearch</h1>
<div class='content'><p>Elasticsearch allows you to create various machine learning jobs, such as anomaly detection and forecasting.</p>
</div><h2>Anomaly Detection</h2>
<div class='content'><p>Detect unusual patterns in your data.</p>
<h4>Creating an Anomaly Detection Job</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCBfbWwvYW5vbWFseV9kZXRlY3RvcnMvbXlfam9iCnsKICAiZGVzY3JpcHRpb24iOiAiQW5vbWFseSBkZXRlY3Rpb24gam9iIGZvciBteSBkYXRhIiwKICAiYW5hbHlzaXNfY29uZmlnIjogewogICAgImJ1Y2tldF9zcGFuIjogIjE1bSIsCiAgICAiZGV0ZWN0b3JzIjogWwogICAgICB7CiAgICAgICAgImZ1bmN0aW9uIjogIm1lYW4iLAogICAgICAgICJmaWVsZF9uYW1lIjogImZpZWxkMSIKICAgICAgfQogICAgXQogIH0sCiAgImRhdGFfZGVzY3JpcHRpb24iOiB7CiAgICAidGltZV9maWVsZCI6ICJ0aW1lc3RhbXAiCiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST _ml/anomaly_detectors/my_job
{
  &quot;description&quot;: &quot;Anomaly detection job for my data&quot;,
  &quot;analysis_config&quot;: {
    &quot;bucket_span&quot;: &quot;15m&quot;,
    &quot;detectors&quot;: [
      {
        &quot;function&quot;: &quot;mean&quot;,
        &quot;field_name&quot;: &quot;field1&quot;
      }
    ]
  },
  &quot;data_description&quot;: {
    &quot;time_field&quot;: &quot;timestamp&quot;
  }
}</pre></div><div class='content'></div><h2>Forecasting</h2>
<div class='content'><p>Predict future values based on historical data.</p>
<h4>Creating a Forecast Job</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCBfbWwvYW5vbWFseV9kZXRlY3RvcnMvbXlfam9iL19mb3JlY2FzdAp7CiAgImR1cmF0aW9uIjogIjdkIgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST _ml/anomaly_detectors/my_job/_forecast
{
  &quot;duration&quot;: &quot;7d&quot;
}</pre></div><div class='content'></div><h1>Visualizing Machine Learning Results</h1>
<div class='content'><p>Elasticsearch integrates with Kibana to visualize machine learning results.</p>
</div><h2>Setting Up Kibana</h2>
<div class='content'><p>Install and start Kibana.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEb3dubG9hZCBhbmQgaW5zdGFsbCBLaWJhbmEKd2dldCBodHRwczovL2FydGlmYWN0cy5lbGFzdGljLmNvL2Rvd25sb2Fkcy9raWJhbmEva2liYW5hLTcuMTAuMC1saW51eC14ODZfNjQudGFyLmd6CnRhciAteHpmIGtpYmFuYS03LjEwLjAtbGludXgteDg2XzY0LnRhci5negpjZCBraWJhbmEtNy4xMC4wCgojIFN0YXJ0IEtpYmFuYQouL2Jpbi9raWJhbmE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Download and install Kibana
wget https://artifacts.elastic.co/downloads/kibana/kibana-7.10.0-linux-x86_64.tar.gz
tar -xzf kibana-7.10.0-linux-x86_64.tar.gz
cd kibana-7.10.0

# Start Kibana
./bin/kibana</pre></div><div class='content'></div><h2>Creating Visualizations</h2>
<div class='content'><p>Use Kibana to create visualizations for your machine learning jobs.</p>
<ul>
<li><strong>Anomaly Explorer</strong>: Visualize anomalies detected by your jobs.</li>
<li><strong>Single Metric Viewer</strong>: View single metric data and forecasts.</li>
</ul>
</div><h1>Advanced Topics</h1>
<div class='content'><p>Explore more advanced machine learning features in Elasticsearch.</p>
</div><h2>Custom Machine Learning Models</h2>
<div class='content'><p>Integrate custom machine learning models using Elasticsearch's inference capabilities.</p>
<h4>Uploading a Model</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF9tbC90cmFpbmVkX21vZGVscy9teV9tb2RlbAp7CiAgImRlc2NyaXB0aW9uIjogIkN1c3RvbSBtb2RlbCBmb3IgY2xhc3NpZmljYXRpb24iLAogICJpbnB1dCI6IHsKICAgICJmaWVsZF9uYW1lcyI6IFsiZmllbGQxIiwgImZpZWxkMiJdCiAgfSwKICAiZGVmaW5pdGlvbiI6IHsKICAgICJwcmVwcm9jZXNzb3JzIjogW10sCiAgICAidHJhaW5lZF9tb2RlbCI6IHsKICAgICAgInRyZWUiOiB7CiAgICAgICAgImZlYXR1cmVfbmFtZXMiOiBbImZpZWxkMSIsICJmaWVsZDIiXSwKICAgICAgICAidHJlZV9zdHJ1Y3R1cmUiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJub2RlX2luZGV4IjogMCwKICAgICAgICAgICAgInNwbGl0X2ZlYXR1cmUiOiAwLAogICAgICAgICAgICAic3BsaXRfZ2FpbiI6IDAuMSwKICAgICAgICAgICAgInRocmVzaG9sZCI6IDAuNSwKICAgICAgICAgICAgImRlY2lzaW9uX3R5cGUiOiAibHRlIiwKICAgICAgICAgICAgImxlZnRfY2hpbGQiOiAxLAogICAgICAgICAgICAicmlnaHRfY2hpbGQiOiAyCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibm9kZV9pbmRleCI6IDEsCiAgICAgICAgICAgICJsZWFmX3ZhbHVlIjogMC4xCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibm9kZV9pbmRleCI6IDIsCiAgICAgICAgICAgICJsZWFmX3ZhbHVlIjogLTAuMQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _ml/trained_models/my_model
{
  &quot;description&quot;: &quot;Custom model for classification&quot;,
  &quot;input&quot;: {
    &quot;field_names&quot;: [&quot;field1&quot;, &quot;field2&quot;]
  },
  &quot;definition&quot;: {
    &quot;preprocessors&quot;: [],
    &quot;trained_model&quot;: {
      &quot;tree&quot;: {
        &quot;feature_names&quot;: [&quot;field1&quot;, &quot;field2&quot;],
        &quot;tree_structure&quot;: [
          {
            &quot;node_index&quot;: 0,
            &quot;split_feature&quot;: 0,
            &quot;split_gain&quot;: 0.1,
            &quot;threshold&quot;: 0.5,
            &quot;decision_type&quot;: &quot;lte&quot;,
            &quot;left_child&quot;: 1,
            &quot;right_child&quot;: 2
          },
          {
            &quot;node_index&quot;: 1,
            &quot;leaf_value&quot;: 0.1
          },
          {
            &quot;node_index&quot;: 2,
            &quot;leaf_value&quot;: -0.1
          }
        ]
      }
    }
  }
}</pre></div><div class='content'></div><h2>Real-Time Data Analysis</h2>
<div class='content'><p>Implement real-time data analysis using continuous machine learning jobs.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Combining Elasticsearch with machine learning can significantly enhance your data analysis capabilities. By following this guide, you should be able to set up Elasticsearch, prepare your data, create machine learning jobs, and visualize the results. As you advance, explore custom models and real-time data analysis to fully leverage the power of Elasticsearch and machine learning.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='elasticsearch-hadoop'>&#x25C4;Elasticsearch with Hadoop</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Elasticsearch with Machine Learning</a>
	</div>
	<div class='col-4 text-end'>
					<a href='custom-analyzers'>Custom Analyzers &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
