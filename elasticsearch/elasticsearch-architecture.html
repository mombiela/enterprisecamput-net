<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elasticsearch Architecture</title>

    <link rel="alternate" href="https://campusempresa.com/elasticsearch/elasticsearch-architecture" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/elasticsearch/elasticsearch-architecture" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/elasticsearch/elasticsearch-architecture" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/elasticsearch/elasticsearch-architecture" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/elasticsearch/elasticsearch-architecture" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-concepts'>&#x25C4;Basic Concepts: Nodes, Clusters, and Indices</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Elasticsearch Architecture</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-rest-api'>Using the Elasticsearch REST API &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Elasticsearch is a distributed, RESTful search and analytics engine capable of solving a growing number of use cases. Understanding its architecture is crucial for effectively deploying and managing Elasticsearch clusters. This section will cover the fundamental components and concepts of Elasticsearch architecture.</p>
</div><h1>Key Components</h1>
<div class='content'></div><h2>Cluster</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A cluster is a collection of one or more nodes (servers) that together hold your entire data and provide federated indexing and search capabilities.</li>
<li><strong>Cluster Name</strong>: Each cluster is identified by a unique name, which defaults to &quot;elasticsearch&quot;. Nodes can only join clusters with the same name.</li>
</ul>
</div><h2>Node</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A node is a single server that is part of the cluster, stores data, and participates in the clusterâ€™s indexing and search capabilities.</li>
<li><strong>Node Roles</strong>:
<ul>
<li><strong>Master Node</strong>: Responsible for cluster-wide settings and operations.</li>
<li><strong>Data Node</strong>: Stores data and executes data-related operations such as CRUD, search, and aggregations.</li>
<li><strong>Ingest Node</strong>: Preprocesses documents before indexing.</li>
<li><strong>Coordinating Node</strong>: Routes requests, handles search reduce phase, and distributes bulk indexing.</li>
</ul>
</li>
</ul>
</div><h2>Index</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: An index is a collection of documents that have somewhat similar characteristics.</li>
<li><strong>Structure</strong>: An index is identified by a name and contains multiple types (deprecated in newer versions), which in turn contain multiple documents.</li>
</ul>
</div><h2>Document</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A document is a basic unit of information that can be indexed. It is expressed in JSON format.</li>
<li><strong>Example</strong>:
<pre><code class="language-json">{
  &quot;user&quot;: &quot;john_doe&quot;,
  &quot;post_date&quot;: &quot;2023-10-01&quot;,
  &quot;message&quot;: &quot;Elasticsearch is awesome!&quot;
}
</code></pre>
</li>
</ul>
</div><h2>Shard</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: An index can be divided into multiple pieces called shards. Each shard is a fully functional and independent &quot;index&quot; that can be hosted on any node in the cluster.</li>
<li><strong>Types</strong>:
<ul>
<li><strong>Primary Shard</strong>: Original shard where data is indexed.</li>
<li><strong>Replica Shard</strong>: Copy of the primary shard, used for failover and increased search throughput.</li>
</ul>
</li>
</ul>
</div><h2>Replica</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A replica is a copy of a shard, providing redundancy and increasing search performance.</li>
<li><strong>Replica Settings</strong>: Configurable at the index level, allowing you to specify the number of replicas for each primary shard.</li>
</ul>
</div><h1>Data Flow in Elasticsearch</h1>
<div class='content'></div><h2>Indexing Process</h2>
<div class='content'><ol>
<li><strong>Document Submission</strong>: A document is submitted to an index.</li>
<li><strong>Routing</strong>: The document is routed to a primary shard.</li>
<li><strong>Ingestion</strong>: If an ingest node is used, the document is preprocessed.</li>
<li><strong>Storage</strong>: The document is stored in the primary shard and replicated to replica shards.</li>
</ol>
</div><h2>Search Process</h2>
<div class='content'><ol>
<li><strong>Request Routing</strong>: A search request is sent to a coordinating node.</li>
<li><strong>Query Distribution</strong>: The coordinating node forwards the query to the relevant shards.</li>
<li><strong>Execution</strong>: Each shard executes the query and returns results to the coordinating node.</li>
<li><strong>Aggregation</strong>: The coordinating node aggregates the results and returns the final response.</li>
</ol>
</div><h1>Example: Creating an Index and Adding a Document</h1>
<div class='content'></div><h2>Creating an Index</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9teV9pbmRleAp7CiAgInNldHRpbmdzIjogewogICAgIm51bWJlcl9vZl9zaGFyZHMiOiAzLAogICAgIm51bWJlcl9vZl9yZXBsaWNhcyI6IDIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /my_index
{
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 3,
    &quot;number_of_replicas&quot;: 2
  }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This command creates an index named <code>my_index</code> with 3 primary shards and 2 replicas for each shard.</li>
</ul>
</div><h2>Adding a Document</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCAvbXlfaW5kZXgvX2RvYy8xCnsKICAidXNlciI6ICJqb2huX2RvZSIsCiAgInBvc3RfZGF0ZSI6ICIyMDIzLTEwLTAxIiwKICAibWVzc2FnZSI6ICJFbGFzdGljc2VhcmNoIGlzIGF3ZXNvbWUhIgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST /my_index/_doc/1
{
  &quot;user&quot;: &quot;john_doe&quot;,
  &quot;post_date&quot;: &quot;2023-10-01&quot;,
  &quot;message&quot;: &quot;Elasticsearch is awesome!&quot;
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This command adds a document with ID <code>1</code> to the <code>my_index</code> index.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding Elasticsearch architecture is fundamental for efficiently managing and scaling your search and analytics solutions. Key components such as clusters, nodes, indices, documents, shards, and replicas form the backbone of Elasticsearch. By grasping these concepts, you can better design, deploy, and troubleshoot Elasticsearch clusters to meet your specific needs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-concepts'>&#x25C4;Basic Concepts: Nodes, Clusters, and Indices</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Elasticsearch Architecture</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-rest-api'>Using the Elasticsearch REST API &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiÃ¨ncia d'Ãºs i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">EntÃ¨s!</a>
    <a href="/cookies">MÃ©s informaciÃ³</a>
</div>	

	</div>    
</body>
</html>
