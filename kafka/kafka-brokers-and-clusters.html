<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kafka Brokers and Clusters</title>

    <link rel="alternate" href="https://campusempresa.com/kafka/kafka-brokers-and-clusters" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kafka/kafka-brokers-and-clusters" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kafka/kafka-brokers-and-clusters" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kafka/kafka-brokers-and-clusters" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kafka/kafka-brokers-and-clusters" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='producers-and-consumers'>&#x25C4;Producers and Consumers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Kafka Brokers and Clusters</a>
	</div>
	<div class='col-4 text-end'>
					<a href='kafka-message-format'>Kafka Message Format &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Apache Kafka is a distributed streaming platform that allows you to publish, subscribe to, store, and process streams of records in real-time. Understanding Kafka brokers and clusters is essential for setting up and managing a Kafka environment.</p>
</div><h1>Kafka Brokers</h1>
<div class='content'><p>A Kafka broker is a server that stores and serves Kafka topics. Brokers handle all requests from clients (producers and consumers) and ensure data durability and availability.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Broker ID</strong>: Each broker in a Kafka cluster has a unique identifier.</li>
<li><strong>Leader and Follower</strong>: For each partition, one broker is designated as the leader, and others are followers. The leader handles all reads and writes, while followers replicate the data.</li>
<li><strong>Replication</strong>: Data is replicated across multiple brokers to ensure fault tolerance.</li>
</ul>
</div><h2>Example Configuration</h2>
<div class='content'><p>Here is an example of a Kafka broker configuration file (<code>server.properties</code>):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YnJva2VyLmlkPTEKbG9nLmRpcnM9L3Zhci9saWIva2Fma2EKem9va2VlcGVyLmNvbm5lY3Q9bG9jYWxob3N0OjIxODEKbnVtLm5ldHdvcmsudGhyZWFkcz0zCm51bS5pby50aHJlYWRzPTgKc29ja2V0LnNlbmQuYnVmZmVyLmJ5dGVzPTEwMjQwMApzb2NrZXQucmVjZWl2ZS5idWZmZXIuYnl0ZXM9MTAyNDAwCnNvY2tldC5yZXF1ZXN0Lm1heC5ieXRlcz0xMDQ4NTc2MDA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>broker.id=1
log.dirs=/var/lib/kafka
zookeeper.connect=localhost:2181
num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>broker.id</code>: Unique ID for the broker.</li>
<li><code>log.dirs</code>: Directory where Kafka logs are stored.</li>
<li><code>zookeeper.connect</code>: Zookeeper connection string.</li>
<li><code>num.network.threads</code>: Number of threads for network processing.</li>
<li><code>num.io.threads</code>: Number of threads for I/O processing.</li>
<li><code>socket.send.buffer.bytes</code> and <code>socket.receive.buffer.bytes</code>: Buffer sizes for network requests.</li>
<li><code>socket.request.max.bytes</code>: Maximum size of a request.</li>
</ul>
</div><h1>Kafka Clusters</h1>
<div class='content'><p>A Kafka cluster is a group of brokers working together. Clusters provide scalability and fault tolerance.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Cluster Size</strong>: The number of brokers in a cluster.</li>
<li><strong>Partitioning</strong>: Topics are divided into partitions, which are distributed across brokers.</li>
<li><strong>Replication Factor</strong>: The number of copies of each partition.</li>
</ul>
</div><h2>Example Cluster Setup</h2>
<div class='content'><p>Consider a Kafka cluster with 3 brokers. Here is how you might configure the brokers:</p>
<h4>Broker 1 (<code>server-1.properties</code>)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YnJva2VyLmlkPTEKbG9nLmRpcnM9L3Zhci9saWIva2Fma2EtbG9ncy0xCnpvb2tlZXBlci5jb25uZWN0PWxvY2FsaG9zdDoyMTgx"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>broker.id=1
log.dirs=/var/lib/kafka-logs-1
zookeeper.connect=localhost:2181</pre></div><div class='content'><h4>Broker 2 (<code>server-2.properties</code>)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YnJva2VyLmlkPTIKbG9nLmRpcnM9L3Zhci9saWIva2Fma2EtbG9ncy0yCnpvb2tlZXBlci5jb25uZWN0PWxvY2FsaG9zdDoyMTgx"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>broker.id=2
log.dirs=/var/lib/kafka-logs-2
zookeeper.connect=localhost:2181</pre></div><div class='content'><h4>Broker 3 (<code>server-3.properties</code>)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YnJva2VyLmlkPTMKbG9nLmRpcnM9L3Zhci9saWIva2Fma2EtbG9ncy0zCnpvb2tlZXBlci5jb25uZWN0PWxvY2FsaG9zdDoyMTgx"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>broker.id=3
log.dirs=/var/lib/kafka-logs-3
zookeeper.connect=localhost:2181</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>Each broker has a unique <code>broker.id</code>.</li>
<li>Each broker stores logs in a different directory.</li>
<li>All brokers connect to the same Zookeeper instance.</li>
</ul>
</div><h2>Cluster Management</h2>
<div class='content'><ul>
<li><strong>Adding Brokers</strong>: You can add new brokers to a cluster to increase capacity.</li>
<li><strong>Removing Brokers</strong>: Brokers can be removed for maintenance or scaling down.</li>
<li><strong>Rebalancing</strong>: When brokers are added or removed, partitions need to be rebalanced across the cluster.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding Kafka brokers and clusters is fundamental for managing a Kafka environment. Brokers are the individual servers that store and serve data, while clusters are groups of brokers that work together to provide scalability and fault tolerance. Proper configuration and management of brokers and clusters ensure that your Kafka setup is robust and efficient.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='producers-and-consumers'>&#x25C4;Producers and Consumers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Kafka Brokers and Clusters</a>
	</div>
	<div class='col-4 text-end'>
					<a href='kafka-message-format'>Kafka Message Format &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
