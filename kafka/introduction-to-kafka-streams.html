<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Kafka Streams</title>

    <link rel="alternate" href="https://campusempresa.com/kafka/introduction-to-kafka-streams" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kafka/introduction-to-kafka-streams" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kafka/introduction-to-kafka-streams" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kafka/introduction-to-kafka-streams" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kafka/introduction-to-kafka-streams" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='offset-management'>&#x25C4;Offset Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Kafka Streams</a>
	</div>
	<div class='col-4 text-end'>
					<a href='stream-processing-concepts'>Stream Processing Concepts &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Kafka Streams is a powerful library for building stream processing applications and microservices. It allows you to process real-time data with ease, leveraging the power of Apache Kafka. This topic will introduce you to the basics of Kafka Streams, its architecture, and how to create a simple Kafka Streams application.</p>
</div><h1>What is Kafka Streams?</h1>
<div class='content'><p>Kafka Streams is a client library for building applications and microservices, where the input and output data are stored in Kafka clusters. It combines the simplicity of writing and deploying standard Java and Scala applications on the client side with the benefits of Kafka's server-side cluster technology.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Stream</strong>: An unbounded, continuously updating sequence of records.</li>
<li><strong>Table</strong>: A view of a stream as a changelog, representing the latest state of each key.</li>
<li><strong>Topology</strong>: A graph of stream processing nodes that represents the computation logic.</li>
<li><strong>Processor</strong>: A node in the topology that processes records.</li>
<li><strong>State Store</strong>: A local database that stores the state of a stream processing application.</li>
</ul>
</div><h1>Kafka Streams Architecture</h1>
<div class='content'><p>Kafka Streams applications are built around a few core concepts:</p>
<ul>
<li><strong>Streams and Tables</strong>: Streams are the core abstraction in Kafka Streams, representing an unbounded sequence of records. Tables are derived from streams and represent the latest state of each key.</li>
<li><strong>Topology</strong>: The topology defines the stream processing logic, consisting of sources, processors, and sinks.</li>
<li><strong>Stateful Processing</strong>: Kafka Streams supports stateful processing, allowing you to maintain and query state within your application.</li>
</ul>
</div><h2>Example Architecture</h2>
<div class='content'><p>| Component       | Description                                                                 |
|-----------------|-----------------------------------------------------------------------------|
| Source Processor| Reads data from Kafka topics.                                               |
| Stream Processor| Processes the data, applying transformations, filters, and aggregations.    |
| Sink Processor  | Writes the processed data back to Kafka topics or external systems.         |
| State Store     | Maintains state for stateful processing, such as aggregations or joins.     |</p>
</div><h1>Creating a Simple Kafka Streams Application</h1>
<div class='content'><p>Let's walk through the steps to create a simple Kafka Streams application that reads data from a Kafka topic, processes it, and writes the results to another Kafka topic.</p>
</div><h2>Step 1: Set Up Your Project</h2>
<div class='content'><p>First, create a new Maven or Gradle project and add the Kafka Streams dependency to your <code>pom.xml</code> or <code>build.gradle</code> file.</p>
<p><strong>Maven:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuYXBhY2hlLmthZmthPC9ncm91cElkPgogICAgPGFydGlmYWN0SWQ+a2Fma2Etc3RyZWFtczwvYXJ0aWZhY3RJZD4KICAgIDx2ZXJzaW9uPjMuMC4wPC92ZXJzaW9uPgo8L2RlcGVuZGVuY3k+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;
    &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</pre></div><div class='content'><p><strong>Gradle:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wbGVtZW50YXRpb24gJ29yZy5hcGFjaGUua2Fma2E6a2Fma2Etc3RyZWFtczozLjAuMCc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>implementation 'org.apache.kafka:kafka-streams:3.0.0'</pre></div><div class='content'></div><h2>Step 2: Define the Stream Processing Topology</h2>
<div class='content'><p>Create a class to define your stream processing topology. In this example, we'll read from an input topic, convert the values to uppercase, and write the results to an output topic.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUua2Fma2Euc3RyZWFtcy5LYWZrYVN0cmVhbXM7CmltcG9ydCBvcmcuYXBhY2hlLmthZmthLnN0cmVhbXMuU3RyZWFtc0J1aWxkZXI7CmltcG9ydCBvcmcuYXBhY2hlLmthZmthLnN0cmVhbXMuU3RyZWFtc0NvbmZpZzsKaW1wb3J0IG9yZy5hcGFjaGUua2Fma2Euc3RyZWFtcy5rc3RyZWFtLktTdHJlYW07CgppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7CgpwdWJsaWMgY2xhc3MgU2ltcGxlS2Fma2FTdHJlYW1zQXBwIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBQcm9wZXJ0aWVzIHByb3BzID0gbmV3IFByb3BlcnRpZXMoKTsKICAgICAgICBwcm9wcy5wdXQoU3RyZWFtc0NvbmZpZy5BUFBMSUNBVElPTl9JRF9DT05GSUcsICJzdHJlYW1zLWV4YW1wbGUiKTsKICAgICAgICBwcm9wcy5wdXQoU3RyZWFtc0NvbmZpZy5CT09UU1RSQVBfU0VSVkVSU19DT05GSUcsICJsb2NhbGhvc3Q6OTA5MiIpOwogICAgICAgIHByb3BzLnB1dChTdHJlYW1zQ29uZmlnLkRFRkFVTFRfS0VZX1NFUkRFX0NMQVNTX0NPTkZJRywgIm9yZy5hcGFjaGUua2Fma2EuY29tbW9uLnNlcmlhbGl6YXRpb24uU2VyZGVzJFN0cmluZ1NlcmRlIik7CiAgICAgICAgcHJvcHMucHV0KFN0cmVhbXNDb25maWcuREVGQVVMVF9WQUxVRV9TRVJERV9DTEFTU19DT05GSUcsICJvcmcuYXBhY2hlLmthZmthLmNvbW1vbi5zZXJpYWxpemF0aW9uLlNlcmRlcyRTdHJpbmdTZXJkZSIpOwoKICAgICAgICBTdHJlYW1zQnVpbGRlciBidWlsZGVyID0gbmV3IFN0cmVhbXNCdWlsZGVyKCk7CiAgICAgICAgS1N0cmVhbTxTdHJpbmcsIFN0cmluZz4gc291cmNlU3RyZWFtID0gYnVpbGRlci5zdHJlYW0oImlucHV0LXRvcGljIik7CiAgICAgICAgS1N0cmVhbTxTdHJpbmcsIFN0cmluZz4gdXBwZXJjYXNlZFN0cmVhbSA9IHNvdXJjZVN0cmVhbS5tYXBWYWx1ZXModmFsdWUgLT4gdmFsdWUudG9VcHBlckNhc2UoKSk7CiAgICAgICAgdXBwZXJjYXNlZFN0cmVhbS50bygib3V0cHV0LXRvcGljIik7CgogICAgICAgIEthZmthU3RyZWFtcyBzdHJlYW1zID0gbmV3IEthZmthU3RyZWFtcyhidWlsZGVyLmJ1aWxkKCksIHByb3BzKTsKICAgICAgICBzdHJlYW1zLnN0YXJ0KCk7CgogICAgICAgIFJ1bnRpbWUuZ2V0UnVudGltZSgpLmFkZFNodXRkb3duSG9vayhuZXcgVGhyZWFkKHN0cmVhbXM6OmNsb3NlKSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.kafka.streams.KafkaStreams;
import org.apache.kafka.streams.StreamsBuilder;
import org.apache.kafka.streams.StreamsConfig;
import org.apache.kafka.streams.kstream.KStream;

import java.util.Properties;

public class SimpleKafkaStreamsApp {
    public static void main(String[] args) {
        Properties props = new Properties();
        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;streams-example&quot;);
        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);
        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;);
        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;);

        StreamsBuilder builder = new StreamsBuilder();
        KStream&lt;String, String&gt; sourceStream = builder.stream(&quot;input-topic&quot;);
        KStream&lt;String, String&gt; uppercasedStream = sourceStream.mapValues(value -&gt; value.toUpperCase());
        uppercasedStream.to(&quot;output-topic&quot;);

        KafkaStreams streams = new KafkaStreams(builder.build(), props);
        streams.start();

        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));
    }
}</pre></div><div class='content'></div><h2>Step 3: Run Your Application</h2>
<div class='content'><p>Compile and run your application. Ensure that your Kafka cluster is running and the input and output topics exist.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXZuIGNsZWFuIHBhY2thZ2UKamF2YSAtY3AgdGFyZ2V0L3lvdXItYXBwLWphci13aXRoLWRlcGVuZGVuY2llcy5qYXIgY29tLnlvdXJwYWNrYWdlLlNpbXBsZUthZmthU3RyZWFtc0FwcA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mvn clean package
java -cp target/your-app-jar-with-dependencies.jar com.yourpackage.SimpleKafkaStreamsApp</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this topic, we introduced Kafka Streams, its key concepts, and its architecture. We also walked through the steps to create a simple Kafka Streams application. Kafka Streams is a powerful tool for real-time data processing, and understanding its basics is the first step towards building complex stream processing applications. In the next sections, we will dive deeper into advanced features and use cases of Kafka Streams.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='offset-management'>&#x25C4;Offset Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Kafka Streams</a>
	</div>
	<div class='col-4 text-end'>
					<a href='stream-processing-concepts'>Stream Processing Concepts &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
