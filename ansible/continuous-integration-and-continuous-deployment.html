<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuous Integration and Continuous Deployment (CI/CD) with Ansible</title>

    <link rel="alternate" href="https://campusempresa.com/ansible/continuous-integration-and-continuous-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/ansible/continuous-integration-and-continuous-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/ansible/continuous-integration-and-continuous-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/ansible/continuous-integration-and-continuous-deployment" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/ansible/continuous-integration-and-continuous-deployment" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-provisioning'>&#x25C4;Cloud Provisioning</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Continuous Integration and Continuous Deployment (CI/CD) with Ansible</a>
	</div>
	<div class='col-4 text-end'>
					<a href='writing-clean-and-maintainable-playbooks'>Writing Clean and Maintainable Playbooks &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to CI/CD</h1>
<div class='content'><p>Continuous Integration (CI) and Continuous Deployment (CD) are essential practices in modern software development. They aim to automate the process of integrating code changes, testing, and deploying applications to production environments. Ansible, a powerful automation tool, can be used to streamline these processes.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Continuous Integration (CI)</strong>: The practice of frequently integrating code changes into a shared repository, followed by automated builds and tests.</li>
<li><strong>Continuous Deployment (CD)</strong>: The practice of automatically deploying every change that passes the automated tests to production.</li>
<li><strong>Ansible</strong>: An open-source automation tool used for configuration management, application deployment, and task automation.</li>
</ul>
</div><h1>Setting Up Ansible for CI/CD</h1>
<h2>Prerequisites</h2>
<div class='content'><ul>
<li>Ansible installed on your local machine or CI server.</li>
<li>A version control system (e.g., Git) for managing your codebase.</li>
<li>A CI/CD platform (e.g., Jenkins, GitLab CI, GitHub Actions).</li>
</ul>
</div><h2>Basic Ansible Playbook Structure</h2>
<div class='content'><p>An Ansible playbook is a YAML file that defines a series of tasks to be executed on remote hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRGVwbG95IGFwcGxpY2F0aW9uCiAgaG9zdHM6IHdlYnNlcnZlcnMKICBiZWNvbWU6IHllcwogIHRhc2tzOgogICAgLSBuYW1lOiBFbnN1cmUgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBhcHBsaWNhdGlvbiBpcyBwdWxsZWQKICAgICAgZ2l0OgogICAgICAgIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20veW91ci1yZXBvL3lvdXItYXBwLmdpdCcKICAgICAgICBkZXN0OiAvdmFyL3d3dy95b3VyLWFwcAogICAgICAgIHZlcnNpb246IG1hc3RlcgoKICAgIC0gbmFtZTogSW5zdGFsbCBkZXBlbmRlbmNpZXMKICAgICAgY29tbWFuZDogbnBtIGluc3RhbGwKICAgICAgYXJnczoKICAgICAgICBjaGRpcjogL3Zhci93d3cveW91ci1hcHAKCiAgICAtIG5hbWU6IFJlc3RhcnQgdGhlIHdlYiBzZXJ2ZXIKICAgICAgc2VydmljZToKICAgICAgICBuYW1lOiBhcGFjaGUyCiAgICAgICAgc3RhdGU6IHJlc3RhcnRlZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Deploy application
  hosts: webservers
  become: yes
  tasks:
    - name: Ensure the latest version of the application is pulled
      git:
        repo: 'https://github.com/your-repo/your-app.git'
        dest: /var/www/your-app
        version: master

    - name: Install dependencies
      command: npm install
      args:
        chdir: /var/www/your-app

    - name: Restart the web server
      service:
        name: apache2
        state: restarted</pre></div><div class='content'></div><h2>Integrating Ansible with CI Tools</h2>
<div class='content'><h4>Example: Jenkins</h4>
<ol>
<li><strong>Install Ansible Plugin</strong>: Ensure the Ansible plugin is installed in Jenkins.</li>
<li><strong>Create a Jenkins Pipeline</strong>: Define a Jenkinsfile in your repository.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQ2hlY2tvdXQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGdpdCAnaHR0cHM6Ly9naXRodWIuY29tL3lvdXItcmVwby95b3VyLWFwcC5naXQnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ0luc3RhbGwgQW5zaWJsZScpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgc2ggJ3N1ZG8gYXB0LWdldCB1cGRhdGUgJiYgc3VkbyBhcHQtZ2V0IGluc3RhbGwgLXkgYW5zaWJsZScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnUnVuIEFuc2libGUgUGxheWJvb2snKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGFuc2libGVQbGF5Ym9vaygKICAgICAgICAgICAgICAgICAgICBwbGF5Ym9vazogJ2RlcGxveS55bWwnLAogICAgICAgICAgICAgICAgICAgIGludmVudG9yeTogJ2ludmVudG9yeS9ob3N0cycKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                git 'https://github.com/your-repo/your-app.git'
            }
        }
        stage('Install Ansible') {
            steps {
                sh 'sudo apt-get update &amp;&amp; sudo apt-get install -y ansible'
            }
        }
        stage('Run Ansible Playbook') {
            steps {
                ansiblePlaybook(
                    playbook: 'deploy.yml',
                    inventory: 'inventory/hosts'
                )
            }
        }
    }
}</pre></div><div class='content'><h4>Example: GitLab CI</h4>
<ol>
<li><strong>Define .gitlab-ci.yml</strong>: Create a <code>.gitlab-ci.yml</code> file in your repository.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RhZ2VzOgogIC0gZGVwbG95CgpkZXBsb3k6CiAgc3RhZ2U6IGRlcGxveQogIHNjcmlwdDoKICAgIC0gYXB0LWdldCB1cGRhdGUgLXFxICYmIGFwdC1nZXQgaW5zdGFsbCAtcXEgLXkgYW5zaWJsZQogICAgLSBhbnNpYmxlLXBsYXlib29rIC1pIGludmVudG9yeS9ob3N0cyBkZXBsb3kueW1sCiAgb25seToKICAgIC0gbWFzdGVy"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>stages:
  - deploy

deploy:
  stage: deploy
  script:
    - apt-get update -qq &amp;&amp; apt-get install -qq -y ansible
    - ansible-playbook -i inventory/hosts deploy.yml
  only:
    - master</pre></div><div class='content'></div><h2>Advanced Ansible Techniques for CI/CD</h2>
<div class='content'><ul>
<li><strong>Roles</strong>: Organize your playbooks into reusable roles.</li>
<li><strong>Vault</strong>: Secure sensitive data using Ansible Vault.</li>
<li><strong>Dynamic Inventory</strong>: Use dynamic inventory scripts to manage hosts in cloud environments.</li>
</ul>
<h4>Example: Using Roles</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRGVwbG95IGFwcGxpY2F0aW9uCiAgaG9zdHM6IHdlYnNlcnZlcnMKICBiZWNvbWU6IHllcwogIHJvbGVzOgogICAgLSB7IHJvbGU6IGdpdCB9CiAgICAtIHsgcm9sZTogbnBtIH0KICAgIC0geyByb2xlOiBhcGFjaGUgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Deploy application
  hosts: webservers
  become: yes
  roles:
    - { role: git }
    - { role: npm }
    - { role: apache }</pre></div><div class='content'><h4>Example: Using Ansible Vault</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCBjcmVhdGUgc2VjcmV0LnltbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault create secret.yml</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRGVwbG95IGFwcGxpY2F0aW9uCiAgaG9zdHM6IHdlYnNlcnZlcnMKICBiZWNvbWU6IHllcwogIHZhcnNfZmlsZXM6CiAgICAtIHNlY3JldC55bWwKICB0YXNrczoKICAgIC0gbmFtZTogRW5zdXJlIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiB0aGUgYXBwbGljYXRpb24gaXMgcHVsbGVkCiAgICAgIGdpdDoKICAgICAgICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3lvdXItcmVwby95b3VyLWFwcC5naXQnCiAgICAgICAgZGVzdDogL3Zhci93d3cveW91ci1hcHAKICAgICAgICB2ZXJzaW9uOiBtYXN0ZXIKICAgICAgICBrZXlfZmlsZTogInt7IHZhdWx0X3NzaF9rZXkgfX0i"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Deploy application
  hosts: webservers
  become: yes
  vars_files:
    - secret.yml
  tasks:
    - name: Ensure the latest version of the application is pulled
      git:
        repo: 'https://github.com/your-repo/your-app.git'
        dest: /var/www/your-app
        version: master
        key_file: &quot;{{ vault_ssh_key }}&quot;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Ansible is a versatile tool that can significantly enhance your CI/CD pipelines by automating the deployment process. By integrating Ansible with popular CI/CD platforms like Jenkins and GitLab CI, you can ensure that your applications are consistently and reliably deployed. As you advance, leveraging Ansible's advanced features such as roles, vault, and dynamic inventory will further streamline and secure your deployment processes.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-provisioning'>&#x25C4;Cloud Provisioning</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Continuous Integration and Continuous Deployment (CI/CD) with Ansible</a>
	</div>
	<div class='col-4 text-end'>
					<a href='writing-clean-and-maintainable-playbooks'>Writing Clean and Maintainable Playbooks &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
