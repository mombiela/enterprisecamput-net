<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Playbooks</title>

    <link rel="alternate" href="https://campusempresa.com/ansible/introduction-to-playbooks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/ansible/introduction-to-playbooks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/ansible/introduction-to-playbooks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/ansible/introduction-to-playbooks" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/ansible/introduction-to-playbooks" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='understanding-inventory'>&#x25C4;Understanding Inventory</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Playbooks</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ansible-modules'>Ansible Modules &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>What is a Playbook?</h1>
<div class='content'><p>Ansible Playbooks are YAML files that define a series of tasks to be executed on remote hosts. They are the core component of Ansible's configuration, deployment, and orchestration capabilities. Playbooks allow you to describe the desired state of your systems in a human-readable format.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>YAML Syntax</strong>: Playbooks are written in YAML, a human-readable data serialization standard.</li>
<li><strong>Tasks</strong>: Individual actions that Ansible executes, such as installing a package or copying a file.</li>
<li><strong>Modules</strong>: Reusable, standalone scripts that Ansible runs on your behalf. Each task uses a module.</li>
<li><strong>Handlers</strong>: Special tasks that are triggered by other tasks.</li>
<li><strong>Variables</strong>: Used to store values that can be reused throughout the playbook.</li>
<li><strong>Templates</strong>: Files that contain variables and are processed by Ansible to produce configuration files.</li>
</ul>
</div><h1>Basic Structure of a Playbook</h1>
<div class='content'><p>A simple playbook consists of one or more plays. Each play targets a group of hosts and defines tasks to be executed on those hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRW5zdXJlIEFwYWNoZSBpcyBpbnN0YWxsZWQKICBob3N0czogd2Vic2VydmVycwogIGJlY29tZTogeWVzCgogIHRhc2tzOgogICAgLSBuYW1lOiBJbnN0YWxsIEFwYWNoZQogICAgICBhcHQ6CiAgICAgICAgbmFtZTogYXBhY2hlMgogICAgICAgIHN0YXRlOiBwcmVzZW50CgogICAgLSBuYW1lOiBTdGFydCBBcGFjaGUgc2VydmljZQogICAgICBzZXJ2aWNlOgogICAgICAgIG5hbWU6IGFwYWNoZTIKICAgICAgICBzdGF0ZTogc3RhcnRlZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Ensure Apache is installed
  hosts: webservers
  become: yes

  tasks:
    - name: Install Apache
      apt:
        name: apache2
        state: present

    - name: Start Apache service
      service:
        name: apache2
        state: started</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>name</strong>: A description of the play.</li>
<li><strong>hosts</strong>: The group of hosts the play is targeting.</li>
<li><strong>become</strong>: Indicates whether to use privilege escalation (e.g., sudo).</li>
<li><strong>tasks</strong>: A list of tasks to be executed.</li>
</ul>
</div><h2>Tasks and Modules</h2>
<div class='content'><p>Tasks are the building blocks of a playbook. Each task uses a module to perform a specific action.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGFza3M6CiAgLSBuYW1lOiBJbnN0YWxsIEFwYWNoZQogICAgYXB0OgogICAgICBuYW1lOiBhcGFjaGUyCiAgICAgIHN0YXRlOiBwcmVzZW50"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>tasks:
  - name: Install Apache
    apt:
      name: apache2
      state: present</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><strong>name</strong>: A description of the task.</li>
<li><strong>apt</strong>: The module used to manage packages on Debian-based systems.</li>
<li><strong>name</strong>: The package to be managed.</li>
<li><strong>state</strong>: The desired state of the package (e.g., present, absent).</li>
</ul>
</div><h1>Using Variables</h1>
<div class='content'><p>Variables allow you to make your playbooks more flexible and reusable.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogSW5zdGFsbCBzb2Z0d2FyZQogIGhvc3RzOiBhbGwKICBiZWNvbWU6IHllcwoKICB2YXJzOgogICAgcGFja2FnZV9uYW1lOiBhcGFjaGUyCgogIHRhc2tzOgogICAgLSBuYW1lOiBJbnN0YWxsIHBhY2thZ2UKICAgICAgYXB0OgogICAgICAgIG5hbWU6ICJ7eyBwYWNrYWdlX25hbWUgfX0iCiAgICAgICAgc3RhdGU6IHByZXNlbnQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Install software
  hosts: all
  become: yes

  vars:
    package_name: apache2

  tasks:
    - name: Install package
      apt:
        name: &quot;{{ package_name }}&quot;
        state: present</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>vars</strong>: Defines variables that can be used throughout the playbook.</li>
<li><strong>{{ package_name }}</strong>: The variable is referenced using double curly braces.</li>
</ul>
</div><h1>Handlers</h1>
<div class='content'><p>Handlers are tasks that run only when notified by other tasks. They are typically used to restart services after configuration changes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogQ29uZmlndXJlIHdlYiBzZXJ2ZXIKICBob3N0czogd2Vic2VydmVycwogIGJlY29tZTogeWVzCgogIHRhc2tzOgogICAgLSBuYW1lOiBDb3B5IGNvbmZpZ3VyYXRpb24gZmlsZQogICAgICBjb3B5OgogICAgICAgIHNyYzogL3BhdGgvdG8vaHR0cGQuY29uZgogICAgICAgIGRlc3Q6IC9ldGMvaHR0cGQvY29uZi9odHRwZC5jb25mCiAgICAgIG5vdGlmeTogUmVzdGFydCBBcGFjaGUKCiAgaGFuZGxlcnM6CiAgICAtIG5hbWU6IFJlc3RhcnQgQXBhY2hlCiAgICAgIHNlcnZpY2U6CiAgICAgICAgbmFtZTogYXBhY2hlMgogICAgICAgIHN0YXRlOiByZXN0YXJ0ZWQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Configure web server
  hosts: webservers
  become: yes

  tasks:
    - name: Copy configuration file
      copy:
        src: /path/to/httpd.conf
        dest: /etc/httpd/conf/httpd.conf
      notify: Restart Apache

  handlers:
    - name: Restart Apache
      service:
        name: apache2
        state: restarted</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>notify</strong>: Specifies a handler to be triggered if the task changes anything.</li>
<li><strong>handlers</strong>: Defines tasks that are executed when notified.</li>
</ul>
</div><h1>Templates</h1>
<div class='content'><p>Templates allow you to create dynamic configuration files using variables.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogQ29uZmlndXJlIHdlYiBzZXJ2ZXIKICBob3N0czogd2Vic2VydmVycwogIGJlY29tZTogeWVzCgogIHZhcnM6CiAgICBzZXJ2ZXJfcG9ydDogODA4MAoKICB0YXNrczoKICAgIC0gbmFtZTogRGVwbG95IGNvbmZpZ3VyYXRpb24gZmlsZSBmcm9tIHRlbXBsYXRlCiAgICAgIHRlbXBsYXRlOgogICAgICAgIHNyYzogL3BhdGgvdG8vaHR0cGQuY29uZi5qMgogICAgICAgIGRlc3Q6IC9ldGMvaHR0cGQvY29uZi9odHRwZC5jb25m"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Configure web server
  hosts: webservers
  become: yes

  vars:
    server_port: 8080

  tasks:
    - name: Deploy configuration file from template
      template:
        src: /path/to/httpd.conf.j2
        dest: /etc/httpd/conf/httpd.conf</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>template</strong>: The module used to process templates.</li>
<li><strong>src</strong>: The source template file.</li>
<li><strong>dest</strong>: The destination path on the remote host.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Ansible Playbooks are a powerful way to automate the configuration and management of your systems. By understanding the basic structure and key concepts such as tasks, modules, variables, handlers, and templates, you can start writing effective playbooks to manage your infrastructure. As you advance, you will learn to create more complex playbooks that can handle a wide range of tasks and scenarios.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='understanding-inventory'>&#x25C4;Understanding Inventory</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Playbooks</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ansible-modules'>Ansible Modules &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
