<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling Best Practices</title>

    <link rel="alternate" href="https://campusempresa.com/plsql/error-handling-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/plsql/error-handling-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/plsql/error-handling-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/plsql/error-handling-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/plsql/error-handling-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-collections'>&#x25C4;Using Collections</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Error Handling Best Practices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='code-review-refactoring'>Code Review and Refactoring &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Error handling is a crucial aspect of PL/SQL programming. Proper error handling ensures that your programs can gracefully handle unexpected situations and provide meaningful feedback to users. This topic will cover best practices for error handling in PL/SQL, from beginner to advanced levels.</p>
</div><h1>Introduction to Error Handling</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Error handling in PL/SQL involves detecting and managing errors that occur during the execution of a PL/SQL block.</li>
<li><strong>Types of Errors</strong>:
<ul>
<li><strong>Syntax Errors</strong>: Detected at compile time.</li>
<li><strong>Runtime Errors</strong>: Detected during execution.</li>
<li><strong>Logical Errors</strong>: Result from incorrect logic in the code.</li>
</ul>
</li>
</ul>
</div><h1>Basic Error Handling with EXCEPTION</h1>
<div class='content'><p>PL/SQL provides the <code>EXCEPTION</code> block to handle runtime errors.</p>
</div><h2>Syntax</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAtLSBZb3VyIGNvZGUgaGVyZQpFWENFUFRJT04KICBXSEVOIGV4Y2VwdGlvbl9uYW1lIFRIRU4KICAgIC0tIEVycm9yIGhhbmRsaW5nIGNvZGUgaGVyZQpFTkQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
  -- Your code here
EXCEPTION
  WHEN exception_name THEN
    -- Error handling code here
END;</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAtLSBBdHRlbXB0IHRvIGRpdmlkZSBieSB6ZXJvCiAgREVDTEFSRQogICAgbnVtMSBOVU1CRVIgOj0gMTA7CiAgICBudW0yIE5VTUJFUiA6PSAwOwogICAgcmVzdWx0IE5VTUJFUjsKICBCRUdJTgogICAgcmVzdWx0IDo9IG51bTEgLyBudW0yOwogIEVYQ0VQVElPTgogICAgV0hFTiBaRVJPX0RJVklERSBUSEVOCiAgICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFcnJvcjogRGl2aXNpb24gYnkgemVyby4nKTsKICBFTkQ7CkVORDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
  -- Attempt to divide by zero
  DECLARE
    num1 NUMBER := 10;
    num2 NUMBER := 0;
    result NUMBER;
  BEGIN
    result := num1 / num2;
  EXCEPTION
    WHEN ZERO_DIVIDE THEN
      DBMS_OUTPUT.PUT_LINE('Error: Division by zero.');
  END;
END;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: In this example, the <code>ZERO_DIVIDE</code> exception is caught, and a message is printed.</li>
</ul>
</div><h1>Commonly Used Predefined Exceptions</h1>
<div class='content'><ul>
<li><strong>NO_DATA_FOUND</strong>: Raised when a SELECT INTO statement returns no rows.</li>
<li><strong>TOO_MANY_ROWS</strong>: Raised when a SELECT INTO statement returns more than one row.</li>
<li><strong>INVALID_CURSOR</strong>: Raised when an illegal cursor operation is attempted.</li>
</ul>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICBERUNMQVJFCiAgICB2X25hbWUgVkFSQ0hBUjIoNTApOwogIEJFR0lOCiAgICBTRUxFQ1QgbmFtZSBJTlRPIHZfbmFtZSBGUk9NIGVtcGxveWVlcyBXSEVSRSBlbXBsb3llZV9pZCA9IDk5OTk7CiAgRVhDRVBUSU9OCiAgICBXSEVOIE5PX0RBVEFfRk9VTkQgVEhFTgogICAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnRXJyb3I6IE5vIGVtcGxveWVlIGZvdW5kIHdpdGggSUQgOTk5OS4nKTsKICBFTkQ7CkVORDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
  DECLARE
    v_name VARCHAR2(50);
  BEGIN
    SELECT name INTO v_name FROM employees WHERE employee_id = 9999;
  EXCEPTION
    WHEN NO_DATA_FOUND THEN
      DBMS_OUTPUT.PUT_LINE('Error: No employee found with ID 9999.');
  END;
END;</pre></div><div class='content'></div><h1>User-Defined Exceptions</h1>
<div class='content'><p>You can define your own exceptions using the <code>EXCEPTION</code> keyword.</p>
</div><h2>Syntax</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogIG15X2V4Y2VwdGlvbiBFWENFUFRJT047CkJFR0lOCiAgLS0gWW91ciBjb2RlIGhlcmUKICBSQUlTRSBteV9leGNlcHRpb247CkVYQ0VQVElPTgogIFdIRU4gbXlfZXhjZXB0aW9uIFRIRU4KICAgIC0tIEVycm9yIGhhbmRsaW5nIGNvZGUgaGVyZQpFTkQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
  my_exception EXCEPTION;
BEGIN
  -- Your code here
  RAISE my_exception;
EXCEPTION
  WHEN my_exception THEN
    -- Error handling code here
END;</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogIGluc3VmZmljaWVudF9mdW5kcyBFWENFUFRJT047CiAgYmFsYW5jZSBOVU1CRVIgOj0gNTAwOwogIHdpdGhkcmF3YWxfYW1vdW50IE5VTUJFUiA6PSA2MDA7CkJFR0lOCiAgSUYgd2l0aGRyYXdhbF9hbW91bnQgPiBiYWxhbmNlIFRIRU4KICAgIFJBSVNFIGluc3VmZmljaWVudF9mdW5kczsKICBFTkQgSUY7CkVYQ0VQVElPTgogIFdIRU4gaW5zdWZmaWNpZW50X2Z1bmRzIFRIRU4KICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFcnJvcjogSW5zdWZmaWNpZW50IGZ1bmRzLicpOwpFTkQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
  insufficient_funds EXCEPTION;
  balance NUMBER := 500;
  withdrawal_amount NUMBER := 600;
BEGIN
  IF withdrawal_amount &gt; balance THEN
    RAISE insufficient_funds;
  END IF;
EXCEPTION
  WHEN insufficient_funds THEN
    DBMS_OUTPUT.PUT_LINE('Error: Insufficient funds.');
END;</pre></div><div class='content'></div><h1>Advanced Error Handling Techniques</h1>
<div class='content'></div><h2>Using SQLCODE and SQLERRM</h2>
<div class='content'><ul>
<li><strong>SQLCODE</strong>: Returns the error number.</li>
<li><strong>SQLERRM</strong>: Returns the error message.</li>
</ul>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICBERUNMQVJFCiAgICBudW0xIE5VTUJFUiA6PSAxMDsKICAgIG51bTIgTlVNQkVSIDo9IDA7CiAgICByZXN1bHQgTlVNQkVSOwogIEJFR0lOCiAgICByZXN1bHQgOj0gbnVtMSAvIG51bTI7CiAgRVhDRVBUSU9OCiAgICBXSEVOIE9USEVSUyBUSEVOCiAgICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFcnJvciBjb2RlOiAnIHx8IFNRTENPREUpOwogICAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnRXJyb3IgbWVzc2FnZTogJyB8fCBTUUxFUlJNKTsKICBFTkQ7CkVORDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
  DECLARE
    num1 NUMBER := 10;
    num2 NUMBER := 0;
    result NUMBER;
  BEGIN
    result := num1 / num2;
  EXCEPTION
    WHEN OTHERS THEN
      DBMS_OUTPUT.PUT_LINE('Error code: ' || SQLCODE);
      DBMS_OUTPUT.PUT_LINE('Error message: ' || SQLERRM);
  END;
END;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: The <code>WHEN OTHERS</code> clause catches all exceptions, and <code>SQLCODE</code> and <code>SQLERRM</code> provide detailed error information.</li>
</ul>
</div><h2>Propagating Exceptions</h2>
<div class='content'><ul>
<li><strong>RAISE_APPLICATION_ERROR</strong>: Allows you to propagate exceptions with custom error messages.</li>
</ul>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGNoZWNrX2JhbGFuY2UocF9iYWxhbmNlIE5VTUJFUikgSVMKQkVHSU4KICBJRiBwX2JhbGFuY2UgPCAwIFRIRU4KICAgIFJBSVNFX0FQUExJQ0FUSU9OX0VSUk9SKC0yMDAwMSwgJ05lZ2F0aXZlIGJhbGFuY2UgaXMgbm90IGFsbG93ZWQuJyk7CiAgRU5EIElGOwpFTkQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE check_balance(p_balance NUMBER) IS
BEGIN
  IF p_balance &lt; 0 THEN
    RAISE_APPLICATION_ERROR(-20001, 'Negative balance is not allowed.');
  END IF;
END;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: The <code>RAISE_APPLICATION_ERROR</code> procedure raises an exception with a custom error code and message.</li>
</ul>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Always Handle Known Exceptions</strong>: Ensure that you handle exceptions that you expect might occur.</li>
<li><strong>Use WHEN OTHERS Sparingly</strong>: Avoid using <code>WHEN OTHERS</code> without proper logging or re-raising the exception.</li>
<li><strong>Log Errors</strong>: Use logging mechanisms to record error details for debugging and auditing.</li>
<li><strong>Provide Meaningful Messages</strong>: Ensure that error messages are clear and helpful to the end-user.</li>
<li><strong>Avoid Silent Failures</strong>: Do not suppress exceptions without handling them appropriately.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Effective error handling in PL/SQL is essential for creating robust and reliable applications. By following best practices such as handling known exceptions, using meaningful error messages, and logging errors, you can ensure that your PL/SQL programs can gracefully handle unexpected situations and provide valuable feedback to users.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-collections'>&#x25C4;Using Collections</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Error Handling Best Practices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='code-review-refactoring'>Code Review and Refactoring &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
