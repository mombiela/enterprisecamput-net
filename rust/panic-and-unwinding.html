<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panic and Unwinding</title>

    <link rel="alternate" href="https://campusempresa.com/rust/panic-and-unwinding" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/rust/panic-and-unwinding" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/rust/panic-and-unwinding" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/rust/panic-and-unwinding" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/rust/panic-and-unwinding" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-with-option'>&#x25C4;Error Handling with Option</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Panic and Unwinding</a>
	</div>
	<div class='col-4 text-end'>
					<a href='modules'>Modules &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we'll explore the concepts of panic and unwinding in Rust. Understanding these concepts is crucial for writing robust and error-resistant Rust programs.</p>
</div><h1>What is Panic?</h1>
<div class='content'><p>Panic is Rust's way of handling unrecoverable errors. When a program encounters a situation where it cannot continue execution safely, it will panic. This is similar to exceptions in other programming languages but with some key differences.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Panic</strong>: An unrecoverable error that causes the program to stop execution.</li>
<li><strong>Unwinding</strong>: The process of cleaning up the stack when a panic occurs.</li>
<li><strong>Aborting</strong>: An alternative to unwinding where the program terminates immediately without cleaning up.</li>
</ul>
</div><h2>When Does Panic Occur?</h2>
<div class='content'><p>Panic can occur in several situations, such as:</p>
<ul>
<li>Indexing out of bounds in an array.</li>
<li>Calling <code>unwrap</code> on an <code>Option</code> that is <code>None</code>.</li>
<li>Explicitly calling the <code>panic!</code> macro.</li>
</ul>
</div><h2>Example of Panic</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCB2ID0gdmVjIVsxLCAyLCAzXTsKICAgIHByaW50bG4hKCJ7fSIsIHZbOTldKTsgLy8gVGhpcyB3aWxsIGNhdXNlIGEgcGFuaWMgYmVjYXVzZSB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcy4KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let v = vec![1, 2, 3];
    println!(&quot;{}&quot;, v[99]); // This will cause a panic because the index is out of bounds.
}</pre></div><div class='content'><p>In this example, trying to access the 99th element of a vector with only 3 elements will cause a panic.</p>
</div><h1>Unwinding</h1>
<div class='content'><p>When a panic occurs, Rust starts the process of unwinding. This means that it will go back through the stack, cleaning up as it goes. This includes running destructors for any variables that go out of scope.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Stack Unwinding</strong>: The process of cleaning up the stack when a panic occurs.</li>
<li><strong>Destructors</strong>: Functions that are called when an object goes out of scope, typically used to release resources.</li>
</ul>
</div><h2>Example of Unwinding</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RydWN0IFJlc291cmNlOwoKaW1wbCBEcm9wIGZvciBSZXNvdXJjZSB7CiAgICBmbiBkcm9wKCZtdXQgc2VsZikgewogICAgICAgIHByaW50bG4hKCJSZXNvdXJjZSBpcyBiZWluZyBjbGVhbmVkIHVwLiIpOwogICAgfQp9CgpmbiBtYWluKCkgewogICAgbGV0IF9yID0gUmVzb3VyY2U7CiAgICBwYW5pYyEoIlRoaXMgaXMgYSBwYW5pYyEiKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>struct Resource;

impl Drop for Resource {
    fn drop(&amp;mut self) {
        println!(&quot;Resource is being cleaned up.&quot;);
    }
}

fn main() {
    let _r = Resource;
    panic!(&quot;This is a panic!&quot;);
}</pre></div><div class='content'><p>In this example, even though a panic occurs, the <code>Drop</code> implementation for <code>Resource</code> will still be called, demonstrating the unwinding process.</p>
</div><h1>Aborting</h1>
<div class='content'><p>In some cases, you might want to avoid the overhead of unwinding and instead terminate the program immediately. This can be done by setting the panic strategy to abort.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Aborting</strong>: Terminating the program immediately without unwinding.</li>
<li><strong>Panic Strategy</strong>: Configurable behavior for handling panics.</li>
</ul>
</div><h2>Setting Panic Strategy to Abort</h2>
<div class='content'><p>You can set the panic strategy to abort in your <code>Cargo.toml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W3Byb2ZpbGUucmVsZWFzZV0KcGFuaWMgPSAnYWJvcnQn"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[profile.release]
panic = 'abort'</pre></div><div class='content'><p>This setting is often used in performance-critical applications where the overhead of unwinding is undesirable.</p>
</div><h1>Handling Panics</h1>
<div class='content'><p>While panics are meant for unrecoverable errors, Rust provides ways to handle them gracefully in some situations.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong><code>std::panic::catch_unwind</code></strong>: A function that allows you to catch a panic and handle it.</li>
<li><strong>Graceful Degradation</strong>: The practice of handling errors in a way that allows the program to continue running.</li>
</ul>
</div><h2>Example of Catching a Panic</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0ZDo6cGFuaWM7CgpmbiBtYWluKCkgewogICAgbGV0IHJlc3VsdCA9IHBhbmljOjpjYXRjaF91bndpbmQofHwgewogICAgICAgIHByaW50bG4hKCJBYm91dCB0byBwYW5pYyEiKTsKICAgICAgICBwYW5pYyEoIlRoaXMgaXMgYSBwYW5pYyEiKTsKICAgIH0pOwoKICAgIG1hdGNoIHJlc3VsdCB7CiAgICAgICAgT2soXykgPT4gcHJpbnRsbiEoIk5vIHBhbmljIG9jY3VycmVkLiIpLAogICAgICAgIEVycihfKSA9PiBwcmludGxuISgiQSBwYW5pYyB3YXMgY2F1Z2h0LiIpLAogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use std::panic;

fn main() {
    let result = panic::catch_unwind(|| {
        println!(&quot;About to panic!&quot;);
        panic!(&quot;This is a panic!&quot;);
    });

    match result {
        Ok(_) =&gt; println!(&quot;No panic occurred.&quot;),
        Err(_) =&gt; println!(&quot;A panic was caught.&quot;),
    }
}</pre></div><div class='content'><p>In this example, the panic is caught by <code>catch_unwind</code>, allowing the program to handle it gracefully.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding panic and unwinding is essential for writing robust Rust programs. While panics indicate unrecoverable errors, Rust provides mechanisms to handle them gracefully when necessary. By using unwinding and aborting strategies appropriately, you can ensure your programs are both efficient and resilient.</p>
</div><h2>Summary</h2>
<div class='content'><ul>
<li><strong>Panic</strong>: Used for unrecoverable errors.</li>
<li><strong>Unwinding</strong>: Cleans up the stack when a panic occurs.</li>
<li><strong>Aborting</strong>: Terminates the program immediately without unwinding.</li>
<li><strong>Handling Panics</strong>: Use <code>std::panic::catch_unwind</code> to catch and handle panics gracefully.</li>
</ul>
<p>By mastering these concepts, you'll be better equipped to handle errors in your Rust programs effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-with-option'>&#x25C4;Error Handling with Option</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Panic and Unwinding</a>
	</div>
	<div class='col-4 text-end'>
					<a href='modules'>Modules &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
