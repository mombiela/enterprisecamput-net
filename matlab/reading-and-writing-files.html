<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading and Writing Files in MATLAB</title>

    <link rel="alternate" href="https://campusempresa.com/matlab/reading-and-writing-files" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/matlab/reading-and-writing-files" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/matlab/reading-and-writing-files" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/matlab/reading-and-writing-files" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/matlab/reading-and-writing-files" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='function-handles-and-anonymous-functions'>&#x25C4;Function Handles and Anonymous Functions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Reading and Writing Files in MATLAB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='importing-data-from-excel-and-text-files'>Importing Data from Excel and Text Files &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Reading from and writing to files is a fundamental skill in MATLAB, essential for data analysis, saving results, and sharing information. This section will guide you through the basics of file I/O (Input/Output) in MATLAB, progressing from beginner to advanced techniques.</p>
</div><h1>Basic File Operations</h1>
<div class='content'></div><h2>Reading from Files</h2>
<div class='content'><p>MATLAB provides several functions to read data from files. The most commonly used functions are <code>fopen</code>, <code>fclose</code>, <code>fread</code>, <code>fgets</code>, and <code>fscanf</code>.</p>
<h4>Example: Reading a Text File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBPcGVuIHRoZSBmaWxlIGZvciByZWFkaW5nCmZpbGVJRCA9IGZvcGVuKCdleGFtcGxlLnR4dCcsICdyJyk7CgolIENoZWNrIGlmIHRoZSBmaWxlIG9wZW5lZCBzdWNjZXNzZnVsbHkKaWYgZmlsZUlEID09IC0xCiAgICBlcnJvcignRmlsZSBjb3VsZCBub3QgYmUgb3BlbmVkLicpOwplbmQKCiUgUmVhZCB0aGUgZmlsZSBsaW5lIGJ5IGxpbmUKd2hpbGUgfmZlb2YoZmlsZUlEKQogICAgbGluZSA9IGZnZXRzKGZpbGVJRCk7CiAgICBkaXNwKGxpbmUpOwplbmQKCiUgQ2xvc2UgdGhlIGZpbGUKZmNsb3NlKGZpbGVJRCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Open the file for reading
fileID = fopen('example.txt', 'r');

% Check if the file opened successfully
if fileID == -1
    error('File could not be opened.');
end

% Read the file line by line
while ~feof(fileID)
    line = fgets(fileID);
    disp(line);
end

% Close the file
fclose(fileID);</pre></div><div class='content'><ul>
<li><code>fopen</code>: Opens the file.</li>
<li><code>fgets</code>: Reads a line from the file.</li>
<li><code>feof</code>: Checks if the end of the file has been reached.</li>
<li><code>fclose</code>: Closes the file.</li>
</ul>
</div><h2>Writing to Files</h2>
<div class='content'><p>Writing data to files is equally important. MATLAB functions like <code>fprintf</code>, <code>fwrite</code>, and <code>fputc</code> are commonly used for this purpose.</p>
<h4>Example: Writing to a Text File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBPcGVuIHRoZSBmaWxlIGZvciB3cml0aW5nCmZpbGVJRCA9IGZvcGVuKCdvdXRwdXQudHh0JywgJ3cnKTsKCiUgQ2hlY2sgaWYgdGhlIGZpbGUgb3BlbmVkIHN1Y2Nlc3NmdWxseQppZiBmaWxlSUQgPT0gLTEKICAgIGVycm9yKCdGaWxlIGNvdWxkIG5vdCBiZSBvcGVuZWQuJyk7CmVuZAoKJSBXcml0ZSBkYXRhIHRvIHRoZSBmaWxlCmZwcmludGYoZmlsZUlELCAnSGVsbG8sIFdvcmxkIVxuJyk7CmZwcmludGYoZmlsZUlELCAnVGhpcyBpcyBhIHRlc3QuXG4nKTsKCiUgQ2xvc2UgdGhlIGZpbGUKZmNsb3NlKGZpbGVJRCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Open the file for writing
fileID = fopen('output.txt', 'w');

% Check if the file opened successfully
if fileID == -1
    error('File could not be opened.');
end

% Write data to the file
fprintf(fileID, 'Hello, World!\n');
fprintf(fileID, 'This is a test.\n');

% Close the file
fclose(fileID);</pre></div><div class='content'><ul>
<li><code>fprintf</code>: Writes formatted data to the file.</li>
</ul>
</div><h1>Intermediate File Operations</h1>
<div class='content'></div><h2>Reading and Writing Binary Files</h2>
<div class='content'><p>Binary files are used for efficient storage and quick access. MATLAB functions <code>fread</code> and <code>fwrite</code> are used for binary file operations.</p>
<h4>Example: Writing and Reading a Binary File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGUgc29tZSBkYXRhCmRhdGEgPSByYW5kKDEwLCAxKTsKCiUgT3BlbiB0aGUgZmlsZSBmb3Igd3JpdGluZyBpbiBiaW5hcnkgbW9kZQpmaWxlSUQgPSBmb3BlbignZGF0YS5iaW4nLCAndycpOwoKJSBXcml0ZSB0aGUgZGF0YSB0byB0aGUgZmlsZQpmd3JpdGUoZmlsZUlELCBkYXRhLCAnZG91YmxlJyk7CgolIENsb3NlIHRoZSBmaWxlCmZjbG9zZShmaWxlSUQpOwoKJSBPcGVuIHRoZSBmaWxlIGZvciByZWFkaW5nIGluIGJpbmFyeSBtb2RlCmZpbGVJRCA9IGZvcGVuKCdkYXRhLmJpbicsICdyJyk7CgolIFJlYWQgdGhlIGRhdGEgZnJvbSB0aGUgZmlsZQpyZWFkRGF0YSA9IGZyZWFkKGZpbGVJRCwgWzEwLCAxXSwgJ2RvdWJsZScpOwoKJSBDbG9zZSB0aGUgZmlsZQpmY2xvc2UoZmlsZUlEKTsKCiUgRGlzcGxheSB0aGUgcmVhZCBkYXRhCmRpc3AocmVhZERhdGEpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Create some data
data = rand(10, 1);

% Open the file for writing in binary mode
fileID = fopen('data.bin', 'w');

% Write the data to the file
fwrite(fileID, data, 'double');

% Close the file
fclose(fileID);

% Open the file for reading in binary mode
fileID = fopen('data.bin', 'r');

% Read the data from the file
readData = fread(fileID, [10, 1], 'double');

% Close the file
fclose(fileID);

% Display the read data
disp(readData);</pre></div><div class='content'><ul>
<li><code>fwrite</code>: Writes binary data to the file.</li>
<li><code>fread</code>: Reads binary data from the file.</li>
</ul>
</div><h2>Using `textscan` for Structured Data</h2>
<div class='content'><p><code>textscan</code> is useful for reading structured data from text files.</p>
<h4>Example: Reading Structured Data</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBPcGVuIHRoZSBmaWxlIGZvciByZWFkaW5nCmZpbGVJRCA9IGZvcGVuKCdkYXRhLnR4dCcsICdyJyk7CgolIERlZmluZSB0aGUgZm9ybWF0IG9mIHRoZSBkYXRhCmZvcm1hdFNwZWMgPSAnJWYgJXMgJWQnOwoKJSBSZWFkIHRoZSBkYXRhCmRhdGEgPSB0ZXh0c2NhbihmaWxlSUQsIGZvcm1hdFNwZWMpOwoKJSBDbG9zZSB0aGUgZmlsZQpmY2xvc2UoZmlsZUlEKTsKCiUgRGlzcGxheSB0aGUgZGF0YQpkaXNwKGRhdGEpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Open the file for reading
fileID = fopen('data.txt', 'r');

% Define the format of the data
formatSpec = '%f %s %d';

% Read the data
data = textscan(fileID, formatSpec);

% Close the file
fclose(fileID);

% Display the data
disp(data);</pre></div><div class='content'><ul>
<li><code>textscan</code>: Reads formatted data from a text file.</li>
</ul>
</div><h1>Advanced File Operations</h1>
<div class='content'></div><h2>Working with Large Files</h2>
<div class='content'><p>For large files, efficient reading and writing are crucial. MATLAB provides functions like <code>matfile</code> for handling large MAT-files.</p>
<h4>Example: Using <code>matfile</code> for Large Data</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGUgYSBNQVQtZmlsZSBvYmplY3QKbWF0T2JqID0gbWF0ZmlsZSgnbGFyZ2VEYXRhLm1hdCcsICdXcml0YWJsZScsIHRydWUpOwoKJSBXcml0ZSBsYXJnZSBkYXRhIHRvIHRoZSBmaWxlCm1hdE9iai5sYXJnZURhdGEgPSByYW5kKDFlNiwgMSk7CgolIFJlYWQgYSBwb3J0aW9uIG9mIHRoZSBkYXRhCnBhcnRpYWxEYXRhID0gbWF0T2JqLmxhcmdlRGF0YSgxOjEwMDApOwoKJSBEaXNwbGF5IHRoZSBwYXJ0aWFsIGRhdGEKZGlzcChwYXJ0aWFsRGF0YSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Create a MAT-file object
matObj = matfile('largeData.mat', 'Writable', true);

% Write large data to the file
matObj.largeData = rand(1e6, 1);

% Read a portion of the data
partialData = matObj.largeData(1:1000);

% Display the partial data
disp(partialData);</pre></div><div class='content'><ul>
<li><code>matfile</code>: Provides access to variables in MAT-files without loading them into memory.</li>
</ul>
</div><h2>Custom File Formats</h2>
<div class='content'><p>Creating and reading custom file formats can be done using low-level file I/O functions.</p>
<h4>Example: Custom Binary File Format</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgY3VzdG9tIGRhdGEKaGVhZGVyID0gJ0N1c3RvbUhlYWRlcic7CmRhdGEgPSByYW5kKDEwLCAxKTsKCiUgT3BlbiB0aGUgZmlsZSBmb3Igd3JpdGluZwpmaWxlSUQgPSBmb3BlbignY3VzdG9tLmJpbicsICd3Jyk7CgolIFdyaXRlIHRoZSBoZWFkZXIKZndyaXRlKGZpbGVJRCwgaGVhZGVyLCAnY2hhcicpOwoKJSBXcml0ZSB0aGUgZGF0YQpmd3JpdGUoZmlsZUlELCBkYXRhLCAnZG91YmxlJyk7CgolIENsb3NlIHRoZSBmaWxlCmZjbG9zZShmaWxlSUQpOwoKJSBPcGVuIHRoZSBmaWxlIGZvciByZWFkaW5nCmZpbGVJRCA9IGZvcGVuKCdjdXN0b20uYmluJywgJ3InKTsKCiUgUmVhZCB0aGUgaGVhZGVyCnJlYWRIZWFkZXIgPSBmcmVhZChmaWxlSUQsIGxlbmd0aChoZWFkZXIpLCAnY2hhcj0+Y2hhcicpJzsKCiUgUmVhZCB0aGUgZGF0YQpyZWFkRGF0YSA9IGZyZWFkKGZpbGVJRCwgWzEwLCAxXSwgJ2RvdWJsZScpOwoKJSBDbG9zZSB0aGUgZmlsZQpmY2xvc2UoZmlsZUlEKTsKCiUgRGlzcGxheSB0aGUgcmVhZCBkYXRhCmRpc3AocmVhZEhlYWRlcik7CmRpc3AocmVhZERhdGEpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define custom data
header = 'CustomHeader';
data = rand(10, 1);

% Open the file for writing
fileID = fopen('custom.bin', 'w');

% Write the header
fwrite(fileID, header, 'char');

% Write the data
fwrite(fileID, data, 'double');

% Close the file
fclose(fileID);

% Open the file for reading
fileID = fopen('custom.bin', 'r');

% Read the header
readHeader = fread(fileID, length(header), 'char=&gt;char')';

% Read the data
readData = fread(fileID, [10, 1], 'double');

% Close the file
fclose(fileID);

% Display the read data
disp(readHeader);
disp(readData);</pre></div><div class='content'><ul>
<li>Custom file formats can be managed by combining different read/write operations.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Reading and writing files in MATLAB is a versatile skill that ranges from simple text file operations to handling large datasets and custom file formats. By mastering these techniques, you can efficiently manage data within your MATLAB applications, ensuring robust and scalable code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='function-handles-and-anonymous-functions'>&#x25C4;Function Handles and Anonymous Functions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Reading and Writing Files in MATLAB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='importing-data-from-excel-and-text-files'>Importing Data from Excel and Text Files &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
