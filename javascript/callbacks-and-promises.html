<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callbacks and Promises</title>

    <link rel="alternate" href="https://campusempresa.com/javascript/callbacks-and-promises" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/javascript/callbacks-and-promises" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/javascript/callbacks-and-promises" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/javascript/callbacks-and-promises" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/javascript/callbacks-and-promises" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='closures'>&#x25C4;Closures</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Callbacks and Promises</a>
	</div>
	<div class='col-4 text-end'>
					<a href='async-await'>Async/Await &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In JavaScript, handling asynchronous operations is crucial for building responsive and efficient applications. Two primary methods for managing asynchronous code are callbacks and promises. This section will cover both concepts, starting from the basics and progressing to more advanced usage.</p>
</div><h1>Callbacks</h1>
<div class='content'></div><h2>What is a Callback?</h2>
<div class='content'><ul>
<li>A callback is a function passed into another function as an argument, which is then invoked inside the outer function to complete some kind of routine or action.</li>
</ul>
</div><h2>Basic Example of a Callback</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKGNhbGxiYWNrKSB7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBkYXRhID0geyBuYW1lOiAiSm9obiIsIGFnZTogMzAgfTsKICAgICAgICBjYWxsYmFjayhkYXRhKTsKICAgIH0sIDEwMDApOwp9CgpmdW5jdGlvbiBkaXNwbGF5RGF0YShkYXRhKSB7CiAgICBjb25zb2xlLmxvZyhgTmFtZTogJHtkYXRhLm5hbWV9LCBBZ2U6ICR7ZGF0YS5hZ2V9YCk7Cn0KCmZldGNoRGF0YShkaXNwbGF5RGF0YSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData(callback) {
    setTimeout(() =&gt; {
        const data = { name: &quot;John&quot;, age: 30 };
        callback(data);
    }, 1000);
}

function displayData(data) {
    console.log(`Name: ${data.name}, Age: ${data.age}`);
}

fetchData(displayData);</pre></div><div class='content'><ul>
<li><code>fetchData</code> is an asynchronous function that takes a callback.</li>
<li><code>setTimeout</code> simulates an asynchronous operation.</li>
<li><code>displayData</code> is the callback function that processes the data.</li>
</ul>
</div><h2>Handling Errors with Callbacks</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKGNhbGxiYWNrKSB7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBlcnJvciA9IGZhbHNlOyAvLyBDaGFuZ2UgdG8gdHJ1ZSB0byBzaW11bGF0ZSBhbiBlcnJvcgogICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgICBjYWxsYmFjaygnRXJyb3Igb2NjdXJyZWQnLCBudWxsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBkYXRhID0geyBuYW1lOiAiSm9obiIsIGFnZTogMzAgfTsKICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7CiAgICAgICAgfQogICAgfSwgMTAwMCk7Cn0KCmZ1bmN0aW9uIGRpc3BsYXlEYXRhKGVycm9yLCBkYXRhKSB7CiAgICBpZiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKGBOYW1lOiAke2RhdGEubmFtZX0sIEFnZTogJHtkYXRhLmFnZX1gKTsKICAgIH0KfQoKZmV0Y2hEYXRhKGRpc3BsYXlEYXRhKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData(callback) {
    setTimeout(() =&gt; {
        const error = false; // Change to true to simulate an error
        if (error) {
            callback('Error occurred', null);
        } else {
            const data = { name: &quot;John&quot;, age: 30 };
            callback(null, data);
        }
    }, 1000);
}

function displayData(error, data) {
    if (error) {
        console.log(error);
    } else {
        console.log(`Name: ${data.name}, Age: ${data.age}`);
    }
}

fetchData(displayData);</pre></div><div class='content'><ul>
<li>Error-first callback pattern: the first argument is an error, and the second is the result.</li>
</ul>
</div><h1>Promises</h1>
<div class='content'></div><h2>What is a Promise?</h2>
<div class='content'><ul>
<li>A promise is an object representing the eventual completion or failure of an asynchronous operation.</li>
</ul>
</div><h2>Basic Example of a Promise</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgbmFtZTogIkpvaG4iLCBhZ2U6IDMwIH07CiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgfSwgMTAwMCk7CiAgICB9KTsKfQoKZmV0Y2hEYXRhKCkudGhlbihkYXRhID0+IHsKICAgIGNvbnNvbGUubG9nKGBOYW1lOiAke2RhdGEubmFtZX0sIEFnZTogJHtkYXRhLmFnZX1gKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData() {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            const data = { name: &quot;John&quot;, age: 30 };
            resolve(data);
        }, 1000);
    });
}

fetchData().then(data =&gt; {
    console.log(`Name: ${data.name}, Age: ${data.age}`);
});</pre></div><div class='content'><ul>
<li><code>fetchData</code> returns a promise.</li>
<li><code>resolve</code> is called when the operation is successful.</li>
<li><code>then</code> is used to handle the resolved value.</li>
</ul>
</div><h2>Handling Errors with Promises</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBmYWxzZTsgLy8gQ2hhbmdlIHRvIHRydWUgdG8gc2ltdWxhdGUgYW4gZXJyb3IKICAgICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZWplY3QoJ0Vycm9yIG9jY3VycmVkJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geyBuYW1lOiAiSm9obiIsIGFnZTogMzAgfTsKICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsKICAgIH0pOwp9CgpmZXRjaERhdGEoKQogICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coYE5hbWU6ICR7ZGF0YS5uYW1lfSwgQWdlOiAke2RhdGEuYWdlfWApOwogICAgfSkKICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData() {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            const error = false; // Change to true to simulate an error
            if (error) {
                reject('Error occurred');
            } else {
                const data = { name: &quot;John&quot;, age: 30 };
                resolve(data);
            }
        }, 1000);
    });
}

fetchData()
    .then(data =&gt; {
        console.log(`Name: ${data.name}, Age: ${data.age}`);
    })
    .catch(error =&gt; {
        console.log(error);
    });</pre></div><div class='content'><ul>
<li><code>reject</code> is called when the operation fails.</li>
<li><code>catch</code> is used to handle the rejected value.</li>
</ul>
</div><h1>Comparison: Callbacks vs Promises</h1>
<div class='content'><p>| Feature           | Callbacks                          | Promises                           |
|-------------------|------------------------------------|------------------------------------|
| Syntax            | Function passed as an argument     | Object with <code>then</code> and <code>catch</code>     |
| Error Handling    | Error-first callback pattern       | <code>catch</code> method                     |
| Readability       | Can lead to &quot;callback hell&quot;        | More readable and maintainable     |
| Chaining          | Difficult to chain multiple calls  | Easy chaining with <code>then</code>          |</p>
</div><h1>Advanced Promises</h1>
<div class='content'></div><h2>Chaining Promises</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7IG5hbWU6ICJKb2huIiwgYWdlOiAzMCB9OwogICAgICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICAgIH0sIDEwMDApOwogICAgfSk7Cn0KCmZ1bmN0aW9uIHByb2Nlc3NEYXRhKGRhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBkYXRhLnByb2Nlc3NlZCA9IHRydWU7CiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgfSwgMTAwMCk7CiAgICB9KTsKfQoKZmV0Y2hEYXRhKCkKICAgIC50aGVuKGRhdGEgPT4gcHJvY2Vzc0RhdGEoZGF0YSkpCiAgICAudGhlbihwcm9jZXNzZWREYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhwcm9jZXNzZWREYXRhKTsKICAgIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData() {
    return new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
            const data = { name: &quot;John&quot;, age: 30 };
            resolve(data);
        }, 1000);
    });
}

function processData(data) {
    return new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
            data.processed = true;
            resolve(data);
        }, 1000);
    });
}

fetchData()
    .then(data =&gt; processData(data))
    .then(processedData =&gt; {
        console.log(processedData);
    });</pre></div><div class='content'><ul>
<li>Promises can be chained to perform sequential asynchronous operations.</li>
</ul>
</div><h2>Using `Promise.all`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhMSgpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICByZXNvbHZlKCJEYXRhIGZyb20gQVBJIDEiKTsKICAgICAgICB9LCAxMDAwKTsKICAgIH0pOwp9CgpmdW5jdGlvbiBmZXRjaERhdGEyKCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHJlc29sdmUoIkRhdGEgZnJvbSBBUEkgMiIpOwogICAgICAgIH0sIDE1MDApOwogICAgfSk7Cn0KClByb21pc2UuYWxsKFtmZXRjaERhdGExKCksIGZldGNoRGF0YTIoKV0pCiAgICAudGhlbihyZXN1bHRzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTsgLy8gWyJEYXRhIGZyb20gQVBJIDEiLCAiRGF0YSBmcm9tIEFQSSAyIl0KICAgIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData1() {
    return new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
            resolve(&quot;Data from API 1&quot;);
        }, 1000);
    });
}

function fetchData2() {
    return new Promise((resolve) =&gt; {
        setTimeout(() =&gt; {
            resolve(&quot;Data from API 2&quot;);
        }, 1500);
    });
}

Promise.all([fetchData1(), fetchData2()])
    .then(results =&gt; {
        console.log(results); // [&quot;Data from API 1&quot;, &quot;Data from API 2&quot;]
    });</pre></div><div class='content'><ul>
<li><code>Promise.all</code> runs multiple promises in parallel and resolves when all promises are resolved.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Callbacks and promises are fundamental concepts for handling asynchronous operations in JavaScript. While callbacks are straightforward, they can lead to complex and hard-to-maintain code. Promises offer a more robust and readable way to manage asynchronous tasks, with better error handling and chaining capabilities. Understanding both methods is crucial for writing efficient and maintainable JavaScript code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='closures'>&#x25C4;Closures</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Callbacks and Promises</a>
	</div>
	<div class='col-4 text-end'>
					<a href='async-await'>Async/Await &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
