<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Globals</title>

    <link rel="alternate" href="https://campusempresa.com/mumps/introduction-to-globals" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mumps/introduction-to-globals" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mumps/introduction-to-globals" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mumps/introduction-to-globals" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mumps/introduction-to-globals" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-input-output'>&#x25C4;Basic Input and Output</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Globals</a>
	</div>
	<div class='col-4 text-end'>
					<a href='local-vs-global-variables'>Local Variables vs. Global Variables &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>What are Globals?</h1>
<div class='content'><p>Globals in MUMPS (M) are a fundamental concept that allows for the storage and retrieval of persistent data. Unlike local variables, globals are stored on disk and can be accessed by different processes, making them essential for database operations.</p>
<ul>
<li><strong>Persistent Storage</strong>: Globals are stored on disk, ensuring data persistence across sessions.</li>
<li><strong>Multi-Process Access</strong>: Globals can be accessed and modified by multiple processes, enabling concurrent data operations.</li>
<li><strong>Hierarchical Structure</strong>: Globals are organized in a tree-like structure, allowing for complex data relationships.</li>
</ul>
</div><h1>Syntax and Structure of Globals</h1>
<div class='content'></div><h2>Basic Syntax</h2>
<div class='content'><p>Globals are identified by a caret (<code>^</code>) followed by a name. They can have subscripts to represent hierarchical data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Xkdsb2JhbE5hbWUoc3Vic2NyaXB0MSwgc3Vic2NyaXB0MiwgLi4uKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>^GlobalName(subscript1, subscript2, ...)</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBTZXR0aW5nIGEgZ2xvYmFsIHZhbHVlClNFVCBeUGF0aWVudCgxMjM0NSwgIk5hbWUiKSA9ICJKb2huIERvZSIKCjsgUmV0cmlldmluZyBhIGdsb2JhbCB2YWx1ZQpXUklURSBeUGF0aWVudCgxMjM0NSwgIk5hbWUiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Setting a global value
SET ^Patient(12345, &quot;Name&quot;) = &quot;John Doe&quot;

; Retrieving a global value
WRITE ^Patient(12345, &quot;Name&quot;)</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>^Patient</code> is the global name.</li>
<li><code>12345</code> is the first subscript, representing a patient ID.</li>
<li><code>&quot;Name&quot;</code> is the second subscript, representing the patient's name.</li>
<li>The value <code>&quot;John Doe&quot;</code> is stored at this location.</li>
</ul>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Global Nodes</strong>: Each combination of subscripts in a global represents a node.</li>
<li><strong>Global Arrays</strong>: Globals can be thought of as multi-dimensional arrays.</li>
<li><strong>Global Traversal</strong>: You can traverse globals using special commands like <code>ORDER</code> and <code>NEXT</code>.</li>
</ul>
</div><h2>Example of Traversal</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBTZXR0aW5nIG11bHRpcGxlIGdsb2JhbCB2YWx1ZXMKU0VUIF5QYXRpZW50KDEyMzQ1LCAiTmFtZSIpID0gIkpvaG4gRG9lIgpTRVQgXlBhdGllbnQoMTIzNDUsICJBZ2UiKSA9IDMwClNFVCBeUGF0aWVudCg2Nzg5MCwgIk5hbWUiKSA9ICJKYW5lIFNtaXRoIgpTRVQgXlBhdGllbnQoNjc4OTAsICJBZ2UiKSA9IDI1Cgo7IFRyYXZlcnNpbmcgZ2xvYmFsIG5vZGVzClNFVCBwYXRpZW50SUQgPSAiIgpGT1IgIFNFVCBwYXRpZW50SUQgPSAkT1JERVIoXlBhdGllbnQocGF0aWVudElEKSkgUVVJVDpwYXRpZW50SUQ9IiIgIERPCi4gV1JJVEUgIlBhdGllbnQgSUQ6ICIsIHBhdGllbnRJRCwgIQouIFdSSVRFICJOYW1lOiAiLCBeUGF0aWVudChwYXRpZW50SUQsICJOYW1lIiksICEKLiBXUklURSAiQWdlOiAiLCBeUGF0aWVudChwYXRpZW50SUQsICJBZ2UiKSwgIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Setting multiple global values
SET ^Patient(12345, &quot;Name&quot;) = &quot;John Doe&quot;
SET ^Patient(12345, &quot;Age&quot;) = 30
SET ^Patient(67890, &quot;Name&quot;) = &quot;Jane Smith&quot;
SET ^Patient(67890, &quot;Age&quot;) = 25

; Traversing global nodes
SET patientID = &quot;&quot;
FOR  SET patientID = $ORDER(^Patient(patientID)) QUIT:patientID=&quot;&quot;  DO
. WRITE &quot;Patient ID: &quot;, patientID, !
. WRITE &quot;Name: &quot;, ^Patient(patientID, &quot;Name&quot;), !
. WRITE &quot;Age: &quot;, ^Patient(patientID, &quot;Age&quot;), !</pre></div><div class='content'></div><h1>Advanced Usage</h1>
<div class='content'></div><h2>Global Locking</h2>
<div class='content'><p>To ensure data integrity when multiple processes access globals, MUMPS provides locking mechanisms.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBMb2NraW5nIGEgZ2xvYmFsIG5vZGUKTE9DSyBeUGF0aWVudCgxMjM0NSkKCjsgUGVyZm9ybSBvcGVyYXRpb25zClNFVCBeUGF0aWVudCgxMjM0NSwgIk5hbWUiKSA9ICJKb2huIERvZSBVcGRhdGVkIgoKOyBVbmxvY2tpbmcgdGhlIGdsb2JhbCBub2RlClVOTE9DSyBeUGF0aWVudCgxMjM0NSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Locking a global node
LOCK ^Patient(12345)

; Perform operations
SET ^Patient(12345, &quot;Name&quot;) = &quot;John Doe Updated&quot;

; Unlocking the global node
UNLOCK ^Patient(12345)</pre></div><div class='content'></div><h2>Global Arrays and Indirection</h2>
<div class='content'><p>Globals can be manipulated using indirection, allowing dynamic access to global nodes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBVc2luZyBpbmRpcmVjdGlvbiB0byBzZXQgYSBnbG9iYWwgdmFsdWUKU0VUIGdsb2JhbE5hbWUgPSAiXlBhdGllbnQiClNFVCBAZ2xvYmFsTmFtZUAoMTIzNDUsICJBZGRyZXNzIikgPSAiMTIzIE1haW4gU3QiCgo7IFVzaW5nIGluZGlyZWN0aW9uIHRvIHJldHJpZXZlIGEgZ2xvYmFsIHZhbHVlCldSSVRFIEBnbG9iYWxOYW1lQCgxMjM0NSwgIkFkZHJlc3MiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Using indirection to set a global value
SET globalName = &quot;^Patient&quot;
SET @globalName@(12345, &quot;Address&quot;) = &quot;123 Main St&quot;

; Using indirection to retrieve a global value
WRITE @globalName@(12345, &quot;Address&quot;)</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Globals are a powerful feature in MUMPS that provide persistent, hierarchical, and multi-process accessible storage. Understanding how to effectively use globals, including setting, retrieving, traversing, and locking them, is crucial for developing robust MUMPS applications.</p>
<ul>
<li><strong>Persistent Storage</strong>: Globals ensure data is saved across sessions.</li>
<li><strong>Hierarchical Structure</strong>: Allows complex data relationships.</li>
<li><strong>Concurrency</strong>: Globals can be accessed by multiple processes, with locking mechanisms to ensure data integrity.</li>
</ul>
<p>By mastering globals, you will be able to handle complex data storage and retrieval tasks efficiently in MUMPS.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-input-output'>&#x25C4;Basic Input and Output</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Globals</a>
	</div>
	<div class='col-4 text-end'>
					<a href='local-vs-global-variables'>Local Variables vs. Global Variables &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
