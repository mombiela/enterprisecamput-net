<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One-to-One Relationships</title>

    <link rel="alternate" href="https://campusempresa.com/mongodb/one-to-one-relationships" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mongodb/one-to-one-relationships" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mongodb/one-to-one-relationships" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mongodb/one-to-one-relationships" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mongodb/one-to-one-relationships" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='embedded-documents-vs-references'>&#x25C4;Embedded Documents vs. References</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">One-to-One Relationships</a>
	</div>
	<div class='col-4 text-end'>
					<a href='one-to-many-relationships'>One-to-Many Relationships &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In MongoDB, a one-to-one relationship is a type of data relationship where a single document in one collection is associated with a single document in another collection. This is useful for scenarios where you want to separate data into different collections but still maintain a direct link between related documents.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>One-to-One Relationship</strong>: A relationship where each document in one collection is linked to exactly one document in another collection.</li>
<li><strong>Embedding</strong>: Storing related data within the same document.</li>
<li><strong>Referencing</strong>: Storing related data in separate documents and linking them using references.</li>
</ul>
</div><h1>Embedding vs. Referencing</h1>
<h2>Embedding</h2>
<div class='content'><ul>
<li><strong>Pros</strong>:
<ul>
<li>Simplicity: All related data is stored in a single document.</li>
<li>Performance: Faster read operations since all data is retrieved in one query.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>Document Size: MongoDB has a document size limit of 16MB, which can be a constraint.</li>
<li>Redundancy: Data duplication if the embedded data is used in multiple places.</li>
</ul>
</li>
</ul>
</div><h2>Referencing</h2>
<div class='content'><ul>
<li><strong>Pros</strong>:
<ul>
<li>Flexibility: Data can be normalized and reused across different collections.</li>
<li>Scalability: Better for large datasets as it avoids the 16MB document size limit.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>Complexity: Requires multiple queries to retrieve related data.</li>
<li>Performance: Slower read operations due to the need for additional queries.</li>
</ul>
</li>
</ul>
</div><h1>Implementing One-to-One Relationships</h1>
<div class='content'></div><h2>Using Embedding</h2>
<div class='content'><p>When using embedding, you store the related document directly within the parent document.</p>
<h4>Example</h4>
<p>Let's say we have a <code>users</code> collection and each user has a unique profile.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiBPYmplY3RJZCgiNjBjNzJiMmY5YjFkOGIxZjhjOGI0NTY3IiksCiAgInVzZXJuYW1lIjogImpvaG5kb2UiLAogICJlbWFpbCI6ICJqb2huZG9lQGV4YW1wbGUuY29tIiwKICAicHJvZmlsZSI6IHsKICAgICJhZ2UiOiAzMCwKICAgICJnZW5kZXIiOiAibWFsZSIsCiAgICAiYWRkcmVzcyI6ICIxMjMgTWFpbiBTdCIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b1f8c8b4567&quot;),
  &quot;username&quot;: &quot;johndoe&quot;,
  &quot;email&quot;: &quot;johndoe@example.com&quot;,
  &quot;profile&quot;: {
    &quot;age&quot;: 30,
    &quot;gender&quot;: &quot;male&quot;,
    &quot;address&quot;: &quot;123 Main St&quot;
  }
}</pre></div><div class='content'><p>In this example, the <code>profile</code> document is embedded within the <code>users</code> document.</p>
</div><h2>Using Referencing</h2>
<div class='content'><p>When using referencing, you store the related document in a separate collection and link them using a reference.</p>
<h4>Example</h4>
<p>Let's separate the <code>users</code> and <code>profiles</code> into two collections.</p>
<p><strong>Users Collection:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiBPYmplY3RJZCgiNjBjNzJiMmY5YjFkOGIxZjhjOGI0NTY3IiksCiAgInVzZXJuYW1lIjogImpvaG5kb2UiLAogICJlbWFpbCI6ICJqb2huZG9lQGV4YW1wbGUuY29tIiwKICAicHJvZmlsZV9pZCI6IE9iamVjdElkKCI2MGM3MmIzZjliMWQ4YjFmOGM4YjQ1NjgiKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b1f8c8b4567&quot;),
  &quot;username&quot;: &quot;johndoe&quot;,
  &quot;email&quot;: &quot;johndoe@example.com&quot;,
  &quot;profile_id&quot;: ObjectId(&quot;60c72b3f9b1d8b1f8c8b4568&quot;)
}</pre></div><div class='content'><p><strong>Profiles Collection:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiBPYmplY3RJZCgiNjBjNzJiM2Y5YjFkOGIxZjhjOGI0NTY4IiksCiAgImFnZSI6IDMwLAogICJnZW5kZXIiOiAibWFsZSIsCiAgImFkZHJlc3MiOiAiMTIzIE1haW4gU3QiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: ObjectId(&quot;60c72b3f9b1d8b1f8c8b4568&quot;),
  &quot;age&quot;: 30,
  &quot;gender&quot;: &quot;male&quot;,
  &quot;address&quot;: &quot;123 Main St&quot;
}</pre></div><div class='content'><p>In this example, the <code>users</code> document contains a reference to the <code>profiles</code> document using the <code>profile_id</code> field.</p>
</div><h1>Querying One-to-One Relationships</h1>
<div class='content'></div><h2>Querying Embedded Documents</h2>
<div class='content'><p>To retrieve a user along with their embedded profile, you simply query the <code>users</code> collection.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiAiam9obmRvZSIgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.findOne({ username: &quot;johndoe&quot; })</pre></div><div class='content'></div><h2>Querying Referenced Documents</h2>
<div class='content'><p>To retrieve a user and their profile, you need to perform two queries: one to get the user and another to get the profile.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogImpvaG5kb2UiIH0pOwpjb25zdCBwcm9maWxlID0gZGIucHJvZmlsZXMuZmluZE9uZSh7IF9pZDogdXNlci5wcm9maWxlX2lkIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const user = db.users.findOne({ username: &quot;johndoe&quot; });
const profile = db.profiles.findOne({ _id: user.profile_id });</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>One-to-one relationships in MongoDB can be implemented using either embedding or referencing, each with its own advantages and disadvantages. Embedding is simpler and faster for read operations but can lead to larger document sizes. Referencing is more flexible and scalable but requires more complex queries. Understanding these trade-offs will help you design efficient and maintainable MongoDB schemas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='embedded-documents-vs-references'>&#x25C4;Embedded Documents vs. References</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">One-to-One Relationships</a>
	</div>
	<div class='col-4 text-end'>
					<a href='one-to-many-relationships'>One-to-Many Relationships &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
