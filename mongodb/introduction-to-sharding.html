<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Sharding</title>

    <link rel="alternate" href="https://campusempresa.com/mongodb/introduction-to-sharding" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mongodb/introduction-to-sharding" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mongodb/introduction-to-sharding" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mongodb/introduction-to-sharding" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mongodb/introduction-to-sharding" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='setting-up-replica-sets'>&#x25C4;Setting Up Replica Sets</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Sharding</a>
	</div>
	<div class='col-4 text-end'>
					<a href='configuring-sharded-clusters'>Configuring Sharded Clusters &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Sharding is a method for distributing data across multiple machines. This is essential for handling large datasets and high throughput operations in MongoDB. In this topic, we will explore the concept of sharding, its benefits, and how to implement it in MongoDB.</p>
</div><h1>What is Sharding?</h1>
<div class='content'><p>Sharding is the process of storing data records across multiple machines and is MongoDB's approach to meeting the demands of data growth.</p>
<ul>
<li><strong>Horizontal Scaling</strong>: Sharding allows MongoDB to scale horizontally by adding more machines to handle increased load.</li>
<li><strong>Data Distribution</strong>: Data is distributed across shards, which are individual MongoDB instances.</li>
<li><strong>High Availability</strong>: Sharding can improve the availability of data by distributing it across multiple servers.</li>
</ul>
</div><h1>Benefits of Sharding</h1>
<div class='content'><ul>
<li><strong>Scalability</strong>: Easily scale your database horizontally by adding more shards.</li>
<li><strong>Performance</strong>: Distribute read and write operations across multiple servers to improve performance.</li>
<li><strong>Capacity</strong>: Store more data than a single machine's storage capacity.</li>
</ul>
</div><h1>Key Concepts in Sharding</h1>
<div class='content'><ul>
<li><strong>Shard</strong>: A single MongoDB instance that holds a subset of the data.</li>
<li><strong>Shard Key</strong>: A field or fields that determine how data is distributed across shards.</li>
<li><strong>Config Servers</strong>: Store metadata and configuration settings for the sharded cluster.</li>
<li><strong>Query Router (mongos)</strong>: Routes queries to the appropriate shard(s).</li>
</ul>
</div><h1>Sharding Architecture</h1>
<div class='content'><p>A sharded cluster consists of the following components:</p>
<p>| Component      | Description                                                                 |
|----------------|-----------------------------------------------------------------------------|
| Shards         | Store the actual data. Each shard can be a replica set or a single instance.|
| Config Servers | Store metadata and configuration settings for the cluster.                  |
| Query Routers  | Route client requests to the appropriate shard(s).                          |</p>
</div><h1>Implementing Sharding in MongoDB</h1>
<div class='content'></div><h2>Step 1: Enable Sharding on the Database</h2>
<div class='content'><p>First, you need to enable sharding on the database you want to shard.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2guZW5hYmxlU2hhcmRpbmcoIm15RGF0YWJhc2UiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sh.enableSharding(&quot;myDatabase&quot;)</pre></div><div class='content'></div><h2>Step 2: Choose a Shard Key</h2>
<div class='content'><p>Choosing an appropriate shard key is crucial for the performance and scalability of your sharded cluster. The shard key determines how data is distributed across shards.</p>
</div><h2>Step 3: Shard a Collection</h2>
<div class='content'><p>Once you have chosen a shard key, shard the collection.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2guc2hhcmRDb2xsZWN0aW9uKCJteURhdGFiYXNlLm15Q29sbGVjdGlvbiIsIHsgInNoYXJkS2V5RmllbGQiOiAxIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sh.shardCollection(&quot;myDatabase.myCollection&quot;, { &quot;shardKeyField&quot;: 1 })</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'><p>Let's consider an example where we have a collection of user data that we want to shard based on the <code>userId</code> field.</p>
<ol>
<li>
<p><strong>Enable Sharding on the Database</strong>:</p>
<pre><code class="language-javascript">sh.enableSharding(&quot;userDB&quot;)
</code></pre>
</li>
<li>
<p><strong>Shard the Collection</strong>:</p>
<pre><code class="language-javascript">sh.shardCollection(&quot;userDB.users&quot;, { &quot;userId&quot;: 1 })
</code></pre>
</li>
</ol>
<p>In this example, the <code>userId</code> field is used as the shard key, and data will be distributed across shards based on the values of <code>userId</code>.</p>
</div><h1>Best Practices for Sharding</h1>
<div class='content'><ul>
<li><strong>Choose the Right Shard Key</strong>: The shard key should have high cardinality and be evenly distributed.</li>
<li><strong>Monitor Performance</strong>: Regularly monitor the performance of your sharded cluster to identify and resolve bottlenecks.</li>
<li><strong>Plan for Growth</strong>: Consider future data growth when designing your sharded cluster.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Sharding is a powerful feature in MongoDB that allows you to scale your database horizontally by distributing data across multiple machines. By understanding the key concepts and following best practices, you can effectively implement sharding to handle large datasets and high throughput operations.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='setting-up-replica-sets'>&#x25C4;Setting Up Replica Sets</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Sharding</a>
	</div>
	<div class='col-4 text-end'>
					<a href='configuring-sharded-clusters'>Configuring Sharded Clusters &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
