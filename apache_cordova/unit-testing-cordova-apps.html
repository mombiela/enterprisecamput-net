<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing Cordova Apps</title>

    <link rel="alternate" href="https://campusempresa.com/apache_cordova/unit-testing-cordova-apps" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/apache_cordova/unit-testing-cordova-apps" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/apache_cordova/unit-testing-cordova-apps" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/apache_cordova/unit-testing-cordova-apps" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/apache_cordova/unit-testing-cordova-apps" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-native-code'>&#x25C4;Debugging Native Code</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing Cordova Apps</a>
	</div>
	<div class='col-4 text-end'>
					<a href='automated-ui-testing'>Automated UI Testing &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Unit testing is a crucial part of the development process, ensuring that individual units of your code work as expected. In this section, we will explore how to implement unit testing in Apache Cordova apps, from setting up the environment to writing and running tests.</p>
</div><h1>Introduction to Unit Testing</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Unit testing involves testing individual components or functions of an application in isolation.</li>
<li><strong>Purpose</strong>: To verify that each unit of the software performs as designed.</li>
<li><strong>Benefits</strong>:
<ul>
<li>Early detection of bugs.</li>
<li>Simplifies integration.</li>
<li>Facilitates code refactoring.</li>
<li>Improves code quality and reliability.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up the Testing Environment</h1>
<div class='content'><p>Before writing unit tests, you need to set up your testing environment. This involves installing necessary tools and frameworks.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li><strong>Node.js</strong>: Ensure Node.js is installed on your system.</li>
<li><strong>Cordova CLI</strong>: Make sure you have the Cordova CLI installed.</li>
</ul>
</div><h2>Installing Testing Frameworks</h2>
<div class='content'><p>For unit testing Cordova apps, popular frameworks include Jasmine, Mocha, and Karma. In this guide, we will use Jasmine and Karma.</p>
<ol>
<li>
<p><strong>Install Jasmine</strong>:</p>
<pre><code class="language-sh">npm install --save-dev jasmine
</code></pre>
</li>
<li>
<p><strong>Install Karma</strong>:</p>
<pre><code class="language-sh">npm install --save-dev karma karma-jasmine karma-chrome-launcher
</code></pre>
</li>
<li>
<p><strong>Initialize Jasmine</strong>:</p>
<pre><code class="language-sh">npx jasmine init
</code></pre>
</li>
<li>
<p><strong>Configure Karma</strong>:
Create a <code>karma.conf.js</code> file:</p>
<pre><code class="language-js">module.exports = function(config) {
  config.set({
    frameworks: ['jasmine'],
    files: [
      'www/js/**/*.js',
      'tests/**/*.spec.js'
    ],
    browsers: ['Chrome'],
    singleRun: true
  });
};
</code></pre>
</li>
</ol>
</div><h1>Writing Unit Tests</h1>
<div class='content'></div><h2>Basic Structure of a Jasmine Test</h2>
<div class='content'><p>A Jasmine test suite is composed of one or more test specs. Each spec contains one or more expectations that test the state of the code.</p>
<h4>Example: Testing a Simple Function</h4>
<p>Suppose we have a function <code>add</code> in <code>www/js/math.js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gYWRkKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function add(a, b) {
  return a + b;
}</pre></div><div class='content'><p>We can write a test for this function in <code>tests/math.spec.js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ01hdGggZnVuY3Rpb25zJywgZnVuY3Rpb24oKSB7CiAgaXQoJ3Nob3VsZCBhZGQgdHdvIG51bWJlcnMgY29ycmVjdGx5JywgZnVuY3Rpb24oKSB7CiAgICBleHBlY3QoYWRkKDEsIDIpKS50b0JlKDMpOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Math functions', function() {
  it('should add two numbers correctly', function() {
    expect(add(1, 2)).toBe(3);
  });
});</pre></div><div class='content'></div><h2>Testing Asynchronous Code</h2>
<div class='content'><p>Cordova apps often involve asynchronous operations. Jasmine provides ways to handle asynchronous code using <code>done</code> callbacks or <code>async/await</code>.</p>
<h4>Example: Testing Asynchronous Code</h4>
<p>Suppose we have an asynchronous function <code>fetchData</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKGNhbGxiYWNrKSB7CiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBjYWxsYmFjaygnZGF0YScpOwogIH0sIDEwMDApOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData(callback) {
  setTimeout(() =&gt; {
    callback('data');
  }, 1000);
}</pre></div><div class='content'><p>We can write a test for this function:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0FzeW5jaHJvbm91cyBmdW5jdGlvbnMnLCBmdW5jdGlvbigpIHsKICBpdCgnc2hvdWxkIGZldGNoIGRhdGEgY29ycmVjdGx5JywgZnVuY3Rpb24oZG9uZSkgewogICAgZmV0Y2hEYXRhKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgZXhwZWN0KGRhdGEpLnRvQmUoJ2RhdGEnKTsKICAgICAgZG9uZSgpOwogICAgfSk7CiAgfSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Asynchronous functions', function() {
  it('should fetch data correctly', function(done) {
    fetchData(function(data) {
      expect(data).toBe('data');
      done();
    });
  });
});</pre></div><div class='content'></div><h1>Running Unit Tests</h1>
<div class='content'><p>To run the tests, use the Karma CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGthcm1hIHN0YXJ0IGthcm1hLmNvbmYuanM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx karma start karma.conf.js</pre></div><div class='content'><p>This command will start the Karma test runner, which will execute the tests in the specified browsers and report the results.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Unit testing is an essential practice for developing robust Cordova applications. By setting up a proper testing environment and writing comprehensive tests, you can ensure that your app's components work as expected, leading to higher quality and more maintainable code. Remember to:</p>
<ul>
<li>Regularly run your tests during development.</li>
<li>Write tests for both synchronous and asynchronous code.</li>
<li>Refactor your code with confidence, knowing that your tests will catch any regressions.</li>
</ul>
<p>By integrating unit testing into your development workflow, you can significantly improve the reliability and quality of your Cordova apps.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-native-code'>&#x25C4;Debugging Native Code</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing Cordova Apps</a>
	</div>
	<div class='col-4 text-end'>
					<a href='automated-ui-testing'>Automated UI Testing &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
