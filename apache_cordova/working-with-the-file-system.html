<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working with the File System</title>

    <link rel="alternate" href="https://campusempresa.com/apache_cordova/working-with-the-file-system" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/apache_cordova/working-with-the-file-system" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/apache_cordova/working-with-the-file-system" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/apache_cordova/working-with-the-file-system" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/apache_cordova/working-with-the-file-system" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='accessing-geolocation'>&#x25C4;Accessing Geolocation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Working with the File System</a>
	</div>
	<div class='col-4 text-end'>
					<a href='implementing-push-notifications'>Implementing Push Notifications &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Apache Cordova allows you to build mobile applications using HTML, CSS, and JavaScript. One of the essential features of any mobile application is the ability to interact with the file system. This topic will guide you through the basics of working with the file system in Cordova, from beginner to advanced levels.</p>
</div><h1>Setting Up</h1>
<div class='content'><p>Before we start working with the file system, ensure you have the Cordova environment set up. If not, follow these steps:</p>
<ol>
<li>Install Node.js and npm.</li>
<li>Install Cordova globally using npm:
<pre><code class="language-sh">npm install -g cordova
</code></pre>
</li>
<li>Create a new Cordova project:
<pre><code class="language-sh">cordova create myApp
cd myApp
</code></pre>
</li>
<li>Add a platform (e.g., Android):
<pre><code class="language-sh">cordova platform add android
</code></pre>
</li>
</ol>
</div><h1>Installing the File Plugin</h1>
<div class='content'><p>To work with the file system, you need to install the Cordova File plugin:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWZpbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cordova plugin add cordova-plugin-file</pre></div><div class='content'></div><h1>Basic Concepts</h1>
<div class='content'><ul>
<li><strong>File System</strong>: The structure that stores files and directories.</li>
<li><strong>File</strong>: An individual piece of data stored in the file system.</li>
<li><strong>Directory</strong>: A container that holds files and other directories.</li>
</ul>
</div><h1>Accessing the File System</h1>
<div class='content'><p>To access the file system, you need to use the <code>cordova.file</code> object, which provides several properties representing different file system locations.</p>
</div><h2>Example: Accessing the Root Directory</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihkaXJlY3RvcnlFbnRyeSkgewogICAgICAgIGNvbnNvbGUubG9nKCJSb290IGRpcmVjdG9yeToiLCBkaXJlY3RvcnlFbnRyeSk7CiAgICB9LCBmdW5jdGlvbihlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFjY2Vzc2luZyBmaWxlIHN5c3RlbToiLCBlcnJvcik7CiAgICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('deviceready', function() {
    window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(directoryEntry) {
        console.log(&quot;Root directory:&quot;, directoryEntry);
    }, function(error) {
        console.error(&quot;Error accessing file system:&quot;, error);
    });
});</pre></div><div class='content'><ul>
<li><strong>cordova.file.dataDirectory</strong>: Represents the application's data directory.</li>
<li><strong>resolveLocalFileSystemURL</strong>: Resolves a file system URL to a directory entry.</li>
</ul>
</div><h1>Reading and Writing Files</h1>
<h2>Writing a File</h2>
<div class='content'><p>To write a file, you need to create or get a file entry and then write data to it.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihkaXJlY3RvcnlFbnRyeSkgewogICAgICAgIGRpcmVjdG9yeUVudHJ5LmdldEZpbGUoImV4YW1wbGUudHh0IiwgeyBjcmVhdGU6IHRydWUsIGV4Y2x1c2l2ZTogZmFsc2UgfSwgZnVuY3Rpb24oZmlsZUVudHJ5KSB7CiAgICAgICAgICAgIGZpbGVFbnRyeS5jcmVhdGVXcml0ZXIoZnVuY3Rpb24oZmlsZVdyaXRlcikgewogICAgICAgICAgICAgICAgdmFyIGRhdGFPYmogPSBuZXcgQmxvYihbJ0hlbGxvLCB3b3JsZCEnXSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7CgogICAgICAgICAgICAgICAgZmlsZVdyaXRlci53cml0ZShkYXRhT2JqKTsKCiAgICAgICAgICAgICAgICBmaWxlV3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRmlsZSB3cml0dGVuIHN1Y2Nlc3NmdWxseS4iKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgZmlsZVdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byB3cml0ZSBmaWxlOiIsIGUpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('deviceready', function() {
    window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(directoryEntry) {
        directoryEntry.getFile(&quot;example.txt&quot;, { create: true, exclusive: false }, function(fileEntry) {
            fileEntry.createWriter(function(fileWriter) {
                var dataObj = new Blob(['Hello, world!'], { type: 'text/plain' });

                fileWriter.write(dataObj);

                fileWriter.onwriteend = function() {
                    console.log(&quot;File written successfully.&quot;);
                };

                fileWriter.onerror = function(e) {
                    console.error(&quot;Failed to write file:&quot;, e);
                };
            });
        });
    });
});</pre></div><div class='content'><ul>
<li><strong>getFile</strong>: Gets a file entry, creating it if it doesn't exist.</li>
<li><strong>createWriter</strong>: Creates a file writer to write data to the file.</li>
</ul>
</div><h2>Reading a File</h2>
<div class='content'><p>To read a file, you need to get a file entry and then read its contents.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihkaXJlY3RvcnlFbnRyeSkgewogICAgICAgIGRpcmVjdG9yeUVudHJ5LmdldEZpbGUoImV4YW1wbGUudHh0IiwgeyBjcmVhdGU6IGZhbHNlIH0sIGZ1bmN0aW9uKGZpbGVFbnRyeSkgewogICAgICAgICAgICBmaWxlRW50cnkuZmlsZShmdW5jdGlvbihmaWxlKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkZpbGUgY29udGVudHM6IiwgdGhpcy5yZXN1bHQpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('deviceready', function() {
    window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(directoryEntry) {
        directoryEntry.getFile(&quot;example.txt&quot;, { create: false }, function(fileEntry) {
            fileEntry.file(function(file) {
                var reader = new FileReader();

                reader.onloadend = function() {
                    console.log(&quot;File contents:&quot;, this.result);
                };

                reader.readAsText(file);
            });
        });
    });
});</pre></div><div class='content'><ul>
<li><strong>FileReader</strong>: Reads the contents of a file.</li>
</ul>
</div><h1>Advanced Topics</h1>
<h2>Managing Directories</h2>
<div class='content'><p>You can create, read, and delete directories similarly to files.</p>
<h4>Creating a Directory</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihkaXJlY3RvcnlFbnRyeSkgewogICAgICAgIGRpcmVjdG9yeUVudHJ5LmdldERpcmVjdG9yeSgibmV3RGlyIiwgeyBjcmVhdGU6IHRydWUgfSwgZnVuY3Rpb24obmV3RGlyRW50cnkpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkRpcmVjdG9yeSBjcmVhdGVkOiIsIG5ld0RpckVudHJ5KTsKICAgICAgICB9KTsKICAgIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('deviceready', function() {
    window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(directoryEntry) {
        directoryEntry.getDirectory(&quot;newDir&quot;, { create: true }, function(newDirEntry) {
            console.log(&quot;Directory created:&quot;, newDirEntry);
        });
    });
});</pre></div><div class='content'><h4>Deleting a Directory</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihkaXJlY3RvcnlFbnRyeSkgewogICAgICAgIGRpcmVjdG9yeUVudHJ5LmdldERpcmVjdG9yeSgibmV3RGlyIiwgeyBjcmVhdGU6IGZhbHNlIH0sIGZ1bmN0aW9uKG5ld0RpckVudHJ5KSB7CiAgICAgICAgICAgIG5ld0RpckVudHJ5LnJlbW92ZVJlY3Vyc2l2ZWx5KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRpcmVjdG9yeSBkZWxldGVkLiIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('deviceready', function() {
    window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(directoryEntry) {
        directoryEntry.getDirectory(&quot;newDir&quot;, { create: false }, function(newDirEntry) {
            newDirEntry.removeRecursively(function() {
                console.log(&quot;Directory deleted.&quot;);
            });
        });
    });
});</pre></div><div class='content'></div><h2>Handling Errors</h2>
<div class='content'><p>Always handle errors to ensure your application can gracefully recover from issues.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gb25FcnJvcihlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiRXJyb3IgY29kZToiLCBlcnJvci5jb2RlKTsKfQoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihkaXJlY3RvcnlFbnRyeSkgewogICAgICAgIGRpcmVjdG9yeUVudHJ5LmdldEZpbGUoIm5vbmV4aXN0ZW50LnR4dCIsIHsgY3JlYXRlOiBmYWxzZSB9LCBudWxsLCBvbkVycm9yKTsKICAgIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function onError(error) {
    console.error(&quot;Error code:&quot;, error.code);
}

document.addEventListener('deviceready', function() {
    window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function(directoryEntry) {
        directoryEntry.getFile(&quot;nonexistent.txt&quot;, { create: false }, null, onError);
    });
});</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Working with the file system in Apache Cordova involves understanding how to access different file system locations, read and write files, and manage directories. By mastering these concepts, you can create robust mobile applications that efficiently handle file operations.</p>
<ul>
<li><strong>Key Points</strong>:
<ul>
<li>Install the Cordova File plugin.</li>
<li>Use <code>cordova.file</code> to access different file system locations.</li>
<li>Read and write files using <code>FileReader</code> and <code>FileWriter</code>.</li>
<li>Manage directories by creating, reading, and deleting them.</li>
<li>Always handle errors to ensure a smooth user experience.</li>
</ul>
</li>
</ul>
<p>By following these guidelines and examples, you should be well-equipped to handle file system operations in your Cordova applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='accessing-geolocation'>&#x25C4;Accessing Geolocation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Working with the File System</a>
	</div>
	<div class='col-4 text-end'>
					<a href='implementing-push-notifications'>Implementing Push Notifications &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
