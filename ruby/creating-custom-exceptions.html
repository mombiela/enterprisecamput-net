<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Custom Exceptions</title>

    <link rel="alternate" href="https://campusempresa.com/ruby/creating-custom-exceptions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/ruby/creating-custom-exceptions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/ruby/creating-custom-exceptions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/ruby/creating-custom-exceptions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/ruby/creating-custom-exceptions" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='handling-exceptions'>&#x25C4;Handling Exceptions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Custom Exceptions</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ensuring-cleanup-with-ensure'>Ensuring Cleanup with Ensure &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In Ruby, exceptions are used to handle errors and other exceptional events. While Ruby provides a rich set of built-in exceptions, there are times when you might need to create your own custom exceptions to handle specific situations in your application. This section will guide you through the process of creating and using custom exceptions in Ruby.</p>
</div><h1>Why Create Custom Exceptions?</h1>
<div class='content'><ul>
<li><strong>Specificity</strong>: Custom exceptions allow you to handle specific error conditions more precisely.</li>
<li><strong>Readability</strong>: They make your code more readable and maintainable by clearly indicating what kind of error has occurred.</li>
<li><strong>Separation of Concerns</strong>: Custom exceptions help in separating error handling logic from the main code logic.</li>
</ul>
</div><h1>Creating a Custom Exception</h1>
<div class='content'><p>Creating a custom exception in Ruby is straightforward. You simply need to define a new class that inherits from the <code>StandardError</code> class or any other existing exception class.</p>
</div><h2>Basic Example</h2>
<div class='content'><p>Here is a basic example of creating and using a custom exception:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTXlDdXN0b21FcnJvciA8IFN0YW5kYXJkRXJyb3IKZW5kCgpkZWYgcmlza3lfbWV0aG9kCiAgcmFpc2UgTXlDdXN0b21FcnJvciwgIlNvbWV0aGluZyB3ZW50IHdyb25nISIKZW5kCgpiZWdpbgogIHJpc2t5X21ldGhvZApyZXNjdWUgTXlDdXN0b21FcnJvciA9PiBlCiAgcHV0cyBlLm1lc3NhZ2UKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MyCustomError &lt; StandardError
end

def risky_method
  raise MyCustomError, &quot;Something went wrong!&quot;
end

begin
  risky_method
rescue MyCustomError =&gt; e
  puts e.message
end</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Defining the Exception</strong>: <code>class MyCustomError &lt; StandardError</code> creates a new exception class named <code>MyCustomError</code> that inherits from <code>StandardError</code>.</li>
<li><strong>Raising the Exception</strong>: <code>raise MyCustomError, &quot;Something went wrong!&quot;</code> raises the custom exception with a specific error message.</li>
<li><strong>Handling the Exception</strong>: The <code>begin...rescue</code> block is used to handle the exception. When <code>MyCustomError</code> is raised, the rescue block catches it and prints the error message.</li>
</ul>
</div><h1>Adding Custom Behavior</h1>
<div class='content'><p>You can add custom behavior to your exception classes by defining methods within them.</p>
</div><h2>Example with Custom Behavior</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgSW52YWxpZEFnZUVycm9yIDwgU3RhbmRhcmRFcnJvcgogIGF0dHJfcmVhZGVyIDphZ2UKCiAgZGVmIGluaXRpYWxpemUoYWdlKQogICAgQGFnZSA9IGFnZQogICAgc3VwZXIoIkludmFsaWQgYWdlOiAje2FnZX0iKQogIGVuZAplbmQKCmRlZiB2YWxpZGF0ZV9hZ2UoYWdlKQogIHJhaXNlIEludmFsaWRBZ2VFcnJvci5uZXcoYWdlKSBpZiBhZ2UgPCAwIHx8IGFnZSA+IDE1MAogIHB1dHMgIkFnZSBpcyB2YWxpZC4iCmVuZAoKYmVnaW4KICB2YWxpZGF0ZV9hZ2UoLTUpCnJlc2N1ZSBJbnZhbGlkQWdlRXJyb3IgPT4gZQogIHB1dHMgZS5tZXNzYWdlCiAgcHV0cyAiSW52YWxpZCBhZ2UgcHJvdmlkZWQ6ICN7ZS5hZ2V9IgplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class InvalidAgeError &lt; StandardError
  attr_reader :age

  def initialize(age)
    @age = age
    super(&quot;Invalid age: #{age}&quot;)
  end
end

def validate_age(age)
  raise InvalidAgeError.new(age) if age &lt; 0 || age &gt; 150
  puts &quot;Age is valid.&quot;
end

begin
  validate_age(-5)
rescue InvalidAgeError =&gt; e
  puts e.message
  puts &quot;Invalid age provided: #{e.age}&quot;
end</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Custom Initialization</strong>: The <code>initialize</code> method is overridden to accept an <code>age</code> parameter and set an instance variable.</li>
<li><strong>Custom Message</strong>: <code>super(&quot;Invalid age: #{age}&quot;)</code> calls the parent class's <code>initialize</code> method with a custom error message.</li>
<li><strong>Accessing Custom Data</strong>: The <code>attr_reader :age</code> line creates a getter method for the <code>age</code> instance variable, allowing it to be accessed in the rescue block.</li>
</ul>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Inherit from StandardError</strong>: Always inherit from <code>StandardError</code> or its subclasses to ensure your custom exceptions are properly handled by Ruby's default rescue mechanism.</li>
<li><strong>Meaningful Names</strong>: Give your custom exceptions meaningful names that clearly indicate the type of error.</li>
<li><strong>Custom Messages</strong>: Provide informative error messages to make debugging easier.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Creating custom exceptions in Ruby allows you to handle specific error conditions more effectively and make your code more readable and maintainable. By following best practices and adding custom behavior when necessary, you can create robust error-handling mechanisms tailored to your application's needs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='handling-exceptions'>&#x25C4;Handling Exceptions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Custom Exceptions</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ensuring-cleanup-with-ensure'>Ensuring Cleanup with Ensure &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
