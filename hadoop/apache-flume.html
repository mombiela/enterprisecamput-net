<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Flume</title>

    <link rel="alternate" href="https://campusempresa.com/hadoop/apache-flume" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/hadoop/apache-flume" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/hadoop/apache-flume" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/hadoop/apache-flume" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/hadoop/apache-flume" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='apache-sqoop'>&#x25C4;Apache Sqoop</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Apache Flume</a>
	</div>
	<div class='col-4 text-end'>
					<a href='apache-oozie'>Apache Oozie &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Apache Flume is a distributed, reliable, and available service for efficiently collecting, aggregating, and moving large amounts of log data. It is a robust, fault-tolerant, and highly available system that can handle large volumes of data with ease, making it an essential tool for Hadoop-based data ingestion.</p>
</div><h1>Introduction to Apache Flume</h1>
<div class='content'><ul>
<li>
<p><strong>What is Apache Flume?</strong></p>
<ul>
<li>A distributed service for collecting, aggregating, and moving large amounts of log data.</li>
<li>Designed for scalability and reliability.</li>
<li>Often used to ingest data into Hadoop's HDFS.</li>
</ul>
</li>
<li>
<p><strong>Key Features of Apache Flume:</strong></p>
<ul>
<li><strong>Reliability:</strong> Ensures data is not lost during transit.</li>
<li><strong>Scalability:</strong> Can handle large volumes of data.</li>
<li><strong>Flexibility:</strong> Supports various data sources and sinks.</li>
<li><strong>Extensibility:</strong> Allows custom implementations for sources, sinks, and channels.</li>
</ul>
</li>
</ul>
</div><h1>Architecture of Apache Flume</h1>
<div class='content'><ul>
<li>
<p><strong>Core Components:</strong></p>
<ul>
<li><strong>Source:</strong> The component that receives data from external sources.</li>
<li><strong>Channel:</strong> The conduit between the source and the sink, acting as a buffer.</li>
<li><strong>Sink:</strong> The component that delivers data to the final destination.</li>
</ul>
</li>
<li>
<p><strong>Data Flow:</strong></p>
<ol>
<li><strong>Event Creation:</strong> Data is generated by an external source.</li>
<li><strong>Event Collection:</strong> The source collects the data and stores it in the channel.</li>
<li><strong>Event Delivery:</strong> The sink retrieves data from the channel and delivers it to the final destination.</li>
</ol>
</li>
<li>
<p><strong>Example Architecture Diagram:</strong></p>
<pre><code>[External Source] --&gt; [Flume Source] --&gt; [Flume Channel] --&gt; [Flume Sink] --&gt; [HDFS]
</code></pre>
</li>
</ul>
</div><h1>Setting Up Apache Flume</h1>
<div class='content'><ul>
<li>
<p><strong>Installation:</strong></p>
<ul>
<li>Download the latest version from the Apache Flume website.</li>
<li>Extract the tarball and set up environment variables.</li>
</ul>
<pre><code class="language-bash">tar -xzf apache-flume-&lt;version&gt;-bin.tar.gz
export FLUME_HOME=/path/to/apache-flume-&lt;version&gt;
export PATH=$PATH:$FLUME_HOME/bin
</code></pre>
</li>
<li>
<p><strong>Configuration:</strong></p>
<ul>
<li>
<p>Flume uses configuration files to define sources, channels, and sinks.</p>
</li>
<li>
<p>Example configuration file (<code>flume.conf</code>):</p>
<pre><code class="language-properties"># Define the agent
agent1.sources = source1
agent1.channels = channel1
agent1.sinks = sink1

# Define the source
agent1.sources.source1.type = netcat
agent1.sources.source1.bind = localhost
agent1.sources.source1.port = 44444

# Define the channel
agent1.channels.channel1.type = memory
agent1.channels.channel1.capacity = 1000
agent1.channels.channel1.transactionCapacity = 100

# Define the sink
agent1.sinks.sink1.type = hdfs
agent1.sinks.sink1.hdfs.path = hdfs://localhost:9000/flume/events
agent1.sinks.sink1.hdfs.fileType = DataStream
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Running Flume:</strong></p>
<ul>
<li>
<p>Start the Flume agent using the configuration file.</p>
<pre><code class="language-bash">flume-ng agent --conf ./conf --conf-file flume.conf --name agent1 -Dflume.root.logger=INFO,console
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Advanced Concepts</h1>
<div class='content'><ul>
<li>
<p><strong>Custom Sources, Channels, and Sinks:</strong></p>
<ul>
<li>
<p>Implement custom components to extend Flume's functionality.</p>
</li>
<li>
<p>Example of a custom source implementation:</p>
<pre><code class="language-java">public class CustomSource extends AbstractSource implements Configurable, PollableSource {
    @Override
    public void configure(Context context) {
        // Configuration logic
    }

    @Override
    public Status process() throws EventDeliveryException {
        // Processing logic
        return Status.READY;
    }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Interceptors:</strong></p>
<ul>
<li>
<p>Used to modify or inspect events as they pass through the source.</p>
</li>
<li>
<p>Example configuration for an interceptor:</p>
<pre><code class="language-properties">agent1.sources.source1.interceptors = i1
agent1.sources.source1.interceptors.i1.type = timestamp
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Multi-agent Flume Setup:</strong></p>
<ul>
<li>
<p>Use multiple agents to scale and distribute data ingestion.</p>
</li>
<li>
<p>Example configuration for chaining agents:</p>
<pre><code class="language-properties"># Agent 1
agent1.sources = source1
agent1.channels = channel1
agent1.sinks = sink1

agent1.sources.source1.type = netcat
agent1.sources.source1.bind = localhost
agent1.sources.source1.port = 44444

agent1.channels.channel1.type = memory
agent1.channels.channel1.capacity = 1000
agent1.channels.channel1.transactionCapacity = 100

agent1.sinks.sink1.type = avro
agent1.sinks.sink1.hostname = localhost
agent1.sinks.sink1.port = 55555

# Agent 2
agent2.sources = source2
agent2.channels = channel2
agent2.sinks = sink2

agent2.sources.source2.type = avro
agent2.sources.source2.bind = localhost
agent2.sources.source2.port = 55555

agent2.channels.channel2.type = memory
agent2.channels.channel2.capacity = 1000
agent2.channels.channel2.transactionCapacity = 100

agent2.sinks.sink2.type = hdfs
agent2.sinks.sink2.hdfs.path = hdfs://localhost:9000/flume/events
agent2.sinks.sink2.hdfs.fileType = DataStream
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Apache Flume is a powerful tool for data ingestion in Hadoop ecosystems. Its architecture, consisting of sources, channels, and sinks, allows for flexible and reliable data flow. By understanding the basics and advanced concepts of Flume, you can efficiently collect and transport large volumes of data to your Hadoop cluster. Whether you are setting up a simple single-agent configuration or a complex multi-agent system, Flume provides the scalability and reliability needed for robust data ingestion.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='apache-sqoop'>&#x25C4;Apache Sqoop</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Apache Flume</a>
	</div>
	<div class='col-4 text-end'>
					<a href='apache-oozie'>Apache Oozie &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
