<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot and Microservices</title>

    <link rel="alternate" href="https://campusempresa.com/springboot/spring-boot-and-microservices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/springboot/spring-boot-and-microservices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/springboot/spring-boot-and-microservices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/springboot/spring-boot-and-microservices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/springboot/spring-boot-and-microservices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='spring-boot-with-docker'>&#x25C4;Spring Boot with Docker</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Spring Boot and Microservices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='spring-boot-performance-tuning'>Spring Boot Performance Tuning &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Microservices</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Microservices architecture is a method of developing software systems that tries to focus on building single-function modules with well-defined interfaces and operations.</li>
<li><strong>Benefits</strong>:
<ul>
<li>Scalability</li>
<li>Flexibility</li>
<li>Resilience</li>
<li>Independent deployment</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Spring Boot for Microservices</h1>
<div class='content'><ul>
<li><strong>Spring Boot Overview</strong>: Spring Boot simplifies the development of new Spring applications by providing defaults for code and annotation configuration.</li>
<li><strong>Creating a Spring Boot Project</strong>:
<ul>
<li>Use Spring Initializr (https://start.spring.io/) to generate a new Spring Boot project.</li>
<li>Include dependencies such as Spring Web, Spring Data JPA, and H2 Database.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFNwcmluZ0Jvb3RBcHBsaWNhdGlvbgpwdWJsaWMgY2xhc3MgTWljcm9zZXJ2aWNlQXBwbGljYXRpb24gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFNwcmluZ0FwcGxpY2F0aW9uLnJ1bihNaWNyb3NlcnZpY2VBcHBsaWNhdGlvbi5jbGFzcywgYXJncyk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@SpringBootApplication
public class MicroserviceApplication {
    public static void main(String[] args) {
        SpringApplication.run(MicroserviceApplication.class, args);
    }
}</pre></div><div class='content'></div><h1>Building a Simple Microservice</h1>
<div class='content'><ul>
<li><strong>Creating a REST Controller</strong>:
<ul>
<li>Define a simple REST endpoint to handle HTTP requests.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBTaW1wbGVDb250cm9sbGVyIHsKICAgIAogICAgQEdldE1hcHBpbmcoIi9oZWxsbyIpCiAgICBwdWJsaWMgU3RyaW5nIHNheUhlbGxvKCkgewogICAgICAgIHJldHVybiAiSGVsbG8sIFdvcmxkISI7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class SimpleController {
    
    @GetMapping(&quot;/hello&quot;)
    public String sayHello() {
        return &quot;Hello, World!&quot;;
    }
}</pre></div><div class='content'><ul>
<li><strong>Running the Application</strong>:
<ul>
<li>Use <code>mvn spring-boot:run</code> to start the application.</li>
<li>Access the endpoint at <code>http://localhost:8080/api/hello</code>.</li>
</ul>
</li>
</ul>
</div><h1>Inter-Service Communication</h1>
<div class='content'><ul>
<li><strong>REST Template</strong>: A synchronous client to perform HTTP requests.</li>
<li><strong>Feign Client</strong>: A declarative web service client that makes writing web service clients easier.</li>
</ul>
</div><h2>Using RestTemplate</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBDb21tdW5pY2F0aW9uQ29udHJvbGxlciB7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBSZXN0VGVtcGxhdGUgcmVzdFRlbXBsYXRlOwoKICAgIEBHZXRNYXBwaW5nKCIvZmV0Y2gtZGF0YSIpCiAgICBwdWJsaWMgU3RyaW5nIGZldGNoRGF0YSgpIHsKICAgICAgICBTdHJpbmcgcmVzcG9uc2UgPSByZXN0VGVtcGxhdGUuZ2V0Rm9yT2JqZWN0KCJodHRwOi8vb3RoZXItc2VydmljZS9hcGkvZGF0YSIsIFN0cmluZy5jbGFzcyk7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class CommunicationController {

    @Autowired
    private RestTemplate restTemplate;

    @GetMapping(&quot;/fetch-data&quot;)
    public String fetchData() {
        String response = restTemplate.getForObject(&quot;http://other-service/api/data&quot;, String.class);
        return response;
    }
}</pre></div><div class='content'></div><h2>Using Feign Client</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QEZlaWduQ2xpZW50KG5hbWUgPSAib3RoZXItc2VydmljZSIpCnB1YmxpYyBpbnRlcmZhY2UgT3RoZXJTZXJ2aWNlQ2xpZW50IHsKCiAgICBAR2V0TWFwcGluZygiL2FwaS9kYXRhIikKICAgIFN0cmluZyBnZXREYXRhKCk7Cn0KCkBSZXN0Q29udHJvbGxlcgpAUmVxdWVzdE1hcHBpbmcoIi9hcGkiKQpwdWJsaWMgY2xhc3MgQ29tbXVuaWNhdGlvbkNvbnRyb2xsZXIgewoKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgT3RoZXJTZXJ2aWNlQ2xpZW50IG90aGVyU2VydmljZUNsaWVudDsKCiAgICBAR2V0TWFwcGluZygiL2ZldGNoLWRhdGEiKQogICAgcHVibGljIFN0cmluZyBmZXRjaERhdGEoKSB7CiAgICAgICAgcmV0dXJuIG90aGVyU2VydmljZUNsaWVudC5nZXREYXRhKCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@FeignClient(name = &quot;other-service&quot;)
public interface OtherServiceClient {

    @GetMapping(&quot;/api/data&quot;)
    String getData();
}

@RestController
@RequestMapping(&quot;/api&quot;)
public class CommunicationController {

    @Autowired
    private OtherServiceClient otherServiceClient;

    @GetMapping(&quot;/fetch-data&quot;)
    public String fetchData() {
        return otherServiceClient.getData();
    }
}</pre></div><div class='content'></div><h1>Service Discovery with Eureka</h1>
<div class='content'><ul>
<li><strong>Eureka Server</strong>: Acts as a service registry.</li>
<li><strong>Eureka Client</strong>: Registers itself with the Eureka Server.</li>
</ul>
</div><h2>Setting Up Eureka Server</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFNwcmluZ0Jvb3RBcHBsaWNhdGlvbgpARW5hYmxlRXVyZWthU2VydmVyCnB1YmxpYyBjbGFzcyBFdXJla2FTZXJ2ZXJBcHBsaWNhdGlvbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3ByaW5nQXBwbGljYXRpb24ucnVuKEV1cmVrYVNlcnZlckFwcGxpY2F0aW9uLmNsYXNzLCBhcmdzKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@SpringBootApplication
@EnableEurekaServer
public class EurekaServerApplication {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServerApplication.class, args);
    }
}</pre></div><div class='content'></div><h2>Configuring Eureka Client</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHBsaWNhdGlvbi55bWwKZXVyZWthOgogIGNsaWVudDoKICAgIHNlcnZpY2UtdXJsOgogICAgICBkZWZhdWx0Wm9uZTogaHR0cDovL2xvY2FsaG9zdDo4NzYxL2V1cmVrYS8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># application.yml
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/</pre></div><div class='content'></div><h1>API Gateway with Spring Cloud Gateway</h1>
<div class='content'><ul>
<li><strong>Purpose</strong>: Acts as a single entry point for all microservices.</li>
<li><strong>Configuration</strong>:
<ul>
<li>Define routes to different microservices.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHBsaWNhdGlvbi55bWwKc3ByaW5nOgogIGNsb3VkOgogICAgZ2F0ZXdheToKICAgICAgcm91dGVzOgogICAgICAgIC0gaWQ6IHNpbXBsZS1zZXJ2aWNlCiAgICAgICAgICB1cmk6IGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MQogICAgICAgICAgcHJlZGljYXRlczoKICAgICAgICAgICAgLSBQYXRoPS9hcGkvc2ltcGxlLyoq"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># application.yml
spring:
  cloud:
    gateway:
      routes:
        - id: simple-service
          uri: http://localhost:8081
          predicates:
            - Path=/api/simple/**</pre></div><div class='content'></div><h1>Circuit Breaker with Resilience4j</h1>
<div class='content'><ul>
<li><strong>Purpose</strong>: Handle failures gracefully and provide fallback mechanisms.</li>
<li><strong>Implementation</strong>:
<ul>
<li>Add Resilience4j dependency.</li>
<li>Annotate methods with <code>@CircuitBreaker</code>.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBDaXJjdWl0QnJlYWtlckNvbnRyb2xsZXIgewoKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgUmVzdFRlbXBsYXRlIHJlc3RUZW1wbGF0ZTsKCiAgICBAR2V0TWFwcGluZygiL2ZldGNoLWRhdGEiKQogICAgQENpcmN1aXRCcmVha2VyKG5hbWUgPSAib3RoZXJTZXJ2aWNlIiwgZmFsbGJhY2tNZXRob2QgPSAiZmFsbGJhY2siKQogICAgcHVibGljIFN0cmluZyBmZXRjaERhdGEoKSB7CiAgICAgICAgcmV0dXJuIHJlc3RUZW1wbGF0ZS5nZXRGb3JPYmplY3QoImh0dHA6Ly9vdGhlci1zZXJ2aWNlL2FwaS9kYXRhIiwgU3RyaW5nLmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGZhbGxiYWNrKFRocm93YWJsZSB0KSB7CiAgICAgICAgcmV0dXJuICJGYWxsYmFjayByZXNwb25zZSI7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class CircuitBreakerController {

    @Autowired
    private RestTemplate restTemplate;

    @GetMapping(&quot;/fetch-data&quot;)
    @CircuitBreaker(name = &quot;otherService&quot;, fallbackMethod = &quot;fallback&quot;)
    public String fetchData() {
        return restTemplate.getForObject(&quot;http://other-service/api/data&quot;, String.class);
    }

    public String fallback(Throwable t) {
        return &quot;Fallback response&quot;;
    }
}</pre></div><div class='content'></div><h1>Security in Microservices</h1>
<div class='content'><ul>
<li><strong>OAuth2 and JWT</strong>: Use OAuth2 for authentication and JWT for token-based security.</li>
<li><strong>Spring Security</strong>: Integrate Spring Security to secure endpoints.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QEVuYWJsZVdlYlNlY3VyaXR5CnB1YmxpYyBjbGFzcyBTZWN1cml0eUNvbmZpZyBleHRlbmRzIFdlYlNlY3VyaXR5Q29uZmlndXJlckFkYXB0ZXIgewoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgY29uZmlndXJlKEh0dHBTZWN1cml0eSBodHRwKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBodHRwCiAgICAgICAgICAgIC5hdXRob3JpemVSZXF1ZXN0cygpCiAgICAgICAgICAgIC5hbnRNYXRjaGVycygiL2FwaS9wdWJsaWMvKioiKS5wZXJtaXRBbGwoKQogICAgICAgICAgICAuYW55UmVxdWVzdCgpLmF1dGhlbnRpY2F0ZWQoKQogICAgICAgICAgICAuYW5kKCkKICAgICAgICAgICAgLm9hdXRoMkxvZ2luKCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            .authorizeRequests()
            .antMatchers(&quot;/api/public/**&quot;).permitAll()
            .anyRequest().authenticated()
            .and()
            .oauth2Login();
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this topic, we covered the essentials of building microservices using Spring Boot. We started with the basics of microservices architecture and moved on to creating simple microservices. We explored inter-service communication using RestTemplate and Feign Client, service discovery with Eureka, API Gateway with Spring Cloud Gateway, and resilience with Resilience4j. Finally, we touched on securing microservices using OAuth2 and Spring Security. With these concepts, you are well-equipped to build and manage robust microservices architectures using Spring Boot.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='spring-boot-with-docker'>&#x25C4;Spring Boot with Docker</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Spring Boot and Microservices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='spring-boot-performance-tuning'>Spring Boot Performance Tuning &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
