<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing with JUnit and Mockito</title>

    <link rel="alternate" href="https://campusempresa.com/springboot/unit-testing-with-junit-and-mockito" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/springboot/unit-testing-with-junit-and-mockito" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/springboot/unit-testing-with-junit-and-mockito" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/springboot/unit-testing-with-junit-and-mockito" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/springboot/unit-testing-with-junit-and-mockito" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-testing-in-spring-boot'>&#x25C4;Introduction to Testing in Spring Boot</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with JUnit and Mockito</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Integration Testing &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Unit Testing</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Unit testing involves testing individual components or functions of a software application to ensure they work as expected.</li>
<li><strong>Importance</strong>: Helps in identifying bugs early, simplifies integration, and ensures code reliability.</li>
</ul>
</div><h1>Setting Up JUnit and Mockito in Spring Boot</h1>
<div class='content'><ul>
<li><strong>Dependencies</strong>: Add the necessary dependencies in your <code>pom.xml</code> or <code>build.gradle</code> file.</li>
</ul>
</div><h2>Maven</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXRlc3Q8L2FydGlmYWN0SWQ+CiAgICA8c2NvcGU+dGVzdDwvc2NvcGU+CjwvZGVwZW5kZW5jeT4KPGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcubW9ja2l0bzwvZ3JvdXBJZD4KICAgIDxhcnRpZmFjdElkPm1vY2tpdG8tY29yZTwvYXJ0aWZhY3RJZD4KICAgIDxzY29wZT50ZXN0PC9zY29wZT4KPC9kZXBlbmRlbmN5Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.mockito&lt;/groupId&gt;
    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Gradle</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdEltcGxlbWVudGF0aW9uICdvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q6c3ByaW5nLWJvb3Qtc3RhcnRlci10ZXN0Jwp0ZXN0SW1wbGVtZW50YXRpb24gJ29yZy5tb2NraXRvOm1vY2tpdG8tY29yZSc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>testImplementation 'org.springframework.boot:spring-boot-starter-test'
testImplementation 'org.mockito:mockito-core'</pre></div><div class='content'></div><h1>Writing Unit Tests with JUnit</h1>
<div class='content'><ul>
<li><strong>Basic Structure</strong>: A typical JUnit test class includes setup methods, test methods, and teardown methods.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5CZWZvcmVFYWNoOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0IHsKCiAgICBwcml2YXRlIENhbGN1bGF0b3IgY2FsY3VsYXRvcjsKCiAgICBAQmVmb3JlRWFjaAogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RBZGRpdGlvbigpIHsKICAgICAgICBpbnQgcmVzdWx0ID0gY2FsY3VsYXRvci5hZGQoMiwgMyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIHJlc3VsdCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class CalculatorTest {

    private Calculator calculator;

    @BeforeEach
    public void setUp() {
        calculator = new Calculator();
    }

    @Test
    public void testAddition() {
        int result = calculator.add(2, 3);
        assertEquals(5, result);
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>@BeforeEach</code>: Initializes the test environment before each test.</li>
<li><code>@Test</code>: Marks a method as a test method.</li>
<li><code>assertEquals</code>: Asserts that the expected result matches the actual result.</li>
</ul>
</li>
</ul>
</div><h1>Introduction to Mockito</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Mockito is a mocking framework used to create mock objects for unit testing.</li>
<li><strong>Purpose</strong>: Allows testing of components in isolation by simulating dependencies.</li>
</ul>
</div><h1>Using Mockito in Unit Tests</h1>
<div class='content'><ul>
<li><strong>Annotations</strong>: Key annotations include <code>@Mock</code>, <code>@InjectMocks</code>, and <code>@RunWith(MockitoJUnitRunner.class)</code>.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5CZWZvcmVFYWNoOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBvcmcubW9ja2l0by5JbmplY3RNb2NrczsKaW1wb3J0IG9yZy5tb2NraXRvLk1vY2s7CmltcG9ydCBvcmcubW9ja2l0by5Nb2NraXRvQW5ub3RhdGlvbnM7CgppbXBvcnQgc3RhdGljIG9yZy5tb2NraXRvLk1vY2tpdG8ud2hlbjsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CgpwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0IHsKCiAgICBATW9jawogICAgcHJpdmF0ZSBVc2VyUmVwb3NpdG9yeSB1c2VyUmVwb3NpdG9yeTsKCiAgICBASW5qZWN0TW9ja3MKICAgIHByaXZhdGUgVXNlclNlcnZpY2UgdXNlclNlcnZpY2U7CgogICAgQEJlZm9yZUVhY2gKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIE1vY2tpdG9Bbm5vdGF0aW9ucy5vcGVuTW9ja3ModGhpcyk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRVc2VyQnlJZCgpIHsKICAgICAgICBVc2VyIG1vY2tVc2VyID0gbmV3IFVzZXIoMSwgIkpvaG4gRG9lIik7CiAgICAgICAgd2hlbih1c2VyUmVwb3NpdG9yeS5maW5kQnlJZCgxKSkudGhlblJldHVybihPcHRpb25hbC5vZihtb2NrVXNlcikpOwoKICAgICAgICBVc2VyIHVzZXIgPSB1c2VyU2VydmljZS5nZXRVc2VyQnlJZCgxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkpvaG4gRG9lIiwgdXNlci5nZXROYW1lKCkpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;

import static org.mockito.Mockito.when;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class UserServiceTest {

    @Mock
    private UserRepository userRepository;

    @InjectMocks
    private UserService userService;

    @BeforeEach
    public void setUp() {
        MockitoAnnotations.openMocks(this);
    }

    @Test
    public void testGetUserById() {
        User mockUser = new User(1, &quot;John Doe&quot;);
        when(userRepository.findById(1)).thenReturn(Optional.of(mockUser));

        User user = userService.getUserById(1);
        assertEquals(&quot;John Doe&quot;, user.getName());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>@Mock</code>: Creates a mock instance of the dependency.</li>
<li><code>@InjectMocks</code>: Injects the mock dependencies into the class being tested.</li>
<li><code>MockitoAnnotations.openMocks(this)</code>: Initializes the mocks.</li>
<li><code>when(...).thenReturn(...)</code>: Defines the behavior of the mock.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Topics</h1>
<div class='content'><ul>
<li><strong>Argument Captors</strong>: Capturing arguments passed to mock methods.</li>
<li><strong>Spies</strong>: Partial mocking of real objects.</li>
<li><strong>Custom Matchers</strong>: Creating custom argument matchers for more complex scenarios.</li>
</ul>
</div><h2>Example of Argument Captor</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5tb2NraXRvLkFyZ3VtZW50Q2FwdG9yOwppbXBvcnQgc3RhdGljIG9yZy5tb2NraXRvLk1vY2tpdG8udmVyaWZ5OwoKQFRlc3QKcHVibGljIHZvaWQgdGVzdEFyZ3VtZW50Q2FwdG9yKCkgewogICAgQXJndW1lbnRDYXB0b3I8U3RyaW5nPiBjYXB0b3IgPSBBcmd1bWVudENhcHRvci5mb3JDbGFzcyhTdHJpbmcuY2xhc3MpOwogICAgdXNlclNlcnZpY2UudXBkYXRlVXNlck5hbWUoMSwgIkphbmUgRG9lIik7CgogICAgdmVyaWZ5KHVzZXJSZXBvc2l0b3J5KS51cGRhdGVOYW1lKGNhcHRvci5jYXB0dXJlKCkpOwogICAgYXNzZXJ0RXF1YWxzKCJKYW5lIERvZSIsIGNhcHRvci5nZXRWYWx1ZSgpKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.mockito.ArgumentCaptor;
import static org.mockito.Mockito.verify;

@Test
public void testArgumentCaptor() {
    ArgumentCaptor&lt;String&gt; captor = ArgumentCaptor.forClass(String.class);
    userService.updateUserName(1, &quot;Jane Doe&quot;);

    verify(userRepository).updateName(captor.capture());
    assertEquals(&quot;Jane Doe&quot;, captor.getValue());
}</pre></div><div class='content'></div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Isolation</strong>: Test one unit at a time.</li>
<li><strong>Readability</strong>: Write clear and understandable tests.</li>
<li><strong>Maintainability</strong>: Keep tests up-to-date with code changes.</li>
<li><strong>Coverage</strong>: Aim for high code coverage but prioritize meaningful tests.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Unit testing with JUnit and Mockito in Spring Boot is essential for ensuring code quality and reliability. By understanding the basics and advancing to more complex scenarios, developers can write effective tests that catch bugs early and facilitate smooth integration. Remember to follow best practices to maintain a robust test suite.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-testing-in-spring-boot'>&#x25C4;Introduction to Testing in Spring Boot</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with JUnit and Mockito</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Integration Testing &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
