<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profiles in Spring Boot</title>

    <link rel="alternate" href="https://campusempresa.com/springboot/profiles-in-spring-boot" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/springboot/profiles-in-spring-boot" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/springboot/profiles-in-spring-boot" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/springboot/profiles-in-spring-boot" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/springboot/profiles-in-spring-boot" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='spring-boot-properties-and-configuration'>&#x25C4;Spring Boot Properties and Configuration</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Profiles in Spring Boot</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-restful-web-services'>Introduction to RESTful Web Services &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Profiles</h1>
<div class='content'><p>Spring Boot profiles provide a way to segregate parts of your application configuration and make it available only in certain environments. This is particularly useful when you need to run your application with different settings for development, testing, and production environments.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Profile</strong>: A named, logical grouping of configuration settings.</li>
<li><strong>Environment-Specific Configuration</strong>: Different configurations for different environments (e.g., <code>application-dev.properties</code>, <code>application-prod.properties</code>).</li>
<li><strong>Activation</strong>: Mechanism to activate a specific profile.</li>
</ul>
</div><h1>Creating and Using Profiles</h1>
<div class='content'></div><h2>Defining Profiles</h2>
<div class='content'><p>Profiles can be defined in property files or YAML files. For example:</p>
<ul>
<li><code>application-dev.properties</code></li>
<li><code>application-prod.properties</code></li>
</ul>
</div><h2>Example: Property Files</h2>
<div class='content'><p>Create different property files for different environments.</p>
<h4><code>application-dev.properties</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MQpzcHJpbmcuZGF0YXNvdXJjZS51cmw9amRiYzpoMjptZW06ZGV2ZGIKc3ByaW5nLmRhdGFzb3VyY2UudXNlcm5hbWU9c2EKc3ByaW5nLmRhdGFzb3VyY2UucGFzc3dvcmQ9cGFzc3dvcmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8081
spring.datasource.url=jdbc:h2:mem:devdb
spring.datasource.username=sa
spring.datasource.password=password</pre></div><div class='content'><h4><code>application-prod.properties</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyLnBvcnQ9ODA4MApzcHJpbmcuZGF0YXNvdXJjZS51cmw9amRiYzpteXNxbDovL3Byb2QtZGItc2VydmVyL215ZGIKc3ByaW5nLmRhdGFzb3VyY2UudXNlcm5hbWU9cHJvZHVzZXIKc3ByaW5nLmRhdGFzb3VyY2UucGFzc3dvcmQ9cHJvZHBhc3N3b3Jk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server.port=8080
spring.datasource.url=jdbc:mysql://prod-db-server/mydb
spring.datasource.username=produser
spring.datasource.password=prodpassword</pre></div><div class='content'></div><h2>Activating Profiles</h2>
<div class='content'><p>Profiles can be activated in several ways:</p>
<ul>
<li><strong>Command Line</strong>: Using <code>-Dspring.profiles.active=dev</code></li>
<li><strong>Environment Variable</strong>: Setting <code>SPRING_PROFILES_ACTIVE=dev</code></li>
<li><strong>Application Properties</strong>: Adding <code>spring.profiles.active=dev</code> in <code>application.properties</code></li>
</ul>
</div><h2>Example: Activating Profile via Command Line</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("amF2YSAtamFyIG15YXBwLmphciAtLXNwcmluZy5wcm9maWxlcy5hY3RpdmU9ZGV2"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>java -jar myapp.jar --spring.profiles.active=dev</pre></div><div class='content'></div><h2>Example: Activating Profile via Environment Variable</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IFNQUklOR19QUk9GSUxFU19BQ1RJVkU9ZGV2"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export SPRING_PROFILES_ACTIVE=dev</pre></div><div class='content'></div><h1>Using Profiles in Code</h1>
<div class='content'><p>You can also use profiles directly in your Spring Boot code to conditionally load beans or configurations.</p>
</div><h2>Example: Conditional Bean Creation</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY29udGV4dC5hbm5vdGF0aW9uLkJlYW47CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNvbnRleHQuYW5ub3RhdGlvbi5Db25maWd1cmF0aW9uOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5jb250ZXh0LmFubm90YXRpb24uUHJvZmlsZTsKCkBDb25maWd1cmF0aW9uCnB1YmxpYyBjbGFzcyBEYXRhU291cmNlQ29uZmlnIHsKCiAgICBAQmVhbgogICAgQFByb2ZpbGUoImRldiIpCiAgICBwdWJsaWMgRGF0YVNvdXJjZSBkZXZEYXRhU291cmNlKCkgewogICAgICAgIHJldHVybiBuZXcgSDJEYXRhU291cmNlKCJqZGJjOmgyOm1lbTpkZXZkYiIsICJzYSIsICJwYXNzd29yZCIpOwogICAgfQoKICAgIEBCZWFuCiAgICBAUHJvZmlsZSgicHJvZCIpCiAgICBwdWJsaWMgRGF0YVNvdXJjZSBwcm9kRGF0YVNvdXJjZSgpIHsKICAgICAgICByZXR1cm4gbmV3IE15U1FMRGF0YVNvdXJjZSgiamRiYzpteXNxbDovL3Byb2QtZGItc2VydmVyL215ZGIiLCAicHJvZHVzZXIiLCAicHJvZHBhc3N3b3JkIik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Profile;

@Configuration
public class DataSourceConfig {

    @Bean
    @Profile(&quot;dev&quot;)
    public DataSource devDataSource() {
        return new H2DataSource(&quot;jdbc:h2:mem:devdb&quot;, &quot;sa&quot;, &quot;password&quot;);
    }

    @Bean
    @Profile(&quot;prod&quot;)
    public DataSource prodDataSource() {
        return new MySQLDataSource(&quot;jdbc:mysql://prod-db-server/mydb&quot;, &quot;produser&quot;, &quot;prodpassword&quot;);
    }
}</pre></div><div class='content'></div><h1>Advanced Profile Management</h1>
<div class='content'></div><h2>Multiple Profiles</h2>
<div class='content'><p>You can activate multiple profiles simultaneously by separating them with commas.</p>
<h4>Example: Activating Multiple Profiles</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("amF2YSAtamFyIG15YXBwLmphciAtLXNwcmluZy5wcm9maWxlcy5hY3RpdmU9ZGV2LGRlYnVn"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>java -jar myapp.jar --spring.profiles.active=dev,debug</pre></div><div class='content'></div><h2>Profile-Specific Beans</h2>
<div class='content'><p>You can define beans that should only be available in certain profiles using the <code>@Profile</code> annotation.</p>
</div><h2>Example: Profile-Specific Beans</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY29udGV4dC5hbm5vdGF0aW9uLkJlYW47CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNvbnRleHQuYW5ub3RhdGlvbi5Db25maWd1cmF0aW9uOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5jb250ZXh0LmFubm90YXRpb24uUHJvZmlsZTsKCkBDb25maWd1cmF0aW9uCnB1YmxpYyBjbGFzcyBBcHBDb25maWcgewoKICAgIEBCZWFuCiAgICBAUHJvZmlsZSgidGVzdCIpCiAgICBwdWJsaWMgVGVzdFNlcnZpY2UgdGVzdFNlcnZpY2UoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBUZXN0U2VydmljZSgpOwogICAgfQoKICAgIEBCZWFuCiAgICBAUHJvZmlsZSgicHJvZCIpCiAgICBwdWJsaWMgUHJvZFNlcnZpY2UgcHJvZFNlcnZpY2UoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9kU2VydmljZSgpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Profile;

@Configuration
public class AppConfig {

    @Bean
    @Profile(&quot;test&quot;)
    public TestService testService() {
        return new TestService();
    }

    @Bean
    @Profile(&quot;prod&quot;)
    public ProdService prodService() {
        return new ProdService();
    }
}</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Spring Boot profiles allow you to manage different configurations for different environments easily. By defining environment-specific property files and activating profiles through various methods, you can ensure that your application behaves correctly in development, testing, and production environments. Profiles can also be used directly in your code to conditionally load beans and configurations, providing a flexible and powerful way to manage application settings.</p>
<p>By mastering profiles, you can create more robust and adaptable Spring Boot applications that are easier to manage and deploy across different environments.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='spring-boot-properties-and-configuration'>&#x25C4;Spring Boot Properties and Configuration</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Profiles in Spring Boot</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-restful-web-services'>Introduction to RESTful Web Services &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
