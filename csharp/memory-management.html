<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Management and Garbage Collection</title>

    <link rel="alternate" href="https://campusempresa.com/csharp/memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/csharp/memory-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/csharp/memory-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/csharp/memory-management" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/csharp/memory-management" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='dynamic-programming'>&#x25C4;Dynamic Programming</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Memory Management and Garbage Collection</a>
	</div>
	<div class='col-4 text-end'>
					<a href='multithreading-parallel'>Multithreading and Parallel Programming &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Memory Management</h1>
<div class='content'><p>Memory management is a critical aspect of programming in C#. It involves the allocation, use, and release of memory in an efficient manner. Understanding how memory is managed in C# helps in writing optimized and error-free code.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Stack and Heap</strong>: Two main areas of memory where data is stored.
<ul>
<li><strong>Stack</strong>: Stores value types and method call information.</li>
<li><strong>Heap</strong>: Stores reference types and objects.</li>
</ul>
</li>
<li><strong>Value Types vs. Reference Types</strong>: Determines how data is stored and accessed.
<ul>
<li><strong>Value Types</strong>: Stored on the stack (e.g., int, float, bool).</li>
<li><strong>Reference Types</strong>: Stored on the heap (e.g., objects, arrays).</li>
</ul>
</li>
</ul>
</div><h2>Code Example: Value Types and Reference Types</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IHZhbHVlVHlwZSA9IDEwOyAvLyBTdG9yZWQgb24gdGhlIHN0YWNrCnN0cmluZyByZWZlcmVuY2VUeXBlID0gIkhlbGxvLCBXb3JsZCEiOyAvLyBTdG9yZWQgb24gdGhlIGhlYXA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int valueType = 10; // Stored on the stack
string referenceType = &quot;Hello, World!&quot;; // Stored on the heap</pre></div><div class='content'></div><h1>Garbage Collection</h1>
<div class='content'><p>Garbage Collection (GC) is an automatic memory management feature in C#. It helps in reclaiming memory occupied by objects that are no longer in use, thus preventing memory leaks.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Generations</strong>: GC uses generations to optimize the collection process.
<ul>
<li><strong>Generation 0</strong>: Short-lived objects.</li>
<li><strong>Generation 1</strong>: Medium-lived objects.</li>
<li><strong>Generation 2</strong>: Long-lived objects.</li>
</ul>
</li>
<li><strong>GC Roots</strong>: References that are always reachable and used by the GC to identify live objects.</li>
<li><strong>Finalization</strong>: Cleanup process for objects before they are collected.</li>
</ul>
</div><h2>Code Example: Simple Garbage Collection</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUHJvZ3JhbQp7CiAgICBzdGF0aWMgdm9pZCBNYWluKCkKICAgIHsKICAgICAgICBDcmVhdGVPYmplY3RzKCk7CiAgICAgICAgR0MuQ29sbGVjdCgpOyAvLyBGb3JjZXMgZ2FyYmFnZSBjb2xsZWN0aW9uCiAgICB9CgogICAgc3RhdGljIHZvaWQgQ3JlYXRlT2JqZWN0cygpCiAgICB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDAwOyBpKyspCiAgICAgICAgewogICAgICAgICAgICB2YXIgb2JqID0gbmV3IG9iamVjdCgpOyAvLyBPYmplY3RzIGNyZWF0ZWQgaW4gYSBsb29wCiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Program
{
    static void Main()
    {
        CreateObjects();
        GC.Collect(); // Forces garbage collection
    }

    static void CreateObjects()
    {
        for (int i = 0; i &lt; 1000; i++)
        {
            var obj = new object(); // Objects created in a loop
        }
    }
}</pre></div><div class='content'></div><h1>Advanced Garbage Collection Techniques</h1>
<div class='content'><p>As you advance, understanding and controlling the GC process can lead to more efficient applications.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Dispose Pattern</strong>: Implementing IDisposable for deterministic cleanup.</li>
<li><strong>Weak References</strong>: Allow the GC to collect objects while still allowing access to them.</li>
<li><strong>Large Object Heap (LOH)</strong>: Special heap for large objects, managed differently by the GC.</li>
</ul>
</div><h2>Code Example: Implementing IDisposable</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUmVzb3VyY2VIb2xkZXIgOiBJRGlzcG9zYWJsZQp7CiAgICBwcml2YXRlIGJvb2wgZGlzcG9zZWQgPSBmYWxzZTsKCiAgICBwdWJsaWMgdm9pZCBEaXNwb3NlKCkKICAgIHsKICAgICAgICBEaXNwb3NlKHRydWUpOwogICAgICAgIEdDLlN1cHByZXNzRmluYWxpemUodGhpcyk7CiAgICB9CgogICAgcHJvdGVjdGVkIHZpcnR1YWwgdm9pZCBEaXNwb3NlKGJvb2wgZGlzcG9zaW5nKQogICAgewogICAgICAgIGlmICghZGlzcG9zZWQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoZGlzcG9zaW5nKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBGcmVlIG1hbmFnZWQgcmVzb3VyY2VzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gRnJlZSB1bm1hbmFnZWQgcmVzb3VyY2VzCiAgICAgICAgICAgIGRpc3Bvc2VkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgflJlc291cmNlSG9sZGVyKCkKICAgIHsKICAgICAgICBEaXNwb3NlKGZhbHNlKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ResourceHolder : IDisposable
{
    private bool disposed = false;

    public void Dispose()
    {
        Dispose(true);
        GC.SuppressFinalize(this);
    }

    protected virtual void Dispose(bool disposing)
    {
        if (!disposed)
        {
            if (disposing)
            {
                // Free managed resources
            }
            // Free unmanaged resources
            disposed = true;
        }
    }

    ~ResourceHolder()
    {
        Dispose(false);
    }
}</pre></div><div class='content'></div><h1>Best Practices for Memory Management</h1>
<div class='content'><ul>
<li><strong>Minimize Object Creation</strong>: Reuse objects when possible.</li>
<li><strong>Use Structs for Small Data</strong>: Structs are value types and can be more efficient for small data.</li>
<li><strong>Avoid Unnecessary Finalizers</strong>: Finalizers can delay garbage collection.</li>
<li><strong>Profile and Optimize</strong>: Use profiling tools to identify memory issues and optimize accordingly.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>Memory management and garbage collection are essential for writing efficient and reliable C# applications. By understanding the stack and heap, value and reference types, and the workings of the garbage collector, you can manage memory effectively. Advanced techniques like implementing IDisposable and using weak references can further optimize your applications. Always follow best practices and use profiling tools to ensure optimal memory usage.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='dynamic-programming'>&#x25C4;Dynamic Programming</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Memory Management and Garbage Collection</a>
	</div>
	<div class='col-4 text-end'>
					<a href='multithreading-parallel'>Multithreading and Parallel Programming &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
