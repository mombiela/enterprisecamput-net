<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing in C#</title>

    <link rel="alternate" href="https://campusempresa.com/csharp/unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/csharp/unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/csharp/unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/csharp/unit-testing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/csharp/unit-testing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='design-patterns'>&#x25C4;Design Patterns</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing in C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Integration Testing &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Unit testing is a crucial aspect of software development that ensures individual units of code work as expected. In this section, we will cover the basics of unit testing in C#, progressing from beginner to advanced concepts.</p>
</div><h1>Introduction to Unit Testing</h1>
<div class='content'><p>Unit testing involves testing individual components or functions of a program to ensure they work correctly. The primary goal is to validate that each unit of the software performs as designed.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Unit</strong>: The smallest testable part of an application, such as a function or method.</li>
<li><strong>Test Case</strong>: A set of conditions or variables under which a tester determines whether a unit of code is working correctly.</li>
<li><strong>Test Suite</strong>: A collection of test cases intended to test a behavior or a set of behaviors of software programs.</li>
<li><strong>Mocking</strong>: Creating a fake version of an object to simulate the behavior of real objects.</li>
</ul>
</div><h1>Setting Up Unit Testing in C#</h1>
<div class='content'><p>To get started with unit testing in C#, you need to set up your development environment. We'll use Visual Studio and the NUnit framework for our examples.</p>
</div><h2>Installing NUnit</h2>
<div class='content'><ol>
<li>Open Visual Studio.</li>
<li>Create a new C# project or open an existing one.</li>
<li>Open the NuGet Package Manager (Tools &gt; NuGet Package Manager &gt; Manage NuGet Packages for Solution).</li>
<li>Search for &quot;NUnit&quot; and install it.</li>
<li>Also, install &quot;NUnit3TestAdapter&quot; to integrate NUnit with Visual Studio's test explorer.</li>
</ol>
</div><h1>Writing Your First Unit Test</h1>
<div class='content'><p>Let's write a simple unit test for a method that adds two numbers.</p>
</div><h2>Example Code</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvci5jcwpwdWJsaWMgY2xhc3MgQ2FsY3VsYXRvcgp7CiAgICBwdWJsaWMgaW50IEFkZChpbnQgYSwgaW50IGIpCiAgICB7CiAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calculator.cs
public class Calculator
{
    public int Add(int a, int b)
    {
        return a + b;
    }
}</pre></div><div class='content'></div><h2>Writing the Test</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvclRlc3RzLmNzCnVzaW5nIE5Vbml0LkZyYW1ld29yazsKCltUZXN0Rml4dHVyZV0KcHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0cwp7CiAgICBbVGVzdF0KICAgIHB1YmxpYyB2b2lkIEFkZF9XaGVuQ2FsbGVkX1JldHVybnNTdW1PZkFyZ3VtZW50cygpCiAgICB7CiAgICAgICAgLy8gQXJyYW5nZQogICAgICAgIHZhciBjYWxjdWxhdG9yID0gbmV3IENhbGN1bGF0b3IoKTsKCiAgICAgICAgLy8gQWN0CiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0b3IuQWRkKDEsIDIpOwoKICAgICAgICAvLyBBc3NlcnQKICAgICAgICBBc3NlcnQuQXJlRXF1YWwoMywgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// CalculatorTests.cs
using NUnit.Framework;

[TestFixture]
public class CalculatorTests
{
    [Test]
    public void Add_WhenCalled_ReturnsSumOfArguments()
    {
        // Arrange
        var calculator = new Calculator();

        // Act
        var result = calculator.Add(1, 2);

        // Assert
        Assert.AreEqual(3, result);
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Arrange</strong>: Set up any objects or variables needed.</li>
<li><strong>Act</strong>: Call the method being tested.</li>
<li><strong>Assert</strong>: Verify that the method's output is as expected.</li>
</ul>
</div><h1>Advanced Unit Testing Concepts</h1>
<div class='content'><p>As you become more comfortable with basic unit testing, you can explore more advanced concepts.</p>
</div><h2>Mocking Dependencies</h2>
<div class='content'><p>When a class depends on other classes, you can use mocking to isolate the unit being tested.</p>
<h4>Example with Moq</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2VydmljZS5jcwpwdWJsaWMgY2xhc3MgU2VydmljZQp7CiAgICBwcml2YXRlIHJlYWRvbmx5IElSZXBvc2l0b3J5IF9yZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBTZXJ2aWNlKElSZXBvc2l0b3J5IHJlcG9zaXRvcnkpCiAgICB7CiAgICAgICAgX3JlcG9zaXRvcnkgPSByZXBvc2l0b3J5OwogICAgfQoKICAgIHB1YmxpYyBzdHJpbmcgR2V0RGF0YShpbnQgaWQpCiAgICB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVwb3NpdG9yeS5HZXREYXRhQnlJZChpZCk7CiAgICAgICAgcmV0dXJuIGRhdGEuVG9VcHBlcigpOwogICAgfQp9CgovLyBJUmVwb3NpdG9yeS5jcwpwdWJsaWMgaW50ZXJmYWNlIElSZXBvc2l0b3J5CnsKICAgIHN0cmluZyBHZXREYXRhQnlJZChpbnQgaWQpOwp9CgovLyBTZXJ2aWNlVGVzdHMuY3MKdXNpbmcgTW9xOwp1c2luZyBOVW5pdC5GcmFtZXdvcms7CgpbVGVzdEZpeHR1cmVdCnB1YmxpYyBjbGFzcyBTZXJ2aWNlVGVzdHMKewogICAgW1Rlc3RdCiAgICBwdWJsaWMgdm9pZCBHZXREYXRhX1doZW5DYWxsZWRfUmV0dXJuc1VwcGVyQ2FzZURhdGEoKQogICAgewogICAgICAgIC8vIEFycmFuZ2UKICAgICAgICB2YXIgbW9ja1JlcG9zaXRvcnkgPSBuZXcgTW9jazxJUmVwb3NpdG9yeT4oKTsKICAgICAgICBtb2NrUmVwb3NpdG9yeS5TZXR1cChyZXBvID0+IHJlcG8uR2V0RGF0YUJ5SWQoSXQuSXNBbnk8aW50PigpKSkuUmV0dXJucygiZGF0YSIpOwogICAgICAgIHZhciBzZXJ2aWNlID0gbmV3IFNlcnZpY2UobW9ja1JlcG9zaXRvcnkuT2JqZWN0KTsKCiAgICAgICAgLy8gQWN0CiAgICAgICAgdmFyIHJlc3VsdCA9IHNlcnZpY2UuR2V0RGF0YSgxKTsKCiAgICAgICAgLy8gQXNzZXJ0CiAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKCJEQVRBIiwgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Service.cs
public class Service
{
    private readonly IRepository _repository;

    public Service(IRepository repository)
    {
        _repository = repository;
    }

    public string GetData(int id)
    {
        var data = _repository.GetDataById(id);
        return data.ToUpper();
    }
}

// IRepository.cs
public interface IRepository
{
    string GetDataById(int id);
}

// ServiceTests.cs
using Moq;
using NUnit.Framework;

[TestFixture]
public class ServiceTests
{
    [Test]
    public void GetData_WhenCalled_ReturnsUpperCaseData()
    {
        // Arrange
        var mockRepository = new Mock&lt;IRepository&gt;();
        mockRepository.Setup(repo =&gt; repo.GetDataById(It.IsAny&lt;int&gt;())).Returns(&quot;data&quot;);
        var service = new Service(mockRepository.Object);

        // Act
        var result = service.GetData(1);

        // Assert
        Assert.AreEqual(&quot;DATA&quot;, result);
    }
}</pre></div><div class='content'></div><h2>Parameterized Tests</h2>
<div class='content'><p>NUnit allows you to run the same test with different inputs using parameterized tests.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W1Rlc3RGaXh0dXJlXQpwdWJsaWMgY2xhc3MgQ2FsY3VsYXRvclRlc3RzCnsKICAgIFtUZXN0Q2FzZSgxLCAyLCAzKV0KICAgIFtUZXN0Q2FzZSgtMSwgLTEsIC0yKV0KICAgIFtUZXN0Q2FzZSgwLCAwLCAwKV0KICAgIHB1YmxpYyB2b2lkIEFkZF9XaGVuQ2FsbGVkX1JldHVybnNTdW1PZkFyZ3VtZW50cyhpbnQgYSwgaW50IGIsIGludCBleHBlY3RlZFJlc3VsdCkKICAgIHsKICAgICAgICAvLyBBcnJhbmdlCiAgICAgICAgdmFyIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwoKICAgICAgICAvLyBBY3QKICAgICAgICB2YXIgcmVzdWx0ID0gY2FsY3VsYXRvci5BZGQoYSwgYik7CgogICAgICAgIC8vIEFzc2VydAogICAgICAgIEFzc2VydC5BcmVFcXVhbChleHBlY3RlZFJlc3VsdCwgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[TestFixture]
public class CalculatorTests
{
    [TestCase(1, 2, 3)]
    [TestCase(-1, -1, -2)]
    [TestCase(0, 0, 0)]
    public void Add_WhenCalled_ReturnsSumOfArguments(int a, int b, int expectedResult)
    {
        // Arrange
        var calculator = new Calculator();

        // Act
        var result = calculator.Add(a, b);

        // Assert
        Assert.AreEqual(expectedResult, result);
    }
}</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Unit testing is an essential practice in software development that helps ensure code quality and reliability. By starting with basic tests and gradually incorporating advanced techniques like mocking and parameterized tests, you can create a robust suite of tests for your C# applications. Remember to:</p>
<ul>
<li>Write clear and concise test cases.</li>
<li>Use mocking to isolate units of code.</li>
<li>Leverage parameterized tests for efficiency.</li>
</ul>
<p>With consistent practice, unit testing will become an integral part of your development workflow, leading to more maintainable and bug-free code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='design-patterns'>&#x25C4;Design Patterns</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing in C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Integration Testing &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
