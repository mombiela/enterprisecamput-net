<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Streams in C#</title>

    <link rel="alternate" href="https://campusempresa.com/csharp/file-streams" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/csharp/file-streams" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/csharp/file-streams" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/csharp/file-streams" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/csharp/file-streams" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='reading-writing-files'>&#x25C4;Reading and Writing Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File Streams in C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='serialization-deserialization'>Serialization and Deserialization &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to File Streams</h1>
<div class='content'><p>File streams in C# are used to read from and write to files. They provide a way to handle file operations efficiently and securely. Understanding file streams is crucial for tasks such as data storage, configuration management, and logging.</p>
</div><h1>Basic Concepts</h1>
<div class='content'><ul>
<li><strong>Stream</strong>: A sequence of bytes that can be read from or written to.</li>
<li><strong>FileStream</strong>: A class in the <code>System.IO</code> namespace used for reading from and writing to files.</li>
<li><strong>StreamReader</strong>: A class for reading characters from a byte stream in a particular encoding.</li>
<li><strong>StreamWriter</strong>: A class for writing characters to a stream in a particular encoding.</li>
</ul>
</div><h1>Working with FileStream</h1>
<h2>Reading from a File</h2>
<div class='content'><p>To read from a file, you can use the <code>FileStream</code> class along with <code>StreamReader</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uSU87CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyB2b2lkIE1haW4oKQogICAgewogICAgICAgIHN0cmluZyBwYXRoID0gImV4YW1wbGUudHh0IjsKICAgICAgICAKICAgICAgICB1c2luZyAoRmlsZVN0cmVhbSBmcyA9IG5ldyBGaWxlU3RyZWFtKHBhdGgsIEZpbGVNb2RlLk9wZW4sIEZpbGVBY2Nlc3MuUmVhZCkpCiAgICAgICAgdXNpbmcgKFN0cmVhbVJlYWRlciBzciA9IG5ldyBTdHJlYW1SZWFkZXIoZnMpKQogICAgICAgIHsKICAgICAgICAgICAgc3RyaW5nIGNvbnRlbnQgPSBzci5SZWFkVG9FbmQoKTsKICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoY29udGVudCk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.IO;

class Program
{
    static void Main()
    {
        string path = &quot;example.txt&quot;;
        
        using (FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read))
        using (StreamReader sr = new StreamReader(fs))
        {
            string content = sr.ReadToEnd();
            Console.WriteLine(content);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>FileMode.Open</strong>: Opens the file if it exists.</li>
<li><strong>FileAccess.Read</strong>: Grants read access to the file.</li>
<li><strong>ReadToEnd()</strong>: Reads all characters from the current position to the end of the stream.</li>
</ul>
</div><h2>Writing to a File</h2>
<div class='content'><p>To write to a file, you can use the <code>FileStream</code> class along with <code>StreamWriter</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uSU87CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyB2b2lkIE1haW4oKQogICAgewogICAgICAgIHN0cmluZyBwYXRoID0gImV4YW1wbGUudHh0IjsKICAgICAgICBzdHJpbmcgY29udGVudCA9ICJIZWxsbywgV29ybGQhIjsKICAgICAgICAKICAgICAgICB1c2luZyAoRmlsZVN0cmVhbSBmcyA9IG5ldyBGaWxlU3RyZWFtKHBhdGgsIEZpbGVNb2RlLkNyZWF0ZSwgRmlsZUFjY2Vzcy5Xcml0ZSkpCiAgICAgICAgdXNpbmcgKFN0cmVhbVdyaXRlciBzdyA9IG5ldyBTdHJlYW1Xcml0ZXIoZnMpKQogICAgICAgIHsKICAgICAgICAgICAgc3cuV3JpdGUoY29udGVudCk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.IO;

class Program
{
    static void Main()
    {
        string path = &quot;example.txt&quot;;
        string content = &quot;Hello, World!&quot;;
        
        using (FileStream fs = new FileStream(path, FileMode.Create, FileAccess.Write))
        using (StreamWriter sw = new StreamWriter(fs))
        {
            sw.Write(content);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>FileMode.Create</strong>: Creates a new file, or overwrites an existing file.</li>
<li><strong>FileAccess.Write</strong>: Grants write access to the file.</li>
<li><strong>Write()</strong>: Writes a string to the stream.</li>
</ul>
</div><h1>Advanced File Stream Operations</h1>
<h2>Asynchronous File Operations</h2>
<div class='content'><p>Asynchronous operations can improve performance by not blocking the main thread.</p>
<h4>Asynchronous Reading</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uSU87CnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyBhc3luYyBUYXNrIE1haW4oKQogICAgewogICAgICAgIHN0cmluZyBwYXRoID0gImV4YW1wbGUudHh0IjsKICAgICAgICAKICAgICAgICB1c2luZyAoRmlsZVN0cmVhbSBmcyA9IG5ldyBGaWxlU3RyZWFtKHBhdGgsIEZpbGVNb2RlLk9wZW4sIEZpbGVBY2Nlc3MuUmVhZCwgRmlsZVNoYXJlLlJlYWQsIDQwOTYsIHRydWUpKQogICAgICAgIHVzaW5nIChTdHJlYW1SZWFkZXIgc3IgPSBuZXcgU3RyZWFtUmVhZGVyKGZzKSkKICAgICAgICB7CiAgICAgICAgICAgIHN0cmluZyBjb250ZW50ID0gYXdhaXQgc3IuUmVhZFRvRW5kQXN5bmMoKTsKICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoY29udGVudCk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.IO;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        string path = &quot;example.txt&quot;;
        
        using (FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read, FileShare.Read, 4096, true))
        using (StreamReader sr = new StreamReader(fs))
        {
            string content = await sr.ReadToEndAsync();
            Console.WriteLine(content);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>ReadToEndAsync()</strong>: Asynchronously reads all characters from the current position to the end of the stream.</li>
</ul>
<h4>Asynchronous Writing</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uSU87CnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyBhc3luYyBUYXNrIE1haW4oKQogICAgewogICAgICAgIHN0cmluZyBwYXRoID0gImV4YW1wbGUudHh0IjsKICAgICAgICBzdHJpbmcgY29udGVudCA9ICJIZWxsbywgQXN5bmMgV29ybGQhIjsKICAgICAgICAKICAgICAgICB1c2luZyAoRmlsZVN0cmVhbSBmcyA9IG5ldyBGaWxlU3RyZWFtKHBhdGgsIEZpbGVNb2RlLkNyZWF0ZSwgRmlsZUFjY2Vzcy5Xcml0ZSwgRmlsZVNoYXJlLk5vbmUsIDQwOTYsIHRydWUpKQogICAgICAgIHVzaW5nIChTdHJlYW1Xcml0ZXIgc3cgPSBuZXcgU3RyZWFtV3JpdGVyKGZzKSkKICAgICAgICB7CiAgICAgICAgICAgIGF3YWl0IHN3LldyaXRlQXN5bmMoY29udGVudCk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.IO;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        string path = &quot;example.txt&quot;;
        string content = &quot;Hello, Async World!&quot;;
        
        using (FileStream fs = new FileStream(path, FileMode.Create, FileAccess.Write, FileShare.None, 4096, true))
        using (StreamWriter sw = new StreamWriter(fs))
        {
            await sw.WriteAsync(content);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>WriteAsync()</strong>: Asynchronously writes a string to the stream.</li>
</ul>
</div><h2>Handling Binary Data</h2>
<div class='content'><p>For binary data, use <code>BinaryReader</code> and <code>BinaryWriter</code>.</p>
<h4>Reading Binary Data</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uSU87CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyB2b2lkIE1haW4oKQogICAgewogICAgICAgIHN0cmluZyBwYXRoID0gImV4YW1wbGUuYmluIjsKICAgICAgICAKICAgICAgICB1c2luZyAoRmlsZVN0cmVhbSBmcyA9IG5ldyBGaWxlU3RyZWFtKHBhdGgsIEZpbGVNb2RlLk9wZW4sIEZpbGVBY2Nlc3MuUmVhZCkpCiAgICAgICAgdXNpbmcgKEJpbmFyeVJlYWRlciBiciA9IG5ldyBCaW5hcnlSZWFkZXIoZnMpKQogICAgICAgIHsKICAgICAgICAgICAgaW50IG51bWJlciA9IGJyLlJlYWRJbnQzMigpOwogICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZShudW1iZXIpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.IO;

class Program
{
    static void Main()
    {
        string path = &quot;example.bin&quot;;
        
        using (FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read))
        using (BinaryReader br = new BinaryReader(fs))
        {
            int number = br.ReadInt32();
            Console.WriteLine(number);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>ReadInt32()</strong>: Reads a 4-byte signed integer from the stream.</li>
</ul>
<h4>Writing Binary Data</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uSU87CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyB2b2lkIE1haW4oKQogICAgewogICAgICAgIHN0cmluZyBwYXRoID0gImV4YW1wbGUuYmluIjsKICAgICAgICBpbnQgbnVtYmVyID0gMTIzNDU7CiAgICAgICAgCiAgICAgICAgdXNpbmcgKEZpbGVTdHJlYW0gZnMgPSBuZXcgRmlsZVN0cmVhbShwYXRoLCBGaWxlTW9kZS5DcmVhdGUsIEZpbGVBY2Nlc3MuV3JpdGUpKQogICAgICAgIHVzaW5nIChCaW5hcnlXcml0ZXIgYncgPSBuZXcgQmluYXJ5V3JpdGVyKGZzKSkKICAgICAgICB7CiAgICAgICAgICAgIGJ3LldyaXRlKG51bWJlcik7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.IO;

class Program
{
    static void Main()
    {
        string path = &quot;example.bin&quot;;
        int number = 12345;
        
        using (FileStream fs = new FileStream(path, FileMode.Create, FileAccess.Write))
        using (BinaryWriter bw = new BinaryWriter(fs))
        {
            bw.Write(number);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Write(int)</strong>: Writes a 4-byte signed integer to the stream.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>File streams in C# provide a powerful way to handle file operations, from basic reading and writing to more advanced asynchronous and binary data handling. By mastering file streams, you can efficiently manage data storage and retrieval in your applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='reading-writing-files'>&#x25C4;Reading and Writing Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File Streams in C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='serialization-deserialization'>Serialization and Deserialization &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
