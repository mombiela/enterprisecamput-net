<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backup and Restore Jenkins</title>

    <link rel="alternate" href="https://campusempresa.com/jenkins/backup-and-restore-jenkins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/jenkins/backup-and-restore-jenkins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/jenkins/backup-and-restore-jenkins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/jenkins/backup-and-restore-jenkins" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/jenkins/backup-and-restore-jenkins" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='configuring-security'>&#x25C4;Configuring Security</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Backup and Restore Jenkins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='monitoring-jenkins'>Monitoring Jenkins &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Backing up and restoring Jenkins is a crucial task for maintaining the integrity and availability of your CI/CD pipelines. This section will guide you through the steps required to back up and restore Jenkins, ensuring that you can recover from data loss or system failures with minimal downtime.</p>
</div><h1>Why Backup and Restore Jenkins?</h1>
<div class='content'><ul>
<li><strong>Data Integrity</strong>: Protect your job configurations, build history, and plugin settings.</li>
<li><strong>Disaster Recovery</strong>: Quickly restore Jenkins in case of hardware failure, data corruption, or other catastrophic events.</li>
<li><strong>Migration</strong>: Move Jenkins to a new server or environment without losing any data.</li>
</ul>
</div><h1>Backup Jenkins</h1>
<div class='content'></div><h2>Key Components to Backup</h2>
<div class='content'><ul>
<li><strong>Jenkins Home Directory</strong>: This is the most critical part to back up. It contains all job configurations, build logs, plugin configurations, and user data.</li>
<li><strong>Configuration Files</strong>: Files like <code>config.xml</code>, <code>credentials.xml</code>, and <code>hudson.model.UpdateCenter.xml</code>.</li>
<li><strong>Plugins</strong>: The <code>plugins</code> directory contains all installed plugins.</li>
</ul>
</div><h2>Methods to Backup Jenkins</h2>
<div class='content'><h4>Manual Backup</h4>
<ol>
<li><strong>Stop Jenkins</strong>: It's recommended to stop Jenkins to ensure data consistency.
<pre><code class="language-bash">sudo systemctl stop jenkins
</code></pre>
</li>
<li><strong>Copy Jenkins Home Directory</strong>: Use a command like <code>tar</code> to create an archive of the Jenkins home directory.
<pre><code class="language-bash">tar -czvf jenkins_backup.tar.gz /var/lib/jenkins
</code></pre>
</li>
<li><strong>Restart Jenkins</strong>: Once the backup is complete, restart Jenkins.
<pre><code class="language-bash">sudo systemctl start jenkins
</code></pre>
</li>
</ol>
<h4>Automated Backup</h4>
<ul>
<li><strong>ThinBackup Plugin</strong>: A popular plugin for automating Jenkins backups.
<ol>
<li><strong>Install ThinBackup Plugin</strong>: Go to <code>Manage Jenkins</code> -&gt; <code>Manage Plugins</code> -&gt; <code>Available</code> tab, search for &quot;ThinBackup&quot; and install it.</li>
<li><strong>Configure ThinBackup</strong>: Go to <code>Manage Jenkins</code> -&gt; <code>ThinBackup Settings</code> and configure the backup schedule, backup location, and other settings.</li>
<li><strong>Run Backup</strong>: You can manually trigger a backup or wait for the scheduled backup to run.</li>
</ol>
</li>
</ul>
</div><h2>Example: ThinBackup Configuration</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QmFja3VwIERpcmVjdG9yeTogL3Zhci9iYWNrdXBzL2plbmtpbnMKRnVsbCBCYWNrdXAgU2NoZWR1bGU6IDAgMiAqICogMCAoRXZlcnkgU3VuZGF5IGF0IDIgQU0pCkRpZmZlcmVudGlhbCBCYWNrdXAgU2NoZWR1bGU6IDAgMiAqICogMS02IChFdmVyeSBkYXkgZXhjZXB0IFN1bmRheSBhdCAyIEFNKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Backup Directory: /var/backups/jenkins
Full Backup Schedule: 0 2 * * 0 (Every Sunday at 2 AM)
Differential Backup Schedule: 0 2 * * 1-6 (Every day except Sunday at 2 AM)</pre></div><div class='content'></div><h1>Restore Jenkins</h1>
<div class='content'></div><h2>Manual Restore</h2>
<div class='content'><ol>
<li><strong>Stop Jenkins</strong>: Ensure Jenkins is stopped before restoring.
<pre><code class="language-bash">sudo systemctl stop jenkins
</code></pre>
</li>
<li><strong>Extract Backup</strong>: Extract the backup archive to the Jenkins home directory.
<pre><code class="language-bash">tar -xzvf jenkins_backup.tar.gz -C /var/lib/jenkins
</code></pre>
</li>
<li><strong>Restart Jenkins</strong>: Start Jenkins after the restore process.
<pre><code class="language-bash">sudo systemctl start jenkins
</code></pre>
</li>
</ol>
</div><h2>Automated Restore</h2>
<div class='content'><ul>
<li><strong>ThinBackup Plugin</strong>: If you used ThinBackup for backups, you can also use it for restoration.
<ol>
<li><strong>Go to ThinBackup Restore</strong>: Navigate to <code>Manage Jenkins</code> -&gt; <code>ThinBackup</code> -&gt; <code>Restore</code>.</li>
<li><strong>Select Backup to Restore</strong>: Choose the backup you want to restore from the list.</li>
<li><strong>Restore</strong>: Click the restore button and wait for the process to complete.</li>
</ol>
</li>
</ul>
</div><h1>Best Practices for Backup and Restore</h1>
<div class='content'><ul>
<li><strong>Regular Backups</strong>: Schedule regular backups to minimize data loss.</li>
<li><strong>Offsite Storage</strong>: Store backups in a different physical location or cloud storage to protect against local disasters.</li>
<li><strong>Test Restores</strong>: Periodically test the restore process to ensure backups are valid and the restore process works as expected.</li>
<li><strong>Monitor Backup Jobs</strong>: Use monitoring tools to ensure backup jobs are running successfully.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Backing up and restoring Jenkins is essential for maintaining the reliability and availability of your CI/CD pipelines. By following the steps outlined in this section, you can ensure that your Jenkins environment is protected against data loss and can be quickly restored in case of an emergency. Regular backups, automated tools like ThinBackup, and best practices will help you manage Jenkins backups effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='configuring-security'>&#x25C4;Configuring Security</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Backup and Restore Jenkins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='monitoring-jenkins'>Monitoring Jenkins &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
