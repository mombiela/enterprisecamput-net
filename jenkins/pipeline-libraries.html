<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipeline Libraries</title>

    <link rel="alternate" href="https://campusempresa.com/jenkins/pipeline-libraries" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/jenkins/pipeline-libraries" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/jenkins/pipeline-libraries" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/jenkins/pipeline-libraries" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/jenkins/pipeline-libraries" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='parallel-execution-in-pipelines'>&#x25C4;Parallel Execution in Pipelines</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pipeline Libraries</a>
	</div>
	<div class='col-4 text-end'>
					<a href='handling-pipeline-failures'>Handling Pipeline Failures &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Pipeline Libraries in Jenkins are a powerful feature that allows you to create reusable code that can be shared across multiple Jenkins pipelines. This helps in maintaining consistency, reducing redundancy, and improving the manageability of your Jenkins jobs.</p>
</div><h1>Introduction to Pipeline Libraries</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Pipeline Libraries are shared libraries that contain reusable code for Jenkins pipelines.</li>
<li><strong>Purpose</strong>: They help in modularizing and reusing code across different pipelines, making it easier to manage and maintain Jenkins jobs.</li>
<li><strong>Types</strong>: There are two main types of libraries:
<ul>
<li><strong>Global Libraries</strong>: Available to all pipelines in a Jenkins instance.</li>
<li><strong>Local Libraries</strong>: Specific to a particular pipeline or job.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Pipeline Libraries</h1>
<div class='content'></div><h2>Global Libraries</h2>
<div class='content'><ol>
<li>
<p><strong>Configuration</strong>:</p>
<ul>
<li>Navigate to <code>Manage Jenkins</code> &gt; <code>Configure System</code>.</li>
<li>Scroll down to the <code>Global Pipeline Libraries</code> section.</li>
<li>Add a new library with the following details:
<ul>
<li><strong>Name</strong>: A unique name for the library.</li>
<li><strong>Default Version</strong>: The default version to use if none is specified in the pipeline.</li>
<li><strong>Retrieval Method</strong>: How Jenkins should retrieve the library (e.g., from a Git repository).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Example Configuration</strong>:</p>
<pre><code class="language-groovy">library identifier: 'my-shared-library@master'
</code></pre>
</li>
</ol>
</div><h2>Local Libraries</h2>
<div class='content'><ol>
<li>
<p><strong>Configuration</strong>:</p>
<ul>
<li>Local libraries are typically stored within the same repository as the Jenkinsfile.</li>
<li>They are loaded using the <code>@Library</code> annotation.</li>
</ul>
</li>
<li>
<p><strong>Example Configuration</strong>:</p>
<pre><code class="language-groovy">@Library('my-local-library') _
</code></pre>
</li>
</ol>
</div><h1>Using Pipeline Libraries</h1>
<div class='content'></div><h2>Basic Usage</h2>
<div class='content'><ul>
<li><strong>Loading Libraries</strong>: Use the <code>@Library</code> annotation to load a library in your Jenkinsfile.</li>
<li><strong>Calling Functions</strong>: Once loaded, you can call functions defined in the library.</li>
</ul>
</div><h2>Example</h2>
<div class='content'><ol>
<li>
<p><strong>Library Code</strong> (stored in <code>vars</code> directory):</p>
<pre><code class="language-groovy">// vars/helloWorld.groovy
def call() {
    echo 'Hello, World!'
}
</code></pre>
</li>
<li>
<p><strong>Jenkinsfile</strong>:</p>
<pre><code class="language-groovy">@Library('my-shared-library') _

pipeline {
    agent any
    stages {
        stage('Example') {
            steps {
                helloWorld()
            }
        }
    }
}
</code></pre>
</li>
</ol>
</div><h1>Advanced Usage</h1>
<div class='content'></div><h2>Custom Steps and Classes</h2>
<div class='content'><ul>
<li><strong>Custom Steps</strong>: Define reusable steps in the <code>vars</code> directory.</li>
<li><strong>Classes</strong>: Define more complex logic using Groovy classes in the <code>src</code> directory.</li>
</ul>
</div><h2>Example</h2>
<div class='content'><ol>
<li>
<p><strong>Custom Step</strong>:</p>
<pre><code class="language-groovy">// vars/customStep.groovy
def call(String name) {
    echo &quot;Hello, ${name}!&quot;
}
</code></pre>
</li>
<li>
<p><strong>Class</strong>:</p>
<pre><code class="language-groovy">// src/com/example/Utility.groovy
package com.example

class Utility {
    static void printMessage(String message) {
        echo message
    }
}
</code></pre>
</li>
<li>
<p><strong>Jenkinsfile</strong>:</p>
<pre><code class="language-groovy">@Library('my-shared-library') _
import com.example.Utility

pipeline {
    agent any
    stages {
        stage('Example') {
            steps {
                customStep('Jenkins')
                script {
                    Utility.printMessage('This is a custom message.')
                }
            }
        }
    }
}
</code></pre>
</li>
</ol>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Version Control</strong>: Always version control your libraries to ensure consistency.</li>
<li><strong>Documentation</strong>: Document your libraries well to make them easier to use and understand.</li>
<li><strong>Testing</strong>: Test your libraries thoroughly before using them in production pipelines.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Pipeline Libraries in Jenkins provide a robust way to manage and reuse code across multiple pipelines. By setting up global or local libraries, you can modularize your Jenkinsfiles, making them easier to maintain and extend. Whether you are defining simple reusable steps or complex classes, Pipeline Libraries can significantly enhance your CI/CD workflows. Remember to follow best practices such as version control, documentation, and testing to ensure your libraries are reliable and easy to use.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='parallel-execution-in-pipelines'>&#x25C4;Parallel Execution in Pipelines</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pipeline Libraries</a>
	</div>
	<div class='col-4 text-end'>
					<a href='handling-pipeline-failures'>Handling Pipeline Failures &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
