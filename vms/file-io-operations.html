<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File I/O Operations in OpenVMS</title>

    <link rel="alternate" href="https://campusempresa.com/vms/file-io-operations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/vms/file-io-operations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/vms/file-io-operations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/vms/file-io-operations" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/vms/file-io-operations" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='interprocess-communication'>&#x25C4;Interprocess Communication</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File I/O Operations in OpenVMS</a>
	</div>
	<div class='col-4 text-end'>
					<a href='memory-management'>Memory Management &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>File I/O (Input/Output) operations are fundamental to any operating system, and OpenVMS is no exception. This topic will guide you through the basics of file I/O operations in OpenVMS, progressing to more advanced concepts and techniques.</p>
</div><h1>Basic Concepts</h1>
<div class='content'><p>Before diving into code examples, it's essential to understand some basic concepts related to file I/O in OpenVMS.</p>
<ul>
<li><strong>File</strong>: A collection of data stored on disk.</li>
<li><strong>Record</strong>: A unit of data within a file.</li>
<li><strong>Stream</strong>: A sequence of data elements made available over time.</li>
<li><strong>Channel</strong>: A pathway through which data flows between the program and the file.</li>
</ul>
</div><h1>Opening and Closing Files</h1>
<div class='content'><p>To perform any I/O operation, you first need to open a file. Once you are done with the file, it should be closed to free up system resources.</p>
</div><h2>Opening a File</h2>
<div class='content'><p>In OpenVMS, files are opened using the <code>SYS$OPEN</code> system service. Here's a basic example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGRlc2NyaXAuaD4KI2luY2x1ZGUgPHJtcy5oPgojaW5jbHVkZSA8c3RzZGVmLmg+CiNpbmNsdWRlIDxzc2RlZi5oPgoKaW50IG1haW4oKSB7CiAgICBzdHJ1Y3QgRkFCIGZhYjsKICAgIHN0cnVjdCBSQUIgcmFiOwogICAgaW50IHN0YXR1czsKCiAgICAvLyBJbml0aWFsaXplIHRoZSBGQUIgYW5kIFJBQgogICAgZmFiID0gY2Mkcm1zX2ZhYjsKICAgIHJhYiA9IGNjJHJtc19yYWI7CgogICAgLy8gU3BlY2lmeSB0aGUgZmlsZSBuYW1lCiAgICBmYWIuZmFiJGxfZm5hID0gInRlc3RmaWxlLmRhdCI7CiAgICBmYWIuZmFiJGJfZm5zID0gc3RybGVuKGZhYi5mYWIkbF9mbmEpOwoKICAgIC8vIE9wZW4gdGhlIGZpbGUKICAgIHN0YXR1cyA9IHN5cyRvcGVuKCZmYWIpOwogICAgaWYgKCEoc3RhdHVzICYgMSkpIHsKICAgICAgICBwcmludGYoIkVycm9yIG9wZW5pbmcgZmlsZVxuIik7CiAgICAgICAgcmV0dXJuIHN0YXR1czsKICAgIH0KCiAgICAvLyBDbG9zZSB0aGUgZmlsZQogICAgc3RhdHVzID0gc3lzJGNsb3NlKCZmYWIpOwogICAgaWYgKCEoc3RhdHVzICYgMSkpIHsKICAgICAgICBwcmludGYoIkVycm9yIGNsb3NpbmcgZmlsZVxuIik7CiAgICAgICAgcmV0dXJuIHN0YXR1czsKICAgIH0KCiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;descrip.h&gt;
#include &lt;rms.h&gt;
#include &lt;stsdef.h&gt;
#include &lt;ssdef.h&gt;

int main() {
    struct FAB fab;
    struct RAB rab;
    int status;

    // Initialize the FAB and RAB
    fab = cc$rms_fab;
    rab = cc$rms_rab;

    // Specify the file name
    fab.fab$l_fna = &quot;testfile.dat&quot;;
    fab.fab$b_fns = strlen(fab.fab$l_fna);

    // Open the file
    status = sys$open(&amp;fab);
    if (!(status &amp; 1)) {
        printf(&quot;Error opening file\n&quot;);
        return status;
    }

    // Close the file
    status = sys$close(&amp;fab);
    if (!(status &amp; 1)) {
        printf(&quot;Error closing file\n&quot;);
        return status;
    }

    return 0;
}</pre></div><div class='content'></div><h2>Closing a File</h2>
<div class='content'><p>Closing a file is straightforward and is done using the <code>SYS$CLOSE</code> system service, as shown in the example above.</p>
</div><h1>Reading from a File</h1>
<div class='content'><p>Reading data from a file involves opening the file, reading the data, and then closing the file.</p>
</div><h2>Example: Reading a File</h2>
<div class='content'><p>Here's an example of how to read data from a file in OpenVMS:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGRlc2NyaXAuaD4KI2luY2x1ZGUgPHJtcy5oPgojaW5jbHVkZSA8c3RzZGVmLmg+CiNpbmNsdWRlIDxzc2RlZi5oPgoKaW50IG1haW4oKSB7CiAgICBzdHJ1Y3QgRkFCIGZhYjsKICAgIHN0cnVjdCBSQUIgcmFiOwogICAgaW50IHN0YXR1czsKICAgIGNoYXIgYnVmZmVyWzI1Nl07CgogICAgLy8gSW5pdGlhbGl6ZSB0aGUgRkFCIGFuZCBSQUIKICAgIGZhYiA9IGNjJHJtc19mYWI7CiAgICByYWIgPSBjYyRybXNfcmFiOwoKICAgIC8vIFNwZWNpZnkgdGhlIGZpbGUgbmFtZQogICAgZmFiLmZhYiRsX2ZuYSA9ICJ0ZXN0ZmlsZS5kYXQiOwogICAgZmFiLmZhYiRiX2ZucyA9IHN0cmxlbihmYWIuZmFiJGxfZm5hKTsKCiAgICAvLyBPcGVuIHRoZSBmaWxlCiAgICBzdGF0dXMgPSBzeXMkb3BlbigmZmFiKTsKICAgIGlmICghKHN0YXR1cyAmIDEpKSB7CiAgICAgICAgcHJpbnRmKCJFcnJvciBvcGVuaW5nIGZpbGVcbiIpOwogICAgICAgIHJldHVybiBzdGF0dXM7CiAgICB9CgogICAgLy8gQXNzb2NpYXRlIHRoZSBSQUIgd2l0aCB0aGUgRkFCCiAgICByYWIucmFiJGxfZmFiID0gJmZhYjsKCiAgICAvLyBSZWFkIHRoZSBmaWxlCiAgICByYWIucmFiJGxfdWJmID0gYnVmZmVyOwogICAgcmFiLnJhYiR3X3VzeiA9IHNpemVvZihidWZmZXIpOwogICAgc3RhdHVzID0gc3lzJGdldCgmcmFiKTsKICAgIGlmICghKHN0YXR1cyAmIDEpKSB7CiAgICAgICAgcHJpbnRmKCJFcnJvciByZWFkaW5nIGZpbGVcbiIpOwogICAgICAgIHJldHVybiBzdGF0dXM7CiAgICB9CgogICAgcHJpbnRmKCJSZWFkIGRhdGE6ICVzXG4iLCBidWZmZXIpOwoKICAgIC8vIENsb3NlIHRoZSBmaWxlCiAgICBzdGF0dXMgPSBzeXMkY2xvc2UoJmZhYik7CiAgICBpZiAoIShzdGF0dXMgJiAxKSkgewogICAgICAgIHByaW50ZigiRXJyb3IgY2xvc2luZyBmaWxlXG4iKTsKICAgICAgICByZXR1cm4gc3RhdHVzOwogICAgfQoKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;descrip.h&gt;
#include &lt;rms.h&gt;
#include &lt;stsdef.h&gt;
#include &lt;ssdef.h&gt;

int main() {
    struct FAB fab;
    struct RAB rab;
    int status;
    char buffer[256];

    // Initialize the FAB and RAB
    fab = cc$rms_fab;
    rab = cc$rms_rab;

    // Specify the file name
    fab.fab$l_fna = &quot;testfile.dat&quot;;
    fab.fab$b_fns = strlen(fab.fab$l_fna);

    // Open the file
    status = sys$open(&amp;fab);
    if (!(status &amp; 1)) {
        printf(&quot;Error opening file\n&quot;);
        return status;
    }

    // Associate the RAB with the FAB
    rab.rab$l_fab = &amp;fab;

    // Read the file
    rab.rab$l_ubf = buffer;
    rab.rab$w_usz = sizeof(buffer);
    status = sys$get(&amp;rab);
    if (!(status &amp; 1)) {
        printf(&quot;Error reading file\n&quot;);
        return status;
    }

    printf(&quot;Read data: %s\n&quot;, buffer);

    // Close the file
    status = sys$close(&amp;fab);
    if (!(status &amp; 1)) {
        printf(&quot;Error closing file\n&quot;);
        return status;
    }

    return 0;
}</pre></div><div class='content'></div><h1>Writing to a File</h1>
<div class='content'><p>Writing data to a file involves opening the file, writing the data, and then closing the file.</p>
</div><h2>Example: Writing to a File</h2>
<div class='content'><p>Here's an example of how to write data to a file in OpenVMS:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGRlc2NyaXAuaD4KI2luY2x1ZGUgPHJtcy5oPgojaW5jbHVkZSA8c3RzZGVmLmg+CiNpbmNsdWRlIDxzc2RlZi5oPgoKaW50IG1haW4oKSB7CiAgICBzdHJ1Y3QgRkFCIGZhYjsKICAgIHN0cnVjdCBSQUIgcmFiOwogICAgaW50IHN0YXR1czsKICAgIGNoYXIgYnVmZmVyW10gPSAiSGVsbG8sIE9wZW5WTVMhIjsKCiAgICAvLyBJbml0aWFsaXplIHRoZSBGQUIgYW5kIFJBQgogICAgZmFiID0gY2Mkcm1zX2ZhYjsKICAgIHJhYiA9IGNjJHJtc19yYWI7CgogICAgLy8gU3BlY2lmeSB0aGUgZmlsZSBuYW1lCiAgICBmYWIuZmFiJGxfZm5hID0gInRlc3RmaWxlLmRhdCI7CiAgICBmYWIuZmFiJGJfZm5zID0gc3RybGVuKGZhYi5mYWIkbF9mbmEpOwoKICAgIC8vIE9wZW4gdGhlIGZpbGUKICAgIHN0YXR1cyA9IHN5cyRvcGVuKCZmYWIpOwogICAgaWYgKCEoc3RhdHVzICYgMSkpIHsKICAgICAgICBwcmludGYoIkVycm9yIG9wZW5pbmcgZmlsZVxuIik7CiAgICAgICAgcmV0dXJuIHN0YXR1czsKICAgIH0KCiAgICAvLyBBc3NvY2lhdGUgdGhlIFJBQiB3aXRoIHRoZSBGQUIKICAgIHJhYi5yYWIkbF9mYWIgPSAmZmFiOwoKICAgIC8vIFdyaXRlIHRvIHRoZSBmaWxlCiAgICByYWIucmFiJGxfcmJmID0gYnVmZmVyOwogICAgcmFiLnJhYiR3X3JzeiA9IHN0cmxlbihidWZmZXIpOwogICAgc3RhdHVzID0gc3lzJHB1dCgmcmFiKTsKICAgIGlmICghKHN0YXR1cyAmIDEpKSB7CiAgICAgICAgcHJpbnRmKCJFcnJvciB3cml0aW5nIHRvIGZpbGVcbiIpOwogICAgICAgIHJldHVybiBzdGF0dXM7CiAgICB9CgogICAgLy8gQ2xvc2UgdGhlIGZpbGUKICAgIHN0YXR1cyA9IHN5cyRjbG9zZSgmZmFiKTsKICAgIGlmICghKHN0YXR1cyAmIDEpKSB7CiAgICAgICAgcHJpbnRmKCJFcnJvciBjbG9zaW5nIGZpbGVcbiIpOwogICAgICAgIHJldHVybiBzdGF0dXM7CiAgICB9CgogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;descrip.h&gt;
#include &lt;rms.h&gt;
#include &lt;stsdef.h&gt;
#include &lt;ssdef.h&gt;

int main() {
    struct FAB fab;
    struct RAB rab;
    int status;
    char buffer[] = &quot;Hello, OpenVMS!&quot;;

    // Initialize the FAB and RAB
    fab = cc$rms_fab;
    rab = cc$rms_rab;

    // Specify the file name
    fab.fab$l_fna = &quot;testfile.dat&quot;;
    fab.fab$b_fns = strlen(fab.fab$l_fna);

    // Open the file
    status = sys$open(&amp;fab);
    if (!(status &amp; 1)) {
        printf(&quot;Error opening file\n&quot;);
        return status;
    }

    // Associate the RAB with the FAB
    rab.rab$l_fab = &amp;fab;

    // Write to the file
    rab.rab$l_rbf = buffer;
    rab.rab$w_rsz = strlen(buffer);
    status = sys$put(&amp;rab);
    if (!(status &amp; 1)) {
        printf(&quot;Error writing to file\n&quot;);
        return status;
    }

    // Close the file
    status = sys$close(&amp;fab);
    if (!(status &amp; 1)) {
        printf(&quot;Error closing file\n&quot;);
        return status;
    }

    return 0;
}</pre></div><div class='content'></div><h1>Advanced File I/O Operations</h1>
<div class='content'><p>For advanced file I/O operations, you may need to handle different file formats, manage file attributes, and perform asynchronous I/O.</p>
</div><h2>Handling Different File Formats</h2>
<div class='content'><p>OpenVMS supports various file formats, such as sequential, relative, and indexed files. Each format has its own set of operations and attributes.</p>
</div><h2>Managing File Attributes</h2>
<div class='content'><p>File attributes in OpenVMS can be managed using the <code>SYS$QIO</code> system service. This allows you to set and get file attributes dynamically.</p>
</div><h2>Asynchronous I/O</h2>
<div class='content'><p>Asynchronous I/O operations allow your program to continue executing while waiting for I/O operations to complete. This can be achieved using the <code>SYS$QIOW</code> system service.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>File I/O operations in OpenVMS are essential for interacting with the file system. This topic covered the basics of opening, reading, writing, and closing files, as well as introduced some advanced concepts. By understanding these operations, you can effectively manage files and data in an OpenVMS environment.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='interprocess-communication'>&#x25C4;Interprocess Communication</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File I/O Operations in OpenVMS</a>
	</div>
	<div class='col-4 text-end'>
					<a href='memory-management'>Memory Management &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
