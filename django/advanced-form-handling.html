<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Form Handling</title>

    <link rel="alternate" href="https://campusempresa.com/django/advanced-form-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/django/advanced-form-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/django/advanced-form-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/django/advanced-form-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/django/advanced-form-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='model-forms'>&#x25C4;Model Forms</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced Form Handling</a>
	</div>
	<div class='col-4 text-end'>
					<a href='class-based-views'>Class-Based Views &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will delve into advanced form handling in Django. You will learn how to create complex forms, handle form validation, and manage formsets. By the end of this section, you should be able to build and manage sophisticated forms in your Django applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li>Custom Form Validation</li>
<li>Model Forms</li>
<li>Formsets</li>
<li>Handling File Uploads</li>
<li>Dynamic Forms</li>
</ul>
</div><h1>Custom Form Validation</h1>
<div class='content'><p>Custom form validation allows you to enforce specific rules for your form fields.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCgpjbGFzcyBDdXN0b21Gb3JtKGZvcm1zLkZvcm0pOgogICAgbmFtZSA9IGZvcm1zLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGFnZSA9IGZvcm1zLkludGVnZXJGaWVsZCgpCgogICAgZGVmIGNsZWFuX2FnZShzZWxmKToKICAgICAgICBhZ2UgPSBzZWxmLmNsZWFuZWRfZGF0YS5nZXQoJ2FnZScpCiAgICAgICAgaWYgYWdlIDwgMTg6CiAgICAgICAgICAgIHJhaXNlIGZvcm1zLlZhbGlkYXRpb25FcnJvcigiQWdlIG11c3QgYmUgYXQgbGVhc3QgMTguIikKICAgICAgICByZXR1cm4gYWdl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django import forms

class CustomForm(forms.Form):
    name = forms.CharField(max_length=100)
    age = forms.IntegerField()

    def clean_age(self):
        age = self.cleaned_data.get('age')
        if age &lt; 18:
            raise forms.ValidationError(&quot;Age must be at least 18.&quot;)
        return age</pre></div><div class='content'><p>In this example, we define a custom validation method <code>clean_age</code> to ensure the age is at least 18.</p>
</div><h1>Model Forms</h1>
<div class='content'><p>Model forms are a convenient way to create forms tied to Django models.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCmZyb20gLm1vZGVscyBpbXBvcnQgUGVyc29uCgpjbGFzcyBQZXJzb25Gb3JtKGZvcm1zLk1vZGVsRm9ybSk6CiAgICBjbGFzcyBNZXRhOgogICAgICAgIG1vZGVsID0gUGVyc29uCiAgICAgICAgZmllbGRzID0gWyduYW1lJywgJ2FnZScsICdlbWFpbCdd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django import forms
from .models import Person

class PersonForm(forms.ModelForm):
    class Meta:
        model = Person
        fields = ['name', 'age', 'email']</pre></div><div class='content'><p>This example shows how to create a form based on the <code>Person</code> model, automatically generating fields for <code>name</code>, <code>age</code>, and <code>email</code>.</p>
</div><h1>Formsets</h1>
<div class='content'><p>Formsets allow you to manage multiple instances of a form on a single page.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCmZyb20gZGphbmdvLmZvcm1zIGltcG9ydCBmb3Jtc2V0X2ZhY3RvcnkKCmNsYXNzIEl0ZW1Gb3JtKGZvcm1zLkZvcm0pOgogICAgbmFtZSA9IGZvcm1zLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIHF1YW50aXR5ID0gZm9ybXMuSW50ZWdlckZpZWxkKCkKCkl0ZW1Gb3JtU2V0ID0gZm9ybXNldF9mYWN0b3J5KEl0ZW1Gb3JtLCBleHRyYT0zKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django import forms
from django.forms import formset_factory

class ItemForm(forms.Form):
    name = forms.CharField(max_length=100)
    quantity = forms.IntegerField()

ItemFormSet = formset_factory(ItemForm, extra=3)</pre></div><div class='content'><p>Here, we create a formset with three instances of <code>ItemForm</code>.</p>
</div><h1>Handling File Uploads</h1>
<div class='content'><p>Django provides built-in support for handling file uploads.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCgpjbGFzcyBVcGxvYWRGaWxlRm9ybShmb3Jtcy5Gb3JtKToKICAgIHRpdGxlID0gZm9ybXMuQ2hhckZpZWxkKG1heF9sZW5ndGg9NTApCiAgICBmaWxlID0gZm9ybXMuRmlsZUZpZWxkKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django import forms

class UploadFileForm(forms.Form):
    title = forms.CharField(max_length=50)
    file = forms.FileField()</pre></div><div class='content'><p>In this example, we define a form with a file field. The view handling this form should save the uploaded file.</p>
</div><h2>View Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uc2hvcnRjdXRzIGltcG9ydCByZW5kZXIKZnJvbSBkamFuZ28uaHR0cCBpbXBvcnQgSHR0cFJlc3BvbnNlUmVkaXJlY3QKZnJvbSAuZm9ybXMgaW1wb3J0IFVwbG9hZEZpbGVGb3JtCgpkZWYgdXBsb2FkX2ZpbGUocmVxdWVzdCk6CiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgZm9ybSA9IFVwbG9hZEZpbGVGb3JtKHJlcXVlc3QuUE9TVCwgcmVxdWVzdC5GSUxFUykKICAgICAgICBpZiBmb3JtLmlzX3ZhbGlkKCk6CiAgICAgICAgICAgIGhhbmRsZV91cGxvYWRlZF9maWxlKHJlcXVlc3QuRklMRVNbJ2ZpbGUnXSkKICAgICAgICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZVJlZGlyZWN0KCcvc3VjY2Vzcy8nKQogICAgZWxzZToKICAgICAgICBmb3JtID0gVXBsb2FkRmlsZUZvcm0oKQogICAgcmV0dXJuIHJlbmRlcihyZXF1ZXN0LCAndXBsb2FkLmh0bWwnLCB7J2Zvcm0nOiBmb3JtfSkKCmRlZiBoYW5kbGVfdXBsb2FkZWRfZmlsZShmKToKICAgIHdpdGggb3Blbignc29tZS9maWxlL25hbWUudHh0JywgJ3diKycpIGFzIGRlc3RpbmF0aW9uOgogICAgICAgIGZvciBjaHVuayBpbiBmLmNodW5rcygpOgogICAgICAgICAgICBkZXN0aW5hdGlvbi53cml0ZShjaHVuayk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.shortcuts import render
from django.http import HttpResponseRedirect
from .forms import UploadFileForm

def upload_file(request):
    if request.method == 'POST':
        form = UploadFileForm(request.POST, request.FILES)
        if form.is_valid():
            handle_uploaded_file(request.FILES['file'])
            return HttpResponseRedirect('/success/')
    else:
        form = UploadFileForm()
    return render(request, 'upload.html', {'form': form})

def handle_uploaded_file(f):
    with open('some/file/name.txt', 'wb+') as destination:
        for chunk in f.chunks():
            destination.write(chunk)</pre></div><div class='content'><p>This view handles the file upload and saves it to the server.</p>
</div><h1>Dynamic Forms</h1>
<div class='content'><p>Dynamic forms allow you to add or remove form fields based on user input or other conditions.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCgpjbGFzcyBEeW5hbWljRm9ybShmb3Jtcy5Gb3JtKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgIHN1cGVyKER5bmFtaWNGb3JtLCBzZWxmKS5fX2luaXRfXygqYXJncywgKiprd2FyZ3MpCiAgICAgICAgc2VsZi5maWVsZHNbJ2R5bmFtaWNfZmllbGQnXSA9IGZvcm1zLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django import forms

class DynamicForm(forms.Form):
    def __init__(self, *args, **kwargs):
        super(DynamicForm, self).__init__(*args, **kwargs)
        self.fields['dynamic_field'] = forms.CharField(max_length=100)</pre></div><div class='content'><p>In this example, we dynamically add a field to the form during initialization.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Advanced form handling in Django involves custom validation, model forms, formsets, file uploads, and dynamic forms. Mastering these techniques will enable you to create robust and user-friendly forms in your Django applications. Practice these concepts with real-world examples to solidify your understanding.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='model-forms'>&#x25C4;Model Forms</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced Form Handling</a>
	</div>
	<div class='col-4 text-end'>
					<a href='class-based-views'>Class-Based Views &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
