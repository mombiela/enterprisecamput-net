<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signals in Django</title>

    <link rel="alternate" href="https://campusempresa.com/django/signals" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/django/signals" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/django/signals" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/django/signals" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/django/signals" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='middleware'>&#x25C4;Middleware</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Signals in Django</a>
	</div>
	<div class='col-4 text-end'>
					<a href='file-uploads'>File Uploads &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Signals</h1>
<div class='content'><p>Django signals are a powerful feature that allows decoupled applications to get notified when certain actions occur elsewhere in the framework. They provide a way to execute some code based on certain events happening in the Django application.</p>
<ul>
<li><strong>Definition</strong>: Signals are a way to allow decoupled applications to get notified when certain events occur.</li>
<li><strong>Use Cases</strong>: Signals are often used to perform actions such as sending notifications, updating related models, or logging activities.</li>
</ul>
</div><h1>Basic Concepts</h1>
<div class='content'><p>Before diving into the implementation, it's important to understand some basic concepts related to Django signals.</p>
<ul>
<li><strong>Sender</strong>: The sender is the model or class that sends the signal.</li>
<li><strong>Receiver</strong>: The receiver is the function or method that gets called when the signal is sent.</li>
<li><strong>Signal</strong>: The signal itself is an instance of the <code>Signal</code> class.</li>
</ul>
</div><h1>Built-in Signals</h1>
<div class='content'><p>Django comes with several built-in signals that you can use right away.</p>
<ul>
<li><strong>pre_save</strong>: Sent before a model's <code>save()</code> method is called.</li>
<li><strong>post_save</strong>: Sent after a model's <code>save()</code> method is called.</li>
<li><strong>pre_delete</strong>: Sent before a model's <code>delete()</code> method is called.</li>
<li><strong>post_delete</strong>: Sent after a model's <code>delete()</code> method is called.</li>
</ul>
</div><h1>Creating and Connecting Signals</h1>
<div class='content'><p>To create and connect signals, you need to follow these steps:</p>
<ol>
<li><strong>Define the Signal</strong>: Create an instance of the <code>Signal</code> class.</li>
<li><strong>Create the Receiver Function</strong>: Define the function that will handle the signal.</li>
<li><strong>Connect the Signal to the Receiver</strong>: Use the <code>connect()</code> method to link the signal to the receiver.</li>
</ol>
</div><h2>Example: Using `post_save` Signal</h2>
<div class='content'><p>Let's create a simple example where we send a welcome email to a user after they register.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzaWduYWxzLnB5CmZyb20gZGphbmdvLmRiLm1vZGVscy5zaWduYWxzIGltcG9ydCBwb3N0X3NhdmUKZnJvbSBkamFuZ28uZGlzcGF0Y2ggaW1wb3J0IHJlY2VpdmVyCmZyb20gZGphbmdvLmNvcmUubWFpbCBpbXBvcnQgc2VuZF9tYWlsCmZyb20gZGphbmdvLmNvbnRyaWIuYXV0aC5tb2RlbHMgaW1wb3J0IFVzZXIKCkByZWNlaXZlcihwb3N0X3NhdmUsIHNlbmRlcj1Vc2VyKQpkZWYgc2VuZF93ZWxjb21lX2VtYWlsKHNlbmRlciwgaW5zdGFuY2UsIGNyZWF0ZWQsICoqa3dhcmdzKToKICAgIGlmIGNyZWF0ZWQ6CiAgICAgICAgc2VuZF9tYWlsKAogICAgICAgICAgICAnV2VsY29tZSEnLAogICAgICAgICAgICAnVGhhbmtzIGZvciBzaWduaW5nIHVwIGZvciBvdXIgd2Vic2l0ZS4nLAogICAgICAgICAgICAnZnJvbUBleGFtcGxlLmNvbScsCiAgICAgICAgICAgIFtpbnN0YW5jZS5lbWFpbF0sCiAgICAgICAgICAgIGZhaWxfc2lsZW50bHk9RmFsc2UsCiAgICAgICAgKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># signals.py
from django.db.models.signals import post_save
from django.dispatch import receiver
from django.core.mail import send_mail
from django.contrib.auth.models import User

@receiver(post_save, sender=User)
def send_welcome_email(sender, instance, created, **kwargs):
    if created:
        send_mail(
            'Welcome!',
            'Thanks for signing up for our website.',
            'from@example.com',
            [instance.email],
            fail_silently=False,
        )</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>@receiver(post_save, sender=User)</strong>: This decorator connects the <code>send_welcome_email</code> function to the <code>post_save</code> signal of the <code>User</code> model.</li>
<li><strong>instance</strong>: The instance of the model that was saved.</li>
<li><strong>created</strong>: A boolean indicating whether a new record was created.</li>
</ul>
</div><h1>Custom Signals</h1>
<div class='content'><p>You can also create your own custom signals.</p>
</div><h2>Example: Custom Signal</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzaWduYWxzLnB5CmZyb20gZGphbmdvLmRpc3BhdGNoIGltcG9ydCBTaWduYWwsIHJlY2VpdmVyCgojIERlZmluZSBhIGN1c3RvbSBzaWduYWwKdXNlcl9sb2dnZWRfaW4gPSBTaWduYWwocHJvdmlkaW5nX2FyZ3M9WyJ1c2VyIiwgInRpbWVzdGFtcCJdKQoKIyBDcmVhdGUgYSByZWNlaXZlciBmdW5jdGlvbgpAcmVjZWl2ZXIodXNlcl9sb2dnZWRfaW4pCmRlZiBsb2dfdXNlcl9sb2dpbihzZW5kZXIsICoqa3dhcmdzKToKICAgIHVzZXIgPSBrd2FyZ3NbJ3VzZXInXQogICAgdGltZXN0YW1wID0ga3dhcmdzWyd0aW1lc3RhbXAnXQogICAgcHJpbnQoZiJVc2VyIHt1c2VyfSBsb2dnZWQgaW4gYXQge3RpbWVzdGFtcH0iKQoKIyBTb21ld2hlcmUgaW4geW91ciBjb2RlLCBzZW5kIHRoZSBzaWduYWwKdXNlcl9sb2dnZWRfaW4uc2VuZChzZW5kZXI9Tm9uZSwgdXNlcj0nam9obl9kb2UnLCB0aW1lc3RhbXA9JzIwMjMtMTAtMDEgMTI6MDA6MDAnKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># signals.py
from django.dispatch import Signal, receiver

# Define a custom signal
user_logged_in = Signal(providing_args=[&quot;user&quot;, &quot;timestamp&quot;])

# Create a receiver function
@receiver(user_logged_in)
def log_user_login(sender, **kwargs):
    user = kwargs['user']
    timestamp = kwargs['timestamp']
    print(f&quot;User {user} logged in at {timestamp}&quot;)

# Somewhere in your code, send the signal
user_logged_in.send(sender=None, user='john_doe', timestamp='2023-10-01 12:00:00')</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>user_logged_in = Signal(providing_args=[&quot;user&quot;, &quot;timestamp&quot;])</strong>: This creates a custom signal that expects <code>user</code> and <code>timestamp</code> arguments.</li>
<li><strong>@receiver(user_logged_in)</strong>: This decorator connects the <code>log_user_login</code> function to the <code>user_logged_in</code> signal.</li>
<li><strong>user_logged_in.send()</strong>: This sends the signal with the specified arguments.</li>
</ul>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Avoid Circular Imports</strong>: Place signal handlers in a separate file (e.g., <code>signals.py</code>) and import them in the <code>apps.py</code> file of your application.</li>
<li><strong>Use Weak References</strong>: By default, Django uses weak references to connect signals, which helps prevent memory leaks.</li>
<li><strong>Keep Signal Handlers Simple</strong>: Signal handlers should be simple and fast to avoid performance bottlenecks.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Django signals are a powerful tool for decoupling different parts of your application and reacting to events in a clean and efficient manner. By understanding and utilizing both built-in and custom signals, you can create more modular and maintainable Django applications. Remember to follow best practices to ensure your signal handlers are efficient and avoid common pitfalls like circular imports.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='middleware'>&#x25C4;Middleware</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Signals in Django</a>
	</div>
	<div class='col-4 text-end'>
					<a href='file-uploads'>File Uploads &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
