<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Forms</title>

    <link rel="alternate" href="https://campusempresa.com/django/model-forms" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/django/model-forms" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/django/model-forms" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/django/model-forms" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/django/model-forms" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='form-validation'>&#x25C4;Form Validation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Model Forms</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-form-handling'>Advanced Form Handling &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Model Forms</h1>
<div class='content'><p>Model Forms in Django provide a way to create forms directly from your models. This ensures that the form fields correspond to the model fields, reducing redundancy and potential errors.</p>
<ul>
<li><strong>Model Forms</strong>: Forms that are automatically generated from Django models.</li>
<li><strong>Advantages</strong>:
<ul>
<li>Reduces code duplication.</li>
<li>Ensures consistency between the form and the model.</li>
<li>Simplifies form validation.</li>
</ul>
</li>
</ul>
</div><h1>Creating a Model Form</h1>
<div class='content'><p>To create a Model Form, you need to define a form class that inherits from <code>forms.ModelForm</code> and specify the model it should use.</p>
</div><h2>Example Model</h2>
<div class='content'><p>First, let's define a simple model:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQm9vayhtb2RlbHMuTW9kZWwpOgogICAgdGl0bGUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MTAwKQogICAgYXV0aG9yID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIHB1Ymxpc2hlZF9kYXRlID0gbW9kZWxzLkRhdGVGaWVsZCgpCiAgICBpc2JuID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEzKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.CharField(max_length=100)
    published_date = models.DateField()
    isbn = models.CharField(max_length=13)</pre></div><div class='content'></div><h2>Example Model Form</h2>
<div class='content'><p>Now, create a Model Form for the <code>Book</code> model:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCmZyb20gLm1vZGVscyBpbXBvcnQgQm9vawoKY2xhc3MgQm9va0Zvcm0oZm9ybXMuTW9kZWxGb3JtKToKICAgIGNsYXNzIE1ldGE6CiAgICAgICAgbW9kZWwgPSBCb29rCiAgICAgICAgZmllbGRzID0gWyd0aXRsZScsICdhdXRob3InLCAncHVibGlzaGVkX2RhdGUnLCAnaXNibidd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django import forms
from .models import Book

class BookForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ['title', 'author', 'published_date', 'isbn']</pre></div><div class='content'><ul>
<li><strong>Meta Class</strong>: The <code>Meta</code> class is used to specify the model and the fields that should be included in the form.</li>
</ul>
</div><h1>Using Model Forms in Views</h1>
<div class='content'><p>To use the Model Form in a view, you need to instantiate the form and handle the form submission.</p>
</div><h2>Example View</h2>
<div class='content'><p>Here's an example view to handle creating a new book:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uc2hvcnRjdXRzIGltcG9ydCByZW5kZXIsIHJlZGlyZWN0CmZyb20gLmZvcm1zIGltcG9ydCBCb29rRm9ybQoKZGVmIGNyZWF0ZV9ib29rKHJlcXVlc3QpOgogICAgaWYgcmVxdWVzdC5tZXRob2QgPT0gJ1BPU1QnOgogICAgICAgIGZvcm0gPSBCb29rRm9ybShyZXF1ZXN0LlBPU1QpCiAgICAgICAgaWYgZm9ybS5pc192YWxpZCgpOgogICAgICAgICAgICBmb3JtLnNhdmUoKQogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QoJ2Jvb2tfbGlzdCcpCiAgICBlbHNlOgogICAgICAgIGZvcm0gPSBCb29rRm9ybSgpCiAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdjcmVhdGVfYm9vay5odG1sJywgeydmb3JtJzogZm9ybX0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.shortcuts import render, redirect
from .forms import BookForm

def create_book(request):
    if request.method == 'POST':
        form = BookForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('book_list')
    else:
        form = BookForm()
    return render(request, 'create_book.html', {'form': form})</pre></div><div class='content'><ul>
<li><strong>Handling POST Requests</strong>: The form is instantiated with <code>request.POST</code> data to handle form submissions.</li>
<li><strong>Form Validation</strong>: <code>form.is_valid()</code> checks if the form data is valid.</li>
<li><strong>Saving the Form</strong>: <code>form.save()</code> saves the form data to the database.</li>
</ul>
</div><h2>Example Template</h2>
<div class='content'><p>Here's a simple template to render the form:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBjcmVhdGVfYm9vay5odG1sIC0tPgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgogICAgPHRpdGxlPkNyZWF0ZSBCb29rPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxoMT5DcmVhdGUgYSBOZXcgQm9vazwvaDE+CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgICAgIHslIGNzcmZfdG9rZW4gJX0KICAgICAgICB7eyBmb3JtLmFzX3AgfX0KICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+U2F2ZTwvYnV0dG9uPgogICAgPC9mb3JtPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- create_book.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Create Book&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Create a New Book&lt;/h1&gt;
    &lt;form method=&quot;post&quot;&gt;
        {% csrf_token %}
        {{ form.as_p }}
        &lt;button type=&quot;submit&quot;&gt;Save&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ul>
<li><strong>CSRF Token</strong>: <code>{% csrf_token %}</code> is necessary for security reasons.</li>
<li><strong>Rendering the Form</strong>: <code>{{ form.as_p }}</code> renders the form fields as paragraphs.</li>
</ul>
</div><h1>Customizing Model Forms</h1>
<div class='content'><p>You can customize the fields and widgets in a Model Form to better suit your needs.</p>
</div><h2>Customizing Widgets</h2>
<div class='content'><p>To customize the widgets used for form fields, you can specify them in the <code>Meta</code> class:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQm9va0Zvcm0oZm9ybXMuTW9kZWxGb3JtKToKICAgIGNsYXNzIE1ldGE6CiAgICAgICAgbW9kZWwgPSBCb29rCiAgICAgICAgZmllbGRzID0gWyd0aXRsZScsICdhdXRob3InLCAncHVibGlzaGVkX2RhdGUnLCAnaXNibiddCiAgICAgICAgd2lkZ2V0cyA9IHsKICAgICAgICAgICAgJ3B1Ymxpc2hlZF9kYXRlJzogZm9ybXMuRGF0ZUlucHV0KGF0dHJzPXsndHlwZSc6ICdkYXRlJ30pLAogICAgICAgIH0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class BookForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ['title', 'author', 'published_date', 'isbn']
        widgets = {
            'published_date': forms.DateInput(attrs={'type': 'date'}),
        }</pre></div><div class='content'></div><h2>Adding Custom Validation</h2>
<div class='content'><p>You can add custom validation methods to your Model Form:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQm9va0Zvcm0oZm9ybXMuTW9kZWxGb3JtKToKICAgIGNsYXNzIE1ldGE6CiAgICAgICAgbW9kZWwgPSBCb29rCiAgICAgICAgZmllbGRzID0gWyd0aXRsZScsICdhdXRob3InLCAncHVibGlzaGVkX2RhdGUnLCAnaXNibiddCgogICAgZGVmIGNsZWFuX2lzYm4oc2VsZik6CiAgICAgICAgaXNibiA9IHNlbGYuY2xlYW5lZF9kYXRhLmdldCgnaXNibicpCiAgICAgICAgaWYgbGVuKGlzYm4pICE9IDEzOgogICAgICAgICAgICByYWlzZSBmb3Jtcy5WYWxpZGF0aW9uRXJyb3IoIklTQk4gbXVzdCBiZSAxMyBjaGFyYWN0ZXJzIGxvbmcuIikKICAgICAgICByZXR1cm4gaXNibg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class BookForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ['title', 'author', 'published_date', 'isbn']

    def clean_isbn(self):
        isbn = self.cleaned_data.get('isbn')
        if len(isbn) != 13:
            raise forms.ValidationError(&quot;ISBN must be 13 characters long.&quot;)
        return isbn</pre></div><div class='content'><ul>
<li><strong>Custom Validation Method</strong>: <code>clean_isbn</code> validates the <code>isbn</code> field.</li>
</ul>
</div><h1>Advanced Usage</h1>
<div class='content'><p>For more advanced use cases, you can override the <code>save</code> method or use formsets.</p>
</div><h2>Overriding the Save Method</h2>
<div class='content'><p>You can override the <code>save</code> method to customize how the form data is saved:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQm9va0Zvcm0oZm9ybXMuTW9kZWxGb3JtKToKICAgIGNsYXNzIE1ldGE6CiAgICAgICAgbW9kZWwgPSBCb29rCiAgICAgICAgZmllbGRzID0gWyd0aXRsZScsICdhdXRob3InLCAncHVibGlzaGVkX2RhdGUnLCAnaXNibiddCgogICAgZGVmIHNhdmUoc2VsZiwgY29tbWl0PVRydWUpOgogICAgICAgIGJvb2sgPSBzdXBlcigpLnNhdmUoY29tbWl0PUZhbHNlKQogICAgICAgICMgQWRkIGN1c3RvbSBzYXZlIGxvZ2ljIGhlcmUKICAgICAgICBpZiBjb21taXQ6CiAgICAgICAgICAgIGJvb2suc2F2ZSgpCiAgICAgICAgcmV0dXJuIGJvb2s="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class BookForm(forms.ModelForm):
    class Meta:
        model = Book
        fields = ['title', 'author', 'published_date', 'isbn']

    def save(self, commit=True):
        book = super().save(commit=False)
        # Add custom save logic here
        if commit:
            book.save()
        return book</pre></div><div class='content'></div><h2>Using Formsets</h2>
<div class='content'><p>Formsets allow you to manage multiple instances of a form on a single page.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZm9ybXMgaW1wb3J0IG1vZGVsZm9ybXNldF9mYWN0b3J5CmZyb20gLm1vZGVscyBpbXBvcnQgQm9vawoKQm9va0Zvcm1TZXQgPSBtb2RlbGZvcm1zZXRfZmFjdG9yeShCb29rLCBmaWVsZHM9KCd0aXRsZScsICdhdXRob3InLCAncHVibGlzaGVkX2RhdGUnLCAnaXNibicpKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.forms import modelformset_factory
from .models import Book

BookFormSet = modelformset_factory(Book, fields=('title', 'author', 'published_date', 'isbn'))</pre></div><div class='content'><ul>
<li><strong>Formsets</strong>: <code>modelformset_factory</code> creates a formset for the <code>Book</code> model.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Model Forms in Django provide a powerful way to create forms that are tightly coupled with your models. They help reduce redundancy, ensure consistency, and simplify form validation. By understanding how to create, customize, and use Model Forms, you can efficiently handle form data in your Django applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='form-validation'>&#x25C4;Form Validation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Model Forms</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-form-handling'>Advanced Form Handling &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
