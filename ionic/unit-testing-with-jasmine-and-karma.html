<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing with Jasmine and Karma</title>

    <link rel="alternate" href="https://campusempresa.com/ionic/unit-testing-with-jasmine-and-karma" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/ionic/unit-testing-with-jasmine-and-karma" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/ionic/unit-testing-with-jasmine-and-karma" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/ionic/unit-testing-with-jasmine-and-karma" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/ionic/unit-testing-with-jasmine-and-karma" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-testing-in-ionic'>&#x25C4;Introduction to Testing in Ionic</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Jasmine and Karma</a>
	</div>
	<div class='col-4 text-end'>
					<a href='end-to-end-testing-with-protractor'>End-to-End Testing with Protractor &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Unit Testing</h1>
<div class='content'><p>Unit testing is a software testing method where individual units or components of a software are tested. The purpose is to validate that each unit of the software performs as expected.</p>
<ul>
<li><strong>Unit</strong>: The smallest testable part of any software.</li>
<li><strong>Unit Test</strong>: A piece of code written by a developer that executes a small part of the application and checks for a specific behavior or state.</li>
</ul>
</div><h1>Why Unit Testing?</h1>
<div class='content'><ul>
<li>Ensures code reliability.</li>
<li>Facilitates code maintenance.</li>
<li>Helps catch bugs early.</li>
<li>Provides documentation of the code.</li>
</ul>
</div><h1>Overview of Jasmine and Karma</h1>
<h2>Jasmine</h2>
<div class='content'><p>Jasmine is a behavior-driven development framework for testing JavaScript code. It does not depend on any other JavaScript frameworks and does not require a DOM.</p>
<ul>
<li><strong>Features</strong>:
<ul>
<li>Clean and easy syntax.</li>
<li>Supports asynchronous testing.</li>
<li>Built-in matchers for common testing needs.</li>
</ul>
</li>
</ul>
</div><h2>Karma</h2>
<div class='content'><p>Karma is a test runner developed by the AngularJS team. It allows you to execute JavaScript code in multiple real browsers.</p>
<ul>
<li><strong>Features</strong>:
<ul>
<li>Executes tests in real browsers.</li>
<li>Provides continuous integration support.</li>
<li>Displays test results in the command line.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Jasmine and Karma in an Ionic Project</h1>
<h2>Step 1: Install Dependencies</h2>
<div class='content'><p>First, you need to install Jasmine and Karma along with their necessary plugins.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqYXNtaW5lLWNvcmUga2FybWEga2FybWEtamFzbWluZSBrYXJtYS1jaHJvbWUtbGF1bmNoZXI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jasmine-core karma karma-jasmine karma-chrome-launcher</pre></div><div class='content'></div><h2>Step 2: Configure Karma</h2>
<div class='content'><p>Create a <code>karma.conf.js</code> file in the root of your project.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb25maWcpIHsKICBjb25maWcuc2V0KHsKICAgIGJhc2VQYXRoOiAnJywKICAgIGZyYW1ld29ya3M6IFsnamFzbWluZSddLAogICAgZmlsZXM6IFsKICAgICAgJ3NyYy8qKi8qLnNwZWMudHMnCiAgICBdLAogICAgcHJlcHJvY2Vzc29yczogewogICAgICAnc3JjLyoqLyouc3BlYy50cyc6IFsnd2VicGFjayddCiAgICB9LAogICAgd2VicGFjazogewogICAgICAvLyB3ZWJwYWNrIGNvbmZpZ3VyYXRpb24KICAgIH0sCiAgICByZXBvcnRlcnM6IFsncHJvZ3Jlc3MnXSwKICAgIHBvcnQ6IDk4NzYsCiAgICBjb2xvcnM6IHRydWUsCiAgICBsb2dMZXZlbDogY29uZmlnLkxPR19JTkZPLAogICAgYXV0b1dhdGNoOiB0cnVlLAogICAgYnJvd3NlcnM6IFsnQ2hyb21lJ10sCiAgICBzaW5nbGVSdW46IGZhbHNlLAogICAgY29uY3VycmVuY3k6IEluZmluaXR5CiAgfSk7Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module.exports = function(config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine'],
    files: [
      'src/**/*.spec.ts'
    ],
    preprocessors: {
      'src/**/*.spec.ts': ['webpack']
    },
    webpack: {
      // webpack configuration
    },
    reporters: ['progress'],
    port: 9876,
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    browsers: ['Chrome'],
    singleRun: false,
    concurrency: Infinity
  });
};</pre></div><div class='content'></div><h2>Step 3: Create a Sample Test</h2>
<div class='content'><p>Create a sample test file <code>example.spec.ts</code> in the <code>src</code> directory.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ1NhbXBsZSBUZXN0JywgKCkgPT4gewogIGl0KCdzaG91bGQgcmV0dXJuIHRydWUnLCAoKSA9PiB7CiAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTsKICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Sample Test', () =&gt; {
  it('should return true', () =&gt; {
    expect(true).toBe(true);
  });
});</pre></div><div class='content'></div><h2>Step 4: Run the Tests</h2>
<div class='content'><p>Run the tests using the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGthcm1hIHN0YXJ0IGthcm1hLmNvbmYuanM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx karma start karma.conf.js</pre></div><div class='content'></div><h1>Writing Tests with Jasmine</h1>
<h2>Basic Test Structure</h2>
<div class='content'><p>A basic test in Jasmine is structured using <code>describe</code> and <code>it</code> blocks.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ015Q29tcG9uZW50JywgKCkgPT4gewogIGl0KCdzaG91bGQgZG8gc29tZXRoaW5nJywgKCkgPT4gewogICAgLy8gQXJyYW5nZQogICAgbGV0IHZhbHVlID0gdHJ1ZTsKICAgIAogICAgLy8gQWN0CiAgICBsZXQgcmVzdWx0ID0gdmFsdWU7CiAgICAKICAgIC8vIEFzc2VydAogICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTsKICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('MyComponent', () =&gt; {
  it('should do something', () =&gt; {
    // Arrange
    let value = true;
    
    // Act
    let result = value;
    
    // Assert
    expect(result).toBe(true);
  });
});</pre></div><div class='content'></div><h2>Matchers</h2>
<div class='content'><p>Jasmine provides a variety of matchers to validate your tests.</p>
<ul>
<li><strong>toBe</strong>: Checks for strict equality.</li>
<li><strong>toEqual</strong>: Checks for deep equality.</li>
<li><strong>toBeTruthy</strong>: Checks if the value is true.</li>
<li><strong>toBeFalsy</strong>: Checks if the value is false.</li>
<li><strong>toContain</strong>: Checks if an array or string contains a value.</li>
</ul>
</div><h2>Asynchronous Testing</h2>
<div class='content'><p>Jasmine supports asynchronous testing using <code>done</code> callback or <code>async/await</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aXQoJ3Nob3VsZCBmZXRjaCBkYXRhIGFzeW5jaHJvbm91c2x5JywgKGRvbmUpID0+IHsKICBmZXRjaERhdGEoKS50aGVuKGRhdGEgPT4gewogICAgZXhwZWN0KGRhdGEpLnRvQmVEZWZpbmVkKCk7CiAgICBkb25lKCk7CiAgfSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>it('should fetch data asynchronously', (done) =&gt; {
  fetchData().then(data =&gt; {
    expect(data).toBeDefined();
    done();
  });
});</pre></div><div class='content'></div><h1>Advanced Testing Techniques</h1>
<h2>Spies</h2>
<div class='content'><p>Spies are used to track calls to functions or methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aXQoJ3Nob3VsZCBjYWxsIHRoZSBtZXRob2QnLCAoKSA9PiB7CiAgbGV0IG15T2JqID0gewogICAgbXlNZXRob2Q6ICgpID0+IHt9CiAgfTsKICBzcHlPbihteU9iaiwgJ215TWV0aG9kJyk7CiAgCiAgbXlPYmoubXlNZXRob2QoKTsKICAKICBleHBlY3QobXlPYmoubXlNZXRob2QpLnRvSGF2ZUJlZW5DYWxsZWQoKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>it('should call the method', () =&gt; {
  let myObj = {
    myMethod: () =&gt; {}
  };
  spyOn(myObj, 'myMethod');
  
  myObj.myMethod();
  
  expect(myObj.myMethod).toHaveBeenCalled();
});</pre></div><div class='content'></div><h2>Mocking Dependencies</h2>
<div class='content'><p>Mocking is used to simulate the behavior of complex dependencies.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTW9ja1NlcnZpY2UgewogIGdldERhdGEoKSB7CiAgICByZXR1cm4gb2YoWydkYXRhMScsICdkYXRhMiddKTsKICB9Cn0KCmRlc2NyaWJlKCdNeUNvbXBvbmVudCcsICgpID0+IHsKICBsZXQgY29tcG9uZW50OiBNeUNvbXBvbmVudDsKICBsZXQgc2VydmljZTogTW9ja1NlcnZpY2U7CgogIGJlZm9yZUVhY2goKCkgPT4gewogICAgc2VydmljZSA9IG5ldyBNb2NrU2VydmljZSgpOwogICAgY29tcG9uZW50ID0gbmV3IE15Q29tcG9uZW50KHNlcnZpY2UpOwogIH0pOwoKICBpdCgnc2hvdWxkIHVzZSB0aGUgbW9jayBzZXJ2aWNlJywgKCkgPT4gewogICAgY29tcG9uZW50Lm5nT25Jbml0KCk7CiAgICBleHBlY3QoY29tcG9uZW50LmRhdGEubGVuZ3RoKS50b0JlKDIpOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MockService {
  getData() {
    return of(['data1', 'data2']);
  }
}

describe('MyComponent', () =&gt; {
  let component: MyComponent;
  let service: MockService;

  beforeEach(() =&gt; {
    service = new MockService();
    component = new MyComponent(service);
  });

  it('should use the mock service', () =&gt; {
    component.ngOnInit();
    expect(component.data.length).toBe(2);
  });
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Unit testing is a crucial part of the development process, ensuring that individual components work as expected. Jasmine and Karma provide a robust framework for writing and running tests in an Ionic project. By following the steps and examples provided, you can set up and write effective unit tests, leading to more reliable and maintainable code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-testing-in-ionic'>&#x25C4;Introduction to Testing in Ionic</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Jasmine and Karma</a>
	</div>
	<div class='col-4 text-end'>
					<a href='end-to-end-testing-with-protractor'>End-to-End Testing with Protractor &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
