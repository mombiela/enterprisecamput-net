<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type Inference in Haskell</title>

    <link rel="alternate" href="https://campusempresa.com/haskell/type-inference" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/haskell/type-inference" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/haskell/type-inference" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/haskell/type-inference" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/haskell/type-inference" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='currying-partial-application'>&#x25C4;Currying and Partial Application</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Type Inference in Haskell</a>
	</div>
	<div class='col-4 text-end'>
					<a href='type-annotations'>Type Annotations &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Type inference is a powerful feature in Haskell that allows the compiler to automatically deduce the types of expressions without explicit type annotations. This makes the code more concise and often easier to read while still maintaining type safety.</p>
</div><h1>What is Type Inference?</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Type inference is the process by which the Haskell compiler determines the type of an expression based on the code's structure and the types of its components.</li>
<li><strong>Benefits</strong>:
<ul>
<li>Reduces the need for explicit type annotations.</li>
<li>Helps catch type errors at compile time.</li>
<li>Makes code more readable and maintainable.</li>
</ul>
</li>
</ul>
</div><h1>How Type Inference Works</h1>
<div class='content'><p>Haskell uses a type system based on Hindley-Milner type inference, which allows it to infer the most general type for any expression.</p>
</div><h2>Basic Example</h2>
<div class='content'><p>Consider the following simple function:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWRkIDo6IEludCAtPiBJbnQgLT4gSW50CmFkZCB4IHkgPSB4ICsgeQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>add :: Int -&gt; Int -&gt; Int
add x y = x + y</pre></div><div class='content'><p>Here, we explicitly specify the type of <code>add</code>. However, Haskell can infer the type without the annotation:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWRkIHggeSA9IHggKyB5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>add x y = x + y</pre></div><div class='content'><p>When you load this into GHCi (the interactive environment for Haskell), it will infer the type:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiA6dCBhZGQKYWRkIDo6IE51bSBhID0+IGEgLT4gYSAtPiBh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; :t add
add :: Num a =&gt; a -&gt; a -&gt; a</pre></div><div class='content'></div><h2>Polymorphic Functions</h2>
<div class='content'><p>Haskell can also infer types for polymorphic functions. For example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWRlbnRpdHkgeCA9IHg="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>identity x = x</pre></div><div class='content'><p>The inferred type will be:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiA6dCBpZGVudGl0eQppZGVudGl0eSA6OiBhIC0+IGE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; :t identity
identity :: a -&gt; a</pre></div><div class='content'><p>This means <code>identity</code> can take any type <code>a</code> and return the same type <code>a</code>.</p>
</div><h1>Type Inference with Lists</h1>
<div class='content'><p>Lists are a common data structure in Haskell, and type inference works seamlessly with them.</p>
</div><h2>Example with Lists</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VtTGlzdCB4cyA9IHN1bSB4cw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sumList xs = sum xs</pre></div><div class='content'><p>The inferred type will be:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiA6dCBzdW1MaXN0CnN1bUxpc3QgOjogTnVtIGEgPT4gW2FdIC0+IGE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; :t sumList
sumList :: Num a =&gt; [a] -&gt; a</pre></div><div class='content'><p>This indicates that <code>sumList</code> takes a list of numbers and returns a number.</p>
</div><h1>Type Inference with Higher-Order Functions</h1>
<div class='content'><p>Higher-order functions are functions that take other functions as arguments or return them as results. Haskell's type inference handles these gracefully.</p>
</div><h2>Example with Higher-Order Functions</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwbHlUd2ljZSBmIHggPSBmIChmIHgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>applyTwice f x = f (f x)</pre></div><div class='content'><p>The inferred type will be:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiA6dCBhcHBseVR3aWNlCmFwcGx5VHdpY2UgOjogKGEgLT4gYSkgLT4gYSAtPiBh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; :t applyTwice
applyTwice :: (a -&gt; a) -&gt; a -&gt; a</pre></div><div class='content'><p>This means <code>applyTwice</code> takes a function <code>f</code> that maps a type <code>a</code> to itself and an argument of type <code>a</code>, then returns a result of type <code>a</code>.</p>
</div><h1>Type Inference and Type Classes</h1>
<div class='content'><p>Haskell's type classes allow for polymorphism. Type inference works with type classes to provide flexible and reusable code.</p>
</div><h2>Example with Type Classes</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2hvd1R3aWNlIHggPSBzaG93IHggKysgc2hvdyB4"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>showTwice x = show x ++ show x</pre></div><div class='content'><p>The inferred type will be:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiA6dCBzaG93VHdpY2UKc2hvd1R3aWNlIDo6IFNob3cgYSA9PiBhIC0+IFN0cmluZw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; :t showTwice
showTwice :: Show a =&gt; a -&gt; String</pre></div><div class='content'><p>This means <code>showTwice</code> works for any type <code>a</code> that is an instance of the <code>Show</code> type class.</p>
</div><h1>Limitations of Type Inference</h1>
<div class='content'><p>While type inference is powerful, there are some limitations:</p>
<ul>
<li><strong>Complex Types</strong>: For very complex types, the compiler might not always infer what you expect.</li>
<li><strong>Ambiguity</strong>: Sometimes, the inferred type might be too general or ambiguous, requiring explicit type annotations.</li>
</ul>
</div><h2>Example of Ambiguity</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW1iaWd1b3VzIHggeSA9IHggKyB5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ambiguous x y = x + y</pre></div><div class='content'><p>Without context, the compiler cannot infer the types of <code>x</code> and <code>y</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiA6dCBhbWJpZ3VvdXMKYW1iaWd1b3VzIDo6IE51bSBhID0+IGEgLT4gYSAtPiBh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; :t ambiguous
ambiguous :: Num a =&gt; a -&gt; a -&gt; a</pre></div><div class='content'><p>In such cases, you might need to provide explicit type annotations to clarify:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW1iaWd1b3VzIDo6IEludCAtPiBJbnQgLT4gSW50CmFtYmlndW91cyB4IHkgPSB4ICsgeQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ambiguous :: Int -&gt; Int -&gt; Int
ambiguous x y = x + y</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Type inference in Haskell is a powerful feature that enhances code readability and maintainability while ensuring type safety. By understanding how Haskell infers types, you can write more concise and flexible code. However, it's important to recognize its limitations and know when to provide explicit type annotations to avoid ambiguity.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='currying-partial-application'>&#x25C4;Currying and Partial Application</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Type Inference in Haskell</a>
	</div>
	<div class='col-4 text-end'>
					<a href='type-annotations'>Type Annotations &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
