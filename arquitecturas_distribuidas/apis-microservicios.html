<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIs and Microservices</title>

    <link rel="alternate" href="https://campusempresa.com/arquitecturas_distribuidas/apis-microservicios" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/arquitecturas_distribuidas/apis-microservicios" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/arquitecturas_distribuidas/apis-microservicios" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/arquitecturas_distribuidas/apis-microservicios" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/arquitecturas_distribuidas/apis-microservicios" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section of the course on Distributed Architectures, we will explore the concept of APIs and Microservices. We will understand how these technologies enable the construction of scalable, maintainable, and efficient applications.</p>
</div><h1>APIs (Application Programming Interfaces)</h1>
<div class='content'></div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: An API is a set of rules that allows different software to communicate with each other.</li>
<li><strong>Types of APIs</strong>:
<ul>
<li><strong>REST (Representational State Transfer)</strong>: Uses HTTP requests to access and manipulate data.</li>
<li><strong>SOAP (Simple Object Access Protocol)</strong>: XML-based protocol for exchanging structured information.</li>
<li><strong>GraphQL</strong>: Query language for APIs that allows requesting exactly the needed data.</li>
</ul>
</li>
<li><strong>Components of an API</strong>:
<ul>
<li><strong>Endpoint</strong>: URL where a resource can be accessed.</li>
<li><strong>HTTP Methods</strong>: GET, POST, PUT, DELETE, etc.</li>
<li><strong>Headers</strong>: Additional information sent with the request or response.</li>
<li><strong>Body</strong>: Content of the request or response, generally in JSON or XML format.</li>
</ul>
</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'><h4>Example of a REST API in Node.js with Express</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgYXBwID0gZXhwcmVzcygpOwpjb25zdCBwb3J0ID0gMzAwMDsKCmFwcC51c2UoZXhwcmVzcy5qc29uKCkpOwoKbGV0IGl0ZW1zID0gWwogIHsgaWQ6IDEsIG5hbWU6ICdJdGVtIDEnIH0sCiAgeyBpZDogMiwgbmFtZTogJ0l0ZW0gMicgfQpdOwoKLy8gR0VUIGFsbCBpdGVtcwphcHAuZ2V0KCcvYXBpL2l0ZW1zJywgKHJlcSwgcmVzKSA9PiB7CiAgcmVzLmpzb24oaXRlbXMpOwp9KTsKCi8vIEdFVCBpdGVtIGJ5IElECmFwcC5nZXQoJy9hcGkvaXRlbXMvOmlkJywgKHJlcSwgcmVzKSA9PiB7CiAgY29uc3QgaXRlbSA9IGl0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBwYXJzZUludChyZXEucGFyYW1zLmlkKSk7CiAgaWYgKCFpdGVtKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ0l0ZW0gbm90IGZvdW5kJyk7CiAgcmVzLmpzb24oaXRlbSk7Cn0pOwoKLy8gUE9TVCBjcmVhdGUgbmV3IGl0ZW0KYXBwLnBvc3QoJy9hcGkvaXRlbXMnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCBuZXdJdGVtID0gewogICAgaWQ6IGl0ZW1zLmxlbmd0aCArIDEsCiAgICBuYW1lOiByZXEuYm9keS5uYW1lCiAgfTsKICBpdGVtcy5wdXNoKG5ld0l0ZW0pOwogIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld0l0ZW0pOwp9KTsKCi8vIFBVVCB1cGRhdGUgaXRlbQphcHAucHV0KCcvYXBpL2l0ZW1zLzppZCcsIChyZXEsIHJlcykgPT4gewogIGNvbnN0IGl0ZW0gPSBpdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gcGFyc2VJbnQocmVxLnBhcmFtcy5pZCkpOwogIGlmICghaXRlbSkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdJdGVtIG5vdCBmb3VuZCcpOwogIGl0ZW0ubmFtZSA9IHJlcS5ib2R5Lm5hbWU7CiAgcmVzLmpzb24oaXRlbSk7Cn0pOwoKLy8gREVMRVRFIGl0ZW0KYXBwLmRlbGV0ZSgnL2FwaS9pdGVtcy86aWQnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCBpdGVtSW5kZXggPSBpdGVtcy5maW5kSW5kZXgoaSA9PiBpLmlkID09PSBwYXJzZUludChyZXEucGFyYW1zLmlkKSk7CiAgaWYgKGl0ZW1JbmRleCA9PT0gLTEpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCgnSXRlbSBub3QgZm91bmQnKTsKICBpdGVtcy5zcGxpY2UoaXRlbUluZGV4LCAxKTsKICByZXMuc3RhdHVzKDIwNCkuc2VuZCgpOwp9KTsKCmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gewogIGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const express = require('express');
const app = express();
const port = 3000;

app.use(express.json());

let items = [
  { id: 1, name: 'Item 1' },
  { id: 2, name: 'Item 2' }
];

// GET all items
app.get('/api/items', (req, res) =&gt; {
  res.json(items);
});

// GET item by ID
app.get('/api/items/:id', (req, res) =&gt; {
  const item = items.find(i =&gt; i.id === parseInt(req.params.id));
  if (!item) return res.status(404).send('Item not found');
  res.json(item);
});

// POST create new item
app.post('/api/items', (req, res) =&gt; {
  const newItem = {
    id: items.length + 1,
    name: req.body.name
  };
  items.push(newItem);
  res.status(201).json(newItem);
});

// PUT update item
app.put('/api/items/:id', (req, res) =&gt; {
  const item = items.find(i =&gt; i.id === parseInt(req.params.id));
  if (!item) return res.status(404).send('Item not found');
  item.name = req.body.name;
  res.json(item);
});

// DELETE item
app.delete('/api/items/:id', (req, res) =&gt; {
  const itemIndex = items.findIndex(i =&gt; i.id === parseInt(req.params.id));
  if (itemIndex === -1) return res.status(404).send('Item not found');
  items.splice(itemIndex, 1);
  res.status(204).send();
});

app.listen(port, () =&gt; {
  console.log(`Server running at http://localhost:${port}`);
});</pre></div><div class='content'></div><h2>Exercise</h2>
<div class='content'><ol>
<li><strong>Create a REST API</strong>: Use Node.js and Express to create an API that manages a task list (CRUD: Create, Read, Update, Delete).</li>
<li><strong>Document the API</strong>: Use Swagger to document your API.</li>
</ol>
</div><h1>Microservices</h1>
<div class='content'></div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: Architecture that structures an application as a set of small, autonomous services.</li>
<li><strong>Characteristics</strong>:
<ul>
<li><strong>Decoupling</strong>: Each microservice is independent.</li>
<li><strong>Scalability</strong>: Microservices can be scaled individually.</li>
<li><strong>Independent Deployment</strong>: Each microservice can be deployed without affecting the others.</li>
<li><strong>Heterogeneous Technology</strong>: Different microservices can use different technologies and programming languages.</li>
</ul>
</li>
<li><strong>Communication between Microservices</strong>:
<ul>
<li><strong>Synchronous</strong>: Using HTTP/REST or gRPC.</li>
<li><strong>Asynchronous</strong>: Using message queues like RabbitMQ or Kafka.</li>
</ul>
</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'><h4>Example of a Microservice in Spring Boot</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5TcHJpbmdBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5hdXRvY29uZmlndXJlLlNwcmluZ0Jvb3RBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi4qOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCkBTcHJpbmdCb290QXBwbGljYXRpb24KcHVibGljIGNsYXNzIEl0ZW1TZXJ2aWNlQXBwbGljYXRpb24gewoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBTcHJpbmdBcHBsaWNhdGlvbi5ydW4oSXRlbVNlcnZpY2VBcHBsaWNhdGlvbi5jbGFzcywgYXJncyk7CiAgICB9Cn0KCkBSZXN0Q29udHJvbGxlcgpAUmVxdWVzdE1hcHBpbmcoIi9hcGkvaXRlbXMiKQpjbGFzcyBJdGVtQ29udHJvbGxlciB7CgogICAgcHJpdmF0ZSBMaXN0PEl0ZW0+IGl0ZW1zID0gbmV3IEFycmF5TGlzdDw+KCk7CgogICAgQEdldE1hcHBpbmcKICAgIHB1YmxpYyBMaXN0PEl0ZW0+IGdldEFsbEl0ZW1zKCkgewogICAgICAgIHJldHVybiBpdGVtczsKICAgIH0KCiAgICBAR2V0TWFwcGluZygiL3tpZH0iKQogICAgcHVibGljIEl0ZW0gZ2V0SXRlbUJ5SWQoQFBhdGhWYXJpYWJsZSBpbnQgaWQpIHsKICAgICAgICByZXR1cm4gaXRlbXMuc3RyZWFtKCkuZmlsdGVyKGl0ZW0gLT4gaXRlbS5nZXRJZCgpID09IGlkKS5maW5kRmlyc3QoKS5vckVsc2UobnVsbCk7CiAgICB9CgogICAgQFBvc3RNYXBwaW5nCiAgICBwdWJsaWMgSXRlbSBjcmVhdGVJdGVtKEBSZXF1ZXN0Qm9keSBJdGVtIGl0ZW0pIHsKICAgICAgICBpdGVtcy5hZGQoaXRlbSk7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICB9CgogICAgQFB1dE1hcHBpbmcoIi97aWR9IikKICAgIHB1YmxpYyBJdGVtIHVwZGF0ZUl0ZW0oQFBhdGhWYXJpYWJsZSBpbnQgaWQsIEBSZXF1ZXN0Qm9keSBJdGVtIG5ld0l0ZW0pIHsKICAgICAgICBJdGVtIGl0ZW0gPSBpdGVtcy5zdHJlYW0oKS5maWx0ZXIoaSAtPiBpLmdldElkKCkgPT0gaWQpLmZpbmRGaXJzdCgpLm9yRWxzZShudWxsKTsKICAgICAgICBpZiAoaXRlbSAhPSBudWxsKSB7CiAgICAgICAgICAgIGl0ZW0uc2V0TmFtZShuZXdJdGVtLmdldE5hbWUoKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpdGVtOwogICAgfQoKICAgIEBEZWxldGVNYXBwaW5nKCIve2lkfSIpCiAgICBwdWJsaWMgdm9pZCBkZWxldGVJdGVtKEBQYXRoVmFyaWFibGUgaW50IGlkKSB7CiAgICAgICAgaXRlbXMucmVtb3ZlSWYoaXRlbSAtPiBpdGVtLmdldElkKCkgPT0gaWQpOwogICAgfQp9CgpjbGFzcyBJdGVtIHsKICAgIHByaXZhdGUgaW50IGlkOwogICAgcHJpdmF0ZSBTdHJpbmcgbmFtZTsKCiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.*;

import java.util.ArrayList;
import java.util.List;

@SpringBootApplication
public class ItemServiceApplication {

    public static void main(String[] args) {
        SpringApplication.run(ItemServiceApplication.class, args);
    }
}

@RestController
@RequestMapping(&quot;/api/items&quot;)
class ItemController {

    private List&lt;Item&gt; items = new ArrayList&lt;&gt;();

    @GetMapping
    public List&lt;Item&gt; getAllItems() {
        return items;
    }

    @GetMapping(&quot;/{id}&quot;)
    public Item getItemById(@PathVariable int id) {
        return items.stream().filter(item -&gt; item.getId() == id).findFirst().orElse(null);
    }

    @PostMapping
    public Item createItem(@RequestBody Item item) {
        items.add(item);
        return item;
    }

    @PutMapping(&quot;/{id}&quot;)
    public Item updateItem(@PathVariable int id, @RequestBody Item newItem) {
        Item item = items.stream().filter(i -&gt; i.getId() == id).findFirst().orElse(null);
        if (item != null) {
            item.setName(newItem.getName());
        }
        return item;
    }

    @DeleteMapping(&quot;/{id}&quot;)
    public void deleteItem(@PathVariable int id) {
        items.removeIf(item -&gt; item.getId() == id);
    }
}

class Item {
    private int id;
    private String name;

    // Getters and Setters
}</pre></div><div class='content'></div><h2>Exercise</h2>
<div class='content'><ol>
<li><strong>Create a Microservice</strong>: Use Spring Boot to create a microservice that manages a product list.</li>
<li><strong>Deploy the Microservice</strong>: Use Docker to containerize and deploy your microservice.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we have learned about APIs and Microservices, two fundamental components in distributed architectures. APIs allow communication between different parts of an application, while microservices enable building modular and scalable applications. Practicing with examples and exercises will help you consolidate these concepts and apply them in real projects.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
