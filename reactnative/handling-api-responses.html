<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling API Responses</title>

    <link rel="alternate" href="https://campusempresa.com/reactnative/handling-api-responses" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/reactnative/handling-api-responses" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/reactnative/handling-api-responses" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/reactnative/handling-api-responses" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/reactnative/handling-api-responses" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-axios'>&#x25C4;Using Axios for Network Requests</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling API Responses</a>
	</div>
	<div class='col-4 text-end'>
					<a href='persisting-data-asyncstorage'>Persisting Data with AsyncStorage &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Handling API responses is a crucial aspect of building robust and user-friendly applications in React Native. This topic will guide you from the basics of fetching data from an API to more advanced techniques for managing and displaying that data efficiently.</p>
</div><h1>Introduction to API Responses</h1>
<div class='content'><p>APIs (Application Programming Interfaces) allow your application to communicate with external services. When you make a request to an API, you receive a response, which you need to handle appropriately in your application.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>HTTP Methods</strong>: GET, POST, PUT, DELETE</li>
<li><strong>Status Codes</strong>: 200 (OK), 404 (Not Found), 500 (Internal Server Error), etc.</li>
<li><strong>JSON</strong>: Common format for API responses</li>
<li><strong>Asynchronous Programming</strong>: Using <code>async/await</code> and Promises</li>
</ul>
</div><h1>Fetching Data from an API</h1>
<div class='content'></div><h2>Using the Fetch API</h2>
<div class='content'><p>The Fetch API is a built-in JavaScript API for making network requests. It is simple to use and works well with React Native.</p>
<h4>Example: Fetching Data with Fetch API</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIEFjdGl2aXR5SW5kaWNhdG9yLCBGbGF0TGlzdCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoW10pOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oanNvbiA9PiB7CiAgICAgICAgc2V0RGF0YShqc29uKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSk7CiAgfSwgW10pOwoKICBpZiAobG9hZGluZykgewogICAgcmV0dXJuIDxBY3Rpdml0eUluZGljYXRvciBzaXplPSJsYXJnZSIgY29sb3I9IiMwMDAwZmYiIC8+OwogIH0KCiAgcmV0dXJuICgKICAgIDxWaWV3PgogICAgICA8RmxhdExpc3QKICAgICAgICBkYXRhPXtkYXRhfQogICAgICAgIGtleUV4dHJhY3Rvcj17aXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCl9CiAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiAoCiAgICAgICAgICA8Vmlldz4KICAgICAgICAgICAgPFRleHQ+e2l0ZW0udGl0bGV9PC9UZXh0PgogICAgICAgICAgICA8VGV4dD57aXRlbS5ib2R5fTwvVGV4dD4KICAgICAgICAgIDwvVmlldz4KICAgICAgICApfQogICAgICAvPgogICAgPC9WaWV3PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBcHA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useEffect, useState } from 'react';
import { View, Text, ActivityIndicator, FlatList } from 'react-native';

const App = () =&gt; {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; response.json())
      .then(json =&gt; {
        setData(json);
        setLoading(false);
      })
      .catch(error =&gt; {
        console.error(error);
        setLoading(false);
      });
  }, []);

  if (loading) {
    return &lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; /&gt;;
  }

  return (
    &lt;View&gt;
      &lt;FlatList
        data={data}
        keyExtractor={item =&gt; item.id.toString()}
        renderItem={({ item }) =&gt; (
          &lt;View&gt;
            &lt;Text&gt;{item.title}&lt;/Text&gt;
            &lt;Text&gt;{item.body}&lt;/Text&gt;
          &lt;/View&gt;
        )}
      /&gt;
    &lt;/View&gt;
  );
};

export default App;</pre></div><div class='content'></div><h2>Using Axios</h2>
<div class='content'><p>Axios is a popular library for making HTTP requests. It provides a more powerful and flexible API compared to the Fetch API.</p>
<h4>Example: Fetching Data with Axios</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIEFjdGl2aXR5SW5kaWNhdG9yLCBGbGF0TGlzdCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoW10pOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgYXhpb3MuZ2V0KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgc2V0RGF0YShyZXNwb25zZS5kYXRhKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSk7CiAgfSwgW10pOwoKICBpZiAobG9hZGluZykgewogICAgcmV0dXJuIDxBY3Rpdml0eUluZGljYXRvciBzaXplPSJsYXJnZSIgY29sb3I9IiMwMDAwZmYiIC8+OwogIH0KCiAgcmV0dXJuICgKICAgIDxWaWV3PgogICAgICA8RmxhdExpc3QKICAgICAgICBkYXRhPXtkYXRhfQogICAgICAgIGtleUV4dHJhY3Rvcj17aXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCl9CiAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiAoCiAgICAgICAgICA8Vmlldz4KICAgICAgICAgICAgPFRleHQ+e2l0ZW0udGl0bGV9PC9UZXh0PgogICAgICAgICAgICA8VGV4dD57aXRlbS5ib2R5fTwvVGV4dD4KICAgICAgICAgIDwvVmlldz4KICAgICAgICApfQogICAgICAvPgogICAgPC9WaWV3PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBcHA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useEffect, useState } from 'react';
import { View, Text, ActivityIndicator, FlatList } from 'react-native';
import axios from 'axios';

const App = () =&gt; {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    axios.get('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; {
        setData(response.data);
        setLoading(false);
      })
      .catch(error =&gt; {
        console.error(error);
        setLoading(false);
      });
  }, []);

  if (loading) {
    return &lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; /&gt;;
  }

  return (
    &lt;View&gt;
      &lt;FlatList
        data={data}
        keyExtractor={item =&gt; item.id.toString()}
        renderItem={({ item }) =&gt; (
          &lt;View&gt;
            &lt;Text&gt;{item.title}&lt;/Text&gt;
            &lt;Text&gt;{item.body}&lt;/Text&gt;
          &lt;/View&gt;
        )}
      /&gt;
    &lt;/View&gt;
  );
};

export default App;</pre></div><div class='content'></div><h1>Handling Errors</h1>
<div class='content'><p>Proper error handling is essential to provide a good user experience and to debug issues effectively.</p>
</div><h2>Example: Error Handling with Fetch API</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJykKICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgIH0pCiAgICAudGhlbihqc29uID0+IHsKICAgICAgc2V0RGF0YShqc29uKTsKICAgICAgc2V0TG9hZGluZyhmYWxzZSk7CiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246JywgZXJyb3IpOwogICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgIH0pOwp9LCBbXSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  fetch('https://jsonplaceholder.typicode.com/posts')
    .then(response =&gt; {
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      return response.json();
    })
    .then(json =&gt; {
      setData(json);
      setLoading(false);
    })
    .catch(error =&gt; {
      console.error('There was a problem with the fetch operation:', error);
      setLoading(false);
    });
}, []);</pre></div><div class='content'></div><h2>Example: Error Handling with Axios</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBheGlvcy5nZXQoJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycpCiAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHNldERhdGEocmVzcG9uc2UuZGF0YSk7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfSkKICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgYXhpb3MgcmVxdWVzdDonLCBlcnJvcik7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfSk7Cn0sIFtdKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  axios.get('https://jsonplaceholder.typicode.com/posts')
    .then(response =&gt; {
      setData(response.data);
      setLoading(false);
    })
    .catch(error =&gt; {
      console.error('There was a problem with the axios request:', error);
      setLoading(false);
    });
}, []);</pre></div><div class='content'></div><h1>Advanced Techniques</h1>
<div class='content'></div><h2>Using Async/Await</h2>
<div class='content'><p>Async/await syntax makes asynchronous code look and behave more like synchronous code, which is easier to read and debug.</p>
<h4>Example: Fetching Data with Async/Await</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKTsKICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAgIH0KICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgc2V0RGF0YShqc29uKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOicsIGVycm9yKTsKICAgIH0gZmluYWxseSB7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIGZldGNoRGF0YSgpOwp9LCBbXSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  const fetchData = async () =&gt; {
    try {
      const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      const json = await response.json();
      setData(json);
    } catch (error) {
      console.error('There was a problem with the fetch operation:', error);
    } finally {
      setLoading(false);
    }
  };

  fetchData();
}, []);</pre></div><div class='content'></div><h2>Using Axios with Async/Await</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJyk7CiAgICAgIHNldERhdGEocmVzcG9uc2UuZGF0YSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIGF4aW9zIHJlcXVlc3Q6JywgZXJyb3IpOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0TG9hZGluZyhmYWxzZSk7CiAgICB9CiAgfTsKCiAgZmV0Y2hEYXRhKCk7Cn0sIFtdKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  const fetchData = async () =&gt; {
    try {
      const response = await axios.get('https://jsonplaceholder.typicode.com/posts');
      setData(response.data);
    } catch (error) {
      console.error('There was a problem with the axios request:', error);
    } finally {
      setLoading(false);
    }
  };

  fetchData();
}, []);</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Handling API responses in React Native involves understanding HTTP methods, status codes, and JSON. You can use the Fetch API or Axios to make network requests. Proper error handling and using async/await syntax can help make your code more readable and robust. By mastering these techniques, you can build more reliable and user-friendly applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-axios'>&#x25C4;Using Axios for Network Requests</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling API Responses</a>
	</div>
	<div class='col-4 text-end'>
					<a href='persisting-data-asyncstorage'>Persisting Data with AsyncStorage &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
