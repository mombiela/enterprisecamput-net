<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessing Device Features with Expo</title>

    <link rel="alternate" href="https://campusempresa.com/reactnative/accessing-device-features-expo" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/reactnative/accessing-device-features-expo" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/reactnative/accessing-device-features-expo" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/reactnative/accessing-device-features-expo" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/reactnative/accessing-device-features-expo" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-maps'>&#x25C4;Working with Maps</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Accessing Device Features with Expo</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-native-modules'>Using Native Modules &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Expo is a powerful toolchain built around React Native that simplifies the development process by providing a set of tools and services. One of the key advantages of using Expo is its ability to easily access native device features such as the camera, location, and sensors without needing to write native code.</p>
</div><h1>Setting Up Expo</h1>
<div class='content'><p>Before diving into accessing device features, ensure you have Expo CLI installed and a basic Expo project set up.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLWcgZXhwby1jbGkKZXhwbyBpbml0IE15TmV3UHJvamVjdApjZCBNeU5ld1Byb2plY3QKZXhwbyBzdGFydA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install -g expo-cli
expo init MyNewProject
cd MyNewProject
expo start</pre></div><div class='content'></div><h1>Accessing the Camera</h1>
<div class='content'><p>The camera is one of the most commonly used device features. Expo provides the <code>expo-camera</code> module to interact with the device's camera.</p>
</div><h2>Installing the Camera Module</h2>
<div class='content'><p>First, install the <code>expo-camera</code> package:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwbyBpbnN0YWxsIGV4cG8tY2FtZXJh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>expo install expo-camera</pre></div><div class='content'></div><h2>Using the Camera Module</h2>
<div class='content'><p>Here’s a basic example of how to use the camera in your React Native app:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRleHQsIFZpZXcsIEJ1dHRvbiB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmltcG9ydCB7IENhbWVyYSB9IGZyb20gJ2V4cG8tY2FtZXJhJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHsKICBjb25zdCBbaGFzUGVybWlzc2lvbiwgc2V0SGFzUGVybWlzc2lvbl0gPSB1c2VTdGF0ZShudWxsKTsKICBjb25zdCBbdHlwZSwgc2V0VHlwZV0gPSB1c2VTdGF0ZShDYW1lcmEuQ29uc3RhbnRzLlR5cGUuYmFjayk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAoYXN5bmMgKCkgPT4gewogICAgICBjb25zdCB7IHN0YXR1cyB9ID0gYXdhaXQgQ2FtZXJhLnJlcXVlc3RQZXJtaXNzaW9uc0FzeW5jKCk7CiAgICAgIHNldEhhc1Blcm1pc3Npb24oc3RhdHVzID09PSAnZ3JhbnRlZCcpOwogICAgfSkoKTsKICB9LCBbXSk7CgogIGlmIChoYXNQZXJtaXNzaW9uID09PSBudWxsKSB7CiAgICByZXR1cm4gPFZpZXcgLz47CiAgfQogIGlmIChoYXNQZXJtaXNzaW9uID09PSBmYWxzZSkgewogICAgcmV0dXJuIDxUZXh0Pk5vIGFjY2VzcyB0byBjYW1lcmE8L1RleHQ+OwogIH0KICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSB9fT4KICAgICAgPENhbWVyYSBzdHlsZT17eyBmbGV4OiAxIH19IHR5cGU9e3R5cGV9PgogICAgICAgIDxWaWV3CiAgICAgICAgICBzdHlsZT17ewogICAgICAgICAgICBmbGV4OiAxLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsCiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLAogICAgICAgICAgfX0+CiAgICAgICAgICA8QnV0dG9uCiAgICAgICAgICAgIHRpdGxlPSJGbGlwIENhbWVyYSIKICAgICAgICAgICAgb25QcmVzcz17KCkgPT4gewogICAgICAgICAgICAgIHNldFR5cGUoCiAgICAgICAgICAgICAgICB0eXBlID09PSBDYW1lcmEuQ29uc3RhbnRzLlR5cGUuYmFjawogICAgICAgICAgICAgICAgICA/IENhbWVyYS5Db25zdGFudHMuVHlwZS5mcm9udAogICAgICAgICAgICAgICAgICA6IENhbWVyYS5Db25zdGFudHMuVHlwZS5iYWNrCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfX0+CiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L1ZpZXc+CiAgICAgIDwvQ2FtZXJhPgogICAgPC9WaWV3PgogICk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { Text, View, Button } from 'react-native';
import { Camera } from 'expo-camera';

export default function App() {
  const [hasPermission, setHasPermission] = useState(null);
  const [type, setType] = useState(Camera.Constants.Type.back);

  useEffect(() =&gt; {
    (async () =&gt; {
      const { status } = await Camera.requestPermissionsAsync();
      setHasPermission(status === 'granted');
    })();
  }, []);

  if (hasPermission === null) {
    return &lt;View /&gt;;
  }
  if (hasPermission === false) {
    return &lt;Text&gt;No access to camera&lt;/Text&gt;;
  }
  return (
    &lt;View style={{ flex: 1 }}&gt;
      &lt;Camera style={{ flex: 1 }} type={type}&gt;
        &lt;View
          style={{
            flex: 1,
            backgroundColor: 'transparent',
            flexDirection: 'row',
          }}&gt;
          &lt;Button
            title=&quot;Flip Camera&quot;
            onPress={() =&gt; {
              setType(
                type === Camera.Constants.Type.back
                  ? Camera.Constants.Type.front
                  : Camera.Constants.Type.back
              );
            }}&gt;
          &lt;/Button&gt;
        &lt;/View&gt;
      &lt;/Camera&gt;
    &lt;/View&gt;
  );
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Permissions</strong>: The app requests camera permissions using <code>Camera.requestPermissionsAsync()</code>.</li>
<li><strong>State Management</strong>: The state is used to manage the camera type (front or back).</li>
<li><strong>Camera Component</strong>: The <code>Camera</code> component from <code>expo-camera</code> is used to display the camera view.</li>
</ul>
</div><h1>Accessing Location</h1>
<div class='content'><p>Expo provides the <code>expo-location</code> module to access the device's location.</p>
</div><h2>Installing the Location Module</h2>
<div class='content'><p>First, install the <code>expo-location</code> package:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwbyBpbnN0YWxsIGV4cG8tbG9jYXRpb24="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>expo install expo-location</pre></div><div class='content'></div><h2>Using the Location Module</h2>
<div class='content'><p>Here’s a basic example of how to get the current location:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRleHQsIFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgKiBhcyBMb2NhdGlvbiBmcm9tICdleHBvLWxvY2F0aW9uJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHsKICBjb25zdCBbbG9jYXRpb24sIHNldExvY2F0aW9uXSA9IHVzZVN0YXRlKG51bGwpOwogIGNvbnN0IFtlcnJvck1zZywgc2V0RXJyb3JNc2ddID0gdXNlU3RhdGUobnVsbCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAoYXN5bmMgKCkgPT4gewogICAgICBsZXQgeyBzdGF0dXMgfSA9IGF3YWl0IExvY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uc0FzeW5jKCk7CiAgICAgIGlmIChzdGF0dXMgIT09ICdncmFudGVkJykgewogICAgICAgIHNldEVycm9yTXNnKCdQZXJtaXNzaW9uIHRvIGFjY2VzcyBsb2NhdGlvbiB3YXMgZGVuaWVkJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBsZXQgbG9jYXRpb24gPSBhd2FpdCBMb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb25Bc3luYyh7fSk7CiAgICAgIHNldExvY2F0aW9uKGxvY2F0aW9uKTsKICAgIH0pKCk7CiAgfSwgW10pOwoKICBsZXQgdGV4dCA9ICdXYWl0aW5nLi4nOwogIGlmIChlcnJvck1zZykgewogICAgdGV4dCA9IGVycm9yTXNnOwogIH0gZWxzZSBpZiAobG9jYXRpb24pIHsKICAgIHRleHQgPSBKU09OLnN0cmluZ2lmeShsb2NhdGlvbik7CiAgfQoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSwganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT4KICAgICAgPFRleHQ+e3RleHR9PC9UZXh0PgogICAgPC9WaWV3PgogICk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { Text, View } from 'react-native';
import * as Location from 'expo-location';

export default function App() {
  const [location, setLocation] = useState(null);
  const [errorMsg, setErrorMsg] = useState(null);

  useEffect(() =&gt; {
    (async () =&gt; {
      let { status } = await Location.requestPermissionsAsync();
      if (status !== 'granted') {
        setErrorMsg('Permission to access location was denied');
        return;
      }

      let location = await Location.getCurrentPositionAsync({});
      setLocation(location);
    })();
  }, []);

  let text = 'Waiting..';
  if (errorMsg) {
    text = errorMsg;
  } else if (location) {
    text = JSON.stringify(location);
  }

  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;{text}&lt;/Text&gt;
    &lt;/View&gt;
  );
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Permissions</strong>: The app requests location permissions using <code>Location.requestPermissionsAsync()</code>.</li>
<li><strong>State Management</strong>: The state is used to store the location data and any error messages.</li>
<li><strong>Location Fetching</strong>: The <code>Location.getCurrentPositionAsync()</code> method is used to fetch the current location.</li>
</ul>
</div><h1>Accessing Sensors</h1>
<div class='content'><p>Expo also provides access to various device sensors like the accelerometer, gyroscope, and magnetometer through the <code>expo-sensors</code> module.</p>
</div><h2>Installing the Sensors Module</h2>
<div class='content'><p>First, install the <code>expo-sensors</code> package:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwbyBpbnN0YWxsIGV4cG8tc2Vuc29ycw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>expo install expo-sensors</pre></div><div class='content'></div><h2>Using the Accelerometer</h2>
<div class='content'><p>Here’s a basic example of how to use the accelerometer:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRleHQsIFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgeyBBY2NlbGVyb21ldGVyIH0gZnJvbSAnZXhwby1zZW5zb3JzJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHsKICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSh7CiAgICB4OiAwLAogICAgeTogMCwKICAgIHo6IDAsCiAgfSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBBY2NlbGVyb21ldGVyLnNldFVwZGF0ZUludGVydmFsKDEwMDApOwogICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gQWNjZWxlcm9tZXRlci5hZGRMaXN0ZW5lcihhY2NlbGVyb21ldGVyRGF0YSA9PiB7CiAgICAgIHNldERhdGEoYWNjZWxlcm9tZXRlckRhdGEpOwogICAgfSk7CgogICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7CiAgfSwgW10pOwoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSwganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT4KICAgICAgPFRleHQ+QWNjZWxlcm9tZXRlcjo8L1RleHQ+CiAgICAgIDxUZXh0Png6IHtkYXRhLngudG9GaXhlZCgyKX08L1RleHQ+CiAgICAgIDxUZXh0Pnk6IHtkYXRhLnkudG9GaXhlZCgyKX08L1RleHQ+CiAgICAgIDxUZXh0Pno6IHtkYXRhLnoudG9GaXhlZCgyKX08L1RleHQ+CiAgICA8L1ZpZXc+CiAgKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { Text, View } from 'react-native';
import { Accelerometer } from 'expo-sensors';

export default function App() {
  const [data, setData] = useState({
    x: 0,
    y: 0,
    z: 0,
  });

  useEffect(() =&gt; {
    Accelerometer.setUpdateInterval(1000);
    const subscription = Accelerometer.addListener(accelerometerData =&gt; {
      setData(accelerometerData);
    });

    return () =&gt; subscription &amp;&amp; subscription.remove();
  }, []);

  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Accelerometer:&lt;/Text&gt;
      &lt;Text&gt;x: {data.x.toFixed(2)}&lt;/Text&gt;
      &lt;Text&gt;y: {data.y.toFixed(2)}&lt;/Text&gt;
      &lt;Text&gt;z: {data.z.toFixed(2)}&lt;/Text&gt;
    &lt;/View&gt;
  );
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>State Management</strong>: The state is used to store the accelerometer data.</li>
<li><strong>Sensor Data</strong>: The <code>Accelerometer.addListener()</code> method is used to listen for accelerometer updates.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Accessing device features with Expo is straightforward and requires minimal setup. By leveraging Expo's modules, you can easily integrate functionalities like the camera, location, and sensors into your React Native applications. This not only speeds up development but also ensures a consistent experience across different devices.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-maps'>&#x25C4;Working with Maps</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Accessing Device Features with Expo</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-native-modules'>Using Native Modules &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
