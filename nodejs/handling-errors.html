<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Errors</title>

    <link rel="alternate" href="https://campusempresa.com/nodejs/handling-errors" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/nodejs/handling-errors" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/nodejs/handling-errors" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/nodejs/handling-errors" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/nodejs/handling-errors" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='async-await'>&#x25C4;Async/Await</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling Errors</a>
	</div>
	<div class='col-4 text-end'>
					<a href='http-module'>HTTP Module &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Error handling is a critical aspect of building robust and reliable applications in Node.js. This topic will guide you through the fundamentals of error handling, from basic concepts to advanced techniques.</p>
</div><h1>Introduction to Error Handling</h1>
<div class='content'><p>Error handling is the process of responding to and managing errors that occur during the execution of a program. In Node.js, errors can occur due to various reasons such as invalid user input, failed network requests, or bugs in the code.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Error Object</strong>: In Node.js, errors are represented by the <code>Error</code> object, which contains information about the error.</li>
<li><strong>Synchronous vs Asynchronous Errors</strong>: Errors can occur in both synchronous and asynchronous code. Handling them requires different approaches.</li>
<li><strong>Try-Catch Block</strong>: A common way to handle synchronous errors.</li>
<li><strong>Error-First Callbacks</strong>: A pattern used to handle errors in asynchronous code.</li>
<li><strong>Promises and Async/Await</strong>: Modern ways to handle asynchronous errors.</li>
</ul>
</div><h1>Synchronous Error Handling</h1>
<div class='content'><p>Synchronous errors occur during the execution of a function and can be caught using <code>try-catch</code> blocks.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZGl2aWRlKGEsIGIpIHsKICAgIGlmIChiID09PSAwKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXZpc2lvbiBieSB6ZXJvJyk7CiAgICB9CiAgICByZXR1cm4gYSAvIGI7Cn0KCnRyeSB7CiAgICBjb25zdCByZXN1bHQgPSBkaXZpZGUoNCwgMCk7CiAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwp9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IubWVzc2FnZSk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function divide(a, b) {
    if (b === 0) {
        throw new Error('Division by zero');
    }
    return a / b;
}

try {
    const result = divide(4, 0);
    console.log(result);
} catch (error) {
    console.error('Error:', error.message);
}</pre></div><div class='content'><p>In this example, if <code>b</code> is zero, an error is thrown, and the <code>catch</code> block handles it by logging the error message.</p>
</div><h1>Asynchronous Error Handling</h1>
<div class='content'><p>Asynchronous errors occur in operations like network requests, file I/O, or timers. Handling these errors requires different techniques.</p>
</div><h2>Error-First Callbacks</h2>
<div class='content'><p>Node.js uses the error-first callback pattern to handle asynchronous errors.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpOwoKZnMucmVhZEZpbGUoJ25vbmV4aXN0ZW50ZmlsZS50eHQnLCAndXRmOCcsIChlcnIsIGRhdGEpID0+IHsKICAgIGlmIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnIubWVzc2FnZSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc29sZS5sb2coZGF0YSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fs = require('fs');

fs.readFile('nonexistentfile.txt', 'utf8', (err, data) =&gt; {
    if (err) {
        console.error('Error:', err.message);
        return;
    }
    console.log(data);
});</pre></div><div class='content'><p>In this example, if the file does not exist, the <code>err</code> object will contain the error, and the error message will be logged.</p>
</div><h2>Promises</h2>
<div class='content'><p>Promises provide a cleaner way to handle asynchronous operations and errors.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzOwoKZnMucmVhZEZpbGUoJ25vbmV4aXN0ZW50ZmlsZS50eHQnLCAndXRmOCcpCiAgICAudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgIH0pCiAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnIubWVzc2FnZSk7CiAgICB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fs = require('fs').promises;

fs.readFile('nonexistentfile.txt', 'utf8')
    .then(data =&gt; {
        console.log(data);
    })
    .catch(err =&gt; {
        console.error('Error:', err.message);
    });</pre></div><div class='content'></div><h2>Async/Await</h2>
<div class='content'><p>Async/Await is syntactic sugar over promises, making asynchronous code look synchronous.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzOwoKYXN5bmMgZnVuY3Rpb24gcmVhZEZpbGUoKSB7CiAgICB0cnkgewogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZSgnbm9uZXhpc3RlbnRmaWxlLnR4dCcsICd1dGY4Jyk7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnIubWVzc2FnZSk7CiAgICB9Cn0KCnJlYWRGaWxlKCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fs = require('fs').promises;

async function readFile() {
    try {
        const data = await fs.readFile('nonexistentfile.txt', 'utf8');
        console.log(data);
    } catch (err) {
        console.error('Error:', err.message);
    }
}

readFile();</pre></div><div class='content'></div><h1>Advanced Error Handling</h1>
<div class='content'></div><h2>Custom Error Classes</h2>
<div class='content'><p>Creating custom error classes can help in categorizing and handling different types of errors more effectively.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3IgewogICAgY29uc3RydWN0b3IobWVzc2FnZSkgewogICAgICAgIHN1cGVyKG1lc3NhZ2UpOwogICAgICAgIHRoaXMubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InOwogICAgfQp9CgpmdW5jdGlvbiB2YWxpZGF0ZVVzZXIodXNlcikgewogICAgaWYgKCF1c2VyLm5hbWUpIHsKICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdOYW1lIGlzIHJlcXVpcmVkJyk7CiAgICB9CiAgICAvLyBPdGhlciB2YWxpZGF0aW9uIGxvZ2ljCn0KCnRyeSB7CiAgICB2YWxpZGF0ZVVzZXIoe30pOwp9IGNhdGNoIChlcnJvcikgewogICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBFcnJvcjonLCBlcnJvci5tZXNzYWdlKTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IubWVzc2FnZSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ValidationError extends Error {
    constructor(message) {
        super(message);
        this.name = 'ValidationError';
    }
}

function validateUser(user) {
    if (!user.name) {
        throw new ValidationError('Name is required');
    }
    // Other validation logic
}

try {
    validateUser({});
} catch (error) {
    if (error instanceof ValidationError) {
        console.error('Validation Error:', error.message);
    } else {
        console.error('Error:', error.message);
    }
}</pre></div><div class='content'></div><h2>Error Handling Middleware in Express</h2>
<div class='content'><p>In an Express application, you can use middleware to handle errors globally.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgYXBwID0gZXhwcmVzcygpOwoKYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4gewogICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpOwp9KTsKCi8vIEVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmUKYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4gewogICAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spOwogICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoJ1NvbWV0aGluZyBicm9rZSEnKTsKfSk7CgphcHAubGlzdGVuKDMwMDAsICgpID0+IHsKICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0IDMwMDAnKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const express = require('express');
const app = express();

app.get('/', (req, res) =&gt; {
    throw new Error('Something went wrong');
});

// Error handling middleware
app.use((err, req, res, next) =&gt; {
    console.error(err.stack);
    res.status(500).send('Something broke!');
});

app.listen(3000, () =&gt; {
    console.log('Server is running on port 3000');
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Handling errors effectively is crucial for building reliable Node.js applications. By understanding and implementing the various error handling techniques discussed in this topic, you can ensure that your application can gracefully handle unexpected situations and provide a better user experience.</p>
<ul>
<li><strong>Synchronous Errors</strong>: Use <code>try-catch</code> blocks.</li>
<li><strong>Asynchronous Errors</strong>: Use error-first callbacks, promises, or async/await.</li>
<li><strong>Custom Errors</strong>: Create custom error classes for better error categorization.</li>
<li><strong>Express Middleware</strong>: Use middleware for global error handling in Express applications.</li>
</ul>
<p>By mastering these techniques, you'll be well-equipped to handle errors in your Node.js applications, from simple scripts to complex web servers.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='async-await'>&#x25C4;Async/Await</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling Errors</a>
	</div>
	<div class='col-4 text-end'>
					<a href='http-module'>HTTP Module &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
