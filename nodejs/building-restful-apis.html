<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building RESTful APIs with Node.js</title>

    <link rel="alternate" href="https://campusempresa.com/nodejs/building-restful-apis" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/nodejs/building-restful-apis" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/nodejs/building-restful-apis" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/nodejs/building-restful-apis" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/nodejs/building-restful-apis" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-performance'>&#x25C4;Monitoring and Performance Tuning</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Building RESTful APIs with Node.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='graphql-nodejs'>GraphQL with Node.js &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to RESTful APIs</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: REST (Representational State Transfer) is an architectural style for designing networked applications.</li>
<li><strong>Principles</strong>:
<ul>
<li>Statelessness</li>
<li>Client-Server Architecture</li>
<li>Uniform Interface</li>
<li>Layered System</li>
<li>Cacheability</li>
<li>Code on Demand (optional)</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Your Environment</h1>
<div class='content'><ul>
<li><strong>Node.js Installation</strong>: Ensure Node.js and npm (Node Package Manager) are installed.</li>
<li><strong>Project Initialization</strong>:
<pre><code class="language-bash">mkdir rest-api-example
cd rest-api-example
npm init -y
</code></pre>
</li>
<li><strong>Installing Dependencies</strong>:
<ul>
<li>Express.js: A minimal and flexible Node.js web application framework.</li>
<li>Nodemon: A tool that helps develop Node.js applications by automatically restarting the node application when file changes are detected.</li>
</ul>
<pre><code class="language-bash">npm install express
npm install --save-dev nodemon
</code></pre>
</li>
</ul>
</div><h1>Creating a Basic Server with Express</h1>
<div class='content'><ul>
<li><strong>Basic Server Setup</strong>:
<pre><code class="language-javascript">const express = require('express');
const app = express();
const PORT = 3000;

app.get('/', (req, res) =&gt; {
  res.send('Hello World!');
});

app.listen(PORT, () =&gt; {
  console.log(`Server is running on http://localhost:${PORT}`);
});
</code></pre>
</li>
<li><strong>Running the Server</strong>:
<pre><code class="language-bash">node index.js
</code></pre>
</li>
</ul>
</div><h1>RESTful Routes</h1>
<div class='content'><ul>
<li><strong>CRUD Operations</strong>:
<ul>
<li><strong>Create</strong>: <code>POST</code></li>
<li><strong>Read</strong>: <code>GET</code></li>
<li><strong>Update</strong>: <code>PUT</code></li>
<li><strong>Delete</strong>: <code>DELETE</code></li>
</ul>
</li>
<li><strong>Example Routes</strong>:
<pre><code class="language-javascript">app.post('/items', (req, res) =&gt; {
  // Code to create an item
});

app.get('/items', (req, res) =&gt; {
  // Code to get all items
});

app.get('/items/:id', (req, res) =&gt; {
  // Code to get a single item by id
});

app.put('/items/:id', (req, res) =&gt; {
  // Code to update an item by id
});

app.delete('/items/:id', (req, res) =&gt; {
  // Code to delete an item by id
});
</code></pre>
</li>
</ul>
</div><h1>Middleware and Body Parsing</h1>
<div class='content'><ul>
<li><strong>Middleware</strong>: Functions that have access to the request object, response object, and the next middleware function.</li>
<li><strong>Body Parser</strong>: Middleware to parse incoming request bodies.
<pre><code class="language-bash">npm install body-parser
</code></pre>
<pre><code class="language-javascript">const bodyParser = require('body-parser');
app.use(bodyParser.json());
</code></pre>
</li>
</ul>
</div><h1>Connecting to a Database</h1>
<div class='content'><ul>
<li><strong>MongoDB and Mongoose</strong>:
<ul>
<li><strong>Installation</strong>:
<pre><code class="language-bash">npm install mongoose
</code></pre>
</li>
<li><strong>Connecting to MongoDB</strong>:
<pre><code class="language-javascript">const mongoose = require('mongoose');
mongoose.connect('mongodb://localhost:27017/rest-api-example', { useNewUrlParser: true, useUnifiedTopology: true });
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Defining Mongoose Schemas and Models</h1>
<div class='content'><ul>
<li><strong>Schema Definition</strong>:
<pre><code class="language-javascript">const itemSchema = new mongoose.Schema({
  name: String,
  quantity: Number,
  price: Number
});

const Item = mongoose.model('Item', itemSchema);
</code></pre>
</li>
</ul>
</div><h1>Implementing CRUD Operations with Mongoose</h1>
<div class='content'><ul>
<li><strong>Create Operation</strong>:
<pre><code class="language-javascript">app.post('/items', async (req, res) =&gt; {
  const newItem = new Item(req.body);
  try {
    const savedItem = await newItem.save();
    res.status(201).send(savedItem);
  } catch (error) {
    res.status(400).send(error);
  }
});
</code></pre>
</li>
<li><strong>Read Operations</strong>:
<pre><code class="language-javascript">app.get('/items', async (req, res) =&gt; {
  try {
    const items = await Item.find();
    res.status(200).send(items);
  } catch (error) {
    res.status(500).send(error);
  }
});

app.get('/items/:id', async (req, res) =&gt; {
  try {
    const item = await Item.findById(req.params.id);
    if (!item) {
      return res.status(404).send();
    }
    res.status(200).send(item);
  } catch (error) {
    res.status(500).send(error);
  }
});
</code></pre>
</li>
<li><strong>Update Operation</strong>:
<pre><code class="language-javascript">app.put('/items/:id', async (req, res) =&gt; {
  try {
    const item = await Item.findByIdAndUpdate(req.params.id, req.body, { new: true, runValidators: true });
    if (!item) {
      return res.status(404).send();
    }
    res.status(200).send(item);
  } catch (error) {
    res.status(400).send(error);
  }
});
</code></pre>
</li>
<li><strong>Delete Operation</strong>:
<pre><code class="language-javascript">app.delete('/items/:id', async (req, res) =&gt; {
  try {
    const item = await Item.findByIdAndDelete(req.params.id);
    if (!item) {
      return res.status(404).send();
    }
    res.status(200).send(item);
  } catch (error) {
    res.status(500).send(error);
  }
});
</code></pre>
</li>
</ul>
</div><h1>Error Handling</h1>
<div class='content'><ul>
<li><strong>Centralized Error Handling Middleware</strong>:
<pre><code class="language-javascript">app.use((err, req, res, next) =&gt; {
  console.error(err.stack);
  res.status(500).send('Something broke!');
});
</code></pre>
</li>
</ul>
</div><h1>Authentication and Authorization</h1>
<div class='content'><ul>
<li><strong>JWT (JSON Web Tokens)</strong>:
<ul>
<li><strong>Installation</strong>:
<pre><code class="language-bash">npm install jsonwebtoken
</code></pre>
</li>
<li><strong>Generating Tokens</strong>:
<pre><code class="language-javascript">const jwt = require('jsonwebtoken');
const token = jwt.sign({ _id: user._id }, 'secretKey', { expiresIn: '1h' });
</code></pre>
</li>
<li><strong>Verifying Tokens</strong>:
<pre><code class="language-javascript">const auth = (req, res, next) =&gt; {
  const token = req.header('Authorization').replace('Bearer ', '');
  try {
    const decoded = jwt.verify(token, 'secretKey');
    req.user = decoded;
    next();
  } catch (error) {
    res.status(401).send({ error: 'Please authenticate.' });
  }
};
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Advanced Topics</h1>
<div class='content'><ul>
<li><strong>Rate Limiting</strong>: Prevent abuse by limiting the number of requests a client can make.</li>
<li><strong>Data Validation</strong>: Use libraries like Joi to validate request data.</li>
<li><strong>API Documentation</strong>: Use tools like Swagger to document your API.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Building RESTful APIs with Node.js involves understanding the principles of REST, setting up a server with Express, defining routes, connecting to a database, and implementing CRUD operations. Advanced topics like authentication, error handling, and rate limiting are crucial for creating robust and secure APIs. By following this structured approach, you can develop scalable and maintainable APIs that adhere to industry standards.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-performance'>&#x25C4;Monitoring and Performance Tuning</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Building RESTful APIs with Node.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='graphql-nodejs'>GraphQL with Node.js &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
