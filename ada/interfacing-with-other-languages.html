<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfacing with Other Languages</title>

    <link rel="alternate" href="https://campusempresa.com/ada/interfacing-with-other-languages" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/ada/interfacing-with-other-languages" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/ada/interfacing-with-other-languages" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/ada/interfacing-with-other-languages" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/ada/interfacing-with-other-languages" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='generic-packages'>&#x25C4;Generic Packages</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Interfacing with Other Languages</a>
	</div>
	<div class='col-4 text-end'>
					<a href='real-time-systems'>Real-Time Systems &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Interfacing with other languages is a crucial skill for Ada programmers, allowing them to leverage existing libraries and systems written in different programming languages. This topic will cover the basics of interfacing Ada with C, as it is the most common scenario, and provide insights into interfacing with other languages.</p>
</div><h1>Introduction to Interfacing</h1>
<div class='content'><p>Interfacing allows Ada programs to call functions and use libraries written in other languages, and vice versa. This is particularly useful for:</p>
<ul>
<li>Reusing existing code.</li>
<li>Leveraging specialized libraries.</li>
<li>Integrating with system-level APIs.</li>
</ul>
</div><h1>Interfacing with C</h1>
<div class='content'><p>C is the most common language Ada interfaces with due to its widespread use and compatibility. Ada provides a straightforward way to interface with C through the <code>pragma Import</code>, <code>pragma Export</code>, and <code>pragma Convention</code> directives.</p>
</div><h2>Calling C Functions from Ada</h2>
<div class='content'><p>To call a C function from Ada, you need to:</p>
<ol>
<li>Declare the C function in Ada.</li>
<li>Use <code>pragma Import</code> to link the C function.</li>
</ol>
<h4>Example</h4>
<p>Suppose you have a C function <code>int add(int a, int b);</code>:</p>
<p><strong>C Code:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYWRkLmMKaW50IGFkZChpbnQgYSwgaW50IGIpIHsKICAgIHJldHVybiBhICsgYjsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// add.c
int add(int a, int b) {
    return a + b;
}</pre></div><div class='content'><p><strong>Ada Code:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gYWRkLmFkcwp3aXRoIEludGVyZmFjZXMuQzsgdXNlIEludGVyZmFjZXMuQzsKCmZ1bmN0aW9uIEFkZCAoQSwgQiA6IEMuaW50KSByZXR1cm4gQy5pbnQ7CnByYWdtYSBJbXBvcnQgKEMsIEFkZCwgImFkZCIpOwoKLS0gbWFpbi5hZGIKd2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwp3aXRoIEFkZDsKCnByb2NlZHVyZSBNYWluIGlzCmJlZ2luCiAgICBQdXRfTGluZSAoIjUgKyAzID0gIiAmIEludGVnZXInSW1hZ2UgKEFkZCAoNSwgMykpKTsKZW5kIE1haW47"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- add.ads
with Interfaces.C; use Interfaces.C;

function Add (A, B : C.int) return C.int;
pragma Import (C, Add, &quot;add&quot;);

-- main.adb
with Ada.Text_IO; use Ada.Text_IO;
with Add;

procedure Main is
begin
    Put_Line (&quot;5 + 3 = &quot; &amp; Integer'Image (Add (5, 3)));
end Main;</pre></div><div class='content'></div><h2>Exporting Ada Functions to C</h2>
<div class='content'><p>To call an Ada function from C, you need to:</p>
<ol>
<li>Declare the Ada function.</li>
<li>Use <code>pragma Export</code> to make the function available to C.</li>
</ol>
<h4>Example</h4>
<p>Suppose you want to call an Ada function from C:</p>
<p><strong>Ada Code:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gbXlfZnVuY3Rpb25zLmFkcwp3aXRoIEludGVyZmFjZXMuQzsgdXNlIEludGVyZmFjZXMuQzsKCnByb2NlZHVyZSBQcmludF9NZXNzYWdlIChNZXNzYWdlIDogaW4gQy5jaGFyX2FycmF5KTsKcHJhZ21hIEV4cG9ydCAoQywgUHJpbnRfTWVzc2FnZSwgInByaW50X21lc3NhZ2UiKTsKCi0tIG15X2Z1bmN0aW9ucy5hZGIKd2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwoKcHJvY2VkdXJlIFByaW50X01lc3NhZ2UgKE1lc3NhZ2UgOiBpbiBJbnRlcmZhY2VzLkMuY2hhcl9hcnJheSkgaXMKYmVnaW4KICAgIEFkYS5UZXh0X0lPLlB1dF9MaW5lIChNZXNzYWdlLmFsbCk7CmVuZCBQcmludF9NZXNzYWdlOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- my_functions.ads
with Interfaces.C; use Interfaces.C;

procedure Print_Message (Message : in C.char_array);
pragma Export (C, Print_Message, &quot;print_message&quot;);

-- my_functions.adb
with Ada.Text_IO; use Ada.Text_IO;

procedure Print_Message (Message : in Interfaces.C.char_array) is
begin
    Ada.Text_IO.Put_Line (Message.all);
end Print_Message;</pre></div><div class='content'><p><strong>C Code:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWFpbi5jCmV4dGVybiB2b2lkIHByaW50X21lc3NhZ2UoY29uc3QgY2hhciogbWVzc2FnZSk7CgppbnQgbWFpbigpIHsKICAgIHByaW50X21lc3NhZ2UoIkhlbGxvIGZyb20gQyEiKTsKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// main.c
extern void print_message(const char* message);

int main() {
    print_message(&quot;Hello from C!&quot;);
    return 0;
}</pre></div><div class='content'></div><h2>Data Types Mapping</h2>
<div class='content'><p>When interfacing with C, it is essential to map Ada types to their corresponding C types. Here is a table for common type mappings:</p>
<p>| Ada Type          | C Type          |
|-------------------|-----------------|
| <code>Interfaces.C.int</code>| <code>int</code>           |
| <code>Interfaces.C.char</code>| <code>char</code>         |
| <code>Interfaces.C.float</code>| <code>float</code>       |
| <code>Interfaces.C.double</code>| <code>double</code>     |
| <code>Interfaces.C.char_array</code>| <code>char*</code> |</p>
</div><h1>Interfacing with Other Languages</h1>
<div class='content'><p>While C is the most common language Ada interfaces with, it is also possible to interface with other languages like Fortran, C++, and Java. The process is similar but may require additional considerations for language-specific features.</p>
</div><h2>Interfacing with Fortran</h2>
<div class='content'><p>Fortran is often used in scientific computing. Ada can interface with Fortran using similar pragmas:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIEZvcnRyYW5fU3Vicm91dGluZTsKcHJhZ21hIEltcG9ydCAoRm9ydHJhbiwgRm9ydHJhbl9TdWJyb3V0aW5lLCAiZm9ydHJhbl9zdWJyb3V0aW5lIik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure Fortran_Subroutine;
pragma Import (Fortran, Fortran_Subroutine, &quot;fortran_subroutine&quot;);</pre></div><div class='content'></div><h2>Interfacing with C++</h2>
<div class='content'><p>Interfacing with C++ can be more complex due to features like classes and name mangling. However, basic function calls can be handled similarly to C:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIENwcF9GdW5jdGlvbjsKcHJhZ21hIEltcG9ydCAoQywgQ3BwX0Z1bmN0aW9uLCAiX1oxMmNwcF9mdW5jdGlvbnYiKTsgLS0gTWFuZ2xlZCBuYW1l"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure Cpp_Function;
pragma Import (C, Cpp_Function, &quot;_Z12cpp_functionv&quot;); -- Mangled name</pre></div><div class='content'></div><h2>Interfacing with Java</h2>
<div class='content'><p>Interfacing with Java typically involves using the Java Native Interface (JNI). This is more advanced and requires understanding JNI conventions.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Interfacing Ada with other languages, especially C, is a powerful feature that allows you to extend the capabilities of your Ada programs. By understanding how to declare and link functions, map data types, and use the appropriate pragmas, you can effectively integrate Ada with a variety of other programming languages. This skill is invaluable for leveraging existing codebases and libraries, making your Ada applications more versatile and powerful.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='generic-packages'>&#x25C4;Generic Packages</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Interfacing with Other Languages</a>
	</div>
	<div class='col-4 text-end'>
					<a href='real-time-systems'>Real-Time Systems &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
