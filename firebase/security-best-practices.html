<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Best Practices in Firebase</title>

    <link rel="alternate" href="https://campusempresa.com/firebase/security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/firebase/security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/firebase/security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/firebase/security-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/firebase/security-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='integrating-firebase-other-services'>&#x25C4;Integrating Firebase with Other Services</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices in Firebase</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Firebase Security</h1>
<div class='content'><p>Firebase provides a suite of tools to help you secure your applications. Understanding and implementing security best practices is crucial to protect user data and maintain the integrity of your application.</p>
</div><h1>Authentication</h1>
<div class='content'><p>Authentication is the first step in securing your Firebase application. Firebase Authentication provides backend services to help authenticate users.</p>
<ul>
<li><strong>Email and Password Authentication</strong>: Simple and common method.</li>
<li><strong>OAuth Providers</strong>: Google, Facebook, Twitter, etc.</li>
<li><strong>Anonymous Authentication</strong>: Useful for guest users.</li>
</ul>
</div><h2>Example: Email and Password Authentication</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpCiAgLnRoZW4oKHVzZXJDcmVkZW50aWFsKSA9PiB7CiAgICAvLyBTaWduZWQgaW4gCiAgICB2YXIgdXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7CiAgICBjb25zb2xlLmxvZygiVXNlciBjcmVhdGVkOiAiLCB1c2VyKTsKICB9KQogIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlOwogICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgICBjb25zb2xlLmVycm9yKCJFcnJvcjogIiwgZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase.auth().createUserWithEmailAndPassword(email, password)
  .then((userCredential) =&gt; {
    // Signed in 
    var user = userCredential.user;
    console.log(&quot;User created: &quot;, user);
  })
  .catch((error) =&gt; {
    var errorCode = error.code;
    var errorMessage = error.message;
    console.error(&quot;Error: &quot;, errorCode, errorMessage);
  });</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>createUserWithEmailAndPassword</code> method creates a new user with the provided email and password.</li>
<li>Handles errors such as invalid email format or weak password.</li>
</ul>
</div><h1>Firestore Security Rules</h1>
<div class='content'><p>Firestore Security Rules control access to your Firestore database. They determine who can read or write to your database.</p>
<ul>
<li><strong>Match Statements</strong>: Define the path to the documents.</li>
<li><strong>Allow Statements</strong>: Specify the conditions under which access is granted.</li>
</ul>
</div><h2>Example: Basic Firestore Rule</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmljZSBjbG91ZC5maXJlc3RvcmUgewogIG1hdGNoIC9kYXRhYmFzZXMve2RhdGFiYXNlfS9kb2N1bWVudHMgewogICAgbWF0Y2ggL3VzZXJzL3t1c2VySWR9IHsKICAgICAgYWxsb3cgcmVhZCwgd3JpdGU6IGlmIHJlcXVlc3QuYXV0aCAhPSBudWxsICYmIHJlcXVlc3QuYXV0aC51aWQgPT0gdXNlcklkOwogICAgfQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null &amp;&amp; request.auth.uid == userId;
    }
  }
}</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li>The rule allows read and write access to the <code>users</code> collection only if the user is authenticated and the <code>userId</code> matches the authenticated user's ID.</li>
</ul>
</div><h1>Realtime Database Security Rules</h1>
<div class='content'><p>Similar to Firestore, Realtime Database Security Rules control access to your Realtime Database.</p>
<ul>
<li><strong>.read and .write Rules</strong>: Define who can read and write data.</li>
<li><strong>Validation Rules</strong>: Ensure data integrity.</li>
</ul>
</div><h2>Example: Basic Realtime Database Rule</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJydWxlcyI6IHsKICAgICJ1c2VycyI6IHsKICAgICAgIiR1c2VyX2lkIjogewogICAgICAgICIucmVhZCI6ICJhdXRoICE9IG51bGwgJiYgYXV0aC51aWQgPT0gJHVzZXJfaWQiLAogICAgICAgICIud3JpdGUiOiAiYXV0aCAhPSBudWxsICYmIGF1dGgudWlkID09ICR1c2VyX2lkIgogICAgICB9CiAgICB9CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;rules&quot;: {
    &quot;users&quot;: {
      &quot;$user_id&quot;: {
        &quot;.read&quot;: &quot;auth != null &amp;&amp; auth.uid == $user_id&quot;,
        &quot;.write&quot;: &quot;auth != null &amp;&amp; auth.uid == $user_id&quot;
      }
    }
  }
}</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li>The rule allows read and write access to the <code>users</code> node only if the user is authenticated and the <code>user_id</code> matches the authenticated user's ID.</li>
</ul>
</div><h1>Storage Security Rules</h1>
<div class='content'><p>Firebase Storage Security Rules determine who can upload, download, and delete files in your storage.</p>
<ul>
<li><strong>Match Statements</strong>: Define the path to the files.</li>
<li><strong>Allow Statements</strong>: Specify the conditions under which access is granted.</li>
</ul>
</div><h2>Example: Basic Storage Rule</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmljZSBmaXJlYmFzZS5zdG9yYWdlIHsKICBtYXRjaCAvYi97YnVja2V0fS9vIHsKICAgIG1hdGNoIC91c2VyX2ZpbGVzL3t1c2VySWR9L3tmaWxlTmFtZX0gewogICAgICBhbGxvdyByZWFkLCB3cml0ZTogaWYgcmVxdWVzdC5hdXRoICE9IG51bGwgJiYgcmVxdWVzdC5hdXRoLnVpZCA9PSB1c2VySWQ7CiAgICB9CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>service firebase.storage {
  match /b/{bucket}/o {
    match /user_files/{userId}/{fileName} {
      allow read, write: if request.auth != null &amp;&amp; request.auth.uid == userId;
    }
  }
}</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li>The rule allows read and write access to the <code>user_files</code> directory only if the user is authenticated and the <code>userId</code> matches the authenticated user's ID.</li>
</ul>
</div><h1>Advanced Security Practices</h1>
<div class='content'><p>For advanced security, consider the following practices:</p>
<ul>
<li><strong>Custom Claims and Roles</strong>: Use custom claims to manage user roles and permissions.</li>
<li><strong>Rate Limiting</strong>: Prevent abuse by limiting the number of requests.</li>
<li><strong>Data Encryption</strong>: Ensure sensitive data is encrypted both in transit and at rest.</li>
<li><strong>Regular Audits</strong>: Regularly review and update your security rules.</li>
</ul>
</div><h2>Example: Custom Claims</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2V0IGN1c3RvbSB1c2VyIGNsYWltcwphZG1pbi5hdXRoKCkuc2V0Q3VzdG9tVXNlckNsYWltcyh1aWQsIHthZG1pbjogdHJ1ZX0pCiAgLnRoZW4oKCkgPT4gewogICAgY29uc29sZS5sb2coIkN1c3RvbSBjbGFpbXMgc2V0IGZvciB1c2VyOiAiLCB1aWQpOwogIH0pCiAgLmNhdGNoKChlcnJvcikgPT4gewogICAgY29uc29sZS5lcnJvcigiRXJyb3Igc2V0dGluZyBjdXN0b20gY2xhaW1zOiAiLCBlcnJvcik7CiAgfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Set custom user claims
admin.auth().setCustomUserClaims(uid, {admin: true})
  .then(() =&gt; {
    console.log(&quot;Custom claims set for user: &quot;, uid);
  })
  .catch((error) =&gt; {
    console.error(&quot;Error setting custom claims: &quot;, error);
  });</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>setCustomUserClaims</code> method assigns custom claims to a user, which can be used to manage roles and permissions.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Securing your Firebase application involves multiple layers, from authentication to database and storage rules. By following these best practices, you can ensure that your application remains secure and your users' data is protected. Regularly review and update your security rules to adapt to new threats and changes in your application.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='integrating-firebase-other-services'>&#x25C4;Integrating Firebase with Other Services</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices in Firebase</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
