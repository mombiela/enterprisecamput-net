<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Shading Techniques</title>

    <link rel="alternate" href="https://campusempresa.com/direct_x/advanced-shading-techniques" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/direct_x/advanced-shading-techniques" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/direct_x/advanced-shading-techniques" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/direct_x/advanced-shading-techniques" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/direct_x/advanced-shading-techniques" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='rendering-techniques'>&#x25C4;Rendering Techniques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced Shading Techniques</a>
	</div>
	<div class='col-4 text-end'>
					<a href='post-processing-effects'>Post-Processing Effects &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will delve into advanced shading techniques using DirectX. Shading is a crucial aspect of rendering realistic graphics, and mastering these techniques will significantly enhance the visual quality of your applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Shaders</strong>: Small programs that run on the GPU to control the rendering pipeline.</li>
<li><strong>HLSL (High-Level Shading Language)</strong>: The language used to write shaders in DirectX.</li>
<li><strong>Lighting Models</strong>: Techniques to simulate light interaction with surfaces.</li>
<li><strong>Shadow Mapping</strong>: Technique to add shadows to a scene.</li>
<li><strong>Normal Mapping</strong>: Technique to add detailed textures without increasing polygon count.</li>
<li><strong>Parallax Mapping</strong>: Technique to create depth illusion on textures.</li>
<li><strong>Screen-Space Ambient Occlusion (SSAO)</strong>: Technique to simulate soft shadows in crevices.</li>
</ul>
</div><h1>Shaders in DirectX</h1>
<div class='content'><p>Shaders are essential for creating advanced visual effects. There are several types of shaders:</p>
<ul>
<li><strong>Vertex Shader</strong>: Processes each vertex's attributes.</li>
<li><strong>Pixel Shader</strong>: Determines the color of each pixel.</li>
<li><strong>Geometry Shader</strong>: Processes entire primitives (like triangles).</li>
</ul>
</div><h2>Example: Basic Vertex and Pixel Shader</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IFNoYWRlcgpzdHJ1Y3QgVlNfSU5QVVQgewogICAgZmxvYXQ0IFBvcyA6IFBPU0lUSU9OOwogICAgZmxvYXQ0IENvbG9yIDogQ09MT1I7Cn07CgpzdHJ1Y3QgUFNfSU5QVVQgewogICAgZmxvYXQ0IFBvcyA6IFNWX1BPU0lUSU9OOwogICAgZmxvYXQ0IENvbG9yIDogQ09MT1I7Cn07CgpQU19JTlBVVCBWUyhWU19JTlBVVCBpbnB1dCkgewogICAgUFNfSU5QVVQgb3V0cHV0OwogICAgb3V0cHV0LlBvcyA9IGlucHV0LlBvczsKICAgIG91dHB1dC5Db2xvciA9IGlucHV0LkNvbG9yOwogICAgcmV0dXJuIG91dHB1dDsKfQoKLy8gUGl4ZWwgU2hhZGVyCmZsb2F0NCBQUyhQU19JTlBVVCBpbnB1dCkgOiBTVl9UYXJnZXQgewogICAgcmV0dXJuIGlucHV0LkNvbG9yOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex Shader
struct VS_INPUT {
    float4 Pos : POSITION;
    float4 Color : COLOR;
};

struct PS_INPUT {
    float4 Pos : SV_POSITION;
    float4 Color : COLOR;
};

PS_INPUT VS(VS_INPUT input) {
    PS_INPUT output;
    output.Pos = input.Pos;
    output.Color = input.Color;
    return output;
}

// Pixel Shader
float4 PS(PS_INPUT input) : SV_Target {
    return input.Color;
}</pre></div><div class='content'><p>This example demonstrates a simple pass-through vertex and pixel shader. The vertex shader takes vertex position and color as input and passes them to the pixel shader, which then outputs the color.</p>
</div><h1>Lighting Models</h1>
<div class='content'><p>Lighting models are used to simulate how light interacts with surfaces. Common models include:</p>
<ul>
<li><strong>Phong Lighting</strong>: Simulates specular highlights.</li>
<li><strong>Blinn-Phong Lighting</strong>: A variation of Phong with better performance.</li>
<li><strong>PBR (Physically Based Rendering)</strong>: Simulates realistic material properties.</li>
</ul>
</div><h2>Example: Blinn-Phong Lighting</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQ0IEJsaW5uUGhvbmdMaWdodGluZyhmbG9hdDMgbm9ybWFsLCBmbG9hdDMgbGlnaHREaXIsIGZsb2F0MyB2aWV3RGlyLCBmbG9hdDMgbGlnaHRDb2xvciwgZmxvYXQzIGFtYmllbnRDb2xvcikgewogICAgZmxvYXQzIGhhbGZWZWN0b3IgPSBub3JtYWxpemUobGlnaHREaXIgKyB2aWV3RGlyKTsKICAgIGZsb2F0IHNwZWN1bGFyID0gcG93KG1heChkb3Qobm9ybWFsLCBoYWxmVmVjdG9yKSwgMC4wKSwgMTYpOwogICAgZmxvYXQgZGlmZnVzZSA9IG1heChkb3Qobm9ybWFsLCBsaWdodERpciksIDAuMCk7CiAgICByZXR1cm4gZmxvYXQ0KGFtYmllbnRDb2xvciArIGxpZ2h0Q29sb3IgKiAoZGlmZnVzZSArIHNwZWN1bGFyKSwgMS4wKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float4 BlinnPhongLighting(float3 normal, float3 lightDir, float3 viewDir, float3 lightColor, float3 ambientColor) {
    float3 halfVector = normalize(lightDir + viewDir);
    float specular = pow(max(dot(normal, halfVector), 0.0), 16);
    float diffuse = max(dot(normal, lightDir), 0.0);
    return float4(ambientColor + lightColor * (diffuse + specular), 1.0);
}</pre></div><div class='content'><p>This function calculates the Blinn-Phong lighting model, combining ambient, diffuse, and specular components.</p>
</div><h1>Shadow Mapping</h1>
<div class='content'><p>Shadow mapping is a technique to add shadows to a scene by rendering the scene from the light's perspective.</p>
</div><h2>Example: Shadow Mapping Steps</h2>
<div class='content'><ol>
<li><strong>Render Depth Map</strong>: Render the scene from the light's perspective and store depth information.</li>
<li><strong>Shadow Calculation</strong>: In the pixel shader, compare the current pixel's depth with the depth map to determine if it is in shadow.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2hhZG93IENhbGN1bGF0aW9uIGluIFBpeGVsIFNoYWRlcgpmbG9hdCBTaGFkb3dDYWxjdWxhdGlvbihmbG9hdDQgbGlnaHRTcGFjZVBvcywgVGV4dHVyZTJEIHNoYWRvd01hcCwgU2FtcGxlclN0YXRlIHNoYWRvd1NhbXBsZXIpIHsKICAgIGZsb2F0IHNoYWRvdyA9IDAuMDsKICAgIGZsb2F0MiB1diA9IGxpZ2h0U3BhY2VQb3MueHkgLyBsaWdodFNwYWNlUG9zLnc7CiAgICBmbG9hdCBkZXB0aCA9IGxpZ2h0U3BhY2VQb3MueiAvIGxpZ2h0U3BhY2VQb3MudzsKICAgIGZsb2F0IHNoYWRvd0RlcHRoID0gc2hhZG93TWFwLlNhbXBsZShzaGFkb3dTYW1wbGVyLCB1dikucjsKICAgIGlmIChkZXB0aCA+IHNoYWRvd0RlcHRoICsgMC4wMDUpIHsKICAgICAgICBzaGFkb3cgPSAxLjA7CiAgICB9CiAgICByZXR1cm4gc2hhZG93Owp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Shadow Calculation in Pixel Shader
float ShadowCalculation(float4 lightSpacePos, Texture2D shadowMap, SamplerState shadowSampler) {
    float shadow = 0.0;
    float2 uv = lightSpacePos.xy / lightSpacePos.w;
    float depth = lightSpacePos.z / lightSpacePos.w;
    float shadowDepth = shadowMap.Sample(shadowSampler, uv).r;
    if (depth &gt; shadowDepth + 0.005) {
        shadow = 1.0;
    }
    return shadow;
}</pre></div><div class='content'><p>This function checks if a pixel is in shadow by comparing its depth with the shadow map.</p>
</div><h1>Normal Mapping</h1>
<div class='content'><p>Normal mapping adds detailed textures to surfaces without increasing the polygon count.</p>
</div><h2>Example: Normal Mapping</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQzIE5vcm1hbE1hcHBpbmcoZmxvYXQzIG5vcm1hbCwgZmxvYXQzIHRhbmdlbnQsIGZsb2F0MyBiaXRhbmdlbnQsIGZsb2F0MyBub3JtYWxNYXApIHsKICAgIGZsb2F0M3gzIFRCTiA9IGZsb2F0M3gzKHRhbmdlbnQsIGJpdGFuZ2VudCwgbm9ybWFsKTsKICAgIHJldHVybiBub3JtYWxpemUobXVsKG5vcm1hbE1hcCwgVEJOKSk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float3 NormalMapping(float3 normal, float3 tangent, float3 bitangent, float3 normalMap) {
    float3x3 TBN = float3x3(tangent, bitangent, normal);
    return normalize(mul(normalMap, TBN));
}</pre></div><div class='content'><p>This function transforms the normal map from tangent space to world space using the TBN matrix.</p>
</div><h1>Parallax Mapping</h1>
<div class='content'><p>Parallax mapping creates a depth illusion on textures by offsetting texture coordinates.</p>
</div><h2>Example: Parallax Mapping</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQyIFBhcmFsbGF4TWFwcGluZyhmbG9hdDIgdGV4Q29vcmRzLCBmbG9hdDMgdmlld0RpciwgZmxvYXQgaGVpZ2h0U2NhbGUsIFRleHR1cmUyRCBoZWlnaHRNYXAsIFNhbXBsZXJTdGF0ZSBzYW1wbGVyKSB7CiAgICBmbG9hdCBoZWlnaHQgPSBoZWlnaHRNYXAuU2FtcGxlKHNhbXBsZXIsIHRleENvb3JkcykucjsKICAgIGZsb2F0MiBvZmZzZXQgPSB2aWV3RGlyLnh5ICogKGhlaWdodCAqIGhlaWdodFNjYWxlKTsKICAgIHJldHVybiB0ZXhDb29yZHMgKyBvZmZzZXQ7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float2 ParallaxMapping(float2 texCoords, float3 viewDir, float heightScale, Texture2D heightMap, SamplerState sampler) {
    float height = heightMap.Sample(sampler, texCoords).r;
    float2 offset = viewDir.xy * (height * heightScale);
    return texCoords + offset;
}</pre></div><div class='content'><p>This function offsets the texture coordinates based on the view direction and height map to create a parallax effect.</p>
</div><h1>Screen-Space Ambient Occlusion (SSAO)</h1>
<div class='content'><p>SSAO simulates soft shadows in crevices by analyzing the depth buffer.</p>
</div><h2>Example: SSAO</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQgQ2FsY3VsYXRlU1NBTyhmbG9hdDMgcG9zLCBmbG9hdDMgbm9ybWFsLCBUZXh0dXJlMkQgZGVwdGhNYXAsIFNhbXBsZXJTdGF0ZSBzYW1wbGVyKSB7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAwLjA7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IDE2OyArK2kpIHsKICAgICAgICBmbG9hdDMgc2FtcGxlUG9zID0gcG9zICsgc2FtcGxlS2VybmVsW2ldICogcmFkaXVzOwogICAgICAgIGZsb2F0IHNhbXBsZURlcHRoID0gZGVwdGhNYXAuU2FtcGxlKHNhbXBsZXIsIHNhbXBsZVBvcy54eSkucjsKICAgICAgICBpZiAoc2FtcGxlRGVwdGggPCBzYW1wbGVQb3MueikgewogICAgICAgICAgICBvY2NsdXNpb24gKz0gMS4wOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBvY2NsdXNpb24gLyAxNi4wOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float CalculateSSAO(float3 pos, float3 normal, Texture2D depthMap, SamplerState sampler) {
    float occlusion = 0.0;
    for (int i = 0; i &lt; 16; ++i) {
        float3 samplePos = pos + sampleKernel[i] * radius;
        float sampleDepth = depthMap.Sample(sampler, samplePos.xy).r;
        if (sampleDepth &lt; samplePos.z) {
            occlusion += 1.0;
        }
    }
    return occlusion / 16.0;
}</pre></div><div class='content'><p>This function calculates ambient occlusion by sampling the depth map around the current pixel.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Advanced shading techniques in DirectX, such as lighting models, shadow mapping, normal mapping, parallax mapping, and SSAO, are essential for creating realistic and visually appealing graphics. By mastering these techniques, you can significantly enhance the quality of your applications. Practice implementing these techniques and experiment with different parameters to see their effects on your scenes.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='rendering-techniques'>&#x25C4;Rendering Techniques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced Shading Techniques</a>
	</div>
	<div class='col-4 text-end'>
					<a href='post-processing-effects'>Post-Processing Effects &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
