<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panic and Recover in Go</title>

    <link rel="alternate" href="https://campusempresa.com/go/panic-and-recover" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/go/panic-and-recover" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/go/panic-and-recover" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/go/panic-and-recover" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/go/panic-and-recover" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-errors'>&#x25C4;Custom Errors</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Panic and Recover in Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='goroutines'>Goroutines &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In Go, error handling is typically done using the <code>error</code> type. However, there are situations where an error is so severe that the program cannot continue running normally. For these cases, Go provides the <code>panic</code> and <code>recover</code> mechanisms. This section will cover how to use <code>panic</code> and <code>recover</code>, their purposes, and best practices.</p>
</div><h1>Panic</h1>
<div class='content'><p>Panic is a built-in function that stops the ordinary flow of control and begins panicking. When a function panics, it stops executing, and any deferred functions are run in reverse order. After all deferred functions have been executed, the program crashes with a log message.</p>
</div><h2>When to Use Panic</h2>
<div class='content'><ul>
<li>When the program cannot continue to run, such as when it encounters a critical error.</li>
<li>When an unexpected state is reached that should never happen if the program is correct.</li>
</ul>
</div><h2>Example of Panic</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgImZtdCIKCmZ1bmMgbWFpbigpIHsKICAgIGZtdC5QcmludGxuKCJTdGFydCBvZiB0aGUgcHJvZ3JhbSIpCiAgICBwYW5pYygiU29tZXRoaW5nIHdlbnQgd3JvbmchIikKICAgIGZtdC5QcmludGxuKCJUaGlzIGxpbmUgd2lsbCBub3QgYmUgZXhlY3V0ZWQiKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import &quot;fmt&quot;

func main() {
    fmt.Println(&quot;Start of the program&quot;)
    panic(&quot;Something went wrong!&quot;)
    fmt.Println(&quot;This line will not be executed&quot;)
}</pre></div><div class='content'><p>In this example, the program will print &quot;Start of the program&quot; and then panic with the message &quot;Something went wrong!&quot;. The line after the panic will not be executed.</p>
</div><h1>Recover</h1>
<div class='content'><p>Recover is a built-in function that regains control of a panicking goroutine. Recover is only useful inside deferred functions. When called within a deferred function, recover stops the panic and returns the value that was passed to the call of panic.</p>
</div><h2>When to Use Recover</h2>
<div class='content'><ul>
<li>To handle a panic and allow the program to continue running.</li>
<li>To log the panic and perform cleanup before the program crashes.</li>
</ul>
</div><h2>Example of Recover</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgImZtdCIKCmZ1bmMgbWFpbigpIHsKICAgIGRlZmVyIGZ1bmMoKSB7CiAgICAgICAgaWYgciA6PSByZWNvdmVyKCk7IHIgIT0gbmlsIHsKICAgICAgICAgICAgZm10LlByaW50bG4oIlJlY292ZXJlZCBmcm9tIHBhbmljOiIsIHIpCiAgICAgICAgfQogICAgfSgpCiAgICBmbXQuUHJpbnRsbigiU3RhcnQgb2YgdGhlIHByb2dyYW0iKQogICAgcGFuaWMoIlNvbWV0aGluZyB3ZW50IHdyb25nISIpCiAgICBmbXQuUHJpbnRsbigiVGhpcyBsaW5lIHdpbGwgbm90IGJlIGV4ZWN1dGVkIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import &quot;fmt&quot;

func main() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println(&quot;Recovered from panic:&quot;, r)
        }
    }()
    fmt.Println(&quot;Start of the program&quot;)
    panic(&quot;Something went wrong!&quot;)
    fmt.Println(&quot;This line will not be executed&quot;)
}</pre></div><div class='content'><p>In this example, the deferred function uses recover to catch the panic. The program will print &quot;Start of the program&quot; and then &quot;Recovered from panic: Something went wrong!&quot;. The line after the panic will still not be executed, but the program will not crash.</p>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Use panic sparingly</strong>: Panic should be used for truly exceptional situations. For regular error handling, use the <code>error</code> type.</li>
<li><strong>Recover at the top level</strong>: Use recover in a top-level function to ensure that your program can handle panics gracefully.</li>
<li><strong>Log panics</strong>: Always log the panic message to help with debugging.</li>
<li><strong>Avoid using panic and recover for control flow</strong>: They should not be used as a substitute for regular error handling.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Panic and recover are powerful tools in Go for handling severe errors and unexpected states. While they should be used sparingly, understanding how to use them effectively can help you write more robust and resilient programs. Remember to use panic only for critical errors and to recover at a high level to ensure your program can handle unexpected situations gracefully.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-errors'>&#x25C4;Custom Errors</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Panic and Recover in Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='goroutines'>Goroutines &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
