<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Common Design Patterns in Go</title>

    <link rel="alternate" href="https://campusempresa.com/go/common-design-patterns" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/go/common-design-patterns" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/go/common-design-patterns" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/go/common-design-patterns" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/go/common-design-patterns" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-best-practices'>&#x25C4;Error Handling Best Practices</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Common Design Patterns in Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Design Patterns</h1>
<div class='content'><p>Design patterns are typical solutions to common problems in software design. They are like blueprints that can be customized to solve a particular design problem in your code. In this section, we'll explore some of the most common design patterns used in Go (Golang).</p>
</div><h1>Singleton Pattern</h1>
<div class='content'><p>The Singleton pattern ensures that a class has only one instance and provides a global point of access to it.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Single Instance</strong>: Only one instance of the class is created.</li>
<li><strong>Global Access</strong>: The instance is globally accessible.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAoJImZtdCIKCSJzeW5jIgopCgp0eXBlIHNpbmdsZXRvbiBzdHJ1Y3R7fQoKdmFyIGluc3RhbmNlICpzaW5nbGV0b24KdmFyIG9uY2Ugc3luYy5PbmNlCgpmdW5jIEdldEluc3RhbmNlKCkgKnNpbmdsZXRvbiB7CglvbmNlLkRvKGZ1bmMoKSB7CgkJaW5zdGFuY2UgPSAmc2luZ2xldG9ue30KCX0pCglyZXR1cm4gaW5zdGFuY2UKfQoKZnVuYyBtYWluKCkgewoJczEgOj0gR2V0SW5zdGFuY2UoKQoJczIgOj0gR2V0SW5zdGFuY2UoKQoKCWlmIHMxID09IHMyIHsKCQlmbXQuUHJpbnRsbigiQm90aCBpbnN0YW5jZXMgYXJlIHRoZSBzYW1lIikKCX0gZWxzZSB7CgkJZm10LlByaW50bG4oIkluc3RhbmNlcyBhcmUgZGlmZmVyZW50IikKCX0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

type singleton struct{}

var instance *singleton
var once sync.Once

func GetInstance() *singleton {
	once.Do(func() {
		instance = &amp;singleton{}
	})
	return instance
}

func main() {
	s1 := GetInstance()
	s2 := GetInstance()

	if s1 == s2 {
		fmt.Println(&quot;Both instances are the same&quot;)
	} else {
		fmt.Println(&quot;Instances are different&quot;)
	}
}</pre></div><div class='content'><p>In this example, <code>sync.Once</code> ensures that the instance is created only once, even if multiple goroutines try to call <code>GetInstance()</code> simultaneously.</p>
</div><h1>Factory Pattern</h1>
<div class='content'><p>The Factory pattern provides a way to create objects without specifying the exact class of object that will be created.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Factory Method</strong>: A method that returns an instance of a class.</li>
<li><strong>Decoupling</strong>: The client code is decoupled from the object creation code.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgImZtdCIKCnR5cGUgQW5pbWFsIGludGVyZmFjZSB7CglTcGVhaygpIHN0cmluZwp9Cgp0eXBlIERvZyBzdHJ1Y3R7fQp0eXBlIENhdCBzdHJ1Y3R7fQoKZnVuYyAoZCBEb2cpIFNwZWFrKCkgc3RyaW5nIHsKCXJldHVybiAiV29vZiEiCn0KCmZ1bmMgKGMgQ2F0KSBTcGVhaygpIHN0cmluZyB7CglyZXR1cm4gIk1lb3chIgp9CgpmdW5jIEFuaW1hbEZhY3RvcnkoYW5pbWFsVHlwZSBzdHJpbmcpIEFuaW1hbCB7Cglzd2l0Y2ggYW5pbWFsVHlwZSB7CgljYXNlICJkb2ciOgoJCXJldHVybiBEb2d7fQoJY2FzZSAiY2F0IjoKCQlyZXR1cm4gQ2F0e30KCWRlZmF1bHQ6CgkJcmV0dXJuIG5pbAoJfQp9CgpmdW5jIG1haW4oKSB7Cglkb2cgOj0gQW5pbWFsRmFjdG9yeSgiZG9nIikKCWNhdCA6PSBBbmltYWxGYWN0b3J5KCJjYXQiKQoKCWZtdC5QcmludGxuKGRvZy5TcGVhaygpKSAvLyBPdXRwdXQ6IFdvb2YhCglmbXQuUHJpbnRsbihjYXQuU3BlYWsoKSkgLy8gT3V0cHV0OiBNZW93IQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import &quot;fmt&quot;

type Animal interface {
	Speak() string
}

type Dog struct{}
type Cat struct{}

func (d Dog) Speak() string {
	return &quot;Woof!&quot;
}

func (c Cat) Speak() string {
	return &quot;Meow!&quot;
}

func AnimalFactory(animalType string) Animal {
	switch animalType {
	case &quot;dog&quot;:
		return Dog{}
	case &quot;cat&quot;:
		return Cat{}
	default:
		return nil
	}
}

func main() {
	dog := AnimalFactory(&quot;dog&quot;)
	cat := AnimalFactory(&quot;cat&quot;)

	fmt.Println(dog.Speak()) // Output: Woof!
	fmt.Println(cat.Speak()) // Output: Meow!
}</pre></div><div class='content'><p>In this example, the <code>AnimalFactory</code> function creates instances of <code>Dog</code> or <code>Cat</code> based on the input string.</p>
</div><h1>Observer Pattern</h1>
<div class='content'><p>The Observer pattern defines a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Subject</strong>: The object being observed.</li>
<li><strong>Observer</strong>: The objects that observe the subject.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgImZtdCIKCnR5cGUgT2JzZXJ2ZXIgaW50ZXJmYWNlIHsKCVVwZGF0ZShzdHJpbmcpCn0KCnR5cGUgU3ViamVjdCBpbnRlcmZhY2UgewoJUmVnaXN0ZXIoT2JzZXJ2ZXIpCglEZXJlZ2lzdGVyKE9ic2VydmVyKQoJTm90aWZ5QWxsKCkKfQoKdHlwZSBJdGVtIHN0cnVjdCB7CglvYnNlcnZlcnMgW11PYnNlcnZlcgoJbmFtZSAgICAgIHN0cmluZwoJaW5TdG9jayAgIGJvb2wKfQoKZnVuYyBOZXdJdGVtKG5hbWUgc3RyaW5nKSAqSXRlbSB7CglyZXR1cm4gJkl0ZW17CgkJbmFtZTogbmFtZSwKCX0KfQoKZnVuYyAoaSAqSXRlbSkgVXBkYXRlQXZhaWxhYmlsaXR5KCkgewoJZm10LlByaW50ZigiSXRlbSAlcyBpcyBub3cgaW4gc3RvY2tcbiIsIGkubmFtZSkKCWkuaW5TdG9jayA9IHRydWUKCWkuTm90aWZ5QWxsKCkKfQoKZnVuYyAoaSAqSXRlbSkgUmVnaXN0ZXIobyBPYnNlcnZlcikgewoJaS5vYnNlcnZlcnMgPSBhcHBlbmQoaS5vYnNlcnZlcnMsIG8pCn0KCmZ1bmMgKGkgKkl0ZW0pIERlcmVnaXN0ZXIobyBPYnNlcnZlcikgewoJaS5vYnNlcnZlcnMgPSByZW1vdmVGcm9tU2xpY2UoaS5vYnNlcnZlcnMsIG8pCn0KCmZ1bmMgKGkgKkl0ZW0pIE5vdGlmeUFsbCgpIHsKCWZvciBfLCBvYnNlcnZlciA6PSByYW5nZSBpLm9ic2VydmVycyB7CgkJb2JzZXJ2ZXIuVXBkYXRlKGkubmFtZSkKCX0KfQoKZnVuYyByZW1vdmVGcm9tU2xpY2Uob2JzZXJ2ZXJzIFtdT2JzZXJ2ZXIsIG9ic2VydmVyVG9SZW1vdmUgT2JzZXJ2ZXIpIFtdT2JzZXJ2ZXIgewoJZm9yIGksIG9ic2VydmVyIDo9IHJhbmdlIG9ic2VydmVycyB7CgkJaWYgb2JzZXJ2ZXIgPT0gb2JzZXJ2ZXJUb1JlbW92ZSB7CgkJCXJldHVybiBhcHBlbmQob2JzZXJ2ZXJzWzppXSwgb2JzZXJ2ZXJzW2krMTpdLi4uKQoJCX0KCX0KCXJldHVybiBvYnNlcnZlcnMKfQoKdHlwZSBDdXN0b21lciBzdHJ1Y3QgewoJaWQgc3RyaW5nCn0KCmZ1bmMgKGMgKkN1c3RvbWVyKSBVcGRhdGUoaXRlbU5hbWUgc3RyaW5nKSB7CglmbXQuUHJpbnRmKCJTZW5kaW5nIGVtYWlsIHRvIGN1c3RvbWVyICVzIGZvciBpdGVtICVzXG4iLCBjLmlkLCBpdGVtTmFtZSkKfQoKZnVuYyBtYWluKCkgewoJc2hpcnRJdGVtIDo9IE5ld0l0ZW0oIk5pa2UgU2hpcnQiKQoJY3VzdG9tZXIxIDo9ICZDdXN0b21lcntpZDogImFiY0BnbWFpbC5jb20ifQoJY3VzdG9tZXIyIDo9ICZDdXN0b21lcntpZDogInh5ekBnbWFpbC5jb20ifQoKCXNoaXJ0SXRlbS5SZWdpc3RlcihjdXN0b21lcjEpCglzaGlydEl0ZW0uUmVnaXN0ZXIoY3VzdG9tZXIyKQoKCXNoaXJ0SXRlbS5VcGRhdGVBdmFpbGFiaWxpdHkoKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import &quot;fmt&quot;

type Observer interface {
	Update(string)
}

type Subject interface {
	Register(Observer)
	Deregister(Observer)
	NotifyAll()
}

type Item struct {
	observers []Observer
	name      string
	inStock   bool
}

func NewItem(name string) *Item {
	return &amp;Item{
		name: name,
	}
}

func (i *Item) UpdateAvailability() {
	fmt.Printf(&quot;Item %s is now in stock\n&quot;, i.name)
	i.inStock = true
	i.NotifyAll()
}

func (i *Item) Register(o Observer) {
	i.observers = append(i.observers, o)
}

func (i *Item) Deregister(o Observer) {
	i.observers = removeFromSlice(i.observers, o)
}

func (i *Item) NotifyAll() {
	for _, observer := range i.observers {
		observer.Update(i.name)
	}
}

func removeFromSlice(observers []Observer, observerToRemove Observer) []Observer {
	for i, observer := range observers {
		if observer == observerToRemove {
			return append(observers[:i], observers[i+1:]...)
		}
	}
	return observers
}

type Customer struct {
	id string
}

func (c *Customer) Update(itemName string) {
	fmt.Printf(&quot;Sending email to customer %s for item %s\n&quot;, c.id, itemName)
}

func main() {
	shirtItem := NewItem(&quot;Nike Shirt&quot;)
	customer1 := &amp;Customer{id: &quot;abc@gmail.com&quot;}
	customer2 := &amp;Customer{id: &quot;xyz@gmail.com&quot;}

	shirtItem.Register(customer1)
	shirtItem.Register(customer2)

	shirtItem.UpdateAvailability()
}</pre></div><div class='content'><p>In this example, <code>Item</code> is the subject being observed, and <code>Customer</code> is the observer that gets notified when the item's availability changes.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered some of the most common design patterns in Go: Singleton, Factory, and Observer. Each of these patterns provides a different way to solve common design problems, making your code more modular, flexible, and maintainable. Understanding and implementing these patterns will help you write better Go programs and prepare you for more advanced topics in software design.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-best-practices'>&#x25C4;Error Handling Best Practices</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Common Design Patterns in Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
