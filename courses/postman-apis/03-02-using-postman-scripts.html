<!DOCTYPE html>
<html lang="en">
<head>
    <title> Using Postman Scripts </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/postman-apis/03-02-using-postman-scripts" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/postman-apis/03-02-using-postman-scripts" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/postman-apis/03-02-using-postman-scripts" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "tech-tools";
  		var MOD_NAME = "postman_apis";
  		var TEMA_NAME = "3-2";
  		var TYPE = "mod";
  		var PATH = "mod/postman_apis/03-02-using-postman-scripts";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/postman-apis/03-02-using-postman-scripts" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/postman-apis/03-02-using-postman-scripts" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="postman_apis">
		<a  href="#" class="text-secondary d-none" data-read-mod="postman_apis" data-read-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="postman_apis" data-unread-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-chaining-requests' title="Chaining Requests" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-chaining-requests' title="Chaining Requests" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Using Postman Scripts</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-data-driven-testing-with-postman' title="Data-Driven Testing with Postman" class="py-2 px-3 btn btn-primary"
				data-read-mod="postman_apis" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-data-driven-testing-with-postman' title="Data-Driven Testing with Postman" class="py-2 px-3 btn btn-primary" 
				data-read-mod="postman_apis" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use scripts in Postman to enhance your API testing capabilities. Postman scripts allow you to automate tasks, manipulate data, and perform complex testing scenarios. We'll cover the basics of scripting in Postman, including pre-request and test scripts, and provide practical examples to help you get started.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Scripts in Postman</strong>:</p>
<ul>
<li><strong>Pre-request Scripts</strong>: These are executed before the request is sent. They are useful for setting up the environment, modifying request parameters, or generating dynamic data.</li>
<li><strong>Test Scripts</strong>: These run after the response is received. They are used to validate the response, extract data, and perform assertions.</li>
</ul>
</li>
<li>
<p><strong>JavaScript in Postman</strong>:</p>
<ul>
<li>Postman scripts are written in JavaScript, allowing you to leverage the full power of the language to manipulate data and control the flow of your tests.</li>
</ul>
</li>
<li>
<p><strong>Postman Sandbox</strong>:</p>
<ul>
<li>A JavaScript execution environment that provides a set of libraries and functions to interact with requests and responses.</li>
</ul>
</li>
</ol>
</div><h2>Practical Examples</h2>
<div class='content'></div><h3>Example 1: Pre-request Script</h3>
<div class='content'><p>Let's create a pre-request script that generates a random user ID and adds it to the request headers.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR2VuZXJhdGUgYSByYW5kb20gdXNlciBJRApjb25zdCB1c2VySWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKTsKCi8vIFNldCB0aGUgdXNlciBJRCBpbiB0aGUgcmVxdWVzdCBoZWFkZXJzCnBtLnJlcXVlc3QuaGVhZGVycy5hZGQoeyBrZXk6ICdVc2VyLUlEJywgdmFsdWU6IHVzZXJJZC50b1N0cmluZygpIH0pOwoKY29uc29sZS5sb2coJ1VzZXIgSUQgc2V0IHRvOicsIHVzZXJJZCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Generate a random user ID
const userId = Math.floor(Math.random() * 1000);

// Set the user ID in the request headers
pm.request.headers.add({ key: 'User-ID', value: userId.toString() });

console.log('User ID set to:', userId);</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We use <code>Math.random()</code> to generate a random number and <code>Math.floor()</code> to convert it to an integer.</li>
<li>The <code>pm.request.headers.add()</code> function adds a new header to the request with the key <code>User-ID</code>.</li>
</ul>
</div><h3>Example 2: Test Script</h3>
<div class='content'><p>Now, let's write a test script to validate the response status and check if a specific field exists in the response body.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2hlY2sgaWYgdGhlIHJlc3BvbnNlIHN0YXR1cyBpcyAyMDAKcG0udGVzdCgiU3RhdHVzIGNvZGUgaXMgMjAwIiwgZnVuY3Rpb24gKCkgewogICAgcG0ucmVzcG9uc2UudG8uaGF2ZS5zdGF0dXMoMjAwKTsKfSk7CgovLyBWYWxpZGF0ZSB0aGF0IHRoZSByZXNwb25zZSBib2R5IGNvbnRhaW5zIGEgJ25hbWUnIGZpZWxkCnBtLnRlc3QoIlJlc3BvbnNlIGNvbnRhaW5zICduYW1lJyBmaWVsZCIsIGZ1bmN0aW9uICgpIHsKICAgIGNvbnN0IGpzb25EYXRhID0gcG0ucmVzcG9uc2UuanNvbigpOwogICAgcG0uZXhwZWN0KGpzb25EYXRhKS50by5oYXZlLnByb3BlcnR5KCduYW1lJyk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Check if the response status is 200
pm.test(&quot;Status code is 200&quot;, function () {
    pm.response.to.have.status(200);
});

// Validate that the response body contains a 'name' field
pm.test(&quot;Response contains 'name' field&quot;, function () {
    const jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property('name');
});</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>pm.test()</code> is used to define a test case. The first argument is the test name, and the second is a function containing the test logic.</li>
<li><code>pm.response.to.have.status(200)</code> checks if the response status code is 200.</li>
<li><code>pm.response.json()</code> parses the response body as JSON, and <code>pm.expect()</code> is used to assert that the <code>name</code> field exists.</li>
</ul>
</div><h2>Exercises</h2>
<div class='content'></div><h3>Exercise 1: Dynamic Query Parameter</h3>
<div class='content'><p><strong>Task</strong>: Write a pre-request script to add a dynamic timestamp as a query parameter to the request URL.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcApjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKCi8vIEFkZCB0aGUgdGltZXN0YW1wIGFzIGEgcXVlcnkgcGFyYW1ldGVyCnBtLnJlcXVlc3QudXJsLmFkZFF1ZXJ5UGFyYW1zKHsga2V5OiAndGltZXN0YW1wJywgdmFsdWU6IHRpbWVzdGFtcC50b1N0cmluZygpIH0pOwoKY29uc29sZS5sb2coJ1RpbWVzdGFtcCBhZGRlZDonLCB0aW1lc3RhbXApOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Get the current timestamp
const timestamp = new Date().getTime();

// Add the timestamp as a query parameter
pm.request.url.addQueryParams({ key: 'timestamp', value: timestamp.toString() });

console.log('Timestamp added:', timestamp);</pre></div><div class='content'></div><h3>Exercise 2: Validate JSON Schema</h3>
<div class='content'><p><strong>Task</strong>: Write a test script to validate the response body against a predefined JSON schema.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5lIHRoZSBKU09OIHNjaGVtYQpjb25zdCBzY2hlbWEgPSB7CiAgICAidHlwZSI6ICJvYmplY3QiLAogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgImlkIjogeyAidHlwZSI6ICJpbnRlZ2VyIiB9LAogICAgICAgICJuYW1lIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICAgIH0sCiAgICAicmVxdWlyZWQiOiBbImlkIiwgIm5hbWUiXQp9OwoKLy8gVmFsaWRhdGUgdGhlIHJlc3BvbnNlIGJvZHkgYWdhaW5zdCB0aGUgc2NoZW1hCnBtLnRlc3QoIlJlc3BvbnNlIG1hdGNoZXMgdGhlIHNjaGVtYSIsIGZ1bmN0aW9uICgpIHsKICAgIGNvbnN0IGpzb25EYXRhID0gcG0ucmVzcG9uc2UuanNvbigpOwogICAgcG0uZXhwZWN0KHR2NC52YWxpZGF0ZShqc29uRGF0YSwgc2NoZW1hKSkudG8uYmUudHJ1ZTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Define the JSON schema
const schema = {
    &quot;type&quot;: &quot;object&quot;,
    &quot;properties&quot;: {
        &quot;id&quot;: { &quot;type&quot;: &quot;integer&quot; },
        &quot;name&quot;: { &quot;type&quot;: &quot;string&quot; }
    },
    &quot;required&quot;: [&quot;id&quot;, &quot;name&quot;]
};

// Validate the response body against the schema
pm.test(&quot;Response matches the schema&quot;, function () {
    const jsonData = pm.response.json();
    pm.expect(tv4.validate(jsonData, schema)).to.be.true;
});</pre></div><div class='content'><p><strong>Feedback</strong>:</p>
<ul>
<li>Ensure the JSON schema accurately reflects the expected structure of the response.</li>
<li>Use <code>tv4</code> library functions to perform schema validation.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we explored how to use Postman scripts to automate and enhance your API testing. By leveraging pre-request and test scripts, you can dynamically modify requests, validate responses, and perform complex testing scenarios. Practice writing scripts to become proficient in using Postman for API testing. In the next section, we will delve into data-driven testing with Postman, allowing you to run tests with multiple data sets.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-chaining-requests' title="Chaining Requests" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-chaining-requests' title="Chaining Requests" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-data-driven-testing-with-postman' title="Data-Driven Testing with Postman" class="py-2 px-3 btn btn-primary"
				data-read-mod="postman_apis" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-data-driven-testing-with-postman' title="Data-Driven Testing with Postman" class="py-2 px-3 btn btn-primary" 
				data-read-mod="postman_apis" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Postman and API Testing Course</h1>
<h2>Module 1: Introduction to APIs and Postman</h2>
<ul>
<li><a href="01-01-what-is-an-api">What is an API?</a></li>
<li><a href="01-02-understanding-http-methods">Understanding HTTP Methods</a></li>
<li><a href="01-03-introduction-to-postman">Introduction to Postman</a></li>
<li><a href="01-04-setting-up-postman">Setting Up Postman</a></li>
</ul>
<h2>Module 2: Basic API Testing with Postman</h2>
<ul>
<li><a href="02-01-creating-your-first-request">Creating Your First Request</a></li>
<li><a href="02-02-understanding-request-and-response">Understanding Request and Response</a></li>
<li><a href="02-03-using-postman-collections">Using Postman Collections</a></li>
<li><a href="02-04-environment-variables-in-postman">Environment Variables in Postman</a></li>
</ul>
<h2>Module 3: Intermediate API Testing Techniques</h2>
<ul>
<li><a href="03-01-chaining-requests">Chaining Requests</a></li>
<li><a href="03-02-using-postman-scripts">Using Postman Scripts</a></li>
<li><a href="03-03-data-driven-testing-with-postman">Data-Driven Testing with Postman</a></li>
<li><a href="03-04-testing-restful-apis">Testing RESTful APIs</a></li>
</ul>
<h2>Module 4: Advanced Postman Features</h2>
<ul>
<li><a href="04-01-automating-tests-with-newman">Automating Tests with Newman</a></li>
<li><a href="04-02-continuous-integration-with-postman">Continuous Integration with Postman</a></li>
<li><a href="04-03-mock-servers-in-postman">Mock Servers in Postman</a></li>
<li><a href="04-04-advanced-scripting-techniques">Advanced Scripting Techniques</a></li>
</ul>
<h2>Module 5: API Testing Best Practices</h2>
<ul>
<li><a href="05-01-designing-effective-test-cases">Designing Effective Test Cases</a></li>
<li><a href="05-02-handling-authentication">Handling Authentication</a></li>
<li><a href="05-03-error-handling-and-debugging">Error Handling and Debugging</a></li>
<li><a href="05-04-performance-testing-with-postman">Performance Testing with Postman</a></li>
</ul>
<h2>Module 6: Real-World API Testing Scenarios</h2>
<ul>
<li><a href="06-01-testing-public-apis">Testing Public APIs</a></li>
<li><a href="06-02-testing-private-apis">Testing Private APIs</a></li>
<li><a href="06-03-case-study-e-commerce-api-testing">Case Study: E-commerce API Testing</a></li>
<li><a href="06-04-case-study-social-media-api-testing">Case Study: Social Media API Testing</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
