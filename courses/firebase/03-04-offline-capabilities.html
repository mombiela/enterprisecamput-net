<!DOCTYPE html>
<html lang="en">
<head>
    <title> Offline Capabilities </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/firebase/03-04-offline-capabilities" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/firebase/03-04-offline-capabilities" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/firebase/03-04-offline-capabilities" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "firebase";
  		var TEMA_NAME = "3-4";
  		var TYPE = "mod";
  		var PATH = "mod/firebase/03-04-offline-capabilities";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/firebase/03-04-offline-capabilities" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/firebase/03-04-offline-capabilities" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="firebase">
		<a  href="#" class="text-secondary d-none" data-read-mod="firebase" data-read-unit="3-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="firebase" data-unread-unit="3-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-03-data-structure-and-security-rules' title="Data Structure and Security Rules" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-03-data-structure-and-security-rules' title="Data Structure and Security Rules" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Offline Capabilities</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-01-introduction-to-cloud-firestore' title="Introduction to Cloud Firestore" class="py-2 px-3 btn btn-primary"
				data-read-mod="firebase" data-read-unit="3-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-01-introduction-to-cloud-firestore' title="Introduction to Cloud Firestore" class="py-2 px-3 btn btn-primary" 
				data-read-mod="firebase" data-read-unit="3-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the offline capabilities of Firebase Realtime Database. Firebase provides robust support for offline data access, ensuring that your app remains functional even when the user is not connected to the internet. This is particularly useful for mobile applications where connectivity can be intermittent.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Local Data Storage</strong>: Firebase Realtime Database stores data locally on the device, allowing read and write operations to be performed even when offline.</li>
<li><strong>Data Synchronization</strong>: Once the device regains connectivity, Firebase automatically synchronizes the local data with the server.</li>
<li><strong>Persistence</strong>: Data is persisted across app restarts, ensuring that the user’s data is not lost.</li>
</ol>
</div><h2>Enabling Offline Capabilities</h2>
<div class='content'><p>To enable offline capabilities in your Firebase Realtime Database, you need to set the persistence to true. This can be done with a simple configuration in your app.</p>
</div><h3>Example: Enabling Offline Capabilities in Android</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW5pdGlhbGl6ZSBGaXJlYmFzZQpGaXJlYmFzZURhdGFiYXNlIGRhdGFiYXNlID0gRmlyZWJhc2VEYXRhYmFzZS5nZXRJbnN0YW5jZSgpOwoKLy8gRW5hYmxlIG9mZmxpbmUgY2FwYWJpbGl0aWVzCmRhdGFiYXNlLnNldFBlcnNpc3RlbmNlRW5hYmxlZCh0cnVlKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Initialize Firebase
FirebaseDatabase database = FirebaseDatabase.getInstance();

// Enable offline capabilities
database.setPersistenceEnabled(true);</pre></div><div class='content'></div><h3>Example: Enabling Offline Capabilities in JavaScript</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW5pdGlhbGl6ZSBGaXJlYmFzZQp2YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpOwoKLy8gRW5hYmxlIG9mZmxpbmUgY2FwYWJpbGl0aWVzCmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkua2VlcFN5bmNlZCh0cnVlKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Initialize Firebase
var database = firebase.database();

// Enable offline capabilities
firebase.database().ref().keepSynced(true);</pre></div><div class='content'></div><h2>Reading and Writing Data Offline</h2>
<div class='content'><p>When offline, Firebase Realtime Database allows you to read and write data as if you were online. The data is stored locally and synchronized with the server once the connection is restored.</p>
</div><h3>Example: Writing Data Offline in Android</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RGF0YWJhc2VSZWZlcmVuY2UgbXlSZWYgPSBkYXRhYmFzZS5nZXRSZWZlcmVuY2UoIm1lc3NhZ2UiKTsKCi8vIFdyaXRlIGRhdGEgdG8gdGhlIGRhdGFiYXNlCm15UmVmLnNldFZhbHVlKCJIZWxsbywgV29ybGQhIik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DatabaseReference myRef = database.getReference(&quot;message&quot;);

// Write data to the database
myRef.setValue(&quot;Hello, World!&quot;);</pre></div><div class='content'></div><h3>Example: Reading Data Offline in JavaScript</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIG1lc3NhZ2VSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZignbWVzc2FnZScpOwoKLy8gUmVhZCBkYXRhIGZyb20gdGhlIGRhdGFiYXNlCm1lc3NhZ2VSZWYub24oJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7CiAgY29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpOwogIGNvbnNvbGUubG9nKGRhdGEpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var messageRef = firebase.database().ref('message');

// Read data from the database
messageRef.on('value', (snapshot) =&gt; {
  const data = snapshot.val();
  console.log(data);
});</pre></div><div class='content'></div><h2>Handling Connectivity Changes</h2>
<div class='content'><p>Firebase provides listeners to handle connectivity changes, allowing you to update your app’s UI or perform specific actions when the connection state changes.</p>
</div><h3>Example: Handling Connectivity Changes in Android</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RGF0YWJhc2VSZWZlcmVuY2UgY29ubmVjdGVkUmVmID0gRmlyZWJhc2VEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldFJlZmVyZW5jZSgiLmluZm8vY29ubmVjdGVkIik7CmNvbm5lY3RlZFJlZi5hZGRWYWx1ZUV2ZW50TGlzdGVuZXIobmV3IFZhbHVlRXZlbnRMaXN0ZW5lcigpIHsKICBAT3ZlcnJpZGUKICBwdWJsaWMgdm9pZCBvbkRhdGFDaGFuZ2UoRGF0YVNuYXBzaG90IHNuYXBzaG90KSB7CiAgICBib29sZWFuIGNvbm5lY3RlZCA9IHNuYXBzaG90LmdldFZhbHVlKEJvb2xlYW4uY2xhc3MpOwogICAgaWYgKGNvbm5lY3RlZCkgewogICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkNvbm5lY3RlZCB0byBGaXJlYmFzZSIpOwogICAgfSBlbHNlIHsKICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEaXNjb25uZWN0ZWQgZnJvbSBGaXJlYmFzZSIpOwogICAgfQogIH0KCiAgQE92ZXJyaWRlCiAgcHVibGljIHZvaWQgb25DYW5jZWxsZWQoRGF0YWJhc2VFcnJvciBlcnJvcikgewogICAgU3lzdGVtLmVyci5wcmludGxuKCJMaXN0ZW5lciB3YXMgY2FuY2VsbGVkIik7CiAgfQp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DatabaseReference connectedRef = FirebaseDatabase.getInstance().getReference(&quot;.info/connected&quot;);
connectedRef.addValueEventListener(new ValueEventListener() {
  @Override
  public void onDataChange(DataSnapshot snapshot) {
    boolean connected = snapshot.getValue(Boolean.class);
    if (connected) {
      System.out.println(&quot;Connected to Firebase&quot;);
    } else {
      System.out.println(&quot;Disconnected from Firebase&quot;);
    }
  }

  @Override
  public void onCancelled(DatabaseError error) {
    System.err.println(&quot;Listener was cancelled&quot;);
  }
});</pre></div><div class='content'></div><h3>Example: Handling Connectivity Changes in JavaScript</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIGNvbm5lY3RlZFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIuaW5mby9jb25uZWN0ZWQiKTsKY29ubmVjdGVkUmVmLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uKHNuYXBzaG90KSB7CiAgaWYgKHNuYXBzaG90LnZhbCgpID09PSB0cnVlKSB7CiAgICBjb25zb2xlLmxvZygiQ29ubmVjdGVkIHRvIEZpcmViYXNlIik7CiAgfSBlbHNlIHsKICAgIGNvbnNvbGUubG9nKCJEaXNjb25uZWN0ZWQgZnJvbSBGaXJlYmFzZSIpOwogIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var connectedRef = firebase.database().ref(&quot;.info/connected&quot;);
connectedRef.on(&quot;value&quot;, function(snapshot) {
  if (snapshot.val() === true) {
    console.log(&quot;Connected to Firebase&quot;);
  } else {
    console.log(&quot;Disconnected from Firebase&quot;);
  }
});</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Task: Implement Offline Capabilities</h3>
<div class='content'><ol>
<li><strong>Objective</strong>: Enable offline capabilities in a simple Firebase Realtime Database app.</li>
<li><strong>Steps</strong>:
<ul>
<li>Initialize Firebase in your app.</li>
<li>Enable offline capabilities.</li>
<li>Write a piece of data to the database.</li>
<li>Read the data from the database.</li>
<li>Handle connectivity changes and log the connection state.</li>
</ul>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><h4>Android</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW5pdGlhbGl6ZSBGaXJlYmFzZQpGaXJlYmFzZURhdGFiYXNlIGRhdGFiYXNlID0gRmlyZWJhc2VEYXRhYmFzZS5nZXRJbnN0YW5jZSgpOwoKLy8gRW5hYmxlIG9mZmxpbmUgY2FwYWJpbGl0aWVzCmRhdGFiYXNlLnNldFBlcnNpc3RlbmNlRW5hYmxlZCh0cnVlKTsKCi8vIFJlZmVyZW5jZSB0byB0aGUgbWVzc2FnZSBub2RlCkRhdGFiYXNlUmVmZXJlbmNlIG15UmVmID0gZGF0YWJhc2UuZ2V0UmVmZXJlbmNlKCJtZXNzYWdlIik7CgovLyBXcml0ZSBkYXRhIHRvIHRoZSBkYXRhYmFzZQpteVJlZi5zZXRWYWx1ZSgiSGVsbG8sIFdvcmxkISIpOwoKLy8gUmVhZCBkYXRhIGZyb20gdGhlIGRhdGFiYXNlCm15UmVmLmFkZFZhbHVlRXZlbnRMaXN0ZW5lcihuZXcgVmFsdWVFdmVudExpc3RlbmVyKCkgewogIEBPdmVycmlkZQogIHB1YmxpYyB2b2lkIG9uRGF0YUNoYW5nZShEYXRhU25hcHNob3QgZGF0YVNuYXBzaG90KSB7CiAgICBTdHJpbmcgbWVzc2FnZSA9IGRhdGFTbmFwc2hvdC5nZXRWYWx1ZShTdHJpbmcuY2xhc3MpOwogICAgU3lzdGVtLm91dC5wcmludGxuKCJNZXNzYWdlOiAiICsgbWVzc2FnZSk7CiAgfQoKICBAT3ZlcnJpZGUKICBwdWJsaWMgdm9pZCBvbkNhbmNlbGxlZChEYXRhYmFzZUVycm9yIGVycm9yKSB7CiAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkZhaWxlZCB0byByZWFkIHZhbHVlOiAiICsgZXJyb3IudG9FeGNlcHRpb24oKSk7CiAgfQp9KTsKCi8vIEhhbmRsZSBjb25uZWN0aXZpdHkgY2hhbmdlcwpEYXRhYmFzZVJlZmVyZW5jZSBjb25uZWN0ZWRSZWYgPSBGaXJlYmFzZURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0UmVmZXJlbmNlKCIuaW5mby9jb25uZWN0ZWQiKTsKY29ubmVjdGVkUmVmLmFkZFZhbHVlRXZlbnRMaXN0ZW5lcihuZXcgVmFsdWVFdmVudExpc3RlbmVyKCkgewogIEBPdmVycmlkZQogIHB1YmxpYyB2b2lkIG9uRGF0YUNoYW5nZShEYXRhU25hcHNob3Qgc25hcHNob3QpIHsKICAgIGJvb2xlYW4gY29ubmVjdGVkID0gc25hcHNob3QuZ2V0VmFsdWUoQm9vbGVhbi5jbGFzcyk7CiAgICBpZiAoY29ubmVjdGVkKSB7CiAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiQ29ubmVjdGVkIHRvIEZpcmViYXNlIik7CiAgICB9IGVsc2UgewogICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRpc2Nvbm5lY3RlZCBmcm9tIEZpcmViYXNlIik7CiAgICB9CiAgfQoKICBAT3ZlcnJpZGUKICBwdWJsaWMgdm9pZCBvbkNhbmNlbGxlZChEYXRhYmFzZUVycm9yIGVycm9yKSB7CiAgICBTeXN0ZW0uZXJyLnByaW50bG4oIkxpc3RlbmVyIHdhcyBjYW5jZWxsZWQiKTsKICB9Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Initialize Firebase
FirebaseDatabase database = FirebaseDatabase.getInstance();

// Enable offline capabilities
database.setPersistenceEnabled(true);

// Reference to the message node
DatabaseReference myRef = database.getReference(&quot;message&quot;);

// Write data to the database
myRef.setValue(&quot;Hello, World!&quot;);

// Read data from the database
myRef.addValueEventListener(new ValueEventListener() {
  @Override
  public void onDataChange(DataSnapshot dataSnapshot) {
    String message = dataSnapshot.getValue(String.class);
    System.out.println(&quot;Message: &quot; + message);
  }

  @Override
  public void onCancelled(DatabaseError error) {
    System.err.println(&quot;Failed to read value: &quot; + error.toException());
  }
});

// Handle connectivity changes
DatabaseReference connectedRef = FirebaseDatabase.getInstance().getReference(&quot;.info/connected&quot;);
connectedRef.addValueEventListener(new ValueEventListener() {
  @Override
  public void onDataChange(DataSnapshot snapshot) {
    boolean connected = snapshot.getValue(Boolean.class);
    if (connected) {
      System.out.println(&quot;Connected to Firebase&quot;);
    } else {
      System.out.println(&quot;Disconnected from Firebase&quot;);
    }
  }

  @Override
  public void onCancelled(DatabaseError error) {
    System.err.println(&quot;Listener was cancelled&quot;);
  }
});</pre></div><div class='content'><h4>JavaScript</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW5pdGlhbGl6ZSBGaXJlYmFzZQp2YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpOwoKLy8gRW5hYmxlIG9mZmxpbmUgY2FwYWJpbGl0aWVzCmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkua2VlcFN5bmNlZCh0cnVlKTsKCi8vIFJlZmVyZW5jZSB0byB0aGUgbWVzc2FnZSBub2RlCnZhciBtZXNzYWdlUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ21lc3NhZ2UnKTsKCi8vIFdyaXRlIGRhdGEgdG8gdGhlIGRhdGFiYXNlCm1lc3NhZ2VSZWYuc2V0KCJIZWxsbywgV29ybGQhIik7CgovLyBSZWFkIGRhdGEgZnJvbSB0aGUgZGF0YWJhc2UKbWVzc2FnZVJlZi5vbigndmFsdWUnLCAoc25hcHNob3QpID0+IHsKICBjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7CiAgY29uc29sZS5sb2coIk1lc3NhZ2U6ICIgKyBkYXRhKTsKfSk7CgovLyBIYW5kbGUgY29ubmVjdGl2aXR5IGNoYW5nZXMKdmFyIGNvbm5lY3RlZFJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIuaW5mby9jb25uZWN0ZWQiKTsKY29ubmVjdGVkUmVmLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uKHNuYXBzaG90KSB7CiAgaWYgKHNuYXBzaG90LnZhbCgpID09PSB0cnVlKSB7CiAgICBjb25zb2xlLmxvZygiQ29ubmVjdGVkIHRvIEZpcmViYXNlIik7CiAgfSBlbHNlIHsKICAgIGNvbnNvbGUubG9nKCJEaXNjb25uZWN0ZWQgZnJvbSBGaXJlYmFzZSIpOwogIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Initialize Firebase
var database = firebase.database();

// Enable offline capabilities
firebase.database().ref().keepSynced(true);

// Reference to the message node
var messageRef = firebase.database().ref('message');

// Write data to the database
messageRef.set(&quot;Hello, World!&quot;);

// Read data from the database
messageRef.on('value', (snapshot) =&gt; {
  const data = snapshot.val();
  console.log(&quot;Message: &quot; + data);
});

// Handle connectivity changes
var connectedRef = firebase.database().ref(&quot;.info/connected&quot;);
connectedRef.on(&quot;value&quot;, function(snapshot) {
  if (snapshot.val() === true) {
    console.log(&quot;Connected to Firebase&quot;);
  } else {
    console.log(&quot;Disconnected from Firebase&quot;);
  }
});</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Not Enabling Persistence</strong>: Ensure that you enable persistence by setting <code>setPersistenceEnabled(true)</code> in Android or <code>keepSynced(true)</code> in JavaScript.</li>
<li><strong>Handling Data Conflicts</strong>: Be aware of potential data conflicts when the device reconnects. Firebase handles most conflicts automatically, but you may need to implement custom conflict resolution logic for complex scenarios.</li>
<li><strong>Testing Offline Scenarios</strong>: Test your app thoroughly in offline scenarios to ensure that it behaves as expected.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we covered the offline capabilities of Firebase Realtime Database, including enabling offline support, reading and writing data offline, and handling connectivity changes. These features ensure that your app remains functional and provides a seamless user experience even when the user is offline. In the next module, we will dive into Cloud Firestore, another powerful database service provided by Firebase.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-03-data-structure-and-security-rules' title="Data Structure and Security Rules" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-03-data-structure-and-security-rules' title="Data Structure and Security Rules" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-01-introduction-to-cloud-firestore' title="Introduction to Cloud Firestore" class="py-2 px-3 btn btn-primary"
				data-read-mod="firebase" data-read-unit="3-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-01-introduction-to-cloud-firestore' title="Introduction to Cloud Firestore" class="py-2 px-3 btn btn-primary" 
				data-read-mod="firebase" data-read-unit="3-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Firebase Course</h1>
<h2>Module 1: Introduction to Firebase</h2>
<ul>
<li><a href="01-01-what-is-firebase">What is Firebase?</a></li>
<li><a href="01-02-setting-up-firebase">Setting Up Firebase</a></li>
<li><a href="01-03-firebase-console-overview">Firebase Console Overview</a></li>
</ul>
<h2>Module 2: Firebase Authentication</h2>
<ul>
<li><a href="02-01-introduction-to-firebase-authentication">Introduction to Firebase Authentication</a></li>
<li><a href="02-02-email-and-password-authentication">Email and Password Authentication</a></li>
<li><a href="02-03-social-media-authentication">Social Media Authentication</a></li>
<li><a href="02-04-managing-users">Managing Users</a></li>
</ul>
<h2>Module 3: Firebase Realtime Database</h2>
<ul>
<li><a href="03-01-introduction-to-realtime-database">Introduction to Realtime Database</a></li>
<li><a href="03-02-reading-and-writing-data">Reading and Writing Data</a></li>
<li><a href="03-03-data-structure-and-security-rules">Data Structure and Security Rules</a></li>
<li><a href="03-04-offline-capabilities">Offline Capabilities</a></li>
</ul>
<h2>Module 4: Cloud Firestore</h2>
<ul>
<li><a href="04-01-introduction-to-cloud-firestore">Introduction to Cloud Firestore</a></li>
<li><a href="04-02-firestore-data-model">Firestore Data Model</a></li>
<li><a href="04-03-crud-operations">CRUD Operations</a></li>
<li><a href="04-04-advanced-queries">Advanced Queries</a></li>
<li><a href="04-05-security-rules">Security Rules</a></li>
</ul>
<h2>Module 5: Firebase Storage</h2>
<ul>
<li><a href="05-01-introduction-to-firebase-storage">Introduction to Firebase Storage</a></li>
<li><a href="05-02-uploading-files">Uploading Files</a></li>
<li><a href="05-03-downloading-files">Downloading Files</a></li>
<li><a href="05-04-file-metadata-and-security">File Metadata and Security</a></li>
</ul>
<h2>Module 6: Firebase Cloud Messaging</h2>
<ul>
<li><a href="06-01-introduction-to-cloud-messaging">Introduction to Cloud Messaging</a></li>
<li><a href="06-02-sending-notifications">Sending Notifications</a></li>
<li><a href="06-03-handling-notifications">Handling Notifications</a></li>
<li><a href="06-04-advanced-messaging-features">Advanced Messaging Features</a></li>
</ul>
<h2>Module 7: Firebase Analytics</h2>
<ul>
<li><a href="07-01-introduction-to-firebase-analytics">Introduction to Firebase Analytics</a></li>
<li><a href="07-02-logging-events">Logging Events</a></li>
<li><a href="07-03-user-properties">User Properties</a></li>
<li><a href="07-04-analyzing-data">Analyzing Data</a></li>
</ul>
<h2>Module 8: Firebase Functions</h2>
<ul>
<li><a href="08-01-introduction-to-firebase-functions">Introduction to Firebase Functions</a></li>
<li><a href="08-02-writing-functions">Writing Functions</a></li>
<li><a href="08-03-deploying-functions">Deploying Functions</a></li>
<li><a href="08-04-triggering-functions">Triggering Functions</a></li>
</ul>
<h2>Module 9: Firebase Performance Monitoring</h2>
<ul>
<li><a href="09-01-introduction-to-performance-monitoring">Introduction to Performance Monitoring</a></li>
<li><a href="09-02-setting-up-performance-monitoring">Setting Up Performance Monitoring</a></li>
<li><a href="09-03-analyzing-performance-data">Analyzing Performance Data</a></li>
</ul>
<h2>Module 10: Firebase Test Lab</h2>
<ul>
<li><a href="10-01-introduction-to-firebase-test-lab">Introduction to Firebase Test Lab</a></li>
<li><a href="10-02-running-tests">Running Tests</a></li>
<li><a href="10-03-analyzing-test-results">Analyzing Test Results</a></li>
</ul>
<h2>Module 11: Advanced Firebase Topics</h2>
<ul>
<li><a href="11-01-firebase-ml-kit">Firebase ML Kit</a></li>
<li><a href="11-02-firebase-dynamic-links">Firebase Dynamic Links</a></li>
<li><a href="11-03-firebase-remote-config">Firebase Remote Config</a></li>
<li><a href="11-04-firebase-app-distribution">Firebase App Distribution</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
