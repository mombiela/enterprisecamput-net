<!DOCTYPE html>
<html lang="en">
<head>
    <title> Writing Functions </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/mod/firebase/08-02-writing-functions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/firebase/08-02-writing-functions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/firebase/08-02-writing-functions" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "firebase";
  		var TEMA_NAME = "8-2";
  		var TYPE = "mod";
  		var PATH = "mod/firebase/08-02-writing-functions";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/firebase/08-02-writing-functions" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/firebase/08-02-writing-functions" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="firebase">
		<a  href="#" class="text-secondary d-none" data-read-mod="firebase" data-read-unit="8-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="firebase" data-unread-unit="8-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-01-introduction-to-firebase-functions' title="Introduction to Firebase Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-01-introduction-to-firebase-functions' title="Introduction to Firebase Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Writing Functions</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-03-deploying-functions' title="Deploying Functions" class="py-2 px-3 btn btn-primary"
				data-read-mod="firebase" data-read-unit="8-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-03-deploying-functions' title="Deploying Functions" class="py-2 px-3 btn btn-primary" 
				data-read-mod="firebase" data-read-unit="8-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into writing Firebase Functions. Firebase Functions allow you to run backend code in response to events triggered by Firebase features and HTTPS requests. This module will cover the basics of writing and deploying functions, including practical examples and exercises to solidify your understanding.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Cloud Functions for Firebase</strong>: A serverless framework that lets you automatically run backend code in response to events triggered by Firebase features and HTTPS requests.</li>
<li><strong>Event-driven Functions</strong>: Functions that are triggered by events such as changes in the Realtime Database, Firestore, or Authentication.</li>
<li><strong>HTTP Functions</strong>: Functions that are triggered by HTTP requests.</li>
</ol>
</div><h1>Setting Up</h1>
<div class='content'><p>Before writing functions, ensure you have the Firebase CLI installed and initialized in your project.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLWcgZmlyZWJhc2UtdG9vbHMKZmlyZWJhc2UgbG9naW4KZmlyZWJhc2UgaW5pdCBmdW5jdGlvbnM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install -g firebase-tools
firebase login
firebase init functions</pre></div><div class='content'></div><h1>Writing Your First Function</h1>
<div class='content'></div><h2>Example: Hello World HTTP Function</h2>
<div class='content'><p>Let's start with a simple HTTP function that returns &quot;Hello, World!&quot;.</p>
<ol>
<li>
<p><strong>Navigate to the functions directory</strong>:</p>
<pre><code class="language-bash">cd functions
</code></pre>
</li>
<li>
<p><strong>Open <code>index.js</code></strong> and add the following code:</p>
<pre><code class="language-javascript">const functions = require('firebase-functions');

// Create and deploy a simple HTTP function
exports.helloWorld = functions.https.onRequest((request, response) =&gt; {
    response.send(&quot;Hello, World!&quot;);
});
</code></pre>
</li>
<li>
<p><strong>Deploy the function</strong>:</p>
<pre><code class="language-bash">firebase deploy --only functions
</code></pre>
</li>
<li>
<p><strong>Test the function</strong>:</p>
<ul>
<li>After deployment, Firebase will provide a URL for your function. Open this URL in your browser to see the &quot;Hello, World!&quot; message.</li>
</ul>
</li>
</ol>
</div><h2>Example: Firestore Trigger Function</h2>
<div class='content'><p>Next, let's create a function that triggers when a document is created in Firestore.</p>
<ol>
<li>
<p><strong>Add the following code to <code>index.js</code></strong>:</p>
<pre><code class="language-javascript">const admin = require('firebase-admin');
admin.initializeApp();

exports.onUserCreate = functions.firestore
    .document('users/{userId}')
    .onCreate((snap, context) =&gt; {
        const newValue = snap.data();
        console.log('New user created:', newValue);
        return null;
    });
</code></pre>
</li>
<li>
<p><strong>Deploy the function</strong>:</p>
<pre><code class="language-bash">firebase deploy --only functions
</code></pre>
</li>
<li>
<p><strong>Test the function</strong>:</p>
<ul>
<li>Add a new document to the <code>users</code> collection in Firestore. The function should log the new user data to the console.</li>
</ul>
</li>
</ol>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Create a Greeting Function</h2>
<div class='content'><p><strong>Task</strong>: Write an HTTP function that takes a name as a query parameter and returns a greeting message.</p>
<p><strong>Solution</strong>:</p>
<ol>
<li>
<p><strong>Add the following code to <code>index.js</code></strong>:</p>
<pre><code class="language-javascript">exports.greetUser = functions.https.onRequest((request, response) =&gt; {
    const name = request.query.name || 'Guest';
    response.send(`Hello, ${name}!`);
});
</code></pre>
</li>
<li>
<p><strong>Deploy the function</strong>:</p>
<pre><code class="language-bash">firebase deploy --only functions
</code></pre>
</li>
<li>
<p><strong>Test the function</strong>:</p>
<ul>
<li>Open the function URL in your browser with a query parameter, e.g., <code>https://&lt;your-function-url&gt;?name=John</code>. You should see &quot;Hello, John!&quot;.</li>
</ul>
</li>
</ol>
</div><h2>Exercise 2: Firestore Update Trigger</h2>
<div class='content'><p><strong>Task</strong>: Write a Firestore trigger function that logs a message when a document in the <code>orders</code> collection is updated.</p>
<p><strong>Solution</strong>:</p>
<ol>
<li>
<p><strong>Add the following code to <code>index.js</code></strong>:</p>
<pre><code class="language-javascript">exports.onOrderUpdate = functions.firestore
    .document('orders/{orderId}')
    .onUpdate((change, context) =&gt; {
        const newValue = change.after.data();
        const previousValue = change.before.data();
        console.log('Order updated:', newValue);
        console.log('Previous order:', previousValue);
        return null;
    });
</code></pre>
</li>
<li>
<p><strong>Deploy the function</strong>:</p>
<pre><code class="language-bash">firebase deploy --only functions
</code></pre>
</li>
<li>
<p><strong>Test the function</strong>:</p>
<ul>
<li>Update a document in the <code>orders</code> collection in Firestore. The function should log the new and previous order data to the console.</li>
</ul>
</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Initialization Errors</strong>: Ensure <code>admin.initializeApp()</code> is called once in your code.</li>
<li><strong>Function Naming</strong>: Use descriptive names for your functions to make your code more readable.</li>
<li><strong>Error Handling</strong>: Always handle errors gracefully in your functions to avoid unexpected crashes.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you learned how to write and deploy basic Firebase Functions, including HTTP and Firestore trigger functions. You also completed practical exercises to reinforce your understanding. In the next section, we will cover deploying functions and best practices for managing your Firebase Functions.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-01-introduction-to-firebase-functions' title="Introduction to Firebase Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-01-introduction-to-firebase-functions' title="Introduction to Firebase Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-03-deploying-functions' title="Deploying Functions" class="py-2 px-3 btn btn-primary"
				data-read-mod="firebase" data-read-unit="8-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-03-deploying-functions' title="Deploying Functions" class="py-2 px-3 btn btn-primary" 
				data-read-mod="firebase" data-read-unit="8-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Firebase Course</h1>
<h2>Module 1: Introduction to Firebase</h2>
<ul>
<li><a href="01-01-what-is-firebase">What is Firebase?</a></li>
<li><a href="01-02-setting-up-firebase">Setting Up Firebase</a></li>
<li><a href="01-03-firebase-console-overview">Firebase Console Overview</a></li>
</ul>
<h2>Module 2: Firebase Authentication</h2>
<ul>
<li><a href="02-01-introduction-to-firebase-authentication">Introduction to Firebase Authentication</a></li>
<li><a href="02-02-email-and-password-authentication">Email and Password Authentication</a></li>
<li><a href="02-03-social-media-authentication">Social Media Authentication</a></li>
<li><a href="02-04-managing-users">Managing Users</a></li>
</ul>
<h2>Module 3: Firebase Realtime Database</h2>
<ul>
<li><a href="03-01-introduction-to-realtime-database">Introduction to Realtime Database</a></li>
<li><a href="03-02-reading-and-writing-data">Reading and Writing Data</a></li>
<li><a href="03-03-data-structure-and-security-rules">Data Structure and Security Rules</a></li>
<li><a href="03-04-offline-capabilities">Offline Capabilities</a></li>
</ul>
<h2>Module 4: Cloud Firestore</h2>
<ul>
<li><a href="04-01-introduction-to-cloud-firestore">Introduction to Cloud Firestore</a></li>
<li><a href="04-02-firestore-data-model">Firestore Data Model</a></li>
<li><a href="04-03-crud-operations">CRUD Operations</a></li>
<li><a href="04-04-advanced-queries">Advanced Queries</a></li>
<li><a href="04-05-security-rules">Security Rules</a></li>
</ul>
<h2>Module 5: Firebase Storage</h2>
<ul>
<li><a href="05-01-introduction-to-firebase-storage">Introduction to Firebase Storage</a></li>
<li><a href="05-02-uploading-files">Uploading Files</a></li>
<li><a href="05-03-downloading-files">Downloading Files</a></li>
<li><a href="05-04-file-metadata-and-security">File Metadata and Security</a></li>
</ul>
<h2>Module 6: Firebase Cloud Messaging</h2>
<ul>
<li><a href="06-01-introduction-to-cloud-messaging">Introduction to Cloud Messaging</a></li>
<li><a href="06-02-sending-notifications">Sending Notifications</a></li>
<li><a href="06-03-handling-notifications">Handling Notifications</a></li>
<li><a href="06-04-advanced-messaging-features">Advanced Messaging Features</a></li>
</ul>
<h2>Module 7: Firebase Analytics</h2>
<ul>
<li><a href="07-01-introduction-to-firebase-analytics">Introduction to Firebase Analytics</a></li>
<li><a href="07-02-logging-events">Logging Events</a></li>
<li><a href="07-03-user-properties">User Properties</a></li>
<li><a href="07-04-analyzing-data">Analyzing Data</a></li>
</ul>
<h2>Module 8: Firebase Functions</h2>
<ul>
<li><a href="08-01-introduction-to-firebase-functions">Introduction to Firebase Functions</a></li>
<li><a href="08-02-writing-functions">Writing Functions</a></li>
<li><a href="08-03-deploying-functions">Deploying Functions</a></li>
<li><a href="08-04-triggering-functions">Triggering Functions</a></li>
</ul>
<h2>Module 9: Firebase Performance Monitoring</h2>
<ul>
<li><a href="09-01-introduction-to-performance-monitoring">Introduction to Performance Monitoring</a></li>
<li><a href="09-02-setting-up-performance-monitoring">Setting Up Performance Monitoring</a></li>
<li><a href="09-03-analyzing-performance-data">Analyzing Performance Data</a></li>
</ul>
<h2>Module 10: Firebase Test Lab</h2>
<ul>
<li><a href="10-01-introduction-to-firebase-test-lab">Introduction to Firebase Test Lab</a></li>
<li><a href="10-02-running-tests">Running Tests</a></li>
<li><a href="10-03-analyzing-test-results">Analyzing Test Results</a></li>
</ul>
<h2>Module 11: Advanced Firebase Topics</h2>
<ul>
<li><a href="11-01-firebase-ml-kit">Firebase ML Kit</a></li>
<li><a href="11-02-firebase-dynamic-links">Firebase Dynamic Links</a></li>
<li><a href="11-03-firebase-remote-config">Firebase Remote Config</a></li>
<li><a href="11-04-firebase-app-distribution">Firebase App Distribution</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
