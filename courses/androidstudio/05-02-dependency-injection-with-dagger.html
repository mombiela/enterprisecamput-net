<!DOCTYPE html>
<html lang="en">
<head>
    <title> Dependency Injection with Dagger </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/androidstudio/05-02-dependency-injection-with-dagger" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/androidstudio/05-02-dependency-injection-with-dagger" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/androidstudio/05-02-dependency-injection-with-dagger" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "androidstudio";
  		var TEMA_NAME = "5-2";
  		var TYPE = "mod";
  		var PATH = "mod/androidstudio/05-02-dependency-injection-with-dagger";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/androidstudio/05-02-dependency-injection-with-dagger" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/androidstudio/05-02-dependency-injection-with-dagger" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="androidstudio">
		<a  href="#" class="text-secondary d-none" data-read-mod="androidstudio" data-read-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="androidstudio" data-unread-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-implementing-mvvm-architecture' title="Implementing MVVM Architecture" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-implementing-mvvm-architecture' title="Implementing MVVM Architecture" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Dependency Injection with Dagger</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-unit-testing-and-ui-testing' title="Unit Testing and UI Testing" class="py-2 px-3 btn btn-primary"
				data-read-mod="androidstudio" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-unit-testing-and-ui-testing' title="Unit Testing and UI Testing" class="py-2 px-3 btn btn-primary" 
				data-read-mod="androidstudio" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introduction</h2>
<div class='content'><p>Dependency Injection (DI) is a design pattern used to implement IoC (Inversion of Control), allowing the creation of dependent objects outside of a class and providing those objects to a class in various ways. Dagger is a popular DI framework for Java and Android that helps manage dependencies efficiently.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Dependency Injection (DI)</strong>: A technique where an object receives other objects it depends on.</li>
<li><strong>Inversion of Control (IoC)</strong>: A principle where the control of object creation and management is transferred from the class itself to an external entity.</li>
<li><strong>Dagger</strong>: A fully static, compile-time dependency injection framework for Java and Android.</li>
</ol>
</div><h2>Why Use Dagger?</h2>
<div class='content'><ul>
<li><strong>Simplifies Dependency Management</strong>: Automatically handles the creation and provision of dependencies.</li>
<li><strong>Improves Testability</strong>: Makes it easier to inject mock dependencies for testing.</li>
<li><strong>Enhances Code Maintainability</strong>: Reduces boilerplate code and makes the codebase cleaner and more modular.</li>
</ul>
</div><h2>Setting Up Dagger in Your Project</h2>
<div class='content'><ol>
<li>
<p><strong>Add Dagger Dependencies</strong>: Add the following dependencies to your <code>build.gradle</code> file.</p>
<pre><code class="language-groovy">dependencies {
    implementation 'com.google.dagger:dagger:2.x'
    kapt 'com.google.dagger:dagger-compiler:2.x'
}
</code></pre>
</li>
<li>
<p><strong>Enable Annotation Processing</strong>: Ensure that annotation processing is enabled in your project.</p>
<pre><code class="language-groovy">android {
    ...
    kapt {
        generateStubs = true
    }
}
</code></pre>
</li>
</ol>
</div><h2>Basic Dagger Setup</h2>
<h3>Step 1: Define a Module</h3>
<div class='content'><p>A module is a class annotated with <code>@Module</code> that provides dependencies.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QE1vZHVsZQpwdWJsaWMgY2xhc3MgTmV0d29ya01vZHVsZSB7CiAgICBAUHJvdmlkZXMKICAgIHB1YmxpYyBSZXRyb2ZpdCBwcm92aWRlUmV0cm9maXQoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZXRyb2ZpdC5CdWlsZGVyKCkKICAgICAgICAgICAgICAgIC5iYXNlVXJsKCJodHRwczovL2FwaS5leGFtcGxlLmNvbSIpCiAgICAgICAgICAgICAgICAuYWRkQ29udmVydGVyRmFjdG9yeShHc29uQ29udmVydGVyRmFjdG9yeS5jcmVhdGUoKSkKICAgICAgICAgICAgICAgIC5idWlsZCgpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Module
public class NetworkModule {
    @Provides
    public Retrofit provideRetrofit() {
        return new Retrofit.Builder()
                .baseUrl(&quot;https://api.example.com&quot;)
                .addConverterFactory(GsonConverterFactory.create())
                .build();
    }
}</pre></div><div class='content'></div><h3>Step 2: Create a Component</h3>
<div class='content'><p>A component is an interface annotated with <code>@Component</code> that connects modules and the classes that request injection.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QENvbXBvbmVudChtb2R1bGVzID0ge05ldHdvcmtNb2R1bGUuY2xhc3N9KQpwdWJsaWMgaW50ZXJmYWNlIEFwcENvbXBvbmVudCB7CiAgICB2b2lkIGluamVjdChNYWluQWN0aXZpdHkgbWFpbkFjdGl2aXR5KTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Component(modules = {NetworkModule.class})
public interface AppComponent {
    void inject(MainActivity mainActivity);
}</pre></div><div class='content'></div><h3>Step 3: Inject Dependencies</h3>
<div class='content'><p>Use the <code>@Inject</code> annotation to request dependencies in your classes.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1haW5BY3Rpdml0eSBleHRlbmRzIEFwcENvbXBhdEFjdGl2aXR5IHsKICAgIEBJbmplY3QKICAgIFJldHJvZml0IHJldHJvZml0OwoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgb25DcmVhdGUoQnVuZGxlIHNhdmVkSW5zdGFuY2VTdGF0ZSkgewogICAgICAgIHN1cGVyLm9uQ3JlYXRlKHNhdmVkSW5zdGFuY2VTdGF0ZSk7CiAgICAgICAgc2V0Q29udGVudFZpZXcoUi5sYXlvdXQuYWN0aXZpdHlfbWFpbik7CgogICAgICAgIC8vIEluaXRpYWxpemUgRGFnZ2VyCiAgICAgICAgRGFnZ2VyQXBwQ29tcG9uZW50LmNyZWF0ZSgpLmluamVjdCh0aGlzKTsKCiAgICAgICAgLy8gVXNlIHRoZSBpbmplY3RlZCBSZXRyb2ZpdCBpbnN0YW5jZQogICAgICAgIC8vIC4uLgogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MainActivity extends AppCompatActivity {
    @Inject
    Retrofit retrofit;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Initialize Dagger
        DaggerAppComponent.create().inject(this);

        // Use the injected Retrofit instance
        // ...
    }
}</pre></div><div class='content'></div><h2>Practical Example</h2>
<h3>Example: Injecting a Repository into a ViewModel</h3>
<div class='content'><ol>
<li>
<p><strong>Define the Repository</strong>:</p>
<pre><code class="language-java">public class UserRepository {
    private final ApiService apiService;

    @Inject
    public UserRepository(ApiService apiService) {
        this.apiService = apiService;
    }

    public LiveData&lt;User&gt; getUser(int userId) {
        // Implementation to fetch user data
    }
}
</code></pre>
</li>
<li>
<p><strong>Create the ViewModel</strong>:</p>
<pre><code class="language-java">public class UserViewModel extends ViewModel {
    private final UserRepository userRepository;

    @Inject
    public UserViewModel(UserRepository userRepository) {
        this.userRepository = userRepository;
    }

    public LiveData&lt;User&gt; getUser(int userId) {
        return userRepository.getUser(userId);
    }
}
</code></pre>
</li>
<li>
<p><strong>Define the Module</strong>:</p>
<pre><code class="language-java">@Module
public class AppModule {
    @Provides
    public ApiService provideApiService() {
        return new Retrofit.Builder()
                .baseUrl(&quot;https://api.example.com&quot;)
                .addConverterFactory(GsonConverterFactory.create())
                .build()
                .create(ApiService.class);
    }

    @Provides
    public UserRepository provideUserRepository(ApiService apiService) {
        return new UserRepository(apiService);
    }
}
</code></pre>
</li>
<li>
<p><strong>Create the Component</strong>:</p>
<pre><code class="language-java">@Component(modules = {AppModule.class})
public interface AppComponent {
    void inject(UserViewModel userViewModel);
}
</code></pre>
</li>
<li>
<p><strong>Inject the ViewModel</strong>:</p>
<pre><code class="language-java">public class MainActivity extends AppCompatActivity {
    @Inject
    UserViewModel userViewModel;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Initialize Dagger
        DaggerAppComponent.create().inject(this);

        // Use the injected UserViewModel instance
        // ...
    }
}
</code></pre>
</li>
</ol>
</div><h2>Exercises</h2>
<h3>Exercise 1: Injecting a Service into an Activity</h3>
<div class='content'><ol>
<li>Create a <code>LoggingService</code> class that provides logging functionality.</li>
<li>Define a Dagger module that provides an instance of <code>LoggingService</code>.</li>
<li>Create a Dagger component that includes the module.</li>
<li>Inject <code>LoggingService</code> into an <code>Activity</code> and use it to log a message.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><ol>
<li>
<p><strong>LoggingService</strong>:</p>
<pre><code class="language-java">public class LoggingService {
    public void log(String message) {
        Log.d(&quot;LoggingService&quot;, message);
    }
}
</code></pre>
</li>
<li>
<p><strong>Module</strong>:</p>
<pre><code class="language-java">@Module
public class LoggingModule {
    @Provides
    public LoggingService provideLoggingService() {
        return new LoggingService();
    }
}
</code></pre>
</li>
<li>
<p><strong>Component</strong>:</p>
<pre><code class="language-java">@Component(modules = {LoggingModule.class})
public interface LoggingComponent {
    void inject(MainActivity mainActivity);
}
</code></pre>
</li>
<li>
<p><strong>Activity</strong>:</p>
<pre><code class="language-java">public class MainActivity extends AppCompatActivity {
    @Inject
    LoggingService loggingService;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Initialize Dagger
        DaggerLoggingComponent.create().inject(this);

        // Use the injected LoggingService instance
        loggingService.log(&quot;Hello, Dagger!&quot;);
    }
}
</code></pre>
</li>
</ol>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Forgetting to Annotate with <code>@Inject</code></strong>: Ensure that fields, constructors, or methods that need injection are annotated with <code>@Inject</code>.</li>
<li><strong>Not Including Modules in Components</strong>: Make sure all necessary modules are included in the component.</li>
<li><strong>Circular Dependencies</strong>: Be cautious of circular dependencies, which can cause runtime errors.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, you learned about Dependency Injection and how to use Dagger to manage dependencies in your Android projects. You set up Dagger, created modules and components, and injected dependencies into your classes. This knowledge will help you write cleaner, more maintainable, and testable code. In the next section, you will learn about Unit Testing and UI Testing to ensure the reliability of your applications.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-implementing-mvvm-architecture' title="Implementing MVVM Architecture" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-implementing-mvvm-architecture' title="Implementing MVVM Architecture" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-unit-testing-and-ui-testing' title="Unit Testing and UI Testing" class="py-2 px-3 btn btn-primary"
				data-read-mod="androidstudio" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-unit-testing-and-ui-testing' title="Unit Testing and UI Testing" class="py-2 px-3 btn btn-primary" 
				data-read-mod="androidstudio" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Android Studio Course</h1>
<h2>Module 1: Introduction to Android Studio</h2>
<ul>
<li><a href="01-01-introduction-to-android-studio">Introduction to Android Studio</a></li>
<li><a href="01-02-setting-up-android-studio">Setting Up Android Studio</a></li>
<li><a href="01-03-understanding-the-android-studio-interface">Understanding the Android Studio Interface</a></li>
<li><a href="01-04-creating-your-first-android-project">Creating Your First Android Project</a></li>
</ul>
<h2>Module 2: Basic Android Development</h2>
<ul>
<li><a href="02-01-understanding-android-project-structure">Understanding Android Project Structure</a></li>
<li><a href="02-02-introduction-to-xml-layouts">Introduction to XML Layouts</a></li>
<li><a href="02-03-basic-ui-components">Basic UI Components</a></li>
<li><a href="02-04-introduction-to-activities">Introduction to Activities</a></li>
<li><a href="02-05-running-your-app-on-an-emulator">Running Your App on an Emulator</a></li>
</ul>
<h2>Module 3: Intermediate Android Development</h2>
<ul>
<li><a href="03-01-introduction-to-intents">Introduction to Intents</a></li>
<li><a href="03-02-working-with-fragments">Working with Fragments</a></li>
<li><a href="03-03-handling-user-input">Handling User Input</a></li>
<li><a href="03-04-using-recyclerview">Using RecyclerView</a></li>
<li><a href="03-05-networking-in-android">Networking in Android</a></li>
</ul>
<h2>Module 4: Advanced Android Development</h2>
<ul>
<li><a href="04-01-data-persistence-with-sqlite">Data Persistence with SQLite</a></li>
<li><a href="04-02-using-room-for-database-management">Using Room for Database Management</a></li>
<li><a href="04-03-advanced-ui-components">Advanced UI Components</a></li>
<li><a href="04-04-custom-views-and-canvas">Custom Views and Canvas</a></li>
<li><a href="04-05-working-with-background-tasks">Working with Background Tasks</a></li>
</ul>
<h2>Module 5: Professional Android Development</h2>
<ul>
<li><a href="05-01-implementing-mvvm-architecture">Implementing MVVM Architecture</a></li>
<li><a href="05-02-dependency-injection-with-dagger">Dependency Injection with Dagger</a></li>
<li><a href="05-03-unit-testing-and-ui-testing">Unit Testing and UI Testing</a></li>
<li><a href="05-04-publishing-your-app-on-google-play">Publishing Your App on Google Play</a></li>
<li><a href="05-05-performance-optimization">Performance Optimization</a></li>
</ul>
<h2>Module 6: Special Topics</h2>
<ul>
<li><a href="06-01-using-firebase-in-android">Using Firebase in Android</a></li>
<li><a href="06-02-integrating-google-maps">Integrating Google Maps</a></li>
<li><a href="06-03-implementing-in-app-purchases">Implementing In-App Purchases</a></li>
<li><a href="06-04-using-machine-learning-in-android">Using Machine Learning in Android</a></li>
<li><a href="06-05-augmented-reality-with-arcore">Augmented Reality with ARCore</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
