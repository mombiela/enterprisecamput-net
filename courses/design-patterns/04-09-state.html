<!DOCTYPE html>
<html lang="en">
<head>
    <title> State </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/patrones-diseno/04-09-state" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/patrons-disseny/04-09-state" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/design-patterns/04-09-state" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "patrones_diseno";
  		var TEMA_NAME = "4-9";
  		var TYPE = "mod";
  		var PATH = "mod/patrones_diseno/04-09-state";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/patrones-diseno/04-09-state" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/patrons-disseny/04-09-state" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="patrones_diseno">
		<a  href="#" class="text-secondary d-none" data-read-mod="patrones_diseno" data-read-unit="4-9" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="patrones_diseno" data-unread-unit="4-9" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-08-observer' title="Observer" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-08-observer' title="Observer" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">State</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-10-strategy' title="Strategy" class="py-2 px-3 btn btn-primary"
				data-read-mod="patrones_diseno" data-read-unit="4-9">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-10-strategy' title="Strategy" class="py-2 px-3 btn btn-primary" 
				data-read-mod="patrones_diseno" data-read-unit="4-9">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introduction to the State Pattern</h2>
<div class='content'><p>The State pattern is a behavioral design pattern that allows an object to change its behavior when its internal state changes. This pattern is particularly useful when an object must change its behavior based on its state, making the object appear to change its class.</p>
</div><h3>Key Concepts</h3>
<div class='content'><ul>
<li><strong>State</strong>: Represents a particular state of the context.</li>
<li><strong>Context</strong>: Maintains an instance of a ConcreteState subclass that defines the current state.</li>
<li><strong>ConcreteState</strong>: Implements behavior associated with a state of the Context.</li>
</ul>
</div><h3>Structure</h3>
<div class='content'><p>The State pattern involves the following components:</p>
<ol>
<li><strong>Context</strong>: The class that maintains an instance of a ConcreteState subclass.</li>
<li><strong>State</strong>: An interface or abstract class that defines the behavior associated with a state.</li>
<li><strong>ConcreteState</strong>: Classes that implement the State interface and define specific behaviors for each state.</li>
</ol>
</div><h3>UML Diagram</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKwp8ICAgICBDb250ZXh0ICAgICB8PC0tLS0tLS0tLS18ICAgICBTdGF0ZSAgICAgICB8CistLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSsKfCAtIHN0YXRlOiBTdGF0ZSAgfCAgICAgICAgICAgfCArIGhhbmRsZSgpOiB2b2lkfAorLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCnwgKyByZXF1ZXN0KCk6IHZvaWR8ICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKwogICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICBeCiAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKICAgICAgIHYgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCnwgQ29uY3JldGVTdGF0ZUEgIHwgICAgICAgICAgIHwgQ29uY3JldGVTdGF0ZUIgIHwKKy0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKwp8ICsgaGFuZGxlKCk6IHZvaWR8ICAgICAgICAgICB8ICsgaGFuZGxlKCk6IHZvaWR8CistLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+-----------------+           +-----------------+
|     Context     |&lt;----------|     State       |
+-----------------+           +-----------------+
| - state: State  |           | + handle(): void|
+-----------------+           +-----------------+
| + request(): void|          |                 |
+-----------------+           +-----------------+
       |                            ^
       |                            |
       v                            |
+-----------------+           +-----------------+
| ConcreteStateA  |           | ConcreteStateB  |
+-----------------+           +-----------------+
| + handle(): void|           | + handle(): void|
+-----------------+           +-----------------+</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'><p>Let's consider a simple example where we have a <code>Context</code> class representing a traffic light system. The traffic light can be in one of three states: Red, Yellow, or Green.</p>
</div><h3>Step-by-Step Implementation</h3>
<div class='content'><ol>
<li><strong>Define the State Interface</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBTdGF0ZSB7CiAgICB2b2lkIGhhbmRsZShUcmFmZmljTGlnaHRDb250ZXh0IGNvbnRleHQpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface State {
    void handle(TrafficLightContext context);
}</pre></div><div class='content'><ol start="2">
<li><strong>Implement Concrete States</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFJlZFN0YXRlIGltcGxlbWVudHMgU3RhdGUgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBoYW5kbGUoVHJhZmZpY0xpZ2h0Q29udGV4dCBjb250ZXh0KSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJUcmFmZmljIGxpZ2h0IGlzIFJlZC4gU3RvcCEiKTsKICAgICAgICBjb250ZXh0LnNldFN0YXRlKG5ldyBHcmVlblN0YXRlKCkpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgWWVsbG93U3RhdGUgaW1wbGVtZW50cyBTdGF0ZSB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGhhbmRsZShUcmFmZmljTGlnaHRDb250ZXh0IGNvbnRleHQpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRyYWZmaWMgbGlnaHQgaXMgWWVsbG93LiBHZXQgcmVhZHkgdG8gc3RvcC4iKTsKICAgICAgICBjb250ZXh0LnNldFN0YXRlKG5ldyBSZWRTdGF0ZSgpKTsKICAgIH0KfQoKcHVibGljIGNsYXNzIEdyZWVuU3RhdGUgaW1wbGVtZW50cyBTdGF0ZSB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGhhbmRsZShUcmFmZmljTGlnaHRDb250ZXh0IGNvbnRleHQpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRyYWZmaWMgbGlnaHQgaXMgR3JlZW4uIEdvISIpOwogICAgICAgIGNvbnRleHQuc2V0U3RhdGUobmV3IFllbGxvd1N0YXRlKCkpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class RedState implements State {
    @Override
    public void handle(TrafficLightContext context) {
        System.out.println(&quot;Traffic light is Red. Stop!&quot;);
        context.setState(new GreenState());
    }
}

public class YellowState implements State {
    @Override
    public void handle(TrafficLightContext context) {
        System.out.println(&quot;Traffic light is Yellow. Get ready to stop.&quot;);
        context.setState(new RedState());
    }
}

public class GreenState implements State {
    @Override
    public void handle(TrafficLightContext context) {
        System.out.println(&quot;Traffic light is Green. Go!&quot;);
        context.setState(new YellowState());
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Create the Context Class</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFRyYWZmaWNMaWdodENvbnRleHQgewogICAgcHJpdmF0ZSBTdGF0ZSBzdGF0ZTsKCiAgICBwdWJsaWMgVHJhZmZpY0xpZ2h0Q29udGV4dCgpIHsKICAgICAgICBzdGF0ZSA9IG5ldyBSZWRTdGF0ZSgpOyAvLyBJbml0aWFsIHN0YXRlCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U3RhdGUoU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVxdWVzdCgpIHsKICAgICAgICBzdGF0ZS5oYW5kbGUodGhpcyk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class TrafficLightContext {
    private State state;

    public TrafficLightContext() {
        state = new RedState(); // Initial state
    }

    public void setState(State state) {
        this.state = state;
    }

    public void request() {
        state.handle(this);
    }
}</pre></div><div class='content'><ol start="4">
<li><strong>Test the State Pattern</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFN0YXRlUGF0dGVybkRlbW8gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFRyYWZmaWNMaWdodENvbnRleHQgY29udGV4dCA9IG5ldyBUcmFmZmljTGlnaHRDb250ZXh0KCk7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNjsgaSsrKSB7CiAgICAgICAgICAgIGNvbnRleHQucmVxdWVzdCgpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class StatePatternDemo {
    public static void main(String[] args) {
        TrafficLightContext context = new TrafficLightContext();

        for (int i = 0; i &lt; 6; i++) {
            context.request();
        }
    }
}</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li>The <code>State</code> interface defines a method <code>handle</code> that takes a <code>TrafficLightContext</code> object.</li>
<li><code>RedState</code>, <code>YellowState</code>, and <code>GreenState</code> are concrete implementations of the <code>State</code> interface.</li>
<li>The <code>TrafficLightContext</code> class maintains a reference to the current state and delegates the state-specific behavior to the current state object.</li>
<li>In the <code>StatePatternDemo</code> class, we create a <code>TrafficLightContext</code> object and repeatedly call its <code>request</code> method to see the state transitions.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise</h3>
<div class='content'><p>Create a vending machine simulation using the State pattern. The vending machine can be in one of the following states: Idle, HasMoney, Dispensing, and OutOfStock. Implement the state transitions and behaviors for each state.</p>
</div><h3>Solution</h3>
<div class='content'><ol>
<li><strong>Define the State Interface</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBWZW5kaW5nTWFjaGluZVN0YXRlIHsKICAgIHZvaWQgaW5zZXJ0TW9uZXkoVmVuZGluZ01hY2hpbmVDb250ZXh0IGNvbnRleHQpOwogICAgdm9pZCBkaXNwZW5zZVByb2R1Y3QoVmVuZGluZ01hY2hpbmVDb250ZXh0IGNvbnRleHQpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface VendingMachineState {
    void insertMoney(VendingMachineContext context);
    void dispenseProduct(VendingMachineContext context);
}</pre></div><div class='content'><ol start="2">
<li><strong>Implement Concrete States</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIElkbGVTdGF0ZSBpbXBsZW1lbnRzIFZlbmRpbmdNYWNoaW5lU3RhdGUgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbnNlcnRNb25leShWZW5kaW5nTWFjaGluZUNvbnRleHQgY29udGV4dCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiTW9uZXkgaW5zZXJ0ZWQuIFJlYWR5IHRvIGRpc3BlbnNlLiIpOwogICAgICAgIGNvbnRleHQuc2V0U3RhdGUobmV3IEhhc01vbmV5U3RhdGUoKSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBkaXNwZW5zZVByb2R1Y3QoVmVuZGluZ01hY2hpbmVDb250ZXh0IGNvbnRleHQpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkluc2VydCBtb25leSBmaXJzdC4iKTsKICAgIH0KfQoKcHVibGljIGNsYXNzIEhhc01vbmV5U3RhdGUgaW1wbGVtZW50cyBWZW5kaW5nTWFjaGluZVN0YXRlIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgaW5zZXJ0TW9uZXkoVmVuZGluZ01hY2hpbmVDb250ZXh0IGNvbnRleHQpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIk1vbmV5IGFscmVhZHkgaW5zZXJ0ZWQuIik7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBkaXNwZW5zZVByb2R1Y3QoVmVuZGluZ01hY2hpbmVDb250ZXh0IGNvbnRleHQpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRpc3BlbnNpbmcgcHJvZHVjdC4uLiIpOwogICAgICAgIGNvbnRleHQuc2V0U3RhdGUobmV3IElkbGVTdGF0ZSgpKTsKICAgIH0KfQoKcHVibGljIGNsYXNzIE91dE9mU3RvY2tTdGF0ZSBpbXBsZW1lbnRzIFZlbmRpbmdNYWNoaW5lU3RhdGUgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbnNlcnRNb25leShWZW5kaW5nTWFjaGluZUNvbnRleHQgY29udGV4dCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiT3V0IG9mIHN0b2NrLiBDYW5ub3QgYWNjZXB0IG1vbmV5LiIpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgZGlzcGVuc2VQcm9kdWN0KFZlbmRpbmdNYWNoaW5lQ29udGV4dCBjb250ZXh0KSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJPdXQgb2Ygc3RvY2suIik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class IdleState implements VendingMachineState {
    @Override
    public void insertMoney(VendingMachineContext context) {
        System.out.println(&quot;Money inserted. Ready to dispense.&quot;);
        context.setState(new HasMoneyState());
    }

    @Override
    public void dispenseProduct(VendingMachineContext context) {
        System.out.println(&quot;Insert money first.&quot;);
    }
}

public class HasMoneyState implements VendingMachineState {
    @Override
    public void insertMoney(VendingMachineContext context) {
        System.out.println(&quot;Money already inserted.&quot;);
    }

    @Override
    public void dispenseProduct(VendingMachineContext context) {
        System.out.println(&quot;Dispensing product...&quot;);
        context.setState(new IdleState());
    }
}

public class OutOfStockState implements VendingMachineState {
    @Override
    public void insertMoney(VendingMachineContext context) {
        System.out.println(&quot;Out of stock. Cannot accept money.&quot;);
    }

    @Override
    public void dispenseProduct(VendingMachineContext context) {
        System.out.println(&quot;Out of stock.&quot;);
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Create the Context Class</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFZlbmRpbmdNYWNoaW5lQ29udGV4dCB7CiAgICBwcml2YXRlIFZlbmRpbmdNYWNoaW5lU3RhdGUgc3RhdGU7CgogICAgcHVibGljIFZlbmRpbmdNYWNoaW5lQ29udGV4dCgpIHsKICAgICAgICBzdGF0ZSA9IG5ldyBJZGxlU3RhdGUoKTsgLy8gSW5pdGlhbCBzdGF0ZQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0YXRlKFZlbmRpbmdNYWNoaW5lU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgaW5zZXJ0TW9uZXkoKSB7CiAgICAgICAgc3RhdGUuaW5zZXJ0TW9uZXkodGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGlzcGVuc2VQcm9kdWN0KCkgewogICAgICAgIHN0YXRlLmRpc3BlbnNlUHJvZHVjdCh0aGlzKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class VendingMachineContext {
    private VendingMachineState state;

    public VendingMachineContext() {
        state = new IdleState(); // Initial state
    }

    public void setState(VendingMachineState state) {
        this.state = state;
    }

    public void insertMoney() {
        state.insertMoney(this);
    }

    public void dispenseProduct() {
        state.dispenseProduct(this);
    }
}</pre></div><div class='content'><ol start="4">
<li><strong>Test the Vending Machine</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFZlbmRpbmdNYWNoaW5lRGVtbyB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgVmVuZGluZ01hY2hpbmVDb250ZXh0IHZlbmRpbmdNYWNoaW5lID0gbmV3IFZlbmRpbmdNYWNoaW5lQ29udGV4dCgpOwoKICAgICAgICB2ZW5kaW5nTWFjaGluZS5pbnNlcnRNb25leSgpOwogICAgICAgIHZlbmRpbmdNYWNoaW5lLmRpc3BlbnNlUHJvZHVjdCgpOwogICAgICAgIHZlbmRpbmdNYWNoaW5lLmluc2VydE1vbmV5KCk7CiAgICAgICAgdmVuZGluZ01hY2hpbmUuaW5zZXJ0TW9uZXkoKTsKICAgICAgICB2ZW5kaW5nTWFjaGluZS5kaXNwZW5zZVByb2R1Y3QoKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class VendingMachineDemo {
    public static void main(String[] args) {
        VendingMachineContext vendingMachine = new VendingMachineContext();

        vendingMachine.insertMoney();
        vendingMachine.dispenseProduct();
        vendingMachine.insertMoney();
        vendingMachine.insertMoney();
        vendingMachine.dispenseProduct();
    }
}</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li>The <code>VendingMachineState</code> interface defines methods for inserting money and dispensing a product.</li>
<li><code>IdleState</code>, <code>HasMoneyState</code>, and <code>OutOfStockState</code> are concrete implementations of the <code>VendingMachineState</code> interface.</li>
<li>The <code>VendingMachineContext</code> class maintains a reference to the current state and delegates state-specific behavior to the current state object.</li>
<li>In the <code>VendingMachineDemo</code> class, we create a <code>VendingMachineContext</code> object and simulate inserting money and dispensing products.</li>
</ul>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Forgetting to Change State</strong>: Ensure that each state transition updates the context's state.</li>
<li><strong>State Explosion</strong>: Avoid creating too many states; combine similar behaviors if possible.</li>
<li><strong>Context Awareness</strong>: States should be aware of the context to transition to the next state.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>The State pattern is a powerful tool for managing state-dependent behavior in an object-oriented way. By encapsulating state-specific behavior and delegating state transitions, the State pattern promotes cleaner and more maintainable code. Understanding and applying this pattern can significantly improve the design and flexibility of your software systems.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-08-observer' title="Observer" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-08-observer' title="Observer" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-10-strategy' title="Strategy" class="py-2 px-3 btn btn-primary"
				data-read-mod="patrones_diseno" data-read-unit="4-9">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-10-strategy' title="Strategy" class="py-2 px-3 btn btn-primary" 
				data-read-mod="patrones_diseno" data-read-unit="4-9">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Software Design Patterns Course</h1>
<h2>Module 1: Introduction to Design Patterns</h2>
<ul>
<li><a href="01-01-what-are-patterns">What are Design Patterns?</a></li>
<li><a href="01-02-history-origin">History and Origin of Design Patterns</a></li>
<li><a href="01-03-classification-patterns">Classification of Design Patterns</a></li>
<li><a href="01-04-advantages-disadvantages">Advantages and Disadvantages of Using Design Patterns</a></li>
</ul>
<h2>Module 2: Creational Patterns</h2>
<ul>
<li><a href="02-01-introduction-creational">Introduction to Creational Patterns</a></li>
<li><a href="02-02-singleton">Singleton</a></li>
<li><a href="02-03-factory-method">Factory Method</a></li>
<li><a href="02-04-abstract-factory">Abstract Factory</a></li>
<li><a href="02-05-builder">Builder</a></li>
<li><a href="02-06-prototype">Prototype</a></li>
</ul>
<h2>Module 3: Structural Patterns</h2>
<ul>
<li><a href="03-01-introduction-structural">Introduction to Structural Patterns</a></li>
<li><a href="03-02-adapter">Adapter</a></li>
<li><a href="03-03-bridge">Bridge</a></li>
<li><a href="03-04-composite">Composite</a></li>
<li><a href="03-05-decorator">Decorator</a></li>
<li><a href="03-06-facade">Facade</a></li>
<li><a href="03-07-flyweight">Flyweight</a></li>
<li><a href="03-08-proxy">Proxy</a></li>
</ul>
<h2>Module 4: Behavioral Patterns</h2>
<ul>
<li><a href="04-01-introduction-behavioral">Introduction to Behavioral Patterns</a></li>
<li><a href="04-02-chain-of-responsibility">Chain of Responsibility</a></li>
<li><a href="04-03-command">Command</a></li>
<li><a href="04-04-interpreter">Interpreter</a></li>
<li><a href="04-05-iterator">Iterator</a></li>
<li><a href="04-06-mediator">Mediator</a></li>
<li><a href="04-07-memento">Memento</a></li>
<li><a href="04-08-observer">Observer</a></li>
<li><a href="04-09-state">State</a></li>
<li><a href="04-10-strategy">Strategy</a></li>
<li><a href="04-11-template-method">Template Method</a></li>
<li><a href="04-12-visitor">Visitor</a></li>
</ul>
<h2>Module 5: Application of Design Patterns</h2>
<ul>
<li><a href="05-01-select-pattern">How to Select the Right Pattern</a></li>
<li><a href="05-02-practical-examples">Practical Examples of Pattern Usage</a></li>
<li><a href="05-03-patterns-real-projects">Design Patterns in Real Projects</a></li>
<li><a href="05-04-refactoring-patterns">Refactoring Using Design Patterns</a></li>
</ul>
<h2>Module 6: Advanced Design Patterns</h2>
<ul>
<li><a href="06-01-patterns-modern-architectures">Design Patterns in Modern Architectures</a></li>
<li><a href="06-02-patterns-microservices">Design Patterns in Microservices</a></li>
<li><a href="06-03-patterns-distributed-systems">Design Patterns in Distributed Systems</a></li>
<li><a href="06-04-patterns-agile-development">Design Patterns in Agile Development</a></li>
</ul>
<h2>Module 7: Additional Resources and Conclusion</h2>
<ul>
<li><a href="07-01-recommended-books">Recommended Books</a></li>
<li><a href="07-02-courses-tutorials">Online Courses and Tutorials</a></li>
<li><a href="07-03-communities-forums">Communities and Forums</a></li>
<li><a href="07-04-conclusion">Course Conclusion</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
