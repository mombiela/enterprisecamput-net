<!DOCTYPE html>
<html lang="en">
<head>
    <title> Unions </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/graphql/03-02-unions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/graphql/03-02-unions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/graphql/03-02-unions" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "graphql";
  		var TEMA_NAME = "3-2";
  		var TYPE = "mod";
  		var PATH = "mod/graphql/03-02-unions";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/graphql/03-02-unions" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/graphql/03-02-unions" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="graphql">
		<a  href="#" class="text-secondary d-none" data-read-mod="graphql" data-read-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="graphql" data-unread-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-interfaces' title="Interfaces" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-interfaces' title="Interfaces" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Unions</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-enums' title="Enums" class="py-2 px-3 btn btn-primary"
				data-read-mod="graphql" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-enums' title="Enums" class="py-2 px-3 btn btn-primary" 
				data-read-mod="graphql" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introduction to Unions</h2>
<div class='content'><p>In GraphQL, unions are a powerful feature that allows you to define a type that can represent one of several different object types. This is particularly useful when you have a field that can return multiple types of objects, and you want to handle them in a type-safe manner.</p>
</div><h3>Key Concepts</h3>
<div class='content'><ul>
<li><strong>Union Type</strong>: A union type is a special kind of type that can represent one of several object types.</li>
<li><strong>Type Safety</strong>: Unions help maintain type safety by ensuring that the field returns one of the specified types.</li>
<li><strong>Type Resolution</strong>: When querying a union type, the GraphQL server must resolve which type is being returned.</li>
</ul>
</div><h2>Defining Unions</h2>
<div class='content'><p>To define a union in GraphQL, you use the <code>union</code> keyword followed by the name of the union and the types it can represent.</p>
</div><h3>Example</h3>
<div class='content'><p>Let's consider a scenario where we have a <code>SearchResult</code> union that can be either a <code>Book</code> or an <code>Author</code>.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmUgdGhlIEJvb2sgdHlwZQp0eXBlIEJvb2sgewogIHRpdGxlOiBTdHJpbmchCiAgYXV0aG9yOiBBdXRob3IhCn0KCiMgRGVmaW5lIHRoZSBBdXRob3IgdHlwZQp0eXBlIEF1dGhvciB7CiAgbmFtZTogU3RyaW5nIQogIGJvb2tzOiBbQm9vayFdIQp9CgojIERlZmluZSB0aGUgU2VhcmNoUmVzdWx0IHVuaW9uCnVuaW9uIFNlYXJjaFJlc3VsdCA9IEJvb2sgfCBBdXRob3IKCiMgRGVmaW5lIGEgcXVlcnkgdGhhdCByZXR1cm5zIGEgU2VhcmNoUmVzdWx0CnR5cGUgUXVlcnkgewogIHNlYXJjaChxdWVyeTogU3RyaW5nISk6IFNlYXJjaFJlc3VsdAp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Define the Book type
type Book {
  title: String!
  author: Author!
}

# Define the Author type
type Author {
  name: String!
  books: [Book!]!
}

# Define the SearchResult union
union SearchResult = Book | Author

# Define a query that returns a SearchResult
type Query {
  search(query: String!): SearchResult
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>SearchResult</code> union can be either a <code>Book</code> or an <code>Author</code>.</li>
<li>The <code>search</code> query returns a <code>SearchResult</code>, which means it can return either a <code>Book</code> or an <code>Author</code>.</li>
</ul>
</div><h2>Querying Unions</h2>
<div class='content'><p>When querying a union type, you need to use inline fragments to specify the fields you want to retrieve for each possible type.</p>
</div><h3>Example</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cXVlcnkgewogIHNlYXJjaChxdWVyeTogIkdyYXBoUUwiKSB7CiAgICAuLi4gb24gQm9vayB7CiAgICAgIHRpdGxlCiAgICAgIGF1dGhvciB7CiAgICAgICAgbmFtZQogICAgICB9CiAgICB9CiAgICAuLi4gb24gQXV0aG9yIHsKICAgICAgbmFtZQogICAgICBib29rcyB7CiAgICAgICAgdGl0bGUKICAgICAgfQogICAgfQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>query {
  search(query: &quot;GraphQL&quot;) {
    ... on Book {
      title
      author {
        name
      }
    }
    ... on Author {
      name
      books {
        title
      }
    }
  }
}</pre></div><div class='content'><p>In this query:</p>
<ul>
<li>We use inline fragments (<code>... on Book</code> and <code>... on Author</code>) to specify the fields we want to retrieve for each type.</li>
<li>This ensures that we only request fields that are valid for the returned type.</li>
</ul>
</div><h2>Implementing Resolvers for Unions</h2>
<div class='content'><p>When implementing resolvers for union types, you need to provide a type resolver function that determines which type is being returned.</p>
</div><h3>Example</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBzZWFyY2g6IChwYXJlbnQsIGFyZ3MsIGNvbnRleHQsIGluZm8pID0+IHsKICAgICAgLy8gRXhhbXBsZSBzZWFyY2ggbG9naWMKICAgICAgaWYgKGFyZ3MucXVlcnkgPT09ICJHcmFwaFFMIikgewogICAgICAgIHJldHVybiB7IHRpdGxlOiAiTGVhcm5pbmcgR3JhcGhRTCIsIGF1dGhvcjogeyBuYW1lOiAiRXZlIFBvcmNlbGxvIiB9IH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsgbmFtZTogIkV2ZSBQb3JjZWxsbyIsIGJvb2tzOiBbeyB0aXRsZTogIkxlYXJuaW5nIEdyYXBoUUwiIH1dIH07CiAgICAgIH0KICAgIH0sCiAgfSwKICBTZWFyY2hSZXN1bHQ6IHsKICAgIF9fcmVzb2x2ZVR5cGUob2JqLCBjb250ZXh0LCBpbmZvKSB7CiAgICAgIGlmIChvYmoudGl0bGUpIHsKICAgICAgICByZXR1cm4gJ0Jvb2snOwogICAgICB9CiAgICAgIGlmIChvYmoubmFtZSkgewogICAgICAgIHJldHVybiAnQXV0aG9yJzsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgfSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    search: (parent, args, context, info) =&gt; {
      // Example search logic
      if (args.query === &quot;GraphQL&quot;) {
        return { title: &quot;Learning GraphQL&quot;, author: { name: &quot;Eve Porcello&quot; } };
      } else {
        return { name: &quot;Eve Porcello&quot;, books: [{ title: &quot;Learning GraphQL&quot; }] };
      }
    },
  },
  SearchResult: {
    __resolveType(obj, context, info) {
      if (obj.title) {
        return 'Book';
      }
      if (obj.name) {
        return 'Author';
      }
      return null;
    },
  },
};</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>search</code> resolver returns either a <code>Book</code> or an <code>Author</code> based on the query.</li>
<li>The <code>__resolveType</code> function determines the type of the returned object by checking its properties.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise</h3>
<div class='content'><ol>
<li>Define a union type <code>Media</code> that can be either a <code>Movie</code> or a <code>TVShow</code>.</li>
<li>Create a query <code>mediaSearch</code> that returns a <code>Media</code>.</li>
<li>Implement the resolver for <code>mediaSearch</code> and the type resolver for <code>Media</code>.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmUgdGhlIE1vdmllIHR5cGUKdHlwZSBNb3ZpZSB7CiAgdGl0bGU6IFN0cmluZyEKICBkaXJlY3RvcjogU3RyaW5nIQp9CgojIERlZmluZSB0aGUgVFZTaG93IHR5cGUKdHlwZSBUVlNob3cgewogIHRpdGxlOiBTdHJpbmchCiAgc2Vhc29uczogSW50IQp9CgojIERlZmluZSB0aGUgTWVkaWEgdW5pb24KdW5pb24gTWVkaWEgPSBNb3ZpZSB8IFRWU2hvdwoKIyBEZWZpbmUgYSBxdWVyeSB0aGF0IHJldHVybnMgYSBNZWRpYQp0eXBlIFF1ZXJ5IHsKICBtZWRpYVNlYXJjaChxdWVyeTogU3RyaW5nISk6IE1lZGlhCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Define the Movie type
type Movie {
  title: String!
  director: String!
}

# Define the TVShow type
type TVShow {
  title: String!
  seasons: Int!
}

# Define the Media union
union Media = Movie | TVShow

# Define a query that returns a Media
type Query {
  mediaSearch(query: String!): Media
}</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBtZWRpYVNlYXJjaDogKHBhcmVudCwgYXJncywgY29udGV4dCwgaW5mbykgPT4gewogICAgICAvLyBFeGFtcGxlIHNlYXJjaCBsb2dpYwogICAgICBpZiAoYXJncy5xdWVyeSA9PT0gIkluY2VwdGlvbiIpIHsKICAgICAgICByZXR1cm4geyB0aXRsZTogIkluY2VwdGlvbiIsIGRpcmVjdG9yOiAiQ2hyaXN0b3BoZXIgTm9sYW4iIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsgdGl0bGU6ICJCcmVha2luZyBCYWQiLCBzZWFzb25zOiA1IH07CiAgICAgIH0KICAgIH0sCiAgfSwKICBNZWRpYTogewogICAgX19yZXNvbHZlVHlwZShvYmosIGNvbnRleHQsIGluZm8pIHsKICAgICAgaWYgKG9iai5kaXJlY3RvcikgewogICAgICAgIHJldHVybiAnTW92aWUnOwogICAgICB9CiAgICAgIGlmIChvYmouc2Vhc29ucykgewogICAgICAgIHJldHVybiAnVFZTaG93JzsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgfSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    mediaSearch: (parent, args, context, info) =&gt; {
      // Example search logic
      if (args.query === &quot;Inception&quot;) {
        return { title: &quot;Inception&quot;, director: &quot;Christopher Nolan&quot; };
      } else {
        return { title: &quot;Breaking Bad&quot;, seasons: 5 };
      }
    },
  },
  Media: {
    __resolveType(obj, context, info) {
      if (obj.director) {
        return 'Movie';
      }
      if (obj.seasons) {
        return 'TVShow';
      }
      return null;
    },
  },
};</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Missing Type Resolver</strong>: Always provide a type resolver function for unions to ensure the server can determine the correct type.</li>
<li><strong>Invalid Fields</strong>: When querying unions, ensure that you only request fields that are valid for the returned type.</li>
<li><strong>Clear Type Distinction</strong>: Make sure the types in a union are distinct enough to be easily resolved.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Unions in GraphQL provide a flexible way to handle fields that can return multiple types. By defining unions and implementing type resolvers, you can maintain type safety and ensure your API is robust and easy to use. In the next section, we will explore another advanced schema design feature: Enums.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-interfaces' title="Interfaces" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-interfaces' title="Interfaces" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-enums' title="Enums" class="py-2 px-3 btn btn-primary"
				data-read-mod="graphql" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-enums' title="Enums" class="py-2 px-3 btn btn-primary" 
				data-read-mod="graphql" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>GraphQL Course</h1>
<h2>Module 1: Introduction to GraphQL</h2>
<ul>
<li><a href="01-01-what-is-graphql">What is GraphQL?</a></li>
<li><a href="01-02-graphql-vs-rest">GraphQL vs REST</a></li>
<li><a href="01-03-setting-up-graphql-server">Setting Up a GraphQL Server</a></li>
<li><a href="01-04-graphql-schema-basics">GraphQL Schema Basics</a></li>
</ul>
<h2>Module 2: Core Concepts</h2>
<ul>
<li><a href="02-01-queries">Queries</a></li>
<li><a href="02-02-mutations">Mutations</a></li>
<li><a href="02-03-resolvers">Resolvers</a></li>
<li><a href="02-04-graphql-types">GraphQL Types</a></li>
<li><a href="02-05-graphql-scalars">GraphQL Scalars</a></li>
</ul>
<h2>Module 3: Advanced Schema Design</h2>
<ul>
<li><a href="03-01-interfaces">Interfaces</a></li>
<li><a href="03-02-unions">Unions</a></li>
<li><a href="03-03-enums">Enums</a></li>
<li><a href="03-04-input-types">Input Types</a></li>
<li><a href="03-05-custom-scalars">Custom Scalars</a></li>
</ul>
<h2>Module 4: Working with Data</h2>
<ul>
<li><a href="04-01-connecting-to-database">Connecting to a Database</a></li>
<li><a href="04-02-data-fetching-strategies">Data Fetching Strategies</a></li>
<li><a href="04-03-batching-and-caching">Batching and Caching</a></li>
<li><a href="04-04-error-handling">Error Handling</a></li>
</ul>
<h2>Module 5: Performance and Security</h2>
<ul>
<li><a href="05-01-query-optimization">Query Optimization</a></li>
<li><a href="05-02-rate-limiting">Rate Limiting</a></li>
<li><a href="05-03-authentication-authorization">Authentication and Authorization</a></li>
<li><a href="05-04-persisted-queries">Persisted Queries</a></li>
</ul>
<h2>Module 6: Tooling and Ecosystem</h2>
<ul>
<li><a href="06-01-graphiql-playground">GraphiQL and Playground</a></li>
<li><a href="06-02-apollo-client">Apollo Client</a></li>
<li><a href="06-03-relay">Relay</a></li>
<li><a href="06-04-graphql-subscriptions">GraphQL Subscriptions</a></li>
</ul>
<h2>Module 7: Testing and Deployment</h2>
<ul>
<li><a href="07-01-unit-testing-resolvers">Unit Testing Resolvers</a></li>
<li><a href="07-02-integration-testing">Integration Testing</a></li>
<li><a href="07-03-continuous-integration">Continuous Integration</a></li>
<li><a href="07-04-deploying-graphql-servers">Deploying GraphQL Servers</a></li>
</ul>
<h2>Module 8: Real-world Applications</h2>
<ul>
<li><a href="08-01-building-fullstack-application">Building a Full-stack Application</a></li>
<li><a href="08-02-graphql-in-microservices">GraphQL in Microservices</a></li>
<li><a href="08-03-graphql-federation">GraphQL Federation</a></li>
<li><a href="08-04-case-studies">Case Studies</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
