<!DOCTYPE html>
<html lang="en">
<head>
    <title> Kafka with Hadoop </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/kafka/06-01-kafka-hadoop" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/kafka/06-01-kafka-hadoop" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/kafka/06-01-kafka-hadoop" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "kafka";
  		var TEMA_NAME = "6-1";
  		var TYPE = "mod";
  		var PATH = "mod/kafka/06-01-kafka-hadoop";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.ae32789132.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/kafka/06-01-kafka-hadoop" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/kafka/06-01-kafka-hadoop" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kafka">
		<a  href="#" class="text-secondary d-none" data-read-mod="kafka" data-read-unit="6-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kafka" data-unread-unit="6-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Kafka with Hadoop</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-02-kafka-spark' title="Kafka with Spark" class="py-2 px-3 btn btn-primary"
				data-read-mod="kafka" data-read-unit="6-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-02-kafka-spark' title="Kafka with Spark" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kafka" data-read-unit="6-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how Kafka integrates with Hadoop, a popular framework for distributed storage and processing of large data sets. This integration allows for efficient data ingestion, processing, and analysis, leveraging the strengths of both Kafka and Hadoop.</p>
</div><h2>Objectives</h2>
<div class='content'><p>By the end of this section, you will:</p>
<ul>
<li>Understand the benefits of integrating Kafka with Hadoop.</li>
<li>Learn how to set up Kafka to work with Hadoop.</li>
<li>Explore practical examples of Kafka-Hadoop integration.</li>
<li>Complete exercises to reinforce your understanding.</li>
</ul>
</div><h2>Benefits of Integrating Kafka with Hadoop</h2>
<div class='content'><p>Integrating Kafka with Hadoop offers several advantages:</p>
<ol>
<li><strong>Real-time Data Ingestion</strong>: Kafka can stream data in real-time to Hadoop, enabling timely data processing and analysis.</li>
<li><strong>Scalability</strong>: Both Kafka and Hadoop are designed to scale horizontally, making them suitable for handling large volumes of data.</li>
<li><strong>Fault Tolerance</strong>: Kafka's distributed architecture ensures data durability, while Hadoop's HDFS provides reliable storage.</li>
<li><strong>Flexibility</strong>: Kafka can ingest data from various sources, and Hadoop can process and analyze this data using different tools and frameworks.</li>
</ol>
</div><h2>Setting Up Kafka to Work with Hadoop</h2>
<div class='content'></div><h3>Prerequisites</h3>
<div class='content'><ul>
<li>A running Kafka cluster.</li>
<li>A Hadoop cluster with HDFS (Hadoop Distributed File System) set up.</li>
<li>Kafka Connect installed.</li>
</ul>
</div><h3>Step-by-Step Setup</h3>
<div class='content'><ol>
<li>
<p><strong>Install Kafka Connect HDFS Connector</strong>:
Kafka Connect provides a connector for HDFS, which allows Kafka to write data directly to HDFS.</p>
<pre><code class="language-bash">confluent-hub install confluentinc/kafka-connect-hdfs:latest
</code></pre>
</li>
<li>
<p><strong>Configure the HDFS Connector</strong>:
Create a configuration file for the HDFS connector (e.g., <code>hdfs-sink.properties</code>).</p>
<pre><code class="language-properties">name=hdfs-sink-connector
connector.class=io.confluent.connect.hdfs.HdfsSinkConnector
tasks.max=1
topics=your_topic
hdfs.url=hdfs://namenode:8020
flush.size=1000
</code></pre>
<ul>
<li><code>name</code>: Name of the connector.</li>
<li><code>connector.class</code>: The class for the HDFS sink connector.</li>
<li><code>tasks.max</code>: Maximum number of tasks to use for this connector.</li>
<li><code>topics</code>: The Kafka topic(s) to read from.</li>
<li><code>hdfs.url</code>: The URL of the HDFS namenode.</li>
<li><code>flush.size</code>: Number of records to write before flushing to HDFS.</li>
</ul>
</li>
<li>
<p><strong>Start the HDFS Connector</strong>:
Use the Kafka Connect REST API to start the connector.</p>
<pre><code class="language-bash">curl -X POST -H &quot;Content-Type: application/json&quot; --data @hdfs-sink.properties http://localhost:8083/connectors
</code></pre>
</li>
<li>
<p><strong>Verify Data in HDFS</strong>:
Check the HDFS directory to ensure that data from Kafka is being written correctly.</p>
<pre><code class="language-bash">hdfs dfs -ls /path/to/hdfs/directory
</code></pre>
</li>
</ol>
</div><h2>Practical Example</h2>
<div class='content'></div><h3>Example: Streaming Logs from Kafka to Hadoop</h3>
<div class='content'><ol>
<li>
<p><strong>Produce Log Messages to Kafka</strong>:
Create a simple producer to send log messages to a Kafka topic.</p>
<pre><code class="language-python">from kafka import KafkaProducer
import json

producer = KafkaProducer(bootstrap_servers='localhost:9092', value_serializer=lambda v: json.dumps(v).encode('utf-8'))

log_message = {
    'timestamp': '2023-10-01T12:00:00Z',
    'level': 'INFO',
    'message': 'This is a log message'
}

producer.send('logs', log_message)
producer.flush()
</code></pre>
</li>
<li>
<p><strong>Configure and Start the HDFS Connector</strong>:
Use the configuration steps mentioned earlier to set up the HDFS connector.</p>
</li>
<li>
<p><strong>Verify Data in HDFS</strong>:
Check the HDFS directory to see the ingested log messages.</p>
<pre><code class="language-bash">hdfs dfs -cat /path/to/hdfs/directory/logs/part-00000
</code></pre>
</li>
</ol>
</div><h2>Exercises</h2>
<div class='content'></div><h3>Exercise 1: Set Up Kafka-Hadoop Integration</h3>
<div class='content'><ol>
<li>Install the Kafka Connect HDFS connector.</li>
<li>Configure the connector to write data from a Kafka topic to HDFS.</li>
<li>Produce sample messages to the Kafka topic.</li>
<li>Verify that the messages are written to HDFS.</li>
</ol>
</div><h3>Exercise 2: Stream Sensor Data to Hadoop</h3>
<div class='content'><ol>
<li>Create a Kafka producer to send sensor data (e.g., temperature, humidity) to a Kafka topic.</li>
<li>Configure the HDFS connector to write the sensor data to HDFS.</li>
<li>Verify the data in HDFS.</li>
</ol>
</div><h3>Solutions</h3>
<div class='content'><h4>Solution to Exercise 1</h4>
<ol>
<li>
<p><strong>Install the Kafka Connect HDFS connector</strong>:</p>
<pre><code class="language-bash">confluent-hub install confluentinc/kafka-connect-hdfs:latest
</code></pre>
</li>
<li>
<p><strong>Configure the connector</strong>:
Create <code>hdfs-sink.properties</code>:</p>
<pre><code class="language-properties">name=hdfs-sink-connector
connector.class=io.confluent.connect.hdfs.HdfsSinkConnector
tasks.max=1
topics=sample_topic
hdfs.url=hdfs://namenode:8020
flush.size=1000
</code></pre>
</li>
<li>
<p><strong>Start the connector</strong>:</p>
<pre><code class="language-bash">curl -X POST -H &quot;Content-Type: application/json&quot; --data @hdfs-sink.properties http://localhost:8083/connectors
</code></pre>
</li>
<li>
<p><strong>Produce sample messages</strong>:</p>
<pre><code class="language-python">from kafka import KafkaProducer
import json

producer = KafkaProducer(bootstrap_servers='localhost:9092', value_serializer=lambda v: json.dumps(v).encode('utf-8'))

sample_message = {
    'id': 1,
    'value': 'sample data'
}

producer.send('sample_topic', sample_message)
producer.flush()
</code></pre>
</li>
<li>
<p><strong>Verify data in HDFS</strong>:</p>
<pre><code class="language-bash">hdfs dfs -cat /path/to/hdfs/directory/sample_topic/part-00000
</code></pre>
</li>
</ol>
<h4>Solution to Exercise 2</h4>
<ol>
<li>
<p><strong>Create a Kafka producer for sensor data</strong>:</p>
<pre><code class="language-python">from kafka import KafkaProducer
import json

producer = KafkaProducer(bootstrap_servers='localhost:9092', value_serializer=lambda v: json.dumps(v).encode('utf-8'))

sensor_data = {
    'timestamp': '2023-10-01T12:00:00Z',
    'temperature': 22.5,
    'humidity': 60
}

producer.send('sensor_data', sensor_data)
producer.flush()
</code></pre>
</li>
<li>
<p><strong>Configure the HDFS connector</strong>:
Create <code>hdfs-sink.properties</code>:</p>
<pre><code class="language-properties">name=hdfs-sink-connector
connector.class=io.confluent.connect.hdfs.HdfsSinkConnector
tasks.max=1
topics=sensor_data
hdfs.url=hdfs://namenode:8020
flush.size=1000
</code></pre>
</li>
<li>
<p><strong>Start the connector</strong>:</p>
<pre><code class="language-bash">curl -X POST -H &quot;Content-Type: application/json&quot; --data @hdfs-sink.properties http://localhost:8083/connectors
</code></pre>
</li>
<li>
<p><strong>Verify data in HDFS</strong>:</p>
<pre><code class="language-bash">hdfs dfs -cat /path/to/hdfs/directory/sensor_data/part-00000
</code></pre>
</li>
</ol>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we explored the integration of Kafka with Hadoop, including the benefits, setup process, and practical examples. By completing the exercises, you should now have a solid understanding of how to stream data from Kafka to Hadoop for efficient storage and processing. This knowledge will be valuable as you continue to build and scale data pipelines using Kafka and Hadoop.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-02-kafka-spark' title="Kafka with Spark" class="py-2 px-3 btn btn-primary"
				data-read-mod="kafka" data-read-unit="6-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-02-kafka-spark' title="Kafka with Spark" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kafka" data-read-unit="6-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Kafka Course</h1>
<h2>Module 1: Introduction to Kafka</h2>
<ul>
<li><a href="01-01-what-is-kafka">What is Kafka?</a></li>
<li><a href="01-02-kafka-use-cases">Kafka Use Cases</a></li>
<li><a href="01-03-kafka-architecture-overview">Kafka Architecture Overview</a></li>
<li><a href="01-04-setting-up-kafka">Setting Up Kafka</a></li>
</ul>
<h2>Module 2: Kafka Core Concepts</h2>
<ul>
<li><a href="02-01-producers-and-consumers">Producers and Consumers</a></li>
<li><a href="02-02-topics-and-partitions">Topics and Partitions</a></li>
<li><a href="02-03-brokers-and-clusters">Brokers and Clusters</a></li>
<li><a href="02-04-messages-and-offsets">Messages and Offsets</a></li>
</ul>
<h2>Module 3: Kafka Operations</h2>
<ul>
<li><a href="03-01-producing-messages">Producing Messages</a></li>
<li><a href="03-02-consuming-messages">Consuming Messages</a></li>
<li><a href="03-03-kafka-connect">Kafka Connect</a></li>
<li><a href="03-04-kafka-streams">Kafka Streams</a></li>
</ul>
<h2>Module 4: Kafka Configuration and Management</h2>
<ul>
<li><a href="04-01-configuring-kafka">Configuring Kafka</a></li>
<li><a href="04-02-managing-kafka-topics">Managing Kafka Topics</a></li>
<li><a href="04-03-monitoring-kafka">Monitoring Kafka</a></li>
<li><a href="04-04-kafka-security">Kafka Security</a></li>
</ul>
<h2>Module 5: Advanced Kafka Topics</h2>
<ul>
<li><a href="05-01-kafka-performance-tuning">Kafka Performance Tuning</a></li>
<li><a href="05-02-kafka-multi-data-center">Kafka in a Multi-Data Center Setup</a></li>
<li><a href="05-03-kafka-schema-registry">Kafka with Schema Registry</a></li>
<li><a href="05-04-kafka-streams-advanced">Kafka Streams Advanced</a></li>
</ul>
<h2>Module 6: Kafka Ecosystem and Integrations</h2>
<ul>
<li><a href="06-01-kafka-hadoop">Kafka with Hadoop</a></li>
<li><a href="06-02-kafka-spark">Kafka with Spark</a></li>
<li><a href="06-03-kafka-flink">Kafka with Flink</a></li>
<li><a href="06-04-kafka-elasticsearch">Kafka with Elasticsearch</a></li>
</ul>
<h2>Module 7: Kafka Case Studies and Best Practices</h2>
<ul>
<li><a href="07-01-real-world-kafka-use-cases">Real-World Kafka Use Cases</a></li>
<li><a href="07-02-kafka-best-practices">Kafka Best Practices</a></li>
<li><a href="07-03-common-kafka-pitfalls">Common Kafka Pitfalls</a></li>
<li><a href="07-04-future-of-kafka">Future of Kafka</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
