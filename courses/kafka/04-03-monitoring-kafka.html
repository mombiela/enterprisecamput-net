<!DOCTYPE html>
<html lang="en">
<head>
    <title> Monitoring Kafka </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/kafka/04-03-monitoring-kafka" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/kafka/04-03-monitoring-kafka" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/kafka/04-03-monitoring-kafka" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "kafka";
  		var TEMA_NAME = "4-3";
  		var TYPE = "mod";
  		var PATH = "mod/kafka/04-03-monitoring-kafka";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.688defeeef.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/kafka/04-03-monitoring-kafka" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/kafka/04-03-monitoring-kafka" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kafka">
		<a  href="#" class="text-secondary d-none" data-read-mod="kafka" data-read-unit="4-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kafka" data-unread-unit="4-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-02-managing-kafka-topics' title="Managing Kafka Topics" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-02-managing-kafka-topics' title="Managing Kafka Topics" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Monitoring Kafka</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-04-kafka-security' title="Kafka Security" class="py-2 px-3 btn btn-primary"
				data-read-mod="kafka" data-read-unit="4-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-04-kafka-security' title="Kafka Security" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kafka" data-read-unit="4-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Monitoring Kafka is crucial for ensuring the health, performance, and reliability of your Kafka clusters. This section will cover the key aspects of monitoring Kafka, including the tools and metrics you need to keep an eye on.</p>
</div><h2>Key Concepts in Kafka Monitoring</h2>
<div class='content'><ol>
<li><strong>Metrics Collection</strong>: Understanding the various metrics that Kafka exposes.</li>
<li><strong>Monitoring Tools</strong>: Tools and platforms that can be used to monitor Kafka.</li>
<li><strong>Alerting</strong>: Setting up alerts to notify you of potential issues.</li>
<li><strong>Log Analysis</strong>: Analyzing Kafka logs for troubleshooting and performance tuning.</li>
</ol>
</div><h2>Metrics Collection</h2>
<div class='content'><p>Kafka exposes a wide range of metrics through JMX (Java Management Extensions). These metrics can be categorized into several groups:</p>
<ul>
<li><strong>Broker Metrics</strong>: Metrics related to the Kafka broker's performance.</li>
<li><strong>Producer Metrics</strong>: Metrics related to the performance of Kafka producers.</li>
<li><strong>Consumer Metrics</strong>: Metrics related to the performance of Kafka consumers.</li>
<li><strong>Topic Metrics</strong>: Metrics related to the performance of Kafka topics and partitions.</li>
</ul>
</div><h3>Key Metrics to Monitor</h3>
<div class='content'><table>
<thead>
<tr>
<th>Metric Category</th>
<th>Metric Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Broker</td>
<td><code>kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec</code></td>
<td>Number of messages received per second.</td>
</tr>
<tr>
<td>Broker</td>
<td><code>kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec</code></td>
<td>Number of bytes received per second.</td>
</tr>
<tr>
<td>Broker</td>
<td><code>kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec</code></td>
<td>Number of bytes sent per second.</td>
</tr>
<tr>
<td>Producer</td>
<td><code>kafka.producer:type=producer-metrics,name=record-send-rate</code></td>
<td>Rate at which records are sent.</td>
</tr>
<tr>
<td>Consumer</td>
<td><code>kafka.consumer:type=consumer-fetch-manager-metrics,name=records-consumed-rate</code></td>
<td>Rate at which records are consumed.</td>
</tr>
<tr>
<td>Topic</td>
<td><code>kafka.log:type=Log,name=LogEndOffset</code></td>
<td>The offset of the last message in the log.</td>
</tr>
<tr>
<td>Topic</td>
<td><code>kafka.log:type=Log,name=LogStartOffset</code></td>
<td>The offset of the first message in the log.</td>
</tr>
</tbody>
</table>
</div><h2>Monitoring Tools</h2>
<div class='content'><p>Several tools can be used to monitor Kafka. Here are some popular ones:</p>
<ol>
<li><strong>Prometheus and Grafana</strong>: Prometheus is an open-source monitoring and alerting toolkit, and Grafana is an open-source platform for monitoring and observability. Together, they provide a powerful solution for monitoring Kafka.</li>
<li><strong>Kafka Manager</strong>: A tool for managing and monitoring Kafka.</li>
<li><strong>Confluent Control Center</strong>: A commercial tool provided by Confluent for monitoring and managing Kafka.</li>
<li><strong>Datadog</strong>: A monitoring and analytics platform that supports Kafka.</li>
</ol>
</div><h3>Example: Setting Up Prometheus and Grafana</h3>
<div class='content'><ol>
<li><strong>Install Prometheus</strong>: Follow the <a href="https://prometheus.io/docs/prometheus/latest/installation/">Prometheus installation guide</a>.</li>
<li><strong>Install Grafana</strong>: Follow the <a href="https://grafana.com/docs/grafana/latest/installation/">Grafana installation guide</a>.</li>
<li><strong>Configure Prometheus to Scrape Kafka Metrics</strong>:
<pre><code class="language-yaml">scrape_configs:
  - job_name: 'kafka'
    static_configs:
      - targets: ['localhost:9092']
</code></pre>
</li>
<li><strong>Import Kafka Dashboard in Grafana</strong>: Use a pre-built Kafka dashboard from the Grafana dashboard repository.</li>
</ol>
</div><h2>Alerting</h2>
<div class='content'><p>Setting up alerts is essential to notify you of potential issues before they become critical. Prometheus Alertmanager can be used to define alerting rules and send notifications.</p>
</div><h3>Example: Alerting Rule for High Latency</h3>
<div class='content'><ol>
<li><strong>Define Alerting Rule in Prometheus</strong>:
<pre><code class="language-yaml">groups:
  - name: kafka_alerts
    rules:
      - alert: HighLatency
        expr: kafka_producer_record_send_rate &gt; 100
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: &quot;High Latency Detected&quot;
          description: &quot;The record send rate is above 100 for more than 5 minutes.&quot;
</code></pre>
</li>
<li><strong>Configure Alertmanager</strong>: Follow the <a href="https://prometheus.io/docs/alerting/latest/alertmanager/">Alertmanager configuration guide</a>.</li>
</ol>
</div><h2>Log Analysis</h2>
<div class='content'><p>Kafka logs are a valuable source of information for troubleshooting and performance tuning. Key logs to monitor include:</p>
<ul>
<li><strong>Server Logs</strong>: Logs related to the Kafka broker.</li>
<li><strong>Producer Logs</strong>: Logs related to Kafka producers.</li>
<li><strong>Consumer Logs</strong>: Logs related to Kafka consumers.</li>
</ul>
</div><h3>Example: Analyzing Kafka Logs</h3>
<div class='content'><ol>
<li><strong>Access Kafka Logs</strong>: Kafka logs are typically located in the <code>logs</code> directory of your Kafka installation.</li>
<li><strong>Use Log Analysis Tools</strong>: Tools like ELK Stack (Elasticsearch, Logstash, Kibana) can be used to analyze Kafka logs.</li>
</ol>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Setting Up Prometheus and Grafana for Kafka Monitoring</h3>
<div class='content'><ol>
<li><strong>Install Prometheus and Grafana</strong> on your local machine or server.</li>
<li><strong>Configure Prometheus</strong> to scrape Kafka metrics.</li>
<li><strong>Import a Kafka Dashboard</strong> in Grafana.</li>
<li><strong>Create an Alerting Rule</strong> in Prometheus for high latency.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><ol>
<li>
<p><strong>Install Prometheus and Grafana</strong>:</p>
<ul>
<li>Follow the installation guides for <a href="https://prometheus.io/docs/prometheus/latest/installation/">Prometheus</a> and <a href="https://grafana.com/docs/grafana/latest/installation/">Grafana</a>.</li>
</ul>
</li>
<li>
<p><strong>Configure Prometheus</strong>:</p>
<ul>
<li>Edit the <code>prometheus.yml</code> file to include the Kafka job:</li>
</ul>
<pre><code class="language-yaml">scrape_configs:
  - job_name: 'kafka'
    static_configs:
      - targets: ['localhost:9092']
</code></pre>
</li>
<li>
<p><strong>Import Kafka Dashboard in Grafana</strong>:</p>
<ul>
<li>Open Grafana, go to Dashboards &gt; Import, and use the dashboard ID <code>7589</code> for a pre-built Kafka dashboard.</li>
</ul>
</li>
<li>
<p><strong>Create an Alerting Rule</strong>:</p>
<ul>
<li>Add the following rule to the <code>prometheus.yml</code> file:</li>
</ul>
<pre><code class="language-yaml">groups:
  - name: kafka_alerts
    rules:
      - alert: HighLatency
        expr: kafka_producer_record_send_rate &gt; 100
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: &quot;High Latency Detected&quot;
          description: &quot;The record send rate is above 100 for more than 5 minutes.&quot;
</code></pre>
</li>
</ol>
</div><h2>Conclusion</h2>
<div class='content'><p>Monitoring Kafka is essential for maintaining the health and performance of your Kafka clusters. By understanding the key metrics, using the right tools, setting up alerts, and analyzing logs, you can ensure that your Kafka deployment runs smoothly and efficiently. In the next section, we will cover Kafka Security, which is crucial for protecting your Kafka data and infrastructure.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-02-managing-kafka-topics' title="Managing Kafka Topics" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-02-managing-kafka-topics' title="Managing Kafka Topics" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-04-kafka-security' title="Kafka Security" class="py-2 px-3 btn btn-primary"
				data-read-mod="kafka" data-read-unit="4-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-04-kafka-security' title="Kafka Security" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kafka" data-read-unit="4-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Kafka Course</h1>
<h2>Module 1: Introduction to Kafka</h2>
<ul>
<li><a href="01-01-what-is-kafka">What is Kafka?</a></li>
<li><a href="01-02-kafka-use-cases">Kafka Use Cases</a></li>
<li><a href="01-03-kafka-architecture-overview">Kafka Architecture Overview</a></li>
<li><a href="01-04-setting-up-kafka">Setting Up Kafka</a></li>
</ul>
<h2>Module 2: Kafka Core Concepts</h2>
<ul>
<li><a href="02-01-producers-and-consumers">Producers and Consumers</a></li>
<li><a href="02-02-topics-and-partitions">Topics and Partitions</a></li>
<li><a href="02-03-brokers-and-clusters">Brokers and Clusters</a></li>
<li><a href="02-04-messages-and-offsets">Messages and Offsets</a></li>
</ul>
<h2>Module 3: Kafka Operations</h2>
<ul>
<li><a href="03-01-producing-messages">Producing Messages</a></li>
<li><a href="03-02-consuming-messages">Consuming Messages</a></li>
<li><a href="03-03-kafka-connect">Kafka Connect</a></li>
<li><a href="03-04-kafka-streams">Kafka Streams</a></li>
</ul>
<h2>Module 4: Kafka Configuration and Management</h2>
<ul>
<li><a href="04-01-configuring-kafka">Configuring Kafka</a></li>
<li><a href="04-02-managing-kafka-topics">Managing Kafka Topics</a></li>
<li><a href="04-03-monitoring-kafka">Monitoring Kafka</a></li>
<li><a href="04-04-kafka-security">Kafka Security</a></li>
</ul>
<h2>Module 5: Advanced Kafka Topics</h2>
<ul>
<li><a href="05-01-kafka-performance-tuning">Kafka Performance Tuning</a></li>
<li><a href="05-02-kafka-multi-data-center">Kafka in a Multi-Data Center Setup</a></li>
<li><a href="05-03-kafka-schema-registry">Kafka with Schema Registry</a></li>
<li><a href="05-04-kafka-streams-advanced">Kafka Streams Advanced</a></li>
</ul>
<h2>Module 6: Kafka Ecosystem and Integrations</h2>
<ul>
<li><a href="06-01-kafka-hadoop">Kafka with Hadoop</a></li>
<li><a href="06-02-kafka-spark">Kafka with Spark</a></li>
<li><a href="06-03-kafka-flink">Kafka with Flink</a></li>
<li><a href="06-04-kafka-elasticsearch">Kafka with Elasticsearch</a></li>
</ul>
<h2>Module 7: Kafka Case Studies and Best Practices</h2>
<ul>
<li><a href="07-01-real-world-kafka-use-cases">Real-World Kafka Use Cases</a></li>
<li><a href="07-02-kafka-best-practices">Kafka Best Practices</a></li>
<li><a href="07-03-common-kafka-pitfalls">Common Kafka Pitfalls</a></li>
<li><a href="07-04-future-of-kafka">Future of Kafka</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
