<!DOCTYPE html>
<html lang="en">
<head>
    <title> Kafka with Schema Registry </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/kafka/05-03-kafka-schema-registry" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/kafka/05-03-kafka-schema-registry" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/kafka/05-03-kafka-schema-registry" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "kafka";
  		var TEMA_NAME = "5-3";
  		var TYPE = "mod";
  		var PATH = "mod/kafka/05-03-kafka-schema-registry";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/kafka/05-03-kafka-schema-registry" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/kafka/05-03-kafka-schema-registry" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kafka">
		<a  href="#" class="text-secondary d-none" data-read-mod="kafka" data-read-unit="5-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kafka" data-unread-unit="5-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-02-kafka-multi-data-center' title="Kafka in a Multi-Data Center Setup" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-02-kafka-multi-data-center' title="Kafka in a Multi-Data Center Setup" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Kafka with Schema Registry</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary"
				data-read-mod="kafka" data-read-unit="5-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kafka" data-read-unit="5-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the Kafka Schema Registry, a critical component for managing and enforcing data schemas in Kafka. This module will cover the following topics:</p>
<ol>
<li><strong>Introduction to Schema Registry</strong></li>
<li><strong>Setting Up Schema Registry</strong></li>
<li><strong>Using Schema Registry with Kafka Producers</strong></li>
<li><strong>Using Schema Registry with Kafka Consumers</strong></li>
<li><strong>Schema Evolution and Compatibility</strong></li>
<li><strong>Practical Exercises</strong></li>
</ol>
</div><h2><ol>
<li>Introduction to Schema Registry</li>
</ol></h2>
<div class='content'></div><h3>What is Schema Registry?</h3>
<div class='content'><p>The Schema Registry is a service that provides a RESTful interface for storing and retrieving Avro schemas. It is part of the Confluent Platform and is used to manage the schemas for Kafka topics, ensuring that data is serialized and deserialized consistently.</p>
</div><h3>Key Features</h3>
<div class='content'><ul>
<li><strong>Centralized Schema Management</strong>: Stores all schemas in a central repository.</li>
<li><strong>Schema Versioning</strong>: Supports multiple versions of schemas.</li>
<li><strong>Compatibility Checks</strong>: Ensures that new schema versions are compatible with previous versions.</li>
<li><strong>RESTful Interface</strong>: Provides a REST API for managing schemas.</li>
</ul>
</div><h3>Why Use Schema Registry?</h3>
<div class='content'><ul>
<li><strong>Data Consistency</strong>: Ensures that data produced and consumed is consistent with the defined schema.</li>
<li><strong>Schema Evolution</strong>: Allows for the evolution of schemas over time without breaking existing data.</li>
<li><strong>Interoperability</strong>: Facilitates interoperability between different systems and applications.</li>
</ul>
</div><h2><ol start="2">
<li>Setting Up Schema Registry</li>
</ol></h2>
<div class='content'></div><h3>Prerequisites</h3>
<div class='content'><ul>
<li>Kafka cluster up and running.</li>
<li>Confluent Platform installed.</li>
</ul>
</div><h3>Installation Steps</h3>
<div class='content'><ol>
<li>
<p><strong>Download and Install Schema Registry</strong>:</p>
<pre><code class="language-bash">wget http://packages.confluent.io/archive/6.0/confluent-6.0.0.tar.gz
tar -xvf confluent-6.0.0.tar.gz
cd confluent-6.0.0
</code></pre>
</li>
<li>
<p><strong>Start Schema Registry</strong>:</p>
<pre><code class="language-bash">./bin/schema-registry-start ./etc/schema-registry/schema-registry.properties
</code></pre>
</li>
<li>
<p><strong>Verify Schema Registry is Running</strong>:
Open a web browser and navigate to <code>http://localhost:8081</code>. You should see the Schema Registry REST API documentation.</p>
</li>
</ol>
</div><h2><ol start="3">
<li>Using Schema Registry with Kafka Producers</li>
</ol></h2>
<div class='content'></div><h3>Registering a Schema</h3>
<div class='content'><p>Before producing messages, you need to register the schema with the Schema Registry.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBjb25mbHVlbnRfa2Fma2EgaW1wb3J0IGF2cm8KZnJvbSBjb25mbHVlbnRfa2Fma2EuYXZybyBpbXBvcnQgQXZyb1Byb2R1Y2VyCgpzY2hlbWFfcmVnaXN0cnlfdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MScKCnZhbHVlX3NjaGVtYV9zdHIgPSAiIiIKewogICAibmFtZXNwYWNlIjogImV4YW1wbGUuYXZybyIsCiAgICJ0eXBlIjogInJlY29yZCIsCiAgICJuYW1lIjogIlVzZXIiLAogICAiZmllbGRzIjogWwogICAgICAgeyJuYW1lIjogIm5hbWUiLCAidHlwZSI6ICJzdHJpbmcifSwKICAgICAgIHsibmFtZSI6ICJhZ2UiLCAidHlwZSI6ICJpbnQifQogICBdCn0KIiIiCgp2YWx1ZV9zY2hlbWEgPSBhdnJvLmxvYWRzKHZhbHVlX3NjaGVtYV9zdHIpCgphdnJvX3Byb2R1Y2VyID0gQXZyb1Byb2R1Y2VyKHsKICAgICdib290c3RyYXAuc2VydmVycyc6ICdsb2NhbGhvc3Q6OTA5MicsCiAgICAnc2NoZW1hLnJlZ2lzdHJ5LnVybCc6IHNjaGVtYV9yZWdpc3RyeV91cmwKfSwgZGVmYXVsdF92YWx1ZV9zY2hlbWE9dmFsdWVfc2NoZW1hKQoKYXZyb19wcm9kdWNlci5wcm9kdWNlKHRvcGljPSd1c2VycycsIHZhbHVlPXsnbmFtZSc6ICdKb2huJywgJ2FnZSc6IDMwfSkKYXZyb19wcm9kdWNlci5mbHVzaCgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from confluent_kafka import avro
from confluent_kafka.avro import AvroProducer

schema_registry_url = 'http://localhost:8081'

value_schema_str = &quot;&quot;&quot;
{
   &quot;namespace&quot;: &quot;example.avro&quot;,
   &quot;type&quot;: &quot;record&quot;,
   &quot;name&quot;: &quot;User&quot;,
   &quot;fields&quot;: [
       {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},
       {&quot;name&quot;: &quot;age&quot;, &quot;type&quot;: &quot;int&quot;}
   ]
}
&quot;&quot;&quot;

value_schema = avro.loads(value_schema_str)

avro_producer = AvroProducer({
    'bootstrap.servers': 'localhost:9092',
    'schema.registry.url': schema_registry_url
}, default_value_schema=value_schema)

avro_producer.produce(topic='users', value={'name': 'John', 'age': 30})
avro_producer.flush()</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>Schema Definition</strong>: The schema is defined in Avro format.</li>
<li><strong>AvroProducer</strong>: The <code>AvroProducer</code> class is used to produce messages with Avro serialization.</li>
<li><strong>Schema Registration</strong>: The schema is automatically registered with the Schema Registry when the message is produced.</li>
</ul>
</div><h2><ol start="4">
<li>Using Schema Registry with Kafka Consumers</li>
</ol></h2>
<div class='content'></div><h3>Consuming Messages with Schema Registry</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBjb25mbHVlbnRfa2Fma2EgaW1wb3J0IGF2cm8KZnJvbSBjb25mbHVlbnRfa2Fma2EuYXZybyBpbXBvcnQgQXZyb0NvbnN1bWVyCgpzY2hlbWFfcmVnaXN0cnlfdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MScKCmF2cm9fY29uc3VtZXIgPSBBdnJvQ29uc3VtZXIoewogICAgJ2Jvb3RzdHJhcC5zZXJ2ZXJzJzogJ2xvY2FsaG9zdDo5MDkyJywKICAgICdncm91cC5pZCc6ICd1c2VyLWNvbnN1bWVycycsCiAgICAnc2NoZW1hLnJlZ2lzdHJ5LnVybCc6IHNjaGVtYV9yZWdpc3RyeV91cmwKfSkKCmF2cm9fY29uc3VtZXIuc3Vic2NyaWJlKFsndXNlcnMnXSkKCndoaWxlIFRydWU6CiAgICBtc2cgPSBhdnJvX2NvbnN1bWVyLnBvbGwoMTApCiAgICBpZiBtc2c6CiAgICAgICAgcHJpbnQoZiJSZWNlaXZlZCBtZXNzYWdlOiB7bXNnLnZhbHVlKCl9IikKICAgIGF2cm9fY29uc3VtZXIuY29tbWl0KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from confluent_kafka import avro
from confluent_kafka.avro import AvroConsumer

schema_registry_url = 'http://localhost:8081'

avro_consumer = AvroConsumer({
    'bootstrap.servers': 'localhost:9092',
    'group.id': 'user-consumers',
    'schema.registry.url': schema_registry_url
})

avro_consumer.subscribe(['users'])

while True:
    msg = avro_consumer.poll(10)
    if msg:
        print(f&quot;Received message: {msg.value()}&quot;)
    avro_consumer.commit()</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>AvroConsumer</strong>: The <code>AvroConsumer</code> class is used to consume messages with Avro deserialization.</li>
<li><strong>Schema Deserialization</strong>: The schema is fetched from the Schema Registry to deserialize the message.</li>
</ul>
</div><h2><ol start="5">
<li>Schema Evolution and Compatibility</li>
</ol></h2>
<div class='content'></div><h3>Schema Evolution</h3>
<div class='content'><p>Schema evolution allows you to update the schema over time. For example, you might add a new field to the schema.</p>
</div><h3>Compatibility Types</h3>
<div class='content'><ul>
<li><strong>Backward Compatibility</strong>: New schema can read data written by the old schema.</li>
<li><strong>Forward Compatibility</strong>: Old schema can read data written by the new schema.</li>
<li><strong>Full Compatibility</strong>: Both backward and forward compatibility.</li>
</ul>
</div><h3>Example of Schema Evolution</h3>
<div class='content'><p>Original Schema:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICAibmFtZXNwYWNlIjogImV4YW1wbGUuYXZybyIsCiAgICJ0eXBlIjogInJlY29yZCIsCiAgICJuYW1lIjogIlVzZXIiLAogICAiZmllbGRzIjogWwogICAgICAgeyJuYW1lIjogIm5hbWUiLCAidHlwZSI6ICJzdHJpbmcifSwKICAgICAgIHsibmFtZSI6ICJhZ2UiLCAidHlwZSI6ICJpbnQifQogICBdCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
   &quot;namespace&quot;: &quot;example.avro&quot;,
   &quot;type&quot;: &quot;record&quot;,
   &quot;name&quot;: &quot;User&quot;,
   &quot;fields&quot;: [
       {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},
       {&quot;name&quot;: &quot;age&quot;, &quot;type&quot;: &quot;int&quot;}
   ]
}</pre></div><div class='content'><p>Updated Schema:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICAibmFtZXNwYWNlIjogImV4YW1wbGUuYXZybyIsCiAgICJ0eXBlIjogInJlY29yZCIsCiAgICJuYW1lIjogIlVzZXIiLAogICAiZmllbGRzIjogWwogICAgICAgeyJuYW1lIjogIm5hbWUiLCAidHlwZSI6ICJzdHJpbmcifSwKICAgICAgIHsibmFtZSI6ICJhZ2UiLCAidHlwZSI6ICJpbnQifSwKICAgICAgIHsibmFtZSI6ICJlbWFpbCIsICJ0eXBlIjogWyJudWxsIiwgInN0cmluZyJdLCAiZGVmYXVsdCI6IG51bGx9CiAgIF0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
   &quot;namespace&quot;: &quot;example.avro&quot;,
   &quot;type&quot;: &quot;record&quot;,
   &quot;name&quot;: &quot;User&quot;,
   &quot;fields&quot;: [
       {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},
       {&quot;name&quot;: &quot;age&quot;, &quot;type&quot;: &quot;int&quot;},
       {&quot;name&quot;: &quot;email&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;default&quot;: null}
   ]
}</pre></div><div class='content'></div><h2><ol start="6">
<li>Practical Exercises</li>
</ol></h2>
<div class='content'></div><h3>Exercise 1: Register a New Schema</h3>
<div class='content'><ol>
<li>Define a new Avro schema for a <code>Product</code> record with fields <code>id</code> (int), <code>name</code> (string), and <code>price</code> (float).</li>
<li>Register the schema with the Schema Registry.</li>
<li>Produce a message using the new schema.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBjb25mbHVlbnRfa2Fma2EgaW1wb3J0IGF2cm8KZnJvbSBjb25mbHVlbnRfa2Fma2EuYXZybyBpbXBvcnQgQXZyb1Byb2R1Y2VyCgpzY2hlbWFfcmVnaXN0cnlfdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MScKCnZhbHVlX3NjaGVtYV9zdHIgPSAiIiIKewogICAibmFtZXNwYWNlIjogImV4YW1wbGUuYXZybyIsCiAgICJ0eXBlIjogInJlY29yZCIsCiAgICJuYW1lIjogIlByb2R1Y3QiLAogICAiZmllbGRzIjogWwogICAgICAgeyJuYW1lIjogImlkIiwgInR5cGUiOiAiaW50In0sCiAgICAgICB7Im5hbWUiOiAibmFtZSIsICJ0eXBlIjogInN0cmluZyJ9LAogICAgICAgeyJuYW1lIjogInByaWNlIiwgInR5cGUiOiAiZmxvYXQifQogICBdCn0KIiIiCgp2YWx1ZV9zY2hlbWEgPSBhdnJvLmxvYWRzKHZhbHVlX3NjaGVtYV9zdHIpCgphdnJvX3Byb2R1Y2VyID0gQXZyb1Byb2R1Y2VyKHsKICAgICdib290c3RyYXAuc2VydmVycyc6ICdsb2NhbGhvc3Q6OTA5MicsCiAgICAnc2NoZW1hLnJlZ2lzdHJ5LnVybCc6IHNjaGVtYV9yZWdpc3RyeV91cmwKfSwgZGVmYXVsdF92YWx1ZV9zY2hlbWE9dmFsdWVfc2NoZW1hKQoKYXZyb19wcm9kdWNlci5wcm9kdWNlKHRvcGljPSdwcm9kdWN0cycsIHZhbHVlPXsnaWQnOiAxLCAnbmFtZSc6ICdMYXB0b3AnLCAncHJpY2UnOiA5OTkuOTl9KQphdnJvX3Byb2R1Y2VyLmZsdXNoKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from confluent_kafka import avro
from confluent_kafka.avro import AvroProducer

schema_registry_url = 'http://localhost:8081'

value_schema_str = &quot;&quot;&quot;
{
   &quot;namespace&quot;: &quot;example.avro&quot;,
   &quot;type&quot;: &quot;record&quot;,
   &quot;name&quot;: &quot;Product&quot;,
   &quot;fields&quot;: [
       {&quot;name&quot;: &quot;id&quot;, &quot;type&quot;: &quot;int&quot;},
       {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},
       {&quot;name&quot;: &quot;price&quot;, &quot;type&quot;: &quot;float&quot;}
   ]
}
&quot;&quot;&quot;

value_schema = avro.loads(value_schema_str)

avro_producer = AvroProducer({
    'bootstrap.servers': 'localhost:9092',
    'schema.registry.url': schema_registry_url
}, default_value_schema=value_schema)

avro_producer.produce(topic='products', value={'id': 1, 'name': 'Laptop', 'price': 999.99})
avro_producer.flush()</pre></div><div class='content'></div><h3>Exercise 2: Consume Messages with Schema Registry</h3>
<div class='content'><ol>
<li>Consume messages from the <code>products</code> topic.</li>
<li>Print the consumed messages to the console.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBjb25mbHVlbnRfa2Fma2EgaW1wb3J0IGF2cm8KZnJvbSBjb25mbHVlbnRfa2Fma2EuYXZybyBpbXBvcnQgQXZyb0NvbnN1bWVyCgpzY2hlbWFfcmVnaXN0cnlfdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MScKCmF2cm9fY29uc3VtZXIgPSBBdnJvQ29uc3VtZXIoewogICAgJ2Jvb3RzdHJhcC5zZXJ2ZXJzJzogJ2xvY2FsaG9zdDo5MDkyJywKICAgICdncm91cC5pZCc6ICdwcm9kdWN0LWNvbnN1bWVycycsCiAgICAnc2NoZW1hLnJlZ2lzdHJ5LnVybCc6IHNjaGVtYV9yZWdpc3RyeV91cmwKfSkKCmF2cm9fY29uc3VtZXIuc3Vic2NyaWJlKFsncHJvZHVjdHMnXSkKCndoaWxlIFRydWU6CiAgICBtc2cgPSBhdnJvX2NvbnN1bWVyLnBvbGwoMTApCiAgICBpZiBtc2c6CiAgICAgICAgcHJpbnQoZiJSZWNlaXZlZCBtZXNzYWdlOiB7bXNnLnZhbHVlKCl9IikKICAgIGF2cm9fY29uc3VtZXIuY29tbWl0KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from confluent_kafka import avro
from confluent_kafka.avro import AvroConsumer

schema_registry_url = 'http://localhost:8081'

avro_consumer = AvroConsumer({
    'bootstrap.servers': 'localhost:9092',
    'group.id': 'product-consumers',
    'schema.registry.url': schema_registry_url
})

avro_consumer.subscribe(['products'])

while True:
    msg = avro_consumer.poll(10)
    if msg:
        print(f&quot;Received message: {msg.value()}&quot;)
    avro_consumer.commit()</pre></div><div class='content'></div><h2>Conclusion</h2>
<div class='content'><p>In this module, we covered the Kafka Schema Registry, its setup, and how to use it with Kafka producers and consumers. We also discussed schema evolution and compatibility, which are crucial for maintaining data consistency over time. The practical exercises provided hands-on experience with registering schemas and consuming messages using the Schema Registry.</p>
<p>Next, we will delve into more advanced topics in Kafka, such as performance tuning and multi-data center setups.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-02-kafka-multi-data-center' title="Kafka in a Multi-Data Center Setup" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-02-kafka-multi-data-center' title="Kafka in a Multi-Data Center Setup" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary"
				data-read-mod="kafka" data-read-unit="5-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-04-kafka-streams-advanced' title="Kafka Streams Advanced" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kafka" data-read-unit="5-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Kafka Course</h1>
<h2>Module 1: Introduction to Kafka</h2>
<ul>
<li><a href="01-01-what-is-kafka">What is Kafka?</a></li>
<li><a href="01-02-kafka-use-cases">Kafka Use Cases</a></li>
<li><a href="01-03-kafka-architecture-overview">Kafka Architecture Overview</a></li>
<li><a href="01-04-setting-up-kafka">Setting Up Kafka</a></li>
</ul>
<h2>Module 2: Kafka Core Concepts</h2>
<ul>
<li><a href="02-01-producers-and-consumers">Producers and Consumers</a></li>
<li><a href="02-02-topics-and-partitions">Topics and Partitions</a></li>
<li><a href="02-03-brokers-and-clusters">Brokers and Clusters</a></li>
<li><a href="02-04-messages-and-offsets">Messages and Offsets</a></li>
</ul>
<h2>Module 3: Kafka Operations</h2>
<ul>
<li><a href="03-01-producing-messages">Producing Messages</a></li>
<li><a href="03-02-consuming-messages">Consuming Messages</a></li>
<li><a href="03-03-kafka-connect">Kafka Connect</a></li>
<li><a href="03-04-kafka-streams">Kafka Streams</a></li>
</ul>
<h2>Module 4: Kafka Configuration and Management</h2>
<ul>
<li><a href="04-01-configuring-kafka">Configuring Kafka</a></li>
<li><a href="04-02-managing-kafka-topics">Managing Kafka Topics</a></li>
<li><a href="04-03-monitoring-kafka">Monitoring Kafka</a></li>
<li><a href="04-04-kafka-security">Kafka Security</a></li>
</ul>
<h2>Module 5: Advanced Kafka Topics</h2>
<ul>
<li><a href="05-01-kafka-performance-tuning">Kafka Performance Tuning</a></li>
<li><a href="05-02-kafka-multi-data-center">Kafka in a Multi-Data Center Setup</a></li>
<li><a href="05-03-kafka-schema-registry">Kafka with Schema Registry</a></li>
<li><a href="05-04-kafka-streams-advanced">Kafka Streams Advanced</a></li>
</ul>
<h2>Module 6: Kafka Ecosystem and Integrations</h2>
<ul>
<li><a href="06-01-kafka-hadoop">Kafka with Hadoop</a></li>
<li><a href="06-02-kafka-spark">Kafka with Spark</a></li>
<li><a href="06-03-kafka-flink">Kafka with Flink</a></li>
<li><a href="06-04-kafka-elasticsearch">Kafka with Elasticsearch</a></li>
</ul>
<h2>Module 7: Kafka Case Studies and Best Practices</h2>
<ul>
<li><a href="07-01-real-world-kafka-use-cases">Real-World Kafka Use Cases</a></li>
<li><a href="07-02-kafka-best-practices">Kafka Best Practices</a></li>
<li><a href="07-03-common-kafka-pitfalls">Common Kafka Pitfalls</a></li>
<li><a href="07-04-future-of-kafka">Future of Kafka</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
