<!DOCTYPE html>
<html lang="en">
<head>
    <title> Monitoring and Logging </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/microservicios/06-01-monitoreo-logging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/microserveis/06-01-monitoreo-logging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/microservices/06-01-monitoring-logging" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "microservicios";
  		var TEMA_NAME = "6-1";
  		var TYPE = "mod";
  		var PATH = "mod/microservicios/06-01-monitoring-logging";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/microservicios/06-01-monitoreo-logging" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/microserveis/06-01-monitoreo-logging" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="microservicios">
		<a  href="#" class="text-secondary d-none" data-read-mod="microservicios" data-read-unit="6-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="microservicios" data-unread-unit="6-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Monitoring and Logging</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-02-error-management' title="Error Management and Recovery" class="py-2 px-3 btn btn-primary"
				data-read-mod="microservicios" data-read-unit="6-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-02-error-management' title="Error Management and Recovery" class="py-2 px-3 btn btn-primary" 
				data-read-mod="microservicios" data-read-unit="6-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Monitoring and logging are critical components in maintaining the health, performance, and security of microservices. This section will cover the essential concepts, tools, and best practices for implementing effective monitoring and logging strategies in a microservices architecture.</p>
</div><h2>Key Concepts</h2>
<div class='content'></div><h3>Monitoring</h3>
<div class='content'><p>Monitoring involves continuously collecting, analyzing, and visualizing data from your microservices to ensure they are running smoothly. Key aspects include:</p>
<ul>
<li><strong>Metrics</strong>: Quantitative data points such as CPU usage, memory consumption, request rates, and error rates.</li>
<li><strong>Alerts</strong>: Notifications triggered when metrics exceed predefined thresholds.</li>
<li><strong>Dashboards</strong>: Visual representations of metrics to provide insights into the system's health.</li>
</ul>
</div><h3>Logging</h3>
<div class='content'><p>Logging involves recording information about the system's operation, which can be used for debugging, auditing, and analyzing the behavior of microservices. Key aspects include:</p>
<ul>
<li><strong>Log Levels</strong>: Different levels of log severity (e.g., DEBUG, INFO, WARN, ERROR).</li>
<li><strong>Structured Logging</strong>: Logs that are formatted in a consistent, machine-readable way (e.g., JSON).</li>
<li><strong>Log Aggregation</strong>: Centralizing logs from multiple services for easier analysis.</li>
</ul>
</div><h2>Tools and Technologies</h2>
<div class='content'></div><h3>Monitoring Tools</h3>
<div class='content'><ul>
<li><strong>Prometheus</strong>: An open-source monitoring and alerting toolkit designed for reliability and scalability.</li>
<li><strong>Grafana</strong>: A powerful visualization tool that integrates with Prometheus to create interactive dashboards.</li>
<li><strong>Datadog</strong>: A monitoring and analytics platform for cloud-scale applications.</li>
</ul>
</div><h3>Logging Tools</h3>
<div class='content'><ul>
<li><strong>ELK Stack (Elasticsearch, Logstash, Kibana)</strong>: A popular stack for searching, analyzing, and visualizing log data.</li>
<li><strong>Fluentd</strong>: An open-source data collector for unified logging.</li>
<li><strong>Graylog</strong>: A powerful log management tool that provides real-time search and analysis.</li>
</ul>
</div><h2>Practical Example: Setting Up Monitoring and Logging</h2>
<div class='content'></div><h3>Step 1: Setting Up Prometheus and Grafana</h3>
<div class='content'><ol>
<li>
<p><strong>Install Prometheus</strong>:</p>
<pre><code class="language-bash">docker run -d --name=prometheus -p 9090:9090 prom/prometheus
</code></pre>
</li>
<li>
<p><strong>Configure Prometheus</strong>:
Create a <code>prometheus.yml</code> configuration file:</p>
<pre><code class="language-yaml">global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'microservices'
    static_configs:
      - targets: ['localhost:8080']
</code></pre>
</li>
<li>
<p><strong>Install Grafana</strong>:</p>
<pre><code class="language-bash">docker run -d --name=grafana -p 3000:3000 grafana/grafana
</code></pre>
</li>
<li>
<p><strong>Configure Grafana</strong>:</p>
<ul>
<li>Access Grafana at <code>http://localhost:3000</code>.</li>
<li>Add Prometheus as a data source.</li>
<li>Create dashboards to visualize metrics.</li>
</ul>
</li>
</ol>
</div><h3>Step 2: Setting Up ELK Stack for Logging</h3>
<div class='content'><ol>
<li>
<p><strong>Install Elasticsearch</strong>:</p>
<pre><code class="language-bash">docker run -d --name=elasticsearch -p 9200:9200 -e &quot;discovery.type=single-node&quot; elasticsearch:7.10.1
</code></pre>
</li>
<li>
<p><strong>Install Logstash</strong>:</p>
<pre><code class="language-bash">docker run -d --name=logstash -p 5044:5044 -v $(pwd)/logstash.conf:/usr/share/logstash/pipeline/logstash.conf logstash:7.10.1
</code></pre>
<p>Example <code>logstash.conf</code>:</p>
<pre><code class="language-plaintext">input {
  beats {
    port =&gt; 5044
  }
}

output {
  elasticsearch {
    hosts =&gt; [&quot;http://elasticsearch:9200&quot;]
    index =&gt; &quot;microservices-logs-%{+YYYY.MM.dd}&quot;
  }
}
</code></pre>
</li>
<li>
<p><strong>Install Kibana</strong>:</p>
<pre><code class="language-bash">docker run -d --name=kibana -p 5601:5601 --link elasticsearch:elasticsearch kibana:7.10.1
</code></pre>
</li>
<li>
<p><strong>Configure Kibana</strong>:</p>
<ul>
<li>Access Kibana at <code>http://localhost:5601</code>.</li>
<li>Set up index patterns to visualize logs.</li>
</ul>
</li>
</ol>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Implement Monitoring and Logging for a Sample Microservice</h3>
<div class='content'><ol>
<li>
<p><strong>Create a Sample Microservice</strong>:</p>
<pre><code class="language-python"># app.py
from flask import Flask
import logging

app = Flask(__name__)

logging.basicConfig(level=logging.INFO)

@app.route('/')
def hello_world():
    app.logger.info('Hello World endpoint was reached')
    return 'Hello, World!'

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8080)
</code></pre>
</li>
<li>
<p><strong>Dockerize the Microservice</strong>:</p>
<pre><code class="language-dockerfile"># Dockerfile
FROM python:3.8-slim

WORKDIR /app

COPY app.py /app

RUN pip install flask

CMD [&quot;python&quot;, &quot;app.py&quot;]
</code></pre>
</li>
<li>
<p><strong>Run the Microservice</strong>:</p>
<pre><code class="language-bash">docker build -t sample-microservice .
docker run -d --name=sample-microservice -p 8080:8080 sample-microservice
</code></pre>
</li>
<li>
<p><strong>Integrate with Prometheus and ELK Stack</strong>:</p>
<ul>
<li>Ensure Prometheus is scraping metrics from the microservice.</li>
<li>Configure Logstash to collect logs from the microservice.</li>
</ul>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><ul>
<li>
<p><strong>Prometheus Configuration</strong>:</p>
<pre><code class="language-yaml">scrape_configs:
  - job_name: 'sample-microservice'
    static_configs:
      - targets: ['localhost:8080']
</code></pre>
</li>
<li>
<p><strong>Logstash Configuration</strong>:</p>
<pre><code class="language-plaintext">input {
  file {
    path =&gt; &quot;/var/log/sample-microservice.log&quot;
    start_position =&gt; &quot;beginning&quot;
  }
}

output {
  elasticsearch {
    hosts =&gt; [&quot;http://elasticsearch:9200&quot;]
    index =&gt; &quot;sample-microservice-logs-%{+YYYY.MM.dd}&quot;
  }
}
</code></pre>
</li>
</ul>
</div><h2>Summary</h2>
<div class='content'><p>In this section, we covered the importance of monitoring and logging in a microservices architecture. We discussed key concepts, tools, and technologies, and provided a practical example of setting up monitoring with Prometheus and Grafana, and logging with the ELK stack. By implementing these practices, you can ensure the health, performance, and security of your microservices.</p>
<p>Next, we will delve into error management and recovery strategies to handle failures gracefully in a microservices environment.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-02-error-management' title="Error Management and Recovery" class="py-2 px-3 btn btn-primary"
				data-read-mod="microservicios" data-read-unit="6-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-02-error-management' title="Error Management and Recovery" class="py-2 px-3 btn btn-primary" 
				data-read-mod="microservicios" data-read-unit="6-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Microservices Course</h1>
<h2>Module 1: Introduction to Microservices</h2>
<ul>
<li><a href="01-01-basic-concepts">Basic Concepts of Microservices</a></li>
<li><a href="01-02-advantages-disadvantages">Advantages and Disadvantages of Microservices</a></li>
<li><a href="01-03-comparison-monolithic">Comparison with Monolithic Architecture</a></li>
</ul>
<h2>Module 2: Microservices Design</h2>
<ul>
<li><a href="02-01-design-principles">Microservices Design Principles</a></li>
<li><a href="02-02-decomposition-monolithic">Decomposition of Monolithic Applications</a></li>
<li><a href="02-03-bounded-contexts">Definition of Bounded Contexts</a></li>
</ul>
<h2>Module 3: Communication between Microservices</h2>
<ul>
<li><a href="03-01-restful-apis">RESTful APIs</a></li>
<li><a href="03-02-asynchronous-messaging">Asynchronous Messaging</a></li>
<li><a href="03-03-communication-protocols">Communication Protocols: gRPC, GraphQL</a></li>
</ul>
<h2>Module 4: Microservices Implementation</h2>
<ul>
<li><a href="04-01-choice-technologies">Choice of Technologies and Tools</a></li>
<li><a href="04-02-development-microservice">Development of a Simple Microservice</a></li>
<li><a href="04-03-configuration-management">Configuration Management</a></li>
</ul>
<h2>Module 5: Deployment and Orchestration</h2>
<ul>
<li><a href="05-01-containers-docker">Containers and Docker</a></li>
<li><a href="05-02-orchestration-kubernetes">Orchestration with Kubernetes</a></li>
<li><a href="05-03-cicd-microservices">CI/CD for Microservices</a></li>
</ul>
<h2>Module 6: Monitoring and Maintenance</h2>
<ul>
<li><a href="06-01-monitoring-logging">Monitoring and Logging</a></li>
<li><a href="06-02-error-management">Error Management and Recovery</a></li>
<li><a href="06-03-scalability-performance">Scalability and Performance</a></li>
</ul>
<h2>Module 7: Security in Microservices</h2>
<ul>
<li><a href="07-01-authentication-authorization">Authentication and Authorization</a></li>
<li><a href="07-02-security-communication">Security in Communication</a></li>
<li><a href="07-03-security-practices">Security Practices</a></li>
</ul>
<h2>Module 8: Case Studies and Practical Examples</h2>
<ul>
<li><a href="08-01-case-study-migration">Case Study: Migration from Monolith to Microservices</a></li>
<li><a href="08-02-practical-example">Practical Example: Complete Implementation</a></li>
<li><a href="08-03-lessons-learned">Lessons Learned and Best Practices</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
