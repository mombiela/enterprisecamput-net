<!DOCTYPE html>
<html lang="en">
<head>
    <title> Orchestration with Kubernetes </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/microservicios/05-02-orquestacion-kubernetes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/microserveis/05-02-orquestacion-kubernetes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/microservices/05-02-orchestration-kubernetes" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "microservicios";
  		var TEMA_NAME = "5-2";
  		var TYPE = "mod";
  		var PATH = "mod/microservicios/05-02-orchestration-kubernetes";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/microservicios/05-02-orquestacion-kubernetes" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/microserveis/05-02-orquestacion-kubernetes" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="microservicios">
		<a  href="#" class="text-secondary d-none" data-read-mod="microservicios" data-read-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="microservicios" data-unread-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-containers-docker' title="Containers and Docker" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-containers-docker' title="Containers and Docker" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Orchestration with Kubernetes</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary"
				data-read-mod="microservicios" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary" 
				data-read-mod="microservicios" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introduction</h2>
<div class='content'><p>Kubernetes, often abbreviated as K8s, is an open-source platform designed to automate deploying, scaling, and operating application containers. It groups containers that make up an application into logical units for easy management and discovery. Kubernetes is widely used for orchestrating microservices due to its robust features and scalability.</p>
</div><h2>Key Concepts of Kubernetes</h2>
<div class='content'></div><h3><ol>
<li><strong>Cluster</strong></li>
</ol></h3>
<div class='content'><p>A Kubernetes cluster consists of a set of worker machines, called nodes, that run containerized applications. Every cluster has at least one worker node.</p>
</div><h3><ol start="2">
<li><strong>Node</strong></li>
</ol></h3>
<div class='content'><p>A node is a worker machine in Kubernetes, which can be a virtual or a physical machine, depending on the cluster. Each node contains the necessary services to run pods and is managed by the master components.</p>
</div><h3><ol start="3">
<li><strong>Pod</strong></li>
</ol></h3>
<div class='content'><p>A pod is the smallest and simplest Kubernetes object. It represents a single instance of a running process in your cluster. Pods contain one or more containers, such as Docker containers.</p>
</div><h3><ol start="4">
<li><strong>Service</strong></li>
</ol></h3>
<div class='content'><p>A Kubernetes service is an abstraction which defines a logical set of pods and a policy by which to access them. Services enable loose coupling between dependent pods.</p>
</div><h3><ol start="5">
<li><strong>Deployment</strong></li>
</ol></h3>
<div class='content'><p>A deployment provides declarative updates to applications. You describe a desired state in a deployment object, and the deployment controller changes the actual state to the desired state at a controlled rate.</p>
</div><h3><ol start="6">
<li><strong>Namespace</strong></li>
</ol></h3>
<div class='content'><p>Namespaces provide a mechanism for isolating groups of resources within a single cluster. They are intended for use in environments with many users spread across multiple teams or projects.</p>
</div><h2>Setting Up Kubernetes</h2>
<div class='content'></div><h3>Prerequisites</h3>
<div class='content'><ul>
<li>Basic understanding of Docker and containerization.</li>
<li>A working Docker installation.</li>
<li>kubectl command-line tool installed.</li>
</ul>
</div><h3>Minikube Installation</h3>
<div class='content'><p>Minikube is a tool that makes it easy to run Kubernetes locally. It runs a single-node Kubernetes cluster inside a VM on your laptop.</p>
<ol>
<li>
<p><strong>Install Minikube:</strong></p>
<pre><code class="language-bash">curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube
</code></pre>
</li>
<li>
<p><strong>Start Minikube:</strong></p>
<pre><code class="language-bash">minikube start
</code></pre>
</li>
<li>
<p><strong>Verify Installation:</strong></p>
<pre><code class="language-bash">kubectl get nodes
</code></pre>
</li>
</ol>
</div><h2>Deploying a Microservice on Kubernetes</h2>
<div class='content'></div><h3>Step 1: Create a Deployment</h3>
<div class='content'><p>A deployment ensures that a specified number of pod replicas are running at any one time.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBkZXBsb3ltZW50LnlhbWwKYXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IG15LW1pY3Jvc2VydmljZQpzcGVjOgogIHJlcGxpY2FzOiAzCiAgc2VsZWN0b3I6CiAgICBtYXRjaExhYmVsczoKICAgICAgYXBwOiBteS1taWNyb3NlcnZpY2UKICB0ZW1wbGF0ZToKICAgIG1ldGFkYXRhOgogICAgICBsYWJlbHM6CiAgICAgICAgYXBwOiBteS1taWNyb3NlcnZpY2UKICAgIHNwZWM6CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogbXktbWljcm9zZXJ2aWNlCiAgICAgICAgaW1hZ2U6IG15LW1pY3Jvc2VydmljZS1pbWFnZTpsYXRlc3QKICAgICAgICBwb3J0czoKICAgICAgICAtIGNvbnRhaW5lclBvcnQ6IDgwODA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-microservice
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-microservice
  template:
    metadata:
      labels:
        app: my-microservice
    spec:
      containers:
      - name: my-microservice
        image: my-microservice-image:latest
        ports:
        - containerPort: 8080</pre></div><div class='content'><p>Apply the deployment:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBkZXBsb3ltZW50LnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f deployment.yaml</pre></div><div class='content'></div><h3>Step 2: Expose the Deployment</h3>
<div class='content'><p>Create a service to expose the deployment.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJ2aWNlLnlhbWwKYXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1taWNyb3NlcnZpY2UKc3BlYzoKICBzZWxlY3RvcjoKICAgIGFwcDogbXktbWljcm9zZXJ2aWNlCiAgcG9ydHM6CiAgICAtIHByb3RvY29sOiBUQ1AKICAgICAgcG9ydDogODAKICAgICAgdGFyZ2V0UG9ydDogODA4MAogIHR5cGU6IExvYWRCYWxhbmNlcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-microservice
spec:
  selector:
    app: my-microservice
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
  type: LoadBalancer</pre></div><div class='content'><p>Apply the service:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBzZXJ2aWNlLnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f service.yaml</pre></div><div class='content'></div><h3>Step 3: Verify the Deployment</h3>
<div class='content'><p>Check the status of the pods and services.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBnZXQgcG9kcwprdWJlY3RsIGdldCBzZXJ2aWNlcw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl get pods
kubectl get services</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Deploy a Sample Microservice</h3>
<div class='content'><ol>
<li>
<p><strong>Create a Docker Image:</strong>
Create a simple Node.js application and Dockerize it.</p>
<pre><code class="language-javascript">// app.js
const express = require('express');
const app = express();
const port = 8080;

app.get('/', (req, res) =&gt; {
  res.send('Hello, Kubernetes!');
});

app.listen(port, () =&gt; {
  console.log(`App running on port ${port}`);
});
</code></pre>
<pre><code class="language-dockerfile"># Dockerfile
FROM node:14
WORKDIR /app
COPY . .
RUN npm install
EXPOSE 8080
CMD [&quot;node&quot;, &quot;app.js&quot;]
</code></pre>
<p>Build and push the Docker image:</p>
<pre><code class="language-bash">docker build -t my-microservice-image:latest .
docker tag my-microservice-image:latest &lt;your-dockerhub-username&gt;/my-microservice-image:latest
docker push &lt;your-dockerhub-username&gt;/my-microservice-image:latest
</code></pre>
</li>
<li>
<p><strong>Deploy on Kubernetes:</strong>
Use the previously defined <code>deployment.yaml</code> and <code>service.yaml</code> files to deploy your microservice.</p>
</li>
<li>
<p><strong>Access the Service:</strong>
Use <code>minikube service my-microservice</code> to get the URL of the service and access it in your browser.</p>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdGVwLWJ5LXN0ZXAgc29sdXRpb24Ka3ViZWN0bCBhcHBseSAtZiBkZXBsb3ltZW50LnlhbWwKa3ViZWN0bCBhcHBseSAtZiBzZXJ2aWNlLnlhbWwKbWluaWt1YmUgc2VydmljZSBteS1taWNyb3NlcnZpY2U="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Step-by-step solution
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
minikube service my-microservice</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Incorrect Image Name:</strong> Ensure the Docker image name in the deployment file matches the image you pushed to Docker Hub.</li>
<li><strong>Port Mismatch:</strong> Verify that the container port in the deployment file matches the port exposed by your application.</li>
<li><strong>Resource Limits:</strong> Set resource requests and limits in your deployment to avoid overloading nodes.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we covered the basics of Kubernetes and how to use it for orchestrating microservices. We learned about key concepts like clusters, nodes, pods, services, and deployments. We also walked through the process of setting up a Kubernetes cluster using Minikube and deploying a simple microservice. By understanding these concepts and practices, you are now equipped to manage and scale your microservices effectively using Kubernetes.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-containers-docker' title="Containers and Docker" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-containers-docker' title="Containers and Docker" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary"
				data-read-mod="microservicios" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-cicd-microservices' title="CI/CD for Microservices" class="py-2 px-3 btn btn-primary" 
				data-read-mod="microservicios" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Microservices Course</h1>
<h2>Module 1: Introduction to Microservices</h2>
<ul>
<li><a href="01-01-basic-concepts">Basic Concepts of Microservices</a></li>
<li><a href="01-02-advantages-disadvantages">Advantages and Disadvantages of Microservices</a></li>
<li><a href="01-03-comparison-monolithic">Comparison with Monolithic Architecture</a></li>
</ul>
<h2>Module 2: Microservices Design</h2>
<ul>
<li><a href="02-01-design-principles">Microservices Design Principles</a></li>
<li><a href="02-02-decomposition-monolithic">Decomposition of Monolithic Applications</a></li>
<li><a href="02-03-bounded-contexts">Definition of Bounded Contexts</a></li>
</ul>
<h2>Module 3: Communication between Microservices</h2>
<ul>
<li><a href="03-01-restful-apis">RESTful APIs</a></li>
<li><a href="03-02-asynchronous-messaging">Asynchronous Messaging</a></li>
<li><a href="03-03-communication-protocols">Communication Protocols: gRPC, GraphQL</a></li>
</ul>
<h2>Module 4: Microservices Implementation</h2>
<ul>
<li><a href="04-01-choice-technologies">Choice of Technologies and Tools</a></li>
<li><a href="04-02-development-microservice">Development of a Simple Microservice</a></li>
<li><a href="04-03-configuration-management">Configuration Management</a></li>
</ul>
<h2>Module 5: Deployment and Orchestration</h2>
<ul>
<li><a href="05-01-containers-docker">Containers and Docker</a></li>
<li><a href="05-02-orchestration-kubernetes">Orchestration with Kubernetes</a></li>
<li><a href="05-03-cicd-microservices">CI/CD for Microservices</a></li>
</ul>
<h2>Module 6: Monitoring and Maintenance</h2>
<ul>
<li><a href="06-01-monitoring-logging">Monitoring and Logging</a></li>
<li><a href="06-02-error-management">Error Management and Recovery</a></li>
<li><a href="06-03-scalability-performance">Scalability and Performance</a></li>
</ul>
<h2>Module 7: Security in Microservices</h2>
<ul>
<li><a href="07-01-authentication-authorization">Authentication and Authorization</a></li>
<li><a href="07-02-security-communication">Security in Communication</a></li>
<li><a href="07-03-security-practices">Security Practices</a></li>
</ul>
<h2>Module 8: Case Studies and Practical Examples</h2>
<ul>
<li><a href="08-01-case-study-migration">Case Study: Migration from Monolith to Microservices</a></li>
<li><a href="08-02-practical-example">Practical Example: Complete Implementation</a></li>
<li><a href="08-03-lessons-learned">Lessons Learned and Best Practices</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
