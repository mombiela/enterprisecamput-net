<!DOCTYPE html>
<html lang="en">
<head>
    <title> Development of a Simple Microservice </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/microservicios/04-02-desarrollo-microservicio" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/microserveis/04-02-desarrollo-microservicio" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/microservices/04-02-development-microservice" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "microservicios";
  		var TEMA_NAME = "4-2";
  		var TYPE = "mod";
  		var PATH = "mod/microservicios/04-02-development-microservice";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/microservicios/04-02-desarrollo-microservicio" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/microserveis/04-02-desarrollo-microservicio" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="microservicios">
		<a  href="#" class="text-secondary d-none" data-read-mod="microservicios" data-read-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="microservicios" data-unread-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-choice-technologies' title="Choice of Technologies and Tools" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-choice-technologies' title="Choice of Technologies and Tools" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Development of a Simple Microservice</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-configuration-management' title="Configuration Management" class="py-2 px-3 btn btn-primary"
				data-read-mod="microservicios" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-configuration-management' title="Configuration Management" class="py-2 px-3 btn btn-primary" 
				data-read-mod="microservicios" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will walk through the development of a simple microservice. We will cover the following steps:</p>
<ol>
<li><strong>Setting Up the Environment</strong></li>
<li><strong>Creating the Microservice</strong></li>
<li><strong>Implementing RESTful Endpoints</strong></li>
<li><strong>Testing the Microservice</strong></li>
<li><strong>Deploying the Microservice</strong></li>
</ol>
</div><h2><ol>
<li>Setting Up the Environment</li>
</ol></h2>
<div class='content'><p>Before we start coding, we need to set up our development environment. For this example, we will use Node.js and Express.js to build our microservice. Ensure you have the following installed:</p>
<ul>
<li>Node.js (v14 or later)</li>
<li>npm (Node package manager)</li>
</ul>
</div><h3>Installation Steps</h3>
<div class='content'><ol>
<li><strong>Install Node.js and npm</strong>: Download and install Node.js from <a href="https://nodejs.org/">nodejs.org</a>.</li>
<li><strong>Verify Installation</strong>:
<pre><code class="language-bash">node -v
npm -v
</code></pre>
</li>
</ol>
</div><h2><ol start="2">
<li>Creating the Microservice</li>
</ol></h2>
<div class='content'><p>Let's create a new directory for our microservice and initialize a new Node.js project.</p>
</div><h3>Step-by-Step Guide</h3>
<div class='content'><ol>
<li>
<p><strong>Create a new directory</strong>:</p>
<pre><code class="language-bash">mkdir simple-microservice
cd simple-microservice
</code></pre>
</li>
<li>
<p><strong>Initialize a new Node.js project</strong>:</p>
<pre><code class="language-bash">npm init -y
</code></pre>
</li>
<li>
<p><strong>Install Express.js</strong>:</p>
<pre><code class="language-bash">npm install express
</code></pre>
</li>
<li>
<p><strong>Create the main application file</strong>:</p>
<pre><code class="language-bash">touch index.js
</code></pre>
</li>
</ol>
</div><h2><ol start="3">
<li>Implementing RESTful Endpoints</li>
</ol></h2>
<div class='content'><p>Now, let's implement a simple RESTful API with a few endpoints.</p>
</div><h3>Example Code</h3>
<div class='content'><p>Open <code>index.js</code> and add the following code:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgYXBwID0gZXhwcmVzcygpOwpjb25zdCBwb3J0ID0gMzAwMDsKCi8vIE1pZGRsZXdhcmUgdG8gcGFyc2UgSlNPTiBib2RpZXMKYXBwLnVzZShleHByZXNzLmpzb24oKSk7CgovLyBJbi1tZW1vcnkgZGF0YSBzdG9yZQpsZXQgaXRlbXMgPSBbXTsKCi8vIEdFVCBlbmRwb2ludCB0byByZXRyaWV2ZSBhbGwgaXRlbXMKYXBwLmdldCgnL2l0ZW1zJywgKHJlcSwgcmVzKSA9PiB7CiAgICByZXMuanNvbihpdGVtcyk7Cn0pOwoKLy8gUE9TVCBlbmRwb2ludCB0byBjcmVhdGUgYSBuZXcgaXRlbQphcHAucG9zdCgnL2l0ZW1zJywgKHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCBuZXdJdGVtID0gcmVxLmJvZHk7CiAgICBpdGVtcy5wdXNoKG5ld0l0ZW0pOwogICAgcmVzLnN0YXR1cygyMDEpLmpzb24obmV3SXRlbSk7Cn0pOwoKLy8gR0VUIGVuZHBvaW50IHRvIHJldHJpZXZlIGEgc2luZ2xlIGl0ZW0gYnkgSUQKYXBwLmdldCgnL2l0ZW1zLzppZCcsIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgaXRlbUlkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5pZCwgMTApOwogICAgY29uc3QgaXRlbSA9IGl0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpOwogICAgaWYgKGl0ZW0pIHsKICAgICAgICByZXMuanNvbihpdGVtKTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ0l0ZW0gbm90IGZvdW5kJyk7CiAgICB9Cn0pOwoKLy8gREVMRVRFIGVuZHBvaW50IHRvIGRlbGV0ZSBhbiBpdGVtIGJ5IElECmFwcC5kZWxldGUoJy9pdGVtcy86aWQnLCAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IGl0ZW1JZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMuaWQsIDEwKTsKICAgIGl0ZW1zID0gaXRlbXMuZmlsdGVyKGkgPT4gaS5pZCAhPT0gaXRlbUlkKTsKICAgIHJlcy5zdGF0dXMoMjA0KS5zZW5kKCk7Cn0pOwoKLy8gU3RhcnQgdGhlIHNlcnZlcgphcHAubGlzdGVuKHBvcnQsICgpID0+IHsKICAgIGNvbnNvbGUubG9nKGBNaWNyb3NlcnZpY2UgcnVubmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const express = require('express');
const app = express();
const port = 3000;

// Middleware to parse JSON bodies
app.use(express.json());

// In-memory data store
let items = [];

// GET endpoint to retrieve all items
app.get('/items', (req, res) =&gt; {
    res.json(items);
});

// POST endpoint to create a new item
app.post('/items', (req, res) =&gt; {
    const newItem = req.body;
    items.push(newItem);
    res.status(201).json(newItem);
});

// GET endpoint to retrieve a single item by ID
app.get('/items/:id', (req, res) =&gt; {
    const itemId = parseInt(req.params.id, 10);
    const item = items.find(i =&gt; i.id === itemId);
    if (item) {
        res.json(item);
    } else {
        res.status(404).send('Item not found');
    }
});

// DELETE endpoint to delete an item by ID
app.delete('/items/:id', (req, res) =&gt; {
    const itemId = parseInt(req.params.id, 10);
    items = items.filter(i =&gt; i.id !== itemId);
    res.status(204).send();
});

// Start the server
app.listen(port, () =&gt; {
    console.log(`Microservice running at http://localhost:${port}`);
});</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>Express Setup</strong>: We import Express and create an application instance.</li>
<li><strong>Middleware</strong>: We use <code>express.json()</code> to parse JSON request bodies.</li>
<li><strong>In-Memory Data Store</strong>: We use an array <code>items</code> to store our data.</li>
<li><strong>Endpoints</strong>:
<ul>
<li><code>GET /items</code>: Retrieves all items.</li>
<li><code>POST /items</code>: Creates a new item.</li>
<li><code>GET /items/:id</code>: Retrieves a single item by its ID.</li>
<li><code>DELETE /items/:id</code>: Deletes an item by its ID.</li>
</ul>
</li>
<li><strong>Server</strong>: We start the server on port 3000.</li>
</ul>
</div><h2><ol start="4">
<li>Testing the Microservice</li>
</ol></h2>
<div class='content'><p>We can use tools like Postman or curl to test our microservice.</p>
</div><h3>Example Requests</h3>
<div class='content'><ol>
<li>
<p><strong>Create a new item</strong>:</p>
<pre><code class="language-bash">curl -X POST http://localhost:3000/items -H &quot;Content-Type: application/json&quot; -d '{&quot;id&quot;: 1, &quot;name&quot;: &quot;Item 1&quot;}'
</code></pre>
</li>
<li>
<p><strong>Retrieve all items</strong>:</p>
<pre><code class="language-bash">curl http://localhost:3000/items
</code></pre>
</li>
<li>
<p><strong>Retrieve a single item by ID</strong>:</p>
<pre><code class="language-bash">curl http://localhost:3000/items/1
</code></pre>
</li>
<li>
<p><strong>Delete an item by ID</strong>:</p>
<pre><code class="language-bash">curl -X DELETE http://localhost:3000/items/1
</code></pre>
</li>
</ol>
</div><h2><ol start="5">
<li>Deploying the Microservice</li>
</ol></h2>
<div class='content'><p>For deployment, we can use Docker to containerize our microservice.</p>
</div><h3>Docker Setup</h3>
<div class='content'><ol>
<li>
<p><strong>Create a Dockerfile</strong>:</p>
<pre><code class="language-Dockerfile"># Use the official Node.js image
FROM node:14

# Create and change to the app directory
WORKDIR /usr/src/app

# Copy application dependency manifests to the container image
COPY package*.json ./

# Install dependencies
RUN npm install

# Copy the local code to the container image
COPY . .

# Expose the port the app runs on
EXPOSE 3000

# Run the web service on container startup
CMD [ &quot;node&quot;, &quot;index.js&quot; ]
</code></pre>
</li>
<li>
<p><strong>Build the Docker image</strong>:</p>
<pre><code class="language-bash">docker build -t simple-microservice .
</code></pre>
</li>
<li>
<p><strong>Run the Docker container</strong>:</p>
<pre><code class="language-bash">docker run -p 3000:3000 simple-microservice
</code></pre>
</li>
</ol>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we have developed a simple microservice using Node.js and Express.js. We covered setting up the environment, creating the microservice, implementing RESTful endpoints, testing the microservice, and deploying it using Docker. This foundational knowledge will help you build more complex microservices and integrate them into a larger microservices architecture.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-choice-technologies' title="Choice of Technologies and Tools" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-choice-technologies' title="Choice of Technologies and Tools" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-configuration-management' title="Configuration Management" class="py-2 px-3 btn btn-primary"
				data-read-mod="microservicios" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-configuration-management' title="Configuration Management" class="py-2 px-3 btn btn-primary" 
				data-read-mod="microservicios" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Microservices Course</h1>
<h2>Module 1: Introduction to Microservices</h2>
<ul>
<li><a href="01-01-basic-concepts">Basic Concepts of Microservices</a></li>
<li><a href="01-02-advantages-disadvantages">Advantages and Disadvantages of Microservices</a></li>
<li><a href="01-03-comparison-monolithic">Comparison with Monolithic Architecture</a></li>
</ul>
<h2>Module 2: Microservices Design</h2>
<ul>
<li><a href="02-01-design-principles">Microservices Design Principles</a></li>
<li><a href="02-02-decomposition-monolithic">Decomposition of Monolithic Applications</a></li>
<li><a href="02-03-bounded-contexts">Definition of Bounded Contexts</a></li>
</ul>
<h2>Module 3: Communication between Microservices</h2>
<ul>
<li><a href="03-01-restful-apis">RESTful APIs</a></li>
<li><a href="03-02-asynchronous-messaging">Asynchronous Messaging</a></li>
<li><a href="03-03-communication-protocols">Communication Protocols: gRPC, GraphQL</a></li>
</ul>
<h2>Module 4: Microservices Implementation</h2>
<ul>
<li><a href="04-01-choice-technologies">Choice of Technologies and Tools</a></li>
<li><a href="04-02-development-microservice">Development of a Simple Microservice</a></li>
<li><a href="04-03-configuration-management">Configuration Management</a></li>
</ul>
<h2>Module 5: Deployment and Orchestration</h2>
<ul>
<li><a href="05-01-containers-docker">Containers and Docker</a></li>
<li><a href="05-02-orchestration-kubernetes">Orchestration with Kubernetes</a></li>
<li><a href="05-03-cicd-microservices">CI/CD for Microservices</a></li>
</ul>
<h2>Module 6: Monitoring and Maintenance</h2>
<ul>
<li><a href="06-01-monitoring-logging">Monitoring and Logging</a></li>
<li><a href="06-02-error-management">Error Management and Recovery</a></li>
<li><a href="06-03-scalability-performance">Scalability and Performance</a></li>
</ul>
<h2>Module 7: Security in Microservices</h2>
<ul>
<li><a href="07-01-authentication-authorization">Authentication and Authorization</a></li>
<li><a href="07-02-security-communication">Security in Communication</a></li>
<li><a href="07-03-security-practices">Security Practices</a></li>
</ul>
<h2>Module 8: Case Studies and Practical Examples</h2>
<ul>
<li><a href="08-01-case-study-migration">Case Study: Migration from Monolith to Microservices</a></li>
<li><a href="08-02-practical-example">Practical Example: Complete Implementation</a></li>
<li><a href="08-03-lessons-learned">Lessons Learned and Best Practices</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
