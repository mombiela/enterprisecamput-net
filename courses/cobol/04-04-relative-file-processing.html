<!DOCTYPE html>
<html lang="en">
<head>
    <title> Relative File Processing </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/cobol/04-04-relative-file-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/cobol/04-04-relative-file-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/cobol/04-04-relative-file-processing" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "cobol";
  		var TEMA_NAME = "4-4";
  		var TYPE = "mod";
  		var PATH = "mod/cobol/04-04-relative-file-processing";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/cobol/04-04-relative-file-processing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/cobol/04-04-relative-file-processing" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="cobol">
		<a  href="#" class="text-secondary d-none" data-read-mod="cobol" data-read-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="cobol" data-unread-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-indexed-file-processing' title="Indexed File Processing" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-indexed-file-processing' title="Indexed File Processing" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Relative File Processing</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-tables-arrays' title="Tables and Arrays" class="py-2 px-3 btn btn-primary"
				data-read-mod="cobol" data-read-unit="4-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-tables-arrays' title="Tables and Arrays" class="py-2 px-3 btn btn-primary" 
				data-read-mod="cobol" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Relative file processing in COBOL is a method of accessing records in a file based on their relative position. This type of file organization allows for both sequential and random access to records, making it suitable for applications where records need to be accessed in a non-sequential manner.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Relative File Organization</strong>:</p>
<ul>
<li>Records are stored in a file with a unique relative record number (RRN).</li>
<li>The RRN is used to access records directly.</li>
</ul>
</li>
<li>
<p><strong>Access Modes</strong>:</p>
<ul>
<li><strong>Sequential Access</strong>: Records are processed one after another.</li>
<li><strong>Random Access</strong>: Records are accessed directly using their RRN.</li>
</ul>
</li>
<li>
<p><strong>File Control Entries</strong>:</p>
<ul>
<li>Define the file and its attributes in the <code>FILE-CONTROL</code> paragraph.</li>
</ul>
</li>
<li>
<p><strong>File Section Entries</strong>:</p>
<ul>
<li>Define the structure of the records in the <code>FILE SECTION</code>.</li>
</ul>
</li>
</ol>
</div><h2>Basic Structure of a COBOL Program with Relative File Processing</h2>
<div class='content'></div><h3>File Control Entries</h3>
<div class='content'><p>In the <code>ENVIRONMENT DIVISION</code>, the <code>FILE-CONTROL</code> paragraph is used to define the relative file.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RU5WSVJPTk1FTlQgRElWSVNJT04uCklOUFVULU9VVFBVVCBTRUNUSU9OLgpGSUxFLUNPTlRST0wuCiAgICBTRUxFQ1QgUkVMLUZJTEUgQVNTSUdOIFRPICdyZWxhdGl2ZS5kYXQnCiAgICBPUkdBTklaQVRJT04gSVMgUkVMQVRJVkUKICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgUkVMQVRJVkUgS0VZIElTIFJFTC1LRVkKICAgIEZJTEUgU1RBVFVTIElTIEZJTEUtU1RBVFVTLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT REL-FILE ASSIGN TO 'relative.dat'
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RELATIVE KEY IS REL-KEY
    FILE STATUS IS FILE-STATUS.</pre></div><div class='content'></div><h3>File Section Entries</h3>
<div class='content'><p>In the <code>DATA DIVISION</code>, the <code>FILE SECTION</code> is used to define the structure of the records.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgUkVMLUZJTEUuCjAxICBSRUwtUkVDT1JELgogICAgMDUgIFJFTC1LRVkgICAgICAgIFBJQyA5KDQpLgogICAgMDUgIFJFTC1EQVRBICAgICAgIFBJQyBYKDIwKS4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DATA DIVISION.
FILE SECTION.
FD  REL-FILE.
01  REL-RECORD.
    05  REL-KEY        PIC 9(4).
    05  REL-DATA       PIC X(20).</pre></div><div class='content'></div><h3>Working-Storage Section</h3>
<div class='content'><p>Define necessary variables in the <code>WORKING-STORAGE SECTION</code>.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V09SS0lORy1TVE9SQUdFIFNFQ1RJT04uCjAxICBSRUwtS0VZICAgICAgICAgICBQSUMgOSg0KS4KMDEgIEZJTEUtU1RBVFVTICAgICAgIFBJQyBYWC4KMDEgIFdTLVJFQ09SRCAgICAgICAgIFBJQyBYKDIwKS4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WORKING-STORAGE SECTION.
01  REL-KEY           PIC 9(4).
01  FILE-STATUS       PIC XX.
01  WS-RECORD         PIC X(20).</pre></div><div class='content'></div><h3>Procedure Division</h3>
<div class='content'><p>The <code>PROCEDURE DIVISION</code> contains the logic for processing the relative file.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJLU8gUkVMLUZJTEUuCiAgICBJRiBGSUxFLVNUQVRVUyBOT1QgPSAnMDAnCiAgICAgICAgRElTUExBWSAnRXJyb3Igb3BlbmluZyBmaWxlJwogICAgICAgIFNUT1AgUlVOCiAgICBFTkQtSUYuCgogICAgTU9WRSAxIFRPIFJFTC1LRVkuCiAgICBNT1ZFICdGaXJzdCBSZWNvcmQnIFRPIFJFTC1EQVRBLgogICAgV1JJVEUgUkVMLVJFQ09SRCBJTlZBTElEIEtFWQogICAgICAgIERJU1BMQVkgJ0Vycm9yIHdyaXRpbmcgcmVjb3JkJwogICAgRU5ELVdSSVRFLgoKICAgIE1PVkUgMiBUTyBSRUwtS0VZLgogICAgTU9WRSAnU2Vjb25kIFJlY29yZCcgVE8gUkVMLURBVEEuCiAgICBXUklURSBSRUwtUkVDT1JEIElOVkFMSUQgS0VZCiAgICAgICAgRElTUExBWSAnRXJyb3Igd3JpdGluZyByZWNvcmQnCiAgICBFTkQtV1JJVEUuCgogICAgTU9WRSAxIFRPIFJFTC1LRVkuCiAgICBSRUFEIFJFTC1GSUxFIElOVE8gV1MtUkVDT1JEIElOVkFMSUQgS0VZCiAgICAgICAgRElTUExBWSAnUmVjb3JkIG5vdCBmb3VuZCcKICAgIEVORC1SRUFELgoKICAgIERJU1BMQVkgJ1JlY29yZCAxOiAnIFdTLVJFQ09SRC4KCiAgICBDTE9TRSBSRUwtRklMRS4KICAgIFNUT1AgUlVOLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROCEDURE DIVISION.
    OPEN I-O REL-FILE.
    IF FILE-STATUS NOT = '00'
        DISPLAY 'Error opening file'
        STOP RUN
    END-IF.

    MOVE 1 TO REL-KEY.
    MOVE 'First Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.

    MOVE 2 TO REL-KEY.
    MOVE 'Second Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.

    MOVE 1 TO REL-KEY.
    READ REL-FILE INTO WS-RECORD INVALID KEY
        DISPLAY 'Record not found'
    END-READ.

    DISPLAY 'Record 1: ' WS-RECORD.

    CLOSE REL-FILE.
    STOP RUN.</pre></div><div class='content'></div><h2>Practical Example</h2>
<div class='content'></div><h3>Example Program</h3>
<div class='content'><p>Here is a complete example of a COBOL program that demonstrates relative file processing.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFJlbGF0aXZlRmlsZUV4YW1wbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCBSRUwtRklMRSBBU1NJR04gVE8gJ3JlbGF0aXZlLmRhdCcKICAgIE9SR0FOSVpBVElPTiBJUyBSRUxBVElWRQogICAgQUNDRVNTIE1PREUgSVMgUkFORE9NCiAgICBSRUxBVElWRSBLRVkgSVMgUkVMLUtFWQogICAgRklMRSBTVEFUVVMgSVMgRklMRS1TVEFUVVMuCgpEQVRBIERJVklTSU9OLgpGSUxFIFNFQ1RJT04uCkZEICBSRUwtRklMRS4KMDEgIFJFTC1SRUNPUkQuCiAgICAwNSAgUkVMLUtFWSAgICAgICAgUElDIDkoNCkuCiAgICAwNSAgUkVMLURBVEEgICAgICAgUElDIFgoMjApLgoKV09SS0lORy1TVE9SQUdFIFNFQ1RJT04uCjAxICBSRUwtS0VZICAgICAgICAgICBQSUMgOSg0KS4KMDEgIEZJTEUtU1RBVFVTICAgICAgIFBJQyBYWC4KMDEgIFdTLVJFQ09SRCAgICAgICAgIFBJQyBYKDIwKS4KClBST0NFRFVSRSBESVZJU0lPTi4KICAgIE9QRU4gSS1PIFJFTC1GSUxFLgogICAgSUYgRklMRS1TVEFUVVMgTk9UID0gJzAwJwogICAgICAgIERJU1BMQVkgJ0Vycm9yIG9wZW5pbmcgZmlsZScKICAgICAgICBTVE9QIFJVTgogICAgRU5ELUlGLgoKICAgIE1PVkUgMSBUTyBSRUwtS0VZLgogICAgTU9WRSAnRmlyc3QgUmVjb3JkJyBUTyBSRUwtREFUQS4KICAgIFdSSVRFIFJFTC1SRUNPUkQgSU5WQUxJRCBLRVkKICAgICAgICBESVNQTEFZICdFcnJvciB3cml0aW5nIHJlY29yZCcKICAgIEVORC1XUklURS4KCiAgICBNT1ZFIDIgVE8gUkVMLUtFWS4KICAgIE1PVkUgJ1NlY29uZCBSZWNvcmQnIFRPIFJFTC1EQVRBLgogICAgV1JJVEUgUkVMLVJFQ09SRCBJTlZBTElEIEtFWQogICAgICAgIERJU1BMQVkgJ0Vycm9yIHdyaXRpbmcgcmVjb3JkJwogICAgRU5ELVdSSVRFLgoKICAgIE1PVkUgMSBUTyBSRUwtS0VZLgogICAgUkVBRCBSRUwtRklMRSBJTlRPIFdTLVJFQ09SRCBJTlZBTElEIEtFWQogICAgICAgIERJU1BMQVkgJ1JlY29yZCBub3QgZm91bmQnCiAgICBFTkQtUkVBRC4KCiAgICBESVNQTEFZICdSZWNvcmQgMTogJyBXUy1SRUNPUkQuCgogICAgQ0xPU0UgUkVMLUZJTEUuCiAgICBTVE9QIFJVTi4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. RelativeFileExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT REL-FILE ASSIGN TO 'relative.dat'
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RELATIVE KEY IS REL-KEY
    FILE STATUS IS FILE-STATUS.

DATA DIVISION.
FILE SECTION.
FD  REL-FILE.
01  REL-RECORD.
    05  REL-KEY        PIC 9(4).
    05  REL-DATA       PIC X(20).

WORKING-STORAGE SECTION.
01  REL-KEY           PIC 9(4).
01  FILE-STATUS       PIC XX.
01  WS-RECORD         PIC X(20).

PROCEDURE DIVISION.
    OPEN I-O REL-FILE.
    IF FILE-STATUS NOT = '00'
        DISPLAY 'Error opening file'
        STOP RUN
    END-IF.

    MOVE 1 TO REL-KEY.
    MOVE 'First Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.

    MOVE 2 TO REL-KEY.
    MOVE 'Second Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.

    MOVE 1 TO REL-KEY.
    READ REL-FILE INTO WS-RECORD INVALID KEY
        DISPLAY 'Record not found'
    END-READ.

    DISPLAY 'Record 1: ' WS-RECORD.

    CLOSE REL-FILE.
    STOP RUN.</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ol>
<li>
<p><strong>File Control Entries</strong>:</p>
<ul>
<li>The <code>SELECT</code> statement assigns the file name and specifies the organization as <code>RELATIVE</code>.</li>
<li>The <code>ACCESS MODE</code> is set to <code>RANDOM</code> for direct access.</li>
<li>The <code>RELATIVE KEY</code> clause specifies the key used for accessing records.</li>
<li>The <code>FILE STATUS</code> clause is used to handle file status codes.</li>
</ul>
</li>
<li>
<p><strong>File Section Entries</strong>:</p>
<ul>
<li>The <code>FD</code> entry defines the file and its record structure.</li>
<li>The <code>01</code> level entry defines the record layout, including the relative key and data fields.</li>
</ul>
</li>
<li>
<p><strong>Working-Storage Section</strong>:</p>
<ul>
<li>Variables for the relative key, file status, and record data are defined.</li>
</ul>
</li>
<li>
<p><strong>Procedure Division</strong>:</p>
<ul>
<li>The file is opened in I-O mode.</li>
<li>Records are written to the file using the <code>WRITE</code> statement.</li>
<li>Records are read from the file using the <code>READ</code> statement.</li>
<li>The program displays the contents of the first record and closes the file.</li>
</ul>
</li>
</ol>
</div><h2>Practical Exercises</h2>
<div class='content'></div><h3>Exercise 1: Writing and Reading Records</h3>
<div class='content'><p><strong>Task</strong>: Write a COBOL program to create a relative file, write three records to it, and then read and display the records.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFJlbGF0aXZlRmlsZUV4ZXJjaXNlLgoKRU5WSVJPTk1FTlQgRElWSVNJT04uCklOUFVULU9VVFBVVCBTRUNUSU9OLgpGSUxFLUNPTlRST0wuCiAgICBTRUxFQ1QgUkVMLUZJTEUgQVNTSUdOIFRPICdyZWxhdGl2ZS5kYXQnCiAgICBPUkdBTklaQVRJT04gSVMgUkVMQVRJVkUKICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgUkVMQVRJVkUgS0VZIElTIFJFTC1LRVkKICAgIEZJTEUgU1RBVFVTIElTIEZJTEUtU1RBVFVTLgoKREFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgUkVMLUZJTEUuCjAxICBSRUwtUkVDT1JELgogICAgMDUgIFJFTC1LRVkgICAgICAgIFBJQyA5KDQpLgogICAgMDUgIFJFTC1EQVRBICAgICAgIFBJQyBYKDIwKS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSAgUkVMLUtFWSAgICAgICAgICAgUElDIDkoNCkuCjAxICBGSUxFLVNUQVRVUyAgICAgICBQSUMgWFguCjAxICBXUy1SRUNPUkQgICAgICAgICBQSUMgWCgyMCkuCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBPUEVOIEktTyBSRUwtRklMRS4KICAgIElGIEZJTEUtU1RBVFVTIE5PVCA9ICcwMCcKICAgICAgICBESVNQTEFZICdFcnJvciBvcGVuaW5nIGZpbGUnCiAgICAgICAgU1RPUCBSVU4KICAgIEVORC1JRi4KCiAgICBQRVJGT1JNIFdSSVRFLVJFQ09SRFMuCiAgICBQRVJGT1JNIFJFQUQtUkVDT1JEUy4KCiAgICBDTE9TRSBSRUwtRklMRS4KICAgIFNUT1AgUlVOLgoKV1JJVEUtUkVDT1JEUy4KICAgIE1PVkUgMSBUTyBSRUwtS0VZLgogICAgTU9WRSAnRmlyc3QgUmVjb3JkJyBUTyBSRUwtREFUQS4KICAgIFdSSVRFIFJFTC1SRUNPUkQgSU5WQUxJRCBLRVkKICAgICAgICBESVNQTEFZICdFcnJvciB3cml0aW5nIHJlY29yZCcKICAgIEVORC1XUklURS4KCiAgICBNT1ZFIDIgVE8gUkVMLUtFWS4KICAgIE1PVkUgJ1NlY29uZCBSZWNvcmQnIFRPIFJFTC1EQVRBLgogICAgV1JJVEUgUkVMLVJFQ09SRCBJTlZBTElEIEtFWQogICAgICAgIERJU1BMQVkgJ0Vycm9yIHdyaXRpbmcgcmVjb3JkJwogICAgRU5ELVdSSVRFLgoKICAgIE1PVkUgMyBUTyBSRUwtS0VZLgogICAgTU9WRSAnVGhpcmQgUmVjb3JkJyBUTyBSRUwtREFUQS4KICAgIFdSSVRFIFJFTC1SRUNPUkQgSU5WQUxJRCBLRVkKICAgICAgICBESVNQTEFZICdFcnJvciB3cml0aW5nIHJlY29yZCcKICAgIEVORC1XUklURS4KICAgIC4KClJFQUQtUkVDT1JEUy4KICAgIFBFUkZPUk0gVkFSWUlORyBSRUwtS0VZIEZST00gMSBCWSAxIFVOVElMIFJFTC1LRVkgPiAzCiAgICAgICAgUkVBRCBSRUwtRklMRSBJTlRPIFdTLVJFQ09SRCBJTlZBTElEIEtFWQogICAgICAgICAgICBESVNQTEFZICdSZWNvcmQgbm90IGZvdW5kJwogICAgICAgIEVORC1SRUFECiAgICAgICAgRElTUExBWSAnUmVjb3JkICcgUkVMLUtFWSAnOiAnIFdTLVJFQ09SRAogICAgRU5ELVBFUkZPUk0uCiAgICAu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. RelativeFileExercise.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT REL-FILE ASSIGN TO 'relative.dat'
    ORGANIZATION IS RELATIVE
    ACCESS MODE IS RANDOM
    RELATIVE KEY IS REL-KEY
    FILE STATUS IS FILE-STATUS.

DATA DIVISION.
FILE SECTION.
FD  REL-FILE.
01  REL-RECORD.
    05  REL-KEY        PIC 9(4).
    05  REL-DATA       PIC X(20).

WORKING-STORAGE SECTION.
01  REL-KEY           PIC 9(4).
01  FILE-STATUS       PIC XX.
01  WS-RECORD         PIC X(20).

PROCEDURE DIVISION.
    OPEN I-O REL-FILE.
    IF FILE-STATUS NOT = '00'
        DISPLAY 'Error opening file'
        STOP RUN
    END-IF.

    PERFORM WRITE-RECORDS.
    PERFORM READ-RECORDS.

    CLOSE REL-FILE.
    STOP RUN.

WRITE-RECORDS.
    MOVE 1 TO REL-KEY.
    MOVE 'First Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.

    MOVE 2 TO REL-KEY.
    MOVE 'Second Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.

    MOVE 3 TO REL-KEY.
    MOVE 'Third Record' TO REL-DATA.
    WRITE REL-RECORD INVALID KEY
        DISPLAY 'Error writing record'
    END-WRITE.
    .

READ-RECORDS.
    PERFORM VARYING REL-KEY FROM 1 BY 1 UNTIL REL-KEY &gt; 3
        READ REL-FILE INTO WS-RECORD INVALID KEY
            DISPLAY 'Record not found'
        END-READ
        DISPLAY 'Record ' REL-KEY ': ' WS-RECORD
    END-PERFORM.
    .</pre></div><div class='content'></div><h3>Common Mistakes and Tips</h3>
<div class='content'><ul>
<li><strong>File Status Handling</strong>: Always check the <code>FILE-STATUS</code> after file operations to handle errors gracefully.</li>
<li><strong>Invalid Key Handling</strong>: Use the <code>INVALID KEY</code> clause to manage cases where a record cannot be written or read.</li>
<li><strong>Sequential vs. Random Access</strong>: Understand the difference between sequential and random access to use the appropriate method based on the application requirements.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Relative file processing in COBOL provides a flexible way to access records based on their relative position. By understanding the key concepts and practicing with examples, you can effectively use relative files in your COBOL programs. This knowledge is essential for applications that require both sequential and random access to records, such as database management systems and transaction processing systems.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-indexed-file-processing' title="Indexed File Processing" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-indexed-file-processing' title="Indexed File Processing" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-tables-arrays' title="Tables and Arrays" class="py-2 px-3 btn btn-primary"
				data-read-mod="cobol" data-read-unit="4-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-tables-arrays' title="Tables and Arrays" class="py-2 px-3 btn btn-primary" 
				data-read-mod="cobol" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>COBOL Programming Course</h1>
<h2>Module 1: Introduction to COBOL</h2>
<ul>
<li><a href="01-01-what-is-cobol">What is COBOL?</a></li>
<li><a href="01-02-history-of-cobol">History of COBOL</a></li>
<li><a href="01-03-setting-up-cobol-environment">Setting Up the COBOL Environment</a></li>
<li><a href="01-04-basic-structure-cobol-program">Basic Structure of a COBOL Program</a></li>
</ul>
<h2>Module 2: Basic COBOL Syntax and Data Types</h2>
<ul>
<li><a href="02-01-cobol-syntax">COBOL Syntax</a></li>
<li><a href="02-02-data-types-cobol">Data Types in COBOL</a></li>
<li><a href="02-03-variables-constants">Variables and Constants</a></li>
<li><a href="02-04-arithmetic-operations">Arithmetic Operations</a></li>
</ul>
<h2>Module 3: Control Structures</h2>
<ul>
<li><a href="03-01-conditional-statements">Conditional Statements</a></li>
<li><a href="03-02-looping-constructs">Looping Constructs</a></li>
<li><a href="03-03-nested-control-structures">Nested Control Structures</a></li>
</ul>
<h2>Module 4: Working with Data</h2>
<ul>
<li><a href="04-01-file-handling-cobol">File Handling in COBOL</a></li>
<li><a href="04-02-sequential-file-processing">Sequential File Processing</a></li>
<li><a href="04-03-indexed-file-processing">Indexed File Processing</a></li>
<li><a href="04-04-relative-file-processing">Relative File Processing</a></li>
</ul>
<h2>Module 5: Advanced Data Handling</h2>
<ul>
<li><a href="05-01-tables-arrays">Tables and Arrays</a></li>
<li><a href="05-02-multi-dimensional-arrays">Multi-dimensional Arrays</a></li>
<li><a href="05-03-string-handling">String Handling</a></li>
<li><a href="05-04-sorting-merging-data">Sorting and Merging Data</a></li>
</ul>
<h2>Module 6: Subprograms and Modular Programming</h2>
<ul>
<li><a href="06-01-introduction-subprograms">Introduction to Subprograms</a></li>
<li><a href="06-02-call-statement">CALL Statement</a></li>
<li><a href="06-03-passing-parameters">Passing Parameters</a></li>
<li><a href="06-04-modular-programming-techniques">Modular Programming Techniques</a></li>
</ul>
<h2>Module 7: Error Handling and Debugging</h2>
<ul>
<li><a href="07-01-error-handling-techniques">Error Handling Techniques</a></li>
<li><a href="07-02-debugging-cobol-programs">Debugging COBOL Programs</a></li>
<li><a href="07-03-common-errors-solutions">Common Errors and Solutions</a></li>
</ul>
<h2>Module 8: COBOL and Databases</h2>
<ul>
<li><a href="08-01-introduction-cobol-db2">Introduction to COBOL-DB2</a></li>
<li><a href="08-02-embedded-sql-cobol">Embedded SQL in COBOL</a></li>
<li><a href="08-03-database-operations">Database Operations</a></li>
<li><a href="08-04-handling-cursors">Handling Cursors</a></li>
</ul>
<h2>Module 9: Advanced Topics</h2>
<ul>
<li><a href="09-01-object-oriented-cobol">Object-Oriented COBOL</a></li>
<li><a href="09-02-cobol-web-services">COBOL and Web Services</a></li>
<li><a href="09-03-performance-tuning">Performance Tuning</a></li>
<li><a href="09-04-best-practices-cobol">Best Practices in COBOL Programming</a></li>
</ul>
<h2>Module 10: Project and Case Studies</h2>
<ul>
<li><a href="10-01-real-world-cobol-projects">Real-world COBOL Projects</a></li>
<li><a href="10-02-case-study-banking-system">Case Study 1: Banking System</a></li>
<li><a href="10-03-case-study-inventory-management">Case Study 2: Inventory Management</a></li>
<li><a href="10-04-final-project-guidelines">Final Project Guidelines</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
