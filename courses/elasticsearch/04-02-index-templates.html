<!DOCTYPE html>
<html lang="en">
<head>
    <title> Index Templates </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/elasticsearch/04-02-index-templates" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/elasticsearch/04-02-index-templates" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/elasticsearch/04-02-index-templates" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "elasticsearch";
  		var TEMA_NAME = "4-2";
  		var TYPE = "mod";
  		var PATH = "mod/elasticsearch/04-02-index-templates";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/elasticsearch/04-02-index-templates" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/elasticsearch/04-02-index-templates" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="elasticsearch">
		<a  href="#" class="text-secondary d-none" data-read-mod="elasticsearch" data-read-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="elasticsearch" data-unread-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-mapping-analyzers' title="Mapping and Analyzers" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-mapping-analyzers' title="Mapping and Analyzers" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Index Templates</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-aliases-reindexing' title="Aliases and Reindexing" class="py-2 px-3 btn btn-primary"
				data-read-mod="elasticsearch" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-aliases-reindexing' title="Aliases and Reindexing" class="py-2 px-3 btn btn-primary" 
				data-read-mod="elasticsearch" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='index'></div><h3>Introduction</h3>
<div class='index'><p>Index templates in Elasticsearch allow you to define settings, mappings, and aliases that can be automatically applied to new indices. This is particularly useful for managing indices that share common configurations, ensuring consistency and reducing the need for repetitive configurations.</p>
</div><h3>Key Concepts</h3>
<div class='index'><ul>
<li><strong>Index Template</strong>: A blueprint for creating indices with predefined settings, mappings, and aliases.</li>
<li><strong>Settings</strong>: Configuration options for an index, such as the number of shards and replicas.</li>
<li><strong>Mappings</strong>: Define how documents and their fields are stored and indexed.</li>
<li><strong>Aliases</strong>: Alternative names for indices, which can be used to simplify queries and manage index versions.</li>
</ul>
</div><h3>Creating an Index Template</h3>
<div class='index'><p>To create an index template, you need to define the template's settings, mappings, and aliases. This can be done using the Elasticsearch REST API.</p>
</div><h3>Example</h3>
<div class='index'><p>Here is an example of creating an index template:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQp7CiAgImluZGV4X3BhdHRlcm5zIjogWyJsb2ctKiJdLAogICJzZXR0aW5ncyI6IHsKICAgICJudW1iZXJfb2Zfc2hhcmRzIjogMSwKICAgICJudW1iZXJfb2ZfcmVwbGljYXMiOiAxCiAgfSwKICAibWFwcGluZ3MiOiB7CiAgICAicHJvcGVydGllcyI6IHsKICAgICAgInRpbWVzdGFtcCI6IHsKICAgICAgICAidHlwZSI6ICJkYXRlIgogICAgICB9LAogICAgICAibWVzc2FnZSI6IHsKICAgICAgICAidHlwZSI6ICJ0ZXh0IgogICAgICB9LAogICAgICAidXNlcl9pZCI6IHsKICAgICAgICAidHlwZSI6ICJrZXl3b3JkIgogICAgICB9CiAgICB9CiAgfSwKICAiYWxpYXNlcyI6IHsKICAgICJsb2dzIjoge30KICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _template/my_template
{
  &quot;index_patterns&quot;: [&quot;log-*&quot;],
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 1,
    &quot;number_of_replicas&quot;: 1
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;timestamp&quot;: {
        &quot;type&quot;: &quot;date&quot;
      },
      &quot;message&quot;: {
        &quot;type&quot;: &quot;text&quot;
      },
      &quot;user_id&quot;: {
        &quot;type&quot;: &quot;keyword&quot;
      }
    }
  },
  &quot;aliases&quot;: {
    &quot;logs&quot;: {}
  }
}</pre></div><div class='index'></div><h3>Explanation</h3>
<div class='index'><ul>
<li><strong>index_patterns</strong>: Specifies the index name patterns to which the template will be applied. In this case, any index starting with &quot;log-&quot;.</li>
<li><strong>settings</strong>: Defines the number of shards and replicas for the index.</li>
<li><strong>mappings</strong>: Specifies the data types for the fields in the index.
<ul>
<li><code>timestamp</code> is of type <code>date</code>.</li>
<li><code>message</code> is of type <code>text</code>.</li>
<li><code>user_id</code> is of type <code>keyword</code>.</li>
</ul>
</li>
<li><strong>aliases</strong>: Creates an alias named &quot;logs&quot; for the indices matching the pattern.</li>
</ul>
</div><h3>Applying an Index Template</h3>
<div class='index'><p>When you create a new index that matches the pattern specified in the template, Elasticsearch automatically applies the template settings, mappings, and aliases to the new index.</p>
</div><h3>Example</h3>
<div class='index'><p>Creating an index that matches the template pattern:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIGxvZy0yMDIzLTEwLTAxCnsKICAibWFwcGluZ3MiOiB7CiAgICAicHJvcGVydGllcyI6IHsKICAgICAgImV2ZW50IjogewogICAgICAgICJ0eXBlIjogInRleHQiCiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT log-2023-10-01
{
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;event&quot;: {
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</pre></div><div class='index'><p>In this example, the new index <code>log-2023-10-01</code> will inherit the settings and mappings from <code>my_template</code>, and the additional <code>event</code> field will be added to the mappings.</p>
</div><h3>Managing Index Templates</h3>
<div class='index'><p>You can view, update, and delete index templates using the Elasticsearch REST API.</p>
</div><h3>Viewing an Index Template</h3>
<div class='index'><p>To view an index template:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET _template/my_template</pre></div><div class='index'></div><h3>Updating an Index Template</h3>
<div class='index'><p>To update an index template, use the <code>PUT</code> method with the updated configuration:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQp7CiAgImluZGV4X3BhdHRlcm5zIjogWyJsb2ctKiJdLAogICJzZXR0aW5ncyI6IHsKICAgICJudW1iZXJfb2Zfc2hhcmRzIjogMiwKICAgICJudW1iZXJfb2ZfcmVwbGljYXMiOiAxCiAgfSwKICAibWFwcGluZ3MiOiB7CiAgICAicHJvcGVydGllcyI6IHsKICAgICAgInRpbWVzdGFtcCI6IHsKICAgICAgICAidHlwZSI6ICJkYXRlIgogICAgICB9LAogICAgICAibWVzc2FnZSI6IHsKICAgICAgICAidHlwZSI6ICJ0ZXh0IgogICAgICB9LAogICAgICAidXNlcl9pZCI6IHsKICAgICAgICAidHlwZSI6ICJrZXl3b3JkIgogICAgICB9LAogICAgICAiZXZlbnQiOiB7CiAgICAgICAgInR5cGUiOiAidGV4dCIKICAgICAgfQogICAgfQogIH0sCiAgImFsaWFzZXMiOiB7CiAgICAibG9ncyI6IHt9CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _template/my_template
{
  &quot;index_patterns&quot;: [&quot;log-*&quot;],
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;timestamp&quot;: {
        &quot;type&quot;: &quot;date&quot;
      },
      &quot;message&quot;: {
        &quot;type&quot;: &quot;text&quot;
      },
      &quot;user_id&quot;: {
        &quot;type&quot;: &quot;keyword&quot;
      },
      &quot;event&quot;: {
        &quot;type&quot;: &quot;text&quot;
      }
    }
  },
  &quot;aliases&quot;: {
    &quot;logs&quot;: {}
  }
}</pre></div><div class='index'></div><h3>Deleting an Index Template</h3>
<div class='index'><p>To delete an index template:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE _template/my_template</pre></div><div class='index'></div><h3>Practical Exercise</h3>
<h3>Task</h3>
<div class='index'><p>Create an index template named <code>user_template</code> that applies to indices starting with <code>user-</code>. The template should have the following configurations:</p>
<ul>
<li>3 shards and 2 replicas.</li>
<li>Mappings for fields:
<ul>
<li><code>user_id</code> of type <code>keyword</code></li>
<li><code>name</code> of type <code>text</code></li>
<li><code>signup_date</code> of type <code>date</code></li>
</ul>
</li>
<li>An alias named <code>users</code>.</li>
</ul>
</div><h3>Solution</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF90ZW1wbGF0ZS91c2VyX3RlbXBsYXRlCnsKICAiaW5kZXhfcGF0dGVybnMiOiBbInVzZXItKiJdLAogICJzZXR0aW5ncyI6IHsKICAgICJudW1iZXJfb2Zfc2hhcmRzIjogMywKICAgICJudW1iZXJfb2ZfcmVwbGljYXMiOiAyCiAgfSwKICAibWFwcGluZ3MiOiB7CiAgICAicHJvcGVydGllcyI6IHsKICAgICAgInVzZXJfaWQiOiB7CiAgICAgICAgInR5cGUiOiAia2V5d29yZCIKICAgICAgfSwKICAgICAgIm5hbWUiOiB7CiAgICAgICAgInR5cGUiOiAidGV4dCIKICAgICAgfSwKICAgICAgInNpZ251cF9kYXRlIjogewogICAgICAgICJ0eXBlIjogImRhdGUiCiAgICAgIH0KICAgIH0KICB9LAogICJhbGlhc2VzIjogewogICAgInVzZXJzIjoge30KICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _template/user_template
{
  &quot;index_patterns&quot;: [&quot;user-*&quot;],
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 3,
    &quot;number_of_replicas&quot;: 2
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;user_id&quot;: {
        &quot;type&quot;: &quot;keyword&quot;
      },
      &quot;name&quot;: {
        &quot;type&quot;: &quot;text&quot;
      },
      &quot;signup_date&quot;: {
        &quot;type&quot;: &quot;date&quot;
      }
    }
  },
  &quot;aliases&quot;: {
    &quot;users&quot;: {}
  }
}</pre></div><div class='index'></div><h3>Common Mistakes and Tips</h3>
<div class='index'><ul>
<li><strong>Pattern Matching</strong>: Ensure that the <code>index_patterns</code> correctly match the intended indices. Incorrect patterns can lead to templates not being applied.</li>
<li><strong>Field Types</strong>: Double-check the field types in the mappings to avoid data type conflicts.</li>
<li><strong>Template Updates</strong>: When updating a template, remember that changes will only apply to new indices created after the update.</li>
</ul>
</div><h3>Conclusion</h3>
<div class='index'><p>Index templates are a powerful feature in Elasticsearch that help maintain consistency and reduce repetitive configurations across indices. By understanding how to create, apply, and manage index templates, you can streamline your Elasticsearch index management and ensure that your indices are configured correctly from the start.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-mapping-analyzers' title="Mapping and Analyzers" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-mapping-analyzers' title="Mapping and Analyzers" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-aliases-reindexing' title="Aliases and Reindexing" class="py-2 px-3 btn btn-primary"
				data-read-mod="elasticsearch" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-aliases-reindexing' title="Aliases and Reindexing" class="py-2 px-3 btn btn-primary" 
				data-read-mod="elasticsearch" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Elasticsearch Course</h1>
<h2>Module 1: Introduction to Elasticsearch</h2>
<ul>
<li><a href="01-01-what-is-elasticsearch">What is Elasticsearch?</a></li>
<li><a href="01-02-installing-elasticsearch">Installing Elasticsearch</a></li>
<li><a href="01-03-basic-concepts">Basic Concepts: Nodes, Clusters, and Indices</a></li>
<li><a href="01-04-elasticsearch-architecture">Elasticsearch Architecture</a></li>
</ul>
<h2>Module 2: Getting Started with Elasticsearch</h2>
<ul>
<li><a href="02-01-indexing-data">Indexing Data</a></li>
<li><a href="02-02-searching-data">Searching Data</a></li>
<li><a href="02-03-updating-deleting-data">Updating and Deleting Data</a></li>
<li><a href="02-04-elasticsearch-query-dsl">Elasticsearch Query DSL</a></li>
</ul>
<h2>Module 3: Advanced Search Techniques</h2>
<ul>
<li><a href="03-01-full-text-search">Full-Text Search</a></li>
<li><a href="03-02-filtering-sorting">Filtering and Sorting</a></li>
<li><a href="03-03-aggregations">Aggregations</a></li>
<li><a href="03-04-scripting">Scripting</a></li>
</ul>
<h2>Module 4: Data Modeling and Index Management</h2>
<ul>
<li><a href="04-01-mapping-analyzers">Mapping and Analyzers</a></li>
<li><a href="04-02-index-templates">Index Templates</a></li>
<li><a href="04-03-aliases-reindexing">Aliases and Reindexing</a></li>
<li><a href="04-04-index-lifecycle-management">Index Lifecycle Management</a></li>
</ul>
<h2>Module 5: Performance and Scaling</h2>
<ul>
<li><a href="05-01-optimizing-search-performance">Optimizing Search Performance</a></li>
<li><a href="05-02-scaling-elasticsearch">Scaling Elasticsearch</a></li>
<li><a href="05-03-monitoring-maintenance">Monitoring and Maintenance</a></li>
<li><a href="05-04-backup-restore">Backup and Restore</a></li>
</ul>
<h2>Module 6: Security and Access Control</h2>
<ul>
<li><a href="06-01-securing-elasticsearch">Securing Elasticsearch</a></li>
<li><a href="06-02-user-authentication-authorization">User Authentication and Authorization</a></li>
<li><a href="06-03-role-based-access-control">Role-Based Access Control</a></li>
<li><a href="06-04-auditing-compliance">Auditing and Compliance</a></li>
</ul>
<h2>Module 7: Integrations and Ecosystem</h2>
<ul>
<li><a href="07-01-elasticsearch-logstash">Elasticsearch with Logstash</a></li>
<li><a href="07-02-elasticsearch-kibana">Elasticsearch with Kibana</a></li>
<li><a href="07-03-elasticsearch-beats">Elasticsearch with Beats</a></li>
<li><a href="07-04-elasticsearch-other-tools">Elasticsearch with Other Tools</a></li>
</ul>
<h2>Module 8: Advanced Topics</h2>
<ul>
<li><a href="08-01-custom-plugins">Custom Plugins</a></li>
<li><a href="08-02-machine-learning-elasticsearch">Machine Learning in Elasticsearch</a></li>
<li><a href="08-03-graph-exploration">Graph Exploration</a></li>
<li><a href="08-04-geo-search">Geo-Search</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
