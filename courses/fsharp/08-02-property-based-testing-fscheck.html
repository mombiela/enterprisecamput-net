<!DOCTYPE html>
<html lang="en">
<head>
    <title> Property-Based Testing with FsCheck </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/fsharp/08-02-property-based-testing-fscheck" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/fsharp/08-02-property-based-testing-fscheck" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/fsharp/08-02-property-based-testing-fscheck" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "fsharp";
  		var TEMA_NAME = "8-2";
  		var TYPE = "mod";
  		var PATH = "mod/fsharp/08-02-property-based-testing-fscheck";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/fsharp/08-02-property-based-testing-fscheck" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/fsharp/08-02-property-based-testing-fscheck" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="fsharp">
		<a  href="#" class="text-secondary d-none" data-read-mod="fsharp" data-read-unit="8-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="fsharp" data-unread-unit="8-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-01-unit-testing-nunit' title="Unit Testing with NUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-01-unit-testing-nunit' title="Unit Testing with NUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Property-Based Testing with FsCheck</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-03-debugging-techniques' title="Debugging Techniques" class="py-2 px-3 btn btn-primary"
				data-read-mod="fsharp" data-read-unit="8-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-03-debugging-techniques' title="Debugging Techniques" class="py-2 px-3 btn btn-primary" 
				data-read-mod="fsharp" data-read-unit="8-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Property-based testing is a powerful technique for testing software by specifying properties that should hold true for a wide range of inputs. FsCheck is a popular library in F# for property-based testing. This module will guide you through the basics of property-based testing and how to use FsCheck effectively.</p>
</div><h2>What is Property-Based Testing?</h2>
<div class='content'><p>Property-based testing involves defining properties or invariants that your code should satisfy for all possible inputs. Instead of writing individual test cases, you describe the general behavior of your code, and the testing framework generates test cases for you.</p>
</div><h3>Key Concepts:</h3>
<div class='content'><ul>
<li><strong>Properties</strong>: Statements about your code that should hold true for a wide range of inputs.</li>
<li><strong>Generators</strong>: Functions that produce random test data.</li>
<li><strong>Shrinking</strong>: The process of simplifying failing test cases to the smallest example that still fails.</li>
</ul>
</div><h2>Setting Up FsCheck</h2>
<div class='content'><p>To use FsCheck in your F# project, you need to install the FsCheck NuGet package. You can do this using the .NET CLI:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG90bmV0IGFkZCBwYWNrYWdlIEZzQ2hlY2s="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dotnet add package FsCheck</pre></div><div class='content'></div><h2>Writing Your First Property-Based Test</h2>
<div class='content'><p>Let's start with a simple example. Suppose we have a function that reverses a list. We want to test that reversing a list twice returns the original list.</p>
</div><h3>Example Function</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHJldmVyc2VMaXN0IChsc3Q6ICdhIGxpc3QpIDogJ2EgbGlzdCA9CiAgICBMaXN0LnJldiBsc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let reverseList (lst: 'a list) : 'a list =
    List.rev lst</pre></div><div class='content'></div><h3>Writing the Property</h3>
<div class='content'><p>We can define a property that states reversing a list twice should return the original list.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBGc0NoZWNrCgpsZXQgcmV2ZXJzZVR3aWNlSXNPcmlnaW5hbCAobHN0OiBpbnQgbGlzdCkgPQogICAgcmV2ZXJzZUxpc3QgKHJldmVyc2VMaXN0IGxzdCkgPSBsc3QKCkNoZWNrLlF1aWNrIHJldmVyc2VUd2ljZUlzT3JpZ2luYWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open FsCheck

let reverseTwiceIsOriginal (lst: int list) =
    reverseList (reverseList lst) = lst

Check.Quick reverseTwiceIsOriginal</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><code>reverseTwiceIsOriginal</code> is a property function that takes a list of integers and checks if reversing it twice returns the original list.</li>
<li><code>Check.Quick</code> runs the property test with a default configuration.</li>
</ul>
</div><h2>Custom Generators</h2>
<div class='content'><p>Sometimes, you need custom generators for more complex data types. FsCheck allows you to define your own generators.</p>
</div><h3>Example: Custom Generator for Non-Empty Lists</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBGc0NoZWNrCgpsZXQgbm9uRW1wdHlMaXN0R2VuID0KICAgIEdlbi5zaXplZCAoZnVuIHNpemUgLT4KICAgICAgICBHZW4ubGlzdE9mTGVuZ3RoIChzaXplICsgMSkgQXJiLmdlbmVyYXRlPGludD4pCgpsZXQgbm9uRW1wdHlMaXN0QXJiID0KICAgIEFyYi5mcm9tR2VuIG5vbkVtcHR5TGlzdEdlbgoKbGV0IHJldmVyc2VOb25FbXB0eUxpc3RUd2ljZUlzT3JpZ2luYWwgKGxzdDogaW50IGxpc3QpID0KICAgIHJldmVyc2VMaXN0IChyZXZlcnNlTGlzdCBsc3QpID0gbHN0CgpDaGVjay5RdWljayAoUHJvcC5mb3JBbGwgbm9uRW1wdHlMaXN0QXJiIHJldmVyc2VOb25FbXB0eUxpc3RUd2ljZUlzT3JpZ2luYWwp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open FsCheck

let nonEmptyListGen =
    Gen.sized (fun size -&gt;
        Gen.listOfLength (size + 1) Arb.generate&lt;int&gt;)

let nonEmptyListArb =
    Arb.fromGen nonEmptyListGen

let reverseNonEmptyListTwiceIsOriginal (lst: int list) =
    reverseList (reverseList lst) = lst

Check.Quick (Prop.forAll nonEmptyListArb reverseNonEmptyListTwiceIsOriginal)</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><code>nonEmptyListGen</code> generates non-empty lists of integers.</li>
<li><code>nonEmptyListArb</code> creates an arbitrary from the custom generator.</li>
<li><code>Prop.forAll</code> runs the property test using the custom arbitrary.</li>
</ul>
</div><h2>Shrinking</h2>
<div class='content'><p>FsCheck automatically tries to shrink failing test cases to the smallest example that still fails. This helps in diagnosing the root cause of the failure.</p>
</div><h3>Example: Shrinking</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGZhaWxpbmdQcm9wZXJ0eSAoeDogaW50KSA9CiAgICB4ID4gMAoKQ2hlY2suUXVpY2sgZmFpbGluZ1Byb3BlcnR5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let failingProperty (x: int) =
    x &gt; 0

Check.Quick failingProperty</pre></div><div class='content'><p>If the property fails, FsCheck will try to find the smallest <code>x</code> that causes the failure.</p>
</div><h2>Practical Exercises</h2>
<div class='content'></div><h3>Exercise 1: Testing a Sorting Function</h3>
<div class='content'><p>Write a property-based test for a sorting function that checks if the output list is sorted and contains the same elements as the input list.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGlzU29ydGVkIGxzdCA9CiAgICBMaXN0LnBhaXJ3aXNlIGxzdCB8PiBMaXN0LmZvcmFsbCAoZnVuICh4LCB5KSAtPiB4IDw9IHkpCgpsZXQgc29ydFByb3BlcnR5IChsc3Q6IGludCBsaXN0KSA9CiAgICBsZXQgc29ydGVkTGlzdCA9IExpc3Quc29ydCBsc3QKICAgIGlzU29ydGVkIHNvcnRlZExpc3QgJiYgTGlzdC5sZW5ndGggc29ydGVkTGlzdCA9IExpc3QubGVuZ3RoIGxzdAoKQ2hlY2suUXVpY2sgc29ydFByb3BlcnR5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let isSorted lst =
    List.pairwise lst |&gt; List.forall (fun (x, y) -&gt; x &lt;= y)

let sortProperty (lst: int list) =
    let sortedList = List.sort lst
    isSorted sortedList &amp;&amp; List.length sortedList = List.length lst

Check.Quick sortProperty</pre></div><div class='content'></div><h3>Exercise 2: Testing a String Concatenation Function</h3>
<div class='content'><p>Write a property-based test for a string concatenation function that checks if the length of the concatenated string is equal to the sum of the lengths of the input strings.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGNvbmNhdFByb3BlcnR5IChzdHIxOiBzdHJpbmcpIChzdHIyOiBzdHJpbmcpID0KICAgIGxldCBjb25jYXRlbmF0ZWQgPSBzdHIxICsgc3RyMgogICAgU3RyaW5nLmxlbmd0aCBjb25jYXRlbmF0ZWQgPSBTdHJpbmcubGVuZ3RoIHN0cjEgKyBTdHJpbmcubGVuZ3RoIHN0cjIKCkNoZWNrLlF1aWNrIGNvbmNhdFByb3BlcnR5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let concatProperty (str1: string) (str2: string) =
    let concatenated = str1 + str2
    String.length concatenated = String.length str1 + String.length str2

Check.Quick concatProperty</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Overly Complex Properties</strong>: Keep properties simple and focused on one aspect of the function.</li>
<li><strong>Ignoring Edge Cases</strong>: Ensure your properties cover edge cases, such as empty lists or null values.</li>
<li><strong>Custom Generators</strong>: Use custom generators for complex data types to ensure comprehensive testing.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Property-based testing with FsCheck allows you to write more robust and comprehensive tests by focusing on the properties your code should satisfy. By defining properties and using generators, you can automatically test a wide range of inputs, uncovering edge cases and potential bugs that traditional unit tests might miss.</p>
<p>In the next module, we will explore debugging techniques to help you diagnose and fix issues in your F# code.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-01-unit-testing-nunit' title="Unit Testing with NUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-01-unit-testing-nunit' title="Unit Testing with NUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-03-debugging-techniques' title="Debugging Techniques" class="py-2 px-3 btn btn-primary"
				data-read-mod="fsharp" data-read-unit="8-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-03-debugging-techniques' title="Debugging Techniques" class="py-2 px-3 btn btn-primary" 
				data-read-mod="fsharp" data-read-unit="8-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>F# Programming Course</h1>
<h2>Module 1: Introduction to F#</h2>
<ul>
<li><a href="01-01-introduction-to-fsharp">Introduction to F#</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Environment</a></li>
<li><a href="01-03-basic-syntax-structure">Basic Syntax and Structure</a></li>
<li><a href="01-04-first-fsharp-program">First F# Program</a></li>
</ul>
<h2>Module 2: Core Concepts</h2>
<ul>
<li><a href="02-01-data-types-variables">Data Types and Variables</a></li>
<li><a href="02-02-functions-immutability">Functions and Immutability</a></li>
<li><a href="02-03-pattern-matching">Pattern Matching</a></li>
<li><a href="02-04-collections">Collections: Lists, Arrays, and Sequences</a></li>
</ul>
<h2>Module 3: Functional Programming</h2>
<ul>
<li><a href="03-01-higher-order-functions">Higher-Order Functions</a></li>
<li><a href="03-02-recursion">Recursion</a></li>
<li><a href="03-03-pipelining-composition">Pipelining and Composition</a></li>
<li><a href="03-04-partial-application-currying">Partial Application and Currying</a></li>
</ul>
<h2>Module 4: Advanced Data Structures</h2>
<ul>
<li><a href="04-01-tuples-records">Tuples and Records</a></li>
<li><a href="04-02-discriminated-unions">Discriminated Unions</a></li>
<li><a href="04-03-option-result-types">Option and Result Types</a></li>
<li><a href="04-04-maps-sets">Working with Maps and Sets</a></li>
</ul>
<h2>Module 5: Object-Oriented Programming in F#</h2>
<ul>
<li><a href="05-01-classes-objects">Classes and Objects</a></li>
<li><a href="05-02-inheritance-interfaces">Inheritance and Interfaces</a></li>
<li><a href="05-03-mixing-functional-oop">Mixing Functional and Object-Oriented Programming</a></li>
<li><a href="05-04-modules-namespaces">Modules and Namespaces</a></li>
</ul>
<h2>Module 6: Asynchronous and Parallel Programming</h2>
<ul>
<li><a href="06-01-asynchronous-workflows">Asynchronous Workflows</a></li>
<li><a href="06-02-task-parallel-library">Task Parallel Library</a></li>
<li><a href="06-03-mailboxprocessor-agents">MailboxProcessor and Agents</a></li>
<li><a href="06-04-concurrency-patterns">Concurrency Patterns</a></li>
</ul>
<h2>Module 7: Data Access and Manipulation</h2>
<ul>
<li><a href="07-01-working-with-json">Working with JSON</a></li>
<li><a href="07-02-interacting-with-databases">Interacting with Databases</a></li>
<li><a href="07-03-file-io">File I/O</a></li>
<li><a href="07-04-using-linq">Using LINQ in F#</a></li>
</ul>
<h2>Module 8: Testing and Debugging</h2>
<ul>
<li><a href="08-01-unit-testing-nunit">Unit Testing with NUnit</a></li>
<li><a href="08-02-property-based-testing-fscheck">Property-Based Testing with FsCheck</a></li>
<li><a href="08-03-debugging-techniques">Debugging Techniques</a></li>
<li><a href="08-04-performance-profiling">Performance Profiling</a></li>
</ul>
<h2>Module 9: Advanced Topics</h2>
<ul>
<li><a href="09-01-metaprogramming">Metaprogramming with F#</a></li>
<li><a href="09-02-type-providers">Type Providers</a></li>
<li><a href="09-03-domain-driven-design">Domain-Driven Design</a></li>
<li><a href="09-04-building-dsls">Building DSLs</a></li>
</ul>
<h2>Module 10: Practical Applications</h2>
<ul>
<li><a href="10-01-web-applications-giraffe">Building Web Applications with Giraffe</a></li>
<li><a href="10-02-desktop-applications-avalonia">Creating Desktop Applications with Avalonia</a></li>
<li><a href="10-03-game-development">Game Development with F#</a></li>
<li><a href="10-04-interoperability-csharp">Interoperability with C#</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
