<!DOCTYPE html>
<html lang="en">
<head>
    <title> Understanding the DirectX API </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/direct-x/01-03-understanding-directx-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/direct-x/01-03-understanding-directx-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/direct-x/01-03-understanding-directx-api" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "direct_x";
  		var TEMA_NAME = "1-3";
  		var TYPE = "mod";
  		var PATH = "mod/direct_x/01-03-understanding-directx-api";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/direct-x/01-03-understanding-directx-api" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/direct-x/01-03-understanding-directx-api" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="direct_x">
		<a  href="#" class="text-secondary d-none" data-read-mod="direct_x" data-read-unit="1-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="direct_x" data-unread-unit="1-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='01-02-setting-up-environment' title="Setting Up the Development Environment" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='01-02-setting-up-environment' title="Setting Up the Development Environment" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Understanding the DirectX API</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='01-04-creating-first-application' title="Creating Your First DirectX Application" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="1-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='01-04-creating-first-application' title="Creating Your First DirectX Application" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="1-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the DirectX API, which is a collection of APIs designed to handle tasks related to multimedia, especially game programming and video, on Microsoft platforms. Understanding the DirectX API is crucial for developing high-performance applications that leverage the power of modern graphics hardware.</p>
</div><h1>Key Concepts</h1>
<div class='content'></div><h2><ol>
<li>What is an API?</li>
</ol></h2>
<div class='content'><ul>
<li><strong>API (Application Programming Interface)</strong>: A set of functions and protocols that allow different software components to communicate with each other.</li>
<li><strong>DirectX API</strong>: A collection of APIs from Microsoft that handle multimedia tasks, including Direct3D for graphics, DirectSound for audio, and DirectInput for input devices.</li>
</ul>
</div><h2><ol start="2">
<li>Components of DirectX</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Direct3D</strong>: Handles 3D graphics rendering.</li>
<li><strong>Direct2D</strong>: Handles 2D graphics rendering.</li>
<li><strong>DirectWrite</strong>: Manages text rendering.</li>
<li><strong>DirectSound</strong>: Manages audio playback and recording.</li>
<li><strong>DirectInput</strong>: Handles input from devices like keyboards, mice, and game controllers.</li>
<li><strong>DirectCompute</strong>: Allows for general-purpose computing on the GPU.</li>
</ul>
</div><h2><ol start="3">
<li>DirectX Versions</li>
</ol></h2>
<div class='content'><ul>
<li><strong>DirectX 9</strong>: Widely used in older games and applications.</li>
<li><strong>DirectX 10</strong>: Introduced significant improvements in graphics rendering.</li>
<li><strong>DirectX 11</strong>: Added support for tessellation, multithreading, and compute shaders.</li>
<li><strong>DirectX 12</strong>: Focuses on low-level programming, providing more control over hardware and improving performance.</li>
</ul>
</div><h1>Practical Example: Initializing DirectX</h1>
<div class='content'><p>Let's walk through a simple example of initializing DirectX in a Windows application. This example will focus on setting up Direct3D 11.</p>
</div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Include Necessary Headers</strong></p>
<pre><code class="language-cpp">#include &lt;d3d11.h&gt;
#include &lt;d3dcompiler.h&gt;
#include &lt;DirectXMath.h&gt;
#include &lt;windows.h&gt;
</code></pre>
</li>
<li>
<p><strong>Define Global Variables</strong></p>
<pre><code class="language-cpp">ID3D11Device* g_pd3dDevice = nullptr;
ID3D11DeviceContext* g_pImmediateContext = nullptr;
IDXGISwapChain* g_pSwapChain = nullptr;
ID3D11RenderTargetView* g_pRenderTargetView = nullptr;
</code></pre>
</li>
<li>
<p><strong>Initialize Direct3D</strong></p>
<pre><code class="language-cpp">HRESULT InitD3D(HWND hWnd)
{
    // Create a swap chain description
    DXGI_SWAP_CHAIN_DESC sd;
    ZeroMemory(&amp;sd, sizeof(sd));
    sd.BufferCount = 1;
    sd.BufferDesc.Width = 800;
    sd.BufferDesc.Height = 600;
    sd.BufferDesc.Format = DXGI_FORMAT_R8G8B8A8_UNORM;
    sd.BufferDesc.RefreshRate.Numerator = 60;
    sd.BufferDesc.RefreshRate.Denominator = 1;
    sd.BufferUsage = DXGI_USAGE_RENDER_TARGET_OUTPUT;
    sd.OutputWindow = hWnd;
    sd.SampleDesc.Count = 1;
    sd.SampleDesc.Quality = 0;
    sd.Windowed = TRUE;

    // Create the device, device context, and swap chain
    HRESULT hr = D3D11CreateDeviceAndSwapChain(
        nullptr,
        D3D_DRIVER_TYPE_HARDWARE,
        nullptr,
        0,
        nullptr,
        0,
        D3D11_SDK_VERSION,
        &amp;sd,
        &amp;g_pSwapChain,
        &amp;g_pd3dDevice,
        nullptr,
        &amp;g_pImmediateContext
    );

    if (FAILED(hr))
        return hr;

    // Create a render target view
    ID3D11Texture2D* pBackBuffer = nullptr;
    g_pSwapChain-&gt;GetBuffer(0, __uuidof(ID3D11Texture2D), (LPVOID*)&amp;pBackBuffer);
    g_pd3dDevice-&gt;CreateRenderTargetView(pBackBuffer, nullptr, &amp;g_pRenderTargetView);
    pBackBuffer-&gt;Release();

    g_pImmediateContext-&gt;OMSetRenderTargets(1, &amp;g_pRenderTargetView, nullptr);

    // Setup the viewport
    D3D11_VIEWPORT vp;
    vp.Width = (FLOAT)800;
    vp.Height = (FLOAT)600;
    vp.MinDepth = 0.0f;
    vp.MaxDepth = 1.0f;
    vp.TopLeftX = 0;
    vp.TopLeftY = 0;
    g_pImmediateContext-&gt;RSSetViewports(1, &amp;vp);

    return S_OK;
}
</code></pre>
</li>
<li>
<p><strong>Clean Up Direct3D</strong></p>
<pre><code class="language-cpp">void CleanupDevice()
{
    if (g_pImmediateContext) g_pImmediateContext-&gt;ClearState();
    if (g_pRenderTargetView) g_pRenderTargetView-&gt;Release();
    if (g_pSwapChain) g_pSwapChain-&gt;Release();
    if (g_pImmediateContext) g_pImmediateContext-&gt;Release();
    if (g_pd3dDevice) g_pd3dDevice-&gt;Release();
}
</code></pre>
</li>
</ol>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Headers</strong>: We include the necessary DirectX headers for Direct3D and Windows.</li>
<li><strong>Global Variables</strong>: We define global pointers to the Direct3D device, device context, swap chain, and render target view.</li>
<li><strong>InitD3D Function</strong>: This function initializes Direct3D by creating a swap chain, device, and device context. It also sets up a render target view and viewport.</li>
<li><strong>CleanupDevice Function</strong>: This function releases all Direct3D resources to avoid memory leaks.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task</h2>
<div class='content'><p>Create a simple Direct3D application that initializes Direct3D and clears the screen to a solid color.</p>
</div><h2>Steps</h2>
<div class='content'><ol>
<li>Set up a Windows application with a main window.</li>
<li>Initialize Direct3D as shown in the example.</li>
<li>In the render loop, clear the screen to a solid color using <code>g_pImmediateContext-&gt;ClearRenderTargetView</code>.</li>
</ol>
</div><h2>Solution</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGQzZDExLmg+CiNpbmNsdWRlIDxkM2Rjb21waWxlci5oPgojaW5jbHVkZSA8RGlyZWN0WE1hdGguaD4KI2luY2x1ZGUgPHdpbmRvd3MuaD4KCklEM0QxMURldmljZSogZ19wZDNkRGV2aWNlID0gbnVsbHB0cjsKSUQzRDExRGV2aWNlQ29udGV4dCogZ19wSW1tZWRpYXRlQ29udGV4dCA9IG51bGxwdHI7CklEWEdJU3dhcENoYWluKiBnX3BTd2FwQ2hhaW4gPSBudWxscHRyOwpJRDNEMTFSZW5kZXJUYXJnZXRWaWV3KiBnX3BSZW5kZXJUYXJnZXRWaWV3ID0gbnVsbHB0cjsKCkhSRVNVTFQgSW5pdEQzRChIV05EIGhXbmQpOwp2b2lkIENsZWFudXBEZXZpY2UoKTsKdm9pZCBSZW5kZXIoKTsKCkxSRVNVTFQgQ0FMTEJBQ0sgV25kUHJvYyhIV05ELCBVSU5ULCBXUEFSQU0sIExQQVJBTSk7CgppbnQgV0lOQVBJIHdXaW5NYWluKEhJTlNUQU5DRSBoSW5zdGFuY2UsIEhJTlNUQU5DRSBoUHJldkluc3RhbmNlLCBMUFdTVFIgbHBDbWRMaW5lLCBpbnQgbkNtZFNob3cpCnsKICAgIFVOUkVGRVJFTkNFRF9QQVJBTUVURVIoaFByZXZJbnN0YW5jZSk7CiAgICBVTlJFRkVSRU5DRURfUEFSQU1FVEVSKGxwQ21kTGluZSk7CgogICAgLy8gUmVnaXN0ZXIgY2xhc3MKICAgIFdORENMQVNTRVggd2NleDsKICAgIHdjZXguY2JTaXplID0gc2l6ZW9mKFdORENMQVNTRVgpOwogICAgd2NleC5zdHlsZSA9IENTX0hSRURSQVcgfCBDU19WUkVEUkFXOwogICAgd2NleC5scGZuV25kUHJvYyA9IFduZFByb2M7CiAgICB3Y2V4LmNiQ2xzRXh0cmEgPSAwOwogICAgd2NleC5jYlduZEV4dHJhID0gMDsKICAgIHdjZXguaEluc3RhbmNlID0gaEluc3RhbmNlOwogICAgd2NleC5oSWNvbiA9IExvYWRJY29uKGhJbnN0YW5jZSwgSURJX0FQUExJQ0FUSU9OKTsKICAgIHdjZXguaEN1cnNvciA9IExvYWRDdXJzb3IobnVsbHB0ciwgSURDX0FSUk9XKTsKICAgIHdjZXguaGJyQmFja2dyb3VuZCA9IChIQlJVU0gpKENPTE9SX1dJTkRPVyArIDEpOwogICAgd2NleC5scHN6TWVudU5hbWUgPSBudWxscHRyOwogICAgd2NleC5scHN6Q2xhc3NOYW1lID0gTCJEaXJlY3RYRXhhbXBsZSI7CiAgICB3Y2V4LmhJY29uU20gPSBMb2FkSWNvbih3Y2V4LmhJbnN0YW5jZSwgSURJX0FQUExJQ0FUSU9OKTsKICAgIFJlZ2lzdGVyQ2xhc3NFeCgmd2NleCk7CgogICAgLy8gQ3JlYXRlIHdpbmRvdwogICAgSFdORCBoV25kID0gQ3JlYXRlV2luZG93KEwiRGlyZWN0WEV4YW1wbGUiLCBMIkRpcmVjdFggRXhhbXBsZSIsIFdTX09WRVJMQVBQRURXSU5ET1csCiAgICAgICAgQ1dfVVNFREVGQVVMVCwgMCwgODAwLCA2MDAsIG51bGxwdHIsIG51bGxwdHIsIGhJbnN0YW5jZSwgbnVsbHB0cik7CgogICAgaWYgKCFoV25kKQogICAgICAgIHJldHVybiBGQUxTRTsKCiAgICBTaG93V2luZG93KGhXbmQsIG5DbWRTaG93KTsKICAgIFVwZGF0ZVdpbmRvdyhoV25kKTsKCiAgICBpZiAoRkFJTEVEKEluaXREM0QoaFduZCkpKQogICAgewogICAgICAgIENsZWFudXBEZXZpY2UoKTsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBNYWluIG1lc3NhZ2UgbG9vcAogICAgTVNHIG1zZyA9IHsgMCB9OwogICAgd2hpbGUgKFdNX1FVSVQgIT0gbXNnLm1lc3NhZ2UpCiAgICB7CiAgICAgICAgaWYgKFBlZWtNZXNzYWdlKCZtc2csIG51bGxwdHIsIDAsIDAsIFBNX1JFTU9WRSkpCiAgICAgICAgewogICAgICAgICAgICBUcmFuc2xhdGVNZXNzYWdlKCZtc2cpOwogICAgICAgICAgICBEaXNwYXRjaE1lc3NhZ2UoJm1zZyk7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFJlbmRlcigpOwogICAgICAgIH0KICAgIH0KCiAgICBDbGVhbnVwRGV2aWNlKCk7CiAgICByZXR1cm4gKGludCltc2cud1BhcmFtOwp9CgpIUkVTVUxUIEluaXREM0QoSFdORCBoV25kKQp7CiAgICBEWEdJX1NXQVBfQ0hBSU5fREVTQyBzZDsKICAgIFplcm9NZW1vcnkoJnNkLCBzaXplb2Yoc2QpKTsKICAgIHNkLkJ1ZmZlckNvdW50ID0gMTsKICAgIHNkLkJ1ZmZlckRlc2MuV2lkdGggPSA4MDA7CiAgICBzZC5CdWZmZXJEZXNjLkhlaWdodCA9IDYwMDsKICAgIHNkLkJ1ZmZlckRlc2MuRm9ybWF0ID0gRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk07CiAgICBzZC5CdWZmZXJEZXNjLlJlZnJlc2hSYXRlLk51bWVyYXRvciA9IDYwOwogICAgc2QuQnVmZmVyRGVzYy5SZWZyZXNoUmF0ZS5EZW5vbWluYXRvciA9IDE7CiAgICBzZC5CdWZmZXJVc2FnZSA9IERYR0lfVVNBR0VfUkVOREVSX1RBUkdFVF9PVVRQVVQ7CiAgICBzZC5PdXRwdXRXaW5kb3cgPSBoV25kOwogICAgc2QuU2FtcGxlRGVzYy5Db3VudCA9IDE7CiAgICBzZC5TYW1wbGVEZXNjLlF1YWxpdHkgPSAwOwogICAgc2QuV2luZG93ZWQgPSBUUlVFOwoKICAgIEhSRVNVTFQgaHIgPSBEM0QxMUNyZWF0ZURldmljZUFuZFN3YXBDaGFpbigKICAgICAgICBudWxscHRyLAogICAgICAgIEQzRF9EUklWRVJfVFlQRV9IQVJEV0FSRSwKICAgICAgICBudWxscHRyLAogICAgICAgIDAsCiAgICAgICAgbnVsbHB0ciwKICAgICAgICAwLAogICAgICAgIEQzRDExX1NES19WRVJTSU9OLAogICAgICAgICZzZCwKICAgICAgICAmZ19wU3dhcENoYWluLAogICAgICAgICZnX3BkM2REZXZpY2UsCiAgICAgICAgbnVsbHB0ciwKICAgICAgICAmZ19wSW1tZWRpYXRlQ29udGV4dAogICAgKTsKCiAgICBpZiAoRkFJTEVEKGhyKSkKICAgICAgICByZXR1cm4gaHI7CgogICAgSUQzRDExVGV4dHVyZTJEKiBwQmFja0J1ZmZlciA9IG51bGxwdHI7CiAgICBnX3BTd2FwQ2hhaW4tPkdldEJ1ZmZlcigwLCBfX3V1aWRvZihJRDNEMTFUZXh0dXJlMkQpLCAoTFBWT0lEKikmcEJhY2tCdWZmZXIpOwogICAgZ19wZDNkRGV2aWNlLT5DcmVhdGVSZW5kZXJUYXJnZXRWaWV3KHBCYWNrQnVmZmVyLCBudWxscHRyLCAmZ19wUmVuZGVyVGFyZ2V0Vmlldyk7CiAgICBwQmFja0J1ZmZlci0+UmVsZWFzZSgpOwoKICAgIGdfcEltbWVkaWF0ZUNvbnRleHQtPk9NU2V0UmVuZGVyVGFyZ2V0cygxLCAmZ19wUmVuZGVyVGFyZ2V0VmlldywgbnVsbHB0cik7CgogICAgRDNEMTFfVklFV1BPUlQgdnA7CiAgICB2cC5XaWR0aCA9IChGTE9BVCk4MDA7CiAgICB2cC5IZWlnaHQgPSAoRkxPQVQpNjAwOwogICAgdnAuTWluRGVwdGggPSAwLjBmOwogICAgdnAuTWF4RGVwdGggPSAxLjBmOwogICAgdnAuVG9wTGVmdFggPSAwOwogICAgdnAuVG9wTGVmdFkgPSAwOwogICAgZ19wSW1tZWRpYXRlQ29udGV4dC0+UlNTZXRWaWV3cG9ydHMoMSwgJnZwKTsKCiAgICByZXR1cm4gU19PSzsKfQoKdm9pZCBDbGVhbnVwRGV2aWNlKCkKewogICAgaWYgKGdfcEltbWVkaWF0ZUNvbnRleHQpIGdfcEltbWVkaWF0ZUNvbnRleHQtPkNsZWFyU3RhdGUoKTsKICAgIGlmIChnX3BSZW5kZXJUYXJnZXRWaWV3KSBnX3BSZW5kZXJUYXJnZXRWaWV3LT5SZWxlYXNlKCk7CiAgICBpZiAoZ19wU3dhcENoYWluKSBnX3BTd2FwQ2hhaW4tPlJlbGVhc2UoKTsKICAgIGlmIChnX3BJbW1lZGlhdGVDb250ZXh0KSBnX3BJbW1lZGlhdGVDb250ZXh0LT5SZWxlYXNlKCk7CiAgICBpZiAoZ19wZDNkRGV2aWNlKSBnX3BkM2REZXZpY2UtPlJlbGVhc2UoKTsKfQoKdm9pZCBSZW5kZXIoKQp7CiAgICBmbG9hdCBDbGVhckNvbG9yWzRdID0geyAwLjBmLCAwLjEyNWYsIDAuM2YsIDEuMGYgfTsgLy8gUkdCQQogICAgZ19wSW1tZWRpYXRlQ29udGV4dC0+Q2xlYXJSZW5kZXJUYXJnZXRWaWV3KGdfcFJlbmRlclRhcmdldFZpZXcsIENsZWFyQ29sb3IpOwoKICAgIGdfcFN3YXBDaGFpbi0+UHJlc2VudCgwLCAwKTsKfQoKTFJFU1VMVCBDQUxMQkFDSyBXbmRQcm9jKEhXTkQgaFduZCwgVUlOVCBtZXNzYWdlLCBXUEFSQU0gd1BhcmFtLCBMUEFSQU0gbFBhcmFtKQp7CiAgICBzd2l0Y2ggKG1lc3NhZ2UpCiAgICB7CiAgICBjYXNlIFdNX1BBSU5UOgogICAgICAgIFBBSU5UU1RSVUNUIHBzOwogICAgICAgIEhEQyBoZGM7CiAgICAgICAgaGRjID0gQmVnaW5QYWludChoV25kLCAmcHMpOwogICAgICAgIEVuZFBhaW50KGhXbmQsICZwcyk7CiAgICAgICAgYnJlYWs7CiAgICBjYXNlIFdNX0RFU1RST1k6CiAgICAgICAgUG9zdFF1aXRNZXNzYWdlKDApOwogICAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gRGVmV2luZG93UHJvYyhoV25kLCBtZXNzYWdlLCB3UGFyYW0sIGxQYXJhbSk7CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;d3d11.h&gt;
#include &lt;d3dcompiler.h&gt;
#include &lt;DirectXMath.h&gt;
#include &lt;windows.h&gt;

ID3D11Device* g_pd3dDevice = nullptr;
ID3D11DeviceContext* g_pImmediateContext = nullptr;
IDXGISwapChain* g_pSwapChain = nullptr;
ID3D11RenderTargetView* g_pRenderTargetView = nullptr;

HRESULT InitD3D(HWND hWnd);
void CleanupDevice();
void Render();

LRESULT CALLBACK WndProc(HWND, UINT, WPARAM, LPARAM);

int WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPWSTR lpCmdLine, int nCmdShow)
{
    UNREFERENCED_PARAMETER(hPrevInstance);
    UNREFERENCED_PARAMETER(lpCmdLine);

    // Register class
    WNDCLASSEX wcex;
    wcex.cbSize = sizeof(WNDCLASSEX);
    wcex.style = CS_HREDRAW | CS_VREDRAW;
    wcex.lpfnWndProc = WndProc;
    wcex.cbClsExtra = 0;
    wcex.cbWndExtra = 0;
    wcex.hInstance = hInstance;
    wcex.hIcon = LoadIcon(hInstance, IDI_APPLICATION);
    wcex.hCursor = LoadCursor(nullptr, IDC_ARROW);
    wcex.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);
    wcex.lpszMenuName = nullptr;
    wcex.lpszClassName = L&quot;DirectXExample&quot;;
    wcex.hIconSm = LoadIcon(wcex.hInstance, IDI_APPLICATION);
    RegisterClassEx(&amp;wcex);

    // Create window
    HWND hWnd = CreateWindow(L&quot;DirectXExample&quot;, L&quot;DirectX Example&quot;, WS_OVERLAPPEDWINDOW,
        CW_USEDEFAULT, 0, 800, 600, nullptr, nullptr, hInstance, nullptr);

    if (!hWnd)
        return FALSE;

    ShowWindow(hWnd, nCmdShow);
    UpdateWindow(hWnd);

    if (FAILED(InitD3D(hWnd)))
    {
        CleanupDevice();
        return 0;
    }

    // Main message loop
    MSG msg = { 0 };
    while (WM_QUIT != msg.message)
    {
        if (PeekMessage(&amp;msg, nullptr, 0, 0, PM_REMOVE))
        {
            TranslateMessage(&amp;msg);
            DispatchMessage(&amp;msg);
        }
        else
        {
            Render();
        }
    }

    CleanupDevice();
    return (int)msg.wParam;
}

HRESULT InitD3D(HWND hWnd)
{
    DXGI_SWAP_CHAIN_DESC sd;
    ZeroMemory(&amp;sd, sizeof(sd));
    sd.BufferCount = 1;
    sd.BufferDesc.Width = 800;
    sd.BufferDesc.Height = 600;
    sd.BufferDesc.Format = DXGI_FORMAT_R8G8B8A8_UNORM;
    sd.BufferDesc.RefreshRate.Numerator = 60;
    sd.BufferDesc.RefreshRate.Denominator = 1;
    sd.BufferUsage = DXGI_USAGE_RENDER_TARGET_OUTPUT;
    sd.OutputWindow = hWnd;
    sd.SampleDesc.Count = 1;
    sd.SampleDesc.Quality = 0;
    sd.Windowed = TRUE;

    HRESULT hr = D3D11CreateDeviceAndSwapChain(
        nullptr,
        D3D_DRIVER_TYPE_HARDWARE,
        nullptr,
        0,
        nullptr,
        0,
        D3D11_SDK_VERSION,
        &amp;sd,
        &amp;g_pSwapChain,
        &amp;g_pd3dDevice,
        nullptr,
        &amp;g_pImmediateContext
    );

    if (FAILED(hr))
        return hr;

    ID3D11Texture2D* pBackBuffer = nullptr;
    g_pSwapChain-&gt;GetBuffer(0, __uuidof(ID3D11Texture2D), (LPVOID*)&amp;pBackBuffer);
    g_pd3dDevice-&gt;CreateRenderTargetView(pBackBuffer, nullptr, &amp;g_pRenderTargetView);
    pBackBuffer-&gt;Release();

    g_pImmediateContext-&gt;OMSetRenderTargets(1, &amp;g_pRenderTargetView, nullptr);

    D3D11_VIEWPORT vp;
    vp.Width = (FLOAT)800;
    vp.Height = (FLOAT)600;
    vp.MinDepth = 0.0f;
    vp.MaxDepth = 1.0f;
    vp.TopLeftX = 0;
    vp.TopLeftY = 0;
    g_pImmediateContext-&gt;RSSetViewports(1, &amp;vp);

    return S_OK;
}

void CleanupDevice()
{
    if (g_pImmediateContext) g_pImmediateContext-&gt;ClearState();
    if (g_pRenderTargetView) g_pRenderTargetView-&gt;Release();
    if (g_pSwapChain) g_pSwapChain-&gt;Release();
    if (g_pImmediateContext) g_pImmediateContext-&gt;Release();
    if (g_pd3dDevice) g_pd3dDevice-&gt;Release();
}

void Render()
{
    float ClearColor[4] = { 0.0f, 0.125f, 0.3f, 1.0f }; // RGBA
    g_pImmediateContext-&gt;ClearRenderTargetView(g_pRenderTargetView, ClearColor);

    g_pSwapChain-&gt;Present(0, 0);
}

LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    switch (message)
    {
    case WM_PAINT:
        PAINTSTRUCT ps;
        HDC hdc;
        hdc = BeginPaint(hWnd, &amp;ps);
        EndPaint(hWnd, &amp;ps);
        break;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
    }
    return 0;
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Main Function</strong>: Sets up the window and initializes Direct3D.</li>
<li><strong>Render Function</strong>: Clears the screen to a solid color and presents the back buffer.</li>
<li><strong>WndProc Function</strong>: Handles window messages.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, we covered the basics of the DirectX API, including its components and versions. We also walked through a practical example of initializing Direct3D and provided an exercise to reinforce the concepts. Understanding the DirectX API is fundamental for developing high-performance multimedia applications on Windows platforms. In the next module, we will dive deeper into Direct3D and explore its capabilities in more detail.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='01-02-setting-up-environment' title="Setting Up the Development Environment" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='01-02-setting-up-environment' title="Setting Up the Development Environment" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='01-04-creating-first-application' title="Creating Your First DirectX Application" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="1-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='01-04-creating-first-application' title="Creating Your First DirectX Application" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="1-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>DirectX Programming Course</h1>
<h2>Module 1: Introduction to DirectX</h2>
<ul>
<li><a href="01-01-what-is-directx">What is DirectX?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Development Environment</a></li>
<li><a href="01-03-understanding-directx-api">Understanding the DirectX API</a></li>
<li><a href="01-04-creating-first-application">Creating Your First DirectX Application</a></li>
</ul>
<h2>Module 2: Direct3D Basics</h2>
<ul>
<li><a href="02-01-introduction-to-direct3d">Introduction to Direct3D</a></li>
<li><a href="02-02-initializing-direct3d">Initializing Direct3D</a></li>
<li><a href="02-03-rendering-a-triangle">Rendering a Triangle</a></li>
<li><a href="02-04-handling-render-loop">Handling the Render Loop</a></li>
</ul>
<h2>Module 3: Working with Shaders</h2>
<ul>
<li><a href="03-01-introduction-to-shaders">Introduction to Shaders</a></li>
<li><a href="03-02-writing-vertex-shaders">Writing Vertex Shaders</a></li>
<li><a href="03-03-writing-pixel-shaders">Writing Pixel Shaders</a></li>
<li><a href="03-04-compiling-using-shaders">Compiling and Using Shaders</a></li>
</ul>
<h2>Module 4: Advanced Rendering Techniques</h2>
<ul>
<li><a href="04-01-texture-mapping">Texture Mapping</a></li>
<li><a href="04-02-lighting-and-materials">Lighting and Materials</a></li>
<li><a href="04-03-advanced-lighting-techniques">Advanced Lighting Techniques</a></li>
<li><a href="04-04-shadow-mapping">Shadow Mapping</a></li>
</ul>
<h2>Module 5: 3D Models and Animation</h2>
<ul>
<li><a href="05-01-loading-3d-models">Loading 3D Models</a></li>
<li><a href="05-02-animating-3d-models">Animating 3D Models</a></li>
<li><a href="05-03-skeletal-animation">Skeletal Animation</a></li>
<li><a href="05-04-morph-target-animation">Morph Target Animation</a></li>
</ul>
<h2>Module 6: Performance Optimization</h2>
<ul>
<li><a href="06-01-profiling-debugging">Profiling and Debugging</a></li>
<li><a href="06-02-optimizing-rendering-performance">Optimizing Rendering Performance</a></li>
<li><a href="06-03-memory-management">Memory Management</a></li>
<li><a href="06-04-multithreading-directx">Multithreading in DirectX</a></li>
</ul>
<h2>Module 7: Advanced Topics</h2>
<ul>
<li><a href="07-01-deferred-shading">Deferred Shading</a></li>
<li><a href="07-02-post-processing-effects">Post-Processing Effects</a></li>
<li><a href="07-03-tessellation">Tessellation</a></li>
<li><a href="07-04-ray-tracing">Ray Tracing</a></li>
</ul>
<h2>Module 8: DirectX in Practice</h2>
<ul>
<li><a href="08-01-building-game-engine">Building a Game Engine</a></li>
<li><a href="08-02-integrating-physics">Integrating Physics</a></li>
<li><a href="08-03-networking-directx">Networking in DirectX</a></li>
<li><a href="08-04-publishing-application">Publishing Your DirectX Application</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
