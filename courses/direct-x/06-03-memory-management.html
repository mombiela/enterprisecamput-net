<!DOCTYPE html>
<html lang="en">
<head>
    <title> Memory Management </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/direct-x/06-03-memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/direct-x/06-03-memory-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/direct-x/06-03-memory-management" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "direct_x";
  		var TEMA_NAME = "6-3";
  		var TYPE = "mod";
  		var PATH = "mod/direct_x/06-03-memory-management";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/direct-x/06-03-memory-management" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/direct-x/06-03-memory-management" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="direct_x">
		<a  href="#" class="text-secondary d-none" data-read-mod="direct_x" data-read-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="direct_x" data-unread-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-optimizing-rendering-performance' title="Optimizing Rendering Performance" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-optimizing-rendering-performance' title="Optimizing Rendering Performance" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Memory Management</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-multithreading-directx' title="Multithreading in DirectX" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="6-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-multithreading-directx' title="Multithreading in DirectX" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Memory management is a critical aspect of any high-performance application, especially in graphics programming with DirectX. Efficient memory management ensures that your application runs smoothly and can handle complex scenes without running out of memory or experiencing significant slowdowns.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Memory Allocation and Deallocation</strong>:</p>
<ul>
<li>Understanding how to allocate and deallocate memory efficiently.</li>
<li>Using DirectX-specific memory management functions.</li>
</ul>
</li>
<li>
<p><strong>Resource Management</strong>:</p>
<ul>
<li>Managing resources such as textures, buffers, and shaders.</li>
<li>Techniques for loading, unloading, and reusing resources.</li>
</ul>
</li>
<li>
<p><strong>Memory Pools</strong>:</p>
<ul>
<li>Using memory pools to manage memory more efficiently.</li>
<li>Benefits of memory pooling in reducing fragmentation and improving performance.</li>
</ul>
</li>
<li>
<p><strong>Garbage Collection</strong>:</p>
<ul>
<li>Implementing custom garbage collection mechanisms.</li>
<li>Strategies to avoid memory leaks.</li>
</ul>
</li>
<li>
<p><strong>Profiling and Debugging</strong>:</p>
<ul>
<li>Tools and techniques for profiling memory usage.</li>
<li>Debugging memory-related issues.</li>
</ul>
</li>
</ol>
</div><h2>Memory Allocation and Deallocation</h2>
<div class='content'></div><h3>DirectX Memory Management Functions</h3>
<div class='content'><p>DirectX provides several functions to manage memory. Here are some common ones:</p>
<ul>
<li><strong>ID3D12Device::CreateCommittedResource</strong>: Allocates memory for a resource and creates it.</li>
<li><strong>ID3D12Resource::Release</strong>: Deallocates memory for a resource.</li>
</ul>
</div><h3>Example: Allocating and Releasing a Buffer</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQWxsb2NhdGUgYSBidWZmZXIKSUQzRDEyUmVzb3VyY2UqIHZlcnRleEJ1ZmZlcjsKRDNEMTJfSEVBUF9QUk9QRVJUSUVTIGhlYXBQcm9wcyA9IHt9OwpoZWFwUHJvcHMuVHlwZSA9IEQzRDEyX0hFQVBfVFlQRV9VUExPQUQ7CgpEM0QxMl9SRVNPVVJDRV9ERVNDIHJlc291cmNlRGVzYyA9IHt9OwpyZXNvdXJjZURlc2MuRGltZW5zaW9uID0gRDNEMTJfUkVTT1VSQ0VfRElNRU5TSU9OX0JVRkZFUjsKcmVzb3VyY2VEZXNjLldpZHRoID0gYnVmZmVyU2l6ZTsKcmVzb3VyY2VEZXNjLkhlaWdodCA9IDE7CnJlc291cmNlRGVzYy5EZXB0aE9yQXJyYXlTaXplID0gMTsKcmVzb3VyY2VEZXNjLk1pcExldmVscyA9IDE7CnJlc291cmNlRGVzYy5Gb3JtYXQgPSBEWEdJX0ZPUk1BVF9VTktOT1dOOwpyZXNvdXJjZURlc2MuU2FtcGxlRGVzYy5Db3VudCA9IDE7CnJlc291cmNlRGVzYy5MYXlvdXQgPSBEM0QxMl9URVhUVVJFX0xBWU9VVF9ST1dfTUFKT1I7CgpIUkVTVUxUIGhyID0gZGV2aWNlLT5DcmVhdGVDb21taXR0ZWRSZXNvdXJjZSgKICAgICZoZWFwUHJvcHMsCiAgICBEM0QxMl9IRUFQX0ZMQUdfTk9ORSwKICAgICZyZXNvdXJjZURlc2MsCiAgICBEM0QxMl9SRVNPVVJDRV9TVEFURV9HRU5FUklDX1JFQUQsCiAgICBudWxscHRyLAogICAgSUlEX1BQVl9BUkdTKCZ2ZXJ0ZXhCdWZmZXIpCik7CgppZiAoRkFJTEVEKGhyKSkgewogICAgLy8gSGFuZGxlIGVycm9yCn0KCi8vIFVzZSB0aGUgYnVmZmVyLi4uCgovLyBSZWxlYXNlIHRoZSBidWZmZXIKdmVydGV4QnVmZmVyLT5SZWxlYXNlKCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Allocate a buffer
ID3D12Resource* vertexBuffer;
D3D12_HEAP_PROPERTIES heapProps = {};
heapProps.Type = D3D12_HEAP_TYPE_UPLOAD;

D3D12_RESOURCE_DESC resourceDesc = {};
resourceDesc.Dimension = D3D12_RESOURCE_DIMENSION_BUFFER;
resourceDesc.Width = bufferSize;
resourceDesc.Height = 1;
resourceDesc.DepthOrArraySize = 1;
resourceDesc.MipLevels = 1;
resourceDesc.Format = DXGI_FORMAT_UNKNOWN;
resourceDesc.SampleDesc.Count = 1;
resourceDesc.Layout = D3D12_TEXTURE_LAYOUT_ROW_MAJOR;

HRESULT hr = device-&gt;CreateCommittedResource(
    &amp;heapProps,
    D3D12_HEAP_FLAG_NONE,
    &amp;resourceDesc,
    D3D12_RESOURCE_STATE_GENERIC_READ,
    nullptr,
    IID_PPV_ARGS(&amp;vertexBuffer)
);

if (FAILED(hr)) {
    // Handle error
}

// Use the buffer...

// Release the buffer
vertexBuffer-&gt;Release();</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>ID3D12Device::CreateCommittedResource</strong>: This function allocates memory for a resource and creates it. The <code>heapProps</code> and <code>resourceDesc</code> structures define the properties and description of the resource.</li>
<li><strong>ID3D12Resource::Release</strong>: This function releases the memory allocated for the resource.</li>
</ul>
</div><h2>Resource Management</h2>
<div class='content'></div><h3>Loading and Unloading Resources</h3>
<div class='content'><p>Efficiently managing resources such as textures and buffers is crucial. Load resources when needed and unload them when they are no longer required.</p>
</div><h3>Example: Loading a Texture</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUQzRDEyUmVzb3VyY2UqIHRleHR1cmU7CkQzRDEyX1JFU09VUkNFX0RFU0MgdGV4dHVyZURlc2MgPSB7fTsKdGV4dHVyZURlc2MuTWlwTGV2ZWxzID0gMTsKdGV4dHVyZURlc2MuRm9ybWF0ID0gRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk07CnRleHR1cmVEZXNjLldpZHRoID0gdGV4dHVyZVdpZHRoOwp0ZXh0dXJlRGVzYy5IZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0Owp0ZXh0dXJlRGVzYy5GbGFncyA9IEQzRDEyX1JFU09VUkNFX0ZMQUdfTk9ORTsKdGV4dHVyZURlc2MuRGVwdGhPckFycmF5U2l6ZSA9IDE7CnRleHR1cmVEZXNjLlNhbXBsZURlc2MuQ291bnQgPSAxOwp0ZXh0dXJlRGVzYy5TYW1wbGVEZXNjLlF1YWxpdHkgPSAwOwp0ZXh0dXJlRGVzYy5EaW1lbnNpb24gPSBEM0QxMl9SRVNPVVJDRV9ESU1FTlNJT05fVEVYVFVSRTJEOwoKQ0QzRFgxMl9IRUFQX1BST1BFUlRJRVMgaGVhcFByb3BzKEQzRDEyX0hFQVBfVFlQRV9ERUZBVUxUKTsKCkhSRVNVTFQgaHIgPSBkZXZpY2UtPkNyZWF0ZUNvbW1pdHRlZFJlc291cmNlKAogICAgJmhlYXBQcm9wcywKICAgIEQzRDEyX0hFQVBfRkxBR19OT05FLAogICAgJnRleHR1cmVEZXNjLAogICAgRDNEMTJfUkVTT1VSQ0VfU1RBVEVfQ09QWV9ERVNULAogICAgbnVsbHB0ciwKICAgIElJRF9QUFZfQVJHUygmdGV4dHVyZSkKKTsKCmlmIChGQUlMRUQoaHIpKSB7CiAgICAvLyBIYW5kbGUgZXJyb3IKfQoKLy8gVXNlIHRoZSB0ZXh0dXJlLi4uCgovLyBSZWxlYXNlIHRoZSB0ZXh0dXJlCnRleHR1cmUtPlJlbGVhc2UoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ID3D12Resource* texture;
D3D12_RESOURCE_DESC textureDesc = {};
textureDesc.MipLevels = 1;
textureDesc.Format = DXGI_FORMAT_R8G8B8A8_UNORM;
textureDesc.Width = textureWidth;
textureDesc.Height = textureHeight;
textureDesc.Flags = D3D12_RESOURCE_FLAG_NONE;
textureDesc.DepthOrArraySize = 1;
textureDesc.SampleDesc.Count = 1;
textureDesc.SampleDesc.Quality = 0;
textureDesc.Dimension = D3D12_RESOURCE_DIMENSION_TEXTURE2D;

CD3DX12_HEAP_PROPERTIES heapProps(D3D12_HEAP_TYPE_DEFAULT);

HRESULT hr = device-&gt;CreateCommittedResource(
    &amp;heapProps,
    D3D12_HEAP_FLAG_NONE,
    &amp;textureDesc,
    D3D12_RESOURCE_STATE_COPY_DEST,
    nullptr,
    IID_PPV_ARGS(&amp;texture)
);

if (FAILED(hr)) {
    // Handle error
}

// Use the texture...

// Release the texture
texture-&gt;Release();</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>D3D12_RESOURCE_DESC</strong>: Describes the properties of the texture.</li>
<li><strong>CD3DX12_HEAP_PROPERTIES</strong>: Helper class to set heap properties.</li>
<li><strong>ID3D12Device::CreateCommittedResource</strong>: Allocates memory and creates the texture resource.</li>
</ul>
</div><h2>Memory Pools</h2>
<div class='content'><p>Memory pools can help manage memory more efficiently by reducing fragmentation and improving performance.</p>
</div><h3>Example: Using a Memory Pool</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5lIGEgbWVtb3J5IHBvb2wKc3RkOjp2ZWN0b3I8SUQzRDEyUmVzb3VyY2UqPiBtZW1vcnlQb29sOwoKLy8gQWxsb2NhdGUgcmVzb3VyY2VzIGFuZCBhZGQgdGhlbSB0byB0aGUgcG9vbApmb3IgKGludCBpID0gMDsgaSA8IHBvb2xTaXplOyArK2kpIHsKICAgIElEM0QxMlJlc291cmNlKiByZXNvdXJjZTsKICAgIC8vIEFsbG9jYXRlIHJlc291cmNlLi4uCiAgICBtZW1vcnlQb29sLnB1c2hfYmFjayhyZXNvdXJjZSk7Cn0KCi8vIFVzZSByZXNvdXJjZXMgZnJvbSB0aGUgcG9vbC4uLgoKLy8gUmVsZWFzZSByZXNvdXJjZXMgaW4gdGhlIHBvb2wKZm9yIChhdXRvIHJlc291cmNlIDogbWVtb3J5UG9vbCkgewogICAgcmVzb3VyY2UtPlJlbGVhc2UoKTsKfQptZW1vcnlQb29sLmNsZWFyKCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Define a memory pool
std::vector&lt;ID3D12Resource*&gt; memoryPool;

// Allocate resources and add them to the pool
for (int i = 0; i &lt; poolSize; ++i) {
    ID3D12Resource* resource;
    // Allocate resource...
    memoryPool.push_back(resource);
}

// Use resources from the pool...

// Release resources in the pool
for (auto resource : memoryPool) {
    resource-&gt;Release();
}
memoryPool.clear();</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>Memory Pool</strong>: A vector is used to manage a pool of resources.</li>
<li><strong>Allocation and Deallocation</strong>: Resources are allocated and added to the pool, and later released when no longer needed.</li>
</ul>
</div><h2>Garbage Collection</h2>
<div class='content'><p>Implementing custom garbage collection mechanisms can help avoid memory leaks.</p>
</div><h3>Example: Simple Garbage Collector</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgR2FyYmFnZUNvbGxlY3RvciB7CnB1YmxpYzoKICAgIHZvaWQgQWRkUmVzb3VyY2UoSUQzRDEyUmVzb3VyY2UqIHJlc291cmNlKSB7CiAgICAgICAgcmVzb3VyY2VzLnB1c2hfYmFjayhyZXNvdXJjZSk7CiAgICB9CgogICAgdm9pZCBDb2xsZWN0KCkgewogICAgICAgIGZvciAoYXV0byByZXNvdXJjZSA6IHJlc291cmNlcykgewogICAgICAgICAgICByZXNvdXJjZS0+UmVsZWFzZSgpOwogICAgICAgIH0KICAgICAgICByZXNvdXJjZXMuY2xlYXIoKTsKICAgIH0KCnByaXZhdGU6CiAgICBzdGQ6OnZlY3RvcjxJRDNEMTJSZXNvdXJjZSo+IHJlc291cmNlczsKfTsKCi8vIFVzYWdlCkdhcmJhZ2VDb2xsZWN0b3IgZ2M7CmdjLkFkZFJlc291cmNlKHZlcnRleEJ1ZmZlcik7CmdjLkFkZFJlc291cmNlKHRleHR1cmUpOwoKLy8gQ29sbGVjdCBnYXJiYWdlCmdjLkNvbGxlY3QoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class GarbageCollector {
public:
    void AddResource(ID3D12Resource* resource) {
        resources.push_back(resource);
    }

    void Collect() {
        for (auto resource : resources) {
            resource-&gt;Release();
        }
        resources.clear();
    }

private:
    std::vector&lt;ID3D12Resource*&gt; resources;
};

// Usage
GarbageCollector gc;
gc.AddResource(vertexBuffer);
gc.AddResource(texture);

// Collect garbage
gc.Collect();</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>GarbageCollector Class</strong>: Manages a list of resources.</li>
<li><strong>AddResource</strong>: Adds a resource to the list.</li>
<li><strong>Collect</strong>: Releases all resources in the list and clears it.</li>
</ul>
</div><h2>Profiling and Debugging</h2>
<div class='content'></div><h3>Tools and Techniques</h3>
<div class='content'><ul>
<li><strong>Visual Studio Profiler</strong>: Use the built-in profiler to analyze memory usage.</li>
<li><strong>DirectX Debug Layer</strong>: Enable the debug layer to catch memory-related issues.</li>
</ul>
</div><h3>Example: Enabling the Debug Layer</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2lmIGRlZmluZWQoX0RFQlVHKQpDb21QdHI8SUQzRDEyRGVidWc+IGRlYnVnQ29udHJvbGxlcjsKaWYgKFNVQ0NFRURFRChEM0QxMkdldERlYnVnSW50ZXJmYWNlKElJRF9QUFZfQVJHUygmZGVidWdDb250cm9sbGVyKSkpKSB7CiAgICBkZWJ1Z0NvbnRyb2xsZXItPkVuYWJsZURlYnVnTGF5ZXIoKTsKfQojZW5kaWY="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#if defined(_DEBUG)
ComPtr&lt;ID3D12Debug&gt; debugController;
if (SUCCEEDED(D3D12GetDebugInterface(IID_PPV_ARGS(&amp;debugController)))) {
    debugController-&gt;EnableDebugLayer();
}
#endif</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>ID3D12Debug</strong>: Interface to enable the debug layer.</li>
<li><strong>EnableDebugLayer</strong>: Enables the debug layer to catch memory-related issues.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Implement a Simple Resource Manager</h3>
<div class='content'><ol>
<li><strong>Objective</strong>: Create a simple resource manager that can load, manage, and release resources.</li>
<li><strong>Steps</strong>:
<ul>
<li>Define a <code>ResourceManager</code> class.</li>
<li>Implement methods to load and release resources.</li>
<li>Use the resource manager in a sample application.</li>
</ul>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUmVzb3VyY2VNYW5hZ2VyIHsKcHVibGljOgogICAgSUQzRDEyUmVzb3VyY2UqIExvYWRUZXh0dXJlKElEM0QxMkRldmljZSogZGV2aWNlLCBjb25zdCBzdGQ6OndzdHJpbmcmIGZpbGVuYW1lKSB7CiAgICAgICAgLy8gTG9hZCB0ZXh0dXJlIGZyb20gZmlsZS4uLgogICAgICAgIElEM0QxMlJlc291cmNlKiB0ZXh0dXJlOwogICAgICAgIC8vIEFsbG9jYXRlIGFuZCBjcmVhdGUgdGV4dHVyZS4uLgogICAgICAgIHJlc291cmNlcy5wdXNoX2JhY2sodGV4dHVyZSk7CiAgICAgICAgcmV0dXJuIHRleHR1cmU7CiAgICB9CgogICAgdm9pZCBSZWxlYXNlUmVzb3VyY2VzKCkgewogICAgICAgIGZvciAoYXV0byByZXNvdXJjZSA6IHJlc291cmNlcykgewogICAgICAgICAgICByZXNvdXJjZS0+UmVsZWFzZSgpOwogICAgICAgIH0KICAgICAgICByZXNvdXJjZXMuY2xlYXIoKTsKICAgIH0KCnByaXZhdGU6CiAgICBzdGQ6OnZlY3RvcjxJRDNEMTJSZXNvdXJjZSo+IHJlc291cmNlczsKfTsKCi8vIFVzYWdlClJlc291cmNlTWFuYWdlciByZXNvdXJjZU1hbmFnZXI7CklEM0QxMlJlc291cmNlKiB0ZXh0dXJlID0gcmVzb3VyY2VNYW5hZ2VyLkxvYWRUZXh0dXJlKGRldmljZSwgTCJ0ZXh0dXJlLnBuZyIpOwoKLy8gVXNlIHRoZSB0ZXh0dXJlLi4uCgovLyBSZWxlYXNlIGFsbCByZXNvdXJjZXMKcmVzb3VyY2VNYW5hZ2VyLlJlbGVhc2VSZXNvdXJjZXMoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ResourceManager {
public:
    ID3D12Resource* LoadTexture(ID3D12Device* device, const std::wstring&amp; filename) {
        // Load texture from file...
        ID3D12Resource* texture;
        // Allocate and create texture...
        resources.push_back(texture);
        return texture;
    }

    void ReleaseResources() {
        for (auto resource : resources) {
            resource-&gt;Release();
        }
        resources.clear();
    }

private:
    std::vector&lt;ID3D12Resource*&gt; resources;
};

// Usage
ResourceManager resourceManager;
ID3D12Resource* texture = resourceManager.LoadTexture(device, L&quot;texture.png&quot;);

// Use the texture...

// Release all resources
resourceManager.ReleaseResources();</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>ResourceManager Class</strong>: Manages a list of resources.</li>
<li><strong>LoadTexture</strong>: Loads a texture and adds it to the list.</li>
<li><strong>ReleaseResources</strong>: Releases all resources in the list and clears it.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we covered the essentials of memory management in DirectX, including memory allocation and deallocation, resource management, memory pools, garbage collection, and profiling and debugging. Efficient memory management is crucial for creating high-performance DirectX applications. By following the techniques and examples provided, you can ensure that your application runs smoothly and efficiently.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-optimizing-rendering-performance' title="Optimizing Rendering Performance" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-optimizing-rendering-performance' title="Optimizing Rendering Performance" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-multithreading-directx' title="Multithreading in DirectX" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="6-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-multithreading-directx' title="Multithreading in DirectX" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>DirectX Programming Course</h1>
<h2>Module 1: Introduction to DirectX</h2>
<ul>
<li><a href="01-01-what-is-directx">What is DirectX?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Development Environment</a></li>
<li><a href="01-03-understanding-directx-api">Understanding the DirectX API</a></li>
<li><a href="01-04-creating-first-application">Creating Your First DirectX Application</a></li>
</ul>
<h2>Module 2: Direct3D Basics</h2>
<ul>
<li><a href="02-01-introduction-to-direct3d">Introduction to Direct3D</a></li>
<li><a href="02-02-initializing-direct3d">Initializing Direct3D</a></li>
<li><a href="02-03-rendering-a-triangle">Rendering a Triangle</a></li>
<li><a href="02-04-handling-render-loop">Handling the Render Loop</a></li>
</ul>
<h2>Module 3: Working with Shaders</h2>
<ul>
<li><a href="03-01-introduction-to-shaders">Introduction to Shaders</a></li>
<li><a href="03-02-writing-vertex-shaders">Writing Vertex Shaders</a></li>
<li><a href="03-03-writing-pixel-shaders">Writing Pixel Shaders</a></li>
<li><a href="03-04-compiling-using-shaders">Compiling and Using Shaders</a></li>
</ul>
<h2>Module 4: Advanced Rendering Techniques</h2>
<ul>
<li><a href="04-01-texture-mapping">Texture Mapping</a></li>
<li><a href="04-02-lighting-and-materials">Lighting and Materials</a></li>
<li><a href="04-03-advanced-lighting-techniques">Advanced Lighting Techniques</a></li>
<li><a href="04-04-shadow-mapping">Shadow Mapping</a></li>
</ul>
<h2>Module 5: 3D Models and Animation</h2>
<ul>
<li><a href="05-01-loading-3d-models">Loading 3D Models</a></li>
<li><a href="05-02-animating-3d-models">Animating 3D Models</a></li>
<li><a href="05-03-skeletal-animation">Skeletal Animation</a></li>
<li><a href="05-04-morph-target-animation">Morph Target Animation</a></li>
</ul>
<h2>Module 6: Performance Optimization</h2>
<ul>
<li><a href="06-01-profiling-debugging">Profiling and Debugging</a></li>
<li><a href="06-02-optimizing-rendering-performance">Optimizing Rendering Performance</a></li>
<li><a href="06-03-memory-management">Memory Management</a></li>
<li><a href="06-04-multithreading-directx">Multithreading in DirectX</a></li>
</ul>
<h2>Module 7: Advanced Topics</h2>
<ul>
<li><a href="07-01-deferred-shading">Deferred Shading</a></li>
<li><a href="07-02-post-processing-effects">Post-Processing Effects</a></li>
<li><a href="07-03-tessellation">Tessellation</a></li>
<li><a href="07-04-ray-tracing">Ray Tracing</a></li>
</ul>
<h2>Module 8: DirectX in Practice</h2>
<ul>
<li><a href="08-01-building-game-engine">Building a Game Engine</a></li>
<li><a href="08-02-integrating-physics">Integrating Physics</a></li>
<li><a href="08-03-networking-directx">Networking in DirectX</a></li>
<li><a href="08-04-publishing-application">Publishing Your DirectX Application</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
