<!DOCTYPE html>
<html lang="en">
<head>
    <title> Animating 3D Models </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/direct-x/05-02-animating-3d-models" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/direct-x/05-02-animating-3d-models" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/direct-x/05-02-animating-3d-models" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "direct_x";
  		var TEMA_NAME = "5-2";
  		var TYPE = "mod";
  		var PATH = "mod/direct_x/05-02-animating-3d-models";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.ae32789132.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/direct-x/05-02-animating-3d-models" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/direct-x/05-02-animating-3d-models" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="direct_x">
		<a  href="#" class="text-secondary d-none" data-read-mod="direct_x" data-read-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="direct_x" data-unread-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-loading-3d-models' title="Loading 3D Models" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-loading-3d-models' title="Loading 3D Models" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Animating 3D Models</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-skeletal-animation' title="Skeletal Animation" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-skeletal-animation' title="Skeletal Animation" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the fundamentals of animating 3D models in DirectX. Animation is a crucial aspect of creating dynamic and engaging 3D applications, such as games and simulations. We will cover the following topics:</p>
<ol>
<li><strong>Understanding Animation Basics</strong></li>
<li><strong>Keyframe Animation</strong></li>
<li><strong>Interpolating Between Keyframes</strong></li>
<li><strong>Implementing Animation in DirectX</strong></li>
<li><strong>Practical Exercises</strong></li>
</ol>
</div><h2>Understanding Animation Basics</h2>
<div class='content'><p>Animation in 3D graphics involves changing the properties of objects over time to create the illusion of movement. The primary properties that can be animated include:</p>
<ul>
<li><strong>Position</strong>: Moving an object from one place to another.</li>
<li><strong>Rotation</strong>: Rotating an object around an axis.</li>
<li><strong>Scale</strong>: Changing the size of an object.</li>
<li><strong>Morphing</strong>: Changing the shape of an object.</li>
</ul>
</div><h2>Keyframe Animation</h2>
<div class='content'><p>Keyframe animation is a technique where specific &quot;key&quot; frames are defined at certain points in time, and the intermediate frames are interpolated between these keyframes. This method is widely used due to its simplicity and efficiency.</p>
</div><h3>Example of Keyframe Data Structure</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RydWN0IEtleWZyYW1lIHsKICAgIGZsb2F0IHRpbWU7IC8vIFRpbWUgb2YgdGhlIGtleWZyYW1lCiAgICBEaXJlY3RYOjpYTUZMT0FUMyBwb3NpdGlvbjsgLy8gUG9zaXRpb24gYXQgdGhpcyBrZXlmcmFtZQogICAgRGlyZWN0WDo6WE1GTE9BVDQgcm90YXRpb247IC8vIFJvdGF0aW9uIChxdWF0ZXJuaW9uKSBhdCB0aGlzIGtleWZyYW1lCiAgICBEaXJlY3RYOjpYTUZMT0FUMyBzY2FsZTsgLy8gU2NhbGUgYXQgdGhpcyBrZXlmcmFtZQp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>struct Keyframe {
    float time; // Time of the keyframe
    DirectX::XMFLOAT3 position; // Position at this keyframe
    DirectX::XMFLOAT4 rotation; // Rotation (quaternion) at this keyframe
    DirectX::XMFLOAT3 scale; // Scale at this keyframe
};</pre></div><div class='content'></div><h3>Example Keyframe Sequence</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RkOjp2ZWN0b3I8S2V5ZnJhbWU+IGtleWZyYW1lcyA9IHsKICAgIHswLjBmLCB7MC4wZiwgMC4wZiwgMC4wZn0sIHswLjBmLCAwLjBmLCAwLjBmLCAxLjBmfSwgezEuMGYsIDEuMGYsIDEuMGZ9fSwKICAgIHsxLjBmLCB7MS4wZiwgMC4wZiwgMC4wZn0sIHswLjBmLCAwLjBmLCAwLjcwN2YsIDAuNzA3Zn0sIHsxLjBmLCAxLjBmLCAxLjBmfX0sCiAgICB7Mi4wZiwgezIuMGYsIDAuMGYsIDAuMGZ9LCB7MC4wZiwgMC4wZiwgMS4wZiwgMC4wZn0sIHsxLjBmLCAxLjBmLCAxLjBmfX0KfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>std::vector&lt;Keyframe&gt; keyframes = {
    {0.0f, {0.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 0.0f, 1.0f}, {1.0f, 1.0f, 1.0f}},
    {1.0f, {1.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 0.707f, 0.707f}, {1.0f, 1.0f, 1.0f}},
    {2.0f, {2.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 1.0f, 0.0f}, {1.0f, 1.0f, 1.0f}}
};</pre></div><div class='content'></div><h2>Interpolating Between Keyframes</h2>
<div class='content'><p>To create smooth animations, we need to interpolate between keyframes. Linear interpolation (LERP) is commonly used for position and scale, while spherical linear interpolation (SLERP) is used for rotations.</p>
</div><h3>Linear Interpolation (LERP)</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RGlyZWN0WDo6WE1GTE9BVDMgTGVycChjb25zdCBEaXJlY3RYOjpYTUZMT0FUMyYgc3RhcnQsIGNvbnN0IERpcmVjdFg6OlhNRkxPQVQzJiBlbmQsIGZsb2F0IHQpIHsKICAgIHJldHVybiB7CiAgICAgICAgc3RhcnQueCArIHQgKiAoZW5kLnggLSBzdGFydC54KSwKICAgICAgICBzdGFydC55ICsgdCAqIChlbmQueSAtIHN0YXJ0LnkpLAogICAgICAgIHN0YXJ0LnogKyB0ICogKGVuZC56IC0gc3RhcnQueikKICAgIH07Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DirectX::XMFLOAT3 Lerp(const DirectX::XMFLOAT3&amp; start, const DirectX::XMFLOAT3&amp; end, float t) {
    return {
        start.x + t * (end.x - start.x),
        start.y + t * (end.y - start.y),
        start.z + t * (end.z - start.z)
    };
}</pre></div><div class='content'></div><h3>Spherical Linear Interpolation (SLERP)</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RGlyZWN0WDo6WE1GTE9BVDQgU2xlcnAoY29uc3QgRGlyZWN0WDo6WE1GTE9BVDQmIHN0YXJ0LCBjb25zdCBEaXJlY3RYOjpYTUZMT0FUNCYgZW5kLCBmbG9hdCB0KSB7CiAgICBEaXJlY3RYOjpYTVZFQ1RPUiBzdGFydFZlYyA9IERpcmVjdFg6OlhNTG9hZEZsb2F0NCgmc3RhcnQpOwogICAgRGlyZWN0WDo6WE1WRUNUT1IgZW5kVmVjID0gRGlyZWN0WDo6WE1Mb2FkRmxvYXQ0KCZlbmQpOwogICAgRGlyZWN0WDo6WE1WRUNUT1IgcmVzdWx0VmVjID0gRGlyZWN0WDo6WE1RdWF0ZXJuaW9uU2xlcnAoc3RhcnRWZWMsIGVuZFZlYywgdCk7CiAgICBEaXJlY3RYOjpYTUZMT0FUNCByZXN1bHQ7CiAgICBEaXJlY3RYOjpYTVN0b3JlRmxvYXQ0KCZyZXN1bHQsIHJlc3VsdFZlYyk7CiAgICByZXR1cm4gcmVzdWx0Owp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DirectX::XMFLOAT4 Slerp(const DirectX::XMFLOAT4&amp; start, const DirectX::XMFLOAT4&amp; end, float t) {
    DirectX::XMVECTOR startVec = DirectX::XMLoadFloat4(&amp;start);
    DirectX::XMVECTOR endVec = DirectX::XMLoadFloat4(&amp;end);
    DirectX::XMVECTOR resultVec = DirectX::XMQuaternionSlerp(startVec, endVec, t);
    DirectX::XMFLOAT4 result;
    DirectX::XMStoreFloat4(&amp;result, resultVec);
    return result;
}</pre></div><div class='content'></div><h2>Implementing Animation in DirectX</h2>
<div class='content'><p>To implement animation in DirectX, follow these steps:</p>
<ol>
<li><strong>Load Keyframe Data</strong>: Load the keyframe data for the model.</li>
<li><strong>Calculate Interpolation</strong>: Interpolate between keyframes based on the current time.</li>
<li><strong>Update Model Transform</strong>: Apply the interpolated transformation to the model.</li>
</ol>
</div><h3>Example Code</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBVcGRhdGVBbmltYXRpb24oZmxvYXQgY3VycmVudFRpbWUpIHsKICAgIC8vIEZpbmQgdGhlIHR3byBrZXlmcmFtZXMgdG8gaW50ZXJwb2xhdGUgYmV0d2VlbgogICAgS2V5ZnJhbWUgc3RhcnRLZXlmcmFtZSwgZW5kS2V5ZnJhbWU7CiAgICBmb3IgKHNpemVfdCBpID0gMDsgaSA8IGtleWZyYW1lcy5zaXplKCkgLSAxOyArK2kpIHsKICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0ga2V5ZnJhbWVzW2ldLnRpbWUgJiYgY3VycmVudFRpbWUgPD0ga2V5ZnJhbWVzW2kgKyAxXS50aW1lKSB7CiAgICAgICAgICAgIHN0YXJ0S2V5ZnJhbWUgPSBrZXlmcmFtZXNbaV07CiAgICAgICAgICAgIGVuZEtleWZyYW1lID0ga2V5ZnJhbWVzW2kgKyAxXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQoKICAgIC8vIENhbGN1bGF0ZSB0aGUgaW50ZXJwb2xhdGlvbiBmYWN0b3IKICAgIGZsb2F0IHQgPSAoY3VycmVudFRpbWUgLSBzdGFydEtleWZyYW1lLnRpbWUpIC8gKGVuZEtleWZyYW1lLnRpbWUgLSBzdGFydEtleWZyYW1lLnRpbWUpOwoKICAgIC8vIEludGVycG9sYXRlIHBvc2l0aW9uLCByb3RhdGlvbiwgYW5kIHNjYWxlCiAgICBEaXJlY3RYOjpYTUZMT0FUMyBpbnRlcnBvbGF0ZWRQb3NpdGlvbiA9IExlcnAoc3RhcnRLZXlmcmFtZS5wb3NpdGlvbiwgZW5kS2V5ZnJhbWUucG9zaXRpb24sIHQpOwogICAgRGlyZWN0WDo6WE1GTE9BVDQgaW50ZXJwb2xhdGVkUm90YXRpb24gPSBTbGVycChzdGFydEtleWZyYW1lLnJvdGF0aW9uLCBlbmRLZXlmcmFtZS5yb3RhdGlvbiwgdCk7CiAgICBEaXJlY3RYOjpYTUZMT0FUMyBpbnRlcnBvbGF0ZWRTY2FsZSA9IExlcnAoc3RhcnRLZXlmcmFtZS5zY2FsZSwgZW5kS2V5ZnJhbWUuc2NhbGUsIHQpOwoKICAgIC8vIFVwZGF0ZSB0aGUgbW9kZWwncyB0cmFuc2Zvcm1hdGlvbiBtYXRyaXgKICAgIERpcmVjdFg6OlhNTUFUUklYIHRyYW5zbGF0aW9uTWF0cml4ID0gRGlyZWN0WDo6WE1NYXRyaXhUcmFuc2xhdGlvbkZyb21WZWN0b3IoRGlyZWN0WDo6WE1Mb2FkRmxvYXQzKCZpbnRlcnBvbGF0ZWRQb3NpdGlvbikpOwogICAgRGlyZWN0WDo6WE1NQVRSSVggcm90YXRpb25NYXRyaXggPSBEaXJlY3RYOjpYTU1hdHJpeFJvdGF0aW9uUXVhdGVybmlvbihEaXJlY3RYOjpYTUxvYWRGbG9hdDQoJmludGVycG9sYXRlZFJvdGF0aW9uKSk7CiAgICBEaXJlY3RYOjpYTU1BVFJJWCBzY2FsZU1hdHJpeCA9IERpcmVjdFg6OlhNTWF0cml4U2NhbGluZ0Zyb21WZWN0b3IoRGlyZWN0WDo6WE1Mb2FkRmxvYXQzKCZpbnRlcnBvbGF0ZWRTY2FsZSkpOwoKICAgIERpcmVjdFg6OlhNTUFUUklYIHdvcmxkTWF0cml4ID0gc2NhbGVNYXRyaXggKiByb3RhdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4OwogICAgbW9kZWwuU2V0V29ybGRNYXRyaXgod29ybGRNYXRyaXgpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void UpdateAnimation(float currentTime) {
    // Find the two keyframes to interpolate between
    Keyframe startKeyframe, endKeyframe;
    for (size_t i = 0; i &lt; keyframes.size() - 1; ++i) {
        if (currentTime &gt;= keyframes[i].time &amp;&amp; currentTime &lt;= keyframes[i + 1].time) {
            startKeyframe = keyframes[i];
            endKeyframe = keyframes[i + 1];
            break;
        }
    }

    // Calculate the interpolation factor
    float t = (currentTime - startKeyframe.time) / (endKeyframe.time - startKeyframe.time);

    // Interpolate position, rotation, and scale
    DirectX::XMFLOAT3 interpolatedPosition = Lerp(startKeyframe.position, endKeyframe.position, t);
    DirectX::XMFLOAT4 interpolatedRotation = Slerp(startKeyframe.rotation, endKeyframe.rotation, t);
    DirectX::XMFLOAT3 interpolatedScale = Lerp(startKeyframe.scale, endKeyframe.scale, t);

    // Update the model's transformation matrix
    DirectX::XMMATRIX translationMatrix = DirectX::XMMatrixTranslationFromVector(DirectX::XMLoadFloat3(&amp;interpolatedPosition));
    DirectX::XMMATRIX rotationMatrix = DirectX::XMMatrixRotationQuaternion(DirectX::XMLoadFloat4(&amp;interpolatedRotation));
    DirectX::XMMATRIX scaleMatrix = DirectX::XMMatrixScalingFromVector(DirectX::XMLoadFloat3(&amp;interpolatedScale));

    DirectX::XMMATRIX worldMatrix = scaleMatrix * rotationMatrix * translationMatrix;
    model.SetWorldMatrix(worldMatrix);
}</pre></div><div class='content'></div><h2>Practical Exercises</h2>
<div class='content'></div><h3>Exercise 1: Basic Keyframe Animation</h3>
<div class='content'><p><strong>Task</strong>: Create a simple animation where a cube moves from one position to another over 5 seconds.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Define keyframes for the cube's position.</li>
<li>Implement linear interpolation for the position.</li>
<li>Update the cube's transformation matrix based on the interpolated position.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RkOjp2ZWN0b3I8S2V5ZnJhbWU+IGN1YmVLZXlmcmFtZXMgPSB7CiAgICB7MC4wZiwgezAuMGYsIDAuMGYsIDAuMGZ9LCB7MC4wZiwgMC4wZiwgMC4wZiwgMS4wZn0sIHsxLjBmLCAxLjBmLCAxLjBmfX0sCiAgICB7NS4wZiwgezUuMGYsIDAuMGYsIDAuMGZ9LCB7MC4wZiwgMC4wZiwgMC4wZiwgMS4wZn0sIHsxLjBmLCAxLjBmLCAxLjBmfX0KfTsKCnZvaWQgVXBkYXRlQ3ViZUFuaW1hdGlvbihmbG9hdCBjdXJyZW50VGltZSkgewogICAgLy8gRmluZCB0aGUgdHdvIGtleWZyYW1lcyB0byBpbnRlcnBvbGF0ZSBiZXR3ZWVuCiAgICBLZXlmcmFtZSBzdGFydEtleWZyYW1lLCBlbmRLZXlmcmFtZTsKICAgIGZvciAoc2l6ZV90IGkgPSAwOyBpIDwgY3ViZUtleWZyYW1lcy5zaXplKCkgLSAxOyArK2kpIHsKICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gY3ViZUtleWZyYW1lc1tpXS50aW1lICYmIGN1cnJlbnRUaW1lIDw9IGN1YmVLZXlmcmFtZXNbaSArIDFdLnRpbWUpIHsKICAgICAgICAgICAgc3RhcnRLZXlmcmFtZSA9IGN1YmVLZXlmcmFtZXNbaV07CiAgICAgICAgICAgIGVuZEtleWZyYW1lID0gY3ViZUtleWZyYW1lc1tpICsgMV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBDYWxjdWxhdGUgdGhlIGludGVycG9sYXRpb24gZmFjdG9yCiAgICBmbG9hdCB0ID0gKGN1cnJlbnRUaW1lIC0gc3RhcnRLZXlmcmFtZS50aW1lKSAvIChlbmRLZXlmcmFtZS50aW1lIC0gc3RhcnRLZXlmcmFtZS50aW1lKTsKCiAgICAvLyBJbnRlcnBvbGF0ZSBwb3NpdGlvbgogICAgRGlyZWN0WDo6WE1GTE9BVDMgaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBMZXJwKHN0YXJ0S2V5ZnJhbWUucG9zaXRpb24sIGVuZEtleWZyYW1lLnBvc2l0aW9uLCB0KTsKCiAgICAvLyBVcGRhdGUgdGhlIGN1YmUncyB0cmFuc2Zvcm1hdGlvbiBtYXRyaXgKICAgIERpcmVjdFg6OlhNTUFUUklYIHRyYW5zbGF0aW9uTWF0cml4ID0gRGlyZWN0WDo6WE1NYXRyaXhUcmFuc2xhdGlvbkZyb21WZWN0b3IoRGlyZWN0WDo6WE1Mb2FkRmxvYXQzKCZpbnRlcnBvbGF0ZWRQb3NpdGlvbikpOwogICAgRGlyZWN0WDo6WE1NQVRSSVggd29ybGRNYXRyaXggPSB0cmFuc2xhdGlvbk1hdHJpeDsKICAgIGN1YmUuU2V0V29ybGRNYXRyaXgod29ybGRNYXRyaXgpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>std::vector&lt;Keyframe&gt; cubeKeyframes = {
    {0.0f, {0.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 0.0f, 1.0f}, {1.0f, 1.0f, 1.0f}},
    {5.0f, {5.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 0.0f, 1.0f}, {1.0f, 1.0f, 1.0f}}
};

void UpdateCubeAnimation(float currentTime) {
    // Find the two keyframes to interpolate between
    Keyframe startKeyframe, endKeyframe;
    for (size_t i = 0; i &lt; cubeKeyframes.size() - 1; ++i) {
        if (currentTime &gt;= cubeKeyframes[i].time &amp;&amp; currentTime &lt;= cubeKeyframes[i + 1].time) {
            startKeyframe = cubeKeyframes[i];
            endKeyframe = cubeKeyframes[i + 1];
            break;
        }
    }

    // Calculate the interpolation factor
    float t = (currentTime - startKeyframe.time) / (endKeyframe.time - startKeyframe.time);

    // Interpolate position
    DirectX::XMFLOAT3 interpolatedPosition = Lerp(startKeyframe.position, endKeyframe.position, t);

    // Update the cube's transformation matrix
    DirectX::XMMATRIX translationMatrix = DirectX::XMMatrixTranslationFromVector(DirectX::XMLoadFloat3(&amp;interpolatedPosition));
    DirectX::XMMATRIX worldMatrix = translationMatrix;
    cube.SetWorldMatrix(worldMatrix);
}</pre></div><div class='content'></div><h3>Exercise 2: Rotating and Scaling Animation</h3>
<div class='content'><p><strong>Task</strong>: Create an animation where a sphere rotates and scales over 3 seconds.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Define keyframes for the sphere's rotation and scale.</li>
<li>Implement SLERP for rotation and LERP for scale.</li>
<li>Update the sphere's transformation matrix based on the interpolated rotation and scale.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RkOjp2ZWN0b3I8S2V5ZnJhbWU+IHNwaGVyZUtleWZyYW1lcyA9IHsKICAgIHswLjBmLCB7MC4wZiwgMC4wZiwgMC4wZn0sIHswLjBmLCAwLjBmLCAwLjBmLCAxLjBmfSwgezEuMGYsIDEuMGYsIDEuMGZ9fSwKICAgIHszLjBmLCB7MC4wZiwgMC4wZiwgMC4wZn0sIHswLjBmLCAwLjBmLCAxLjBmLCAwLjBmfSwgezIuMGYsIDIuMGYsIDIuMGZ9fQp9OwoKdm9pZCBVcGRhdGVTcGhlcmVBbmltYXRpb24oZmxvYXQgY3VycmVudFRpbWUpIHsKICAgIC8vIEZpbmQgdGhlIHR3byBrZXlmcmFtZXMgdG8gaW50ZXJwb2xhdGUgYmV0d2VlbgogICAgS2V5ZnJhbWUgc3RhcnRLZXlmcmFtZSwgZW5kS2V5ZnJhbWU7CiAgICBmb3IgKHNpemVfdCBpID0gMDsgaSA8IHNwaGVyZUtleWZyYW1lcy5zaXplKCkgLSAxOyArK2kpIHsKICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gc3BoZXJlS2V5ZnJhbWVzW2ldLnRpbWUgJiYgY3VycmVudFRpbWUgPD0gc3BoZXJlS2V5ZnJhbWVzW2kgKyAxXS50aW1lKSB7CiAgICAgICAgICAgIHN0YXJ0S2V5ZnJhbWUgPSBzcGhlcmVLZXlmcmFtZXNbaV07CiAgICAgICAgICAgIGVuZEtleWZyYW1lID0gc3BoZXJlS2V5ZnJhbWVzW2kgKyAxXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQoKICAgIC8vIENhbGN1bGF0ZSB0aGUgaW50ZXJwb2xhdGlvbiBmYWN0b3IKICAgIGZsb2F0IHQgPSAoY3VycmVudFRpbWUgLSBzdGFydEtleWZyYW1lLnRpbWUpIC8gKGVuZEtleWZyYW1lLnRpbWUgLSBzdGFydEtleWZyYW1lLnRpbWUpOwoKICAgIC8vIEludGVycG9sYXRlIHJvdGF0aW9uIGFuZCBzY2FsZQogICAgRGlyZWN0WDo6WE1GTE9BVDQgaW50ZXJwb2xhdGVkUm90YXRpb24gPSBTbGVycChzdGFydEtleWZyYW1lLnJvdGF0aW9uLCBlbmRLZXlmcmFtZS5yb3RhdGlvbiwgdCk7CiAgICBEaXJlY3RYOjpYTUZMT0FUMyBpbnRlcnBvbGF0ZWRTY2FsZSA9IExlcnAoc3RhcnRLZXlmcmFtZS5zY2FsZSwgZW5kS2V5ZnJhbWUuc2NhbGUsIHQpOwoKICAgIC8vIFVwZGF0ZSB0aGUgc3BoZXJlJ3MgdHJhbnNmb3JtYXRpb24gbWF0cml4CiAgICBEaXJlY3RYOjpYTU1BVFJJWCByb3RhdGlvbk1hdHJpeCA9IERpcmVjdFg6OlhNTWF0cml4Um90YXRpb25RdWF0ZXJuaW9uKERpcmVjdFg6OlhNTG9hZEZsb2F0NCgmaW50ZXJwb2xhdGVkUm90YXRpb24pKTsKICAgIERpcmVjdFg6OlhNTUFUUklYIHNjYWxlTWF0cml4ID0gRGlyZWN0WDo6WE1NYXRyaXhTY2FsaW5nRnJvbVZlY3RvcihEaXJlY3RYOjpYTUxvYWRGbG9hdDMoJmludGVycG9sYXRlZFNjYWxlKSk7CiAgICBEaXJlY3RYOjpYTU1BVFJJWCB3b3JsZE1hdHJpeCA9IHNjYWxlTWF0cml4ICogcm90YXRpb25NYXRyaXg7CiAgICBzcGhlcmUuU2V0V29ybGRNYXRyaXgod29ybGRNYXRyaXgpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>std::vector&lt;Keyframe&gt; sphereKeyframes = {
    {0.0f, {0.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 0.0f, 1.0f}, {1.0f, 1.0f, 1.0f}},
    {3.0f, {0.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 1.0f, 0.0f}, {2.0f, 2.0f, 2.0f}}
};

void UpdateSphereAnimation(float currentTime) {
    // Find the two keyframes to interpolate between
    Keyframe startKeyframe, endKeyframe;
    for (size_t i = 0; i &lt; sphereKeyframes.size() - 1; ++i) {
        if (currentTime &gt;= sphereKeyframes[i].time &amp;&amp; currentTime &lt;= sphereKeyframes[i + 1].time) {
            startKeyframe = sphereKeyframes[i];
            endKeyframe = sphereKeyframes[i + 1];
            break;
        }
    }

    // Calculate the interpolation factor
    float t = (currentTime - startKeyframe.time) / (endKeyframe.time - startKeyframe.time);

    // Interpolate rotation and scale
    DirectX::XMFLOAT4 interpolatedRotation = Slerp(startKeyframe.rotation, endKeyframe.rotation, t);
    DirectX::XMFLOAT3 interpolatedScale = Lerp(startKeyframe.scale, endKeyframe.scale, t);

    // Update the sphere's transformation matrix
    DirectX::XMMATRIX rotationMatrix = DirectX::XMMatrixRotationQuaternion(DirectX::XMLoadFloat4(&amp;interpolatedRotation));
    DirectX::XMMATRIX scaleMatrix = DirectX::XMMatrixScalingFromVector(DirectX::XMLoadFloat3(&amp;interpolatedScale));
    DirectX::XMMATRIX worldMatrix = scaleMatrix * rotationMatrix;
    sphere.SetWorldMatrix(worldMatrix);
}</pre></div><div class='content'></div><h2>Conclusion</h2>
<div class='content'><p>In this section, we covered the basics of animating 3D models in DirectX. We learned about keyframe animation, interpolation techniques, and how to implement these concepts in DirectX. By completing the practical exercises, you should now have a solid understanding of how to animate 3D models in your DirectX applications. In the next section, we will delve into skeletal animation, which is a more advanced and flexible animation technique.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-loading-3d-models' title="Loading 3D Models" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-loading-3d-models' title="Loading 3D Models" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-skeletal-animation' title="Skeletal Animation" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-skeletal-animation' title="Skeletal Animation" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>DirectX Programming Course</h1>
<h2>Module 1: Introduction to DirectX</h2>
<ul>
<li><a href="01-01-what-is-directx">What is DirectX?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Development Environment</a></li>
<li><a href="01-03-understanding-directx-api">Understanding the DirectX API</a></li>
<li><a href="01-04-creating-first-application">Creating Your First DirectX Application</a></li>
</ul>
<h2>Module 2: Direct3D Basics</h2>
<ul>
<li><a href="02-01-introduction-to-direct3d">Introduction to Direct3D</a></li>
<li><a href="02-02-initializing-direct3d">Initializing Direct3D</a></li>
<li><a href="02-03-rendering-a-triangle">Rendering a Triangle</a></li>
<li><a href="02-04-handling-render-loop">Handling the Render Loop</a></li>
</ul>
<h2>Module 3: Working with Shaders</h2>
<ul>
<li><a href="03-01-introduction-to-shaders">Introduction to Shaders</a></li>
<li><a href="03-02-writing-vertex-shaders">Writing Vertex Shaders</a></li>
<li><a href="03-03-writing-pixel-shaders">Writing Pixel Shaders</a></li>
<li><a href="03-04-compiling-using-shaders">Compiling and Using Shaders</a></li>
</ul>
<h2>Module 4: Advanced Rendering Techniques</h2>
<ul>
<li><a href="04-01-texture-mapping">Texture Mapping</a></li>
<li><a href="04-02-lighting-and-materials">Lighting and Materials</a></li>
<li><a href="04-03-advanced-lighting-techniques">Advanced Lighting Techniques</a></li>
<li><a href="04-04-shadow-mapping">Shadow Mapping</a></li>
</ul>
<h2>Module 5: 3D Models and Animation</h2>
<ul>
<li><a href="05-01-loading-3d-models">Loading 3D Models</a></li>
<li><a href="05-02-animating-3d-models">Animating 3D Models</a></li>
<li><a href="05-03-skeletal-animation">Skeletal Animation</a></li>
<li><a href="05-04-morph-target-animation">Morph Target Animation</a></li>
</ul>
<h2>Module 6: Performance Optimization</h2>
<ul>
<li><a href="06-01-profiling-debugging">Profiling and Debugging</a></li>
<li><a href="06-02-optimizing-rendering-performance">Optimizing Rendering Performance</a></li>
<li><a href="06-03-memory-management">Memory Management</a></li>
<li><a href="06-04-multithreading-directx">Multithreading in DirectX</a></li>
</ul>
<h2>Module 7: Advanced Topics</h2>
<ul>
<li><a href="07-01-deferred-shading">Deferred Shading</a></li>
<li><a href="07-02-post-processing-effects">Post-Processing Effects</a></li>
<li><a href="07-03-tessellation">Tessellation</a></li>
<li><a href="07-04-ray-tracing">Ray Tracing</a></li>
</ul>
<h2>Module 8: DirectX in Practice</h2>
<ul>
<li><a href="08-01-building-game-engine">Building a Game Engine</a></li>
<li><a href="08-02-integrating-physics">Integrating Physics</a></li>
<li><a href="08-03-networking-directx">Networking in DirectX</a></li>
<li><a href="08-04-publishing-application">Publishing Your DirectX Application</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
