<!DOCTYPE html>
<html lang="en">
<head>
    <title> Optimizing Assembly Code </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/assembly/05-04-optimizing-code" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/assembly/05-04-optimizing-code" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/assembly/05-04-optimizing-code" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "assembly";
  		var TEMA_NAME = "5-4";
  		var TYPE = "mod";
  		var PATH = "mod/assembly/05-04-optimizing-code";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/assembly/05-04-optimizing-code" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/assembly/05-04-optimizing-code" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="assembly">
		<a  href="#" class="text-secondary d-none" data-read-mod="assembly" data-read-unit="5-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="assembly" data-unread-unit="5-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-inline-assembly' title="Inline Assembly in High-Level Languages" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-inline-assembly' title="Inline Assembly in High-Level Languages" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Optimizing Assembly Code</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-01-x86-assembly' title="x86 Assembly Language" class="py-2 px-3 btn btn-primary"
				data-read-mod="assembly" data-read-unit="5-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-01-x86-assembly' title="x86 Assembly Language" class="py-2 px-3 btn btn-primary" 
				data-read-mod="assembly" data-read-unit="5-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Optimizing assembly code is crucial for achieving high performance, especially in systems with limited resources or where speed is critical. This section will cover various techniques and strategies to optimize your assembly code effectively.</p>
</div><h2>Key Concepts in Code Optimization</h2>
<div class='content'><ol>
<li>
<p><strong>Understanding the CPU Pipeline</strong>:</p>
<ul>
<li>Modern CPUs use pipelines to execute multiple instructions simultaneously. Understanding how the pipeline works can help you write code that minimizes stalls and maximizes throughput.</li>
</ul>
</li>
<li>
<p><strong>Minimizing Memory Access</strong>:</p>
<ul>
<li>Memory access is often slower than CPU operations. Reducing the number of memory accesses can significantly improve performance.</li>
</ul>
</li>
<li>
<p><strong>Using Registers Efficiently</strong>:</p>
<ul>
<li>Registers are the fastest storage available. Efficient use of registers can reduce the need for slower memory accesses.</li>
</ul>
</li>
<li>
<p><strong>Instruction Selection</strong>:</p>
<ul>
<li>Some instructions are faster than others. Choosing the most efficient instructions for a given task can improve performance.</li>
</ul>
</li>
<li>
<p><strong>Loop Unrolling</strong>:</p>
<ul>
<li>Reducing the overhead of loop control by unrolling loops can increase execution speed.</li>
</ul>
</li>
<li>
<p><strong>Branch Prediction</strong>:</p>
<ul>
<li>Modern CPUs predict the outcome of branches to keep the pipeline full. Writing code that helps the CPU make accurate predictions can reduce pipeline stalls.</li>
</ul>
</li>
</ol>
</div><h2>Practical Examples</h2>
<div class='content'></div><h3>Example 1: Minimizing Memory Access</h3>
<div class='content'><p>Consider the following code that adds two arrays:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkxIGRiIDEsIDIsIDMsIDQsIDUKICAgIGFycmF5MiBkYiA2LCA3LCA4LCA5LCAxMAogICAgcmVzdWx0IGRiIDUgZHVwKDApCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCA1ICAgICAgICAgIDsgTG9vcCBjb3VudGVyCiAgICBtb3YgZXNpLCBhcnJheTEgICAgIDsgU291cmNlIGFycmF5MQogICAgbW92IGVkaSwgYXJyYXkyICAgICA7IFNvdXJjZSBhcnJheTIKICAgIG1vdiBlYngsIHJlc3VsdCAgICAgOyBEZXN0aW5hdGlvbiByZXN1bHQKCmxvb3Bfc3RhcnQ6CiAgICBtb3YgYWwsIFtlc2ldICAgICAgIDsgTG9hZCBieXRlIGZyb20gYXJyYXkxCiAgICBhZGQgYWwsIFtlZGldICAgICAgIDsgQWRkIGJ5dGUgZnJvbSBhcnJheTIKICAgIG1vdiBbZWJ4XSwgYWwgICAgICAgOyBTdG9yZSByZXN1bHQKCiAgICBpbmMgZXNpICAgICAgICAgICAgIDsgSW5jcmVtZW50IHNvdXJjZSBwb2ludGVycwogICAgaW5jIGVkaQogICAgaW5jIGVieAoKICAgIGxvb3AgbG9vcF9zdGFydCAgICAgOyBMb29wIHVudGlsIGVjeCBpcyB6ZXJvCgogICAgOyBFeGl0IHByb2dyYW0KICAgIG1vdiBlYXgsIDEKICAgIGludCAweDgw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array1 db 1, 2, 3, 4, 5
    array2 db 6, 7, 8, 9, 10
    result db 5 dup(0)

section .text
    global _start

_start:
    mov ecx, 5          ; Loop counter
    mov esi, array1     ; Source array1
    mov edi, array2     ; Source array2
    mov ebx, result     ; Destination result

loop_start:
    mov al, [esi]       ; Load byte from array1
    add al, [edi]       ; Add byte from array2
    mov [ebx], al       ; Store result

    inc esi             ; Increment source pointers
    inc edi
    inc ebx

    loop loop_start     ; Loop until ecx is zero

    ; Exit program
    mov eax, 1
    int 0x80</pre></div><div class='content'><p><strong>Optimization</strong>: Reduce memory access by using registers.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkxIGRiIDEsIDIsIDMsIDQsIDUKICAgIGFycmF5MiBkYiA2LCA3LCA4LCA5LCAxMAogICAgcmVzdWx0IGRiIDUgZHVwKDApCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCA1ICAgICAgICAgIDsgTG9vcCBjb3VudGVyCiAgICBtb3YgZXNpLCBhcnJheTEgICAgIDsgU291cmNlIGFycmF5MQogICAgbW92IGVkaSwgYXJyYXkyICAgICA7IFNvdXJjZSBhcnJheTIKICAgIG1vdiBlYngsIHJlc3VsdCAgICAgOyBEZXN0aW5hdGlvbiByZXN1bHQKCmxvb3Bfc3RhcnQ6CiAgICBtb3YgYWwsIFtlc2ldICAgICAgIDsgTG9hZCBieXRlIGZyb20gYXJyYXkxCiAgICBtb3YgZGwsIFtlZGldICAgICAgIDsgTG9hZCBieXRlIGZyb20gYXJyYXkyCiAgICBhZGQgYWwsIGRsICAgICAgICAgIDsgQWRkIGJ5dGVzCiAgICBtb3YgW2VieF0sIGFsICAgICAgIDsgU3RvcmUgcmVzdWx0CgogICAgaW5jIGVzaSAgICAgICAgICAgICA7IEluY3JlbWVudCBzb3VyY2UgcG9pbnRlcnMKICAgIGluYyBlZGkKICAgIGluYyBlYngKCiAgICBsb29wIGxvb3Bfc3RhcnQgICAgIDsgTG9vcCB1bnRpbCBlY3ggaXMgemVybwoKICAgIDsgRXhpdCBwcm9ncmFtCiAgICBtb3YgZWF4LCAxCiAgICBpbnQgMHg4MA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array1 db 1, 2, 3, 4, 5
    array2 db 6, 7, 8, 9, 10
    result db 5 dup(0)

section .text
    global _start

_start:
    mov ecx, 5          ; Loop counter
    mov esi, array1     ; Source array1
    mov edi, array2     ; Source array2
    mov ebx, result     ; Destination result

loop_start:
    mov al, [esi]       ; Load byte from array1
    mov dl, [edi]       ; Load byte from array2
    add al, dl          ; Add bytes
    mov [ebx], al       ; Store result

    inc esi             ; Increment source pointers
    inc edi
    inc ebx

    loop loop_start     ; Loop until ecx is zero

    ; Exit program
    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h3>Example 2: Loop Unrolling</h3>
<div class='content'><p>Original loop:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKICAgIHN1bSBkYiAwCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCAxMCAgICAgICAgIDsgTG9vcCBjb3VudGVyCiAgICBtb3YgZXNpLCBhcnJheSAgICAgIDsgU291cmNlIGFycmF5CiAgICB4b3IgZWF4LCBlYXggICAgICAgIDsgQ2xlYXIgZWF4IGZvciBzdW0KCmxvb3Bfc3RhcnQ6CiAgICBhZGQgYWwsIFtlc2ldICAgICAgIDsgQWRkIGFycmF5IGVsZW1lbnQgdG8gc3VtCiAgICBpbmMgZXNpICAgICAgICAgICAgIDsgSW5jcmVtZW50IHNvdXJjZSBwb2ludGVyCiAgICBsb29wIGxvb3Bfc3RhcnQgICAgIDsgTG9vcCB1bnRpbCBlY3ggaXMgemVybwoKICAgIG1vdiBbc3VtXSwgYWwgICAgICAgOyBTdG9yZSBzdW0KCiAgICA7IEV4aXQgcHJvZ3JhbQogICAgbW92IGVheCwgMQogICAgaW50IDB4ODA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
    sum db 0

section .text
    global _start

_start:
    mov ecx, 10         ; Loop counter
    mov esi, array      ; Source array
    xor eax, eax        ; Clear eax for sum

loop_start:
    add al, [esi]       ; Add array element to sum
    inc esi             ; Increment source pointer
    loop loop_start     ; Loop until ecx is zero

    mov [sum], al       ; Store sum

    ; Exit program
    mov eax, 1
    int 0x80</pre></div><div class='content'><p><strong>Optimization</strong>: Unroll the loop to reduce loop control overhead.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKICAgIHN1bSBkYiAwCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCAyICAgICAgICAgIDsgTG9vcCBjb3VudGVyICgxMCBlbGVtZW50cyAvIDUgdW5yb2xsZWQgaXRlcmF0aW9ucykKICAgIG1vdiBlc2ksIGFycmF5ICAgICAgOyBTb3VyY2UgYXJyYXkKICAgIHhvciBlYXgsIGVheCAgICAgICAgOyBDbGVhciBlYXggZm9yIHN1bQoKbG9vcF9zdGFydDoKICAgIGFkZCBhbCwgW2VzaV0gICAgICAgOyBBZGQgYXJyYXkgZWxlbWVudCB0byBzdW0KICAgIGFkZCBhbCwgW2VzaSsxXQogICAgYWRkIGFsLCBbZXNpKzJdCiAgICBhZGQgYWwsIFtlc2krM10KICAgIGFkZCBhbCwgW2VzaSs0XQogICAgYWRkIGFsLCBbZXNpKzVdCiAgICBhZGQgYWwsIFtlc2krNl0KICAgIGFkZCBhbCwgW2VzaSs3XQogICAgYWRkIGFsLCBbZXNpKzhdCiAgICBhZGQgYWwsIFtlc2krOV0KICAgIGFkZCBhbCwgW2VzaSsxMF0KCiAgICBhZGQgZXNpLCAxMCAgICAgICAgIDsgSW5jcmVtZW50IHNvdXJjZSBwb2ludGVyIGJ5IDEwCiAgICBsb29wIGxvb3Bfc3RhcnQgICAgIDsgTG9vcCB1bnRpbCBlY3ggaXMgemVybwoKICAgIG1vdiBbc3VtXSwgYWwgICAgICAgOyBTdG9yZSBzdW0KCiAgICA7IEV4aXQgcHJvZ3JhbQogICAgbW92IGVheCwgMQogICAgaW50IDB4ODA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
    sum db 0

section .text
    global _start

_start:
    mov ecx, 2          ; Loop counter (10 elements / 5 unrolled iterations)
    mov esi, array      ; Source array
    xor eax, eax        ; Clear eax for sum

loop_start:
    add al, [esi]       ; Add array element to sum
    add al, [esi+1]
    add al, [esi+2]
    add al, [esi+3]
    add al, [esi+4]
    add al, [esi+5]
    add al, [esi+6]
    add al, [esi+7]
    add al, [esi+8]
    add al, [esi+9]
    add al, [esi+10]

    add esi, 10         ; Increment source pointer by 10
    loop loop_start     ; Loop until ecx is zero

    mov [sum], al       ; Store sum

    ; Exit program
    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h2>Practical Exercises</h2>
<div class='content'></div><h3>Exercise 1: Optimize Memory Access</h3>
<div class='content'><p><strong>Task</strong>: Optimize the following code to reduce memory access.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkxIGRiIDEsIDIsIDMsIDQsIDUKICAgIGFycmF5MiBkYiA2LCA3LCA4LCA5LCAxMAogICAgcmVzdWx0IGRiIDUgZHVwKDApCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCA1CiAgICBtb3YgZXNpLCBhcnJheTEKICAgIG1vdiBlZGksIGFycmF5MgogICAgbW92IGVieCwgcmVzdWx0Cgpsb29wX3N0YXJ0OgogICAgbW92IGFsLCBbZXNpXQogICAgYWRkIGFsLCBbZWRpXQogICAgbW92IFtlYnhdLCBhbAoKICAgIGluYyBlc2kKICAgIGluYyBlZGkKICAgIGluYyBlYngKCiAgICBsb29wIGxvb3Bfc3RhcnQKCiAgICBtb3YgZWF4LCAxCiAgICBpbnQgMHg4MA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array1 db 1, 2, 3, 4, 5
    array2 db 6, 7, 8, 9, 10
    result db 5 dup(0)

section .text
    global _start

_start:
    mov ecx, 5
    mov esi, array1
    mov edi, array2
    mov ebx, result

loop_start:
    mov al, [esi]
    add al, [edi]
    mov [ebx], al

    inc esi
    inc edi
    inc ebx

    loop loop_start

    mov eax, 1
    int 0x80</pre></div><div class='content'><p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkxIGRiIDEsIDIsIDMsIDQsIDUKICAgIGFycmF5MiBkYiA2LCA3LCA4LCA5LCAxMAogICAgcmVzdWx0IGRiIDUgZHVwKDApCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCA1CiAgICBtb3YgZXNpLCBhcnJheTEKICAgIG1vdiBlZGksIGFycmF5MgogICAgbW92IGVieCwgcmVzdWx0Cgpsb29wX3N0YXJ0OgogICAgbW92IGFsLCBbZXNpXQogICAgbW92IGRsLCBbZWRpXQogICAgYWRkIGFsLCBkbAogICAgbW92IFtlYnhdLCBhbAoKICAgIGluYyBlc2kKICAgIGluYyBlZGkKICAgIGluYyBlYngKCiAgICBsb29wIGxvb3Bfc3RhcnQKCiAgICBtb3YgZWF4LCAxCiAgICBpbnQgMHg4MA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array1 db 1, 2, 3, 4, 5
    array2 db 6, 7, 8, 9, 10
    result db 5 dup(0)

section .text
    global _start

_start:
    mov ecx, 5
    mov esi, array1
    mov edi, array2
    mov ebx, result

loop_start:
    mov al, [esi]
    mov dl, [edi]
    add al, dl
    mov [ebx], al

    inc esi
    inc edi
    inc ebx

    loop loop_start

    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h3>Exercise 2: Loop Unrolling</h3>
<div class='content'><p><strong>Task</strong>: Unroll the following loop to improve performance.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKICAgIHN1bSBkYiAwCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCAxMAogICAgbW92IGVzaSwgYXJyYXkKICAgIHhvciBlYXgsIGVheAoKbG9vcF9zdGFydDoKICAgIGFkZCBhbCwgW2VzaV0KICAgIGluYyBlc2kKICAgIGxvb3AgbG9vcF9zdGFydAoKICAgIG1vdiBbc3VtXSwgYWwKCiAgICBtb3YgZWF4LCAxCiAgICBpbnQgMHg4MA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
    sum db 0

section .text
    global _start

_start:
    mov ecx, 10
    mov esi, array
    xor eax, eax

loop_start:
    add al, [esi]
    inc esi
    loop loop_start

    mov [sum], al

    mov eax, 1
    int 0x80</pre></div><div class='content'><p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKICAgIHN1bSBkYiAwCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCAyCiAgICBtb3YgZXNpLCBhcnJheQogICAgeG9yIGVheCwgZWF4Cgpsb29wX3N0YXJ0OgogICAgYWRkIGFsLCBbZXNpXQogICAgYWRkIGFsLCBbZXNpKzFdCiAgICBhZGQgYWwsIFtlc2krMl0KICAgIGFkZCBhbCwgW2VzaSszXQogICAgYWRkIGFsLCBbZXNpKzRdCiAgICBhZGQgYWwsIFtlc2krNV0KICAgIGFkZCBhbCwgW2VzaSs2XQogICAgYWRkIGFsLCBbZXNpKzddCiAgICBhZGQgYWwsIFtlc2krOF0KICAgIGFkZCBhbCwgW2VzaSs5XQoKICAgIGFkZCBlc2ksIDEwCiAgICBsb29wIGxvb3Bfc3RhcnQKCiAgICBtb3YgW3N1bV0sIGFsCgogICAgbW92IGVheCwgMQogICAgaW50IDB4ODA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
    sum db 0

section .text
    global _start

_start:
    mov ecx, 2
    mov esi, array
    xor eax, eax

loop_start:
    add al, [esi]
    add al, [esi+1]
    add al, [esi+2]
    add al, [esi+3]
    add al, [esi+4]
    add al, [esi+5]
    add al, [esi+6]
    add al, [esi+7]
    add al, [esi+8]
    add al, [esi+9]

    add esi, 10
    loop loop_start

    mov [sum], al

    mov eax, 1
    int 0x80</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Over-Optimization</strong>: Avoid making the code too complex in the name of optimization. Maintain a balance between readability and performance.</li>
<li><strong>Ignoring the Pipeline</strong>: Understand the CPU architecture and how the pipeline works to avoid stalls.</li>
<li><strong>Excessive Memory Access</strong>: Use registers as much as possible to minimize slower memory accesses.</li>
<li><strong>Branch Mispredictions</strong>: Write code that helps the CPU predict branches accurately to avoid pipeline stalls.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Optimizing assembly code involves understanding the underlying hardware and making informed decisions to improve performance. By minimizing memory access, using registers efficiently, selecting the right instructions, unrolling loops, and aiding branch prediction, you can write highly optimized assembly code. Practice these techniques with the provided exercises to reinforce your understanding and skills.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-inline-assembly' title="Inline Assembly in High-Level Languages" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-inline-assembly' title="Inline Assembly in High-Level Languages" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-01-x86-assembly' title="x86 Assembly Language" class="py-2 px-3 btn btn-primary"
				data-read-mod="assembly" data-read-unit="5-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-01-x86-assembly' title="x86 Assembly Language" class="py-2 px-3 btn btn-primary" 
				data-read-mod="assembly" data-read-unit="5-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Assembly Programming Course</h1>
<h2>Module 1: Introduction to Assembly Language</h2>
<ul>
<li><a href="01-01-what-is-assembly">What is Assembly Language?</a></li>
<li><a href="01-02-history-evolution">History and Evolution of Assembly</a></li>
<li><a href="01-03-basic-concepts">Basic Concepts and Terminology</a></li>
<li><a href="01-04-setup-environment">Setting Up the Development Environment</a></li>
</ul>
<h2>Module 2: Assembly Language Basics</h2>
<ul>
<li><a href="02-01-cpu-memory">Understanding the CPU and Memory</a></li>
<li><a href="02-02-registers-functions">Registers and Their Functions</a></li>
<li><a href="02-03-basic-syntax">Basic Syntax and Structure</a></li>
<li><a href="02-04-first-program">Writing Your First Assembly Program</a></li>
</ul>
<h2>Module 3: Data Representation and Instructions</h2>
<ul>
<li><a href="03-01-binary-hexadecimal">Binary and Hexadecimal Systems</a></li>
<li><a href="03-02-data-types">Data Types and Sizes</a></li>
<li><a href="03-03-arithmetic-instructions">Arithmetic Instructions</a></li>
<li><a href="03-04-logical-instructions">Logical Instructions</a></li>
</ul>
<h2>Module 4: Control Flow</h2>
<ul>
<li><a href="04-01-conditional-statements">Conditional Statements</a></li>
<li><a href="04-02-loops-iteration">Loops and Iteration</a></li>
<li><a href="04-03-subroutines-procedures">Subroutines and Procedures</a></li>
<li><a href="04-04-stack-operations">Stack Operations</a></li>
</ul>
<h2>Module 5: Advanced Assembly Concepts</h2>
<ul>
<li><a href="05-01-interrupts-system-calls">Interrupts and System Calls</a></li>
<li><a href="05-02-macros-conditional">Macros and Conditional Assembly</a></li>
<li><a href="05-03-inline-assembly">Inline Assembly in High-Level Languages</a></li>
<li><a href="05-04-optimizing-code">Optimizing Assembly Code</a></li>
</ul>
<h2>Module 6: Assembly for Different Architectures</h2>
<ul>
<li><a href="06-01-x86-assembly">x86 Assembly Language</a></li>
<li><a href="06-02-arm-assembly">ARM Assembly Language</a></li>
<li><a href="06-03-mips-assembly">MIPS Assembly Language</a></li>
<li><a href="06-04-riscv-assembly">RISC-V Assembly Language</a></li>
</ul>
<h2>Module 7: Practical Applications and Projects</h2>
<ul>
<li><a href="07-01-simple-bootloader">Writing a Simple Bootloader</a></li>
<li><a href="07-02-basic-os-kernel">Creating a Basic Operating System Kernel</a></li>
<li><a href="07-03-interfacing-hardware">Interfacing with Hardware</a></li>
<li><a href="07-04-debugging-profiling">Debugging and Profiling Assembly Code</a></li>
</ul>
<h2>Module 8: Final Project and Review</h2>
<ul>
<li><a href="08-01-project-proposal">Project Proposal and Planning</a></li>
<li><a href="08-02-implementation-testing">Implementation and Testing</a></li>
<li><a href="08-03-code-review">Code Review and Optimization</a></li>
<li><a href="08-04-final-presentation">Final Presentation and Documentation</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
