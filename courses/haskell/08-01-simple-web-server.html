<!DOCTYPE html>
<html lang="en">
<head>
    <title> Building a Simple Web Server </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/haskell/08-01-simple-web-server" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/haskell/08-01-simple-web-server" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/haskell/08-01-simple-web-server" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "haskell";
  		var TEMA_NAME = "8-1";
  		var TYPE = "mod";
  		var PATH = "mod/haskell/08-01-simple-web-server";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/haskell/08-01-simple-web-server" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/haskell/08-01-simple-web-server" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="haskell">
		<a  href="#" class="text-secondary d-none" data-read-mod="haskell" data-read-unit="8-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="haskell" data-unread-unit="8-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-04-template-haskell' title="Template Haskell" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-04-template-haskell' title="Template Haskell" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Building a Simple Web Server</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-02-database-access' title="Database Access" class="py-2 px-3 btn btn-primary"
				data-read-mod="haskell" data-read-unit="8-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-02-database-access' title="Database Access" class="py-2 px-3 btn btn-primary" 
				data-read-mod="haskell" data-read-unit="8-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will learn how to build a simple web server using Haskell. This will involve setting up a basic server, handling HTTP requests, and sending responses. We will use the <code>wai</code> and <code>warp</code> libraries, which are popular choices for web development in Haskell.</p>
</div><h1>Prerequisites</h1>
<div class='content'><p>Before we start, ensure you have the following:</p>
<ul>
<li>Basic understanding of Haskell syntax and functional programming concepts.</li>
<li>Haskell environment set up on your machine.</li>
<li>Familiarity with basic I/O operations in Haskell.</li>
</ul>
</div><h1>Setting Up the Project</h1>
<div class='content'><ol>
<li>
<p><strong>Create a new Haskell project:</strong></p>
<pre><code class="language-sh">stack new simple-web-server
cd simple-web-server
</code></pre>
</li>
<li>
<p><strong>Add dependencies:</strong>
Open the <code>package.yaml</code> file and add the following dependencies under the <code>dependencies</code> section:</p>
<pre><code class="language-yaml">dependencies:
- base &gt;= 4.7 &amp;&amp; &lt; 5
- wai
- warp
</code></pre>
</li>
<li>
<p><strong>Install the dependencies:</strong></p>
<pre><code class="language-sh">stack build
</code></pre>
</li>
</ol>
</div><h1>Writing the Web Server</h1>
<div class='content'><ol>
<li>
<p><strong>Create a new Haskell source file:</strong>
Create a file named <code>src/Main.hs</code> and open it in your text editor.</p>
</li>
<li>
<p><strong>Import necessary modules:</strong></p>
<pre><code class="language-haskell">{-# LANGUAGE OverloadedStrings #-}

module Main where

import Network.Wai (Application, responseLBS)
import Network.Wai.Handler.Warp (run)
import Network.HTTP.Types (status200)
</code></pre>
</li>
<li>
<p><strong>Define the application:</strong></p>
<pre><code class="language-haskell">-- | The application that handles incoming requests
app :: Application
app request respond = do
    let response = responseLBS
            status200
            [(&quot;Content-Type&quot;, &quot;text/plain&quot;)]
            &quot;Hello, World!&quot;
    respond(response)
</code></pre>
</li>
<li>
<p><strong>Run the server:</strong></p>
<pre><code class="language-haskell">-- | Main function to run the server
main :: IO ()
main = do
    putStrLn &quot;Starting server on port 8080...&quot;
    run 8080 app
</code></pre>
</li>
<li>
<p><strong>Build and run the server:</strong></p>
<pre><code class="language-sh">stack build
stack exec simple-web-server
</code></pre>
</li>
<li>
<p><strong>Test the server:</strong>
Open your web browser and navigate to <code>http://localhost:8080</code>. You should see the message &quot;Hello, World!&quot;.</p>
</li>
</ol>
</div><h1>Explanation</h1>
<div class='content'><ul>
<li>
<p><strong>Imports:</strong></p>
<ul>
<li><code>Network.Wai</code> provides the core types and functions for building web applications.</li>
<li><code>Network.Wai.Handler.Warp</code> is a fast, lightweight web server for WAI applications.</li>
<li><code>Network.HTTP.Types</code> provides common HTTP types and status codes.</li>
</ul>
</li>
<li>
<p><strong>Application:</strong></p>
<ul>
<li>The <code>app</code> function is our web application. It takes a request and a function to send a response.</li>
<li>We create a simple response with <code>status200</code> (HTTP 200 OK) and a plain text body &quot;Hello, World!&quot;.</li>
</ul>
</li>
<li>
<p><strong>Main Function:</strong></p>
<ul>
<li>The <code>main</code> function starts the server on port 8080 and uses our <code>app</code> to handle incoming requests.</li>
</ul>
</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise 1: Customizing the Response</h2>
<div class='content'><p>Modify the server to respond with a custom message and a different content type.</p>
<ol>
<li>Change the response message to &quot;Welcome to my Haskell web server!&quot;.</li>
<li>Change the content type to &quot;text/html&quot;.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwIDo6IEFwcGxpY2F0aW9uCmFwcCByZXF1ZXN0IHJlc3BvbmQgPSBkbwogICAgbGV0IHJlc3BvbnNlID0gcmVzcG9uc2VMQlMKICAgICAgICAgICAgc3RhdHVzMjAwCiAgICAgICAgICAgIFsoIkNvbnRlbnQtVHlwZSIsICJ0ZXh0L2h0bWwiKV0KICAgICAgICAgICAgIjxoMT5XZWxjb21lIHRvIG15IEhhc2tlbGwgd2ViIHNlcnZlciE8L2gxPiIKICAgIHJlc3BvbmQocmVzcG9uc2Up"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>app :: Application
app request respond = do
    let response = responseLBS
            status200
            [(&quot;Content-Type&quot;, &quot;text/html&quot;)]
            &quot;&lt;h1&gt;Welcome to my Haskell web server!&lt;/h1&gt;&quot;
    respond(response)</pre></div><div class='content'></div><h2>Exercise 2: Handling Different Routes</h2>
<div class='content'><p>Extend the server to handle different routes and respond with different messages.</p>
<ol>
<li>Respond with &quot;Hello, World!&quot; for the root path <code>/</code>.</li>
<li>Respond with &quot;About Page&quot; for the path <code>/about</code>.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IE5ldHdvcmsuV2FpIChBcHBsaWNhdGlvbiwgcmVzcG9uc2VMQlMsIHBhdGhJbmZvKQppbXBvcnQgTmV0d29yay5IVFRQLlR5cGVzIChzdGF0dXMyMDAsIHN0YXR1czQwNCkKCmFwcCA6OiBBcHBsaWNhdGlvbgphcHAgcmVxdWVzdCByZXNwb25kID0gZG8KICAgIGxldCByZXNwb25zZSA9IGNhc2UgcGF0aEluZm8gcmVxdWVzdCBvZgogICAgICAgICAgICBbXSAtPiByZXNwb25zZUxCUyBzdGF0dXMyMDAgWygiQ29udGVudC1UeXBlIiwgInRleHQvcGxhaW4iKV0gIkhlbGxvLCBXb3JsZCEiCiAgICAgICAgICAgIFsiYWJvdXQiXSAtPiByZXNwb25zZUxCUyBzdGF0dXMyMDAgWygiQ29udGVudC1UeXBlIiwgInRleHQvcGxhaW4iKV0gIkFib3V0IFBhZ2UiCiAgICAgICAgICAgIF8gLT4gcmVzcG9uc2VMQlMgc3RhdHVzNDA0IFsoIkNvbnRlbnQtVHlwZSIsICJ0ZXh0L3BsYWluIildICI0MDQgLSBOb3QgRm91bmQiCiAgICByZXNwb25kKHJlc3BvbnNlKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Network.Wai (Application, responseLBS, pathInfo)
import Network.HTTP.Types (status200, status404)

app :: Application
app request respond = do
    let response = case pathInfo request of
            [] -&gt; responseLBS status200 [(&quot;Content-Type&quot;, &quot;text/plain&quot;)] &quot;Hello, World!&quot;
            [&quot;about&quot;] -&gt; responseLBS status200 [(&quot;Content-Type&quot;, &quot;text/plain&quot;)] &quot;About Page&quot;
            _ -&gt; responseLBS status404 [(&quot;Content-Type&quot;, &quot;text/plain&quot;)] &quot;404 - Not Found&quot;
    respond(response)</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Port Conflicts:</strong> Ensure the port you choose (e.g., 8080) is not already in use by another application.</li>
<li><strong>Content-Type:</strong> Always set the correct <code>Content-Type</code> header to match the response body format.</li>
<li><strong>Error Handling:</strong> Implement proper error handling for more robust applications.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to set up a simple web server in Haskell using the <code>wai</code> and <code>warp</code> libraries. We covered the basics of handling HTTP requests and sending responses. We also explored practical exercises to customize responses and handle different routes. This foundational knowledge prepares you for more advanced web development topics in Haskell.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-04-template-haskell' title="Template Haskell" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-04-template-haskell' title="Template Haskell" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-02-database-access' title="Database Access" class="py-2 px-3 btn btn-primary"
				data-read-mod="haskell" data-read-unit="8-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-02-database-access' title="Database Access" class="py-2 px-3 btn btn-primary" 
				data-read-mod="haskell" data-read-unit="8-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Haskell Programming Course</h1>
<h2>Module 1: Introduction to Haskell</h2>
<ul>
<li><a href="01-01-what-is-haskell">What is Haskell?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Haskell Environment</a></li>
<li><a href="01-03-basic-syntax-hello-world">Basic Syntax and Hello World</a></li>
<li><a href="01-04-haskell-repl-ghci">Haskell REPL (GHCi)</a></li>
</ul>
<h2>Module 2: Basic Concepts</h2>
<ul>
<li><a href="02-01-variables-functions">Variables and Functions</a></li>
<li><a href="02-02-basic-data-types">Basic Data Types</a></li>
<li><a href="02-03-lists-tuples">Lists and Tuples</a></li>
<li><a href="02-04-pattern-matching">Pattern Matching</a></li>
<li><a href="02-05-guards">Guards</a></li>
</ul>
<h2>Module 3: Functional Programming Basics</h2>
<ul>
<li><a href="03-01-higher-order-functions">Higher-Order Functions</a></li>
<li><a href="03-02-lambda-expressions">Lambda Expressions</a></li>
<li><a href="03-03-map-filter-fold">Map, Filter, and Fold</a></li>
<li><a href="03-04-list-comprehensions">List Comprehensions</a></li>
</ul>
<h2>Module 4: Type System</h2>
<ul>
<li><a href="04-01-type-inference">Type Inference</a></li>
<li><a href="04-02-type-classes">Type Classes</a></li>
<li><a href="04-03-algebraic-data-types">Algebraic Data Types</a></li>
<li><a href="04-04-type-synonyms">Type Synonyms</a></li>
</ul>
<h2>Module 5: Advanced Functional Programming</h2>
<ul>
<li><a href="05-01-monads">Monads</a></li>
<li><a href="05-02-applicative-functors">Applicative Functors</a></li>
<li><a href="05-03-monad-transformers">Monad Transformers</a></li>
<li><a href="05-04-functor-foldable">Functor and Foldable</a></li>
</ul>
<h2>Module 6: Input and Output</h2>
<ul>
<li><a href="06-01-basic-io">Basic I/O</a></li>
<li><a href="06-02-file-handling">File Handling</a></li>
<li><a href="06-03-interacting-with-system">Interacting with the System</a></li>
<li><a href="06-04-exception-handling">Exception Handling</a></li>
</ul>
<h2>Module 7: Advanced Topics</h2>
<ul>
<li><a href="07-01-concurrency">Concurrency</a></li>
<li><a href="07-02-parallelism">Parallelism</a></li>
<li><a href="07-03-ffi">Foreign Function Interface (FFI)</a></li>
<li><a href="07-04-template-haskell">Template Haskell</a></li>
</ul>
<h2>Module 8: Practical Haskell</h2>
<ul>
<li><a href="08-01-simple-web-server">Building a Simple Web Server</a></li>
<li><a href="08-02-database-access">Database Access</a></li>
<li><a href="08-03-testing-debugging">Testing and Debugging</a></li>
<li><a href="08-04-project-haskell-application">Project: Building a Haskell Application</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
