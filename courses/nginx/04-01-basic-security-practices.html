<!DOCTYPE html>
<html lang="en">
<head>
    <title> Basic Security Practices </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/nginx/04-01-basic-security-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/nginx/04-01-basic-security-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/nginx/04-01-basic-security-practices" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "tech-tools";
  		var MOD_NAME = "nginx";
  		var TEMA_NAME = "4-1";
  		var TYPE = "mod";
  		var PATH = "mod/nginx/04-01-basic-security-practices";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/nginx/04-01-basic-security-practices" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/nginx/04-01-basic-security-practices" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="nginx">
		<a  href="#" class="text-secondary d-none" data-read-mod="nginx" data-read-unit="4-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="nginx" data-unread-unit="4-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-04-health-checks' title="Health Checks" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-04-health-checks' title="Health Checks" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Basic Security Practices</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-02-rate-limiting' title="Rate Limiting" class="py-2 px-3 btn btn-primary"
				data-read-mod="nginx" data-read-unit="4-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-02-rate-limiting' title="Rate Limiting" class="py-2 px-3 btn btn-primary" 
				data-read-mod="nginx" data-read-unit="4-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover essential security practices to ensure your NGINX server is secure. Security is a critical aspect of any web server configuration, and NGINX provides several features to help you protect your server and the data it handles.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Restricting Access</strong></li>
<li><strong>Using Secure Protocols</strong></li>
<li><strong>Configuring Firewalls</strong></li>
<li><strong>Preventing Information Disclosure</strong></li>
<li><strong>Rate Limiting</strong></li>
<li><strong>Regular Updates and Patching</strong></li>
</ol>
</div><h1><ol>
<li>Restricting Access</li>
</ol></h1>
<div class='content'></div><h2>IP Whitelisting</h2>
<div class='content'><p>You can restrict access to your NGINX server by allowing only specific IP addresses. This is useful for administrative interfaces or sensitive areas of your website.</p>
<p><strong>Example Configuration:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIGV4YW1wbGUuY29tOwoKICAgIGxvY2F0aW9uIC9hZG1pbiB7CiAgICAgICAgYWxsb3cgMTkyLjE2OC4xLjE7CiAgICAgICAgZGVueSBhbGw7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name example.com;

    location /admin {
        allow 192.168.1.1;
        deny all;
    }
}</pre></div><div class='content'></div><h2>Password Protection</h2>
<div class='content'><p>You can use HTTP Basic Authentication to password-protect certain areas of your site.</p>
<p><strong>Step-by-Step:</strong></p>
<ol>
<li>
<p><strong>Create a Password File:</strong></p>
<pre><code class="language-bash">sudo htpasswd -c /etc/nginx/.htpasswd user1
</code></pre>
</li>
<li>
<p><strong>Configure NGINX:</strong></p>
<pre><code class="language-nginx">server {
    listen 80;
    server_name example.com;

    location /admin {
        auth_basic &quot;Restricted Area&quot;;
        auth_basic_user_file /etc/nginx/.htpasswd;
    }
}
</code></pre>
</li>
</ol>
</div><h1><ol start="2">
<li>Using Secure Protocols</li>
</ol></h1>
<div class='content'></div><h2>Enabling SSL/TLS</h2>
<div class='content'><p>Using SSL/TLS is crucial for encrypting data between the client and server.</p>
<p><strong>Step-by-Step:</strong></p>
<ol>
<li>
<p><strong>Obtain an SSL Certificate:</strong>
You can get a free SSL certificate from Let's Encrypt.</p>
</li>
<li>
<p><strong>Configure NGINX:</strong></p>
<pre><code class="language-nginx">server {
    listen 443 ssl;
    server_name example.com;

    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;

    location / {
        root /var/www/html;
        index index.html;
    }
}
</code></pre>
</li>
</ol>
</div><h2>Redirect HTTP to HTTPS</h2>
<div class='content'><p>Ensure all traffic uses HTTPS by redirecting HTTP requests.</p>
<p><strong>Example Configuration:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIGV4YW1wbGUuY29tOwogICAgcmV0dXJuIDMwMSBodHRwczovLyRob3N0JHJlcXVlc3RfdXJpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name example.com;
    return 301 https://$host$request_uri;
}</pre></div><div class='content'></div><h1><ol start="3">
<li>Configuring Firewalls</li>
</ol></h1>
<div class='content'><p>Use firewalls to control access to your NGINX server. Tools like <code>ufw</code> (Uncomplicated Firewall) can help.</p>
<p><strong>Basic UFW Commands:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyB1ZncgYWxsb3cgJ05naW54IEZ1bGwnCnN1ZG8gdWZ3IGVuYWJsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo ufw allow 'Nginx Full'
sudo ufw enable</pre></div><div class='content'></div><h1><ol start="4">
<li>Preventing Information Disclosure</li>
</ol></h1>
<div class='content'></div><h2>Hiding NGINX Version</h2>
<div class='content'><p>Prevent attackers from knowing the version of NGINX you are running.</p>
<p><strong>Example Configuration:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aHR0cCB7CiAgICBzZXJ2ZXJfdG9rZW5zIG9mZjsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>http {
    server_tokens off;
}</pre></div><div class='content'></div><h2>Custom Error Pages</h2>
<div class='content'><p>Avoid default error pages that may reveal server information.</p>
<p><strong>Example Configuration:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIGV4YW1wbGUuY29tOwoKICAgIGVycm9yX3BhZ2UgNDA0IC9jdXN0b21fNDA0Lmh0bWw7CiAgICBsb2NhdGlvbiA9IC9jdXN0b21fNDA0Lmh0bWwgewogICAgICAgIHJvb3QgL3Zhci93d3cvaHRtbDsKICAgICAgICBpbnRlcm5hbDsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name example.com;

    error_page 404 /custom_404.html;
    location = /custom_404.html {
        root /var/www/html;
        internal;
    }
}</pre></div><div class='content'></div><h1><ol start="5">
<li>Rate Limiting</li>
</ol></h1>
<div class='content'><p>Rate limiting helps protect your server from brute force attacks and DDoS attacks.</p>
<p><strong>Example Configuration:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aHR0cCB7CiAgICBsaW1pdF9yZXFfem9uZSAkYmluYXJ5X3JlbW90ZV9hZGRyIHpvbmU9b25lOjEwbSByYXRlPTFyL3M7CgogICAgc2VydmVyIHsKICAgICAgICBsaXN0ZW4gODA7CiAgICAgICAgc2VydmVyX25hbWUgZXhhbXBsZS5jb207CgogICAgICAgIGxvY2F0aW9uIC9sb2dpbiB7CiAgICAgICAgICAgIGxpbWl0X3JlcSB6b25lPW9uZSBidXJzdD01IG5vZGVsYXk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>http {
    limit_req_zone $binary_remote_addr zone=one:10m rate=1r/s;

    server {
        listen 80;
        server_name example.com;

        location /login {
            limit_req zone=one burst=5 nodelay;
        }
    }
}</pre></div><div class='content'></div><h1><ol start="6">
<li>Regular Updates and Patching</li>
</ol></h1>
<div class='content'><p>Keep your NGINX server and its dependencies up to date to protect against known vulnerabilities.</p>
<p><strong>Update Commands:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQgdXBkYXRlCnN1ZG8gYXB0IHVwZ3JhZGUgbmdpbng="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt update
sudo apt upgrade nginx</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Implement Basic Security Practices</h2>
<div class='content'><ol>
<li>
<p><strong>Restrict Access to the Admin Area:</strong></p>
<ul>
<li>Allow only IP <code>192.168.1.1</code> to access <code>/admin</code>.</li>
</ul>
</li>
<li>
<p><strong>Enable SSL/TLS:</strong></p>
<ul>
<li>Obtain a certificate from Let's Encrypt and configure NGINX to use it.</li>
</ul>
</li>
<li>
<p><strong>Hide NGINX Version:</strong></p>
<ul>
<li>Disable server tokens.</li>
</ul>
</li>
<li>
<p><strong>Set Up Rate Limiting:</strong></p>
<ul>
<li>Limit requests to <code>/login</code> to 1 request per second with a burst of 5.</li>
</ul>
</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aHR0cCB7CiAgICBsaW1pdF9yZXFfem9uZSAkYmluYXJ5X3JlbW90ZV9hZGRyIHpvbmU9b25lOjEwbSByYXRlPTFyL3M7CiAgICBzZXJ2ZXJfdG9rZW5zIG9mZjsKCiAgICBzZXJ2ZXIgewogICAgICAgIGxpc3RlbiA4MDsKICAgICAgICBzZXJ2ZXJfbmFtZSBleGFtcGxlLmNvbTsKICAgICAgICByZXR1cm4gMzAxIGh0dHBzOi8vJGhvc3QkcmVxdWVzdF91cmk7CiAgICB9CgogICAgc2VydmVyIHsKICAgICAgICBsaXN0ZW4gNDQzIHNzbDsKICAgICAgICBzZXJ2ZXJfbmFtZSBleGFtcGxlLmNvbTsKCiAgICAgICAgc3NsX2NlcnRpZmljYXRlIC9ldGMvbGV0c2VuY3J5cHQvbGl2ZS9leGFtcGxlLmNvbS9mdWxsY2hhaW4ucGVtOwogICAgICAgIHNzbF9jZXJ0aWZpY2F0ZV9rZXkgL2V0Yy9sZXRzZW5jcnlwdC9saXZlL2V4YW1wbGUuY29tL3ByaXZrZXkucGVtOwoKICAgICAgICBsb2NhdGlvbiAvYWRtaW4gewogICAgICAgICAgICBhbGxvdyAxOTIuMTY4LjEuMTsKICAgICAgICAgICAgZGVueSBhbGw7CiAgICAgICAgfQoKICAgICAgICBsb2NhdGlvbiAvbG9naW4gewogICAgICAgICAgICBsaW1pdF9yZXEgem9uZT1vbmUgYnVyc3Q9NSBub2RlbGF5OwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>http {
    limit_req_zone $binary_remote_addr zone=one:10m rate=1r/s;
    server_tokens off;

    server {
        listen 80;
        server_name example.com;
        return 301 https://$host$request_uri;
    }

    server {
        listen 443 ssl;
        server_name example.com;

        ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;

        location /admin {
            allow 192.168.1.1;
            deny all;
        }

        location /login {
            limit_req zone=one burst=5 nodelay;
        }
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered several basic security practices for NGINX, including restricting access, using secure protocols, configuring firewalls, preventing information disclosure, rate limiting, and keeping your server updated. These practices are essential for maintaining a secure NGINX server. In the next section, we will delve into rate limiting in more detail.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-04-health-checks' title="Health Checks" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-04-health-checks' title="Health Checks" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-02-rate-limiting' title="Rate Limiting" class="py-2 px-3 btn btn-primary"
				data-read-mod="nginx" data-read-unit="4-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-02-rate-limiting' title="Rate Limiting" class="py-2 px-3 btn btn-primary" 
				data-read-mod="nginx" data-read-unit="4-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>NGINX Course</h1>
<h2>Module 1: Introduction to NGINX</h2>
<ul>
<li><a href="01-01-what-is-nginx">What is NGINX?</a></li>
<li><a href="01-02-installing-nginx">Installing NGINX</a></li>
<li><a href="01-03-basic-nginx-configuration">Basic NGINX Configuration</a></li>
<li><a href="01-04-starting-stopping-nginx">Starting and Stopping NGINX</a></li>
</ul>
<h2>Module 2: NGINX as a Web Server</h2>
<ul>
<li><a href="02-01-serving-static-content">Serving Static Content</a></li>
<li><a href="02-02-directory-listings">Directory Listings</a></li>
<li><a href="02-03-custom-error-pages">Custom Error Pages</a></li>
<li><a href="02-04-logging-log-formats">Logging and Log Formats</a></li>
</ul>
<h2>Module 3: NGINX as a Reverse Proxy</h2>
<ul>
<li><a href="03-01-introduction-reverse-proxy">Introduction to Reverse Proxy</a></li>
<li><a href="03-02-configuring-reverse-proxy">Configuring a Reverse Proxy</a></li>
<li><a href="03-03-load-balancing">Load Balancing</a></li>
<li><a href="03-04-health-checks">Health Checks</a></li>
</ul>
<h2>Module 4: Security and Optimization</h2>
<ul>
<li><a href="04-01-basic-security-practices">Basic Security Practices</a></li>
<li><a href="04-02-rate-limiting">Rate Limiting</a></li>
<li><a href="04-03-ssl-tls-configuration">SSL/TLS Configuration</a></li>
<li><a href="04-04-caching">Caching</a></li>
</ul>
<h2>Module 5: Advanced NGINX Features</h2>
<ul>
<li><a href="05-01-nginx-modules">NGINX Modules</a></li>
<li><a href="05-02-using-nginx-docker">Using NGINX with Docker</a></li>
<li><a href="05-03-nginx-http2">NGINX and HTTP/2</a></li>
<li><a href="05-04-nginx-grpc">NGINX and gRPC</a></li>
</ul>
<h2>Module 6: Monitoring and Troubleshooting</h2>
<ul>
<li><a href="06-01-monitoring-nginx">Monitoring NGINX</a></li>
<li><a href="06-02-common-issues-solutions">Common Issues and Solutions</a></li>
<li><a href="06-03-performance-tuning">Performance Tuning</a></li>
<li><a href="06-04-debugging-nginx">Debugging NGINX</a></li>
</ul>
<h2>Module 7: NGINX Plus</h2>
<ul>
<li><a href="07-01-introduction-nginx-plus">Introduction to NGINX Plus</a></li>
<li><a href="07-02-advanced-load-balancing">Advanced Load Balancing</a></li>
<li><a href="07-03-application-health-monitoring">Application Health Monitoring</a></li>
<li><a href="07-04-dynamic-configuration">Dynamic Configuration</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
