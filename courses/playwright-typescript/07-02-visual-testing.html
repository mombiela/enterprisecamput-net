<!DOCTYPE html>
<html lang="en">
<head>
    <title> Visual Testing with Playwright </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/playwright-typescript/07-02-visual-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/playwright-typescript/07-02-visual-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/playwright-typescript/07-02-visual-testing" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "playwright_typescript";
  		var TEMA_NAME = "7-2";
  		var TYPE = "mod";
  		var PATH = "mod/playwright_typescript/07-02-visual-testing";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.688defeeef.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/playwright-typescript/07-02-visual-testing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/playwright-typescript/07-02-visual-testing" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="playwright_typescript">
		<a  href="#" class="text-secondary d-none" data-read-mod="playwright_typescript" data-read-unit="7-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="playwright_typescript" data-unread-unit="7-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-01-end-to-end-testing' title="End-to-End Testing with Playwright" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-01-end-to-end-testing' title="End-to-End Testing with Playwright" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Visual Testing with Playwright</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='07-03-performance-testing' title="Performance Testing with Playwright" class="py-2 px-3 btn btn-primary"
				data-read-mod="playwright_typescript" data-read-unit="7-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='07-03-performance-testing' title="Performance Testing with Playwright" class="py-2 px-3 btn btn-primary" 
				data-read-mod="playwright_typescript" data-read-unit="7-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Visual testing is a crucial aspect of ensuring that your web applications not only function correctly but also appear as intended across different devices and browsers. In this section, we will explore how to perform visual testing using Playwright, a powerful tool for automating browser interactions.</p>
</div><h2>Key Concepts of Visual Testing</h2>
<div class='content'><ol>
<li><strong>Visual Regression Testing</strong>: This involves capturing screenshots of your application and comparing them against baseline images to detect any unintended visual changes.</li>
<li><strong>Baseline Images</strong>: These are reference images that represent the expected appearance of your application. They are used for comparison in visual regression tests.</li>
<li><strong>Diffing</strong>: The process of comparing two images to identify differences. This is typically done pixel-by-pixel.</li>
<li><strong>Thresholds</strong>: A tolerance level for differences between images, allowing for minor variations without failing the test.</li>
</ol>
</div><h2>Setting Up Visual Testing with Playwright</h2>
<div class='content'><p>To perform visual testing with Playwright, you can use additional libraries like <code>playwright-visual-regression</code> or integrate with third-party services such as Applitools or Percy. Here, we'll focus on using a simple approach with Playwright's built-in capabilities.</p>
</div><h3>Step 1: Install Required Packages</h3>
<div class='content'><p>First, ensure you have Playwright installed. If not, you can install it using npm:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgcGxheXdyaWdodA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install playwright</pre></div><div class='content'><p>For visual testing, you might also want to install a library for image comparison, such as <code>pixelmatch</code>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgcGl4ZWxtYXRjaA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install pixelmatch</pre></div><div class='content'></div><h3>Step 2: Capture Screenshots</h3>
<div class='content'><p>Use Playwright to capture screenshots of your application. Here's a basic example:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgY2hyb21pdW0gfSBmcm9tICdwbGF5d3JpZ2h0JzsKCihhc3luYyAoKSA9PiB7CiAgY29uc3QgYnJvd3NlciA9IGF3YWl0IGNocm9taXVtLmxhdW5jaCgpOwogIGNvbnN0IHBhZ2UgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKTsKICBhd2FpdCBwYWdlLmdvdG8oJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTsKICBhd2FpdCBwYWdlLnNjcmVlbnNob3QoeyBwYXRoOiAnZXhhbXBsZS5wbmcnIH0pOwogIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTsKfSkoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { chromium } from 'playwright';

(async () =&gt; {
  const browser = await chromium.launch();
  const page = await browser.newPage();
  await page.goto('https://example.com');
  await page.screenshot({ path: 'example.png' });
  await browser.close();
})();</pre></div><div class='content'></div><h3>Step 3: Compare Screenshots</h3>
<div class='content'><p>To compare screenshots, you can use <code>pixelmatch</code> to identify differences between the current screenshot and a baseline image:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGZzIGZyb20gJ2ZzJzsKaW1wb3J0IHBpeGVsbWF0Y2ggZnJvbSAncGl4ZWxtYXRjaCc7CmltcG9ydCB7IFBORyB9IGZyb20gJ3BuZ2pzJzsKCmNvbnN0IGltZzEgPSBQTkcuc3luYy5yZWFkKGZzLnJlYWRGaWxlU3luYygnYmFzZWxpbmUucG5nJykpOwpjb25zdCBpbWcyID0gUE5HLnN5bmMucmVhZChmcy5yZWFkRmlsZVN5bmMoJ2V4YW1wbGUucG5nJykpOwpjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGltZzE7CmNvbnN0IGRpZmYgPSBuZXcgUE5HKHsgd2lkdGgsIGhlaWdodCB9KTsKCmNvbnN0IG51bURpZmZQaXhlbHMgPSBwaXhlbG1hdGNoKGltZzEuZGF0YSwgaW1nMi5kYXRhLCBkaWZmLmRhdGEsIHdpZHRoLCBoZWlnaHQsIHsgdGhyZXNob2xkOiAwLjEgfSk7Cgpmcy53cml0ZUZpbGVTeW5jKCdkaWZmLnBuZycsIFBORy5zeW5jLndyaXRlKGRpZmYpKTsKCmlmIChudW1EaWZmUGl4ZWxzID4gMCkgewogIGNvbnNvbGUubG9nKGBGb3VuZCAke251bURpZmZQaXhlbHN9IHBpeGVsIGRpZmZlcmVuY2VzLmApOwp9IGVsc2UgewogIGNvbnNvbGUubG9nKCdObyBkaWZmZXJlbmNlcyBmb3VuZC4nKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import fs from 'fs';
import pixelmatch from 'pixelmatch';
import { PNG } from 'pngjs';

const img1 = PNG.sync.read(fs.readFileSync('baseline.png'));
const img2 = PNG.sync.read(fs.readFileSync('example.png'));
const { width, height } = img1;
const diff = new PNG({ width, height });

const numDiffPixels = pixelmatch(img1.data, img2.data, diff.data, width, height, { threshold: 0.1 });

fs.writeFileSync('diff.png', PNG.sync.write(diff));

if (numDiffPixels &gt; 0) {
  console.log(`Found ${numDiffPixels} pixel differences.`);
} else {
  console.log('No differences found.');
}</pre></div><div class='content'></div><h3>Step 4: Automate the Process</h3>
<div class='content'><p>Integrate the screenshot capture and comparison into your test suite to automate visual regression testing. This can be done using a test runner like Jest or Mocha.</p>
</div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Exercise</strong>: Set up a visual regression test for a simple web page.</p>
<ol>
<li><strong>Capture a Baseline Image</strong>: Navigate to a web page and capture a screenshot to use as a baseline.</li>
<li><strong>Modify the Web Page</strong>: Make a small visual change to the page (e.g., change a CSS property).</li>
<li><strong>Capture a New Screenshot</strong>: Take another screenshot after the change.</li>
<li><strong>Compare the Images</strong>: Use <code>pixelmatch</code> to compare the new screenshot with the baseline and output the differences.</li>
</ol>
<p><strong>Solution</strong>:</p>
<ol>
<li>Capture the baseline image using the code provided in Step 2.</li>
<li>Modify the CSS of the page (e.g., change the background color).</li>
<li>Capture a new screenshot.</li>
<li>Use the comparison code from Step 3 to identify differences.</li>
</ol>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Ignoring Small Differences</strong>: Set an appropriate threshold to ignore minor differences due to rendering variations.</li>
<li><strong>Consistent Environment</strong>: Ensure tests run in a consistent environment to avoid false positives due to differences in rendering engines or screen resolutions.</li>
<li><strong>Updating Baselines</strong>: Regularly update baseline images to reflect intentional design changes.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Visual testing with Playwright allows you to ensure that your web applications look as expected across different environments. By automating the process of capturing and comparing screenshots, you can quickly identify unintended visual changes and maintain a high-quality user interface. In the next section, we will explore performance testing with Playwright to further enhance your testing strategy.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-01-end-to-end-testing' title="End-to-End Testing with Playwright" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-01-end-to-end-testing' title="End-to-End Testing with Playwright" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='07-03-performance-testing' title="Performance Testing with Playwright" class="py-2 px-3 btn btn-primary"
				data-read-mod="playwright_typescript" data-read-unit="7-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='07-03-performance-testing' title="Performance Testing with Playwright" class="py-2 px-3 btn btn-primary" 
				data-read-mod="playwright_typescript" data-read-unit="7-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Playwright with TypeScript: From Beginner to Advanced</h1>
<h2>Module 1: Introduction to Playwright and TypeScript</h2>
<ul>
<li><a href="01-01-what-is-playwright">What is Playwright?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up Your Development Environment</a></li>
<li><a href="01-03-introduction-to-typescript">Introduction to TypeScript</a></li>
<li><a href="01-04-basic-typescript-syntax">Basic TypeScript Syntax</a></li>
</ul>
<h2>Module 2: Getting Started with Playwright</h2>
<ul>
<li><a href="02-01-installing-playwright">Installing Playwright</a></li>
<li><a href="02-02-first-playwright-script">Creating Your First Playwright Script</a></li>
<li><a href="02-03-core-concepts">Understanding Playwright's Core Concepts</a></li>
<li><a href="02-04-running-tests">Running Playwright Tests</a></li>
</ul>
<h2>Module 3: Playwright and TypeScript Basics</h2>
<ul>
<li><a href="03-01-writing-tests-typescript">Writing Tests in TypeScript</a></li>
<li><a href="03-02-interfaces-and-types">Using TypeScript Interfaces and Types</a></li>
<li><a href="03-03-debugging-tests">Debugging Playwright Tests</a></li>
<li><a href="03-04-handling-async-code">Handling Asynchronous Code</a></li>
</ul>
<h2>Module 4: Advanced Playwright Features</h2>
<ul>
<li><a href="04-01-working-with-selectors">Working with Selectors</a></li>
<li><a href="04-02-multiple-pages-frames">Handling Multiple Pages and Frames</a></li>
<li><a href="04-03-network-interception">Network Interception and Mocking</a></li>
<li><a href="04-04-emulating-devices">Emulating Devices and Geolocation</a></li>
</ul>
<h2>Module 5: Test Automation Strategies</h2>
<ul>
<li><a href="05-01-organizing-tests">Organizing Tests and Test Suites</a></li>
<li><a href="05-02-fixtures-and-hooks">Using Fixtures and Hooks</a></li>
<li><a href="05-03-parallel-test-execution">Parallel Test Execution</a></li>
<li><a href="05-04-continuous-integration">Continuous Integration with Playwright</a></li>
</ul>
<h2>Module 6: Advanced TypeScript Techniques</h2>
<ul>
<li><a href="06-01-generics-in-typescript">Generics in TypeScript</a></li>
<li><a href="06-02-advanced-types">Advanced TypeScript Types</a></li>
<li><a href="06-03-typescript-decorators">TypeScript Decorators</a></li>
<li><a href="06-04-best-practices">TypeScript and Playwright Best Practices</a></li>
</ul>
<h2>Module 7: Real-World Playwright Applications</h2>
<ul>
<li><a href="07-01-end-to-end-testing">End-to-End Testing with Playwright</a></li>
<li><a href="07-02-visual-testing">Visual Testing with Playwright</a></li>
<li><a href="07-03-performance-testing">Performance Testing with Playwright</a></li>
<li><a href="07-04-case-study">Case Study: Implementing Playwright in a Project</a></li>
</ul>
<h2>Module 8: Course Conclusion and Next Steps</h2>
<ul>
<li><a href="08-01-review-summary">Review and Summary</a></li>
<li><a href="08-02-additional-resources">Additional Resources and Learning Paths</a></li>
<li><a href="08-03-final-project">Final Project: Building a Comprehensive Test Suite</a></li>
<li><a href="08-04-certification-feedback">Certification and Course Feedback</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
