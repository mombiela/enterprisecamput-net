<!DOCTYPE html>
<html lang="en">
<head>
    <title> Using Fixtures and Hooks </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/playwright-typescript/05-02-fixtures-and-hooks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/playwright-typescript/05-02-fixtures-and-hooks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/playwright-typescript/05-02-fixtures-and-hooks" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "playwright_typescript";
  		var TEMA_NAME = "5-2";
  		var TYPE = "mod";
  		var PATH = "mod/playwright_typescript/05-02-fixtures-and-hooks";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.688defeeef.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/playwright-typescript/05-02-fixtures-and-hooks" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/playwright-typescript/05-02-fixtures-and-hooks" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="playwright_typescript">
		<a  href="#" class="text-secondary d-none" data-read-mod="playwright_typescript" data-read-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="playwright_typescript" data-unread-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-organizing-tests' title="Organizing Tests and Test Suites" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-organizing-tests' title="Organizing Tests and Test Suites" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Using Fixtures and Hooks</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-parallel-test-execution' title="Parallel Test Execution" class="py-2 px-3 btn btn-primary"
				data-read-mod="playwright_typescript" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-parallel-test-execution' title="Parallel Test Execution" class="py-2 px-3 btn btn-primary" 
				data-read-mod="playwright_typescript" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use fixtures and hooks in Playwright to enhance your test automation strategies. Fixtures and hooks are powerful tools that help manage test setup and teardown, ensuring your tests are efficient, maintainable, and reliable.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Fixtures</strong>:</p>
<ul>
<li>Fixtures are reusable pieces of code that set up the environment for your tests. They can be used to initialize variables, set up databases, or configure the test environment.</li>
<li>Playwright provides built-in fixtures, but you can also create custom fixtures to suit your specific needs.</li>
</ul>
</li>
<li>
<p><strong>Hooks</strong>:</p>
<ul>
<li>Hooks are functions that run at specific points in the test lifecycle. They allow you to execute code before or after tests or test suites.</li>
<li>Common hooks include <code>beforeAll</code>, <code>afterAll</code>, <code>beforeEach</code>, and <code>afterEach</code>.</li>
</ul>
</li>
</ol>
</div><h2>Using Fixtures</h2>
<div class='content'></div><h3>Built-in Fixtures</h3>
<div class='content'><p>Playwright comes with several built-in fixtures that simplify common tasks. For example, the <code>page</code> fixture provides a new browser page for each test.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdGVzdCwgZXhwZWN0IH0gZnJvbSAnQHBsYXl3cmlnaHQvdGVzdCc7Cgp0ZXN0KCdleGFtcGxlIHRlc3QgdXNpbmcgcGFnZSBmaXh0dXJlJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7CiAgYXdhaXQgcGFnZS5nb3RvKCdodHRwczovL2V4YW1wbGUuY29tJyk7CiAgY29uc3QgdGl0bGUgPSBhd2FpdCBwYWdlLnRpdGxlKCk7CiAgZXhwZWN0KHRpdGxlKS50b0JlKCdFeGFtcGxlIERvbWFpbicpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { test, expect } from '@playwright/test';

test('example test using page fixture', async ({ page }) =&gt; {
  await page.goto('https://example.com');
  const title = await page.title();
  expect(title).toBe('Example Domain');
});</pre></div><div class='content'></div><h3>Custom Fixtures</h3>
<div class='content'><p>You can define custom fixtures to share setup code across tests. Here's how you can create a custom fixture:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdGVzdCBhcyBiYXNlLCBleHBlY3QgfSBmcm9tICdAcGxheXdyaWdodC90ZXN0JzsKCnR5cGUgTXlGaXh0dXJlcyA9IHsKICBjdXN0b21EYXRhOiBzdHJpbmc7Cn07Cgpjb25zdCB0ZXN0ID0gYmFzZS5leHRlbmQ8TXlGaXh0dXJlcz4oewogIGN1c3RvbURhdGE6IGFzeW5jICh7fSwgdXNlKSA9PiB7CiAgICBjb25zdCBkYXRhID0gJ0hlbGxvLCBQbGF5d3JpZ2h0ISc7CiAgICBhd2FpdCB1c2UoZGF0YSk7CiAgfSwKfSk7Cgp0ZXN0KCdleGFtcGxlIHRlc3QgdXNpbmcgY3VzdG9tIGZpeHR1cmUnLCBhc3luYyAoeyBjdXN0b21EYXRhIH0pID0+IHsKICBjb25zb2xlLmxvZyhjdXN0b21EYXRhKTsgLy8gT3V0cHV0OiBIZWxsbywgUGxheXdyaWdodCEKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { test as base, expect } from '@playwright/test';

type MyFixtures = {
  customData: string;
};

const test = base.extend&lt;MyFixtures&gt;({
  customData: async ({}, use) =&gt; {
    const data = 'Hello, Playwright!';
    await use(data);
  },
});

test('example test using custom fixture', async ({ customData }) =&gt; {
  console.log(customData); // Output: Hello, Playwright!
});</pre></div><div class='content'></div><h2>Using Hooks</h2>
<div class='content'></div><h3>Common Hooks</h3>
<div class='content'><ul>
<li><strong><code>beforeAll</code></strong>: Runs once before all tests in a suite.</li>
<li><strong><code>afterAll</code></strong>: Runs once after all tests in a suite.</li>
<li><strong><code>beforeEach</code></strong>: Runs before each test in a suite.</li>
<li><strong><code>afterEach</code></strong>: Runs after each test in a suite.</li>
</ul>
</div><h3>Example of Hooks</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdGVzdCwgZXhwZWN0IH0gZnJvbSAnQHBsYXl3cmlnaHQvdGVzdCc7Cgp0ZXN0LmJlZm9yZUFsbChhc3luYyAoKSA9PiB7CiAgY29uc29sZS5sb2coJ1NldHRpbmcgdXAgYmVmb3JlIGFsbCB0ZXN0cycpOwp9KTsKCnRlc3QuYWZ0ZXJBbGwoYXN5bmMgKCkgPT4gewogIGNvbnNvbGUubG9nKCdDbGVhbmluZyB1cCBhZnRlciBhbGwgdGVzdHMnKTsKfSk7Cgp0ZXN0LmJlZm9yZUVhY2goYXN5bmMgKCkgPT4gewogIGNvbnNvbGUubG9nKCdTZXR0aW5nIHVwIGJlZm9yZSBlYWNoIHRlc3QnKTsKfSk7Cgp0ZXN0LmFmdGVyRWFjaChhc3luYyAoKSA9PiB7CiAgY29uc29sZS5sb2coJ0NsZWFuaW5nIHVwIGFmdGVyIGVhY2ggdGVzdCcpOwp9KTsKCnRlc3QoJ2V4YW1wbGUgdGVzdCB3aXRoIGhvb2tzJywgYXN5bmMgKHsgcGFnZSB9KSA9PiB7CiAgYXdhaXQgcGFnZS5nb3RvKCdodHRwczovL2V4YW1wbGUuY29tJyk7CiAgY29uc3QgdGl0bGUgPSBhd2FpdCBwYWdlLnRpdGxlKCk7CiAgZXhwZWN0KHRpdGxlKS50b0JlKCdFeGFtcGxlIERvbWFpbicpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { test, expect } from '@playwright/test';

test.beforeAll(async () =&gt; {
  console.log('Setting up before all tests');
});

test.afterAll(async () =&gt; {
  console.log('Cleaning up after all tests');
});

test.beforeEach(async () =&gt; {
  console.log('Setting up before each test');
});

test.afterEach(async () =&gt; {
  console.log('Cleaning up after each test');
});

test('example test with hooks', async ({ page }) =&gt; {
  await page.goto('https://example.com');
  const title = await page.title();
  expect(title).toBe('Example Domain');
});</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Exercise</strong>: Create a test suite using Playwright where you:</p>
<ul>
<li>Use a custom fixture to provide a base URL for your tests.</li>
<li>Implement hooks to log messages before and after each test.</li>
</ul>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdGVzdCBhcyBiYXNlLCBleHBlY3QgfSBmcm9tICdAcGxheXdyaWdodC90ZXN0JzsKCnR5cGUgTXlGaXh0dXJlcyA9IHsKICBiYXNlVXJsOiBzdHJpbmc7Cn07Cgpjb25zdCB0ZXN0ID0gYmFzZS5leHRlbmQ8TXlGaXh0dXJlcz4oewogIGJhc2VVcmw6IGFzeW5jICh7fSwgdXNlKSA9PiB7CiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9leGFtcGxlLmNvbSc7CiAgICBhd2FpdCB1c2UodXJsKTsKICB9LAp9KTsKCnRlc3QuYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7CiAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGEgbmV3IHRlc3QnKTsKfSk7Cgp0ZXN0LmFmdGVyRWFjaChhc3luYyAoKSA9PiB7CiAgY29uc29sZS5sb2coJ1Rlc3QgY29tcGxldGVkJyk7Cn0pOwoKdGVzdCgndGVzdCB3aXRoIGN1c3RvbSBmaXh0dXJlIGFuZCBob29rcycsIGFzeW5jICh7IHBhZ2UsIGJhc2VVcmwgfSkgPT4gewogIGF3YWl0IHBhZ2UuZ290byhiYXNlVXJsKTsKICBjb25zdCB0aXRsZSA9IGF3YWl0IHBhZ2UudGl0bGUoKTsKICBleHBlY3QodGl0bGUpLnRvQmUoJ0V4YW1wbGUgRG9tYWluJyk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { test as base, expect } from '@playwright/test';

type MyFixtures = {
  baseUrl: string;
};

const test = base.extend&lt;MyFixtures&gt;({
  baseUrl: async ({}, use) =&gt; {
    const url = 'https://example.com';
    await use(url);
  },
});

test.beforeEach(async () =&gt; {
  console.log('Starting a new test');
});

test.afterEach(async () =&gt; {
  console.log('Test completed');
});

test('test with custom fixture and hooks', async ({ page, baseUrl }) =&gt; {
  await page.goto(baseUrl);
  const title = await page.title();
  expect(title).toBe('Example Domain');
});</pre></div><div class='content'></div><h3>Common Mistakes and Tips</h3>
<div class='content'><ul>
<li>
<p><strong>Mistake</strong>: Forgetting to call <code>await use(data)</code> in custom fixtures.</p>
<ul>
<li><strong>Tip</strong>: Always ensure you call <code>await use(data)</code> to pass the fixture data to the test.</li>
</ul>
</li>
<li>
<p><strong>Mistake</strong>: Overusing hooks, leading to complex and hard-to-maintain tests.</p>
<ul>
<li><strong>Tip</strong>: Use hooks judiciously to keep your tests simple and maintainable.</li>
</ul>
</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, you learned how to use fixtures and hooks in Playwright to manage test setup and teardown efficiently. By leveraging these tools, you can create more organized and maintainable test suites. In the next section, we will explore parallel test execution to further optimize your testing strategy.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-organizing-tests' title="Organizing Tests and Test Suites" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-organizing-tests' title="Organizing Tests and Test Suites" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-parallel-test-execution' title="Parallel Test Execution" class="py-2 px-3 btn btn-primary"
				data-read-mod="playwright_typescript" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-parallel-test-execution' title="Parallel Test Execution" class="py-2 px-3 btn btn-primary" 
				data-read-mod="playwright_typescript" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Playwright with TypeScript: From Beginner to Advanced</h1>
<h2>Module 1: Introduction to Playwright and TypeScript</h2>
<ul>
<li><a href="01-01-what-is-playwright">What is Playwright?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up Your Development Environment</a></li>
<li><a href="01-03-introduction-to-typescript">Introduction to TypeScript</a></li>
<li><a href="01-04-basic-typescript-syntax">Basic TypeScript Syntax</a></li>
</ul>
<h2>Module 2: Getting Started with Playwright</h2>
<ul>
<li><a href="02-01-installing-playwright">Installing Playwright</a></li>
<li><a href="02-02-first-playwright-script">Creating Your First Playwright Script</a></li>
<li><a href="02-03-core-concepts">Understanding Playwright's Core Concepts</a></li>
<li><a href="02-04-running-tests">Running Playwright Tests</a></li>
</ul>
<h2>Module 3: Playwright and TypeScript Basics</h2>
<ul>
<li><a href="03-01-writing-tests-typescript">Writing Tests in TypeScript</a></li>
<li><a href="03-02-interfaces-and-types">Using TypeScript Interfaces and Types</a></li>
<li><a href="03-03-debugging-tests">Debugging Playwright Tests</a></li>
<li><a href="03-04-handling-async-code">Handling Asynchronous Code</a></li>
</ul>
<h2>Module 4: Advanced Playwright Features</h2>
<ul>
<li><a href="04-01-working-with-selectors">Working with Selectors</a></li>
<li><a href="04-02-multiple-pages-frames">Handling Multiple Pages and Frames</a></li>
<li><a href="04-03-network-interception">Network Interception and Mocking</a></li>
<li><a href="04-04-emulating-devices">Emulating Devices and Geolocation</a></li>
</ul>
<h2>Module 5: Test Automation Strategies</h2>
<ul>
<li><a href="05-01-organizing-tests">Organizing Tests and Test Suites</a></li>
<li><a href="05-02-fixtures-and-hooks">Using Fixtures and Hooks</a></li>
<li><a href="05-03-parallel-test-execution">Parallel Test Execution</a></li>
<li><a href="05-04-continuous-integration">Continuous Integration with Playwright</a></li>
</ul>
<h2>Module 6: Advanced TypeScript Techniques</h2>
<ul>
<li><a href="06-01-generics-in-typescript">Generics in TypeScript</a></li>
<li><a href="06-02-advanced-types">Advanced TypeScript Types</a></li>
<li><a href="06-03-typescript-decorators">TypeScript Decorators</a></li>
<li><a href="06-04-best-practices">TypeScript and Playwright Best Practices</a></li>
</ul>
<h2>Module 7: Real-World Playwright Applications</h2>
<ul>
<li><a href="07-01-end-to-end-testing">End-to-End Testing with Playwright</a></li>
<li><a href="07-02-visual-testing">Visual Testing with Playwright</a></li>
<li><a href="07-03-performance-testing">Performance Testing with Playwright</a></li>
<li><a href="07-04-case-study">Case Study: Implementing Playwright in a Project</a></li>
</ul>
<h2>Module 8: Course Conclusion and Next Steps</h2>
<ul>
<li><a href="08-01-review-summary">Review and Summary</a></li>
<li><a href="08-02-additional-resources">Additional Resources and Learning Paths</a></li>
<li><a href="08-03-final-project">Final Project: Building a Comprehensive Test Suite</a></li>
<li><a href="08-04-certification-feedback">Certification and Course Feedback</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
