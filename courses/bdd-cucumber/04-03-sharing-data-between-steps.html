<!DOCTYPE html>
<html lang="en">
<head>
    <title> Sharing Data Between Steps </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/bdd-cucumber/04-03-sharing-data-between-steps" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/bdd-cucumber/04-03-sharing-data-between-steps" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/bdd-cucumber/04-03-sharing-data-between-steps" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "bdd_cucumber";
  		var TEMA_NAME = "4-3";
  		var TYPE = "mod";
  		var PATH = "mod/bdd_cucumber/04-03-sharing-data-between-steps";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/bdd-cucumber/04-03-sharing-data-between-steps" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/bdd-cucumber/04-03-sharing-data-between-steps" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="bdd_cucumber">
		<a  href="#" class="text-secondary d-none" data-read-mod="bdd_cucumber" data-read-unit="4-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="bdd_cucumber" data-unread-unit="4-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-02-parameterizing-steps' title="Parameterizing Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-02-parameterizing-steps' title="Parameterizing Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Sharing Data Between Steps</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-backgrounds-hooks' title="Backgrounds and Hooks" class="py-2 px-3 btn btn-primary"
				data-read-mod="bdd_cucumber" data-read-unit="4-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-backgrounds-hooks' title="Backgrounds and Hooks" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bdd_cucumber" data-read-unit="4-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In Cucumber, sharing data between steps is a crucial aspect of writing efficient and maintainable test scenarios. This section will guide you through the methods and best practices for sharing data between steps in your Cucumber tests.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>State Management</strong>: Understanding how to manage and share state between steps is essential for creating coherent and logical test scenarios.</li>
<li><strong>Instance Variables</strong>: Using instance variables to store and share data across different steps within the same scenario.</li>
<li><strong>World Object</strong>: Leveraging the World object to maintain state and share data across steps.</li>
<li><strong>Hooks for Setup and Teardown</strong>: Utilizing hooks to set up and clean up shared data before and after scenarios.</li>
</ol>
</div><h2>Using Instance Variables</h2>
<div class='content'><p>Instance variables are a straightforward way to share data between steps. They are accessible across all steps within the same scenario.</p>
</div><h3>Example</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmZWF0dXJlcy9zdGVwX2RlZmluaXRpb25zL3NoYXJpbmdfc3RlcHMucmIKCkdpdmVuKCdJIGhhdmUgYSB2YXJpYWJsZSB3aXRoIHZhbHVlIHtpbnR9JykgZG8gfHZhbHVlfAogIEBzaGFyZWRfdmFsdWUgPSB2YWx1ZQplbmQKCldoZW4oJ0kgaW5jcmVtZW50IHRoZSB2YXJpYWJsZSBieSB7aW50fScpIGRvIHxpbmNyZW1lbnR8CiAgQHNoYXJlZF92YWx1ZSArPSBpbmNyZW1lbnQKZW5kCgpUaGVuKCd0aGUgdmFyaWFibGUgc2hvdWxkIGJlIHtpbnR9JykgZG8gfGV4cGVjdGVkX3ZhbHVlfAogIGV4cGVjdChAc2hhcmVkX3ZhbHVlKS50byBlcShleHBlY3RlZF92YWx1ZSkKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># features/step_definitions/sharing_steps.rb

Given('I have a variable with value {int}') do |value|
  @shared_value = value
end

When('I increment the variable by {int}') do |increment|
  @shared_value += increment
end

Then('the variable should be {int}') do |expected_value|
  expect(@shared_value).to eq(expected_value)
end</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>@shared_value</strong>: An instance variable that holds the state shared across steps.</li>
<li><strong>Given Step</strong>: Initializes the variable.</li>
<li><strong>When Step</strong>: Modifies the variable.</li>
<li><strong>Then Step</strong>: Asserts the final value of the variable.</li>
</ul>
</div><h2>Using the World Object</h2>
<div class='content'><p>The World object in Cucumber acts as a context for your steps, allowing you to define methods and variables that can be accessed across steps.</p>
</div><h3>Example</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmZWF0dXJlcy9zdXBwb3J0L2Vudi5yYgoKbW9kdWxlIEN1c3RvbVdvcmxkCiAgYXR0cl9hY2Nlc3NvciA6c2hhcmVkX2RhdGEKZW5kCgpXb3JsZChDdXN0b21Xb3JsZCkKCiMgZmVhdHVyZXMvc3RlcF9kZWZpbml0aW9ucy9zaGFyaW5nX3N0ZXBzLnJiCgpHaXZlbignSSBzZXQgc2hhcmVkIGRhdGEgdG8ge3N0cmluZ30nKSBkbyB8ZGF0YXwKICBzZWxmLnNoYXJlZF9kYXRhID0gZGF0YQplbmQKCldoZW4oJ0kgYXBwZW5kIHtzdHJpbmd9IHRvIHNoYXJlZCBkYXRhJykgZG8gfGFkZGl0aW9uYWxfZGF0YXwKICBzZWxmLnNoYXJlZF9kYXRhICs9IGFkZGl0aW9uYWxfZGF0YQplbmQKClRoZW4oJ3RoZSBzaGFyZWQgZGF0YSBzaG91bGQgYmUge3N0cmluZ30nKSBkbyB8ZXhwZWN0ZWRfZGF0YXwKICBleHBlY3Qoc2VsZi5zaGFyZWRfZGF0YSkudG8gZXEoZXhwZWN0ZWRfZGF0YSkKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># features/support/env.rb

module CustomWorld
  attr_accessor :shared_data
end

World(CustomWorld)

# features/step_definitions/sharing_steps.rb

Given('I set shared data to {string}') do |data|
  self.shared_data = data
end

When('I append {string} to shared data') do |additional_data|
  self.shared_data += additional_data
end

Then('the shared data should be {string}') do |expected_data|
  expect(self.shared_data).to eq(expected_data)
end</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>CustomWorld Module</strong>: Defines an accessor for <code>shared_data</code>.</li>
<li><strong>World(CustomWorld)</strong>: Extends the World object with the <code>CustomWorld</code> module.</li>
<li><strong>Steps</strong>: Use <code>self.shared_data</code> to access and modify the shared data.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Task</h3>
<div class='content'><p>Create a Cucumber scenario that calculates the total price of items in a shopping cart. Use shared data to store the cart's total price and update it as items are added.</p>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmZWF0dXJlcy9zdGVwX2RlZmluaXRpb25zL3Nob3BwaW5nX2NhcnRfc3RlcHMucmIKCkdpdmVuKCd0aGUgY2FydCBpcyBlbXB0eScpIGRvCiAgQHRvdGFsX3ByaWNlID0gMAplbmQKCldoZW4oJ0kgYWRkIGFuIGl0ZW0gd2l0aCBwcmljZSB7aW50fScpIGRvIHxwcmljZXwKICBAdG90YWxfcHJpY2UgKz0gcHJpY2UKZW5kCgpUaGVuKCd0aGUgdG90YWwgcHJpY2Ugc2hvdWxkIGJlIHtpbnR9JykgZG8gfGV4cGVjdGVkX3RvdGFsfAogIGV4cGVjdChAdG90YWxfcHJpY2UpLnRvIGVxKGV4cGVjdGVkX3RvdGFsKQplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># features/step_definitions/shopping_cart_steps.rb

Given('the cart is empty') do
  @total_price = 0
end

When('I add an item with price {int}') do |price|
  @total_price += price
end

Then('the total price should be {int}') do |expected_total|
  expect(@total_price).to eq(expected_total)
end</pre></div><div class='content'></div><h3>Feedback and Tips</h3>
<div class='content'><ul>
<li><strong>Common Mistake</strong>: Forgetting to initialize shared data can lead to nil errors. Always initialize your shared variables.</li>
<li><strong>Tip</strong>: Use descriptive variable names to make your steps more readable and maintainable.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Sharing data between steps is a fundamental technique in Cucumber that enhances the reusability and clarity of your test scenarios. By using instance variables and the World object, you can efficiently manage state across steps, leading to more organized and effective BDD tests. In the next section, we will explore advanced Gherkin techniques to further enhance your BDD skills.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-02-parameterizing-steps' title="Parameterizing Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-02-parameterizing-steps' title="Parameterizing Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-backgrounds-hooks' title="Backgrounds and Hooks" class="py-2 px-3 btn btn-primary"
				data-read-mod="bdd_cucumber" data-read-unit="4-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-backgrounds-hooks' title="Backgrounds and Hooks" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bdd_cucumber" data-read-unit="4-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>BDD with Cucumber and Gherkin</h1>
<h2>Module 1: Introduction to BDD</h2>
<ul>
<li><a href="01-01-what-is-bdd">What is BDD?</a></li>
<li><a href="01-02-benefits-of-bdd">Benefits of BDD</a></li>
<li><a href="01-03-overview-cucumber-gherkin">Overview of Cucumber and Gherkin</a></li>
</ul>
<h2>Module 2: Getting Started with Cucumber</h2>
<ul>
<li><a href="02-01-setting-up-environment">Setting Up the Environment</a></li>
<li><a href="02-02-creating-first-cucumber-project">Creating Your First Cucumber Project</a></li>
<li><a href="02-03-understanding-feature-files">Understanding Feature Files</a></li>
</ul>
<h2>Module 3: Writing Gherkin Scenarios</h2>
<ul>
<li><a href="03-01-introduction-gherkin-syntax">Introduction to Gherkin Syntax</a></li>
<li><a href="03-02-writing-first-scenario">Writing Your First Scenario</a></li>
<li><a href="03-03-using-given-when-then">Using Given, When, Then</a></li>
</ul>
<h2>Module 4: Step Definitions</h2>
<ul>
<li><a href="04-01-creating-step-definitions">Creating Step Definitions</a></li>
<li><a href="04-02-parameterizing-steps">Parameterizing Steps</a></li>
<li><a href="04-03-sharing-data-between-steps">Sharing Data Between Steps</a></li>
</ul>
<h2>Module 5: Advanced Gherkin Techniques</h2>
<ul>
<li><a href="05-01-backgrounds-hooks">Backgrounds and Hooks</a></li>
<li><a href="05-02-scenario-outlines-examples">Scenario Outlines and Examples</a></li>
<li><a href="05-03-tags-filtering-scenarios">Tags and Filtering Scenarios</a></li>
</ul>
<h2>Module 6: Integrating Cucumber with Development</h2>
<ul>
<li><a href="06-01-integrating-continuous-integration">Integrating with Continuous Integration</a></li>
<li><a href="06-02-using-cucumber-different-languages">Using Cucumber with Different Languages</a></li>
<li><a href="06-03-best-practices-bdd-teams">Best Practices for BDD in Teams</a></li>
</ul>
<h2>Module 7: Advanced Cucumber Features</h2>
<ul>
<li><a href="07-01-customizing-cucumber-reports">Customizing Cucumber Reports</a></li>
<li><a href="07-02-working-with-data-tables">Working with Data Tables</a></li>
<li><a href="07-03-cucumber-expressions">Cucumber Expressions</a></li>
</ul>
<h2>Module 8: Real-World BDD Applications</h2>
<ul>
<li><a href="08-01-case-study-web-application">Case Study: BDD in a Web Application</a></li>
<li><a href="08-02-case-study-microservices">Case Study: BDD in a Microservices Architecture</a></li>
<li><a href="08-03-challenges-solutions-bdd">Challenges and Solutions in BDD</a></li>
</ul>
<h2>Module 9: Mastering BDD</h2>
<ul>
<li><a href="09-01-refactoring-bdd-tests">Refactoring BDD Tests</a></li>
<li><a href="09-02-scaling-bdd-large-projects">Scaling BDD in Large Projects</a></li>
<li><a href="09-03-future-bdd-cucumber">Future of BDD and Cucumber</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
