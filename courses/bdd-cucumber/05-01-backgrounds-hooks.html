<!DOCTYPE html>
<html lang="en">
<head>
    <title> Backgrounds and Hooks </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/bdd-cucumber/05-01-backgrounds-hooks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/bdd-cucumber/05-01-backgrounds-hooks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/bdd-cucumber/05-01-backgrounds-hooks" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "bdd_cucumber";
  		var TEMA_NAME = "5-1";
  		var TYPE = "mod";
  		var PATH = "mod/bdd_cucumber/05-01-backgrounds-hooks";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.ae32789132.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/bdd-cucumber/05-01-backgrounds-hooks" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/bdd-cucumber/05-01-backgrounds-hooks" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="bdd_cucumber">
		<a  href="#" class="text-secondary d-none" data-read-mod="bdd_cucumber" data-read-unit="5-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="bdd_cucumber" data-unread-unit="5-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-sharing-data-between-steps' title="Sharing Data Between Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-sharing-data-between-steps' title="Sharing Data Between Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Backgrounds and Hooks</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-02-scenario-outlines-examples' title="Scenario Outlines and Examples" class="py-2 px-3 btn btn-primary"
				data-read-mod="bdd_cucumber" data-read-unit="5-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-02-scenario-outlines-examples' title="Scenario Outlines and Examples" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bdd_cucumber" data-read-unit="5-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore advanced Gherkin techniques, focusing on Backgrounds and Hooks. These features help streamline your scenarios and manage preconditions and postconditions effectively.</p>
</div><h2>Backgrounds</h2>
<div class='content'></div><h3>What is a Background?</h3>
<div class='content'><p>A <strong>Background</strong> in Gherkin is used to define a set of steps that are common to all scenarios in a feature file. This helps avoid repetition and keeps your feature files clean and maintainable.</p>
</div><h3>When to Use Backgrounds</h3>
<div class='content'><ul>
<li>When multiple scenarios in a feature file share the same initial context or setup.</li>
<li>To improve readability by reducing duplication of steps.</li>
</ul>
</div><h3>Example of a Background</h3>
<div class='content'><p>Consider a feature file for a banking application where multiple scenarios require the user to be logged in:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmVhdHVyZTogQmFua2luZyBUcmFuc2FjdGlvbnMKCiAgQmFja2dyb3VuZDoKICAgIEdpdmVuIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbnRvIHRoZWlyIGFjY291bnQKCiAgU2NlbmFyaW86IFVzZXIgY2hlY2tzIGFjY291bnQgYmFsYW5jZQogICAgV2hlbiB0aGUgdXNlciBuYXZpZ2F0ZXMgdG8gdGhlIGFjY291bnQgc3VtbWFyeSBwYWdlCiAgICBUaGVuIHRoZSBhY2NvdW50IGJhbGFuY2UgaXMgZGlzcGxheWVkCgogIFNjZW5hcmlvOiBVc2VyIHRyYW5zZmVycyBtb25leQogICAgV2hlbiB0aGUgdXNlciB0cmFuc2ZlcnMgJDEwMCB0byBhbm90aGVyIGFjY291bnQKICAgIFRoZW4gdGhlIHRyYW5zZmVyIGlzIHN1Y2Nlc3NmdWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Feature: Banking Transactions

  Background:
    Given the user is logged into their account

  Scenario: User checks account balance
    When the user navigates to the account summary page
    Then the account balance is displayed

  Scenario: User transfers money
    When the user transfers $100 to another account
    Then the transfer is successful</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>Background</strong>: The <code>Given the user is logged into their account</code> step is common to both scenarios and is defined once in the Background.</li>
<li><strong>Scenarios</strong>: Each scenario can focus on the specific actions and outcomes without repeating the login step.</li>
</ul>
</div><h2>Hooks</h2>
<div class='content'></div><h3>What are Hooks?</h3>
<div class='content'><p><strong>Hooks</strong> are blocks of code that run at specific points in the Cucumber execution cycle. They allow you to perform setup and teardown operations.</p>
</div><h3>Types of Hooks</h3>
<div class='content'><ol>
<li><strong>Before Hooks</strong>: Run before each scenario.</li>
<li><strong>After Hooks</strong>: Run after each scenario.</li>
<li><strong>BeforeStep and AfterStep Hooks</strong>: Run before and after each step (less commonly used).</li>
</ol>
</div><h3>When to Use Hooks</h3>
<div class='content'><ul>
<li>To set up a test environment before scenarios run.</li>
<li>To clean up or reset the environment after scenarios.</li>
<li>To perform logging or take screenshots for debugging.</li>
</ul>
</div><h3>Example of Hooks</h3>
<div class='content'><p>Here's how you might use hooks in a Cucumber project:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLmN1Y3VtYmVyLmphdmEuQmVmb3JlOwppbXBvcnQgaW8uY3VjdW1iZXIuamF2YS5BZnRlcjsKCnB1YmxpYyBjbGFzcyBIb29rcyB7CgogIEBCZWZvcmUKICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgIFN5c3RlbS5vdXQucHJpbnRsbigiU2V0dGluZyB1cCB0aGUgdGVzdCBlbnZpcm9ubWVudCIpOwogICAgLy8gQ29kZSB0byBpbml0aWFsaXplIHRoZSB0ZXN0IGVudmlyb25tZW50CiAgfQoKICBAQWZ0ZXIKICBwdWJsaWMgdm9pZCB0ZWFyRG93bigpIHsKICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVGVhcmluZyBkb3duIHRoZSB0ZXN0IGVudmlyb25tZW50Iik7CiAgICAvLyBDb2RlIHRvIGNsZWFuIHVwIHRoZSB0ZXN0IGVudmlyb25tZW50CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.cucumber.java.Before;
import io.cucumber.java.After;

public class Hooks {

  @Before
  public void setUp() {
    System.out.println(&quot;Setting up the test environment&quot;);
    // Code to initialize the test environment
  }

  @After
  public void tearDown() {
    System.out.println(&quot;Tearing down the test environment&quot;);
    // Code to clean up the test environment
  }
}</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>Before Hook</strong>: The <code>setUp</code> method runs before each scenario, initializing the test environment.</li>
<li><strong>After Hook</strong>: The <code>tearDown</code> method runs after each scenario, cleaning up the environment.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Task</h3>
<div class='content'><ol>
<li>Create a feature file for a shopping cart application with the following scenarios:
<ul>
<li>Adding an item to the cart.</li>
<li>Removing an item from the cart.</li>
</ul>
</li>
<li>Use a Background to log the user into the application.</li>
<li>Implement Before and After hooks to initialize and clean up the test environment.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><p><strong>Feature File:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmVhdHVyZTogU2hvcHBpbmcgQ2FydAoKICBCYWNrZ3JvdW5kOgogICAgR2l2ZW4gdGhlIHVzZXIgaXMgbG9nZ2VkIGludG8gdGhlIHNob3BwaW5nIGFwcGxpY2F0aW9uCgogIFNjZW5hcmlvOiBBZGQgaXRlbSB0byBjYXJ0CiAgICBXaGVuIHRoZSB1c2VyIGFkZHMgYW4gaXRlbSB0byB0aGUgY2FydAogICAgVGhlbiB0aGUgaXRlbSBpcyBkaXNwbGF5ZWQgaW4gdGhlIGNhcnQKCiAgU2NlbmFyaW86IFJlbW92ZSBpdGVtIGZyb20gY2FydAogICAgV2hlbiB0aGUgdXNlciByZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGUgY2FydAogICAgVGhlbiB0aGUgY2FydCBpcyBlbXB0eQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Feature: Shopping Cart

  Background:
    Given the user is logged into the shopping application

  Scenario: Add item to cart
    When the user adds an item to the cart
    Then the item is displayed in the cart

  Scenario: Remove item from cart
    When the user removes an item from the cart
    Then the cart is empty</pre></div><div class='content'><p><strong>Hooks Implementation:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLmN1Y3VtYmVyLmphdmEuQmVmb3JlOwppbXBvcnQgaW8uY3VjdW1iZXIuamF2YS5BZnRlcjsKCnB1YmxpYyBjbGFzcyBTaG9wcGluZ0NhcnRIb29rcyB7CgogIEBCZWZvcmUKICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgIFN5c3RlbS5vdXQucHJpbnRsbigiSW5pdGlhbGl6aW5nIHNob3BwaW5nIGNhcnQgZW52aXJvbm1lbnQiKTsKICAgIC8vIENvZGUgdG8gaW5pdGlhbGl6ZSB0aGUgc2hvcHBpbmcgY2FydCBlbnZpcm9ubWVudAogIH0KCiAgQEFmdGVyCiAgcHVibGljIHZvaWQgdGVhckRvd24oKSB7CiAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkNsZWFuaW5nIHVwIHNob3BwaW5nIGNhcnQgZW52aXJvbm1lbnQiKTsKICAgIC8vIENvZGUgdG8gY2xlYW4gdXAgdGhlIHNob3BwaW5nIGNhcnQgZW52aXJvbm1lbnQKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.cucumber.java.Before;
import io.cucumber.java.After;

public class ShoppingCartHooks {

  @Before
  public void setUp() {
    System.out.println(&quot;Initializing shopping cart environment&quot;);
    // Code to initialize the shopping cart environment
  }

  @After
  public void tearDown() {
    System.out.println(&quot;Cleaning up shopping cart environment&quot;);
    // Code to clean up the shopping cart environment
  }
}</pre></div><div class='content'></div><h3>Common Mistakes and Tips</h3>
<div class='content'><ul>
<li><strong>Avoid Overusing Backgrounds</strong>: Use Backgrounds only when steps are truly common to all scenarios. Otherwise, consider using scenario outlines or separate feature files.</li>
<li><strong>Keep Hooks Lightweight</strong>: Hooks should be efficient and not perform heavy operations that could slow down test execution.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, we learned how to use Backgrounds to reduce redundancy in feature files and Hooks to manage setup and teardown processes. These tools help maintain clean, efficient, and organized test scenarios, which are crucial for effective BDD practices. In the next section, we will explore Scenario Outlines and Examples to handle parameterized scenarios efficiently.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-sharing-data-between-steps' title="Sharing Data Between Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-sharing-data-between-steps' title="Sharing Data Between Steps" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-02-scenario-outlines-examples' title="Scenario Outlines and Examples" class="py-2 px-3 btn btn-primary"
				data-read-mod="bdd_cucumber" data-read-unit="5-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-02-scenario-outlines-examples' title="Scenario Outlines and Examples" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bdd_cucumber" data-read-unit="5-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>BDD with Cucumber and Gherkin</h1>
<h2>Module 1: Introduction to BDD</h2>
<ul>
<li><a href="01-01-what-is-bdd">What is BDD?</a></li>
<li><a href="01-02-benefits-of-bdd">Benefits of BDD</a></li>
<li><a href="01-03-overview-cucumber-gherkin">Overview of Cucumber and Gherkin</a></li>
</ul>
<h2>Module 2: Getting Started with Cucumber</h2>
<ul>
<li><a href="02-01-setting-up-environment">Setting Up the Environment</a></li>
<li><a href="02-02-creating-first-cucumber-project">Creating Your First Cucumber Project</a></li>
<li><a href="02-03-understanding-feature-files">Understanding Feature Files</a></li>
</ul>
<h2>Module 3: Writing Gherkin Scenarios</h2>
<ul>
<li><a href="03-01-introduction-gherkin-syntax">Introduction to Gherkin Syntax</a></li>
<li><a href="03-02-writing-first-scenario">Writing Your First Scenario</a></li>
<li><a href="03-03-using-given-when-then">Using Given, When, Then</a></li>
</ul>
<h2>Module 4: Step Definitions</h2>
<ul>
<li><a href="04-01-creating-step-definitions">Creating Step Definitions</a></li>
<li><a href="04-02-parameterizing-steps">Parameterizing Steps</a></li>
<li><a href="04-03-sharing-data-between-steps">Sharing Data Between Steps</a></li>
</ul>
<h2>Module 5: Advanced Gherkin Techniques</h2>
<ul>
<li><a href="05-01-backgrounds-hooks">Backgrounds and Hooks</a></li>
<li><a href="05-02-scenario-outlines-examples">Scenario Outlines and Examples</a></li>
<li><a href="05-03-tags-filtering-scenarios">Tags and Filtering Scenarios</a></li>
</ul>
<h2>Module 6: Integrating Cucumber with Development</h2>
<ul>
<li><a href="06-01-integrating-continuous-integration">Integrating with Continuous Integration</a></li>
<li><a href="06-02-using-cucumber-different-languages">Using Cucumber with Different Languages</a></li>
<li><a href="06-03-best-practices-bdd-teams">Best Practices for BDD in Teams</a></li>
</ul>
<h2>Module 7: Advanced Cucumber Features</h2>
<ul>
<li><a href="07-01-customizing-cucumber-reports">Customizing Cucumber Reports</a></li>
<li><a href="07-02-working-with-data-tables">Working with Data Tables</a></li>
<li><a href="07-03-cucumber-expressions">Cucumber Expressions</a></li>
</ul>
<h2>Module 8: Real-World BDD Applications</h2>
<ul>
<li><a href="08-01-case-study-web-application">Case Study: BDD in a Web Application</a></li>
<li><a href="08-02-case-study-microservices">Case Study: BDD in a Microservices Architecture</a></li>
<li><a href="08-03-challenges-solutions-bdd">Challenges and Solutions in BDD</a></li>
</ul>
<h2>Module 9: Mastering BDD</h2>
<ul>
<li><a href="09-01-refactoring-bdd-tests">Refactoring BDD Tests</a></li>
<li><a href="09-02-scaling-bdd-large-projects">Scaling BDD in Large Projects</a></li>
<li><a href="09-03-future-bdd-cucumber">Future of BDD and Cucumber</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
