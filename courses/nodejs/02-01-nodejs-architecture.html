<!DOCTYPE html>
<html lang="en">
<head>
    <title> Node.js Architecture </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/nodejs/02-01-nodejs-architecture" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/nodejs/02-01-nodejs-architecture" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/nodejs/02-01-nodejs-architecture" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "nodejs";
  		var TEMA_NAME = "2-1";
  		var TYPE = "mod";
  		var PATH = "mod/nodejs/02-01-nodejs-architecture";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/nodejs/02-01-nodejs-architecture" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/nodejs/02-01-nodejs-architecture" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="nodejs">
		<a  href="#" class="text-secondary d-none" data-read-mod="nodejs" data-read-unit="2-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="nodejs" data-unread-unit="2-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='01-04-nodejs-repl' title="Node.js REPL" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='01-04-nodejs-repl' title="Node.js REPL" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Node.js Architecture</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='02-02-event-loop' title="Event Loop" class="py-2 px-3 btn btn-primary"
				data-read-mod="nodejs" data-read-unit="2-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='02-02-event-loop' title="Event Loop" class="py-2 px-3 btn btn-primary" 
				data-read-mod="nodejs" data-read-unit="2-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Node.js is a powerful and popular runtime environment that allows developers to run JavaScript on the server side. Understanding its architecture is crucial for leveraging its full potential. In this section, we will explore the core components and design principles that make Node.js unique.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Single-Threaded Event Loop</strong>:</p>
<ul>
<li>Node.js operates on a single-threaded event loop model, which allows it to handle multiple concurrent operations without creating multiple threads.</li>
<li>This model is efficient for I/O-bound tasks but may not be suitable for CPU-intensive tasks.</li>
</ul>
</li>
<li>
<p><strong>Non-Blocking I/O</strong>:</p>
<ul>
<li>Node.js uses non-blocking I/O operations, meaning it can handle other tasks while waiting for I/O operations to complete.</li>
<li>This is achieved through asynchronous programming, which is a core concept in Node.js.</li>
</ul>
</li>
<li>
<p><strong>Event-Driven Architecture</strong>:</p>
<ul>
<li>Node.js is event-driven, meaning it uses events to handle asynchronous operations.</li>
<li>The EventEmitter class is central to this architecture, allowing objects to emit and listen for events.</li>
</ul>
</li>
<li>
<p><strong>V8 JavaScript Engine</strong>:</p>
<ul>
<li>Node.js is built on the V8 JavaScript engine, developed by Google for the Chrome browser.</li>
<li>V8 compiles JavaScript directly to native machine code, providing high performance.</li>
</ul>
</li>
</ol>
</div><h2>Components of Node.js Architecture</h2>
<div class='content'></div><h3><ol>
<li>V8 Engine</li>
</ol></h3>
<div class='content'><ul>
<li><strong>Role</strong>: Executes JavaScript code.</li>
<li><strong>Features</strong>: High performance, Just-In-Time (JIT) compilation.</li>
</ul>
</div><h3><ol start="2">
<li>Libuv</li>
</ol></h3>
<div class='content'><ul>
<li><strong>Role</strong>: Provides the event loop and asynchronous I/O.</li>
<li><strong>Features</strong>: Cross-platform support, handles file system, DNS, network, child processes, and more.</li>
</ul>
</div><h3><ol start="3">
<li>Event Loop</li>
</ol></h3>
<div class='content'><ul>
<li><strong>Role</strong>: Manages asynchronous operations.</li>
<li><strong>Phases</strong>:
<ol>
<li><strong>Timers</strong>: Executes callbacks scheduled by <code>setTimeout()</code> and <code>setInterval()</code>.</li>
<li><strong>Pending Callbacks</strong>: Executes I/O callbacks deferred to the next loop iteration.</li>
<li><strong>Idle, Prepare</strong>: Internal use only.</li>
<li><strong>Poll</strong>: Retrieves new I/O events; executes I/O-related callbacks.</li>
<li><strong>Check</strong>: Executes <code>setImmediate()</code> callbacks.</li>
<li><strong>Close Callbacks</strong>: Executes close event callbacks, e.g., <code>socket.on('close', ...)</code>.</li>
</ol>
</li>
</ul>
</div><h3><ol start="4">
<li>C++ Bindings</li>
</ol></h3>
<div class='content'><ul>
<li><strong>Role</strong>: Provides bindings to C++ libraries.</li>
<li><strong>Features</strong>: Allows Node.js to interface with low-level system operations.</li>
</ul>
</div><h3><ol start="5">
<li>Node.js APIs</li>
</ol></h3>
<div class='content'><ul>
<li><strong>Role</strong>: Provides built-in modules and APIs.</li>
<li><strong>Examples</strong>: <code>fs</code> for file system operations, <code>http</code> for creating servers, <code>path</code> for handling file paths.</li>
</ul>
</div><h2>Practical Example: Understanding the Event Loop</h2>
<div class='content'><p>Let's look at a simple example to understand how the event loop works:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpOwoKY29uc29sZS5sb2coJ1N0YXJ0Jyk7Cgpmcy5yZWFkRmlsZSgnZXhhbXBsZS50eHQnLCAndXRmOCcsIChlcnIsIGRhdGEpID0+IHsKICBpZiAoZXJyKSB7CiAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICByZXR1cm47CiAgfQogIGNvbnNvbGUubG9nKCdGaWxlIGNvbnRlbnQ6JywgZGF0YSk7Cn0pOwoKY29uc29sZS5sb2coJ0VuZCcpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fs = require('fs');

console.log('Start');

fs.readFile('example.txt', 'utf8', (err, data) =&gt; {
  if (err) {
    console.error(err);
    return;
  }
  console.log('File content:', data);
});

console.log('End');</pre></div><div class='content'></div><h3>Explanation:</h3>
<div class='content'><ol>
<li>
<p><strong>Synchronous Operations</strong>:</p>
<ul>
<li><code>console.log('Start')</code> is executed first.</li>
<li><code>fs.readFile</code> is called, but it is an asynchronous operation, so it doesn't block the execution.</li>
<li><code>console.log('End')</code> is executed next.</li>
</ul>
</li>
<li>
<p><strong>Asynchronous Operation</strong>:</p>
<ul>
<li>Once the file reading is complete, the callback function provided to <code>fs.readFile</code> is executed.</li>
<li>This happens after the synchronous code has finished executing.</li>
</ul>
</li>
</ol>
</div><h3>Output:</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U3RhcnQKRW5kCkZpbGUgY29udGVudDogW2NvbnRlbnQgb2YgZXhhbXBsZS50eHRd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Start
End
File content: [content of example.txt]</pre></div><div class='content'></div><h2>Exercise: Exploring the Event Loop</h2>
<div class='content'></div><h3>Task:</h3>
<div class='content'><p>Write a Node.js script that demonstrates the order of execution of different asynchronous operations, such as <code>setTimeout</code>, <code>setImmediate</code>, and <code>process.nextTick</code>.</p>
</div><h3>Solution:</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc29sZS5sb2coJ1N0YXJ0Jyk7CgpzZXRUaW1lb3V0KCgpID0+IHsKICBjb25zb2xlLmxvZygnVGltZW91dCcpOwp9LCAwKTsKCnNldEltbWVkaWF0ZSgoKSA9PiB7CiAgY29uc29sZS5sb2coJ0ltbWVkaWF0ZScpOwp9KTsKCnByb2Nlc3MubmV4dFRpY2soKCkgPT4gewogIGNvbnNvbGUubG9nKCdOZXh0IFRpY2snKTsKfSk7Cgpjb25zb2xlLmxvZygnRW5kJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>console.log('Start');

setTimeout(() =&gt; {
  console.log('Timeout');
}, 0);

setImmediate(() =&gt; {
  console.log('Immediate');
});

process.nextTick(() =&gt; {
  console.log('Next Tick');
});

console.log('End');</pre></div><div class='content'></div><h3>Expected Output:</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U3RhcnQKRW5kCk5leHQgVGljawpJbW1lZGlhdGUKVGltZW91dA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Start
End
Next Tick
Immediate
Timeout</pre></div><div class='content'></div><h3>Explanation:</h3>
<div class='content'><ul>
<li><code>process.nextTick</code> is executed after the current operation completes, before the event loop continues.</li>
<li><code>setImmediate</code> is executed in the check phase of the event loop.</li>
<li><code>setTimeout</code> with a delay of 0 is executed in the timers phase, which comes after the check phase.</li>
</ul>
</div><h2>Summary</h2>
<div class='content'><p>In this section, we covered the architecture of Node.js, focusing on its single-threaded event loop, non-blocking I/O, and event-driven nature. We also explored the key components like the V8 engine, libuv, and Node.js APIs. Understanding these concepts is fundamental for writing efficient and scalable Node.js applications. In the next module, we will dive deeper into the event loop and asynchronous programming with callbacks.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='01-04-nodejs-repl' title="Node.js REPL" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='01-04-nodejs-repl' title="Node.js REPL" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='02-02-event-loop' title="Event Loop" class="py-2 px-3 btn btn-primary"
				data-read-mod="nodejs" data-read-unit="2-1">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='02-02-event-loop' title="Event Loop" class="py-2 px-3 btn btn-primary" 
				data-read-mod="nodejs" data-read-unit="2-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Node.js Course</h1>
<h2>Module 1: Introduction to Node.js</h2>
<ul>
<li><a href="01-01-what-is-nodejs">What is Node.js?</a></li>
<li><a href="01-02-setting-up-nodejs">Setting Up Node.js</a></li>
<li><a href="01-03-first-nodejs-program">Your First Node.js Program</a></li>
<li><a href="01-04-nodejs-repl">Node.js REPL</a></li>
</ul>
<h2>Module 2: Core Concepts</h2>
<ul>
<li><a href="02-01-nodejs-architecture">Node.js Architecture</a></li>
<li><a href="02-02-event-loop">Event Loop</a></li>
<li><a href="02-03-callbacks-async">Callbacks and Asynchronous Programming</a></li>
<li><a href="02-04-modules-require">Modules and require()</a></li>
</ul>
<h2>Module 3: File System and I/O</h2>
<ul>
<li><a href="03-01-reading-writing-files">Reading and Writing Files</a></li>
<li><a href="03-02-working-with-streams">Working with Streams</a></li>
<li><a href="03-03-file-system-module">File System Module</a></li>
<li><a href="03-04-path-module">Path Module</a></li>
</ul>
<h2>Module 4: HTTP and Web Servers</h2>
<ul>
<li><a href="04-01-simple-http-server">Creating a Simple HTTP Server</a></li>
<li><a href="04-02-handling-requests-responses">Handling Requests and Responses</a></li>
<li><a href="04-03-serving-static-files">Serving Static Files</a></li>
<li><a href="04-04-routing">Routing</a></li>
</ul>
<h2>Module 5: NPM and Package Management</h2>
<ul>
<li><a href="05-01-introduction-to-npm">Introduction to NPM</a></li>
<li><a href="05-02-installing-using-packages">Installing and Using Packages</a></li>
<li><a href="05-03-creating-publishing-packages">Creating and Publishing Packages</a></li>
<li><a href="05-04-semantic-versioning">Semantic Versioning</a></li>
</ul>
<h2>Module 6: Express.js Framework</h2>
<ul>
<li><a href="06-01-introduction-to-express">Introduction to Express.js</a></li>
<li><a href="06-02-setting-up-express">Setting Up an Express Application</a></li>
<li><a href="06-03-middleware">Middleware</a></li>
<li><a href="06-04-routing-express">Routing in Express</a></li>
<li><a href="06-05-error-handling">Error Handling</a></li>
</ul>
<h2>Module 7: Databases and ORMs</h2>
<ul>
<li><a href="07-01-introduction-databases">Introduction to Databases</a></li>
<li><a href="07-02-mongodb-mongoose">Using MongoDB with Mongoose</a></li>
<li><a href="07-03-sql-sequelize">Using SQL Databases with Sequelize</a></li>
<li><a href="07-04-crud-operations">CRUD Operations</a></li>
</ul>
<h2>Module 8: Authentication and Authorization</h2>
<ul>
<li><a href="08-01-introduction-authentication">Introduction to Authentication</a></li>
<li><a href="08-02-using-passport">Using Passport.js</a></li>
<li><a href="08-03-jwt-authentication">JWT Authentication</a></li>
<li><a href="08-04-role-based-access">Role-Based Access Control</a></li>
</ul>
<h2>Module 9: Testing and Debugging</h2>
<ul>
<li><a href="09-01-introduction-testing">Introduction to Testing</a></li>
<li><a href="09-02-unit-testing-mocha-chai">Unit Testing with Mocha and Chai</a></li>
<li><a href="09-03-integration-testing">Integration Testing</a></li>
<li><a href="09-04-debugging-nodejs">Debugging Node.js Applications</a></li>
</ul>
<h2>Module 10: Advanced Topics</h2>
<ul>
<li><a href="10-01-cluster-module">Cluster Module</a></li>
<li><a href="10-02-worker-threads">Worker Threads</a></li>
<li><a href="10-03-performance-optimization">Performance Optimization</a></li>
<li><a href="10-04-building-restful-apis">Building RESTful APIs</a></li>
<li><a href="10-05-graphql-nodejs">GraphQL with Node.js</a></li>
</ul>
<h2>Module 11: Deployment and DevOps</h2>
<ul>
<li><a href="11-01-environment-variables">Environment Variables</a></li>
<li><a href="11-02-using-pm2">Using PM2 for Process Management</a></li>
<li><a href="11-03-deploying-heroku">Deploying to Heroku</a></li>
<li><a href="11-04-ci-cd">Continuous Integration and Deployment</a></li>
</ul>
<h2>Module 12: Real-World Projects</h2>
<ul>
<li><a href="12-01-building-chat-app">Building a Chat Application</a></li>
<li><a href="12-02-creating-ecommerce-api">Creating an E-commerce API</a></li>
<li><a href="12-03-developing-blogging-platform">Developing a Blogging Platform</a></li>
<li><a href="12-04-building-task-management">Building a Task Management Tool</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
