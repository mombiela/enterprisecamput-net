<!DOCTYPE html>
<html lang="en">
<head>
    <title> Declarative vs Scripted Pipelines </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/jenkins/03-02-declarative-vs-scripted-pipelines" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/jenkins/03-02-declarative-vs-scripted-pipelines" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/jenkins/03-02-declarative-vs-scripted-pipelines" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "jenkins";
  		var TEMA_NAME = "3-2";
  		var TYPE = "mod";
  		var PATH = "mod/jenkins/03-02-declarative-vs-scripted-pipelines";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/jenkins/03-02-declarative-vs-scripted-pipelines" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/jenkins/03-02-declarative-vs-scripted-pipelines" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="jenkins">
		<a  href="#" class="text-secondary d-none" data-read-mod="jenkins" data-read-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="jenkins" data-unread-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-pipeline-as-code' title="Pipeline as Code" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-pipeline-as-code' title="Pipeline as Code" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Declarative vs Scripted Pipelines</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline" class="py-2 px-3 btn btn-primary"
				data-read-mod="jenkins" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jenkins" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In Jenkins, pipelines can be defined using two different syntaxes: Declarative and Scripted. Understanding the differences between these two approaches is crucial for creating efficient and maintainable CI/CD pipelines.</p>
</div><h2>Key Concepts</h2>
<div class='content'></div><h3>Declarative Pipelines</h3>
<div class='content'><ul>
<li><strong>Structure</strong>: Declarative pipelines provide a more structured and opinionated syntax. They are defined within a <code>pipeline</code> block.</li>
<li><strong>Ease of Use</strong>: Easier to read and write, especially for beginners.</li>
<li><strong>Error Handling</strong>: Built-in error handling and validation.</li>
<li><strong>Stages and Steps</strong>: Clearly defined stages and steps.</li>
<li><strong>Best Practices</strong>: Encourages best practices by design.</li>
</ul>
</div><h3>Scripted Pipelines</h3>
<div class='content'><ul>
<li><strong>Structure</strong>: Scripted pipelines use a more flexible and powerful Groovy-based syntax.</li>
<li><strong>Flexibility</strong>: Offers more control and flexibility, suitable for complex workflows.</li>
<li><strong>Learning Curve</strong>: Steeper learning curve due to its flexibility and complexity.</li>
<li><strong>Customization</strong>: Allows for extensive customization and scripting.</li>
</ul>
</div><h2>Comparison Table</h2>
<div class='content'><table>
<thead>
<tr>
<th>Feature</th>
<th>Declarative Pipelines</th>
<th>Scripted Pipelines</th>
</tr>
</thead>
<tbody>
<tr>
<td>Syntax</td>
<td>Structured, opinionated</td>
<td>Flexible, Groovy-based</td>
</tr>
<tr>
<td>Learning Curve</td>
<td>Easier for beginners</td>
<td>Steeper, more complex</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Built-in validation and error handling</td>
<td>Requires manual error handling</td>
</tr>
<tr>
<td>Readability</td>
<td>High, due to structured format</td>
<td>Lower, can be complex</td>
</tr>
<tr>
<td>Flexibility</td>
<td>Limited to predefined constructs</td>
<td>Highly flexible, allows custom scripting</td>
</tr>
<tr>
<td>Use Case</td>
<td>Simple to moderately complex pipelines</td>
<td>Complex and highly customized pipelines</td>
</tr>
</tbody>
</table>
</div><h2>Practical Examples</h2>
<div class='content'></div><h3>Declarative Pipeline Example</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0J1aWxkaW5nLi4uJwogICAgICAgICAgICAgICAgLy8gQWRkIGJ1aWxkIHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnVGVzdCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgZWNobyAnVGVzdGluZy4uLicKICAgICAgICAgICAgICAgIC8vIEFkZCB0ZXN0IHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRGVwbG95JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdEZXBsb3lpbmcuLi4nCiAgICAgICAgICAgICAgICAvLyBBZGQgZGVwbG95IHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
                // Add build steps here
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
                // Add test steps here
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Add deploy steps here
            }
        }
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><strong>pipeline</strong>: The root block for a declarative pipeline.</li>
<li><strong>agent any</strong>: Specifies that the pipeline can run on any available agent.</li>
<li><strong>stages</strong>: Contains a sequence of stages.</li>
<li><strong>stage</strong>: Represents a phase in the pipeline (e.g., Build, Test, Deploy).</li>
<li><strong>steps</strong>: Contains the actual steps to be executed within a stage.</li>
</ul>
</div><h3>Scripted Pipeline Example</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bm9kZSB7CiAgICB0cnkgewogICAgICAgIHN0YWdlKCdCdWlsZCcpIHsKICAgICAgICAgICAgZWNobyAnQnVpbGRpbmcuLi4nCiAgICAgICAgICAgIC8vIEFkZCBidWlsZCBzdGVwcyBoZXJlCiAgICAgICAgfQogICAgICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgICAgICBlY2hvICdUZXN0aW5nLi4uJwogICAgICAgICAgICAvLyBBZGQgdGVzdCBzdGVwcyBoZXJlCiAgICAgICAgfQogICAgICAgIHN0YWdlKCdEZXBsb3knKSB7CiAgICAgICAgICAgIGVjaG8gJ0RlcGxveWluZy4uLicKICAgICAgICAgICAgLy8gQWRkIGRlcGxveSBzdGVwcyBoZXJlCiAgICAgICAgfQogICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICBlY2hvICJBbiBlcnJvciBvY2N1cnJlZDogJHtlLm1lc3NhZ2V9IgogICAgfSBmaW5hbGx5IHsKICAgICAgICBlY2hvICdQaXBlbGluZSBjb21wbGV0ZWQuJwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>node {
    try {
        stage('Build') {
            echo 'Building...'
            // Add build steps here
        }
        stage('Test') {
            echo 'Testing...'
            // Add test steps here
        }
        stage('Deploy') {
            echo 'Deploying...'
            // Add deploy steps here
        }
    } catch (Exception e) {
        echo &quot;An error occurred: ${e.message}&quot;
    } finally {
        echo 'Pipeline completed.'
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><strong>node</strong>: The root block for a scripted pipeline, indicating the pipeline runs on a Jenkins node.</li>
<li><strong>try-catch-finally</strong>: Used for error handling.</li>
<li><strong>stage</strong>: Represents a phase in the pipeline (e.g., Build, Test, Deploy).</li>
<li><strong>echo</strong>: Prints a message to the console.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Create a Declarative Pipeline</h3>
<div class='content'><ol>
<li><strong>Objective</strong>: Create a simple declarative pipeline with three stages: Build, Test, and Deploy.</li>
<li><strong>Steps</strong>:
<ul>
<li>Open Jenkins and create a new pipeline job.</li>
<li>Use the following pipeline script:</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0J1aWxkaW5nLi4uJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdUZXN0aW5nLi4uJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdEZXBsb3knKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0RlcGxveWluZy4uLicKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
            }
        }
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Run the Pipeline</strong>: Save the job and run the pipeline. Observe the output in the console.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><p>The provided script should work as expected, printing messages for each stage.</p>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li>
<p><strong>Declarative Pipelines</strong>:</p>
<ul>
<li>Ensure all stages and steps are correctly nested within the <code>pipeline</code> block.</li>
<li>Use the <code>agent</code> directive to specify where the pipeline should run.</li>
</ul>
</li>
<li>
<p><strong>Scripted Pipelines</strong>:</p>
<ul>
<li>Properly handle exceptions using try-catch blocks.</li>
<li>Use the <code>node</code> block to define the execution environment.</li>
</ul>
</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Understanding the differences between declarative and scripted pipelines is essential for choosing the right approach for your Jenkins workflows. Declarative pipelines offer simplicity and structure, making them ideal for most use cases, while scripted pipelines provide the flexibility needed for more complex scenarios. By mastering both, you can create efficient and maintainable CI/CD pipelines in Jenkins.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-pipeline-as-code' title="Pipeline as Code" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-pipeline-as-code' title="Pipeline as Code" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline" class="py-2 px-3 btn btn-primary"
				data-read-mod="jenkins" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jenkins" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Jenkins: From Beginner to Advanced</h1>
<h2>Module 1: Introduction to Jenkins</h2>
<ul>
<li><a href="01-01-what-is-jenkins">What is Jenkins?</a></li>
<li><a href="01-02-installing-jenkins">Installing Jenkins</a></li>
<li><a href="01-03-jenkins-architecture">Jenkins Architecture</a></li>
<li><a href="01-04-first-jenkins-job">First Jenkins Job</a></li>
</ul>
<h2>Module 2: Jenkins Basics</h2>
<ul>
<li><a href="02-01-jenkins-dashboard-overview">Jenkins Dashboard Overview</a></li>
<li><a href="02-02-creating-and-running-jobs">Creating and Running Jobs</a></li>
<li><a href="02-03-understanding-jenkins-pipelines">Understanding Jenkins Pipelines</a></li>
<li><a href="02-04-using-jenkins-plugins">Using Jenkins Plugins</a></li>
</ul>
<h2>Module 3: Jenkins Pipelines</h2>
<ul>
<li><a href="03-01-pipeline-as-code">Pipeline as Code</a></li>
<li><a href="03-02-declarative-vs-scripted-pipelines">Declarative vs Scripted Pipelines</a></li>
<li><a href="03-03-creating-a-simple-pipeline">Creating a Simple Pipeline</a></li>
<li><a href="03-04-pipeline-syntax">Pipeline Syntax</a></li>
</ul>
<h2>Module 4: Advanced Jenkins Pipelines</h2>
<ul>
<li><a href="04-01-pipeline-stages-and-steps">Pipeline Stages and Steps</a></li>
<li><a href="04-02-parallel-execution-in-pipelines">Parallel Execution in Pipelines</a></li>
<li><a href="04-03-using-environment-variables">Using Environment Variables</a></li>
<li><a href="04-04-pipeline-best-practices">Pipeline Best Practices</a></li>
</ul>
<h2>Module 5: Jenkins Administration</h2>
<ul>
<li><a href="05-01-managing-jenkins-nodes">Managing Jenkins Nodes</a></li>
<li><a href="05-02-configuring-security">Configuring Security</a></li>
<li><a href="05-03-backup-and-restore-jenkins">Backup and Restore Jenkins</a></li>
<li><a href="05-04-monitoring-jenkins">Monitoring Jenkins</a></li>
</ul>
<h2>Module 6: Integrating Jenkins</h2>
<ul>
<li><a href="06-01-integrating-with-version-control-systems">Integrating with Version Control Systems</a></li>
<li><a href="06-02-integrating-with-build-tools">Integrating with Build Tools</a></li>
<li><a href="06-03-integrating-with-testing-tools">Integrating with Testing Tools</a></li>
<li><a href="06-04-integrating-with-deployment-tools">Integrating with Deployment Tools</a></li>
</ul>
<h2>Module 7: Jenkins for Continuous Integration and Continuous Delivery (CI/CD)</h2>
<ul>
<li><a href="07-01-understanding-ci-cd">Understanding CI/CD</a></li>
<li><a href="07-02-setting-up-a-ci-pipeline">Setting Up a CI Pipeline</a></li>
<li><a href="07-03-setting-up-a-cd-pipeline">Setting Up a CD Pipeline</a></li>
<li><a href="07-04-automating-deployments">Automating Deployments</a></li>
</ul>
<h2>Module 8: Advanced Jenkins Topics</h2>
<ul>
<li><a href="08-01-using-jenkins-with-docker">Using Jenkins with Docker</a></li>
<li><a href="08-02-jenkins-and-kubernetes">Jenkins and Kubernetes</a></li>
<li><a href="08-03-jenkins-as-code-with-jenkinsfile">Jenkins as Code with Jenkinsfile</a></li>
<li><a href="08-04-scaling-jenkins">Scaling Jenkins</a></li>
</ul>
<h2>Module 9: Jenkins Best Practices and Troubleshooting</h2>
<ul>
<li><a href="09-01-jenkins-best-practices">Jenkins Best Practices</a></li>
<li><a href="09-02-common-jenkins-issues-and-solutions">Common Jenkins Issues and Solutions</a></li>
<li><a href="09-03-optimizing-jenkins-performance">Optimizing Jenkins Performance</a></li>
<li><a href="09-04-jenkins-community-and-resources">Jenkins Community and Resources</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
