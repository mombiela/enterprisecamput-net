<!DOCTYPE html>
<html lang="en">
<head>
    <title> Backup and Restore </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/redis/04-04-backup-and-restore" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/redis/04-04-backup-and-restore" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/redis/04-04-backup-and-restore" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "redis";
  		var TEMA_NAME = "4-4";
  		var TYPE = "mod";
  		var PATH = "mod/redis/04-04-backup-and-restore";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/redis/04-04-backup-and-restore" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/redis/04-04-backup-and-restore" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="redis">
		<a  href="#" class="text-secondary d-none" data-read-mod="redis" data-read-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="redis" data-unread-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-persistence-configuration' title="Persistence Configuration" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-persistence-configuration' title="Persistence Configuration" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Backup and Restore</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-authentication' title="Authentication" class="py-2 px-3 btn btn-primary"
				data-read-mod="redis" data-read-unit="4-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-authentication' title="Authentication" class="py-2 px-3 btn btn-primary" 
				data-read-mod="redis" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover the essential concepts and practical steps for backing up and restoring Redis data. Ensuring data persistence and recoverability is crucial for maintaining the integrity and availability of your Redis instances.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Backup</strong>: The process of creating a copy of your Redis data that can be used to restore the data in case of failure or data loss.</li>
<li><strong>Restore</strong>: The process of loading data from a backup into a Redis instance to recover from data loss or corruption.</li>
</ol>
</div><h2>Types of Backups</h2>
<div class='content'><p>Redis supports two primary methods for creating backups:</p>
<ol>
<li><strong>Snapshots (RDB)</strong>: A point-in-time snapshot of the dataset.</li>
<li><strong>Append-Only Files (AOF)</strong>: A log of all write operations received by the server.</li>
</ol>
</div><h2>Creating Backups</h2>
<div class='content'></div><h3>Snapshots (RDB)</h3>
<div class='content'><p>Redis can create snapshots of the dataset at specified intervals. These snapshots are stored in RDB files.</p>
<h4>Manual Snapshot Creation</h4>
<p>You can manually create a snapshot using the <code>SAVE</code> or <code>BGSAVE</code> commands.</p>
<ul>
<li><code>SAVE</code>: Blocks the server until the snapshot is created.</li>
<li><code>BGSAVE</code>: Creates the snapshot in the background, allowing the server to continue processing commands.</li>
</ul>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhdGUgYSBzbmFwc2hvdCB1c2luZyBTQVZFClNBVkUKCiMgQ3JlYXRlIGEgc25hcHNob3QgdXNpbmcgQkdTQVZFCkJHU0FWRQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Create a snapshot using SAVE
SAVE

# Create a snapshot using BGSAVE
BGSAVE</pre></div><div class='content'><h4>Automatic Snapshot Creation</h4>
<p>You can configure Redis to create snapshots automatically by setting the <code>save</code> configuration directive in the <code>redis.conf</code> file.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTYXZlIHRoZSBkYXRhc2V0IGV2ZXJ5IDYwIHNlY29uZHMgaWYgYXQgbGVhc3QgMTAwMCBrZXlzIGhhdmUgY2hhbmdlZApzYXZlIDYwIDEwMDA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Save the dataset every 60 seconds if at least 1000 keys have changed
save 60 1000</pre></div><div class='content'></div><h3>Append-Only Files (AOF)</h3>
<div class='content'><p>AOF logs every write operation received by the server. This log can be used to reconstruct the dataset.</p>
<h4>Enabling AOF</h4>
<p>To enable AOF, set the <code>appendonly</code> directive to <code>yes</code> in the <code>redis.conf</code> file.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwZW5kb25seSB5ZXM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>appendonly yes</pre></div><div class='content'><h4>Manual AOF Rewrite</h4>
<p>You can manually trigger an AOF rewrite using the <code>BGREWRITEAOF</code> command.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBUcmlnZ2VyIGFuIEFPRiByZXdyaXRlCkJHUkVXUklURUFPRg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Trigger an AOF rewrite
BGREWRITEAOF</pre></div><div class='content'></div><h2>Restoring Data</h2>
<div class='content'></div><h3>Restoring from RDB Snapshot</h3>
<div class='content'><p>To restore data from an RDB snapshot, follow these steps:</p>
<ol>
<li><strong>Stop the Redis server</strong>: Ensure the server is not running to avoid data corruption.</li>
<li><strong>Replace the current RDB file</strong>: Copy the backup RDB file to the Redis data directory, typically <code>/var/lib/redis</code>.</li>
<li><strong>Start the Redis server</strong>: Restart the server to load the data from the RDB file.</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdG9wIHRoZSBSZWRpcyBzZXJ2ZXIKc3VkbyBzeXN0ZW1jdGwgc3RvcCByZWRpcwoKIyBSZXBsYWNlIHRoZSBjdXJyZW50IFJEQiBmaWxlIHdpdGggdGhlIGJhY2t1cApzdWRvIGNwIC9wYXRoL3RvL2JhY2t1cC9kdW1wLnJkYiAvdmFyL2xpYi9yZWRpcy9kdW1wLnJkYgoKIyBTdGFydCB0aGUgUmVkaXMgc2VydmVyCnN1ZG8gc3lzdGVtY3RsIHN0YXJ0IHJlZGlz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Stop the Redis server
sudo systemctl stop redis

# Replace the current RDB file with the backup
sudo cp /path/to/backup/dump.rdb /var/lib/redis/dump.rdb

# Start the Redis server
sudo systemctl start redis</pre></div><div class='content'></div><h3>Restoring from AOF</h3>
<div class='content'><p>To restore data from an AOF file, follow these steps:</p>
<ol>
<li><strong>Stop the Redis server</strong>: Ensure the server is not running to avoid data corruption.</li>
<li><strong>Replace the current AOF file</strong>: Copy the backup AOF file to the Redis data directory, typically <code>/var/lib/redis</code>.</li>
<li><strong>Start the Redis server</strong>: Restart the server to load the data from the AOF file.</li>
</ol>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdG9wIHRoZSBSZWRpcyBzZXJ2ZXIKc3VkbyBzeXN0ZW1jdGwgc3RvcCByZWRpcwoKIyBSZXBsYWNlIHRoZSBjdXJyZW50IEFPRiBmaWxlIHdpdGggdGhlIGJhY2t1cApzdWRvIGNwIC9wYXRoL3RvL2JhY2t1cC9hcHBlbmRvbmx5LmFvZiAvdmFyL2xpYi9yZWRpcy9hcHBlbmRvbmx5LmFvZgoKIyBTdGFydCB0aGUgUmVkaXMgc2VydmVyCnN1ZG8gc3lzdGVtY3RsIHN0YXJ0IHJlZGlz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Stop the Redis server
sudo systemctl stop redis

# Replace the current AOF file with the backup
sudo cp /path/to/backup/appendonly.aof /var/lib/redis/appendonly.aof

# Start the Redis server
sudo systemctl start redis</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Backup and Restore Using RDB</h3>
<div class='content'><ol>
<li><strong>Create a snapshot</strong>: Use the <code>BGSAVE</code> command to create a snapshot of your current dataset.</li>
<li><strong>Simulate data loss</strong>: Delete some keys from your dataset.</li>
<li><strong>Restore the snapshot</strong>: Stop the Redis server, replace the RDB file with the backup, and restart the server.</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdGVwIDE6IENyZWF0ZSBhIHNuYXBzaG90CkJHU0FWRQoKIyBTdGVwIDI6IFNpbXVsYXRlIGRhdGEgbG9zcwpERUwga2V5MSBrZXkyIGtleTMKCiMgU3RlcCAzOiBSZXN0b3JlIHRoZSBzbmFwc2hvdApzdWRvIHN5c3RlbWN0bCBzdG9wIHJlZGlzCnN1ZG8gY3AgL3BhdGgvdG8vYmFja3VwL2R1bXAucmRiIC92YXIvbGliL3JlZGlzL2R1bXAucmRiCnN1ZG8gc3lzdGVtY3RsIHN0YXJ0IHJlZGlz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Step 1: Create a snapshot
BGSAVE

# Step 2: Simulate data loss
DEL key1 key2 key3

# Step 3: Restore the snapshot
sudo systemctl stop redis
sudo cp /path/to/backup/dump.rdb /var/lib/redis/dump.rdb
sudo systemctl start redis</pre></div><div class='content'></div><h2>Summary</h2>
<div class='content'><p>In this section, we covered the essential concepts and practical steps for backing up and restoring Redis data using RDB snapshots and AOF files. We discussed how to create backups manually and automatically, and how to restore data from these backups. By following these practices, you can ensure the integrity and availability of your Redis data.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-persistence-configuration' title="Persistence Configuration" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-persistence-configuration' title="Persistence Configuration" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-01-authentication' title="Authentication" class="py-2 px-3 btn btn-primary"
				data-read-mod="redis" data-read-unit="4-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-01-authentication' title="Authentication" class="py-2 px-3 btn btn-primary" 
				data-read-mod="redis" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Redis Course</h1>
<h2>Module 1: Introduction to Redis</h2>
<ul>
<li><a href="01-01-what-is-redis">What is Redis?</a></li>
<li><a href="01-02-installing-redis">Installing Redis</a></li>
<li><a href="01-03-basic-redis-data-types">Basic Redis Data Types</a></li>
<li><a href="01-04-redis-cli-basics">Redis CLI Basics</a></li>
</ul>
<h2>Module 2: Redis Data Structures</h2>
<ul>
<li><a href="02-01-strings">Strings</a></li>
<li><a href="02-02-lists">Lists</a></li>
<li><a href="02-03-sets">Sets</a></li>
<li><a href="02-04-hashes">Hashes</a></li>
<li><a href="02-05-sorted-sets">Sorted Sets</a></li>
</ul>
<h2>Module 3: Redis Commands and Operations</h2>
<ul>
<li><a href="03-01-basic-commands">Basic Commands</a></li>
<li><a href="03-02-advanced-commands">Advanced Commands</a></li>
<li><a href="03-03-transactions">Transactions</a></li>
<li><a href="03-04-pipelining">Pipelining</a></li>
</ul>
<h2>Module 4: Redis Persistence</h2>
<ul>
<li><a href="04-01-snapshots-rdb">Snapshots (RDB)</a></li>
<li><a href="04-02-append-only-files-aof">Append-Only Files (AOF)</a></li>
<li><a href="04-03-persistence-configuration">Persistence Configuration</a></li>
<li><a href="04-04-backup-and-restore">Backup and Restore</a></li>
</ul>
<h2>Module 5: Redis Security</h2>
<ul>
<li><a href="05-01-authentication">Authentication</a></li>
<li><a href="05-02-encryption">Encryption</a></li>
<li><a href="05-03-access-control-lists-acls">Access Control Lists (ACLs)</a></li>
<li><a href="05-04-security-best-practices">Security Best Practices</a></li>
</ul>
<h2>Module 6: Redis Performance Optimization</h2>
<ul>
<li><a href="06-01-memory-optimization">Memory Optimization</a></li>
<li><a href="06-02-latency-and-throughput">Latency and Throughput</a></li>
<li><a href="06-03-performance-tuning">Performance Tuning</a></li>
<li><a href="06-04-monitoring-and-metrics">Monitoring and Metrics</a></li>
</ul>
<h2>Module 7: Redis Clustering and High Availability</h2>
<ul>
<li><a href="07-01-replication">Replication</a></li>
<li><a href="07-02-sentinel">Sentinel</a></li>
<li><a href="07-03-cluster-mode">Cluster Mode</a></li>
<li><a href="07-04-scaling-redis">Scaling Redis</a></li>
</ul>
<h2>Module 8: Redis Modules and Extensions</h2>
<ul>
<li><a href="08-01-introduction-to-redis-modules">Introduction to Redis Modules</a></li>
<li><a href="08-02-popular-redis-modules">Popular Redis Modules</a></li>
<li><a href="08-03-creating-custom-modules">Creating Custom Modules</a></li>
<li><a href="08-04-using-redis-with-other-technologies">Using Redis with Other Technologies</a></li>
</ul>
<h2>Module 9: Advanced Redis Use Cases</h2>
<ul>
<li><a href="09-01-caching">Caching</a></li>
<li><a href="09-02-session-storage">Session Storage</a></li>
<li><a href="09-03-message-queues">Message Queues</a></li>
<li><a href="09-04-real-time-analytics">Real-Time Analytics</a></li>
</ul>
<h2>Module 10: Redis in Production</h2>
<ul>
<li><a href="10-01-deployment-strategies">Deployment Strategies</a></li>
<li><a href="10-02-monitoring-and-maintenance">Monitoring and Maintenance</a></li>
<li><a href="10-03-troubleshooting">Troubleshooting</a></li>
<li><a href="10-04-case-studies">Case Studies</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
