<!DOCTYPE html>
<html lang="en">
<head>
    <title> Sentinel </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/redis/07-02-sentinel" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/redis/07-02-sentinel" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/redis/07-02-sentinel" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "redis";
  		var TEMA_NAME = "7-2";
  		var TYPE = "mod";
  		var PATH = "mod/redis/07-02-sentinel";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/redis/07-02-sentinel" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/redis/07-02-sentinel" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="redis">
		<a  href="#" class="text-secondary d-none" data-read-mod="redis" data-read-unit="7-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="redis" data-unread-unit="7-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Sentinel</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='07-03-cluster-mode' title="Cluster Mode" class="py-2 px-3 btn btn-primary"
				data-read-mod="redis" data-read-unit="7-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='07-03-cluster-mode' title="Cluster Mode" class="py-2 px-3 btn btn-primary" 
				data-read-mod="redis" data-read-unit="7-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introduction to Redis Sentinel</h2>
<div class='content'><p>Redis Sentinel is a system designed to help manage Redis instances, providing high availability and monitoring capabilities. It ensures that your Redis deployment remains available and operational even in the event of failures.</p>
</div><h3>Key Features of Redis Sentinel</h3>
<div class='content'><ul>
<li><strong>Monitoring</strong>: Sentinel constantly checks if your master and replica instances are working as expected.</li>
<li><strong>Notification</strong>: Sentinel can notify administrators or other systems when a Redis instance goes down.</li>
<li><strong>Automatic Failover</strong>: If a master instance fails, Sentinel can promote one of the replicas to be the new master.</li>
<li><strong>Configuration Provider</strong>: Sentinel acts as a source of authority for clients to discover the current master instance.</li>
</ul>
</div><h2>Setting Up Redis Sentinel</h2>
<div class='content'></div><h3>Prerequisites</h3>
<div class='content'><ul>
<li>A running Redis master instance.</li>
<li>One or more Redis replica instances.</li>
</ul>
</div><h3>Step-by-Step Setup</h3>
<div class='content'><ol>
<li>
<p><strong>Install Redis Sentinel</strong>: Redis Sentinel is included with the Redis installation. Ensure Redis is installed on your system.</p>
</li>
<li>
<p><strong>Configure Sentinel</strong>: Create a configuration file for Sentinel. Below is an example configuration:</p>
<pre><code class="language-plaintext"># sentinel.conf
port 26379
dir /tmp
sentinel monitor mymaster 127.0.0.1 6379 2
sentinel down-after-milliseconds mymaster 5000
sentinel failover-timeout mymaster 10000
sentinel parallel-syncs mymaster 1
</code></pre>
<ul>
<li><code>port 26379</code>: The port on which Sentinel will run.</li>
<li><code>dir /tmp</code>: Directory for Sentinel to store its state.</li>
<li><code>sentinel monitor mymaster 127.0.0.1 6379 2</code>: Monitor a master instance named <code>mymaster</code> running on <code>127.0.0.1:6379</code> with a quorum of 2.</li>
<li><code>sentinel down-after-milliseconds mymaster 5000</code>: Consider the master down if it is unresponsive for 5000 milliseconds.</li>
<li><code>sentinel failover-timeout mymaster 10000</code>: Timeout for the failover process.</li>
<li><code>sentinel parallel-syncs mymaster 1</code>: Number of replicas that can be re-synchronized in parallel during a failover.</li>
</ul>
</li>
<li>
<p><strong>Start Sentinel</strong>: Run the following command to start Sentinel with the configuration file:</p>
<pre><code class="language-sh">redis-sentinel /path/to/sentinel.conf
</code></pre>
</li>
</ol>
</div><h3>Practical Example</h3>
<div class='content'><p>Let's assume you have a Redis master running on <code>127.0.0.1:6379</code> and two replicas on <code>127.0.0.1:6380</code> and <code>127.0.0.1:6381</code>.</p>
<ol>
<li>
<p><strong>Configure the Master and Replicas</strong>: Ensure the replicas are properly configured to replicate from the master.</p>
<pre><code class="language-sh"># On replica 1 (port 6380)
redis-cli -p 6380
&gt; SLAVEOF 127.0.0.1 6379

# On replica 2 (port 6381)
redis-cli -p 6381
&gt; SLAVEOF 127.0.0.1 6379
</code></pre>
</li>
<li>
<p><strong>Create Sentinel Configuration</strong>: Create a <code>sentinel.conf</code> file with the following content:</p>
<pre><code class="language-plaintext">port 26379
dir /tmp
sentinel monitor mymaster 127.0.0.1 6379 2
sentinel down-after-milliseconds mymaster 5000
sentinel failover-timeout mymaster 10000
sentinel parallel-syncs mymaster 1
</code></pre>
</li>
<li>
<p><strong>Start Sentinel</strong>: Run Sentinel using the configuration file.</p>
<pre><code class="language-sh">redis-sentinel /path/to/sentinel.conf
</code></pre>
</li>
</ol>
</div><h2>Monitoring and Failover</h2>
<div class='content'></div><h3>Monitoring</h3>
<div class='content'><p>Sentinel continuously monitors the master and replica instances. You can check the status using the following command:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVkaXMtY2xpIC1wIDI2Mzc5IFNFTlRJTkVMIG1hc3RlcnM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>redis-cli -p 26379 SENTINEL masters</pre></div><div class='content'><p>This command will provide information about the monitored master instances.</p>
</div><h3>Automatic Failover</h3>
<div class='content'><p>If the master instance fails, Sentinel will automatically promote one of the replicas to be the new master. You can observe the failover process in the Sentinel logs.</p>
</div><h3>Practical Exercise</h3>
<div class='content'><ol>
<li>
<p><strong>Simulate a Master Failure</strong>: Stop the master instance.</p>
<pre><code class="language-sh">redis-cli -p 6379 SHUTDOWN
</code></pre>
</li>
<li>
<p><strong>Observe Failover</strong>: Check the Sentinel logs to see the failover process. You can also use the following command to verify the new master:</p>
<pre><code class="language-sh">redis-cli -p 26379 SENTINEL masters
</code></pre>
</li>
</ol>
</div><h3>Common Mistakes and Tips</h3>
<div class='content'><ul>
<li><strong>Quorum Configuration</strong>: Ensure the quorum value in the Sentinel configuration is correctly set. It should be the majority of Sentinels that need to agree on the failover.</li>
<li><strong>Network Configuration</strong>: Make sure all Sentinel instances can communicate with each other and with the Redis instances.</li>
<li><strong>Resource Allocation</strong>: Ensure that the system running Sentinel has enough resources (CPU, memory) to handle the monitoring and failover processes.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Redis Sentinel is a powerful tool for managing Redis instances, providing high availability and automatic failover capabilities. By setting up and configuring Sentinel, you can ensure that your Redis deployment remains resilient and operational even in the face of failures. In the next section, we will explore Redis Cluster Mode, which provides a way to scale Redis horizontally.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='07-03-cluster-mode' title="Cluster Mode" class="py-2 px-3 btn btn-primary"
				data-read-mod="redis" data-read-unit="7-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='07-03-cluster-mode' title="Cluster Mode" class="py-2 px-3 btn btn-primary" 
				data-read-mod="redis" data-read-unit="7-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Redis Course</h1>
<h2>Module 1: Introduction to Redis</h2>
<ul>
<li><a href="01-01-what-is-redis">What is Redis?</a></li>
<li><a href="01-02-installing-redis">Installing Redis</a></li>
<li><a href="01-03-basic-redis-data-types">Basic Redis Data Types</a></li>
<li><a href="01-04-redis-cli-basics">Redis CLI Basics</a></li>
</ul>
<h2>Module 2: Redis Data Structures</h2>
<ul>
<li><a href="02-01-strings">Strings</a></li>
<li><a href="02-02-lists">Lists</a></li>
<li><a href="02-03-sets">Sets</a></li>
<li><a href="02-04-hashes">Hashes</a></li>
<li><a href="02-05-sorted-sets">Sorted Sets</a></li>
</ul>
<h2>Module 3: Redis Commands and Operations</h2>
<ul>
<li><a href="03-01-basic-commands">Basic Commands</a></li>
<li><a href="03-02-advanced-commands">Advanced Commands</a></li>
<li><a href="03-03-transactions">Transactions</a></li>
<li><a href="03-04-pipelining">Pipelining</a></li>
</ul>
<h2>Module 4: Redis Persistence</h2>
<ul>
<li><a href="04-01-snapshots-rdb">Snapshots (RDB)</a></li>
<li><a href="04-02-append-only-files-aof">Append-Only Files (AOF)</a></li>
<li><a href="04-03-persistence-configuration">Persistence Configuration</a></li>
<li><a href="04-04-backup-and-restore">Backup and Restore</a></li>
</ul>
<h2>Module 5: Redis Security</h2>
<ul>
<li><a href="05-01-authentication">Authentication</a></li>
<li><a href="05-02-encryption">Encryption</a></li>
<li><a href="05-03-access-control-lists-acls">Access Control Lists (ACLs)</a></li>
<li><a href="05-04-security-best-practices">Security Best Practices</a></li>
</ul>
<h2>Module 6: Redis Performance Optimization</h2>
<ul>
<li><a href="06-01-memory-optimization">Memory Optimization</a></li>
<li><a href="06-02-latency-and-throughput">Latency and Throughput</a></li>
<li><a href="06-03-performance-tuning">Performance Tuning</a></li>
<li><a href="06-04-monitoring-and-metrics">Monitoring and Metrics</a></li>
</ul>
<h2>Module 7: Redis Clustering and High Availability</h2>
<ul>
<li><a href="07-01-replication">Replication</a></li>
<li><a href="07-02-sentinel">Sentinel</a></li>
<li><a href="07-03-cluster-mode">Cluster Mode</a></li>
<li><a href="07-04-scaling-redis">Scaling Redis</a></li>
</ul>
<h2>Module 8: Redis Modules and Extensions</h2>
<ul>
<li><a href="08-01-introduction-to-redis-modules">Introduction to Redis Modules</a></li>
<li><a href="08-02-popular-redis-modules">Popular Redis Modules</a></li>
<li><a href="08-03-creating-custom-modules">Creating Custom Modules</a></li>
<li><a href="08-04-using-redis-with-other-technologies">Using Redis with Other Technologies</a></li>
</ul>
<h2>Module 9: Advanced Redis Use Cases</h2>
<ul>
<li><a href="09-01-caching">Caching</a></li>
<li><a href="09-02-session-storage">Session Storage</a></li>
<li><a href="09-03-message-queues">Message Queues</a></li>
<li><a href="09-04-real-time-analytics">Real-Time Analytics</a></li>
</ul>
<h2>Module 10: Redis in Production</h2>
<ul>
<li><a href="10-01-deployment-strategies">Deployment Strategies</a></li>
<li><a href="10-02-monitoring-and-maintenance">Monitoring and Maintenance</a></li>
<li><a href="10-03-troubleshooting">Troubleshooting</a></li>
<li><a href="10-04-case-studies">Case Studies</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
