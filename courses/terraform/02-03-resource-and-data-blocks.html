<!DOCTYPE html>
<html lang="en">
<head>
    <title> Resource and Data Blocks </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/terraform/02-03-resource-and-data-blocks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/terraform/02-03-resource-and-data-blocks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/terraform/02-03-resource-and-data-blocks" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "terraform";
  		var TEMA_NAME = "2-3";
  		var TYPE = "mod";
  		var PATH = "mod/terraform/02-03-resource-and-data-blocks";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/terraform/02-03-resource-and-data-blocks" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/terraform/02-03-resource-and-data-blocks" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="terraform">
		<a  href="#" class="text-secondary d-none" data-read-mod="terraform" data-read-unit="2-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="terraform" data-unread-unit="2-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='02-02-variables-and-outputs' title="Variables and Outputs" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='02-02-variables-and-outputs' title="Variables and Outputs" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Resource and Data Blocks</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='02-04-providers' title="Providers" class="py-2 px-3 btn btn-primary"
				data-read-mod="terraform" data-read-unit="2-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='02-04-providers' title="Providers" class="py-2 px-3 btn btn-primary" 
				data-read-mod="terraform" data-read-unit="2-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into two fundamental components of Terraform: Resource and Data Blocks. These blocks are essential for defining and managing infrastructure with Terraform.</p>
</div><h2>What are Resource Blocks?</h2>
<div class='content'><p>Resource blocks are the primary building blocks in Terraform. They define the infrastructure components that Terraform will manage. Each resource block specifies a type of resource and its configuration.</p>
</div><h3>Key Concepts of Resource Blocks</h3>
<div class='content'><ul>
<li><strong>Resource Type</strong>: The type of resource you want to create (e.g., <code>aws_instance</code>, <code>azurerm_virtual_machine</code>).</li>
<li><strong>Resource Name</strong>: A unique name within the module to identify the resource.</li>
<li><strong>Arguments</strong>: Configuration settings for the resource.</li>
</ul>
</div><h3>Example of a Resource Block</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgoKICB0YWdzID0gewogICAgTmFtZSA9ICJFeGFtcGxlSW5zdGFuY2UiCiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;ExampleInstance&quot;
  }
}</pre></div><div class='content'><h4>Explanation:</h4>
<ul>
<li><code>resource &quot;aws_instance&quot; &quot;example&quot;</code>: This line defines a resource of type <code>aws_instance</code> with the name <code>example</code>.</li>
<li><code>ami</code>: The Amazon Machine Image (AMI) ID to use for the instance.</li>
<li><code>instance_type</code>: The type of instance to create (e.g., <code>t2.micro</code>).</li>
<li><code>tags</code>: A map of tags to assign to the instance.</li>
</ul>
</div><h2>What are Data Blocks?</h2>
<div class='content'><p>Data blocks are used to fetch information from existing infrastructure. They do not create or modify resources but allow you to reference data from existing resources.</p>
</div><h3>Key Concepts of Data Blocks</h3>
<div class='content'><ul>
<li><strong>Data Source Type</strong>: The type of data source you want to query (e.g., <code>aws_ami</code>, <code>azurerm_resource_group</code>).</li>
<li><strong>Data Source Name</strong>: A unique name within the module to identify the data source.</li>
<li><strong>Arguments</strong>: Filters and settings to query the data source.</li>
</ul>
</div><h3>Example of a Data Block</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSAiYXdzX2FtaSIgImV4YW1wbGUiIHsKICBtb3N0X3JlY2VudCA9IHRydWUKCiAgZmlsdGVyIHsKICAgIG5hbWUgICA9ICJuYW1lIgogICAgdmFsdWVzID0gWyJhbXpuMi1hbWktaHZtLSoteDg2XzY0LWdwMiJdCiAgfQoKICBvd25lcnMgPSBbIjEzNzExMjQxMjk4OSJdCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data &quot;aws_ami&quot; &quot;example&quot; {
  most_recent = true

  filter {
    name   = &quot;name&quot;
    values = [&quot;amzn2-ami-hvm-*-x86_64-gp2&quot;]
  }

  owners = [&quot;137112412989&quot;]
}</pre></div><div class='content'><h4>Explanation:</h4>
<ul>
<li><code>data &quot;aws_ami&quot; &quot;example&quot;</code>: This line defines a data source of type <code>aws_ami</code> with the name <code>example</code>.</li>
<li><code>most_recent</code>: A boolean indicating whether to fetch the most recent AMI.</li>
<li><code>filter</code>: A block to specify filters for the AMI search.
<ul>
<li><code>name</code>: The name of the filter.</li>
<li><code>values</code>: The values to match for the filter.</li>
</ul>
</li>
<li><code>owners</code>: The AWS account ID of the AMI owner.</li>
</ul>
</div><h2>Practical Example: Using Resource and Data Blocks Together</h2>
<div class='content'><p>Let's combine resource and data blocks in a practical example. We will fetch the latest Amazon Linux 2 AMI and use it to create an EC2 instance.</p>
</div><h3>Example Code</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImF3cyIgewogIHJlZ2lvbiA9ICJ1cy13ZXN0LTIiCn0KCmRhdGEgImF3c19hbWkiICJsYXRlc3RfYW1hem9uX2xpbnV4IiB7CiAgbW9zdF9yZWNlbnQgPSB0cnVlCgogIGZpbHRlciB7CiAgICBuYW1lICAgPSAibmFtZSIKICAgIHZhbHVlcyA9IFsiYW16bjItYW1pLWh2bS0qLXg4Nl82NC1ncDIiXQogIH0KCiAgb3duZXJzID0gWyIxMzcxMTI0MTI5ODkiXQp9CgpyZXNvdXJjZSAiYXdzX2luc3RhbmNlIiAid2ViX3NlcnZlciIgewogIGFtaSAgICAgICAgICAgPSBkYXRhLmF3c19hbWkubGF0ZXN0X2FtYXpvbl9saW51eC5pZAogIGluc3RhbmNlX3R5cGUgPSAidDIubWljcm8iCgogIHRhZ3MgPSB7CiAgICBOYW1lID0gIldlYlNlcnZlciIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}

data &quot;aws_ami&quot; &quot;latest_amazon_linux&quot; {
  most_recent = true

  filter {
    name   = &quot;name&quot;
    values = [&quot;amzn2-ami-hvm-*-x86_64-gp2&quot;]
  }

  owners = [&quot;137112412989&quot;]
}

resource &quot;aws_instance&quot; &quot;web_server&quot; {
  ami           = data.aws_ami.latest_amazon_linux.id
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;WebServer&quot;
  }
}</pre></div><div class='content'><h4>Explanation:</h4>
<ol>
<li><strong>Provider Block</strong>: Specifies the AWS provider and region.</li>
<li><strong>Data Block</strong>: Fetches the most recent Amazon Linux 2 AMI.</li>
<li><strong>Resource Block</strong>: Creates an EC2 instance using the AMI ID fetched by the data block.</li>
</ol>
</div><h2>Exercises</h2>
<div class='content'></div><h3>Exercise 1: Create an S3 Bucket</h3>
<div class='content'><p>Create an S3 bucket using a resource block.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlX2J1Y2tldCIgewogIGJ1Y2tldCA9ICJteS1leGFtcGxlLWJ1Y2tldCIKICBhY2wgICAgPSAicHJpdmF0ZSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example_bucket&quot; {
  bucket = &quot;my-example-bucket&quot;
  acl    = &quot;private&quot;
}</pre></div><div class='content'></div><h3>Exercise 2: Fetch VPC Information</h3>
<div class='content'><p>Fetch information about the default VPC using a data block.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSAiYXdzX3ZwYyIgImRlZmF1bHQiIHsKICBkZWZhdWx0ID0gdHJ1ZQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data &quot;aws_vpc&quot; &quot;default&quot; {
  default = true
}</pre></div><div class='content'></div><h3>Exercise 3: Combine Resource and Data Blocks</h3>
<div class='content'><p>Fetch the latest Ubuntu AMI and use it to create an EC2 instance.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImF3cyIgewogIHJlZ2lvbiA9ICJ1cy13ZXN0LTIiCn0KCmRhdGEgImF3c19hbWkiICJsYXRlc3RfdWJ1bnR1IiB7CiAgbW9zdF9yZWNlbnQgPSB0cnVlCgogIGZpbHRlciB7CiAgICBuYW1lICAgPSAibmFtZSIKICAgIHZhbHVlcyA9IFsidWJ1bnR1L2ltYWdlcy9odm0tc3NkL3VidW50dS1mb2NhbC0yMC4wNC1hbWQ2NC1zZXJ2ZXItKiJdCiAgfQoKICBvd25lcnMgPSBbIjA5OTcyMDEwOTQ3NyJdCn0KCnJlc291cmNlICJhd3NfaW5zdGFuY2UiICJ1YnVudHVfc2VydmVyIiB7CiAgYW1pICAgICAgICAgICA9IGRhdGEuYXdzX2FtaS5sYXRlc3RfdWJ1bnR1LmlkCiAgaW5zdGFuY2VfdHlwZSA9ICJ0Mi5taWNybyIKCiAgdGFncyA9IHsKICAgIE5hbWUgPSAiVWJ1bnR1U2VydmVyIgogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}

data &quot;aws_ami&quot; &quot;latest_ubuntu&quot; {
  most_recent = true

  filter {
    name   = &quot;name&quot;
    values = [&quot;ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*&quot;]
  }

  owners = [&quot;099720109477&quot;]
}

resource &quot;aws_instance&quot; &quot;ubuntu_server&quot; {
  ami           = data.aws_ami.latest_ubuntu.id
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;UbuntuServer&quot;
  }
}</pre></div><div class='content'></div><h2>Summary</h2>
<div class='content'><p>In this section, we covered the basics of resource and data blocks in Terraform. Resource blocks are used to define and manage infrastructure components, while data blocks are used to fetch information from existing infrastructure. We also provided practical examples and exercises to reinforce the concepts. Understanding these blocks is crucial for effectively using Terraform to manage your infrastructure.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='02-02-variables-and-outputs' title="Variables and Outputs" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='02-02-variables-and-outputs' title="Variables and Outputs" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='02-04-providers' title="Providers" class="py-2 px-3 btn btn-primary"
				data-read-mod="terraform" data-read-unit="2-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='02-04-providers' title="Providers" class="py-2 px-3 btn btn-primary" 
				data-read-mod="terraform" data-read-unit="2-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Terraform Course</h1>
<h2>Module 1: Introduction to Terraform</h2>
<ul>
<li><a href="01-01-what-is-terraform">What is Terraform?</a></li>
<li><a href="01-02-installing-terraform">Installing Terraform</a></li>
<li><a href="01-03-terraform-basics">Terraform Basics</a></li>
<li><a href="01-04-first-terraform-configuration">First Terraform Configuration</a></li>
</ul>
<h2>Module 2: Terraform Configuration Language</h2>
<ul>
<li><a href="02-01-hcl-syntax">HCL Syntax</a></li>
<li><a href="02-02-variables-and-outputs">Variables and Outputs</a></li>
<li><a href="02-03-resource-and-data-blocks">Resource and Data Blocks</a></li>
<li><a href="02-04-providers">Providers</a></li>
</ul>
<h2>Module 3: State Management</h2>
<ul>
<li><a href="03-01-understanding-state">Understanding State</a></li>
<li><a href="03-02-state-files">State Files</a></li>
<li><a href="03-03-remote-state">Remote State</a></li>
<li><a href="03-04-state-locking">State Locking</a></li>
</ul>
<h2>Module 4: Terraform Modules</h2>
<ul>
<li><a href="04-01-introduction-to-modules">Introduction to Modules</a></li>
<li><a href="04-02-creating-modules">Creating Modules</a></li>
<li><a href="04-03-using-modules">Using Modules</a></li>
<li><a href="04-04-module-registry">Module Registry</a></li>
</ul>
<h2>Module 5: Provisioning Resources</h2>
<ul>
<li><a href="05-01-provisioning-basics">Provisioning Basics</a></li>
<li><a href="05-02-provisioning-aws-resources">Provisioning AWS Resources</a></li>
<li><a href="05-03-provisioning-azure-resources">Provisioning Azure Resources</a></li>
<li><a href="05-04-provisioning-gcp-resources">Provisioning GCP Resources</a></li>
</ul>
<h2>Module 6: Advanced Terraform Features</h2>
<ul>
<li><a href="06-01-terraform-workspaces">Terraform Workspaces</a></li>
<li><a href="06-02-terraform-functions">Terraform Functions</a></li>
<li><a href="06-03-dynamic-blocks">Dynamic Blocks</a></li>
<li><a href="06-04-terraform-import">Terraform Import</a></li>
</ul>
<h2>Module 7: Terraform Best Practices</h2>
<ul>
<li><a href="07-01-code-organization">Code Organization</a></li>
<li><a href="07-02-version-control">Version Control</a></li>
<li><a href="07-03-testing-terraform-code">Testing Terraform Code</a></li>
<li><a href="07-04-security-best-practices">Security Best Practices</a></li>
</ul>
<h2>Module 8: Terraform in CI/CD</h2>
<ul>
<li><a href="08-01-integrating-terraform-with-cicd">Integrating Terraform with CI/CD</a></li>
<li><a href="08-02-automating-terraform-with-jenkins">Automating Terraform with Jenkins</a></li>
<li><a href="08-03-using-terraform-with-github-actions">Using Terraform with GitHub Actions</a></li>
<li><a href="08-04-terraform-cloud-and-enterprise">Terraform Cloud and Enterprise</a></li>
</ul>
<h2>Module 9: Troubleshooting and Debugging</h2>
<ul>
<li><a href="09-01-common-errors">Common Errors</a></li>
<li><a href="09-02-debugging-terraform">Debugging Terraform</a></li>
<li><a href="09-03-state-management-issues">State Management Issues</a></li>
<li><a href="09-04-community-and-support">Community and Support</a></li>
</ul>
<h2>Module 10: Real-World Projects</h2>
<ul>
<li><a href="10-01-project-aws-infrastructure">Project 1: AWS Infrastructure</a></li>
<li><a href="10-02-project-multi-cloud-deployment">Project 2: Multi-Cloud Deployment</a></li>
<li><a href="10-03-project-kubernetes-with-terraform">Project 3: Kubernetes with Terraform</a></li>
<li><a href="10-04-project-serverless-applications">Project 4: Serverless Applications</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
