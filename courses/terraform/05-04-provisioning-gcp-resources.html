<!DOCTYPE html>
<html lang="en">
<head>
    <title> Provisioning GCP Resources </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/terraform/05-04-provisioning-gcp-resources" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/terraform/05-04-provisioning-gcp-resources" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/terraform/05-04-provisioning-gcp-resources" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "terraform";
  		var TEMA_NAME = "5-4";
  		var TYPE = "mod";
  		var PATH = "mod/terraform/05-04-provisioning-gcp-resources";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/terraform/05-04-provisioning-gcp-resources" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/terraform/05-04-provisioning-gcp-resources" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="terraform">
		<a  href="#" class="text-secondary d-none" data-read-mod="terraform" data-read-unit="5-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="terraform" data-unread-unit="5-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-provisioning-azure-resources' title="Provisioning Azure Resources" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-provisioning-azure-resources' title="Provisioning Azure Resources" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Provisioning GCP Resources</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-01-terraform-workspaces' title="Terraform Workspaces" class="py-2 px-3 btn btn-primary"
				data-read-mod="terraform" data-read-unit="5-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-01-terraform-workspaces' title="Terraform Workspaces" class="py-2 px-3 btn btn-primary" 
				data-read-mod="terraform" data-read-unit="5-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use Terraform to provision resources on Google Cloud Platform (GCP). By the end of this module, you will be able to create, manage, and destroy GCP resources using Terraform.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>GCP Provider</strong>: The Terraform provider for GCP allows you to manage GCP resources.</li>
<li><strong>Authentication</strong>: Setting up authentication to allow Terraform to interact with your GCP account.</li>
<li><strong>Resource Definitions</strong>: Defining GCP resources in Terraform configuration files.</li>
<li><strong>Provisioning</strong>: Applying Terraform configurations to create and manage GCP resources.</li>
</ol>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>A GCP account.</li>
<li>The <code>gcloud</code> CLI installed and configured.</li>
<li>Basic understanding of Terraform and its configuration language (HCL).</li>
</ul>
</div><h2>Step-by-Step Guide</h2>
<div class='content'></div><h3><ol>
<li>Setting Up the GCP Provider</li>
</ol></h3>
<div class='content'><p>First, you need to configure the GCP provider in your Terraform configuration file. This involves specifying the provider and setting up authentication.</p>
<p><strong>Example: <code>main.tf</code></strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImdvb2dsZSIgewogIGNyZWRlbnRpYWxzID0gZmlsZSgiPHBhdGgtdG8teW91ci1zZXJ2aWNlLWFjY291bnQta2V5Pi5qc29uIikKICBwcm9qZWN0ICAgICA9ICI8eW91ci1nY3AtcHJvamVjdC1pZD4iCiAgcmVnaW9uICAgICAgPSAidXMtY2VudHJhbDEiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;google&quot; {
  credentials = file(&quot;&lt;path-to-your-service-account-key&gt;.json&quot;)
  project     = &quot;&lt;your-gcp-project-id&gt;&quot;
  region      = &quot;us-central1&quot;
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>credentials</code>: Path to the JSON file containing your service account key.</li>
<li><code>project</code>: Your GCP project ID.</li>
<li><code>region</code>: The region where you want to create resources.</li>
</ul>
</div><h3><ol start="2">
<li>Authenticating with GCP</li>
</ol></h3>
<div class='content'><p>To authenticate Terraform with GCP, you need a service account key. Follow these steps to create one:</p>
<ol>
<li>Go to the <a href="https://console.cloud.google.com/">GCP Console</a>.</li>
<li>Navigate to <code>IAM &amp; Admin</code> &gt; <code>Service Accounts</code>.</li>
<li>Create a new service account and grant it the necessary permissions (e.g., <code>Editor</code> role).</li>
<li>Generate a JSON key for the service account and download it.</li>
</ol>
</div><h3><ol start="3">
<li>Defining GCP Resources</li>
</ol></h3>
<div class='content'><p>Let's define a simple GCP resource, such as a Compute Engine instance.</p>
<p><strong>Example: <code>main.tf</code></strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImdvb2dsZV9jb21wdXRlX2luc3RhbmNlIiAidm1faW5zdGFuY2UiIHsKICBuYW1lICAgICAgICAgPSAidGVycmFmb3JtLWluc3RhbmNlIgogIG1hY2hpbmVfdHlwZSA9ICJmMS1taWNybyIKICB6b25lICAgICAgICAgPSAidXMtY2VudHJhbDEtYSIKCiAgYm9vdF9kaXNrIHsKICAgIGluaXRpYWxpemVfcGFyYW1zIHsKICAgICAgaW1hZ2UgPSAiZGViaWFuLWNsb3VkL2RlYmlhbi05IgogICAgfQogIH0KCiAgbmV0d29ya19pbnRlcmZhY2UgewogICAgbmV0d29yayA9ICJkZWZhdWx0IgogICAgYWNjZXNzX2NvbmZpZyB7CiAgICB9CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;google_compute_instance&quot; &quot;vm_instance&quot; {
  name         = &quot;terraform-instance&quot;
  machine_type = &quot;f1-micro&quot;
  zone         = &quot;us-central1-a&quot;

  boot_disk {
    initialize_params {
      image = &quot;debian-cloud/debian-9&quot;
    }
  }

  network_interface {
    network = &quot;default&quot;
    access_config {
    }
  }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>resource &quot;google_compute_instance&quot; &quot;vm_instance&quot;</code>: Defines a Compute Engine instance.</li>
<li><code>name</code>: The name of the instance.</li>
<li><code>machine_type</code>: The type of machine (e.g., <code>f1-micro</code>).</li>
<li><code>zone</code>: The zone where the instance will be created.</li>
<li><code>boot_disk</code>: Configuration for the boot disk, including the image to use.</li>
<li><code>network_interface</code>: Network configuration, using the default network.</li>
</ul>
</div><h3><ol start="4">
<li>Provisioning Resources</li>
</ol></h3>
<div class='content'><p>To apply the configuration and create the resources, follow these steps:</p>
<ol>
<li><strong>Initialize Terraform</strong>: Run <code>terraform init</code> to initialize the working directory.</li>
<li><strong>Plan the Deployment</strong>: Run <code>terraform plan</code> to see the execution plan.</li>
<li><strong>Apply the Configuration</strong>: Run <code>terraform apply</code> to create the resources.</li>
</ol>
<p><strong>Commands:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGluaXQKdGVycmFmb3JtIHBsYW4KdGVycmFmb3JtIGFwcGx5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform init
terraform plan
terraform apply</pre></div><div class='content'></div><h3><ol start="5">
<li>Cleaning Up</li>
</ol></h3>
<div class='content'><p>To destroy the resources created by Terraform, run:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGRlc3Ryb3k="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform destroy</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise: Create a GCP Storage Bucket</h3>
<div class='content'><ol>
<li><strong>Objective</strong>: Create a GCP Storage Bucket using Terraform.</li>
<li><strong>Steps</strong>:
<ul>
<li>Define the GCP provider.</li>
<li>Create a <code>google_storage_bucket</code> resource.</li>
<li>Apply the configuration to create the bucket.</li>
</ul>
</li>
</ol>
<p><strong>Example: <code>main.tf</code></strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImdvb2dsZSIgewogIGNyZWRlbnRpYWxzID0gZmlsZSgiPHBhdGgtdG8teW91ci1zZXJ2aWNlLWFjY291bnQta2V5Pi5qc29uIikKICBwcm9qZWN0ICAgICA9ICI8eW91ci1nY3AtcHJvamVjdC1pZD4iCiAgcmVnaW9uICAgICAgPSAidXMtY2VudHJhbDEiCn0KCnJlc291cmNlICJnb29nbGVfc3RvcmFnZV9idWNrZXQiICJidWNrZXQiIHsKICBuYW1lICAgICA9ICJteS10ZXJyYWZvcm0tYnVja2V0IgogIGxvY2F0aW9uID0gIlVTIgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;google&quot; {
  credentials = file(&quot;&lt;path-to-your-service-account-key&gt;.json&quot;)
  project     = &quot;&lt;your-gcp-project-id&gt;&quot;
  region      = &quot;us-central1&quot;
}

resource &quot;google_storage_bucket&quot; &quot;bucket&quot; {
  name     = &quot;my-terraform-bucket&quot;
  location = &quot;US&quot;
}</pre></div><div class='content'><p><strong>Commands:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGluaXQKdGVycmFmb3JtIHBsYW4KdGVycmFmb3JtIGFwcGx5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform init
terraform plan
terraform apply</pre></div><div class='content'></div><h3>Solution</h3>
<div class='content'><ol>
<li><strong>Initialize Terraform</strong>: Run <code>terraform init</code>.</li>
<li><strong>Plan the Deployment</strong>: Run <code>terraform plan</code>.</li>
<li><strong>Apply the Configuration</strong>: Run <code>terraform apply</code>.</li>
</ol>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Authentication Issues</strong>: Ensure the service account key file path is correct and the service account has the necessary permissions.</li>
<li><strong>Resource Naming</strong>: GCP resource names must be unique within the project.</li>
<li><strong>Region and Zone</strong>: Ensure the specified region and zone are available and correct.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, you learned how to provision GCP resources using Terraform. You set up the GCP provider, authenticated with GCP, defined resources, and applied the configuration to create and manage resources. You also completed a practical exercise to reinforce the concepts. In the next module, we will explore advanced Terraform features.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-provisioning-azure-resources' title="Provisioning Azure Resources" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-provisioning-azure-resources' title="Provisioning Azure Resources" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-01-terraform-workspaces' title="Terraform Workspaces" class="py-2 px-3 btn btn-primary"
				data-read-mod="terraform" data-read-unit="5-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-01-terraform-workspaces' title="Terraform Workspaces" class="py-2 px-3 btn btn-primary" 
				data-read-mod="terraform" data-read-unit="5-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Terraform Course</h1>
<h2>Module 1: Introduction to Terraform</h2>
<ul>
<li><a href="01-01-what-is-terraform">What is Terraform?</a></li>
<li><a href="01-02-installing-terraform">Installing Terraform</a></li>
<li><a href="01-03-terraform-basics">Terraform Basics</a></li>
<li><a href="01-04-first-terraform-configuration">First Terraform Configuration</a></li>
</ul>
<h2>Module 2: Terraform Configuration Language</h2>
<ul>
<li><a href="02-01-hcl-syntax">HCL Syntax</a></li>
<li><a href="02-02-variables-and-outputs">Variables and Outputs</a></li>
<li><a href="02-03-resource-and-data-blocks">Resource and Data Blocks</a></li>
<li><a href="02-04-providers">Providers</a></li>
</ul>
<h2>Module 3: State Management</h2>
<ul>
<li><a href="03-01-understanding-state">Understanding State</a></li>
<li><a href="03-02-state-files">State Files</a></li>
<li><a href="03-03-remote-state">Remote State</a></li>
<li><a href="03-04-state-locking">State Locking</a></li>
</ul>
<h2>Module 4: Terraform Modules</h2>
<ul>
<li><a href="04-01-introduction-to-modules">Introduction to Modules</a></li>
<li><a href="04-02-creating-modules">Creating Modules</a></li>
<li><a href="04-03-using-modules">Using Modules</a></li>
<li><a href="04-04-module-registry">Module Registry</a></li>
</ul>
<h2>Module 5: Provisioning Resources</h2>
<ul>
<li><a href="05-01-provisioning-basics">Provisioning Basics</a></li>
<li><a href="05-02-provisioning-aws-resources">Provisioning AWS Resources</a></li>
<li><a href="05-03-provisioning-azure-resources">Provisioning Azure Resources</a></li>
<li><a href="05-04-provisioning-gcp-resources">Provisioning GCP Resources</a></li>
</ul>
<h2>Module 6: Advanced Terraform Features</h2>
<ul>
<li><a href="06-01-terraform-workspaces">Terraform Workspaces</a></li>
<li><a href="06-02-terraform-functions">Terraform Functions</a></li>
<li><a href="06-03-dynamic-blocks">Dynamic Blocks</a></li>
<li><a href="06-04-terraform-import">Terraform Import</a></li>
</ul>
<h2>Module 7: Terraform Best Practices</h2>
<ul>
<li><a href="07-01-code-organization">Code Organization</a></li>
<li><a href="07-02-version-control">Version Control</a></li>
<li><a href="07-03-testing-terraform-code">Testing Terraform Code</a></li>
<li><a href="07-04-security-best-practices">Security Best Practices</a></li>
</ul>
<h2>Module 8: Terraform in CI/CD</h2>
<ul>
<li><a href="08-01-integrating-terraform-with-cicd">Integrating Terraform with CI/CD</a></li>
<li><a href="08-02-automating-terraform-with-jenkins">Automating Terraform with Jenkins</a></li>
<li><a href="08-03-using-terraform-with-github-actions">Using Terraform with GitHub Actions</a></li>
<li><a href="08-04-terraform-cloud-and-enterprise">Terraform Cloud and Enterprise</a></li>
</ul>
<h2>Module 9: Troubleshooting and Debugging</h2>
<ul>
<li><a href="09-01-common-errors">Common Errors</a></li>
<li><a href="09-02-debugging-terraform">Debugging Terraform</a></li>
<li><a href="09-03-state-management-issues">State Management Issues</a></li>
<li><a href="09-04-community-and-support">Community and Support</a></li>
</ul>
<h2>Module 10: Real-World Projects</h2>
<ul>
<li><a href="10-01-project-aws-infrastructure">Project 1: AWS Infrastructure</a></li>
<li><a href="10-02-project-multi-cloud-deployment">Project 2: Multi-Cloud Deployment</a></li>
<li><a href="10-03-project-kubernetes-with-terraform">Project 3: Kubernetes with Terraform</a></li>
<li><a href="10-04-project-serverless-applications">Project 4: Serverless Applications</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
