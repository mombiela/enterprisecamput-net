<!DOCTYPE html>
<html lang="en">
<head>
    <title> Tree Shaking </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/webpack/03-03-tree-shaking" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/webpack/03-03-tree-shaking" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/webpack/03-03-tree-shaking" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "webpack";
  		var TEMA_NAME = "3-3";
  		var TYPE = "mod";
  		var PATH = "mod/webpack/03-03-tree-shaking";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/webpack/03-03-tree-shaking" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/webpack/03-03-tree-shaking" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="webpack">
		<a  href="#" class="text-secondary d-none" data-read-mod="webpack" data-read-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="webpack" data-unread-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-caching' title="Caching" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-caching' title="Caching" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Tree Shaking</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-lazy-loading' title="Lazy Loading" class="py-2 px-3 btn btn-primary"
				data-read-mod="webpack" data-read-unit="3-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-lazy-loading' title="Lazy Loading" class="py-2 px-3 btn btn-primary" 
				data-read-mod="webpack" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Tree shaking is a term commonly used in the JavaScript ecosystem to describe the process of eliminating dead code from your bundle. This is particularly important in modern web development to ensure that your application is as efficient and lightweight as possible. In this section, we will explore what tree shaking is, how it works in Webpack, and how to configure it for your projects.</p>
</div><h2>What is Tree Shaking?</h2>
<div class='content'><p>Tree shaking is a form of dead code elimination. It relies on the static structure of ES6 module syntax (import and export) to detect and remove unused code. This helps in reducing the final bundle size, leading to faster load times and better performance.</p>
</div><h3>Key Concepts:</h3>
<div class='content'><ul>
<li><strong>Dead Code Elimination</strong>: Removing code that is never used.</li>
<li><strong>ES6 Modules</strong>: Using <code>import</code> and <code>export</code> statements to define module boundaries.</li>
<li><strong>Static Analysis</strong>: Analyzing code at compile time to determine which parts are unused.</li>
</ul>
</div><h2>How Tree Shaking Works in Webpack</h2>
<div class='content'><p>Webpack performs tree shaking by analyzing the dependency graph of your application. It looks at the <code>import</code> and <code>export</code> statements to determine which modules and functions are actually used and which can be safely removed.</p>
</div><h3>Steps Involved:</h3>
<div class='content'><ol>
<li><strong>Parsing</strong>: Webpack parses the code to build a dependency graph.</li>
<li><strong>Marking</strong>: It marks the used and unused exports.</li>
<li><strong>Pruning</strong>: It removes the unused code from the final bundle.</li>
</ol>
</div><h2>Configuring Tree Shaking in Webpack</h2>
<div class='content'><p>To enable tree shaking in Webpack, you need to ensure that your project is using ES6 module syntax and that Webpack is configured correctly.</p>
</div><h3>Step-by-Step Configuration:</h3>
<div class='content'><ol>
<li>
<p><strong>Ensure ES6 Module Syntax</strong>:</p>
<ul>
<li>Use <code>import</code> and <code>export</code> statements in your JavaScript files.</li>
</ul>
</li>
<li>
<p><strong>Set Webpack Mode to Production</strong>:</p>
<ul>
<li>Tree shaking is enabled by default in production mode.</li>
</ul>
<pre><code class="language-javascript">// webpack.config.js
module.exports = {
  mode: 'production',
};
</code></pre>
</li>
<li>
<p><strong>Use <code>sideEffects</code> Property</strong>:</p>
<ul>
<li>Add the <code>sideEffects</code> property in your <code>package.json</code> to indicate which files are safe to prune.</li>
</ul>
<pre><code class="language-json">// package.json
{
  &quot;name&quot;: &quot;your-project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;sideEffects&quot;: false
}
</code></pre>
<ul>
<li>If some files have side effects, list them explicitly:</li>
</ul>
<pre><code class="language-json">{
  &quot;sideEffects&quot;: [&quot;./src/some-file-with-side-effects.js&quot;]
}
</code></pre>
</li>
</ol>
</div><h3>Example Configuration:</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gd2VicGFjay5jb25maWcuanMKY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKCm1vZHVsZS5leHBvcnRzID0gewogIG1vZGU6ICdwcm9kdWN0aW9uJywKICBlbnRyeTogJy4vc3JjL2luZGV4LmpzJywKICBvdXRwdXQ6IHsKICAgIGZpbGVuYW1lOiAnYnVuZGxlLmpzJywKICAgIHBhdGg6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdkaXN0JyksCiAgfSwKICBtb2R1bGU6IHsKICAgIHJ1bGVzOiBbCiAgICAgIHsKICAgICAgICB0ZXN0OiAvXC5qcyQvLAogICAgICAgIGV4Y2x1ZGU6IC9ub2RlX21vZHVsZXMvLAogICAgICAgIHVzZTogewogICAgICAgICAgbG9hZGVyOiAnYmFiZWwtbG9hZGVyJywKICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgcHJlc2V0czogWydAYmFiZWwvcHJlc2V0LWVudiddLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9LAogICAgXSwKICB9LAogIG9wdGltaXphdGlvbjogewogICAgdXNlZEV4cG9ydHM6IHRydWUsCiAgfSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// webpack.config.js
const path = require('path');

module.exports = {
  mode: 'production',
  entry: './src/index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist'),
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env'],
          },
        },
      },
    ],
  },
  optimization: {
    usedExports: true,
  },
};</pre></div><div class='content'></div><h2>Practical Example</h2>
<div class='content'><p>Let's consider a simple example to demonstrate tree shaking.</p>
</div><h3>Source Files:</h3>
<div class='content'><p><strong>math.js</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IGZ1bmN0aW9uIGFkZChhLCBiKSB7CiAgcmV0dXJuIGEgKyBiOwp9CgpleHBvcnQgZnVuY3Rpb24gc3VidHJhY3QoYSwgYikgewogIHJldHVybiBhIC0gYjsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export function add(a, b) {
  return a + b;
}

export function subtract(a, b) {
  return a - b;
}</pre></div><div class='content'><p><strong>index.js</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgYWRkIH0gZnJvbSAnLi9tYXRoJzsKCmNvbnNvbGUubG9nKGFkZCgyLCAzKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { add } from './math';

console.log(add(2, 3));</pre></div><div class='content'><p>In this example, the <code>subtract</code> function is never used. With tree shaking enabled, Webpack will remove the <code>subtract</code> function from the final bundle.</p>
</div><h3>Build and Analyze:</h3>
<div class='content'><ol>
<li>
<p><strong>Build the Project</strong>:</p>
<pre><code class="language-bash">npx webpack --config webpack.config.js
</code></pre>
</li>
<li>
<p><strong>Analyze the Output</strong>:</p>
<ul>
<li>Check the <code>dist/bundle.js</code> file to ensure that the <code>subtract</code> function is not included.</li>
</ul>
</li>
</ol>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'></div><h3>Common Mistakes:</h3>
<div class='content'><ul>
<li><strong>Using CommonJS Syntax</strong>: Tree shaking does not work with CommonJS (<code>require</code> and <code>module.exports</code>).</li>
<li><strong>Incorrect <code>sideEffects</code> Configuration</strong>: Not properly configuring the <code>sideEffects</code> property can lead to unexpected results.</li>
</ul>
</div><h3>Tips:</h3>
<div class='content'><ul>
<li><strong>Use ES6 Modules</strong>: Always use <code>import</code> and <code>export</code> for module definitions.</li>
<li><strong>Analyze Bundle</strong>: Use tools like <code>webpack-bundle-analyzer</code> to visualize and verify the contents of your bundle.</li>
</ul>
</div><h2>Exercises</h2>
<div class='content'></div><h3>Exercise 1: Basic Tree Shaking</h3>
<div class='content'><ol>
<li>Create a new project with two JavaScript files: <code>math.js</code> and <code>index.js</code>.</li>
<li>Implement two functions in <code>math.js</code> and use only one in <code>index.js</code>.</li>
<li>Configure Webpack for tree shaking and build the project.</li>
<li>Verify that the unused function is not included in the final bundle.</li>
</ol>
</div><h3>Solution:</h3>
<div class='content'><ol>
<li>
<p><strong>math.js</strong>:</p>
<pre><code class="language-javascript">export function multiply(a, b) {
  return a * b;
}

export function divide(a, b) {
  return a / b;
}
</code></pre>
</li>
<li>
<p><strong>index.js</strong>:</p>
<pre><code class="language-javascript">import { multiply } from './math';

console.log(multiply(4, 5));
</code></pre>
</li>
<li>
<p><strong>webpack.config.js</strong>:</p>
<pre><code class="language-javascript">const path = require('path');

module.exports = {
  mode: 'production',
  entry: './src/index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist'),
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env'],
          },
        },
      },
    ],
  },
  optimization: {
    usedExports: true,
  },
};
</code></pre>
</li>
<li>
<p><strong>Build and Verify</strong>:</p>
<pre><code class="language-bash">npx webpack --config webpack.config.js
</code></pre>
<ul>
<li>Check the <code>dist/bundle.js</code> file to ensure that the <code>divide</code> function is not included.</li>
</ul>
</li>
</ol>
</div><h2>Conclusion</h2>
<div class='content'><p>Tree shaking is a powerful technique to optimize your JavaScript bundles by removing unused code. By leveraging ES6 module syntax and configuring Webpack correctly, you can significantly reduce your bundle size and improve the performance of your web applications. In the next section, we will explore another advanced configuration topic: Lazy Loading.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-caching' title="Caching" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-caching' title="Caching" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-lazy-loading' title="Lazy Loading" class="py-2 px-3 btn btn-primary"
				data-read-mod="webpack" data-read-unit="3-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-lazy-loading' title="Lazy Loading" class="py-2 px-3 btn btn-primary" 
				data-read-mod="webpack" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Webpack Course</h1>
<h2>Module 1: Introduction to Webpack</h2>
<ul>
<li><a href="01-01-what-is-webpack">What is Webpack?</a></li>
<li><a href="01-02-setting-up-webpack">Setting Up Webpack</a></li>
<li><a href="01-03-webpack-configuration-file">Webpack Configuration File</a></li>
<li><a href="01-04-basic-webpack-build">Basic Webpack Build</a></li>
</ul>
<h2>Module 2: Core Concepts</h2>
<ul>
<li><a href="02-01-entry-points">Entry Points</a></li>
<li><a href="02-02-output-configuration">Output Configuration</a></li>
<li><a href="02-03-loaders">Loaders</a></li>
<li><a href="02-04-plugins">Plugins</a></li>
<li><a href="02-05-mode">Mode</a></li>
</ul>
<h2>Module 3: Advanced Configuration</h2>
<ul>
<li><a href="03-01-code-splitting">Code Splitting</a></li>
<li><a href="03-02-caching">Caching</a></li>
<li><a href="03-03-tree-shaking">Tree Shaking</a></li>
<li><a href="03-04-lazy-loading">Lazy Loading</a></li>
<li><a href="03-05-environment-variables">Environment Variables</a></li>
</ul>
<h2>Module 4: Development Tools</h2>
<ul>
<li><a href="04-01-source-maps">Source Maps</a></li>
<li><a href="04-02-webpack-dev-server">Webpack Dev Server</a></li>
<li><a href="04-03-hot-module-replacement">Hot Module Replacement</a></li>
<li><a href="04-04-debugging">Debugging</a></li>
</ul>
<h2>Module 5: Optimizing for Production</h2>
<ul>
<li><a href="05-01-minification">Minification</a></li>
<li><a href="05-02-optimizing-css">Optimizing CSS</a></li>
<li><a href="05-03-image-optimization">Image Optimization</a></li>
<li><a href="05-04-bundle-analysis">Bundle Analysis</a></li>
<li><a href="05-05-performance-budgeting">Performance Budgeting</a></li>
</ul>
<h2>Module 6: Integrations and Advanced Techniques</h2>
<ul>
<li><a href="06-01-integrating-with-babel">Integrating with Babel</a></li>
<li><a href="06-02-integrating-with-typescript">Integrating with TypeScript</a></li>
<li><a href="06-03-using-webpack-with-react">Using Webpack with React</a></li>
<li><a href="06-04-using-webpack-with-vue">Using Webpack with Vue</a></li>
<li><a href="06-05-custom-plugins-and-loaders">Custom Plugins and Loaders</a></li>
</ul>
<h2>Module 7: Real-World Projects</h2>
<ul>
<li><a href="07-01-setting-up-a-react-project">Setting Up a React Project</a></li>
<li><a href="07-02-setting-up-a-vue-project">Setting Up a Vue Project</a></li>
<li><a href="07-03-setting-up-a-nodejs-project">Setting Up a Node.js Project</a></li>
<li><a href="07-04-migrating-legacy-projects-to-webpack">Migrating Legacy Projects to Webpack</a></li>
</ul>
<h2>Module 8: Troubleshooting and Best Practices</h2>
<ul>
<li><a href="08-01-common-errors-and-solutions">Common Errors and Solutions</a></li>
<li><a href="08-02-best-practices-for-configuration">Best Practices for Configuration</a></li>
<li><a href="08-03-maintaining-webpack-projects">Maintaining Webpack Projects</a></li>
<li><a href="08-04-community-resources-and-further-learning">Community Resources and Further Learning</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
