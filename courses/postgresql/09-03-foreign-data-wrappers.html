<!DOCTYPE html>
<html lang="en">
<head>
    <title> Foreign Data Wrappers </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/postgresql/09-03-foreign-data-wrappers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/postgresql/09-03-foreign-data-wrappers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/postgresql/09-03-foreign-data-wrappers" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "postgresql";
  		var TEMA_NAME = "9-3";
  		var TYPE = "mod";
  		var PATH = "mod/postgresql/09-03-foreign-data-wrappers";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/postgresql/09-03-foreign-data-wrappers" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/postgresql/09-03-foreign-data-wrappers" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="postgresql">
		<a  href="#" class="text-secondary d-none" data-read-mod="postgresql" data-read-unit="9-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="postgresql" data-unread-unit="9-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='09-02-full-text-search' title="Full-Text Search" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='09-02-full-text-search' title="Full-Text Search" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Foreign Data Wrappers</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-04-plpgsql-and-other-procedural-languages' title="PL/pgSQL and Other Procedural Languages" class="py-2 px-3 btn btn-primary"
				data-read-mod="postgresql" data-read-unit="9-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-04-plpgsql-and-other-procedural-languages' title="PL/pgSQL and Other Procedural Languages" class="py-2 px-3 btn btn-primary" 
				data-read-mod="postgresql" data-read-unit="9-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Foreign Data Wrappers (FDWs) are a powerful feature in PostgreSQL that allow you to access and manipulate data stored in external databases as if they were part of your PostgreSQL database. This capability is particularly useful for integrating data from different sources, performing federated queries, and migrating data between systems.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Foreign Data Wrapper (FDW)</strong>: A module that can be installed in PostgreSQL to enable access to external data sources.</li>
<li><strong>Foreign Server</strong>: Represents the external data source.</li>
<li><strong>User Mapping</strong>: Defines the connection credentials for accessing the foreign server.</li>
<li><strong>Foreign Table</strong>: A table in PostgreSQL that maps to a table or query in the external data source.</li>
</ol>
</div><h2>Steps to Use Foreign Data Wrappers</h2>
<div class='content'><ol>
<li><strong>Install the FDW Extension</strong>: Install the appropriate FDW extension for the external data source.</li>
<li><strong>Create a Foreign Server</strong>: Define the external data source.</li>
<li><strong>Create User Mappings</strong>: Set up the credentials for accessing the foreign server.</li>
<li><strong>Create Foreign Tables</strong>: Map the external data to PostgreSQL tables.</li>
</ol>
</div><h2>Example: Using <code>postgres_fdw</code> to Access Another PostgreSQL Database</h2>
<div class='content'></div><h3>Step 1: Install the FDW Extension</h3>
<div class='content'><p>First, you need to install the <code>postgres_fdw</code> extension. This can be done using the following SQL command:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIEVYVEVOU0lPTiBJRiBOT1QgRVhJU1RTIHBvc3RncmVzX2Zkdzs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE EXTENSION IF NOT EXISTS postgres_fdw;</pre></div><div class='content'></div><h3>Step 2: Create a Foreign Server</h3>
<div class='content'><p>Next, create a foreign server that represents the external PostgreSQL database:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFNFUlZFUiBmb3JlaWduX3BnX3NlcnZlcgpGT1JFSUdOIERBVEEgV1JBUFBFUiBwb3N0Z3Jlc19mZHcKT1BUSU9OUyAoaG9zdCAncmVtb3RlX2hvc3QnLCBkYm5hbWUgJ3JlbW90ZV9kYicsIHBvcnQgJzU0MzInKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE SERVER foreign_pg_server
FOREIGN DATA WRAPPER postgres_fdw
OPTIONS (host 'remote_host', dbname 'remote_db', port '5432');</pre></div><div class='content'></div><h3>Step 3: Create User Mappings</h3>
<div class='content'><p>Define the user mappings to specify the credentials for accessing the foreign server:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFVTRVIgTUFQUElORyBGT1IgbG9jYWxfdXNlcgpTRVJWRVIgZm9yZWlnbl9wZ19zZXJ2ZXIKT1BUSU9OUyAodXNlciAncmVtb3RlX3VzZXInLCBwYXNzd29yZCAncmVtb3RlX3Bhc3N3b3JkJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE USER MAPPING FOR local_user
SERVER foreign_pg_server
OPTIONS (user 'remote_user', password 'remote_password');</pre></div><div class='content'></div><h3>Step 4: Create Foreign Tables</h3>
<div class='content'><p>Finally, create foreign tables that map to the tables in the external PostgreSQL database:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIEZPUkVJR04gVEFCTEUgZm9yZWlnbl90YWJsZSAoCiAgICBpZCBpbnRlZ2VyLAogICAgbmFtZSB0ZXh0LAogICAgdmFsdWUgbnVtZXJpYwopClNFUlZFUiBmb3JlaWduX3BnX3NlcnZlcgpPUFRJT05TIChzY2hlbWFfbmFtZSAncHVibGljJywgdGFibGVfbmFtZSAncmVtb3RlX3RhYmxlJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE FOREIGN TABLE foreign_table (
    id integer,
    name text,
    value numeric
)
SERVER foreign_pg_server
OPTIONS (schema_name 'public', table_name 'remote_table');</pre></div><div class='content'></div><h3>Querying Foreign Tables</h3>
<div class='content'><p>Once the foreign table is created, you can query it just like any other table in your PostgreSQL database:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBmb3JlaWduX3RhYmxlOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM foreign_table;</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise 1: Setting Up a Foreign Data Wrapper</h3>
<div class='content'><ol>
<li><strong>Objective</strong>: Set up a foreign data wrapper to access a table from another PostgreSQL database.</li>
<li><strong>Steps</strong>:
<ul>
<li>Install the <code>postgres_fdw</code> extension.</li>
<li>Create a foreign server.</li>
<li>Create user mappings.</li>
<li>Create a foreign table.</li>
<li>Query the foreign table.</li>
</ul>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gU3RlcCAxOiBJbnN0YWxsIHRoZSBGRFcgRXh0ZW5zaW9uCkNSRUFURSBFWFRFTlNJT04gSUYgTk9UIEVYSVNUUyBwb3N0Z3Jlc19mZHc7CgotLSBTdGVwIDI6IENyZWF0ZSBhIEZvcmVpZ24gU2VydmVyCkNSRUFURSBTRVJWRVIgZm9yZWlnbl9wZ19zZXJ2ZXIKRk9SRUlHTiBEQVRBIFdSQVBQRVIgcG9zdGdyZXNfZmR3Ck9QVElPTlMgKGhvc3QgJ3JlbW90ZV9ob3N0JywgZGJuYW1lICdyZW1vdGVfZGInLCBwb3J0ICc1NDMyJyk7CgotLSBTdGVwIDM6IENyZWF0ZSBVc2VyIE1hcHBpbmdzCkNSRUFURSBVU0VSIE1BUFBJTkcgRk9SIGxvY2FsX3VzZXIKU0VSVkVSIGZvcmVpZ25fcGdfc2VydmVyCk9QVElPTlMgKHVzZXIgJ3JlbW90ZV91c2VyJywgcGFzc3dvcmQgJ3JlbW90ZV9wYXNzd29yZCcpOwoKLS0gU3RlcCA0OiBDcmVhdGUgRm9yZWlnbiBUYWJsZXMKQ1JFQVRFIEZPUkVJR04gVEFCTEUgZm9yZWlnbl90YWJsZSAoCiAgICBpZCBpbnRlZ2VyLAogICAgbmFtZSB0ZXh0LAogICAgdmFsdWUgbnVtZXJpYwopClNFUlZFUiBmb3JlaWduX3BnX3NlcnZlcgpPUFRJT05TIChzY2hlbWFfbmFtZSAncHVibGljJywgdGFibGVfbmFtZSAncmVtb3RlX3RhYmxlJyk7CgotLSBRdWVyeSB0aGUgRm9yZWlnbiBUYWJsZQpTRUxFQ1QgKiBGUk9NIGZvcmVpZ25fdGFibGU7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Step 1: Install the FDW Extension
CREATE EXTENSION IF NOT EXISTS postgres_fdw;

-- Step 2: Create a Foreign Server
CREATE SERVER foreign_pg_server
FOREIGN DATA WRAPPER postgres_fdw
OPTIONS (host 'remote_host', dbname 'remote_db', port '5432');

-- Step 3: Create User Mappings
CREATE USER MAPPING FOR local_user
SERVER foreign_pg_server
OPTIONS (user 'remote_user', password 'remote_password');

-- Step 4: Create Foreign Tables
CREATE FOREIGN TABLE foreign_table (
    id integer,
    name text,
    value numeric
)
SERVER foreign_pg_server
OPTIONS (schema_name 'public', table_name 'remote_table');

-- Query the Foreign Table
SELECT * FROM foreign_table;</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Incorrect Credentials</strong>: Ensure that the user mappings have the correct credentials for accessing the foreign server.</li>
<li><strong>Network Issues</strong>: Verify that the PostgreSQL server can connect to the remote host. Check firewall settings and network configurations.</li>
<li><strong>Schema and Table Names</strong>: Double-check the schema and table names in the <code>OPTIONS</code> clause to ensure they match the external data source.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Foreign Data Wrappers provide a flexible and powerful way to integrate external data sources into your PostgreSQL database. By following the steps outlined in this section, you can set up FDWs to access and manipulate data from various external databases seamlessly. This capability is invaluable for data integration, migration, and federated querying, making PostgreSQL a versatile tool in your data management toolkit.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='09-02-full-text-search' title="Full-Text Search" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='09-02-full-text-search' title="Full-Text Search" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-04-plpgsql-and-other-procedural-languages' title="PL/pgSQL and Other Procedural Languages" class="py-2 px-3 btn btn-primary"
				data-read-mod="postgresql" data-read-unit="9-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-04-plpgsql-and-other-procedural-languages' title="PL/pgSQL and Other Procedural Languages" class="py-2 px-3 btn btn-primary" 
				data-read-mod="postgresql" data-read-unit="9-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>PostgreSQL Course</h1>
<h2>Module 1: Introduction to PostgreSQL</h2>
<ul>
<li><a href="01-01-what-is-postgresql">What is PostgreSQL?</a></li>
<li><a href="01-02-installing-postgresql">Installing PostgreSQL</a></li>
<li><a href="01-03-basic-sql-concepts">Basic SQL Concepts</a></li>
<li><a href="01-04-connecting-to-postgresql">Connecting to PostgreSQL</a></li>
</ul>
<h2>Module 2: Basic SQL Operations</h2>
<ul>
<li><a href="02-01-creating-databases-and-tables">Creating Databases and Tables</a></li>
<li><a href="02-02-inserting-data">Inserting Data</a></li>
<li><a href="02-03-querying-data">Querying Data</a></li>
<li><a href="02-04-updating-data">Updating Data</a></li>
<li><a href="02-05-deleting-data">Deleting Data</a></li>
</ul>
<h2>Module 3: Advanced SQL Queries</h2>
<ul>
<li><a href="03-01-joins">Joins</a></li>
<li><a href="03-02-subqueries">Subqueries</a></li>
<li><a href="03-03-aggregate-functions">Aggregate Functions</a></li>
<li><a href="03-04-window-functions">Window Functions</a></li>
<li><a href="03-05-common-table-expressions">Common Table Expressions (CTEs)</a></li>
</ul>
<h2>Module 4: Database Design and Normalization</h2>
<ul>
<li><a href="04-01-database-design-principles">Database Design Principles</a></li>
<li><a href="04-02-normalization">Normalization</a></li>
<li><a href="04-03-primary-and-foreign-keys">Primary and Foreign Keys</a></li>
<li><a href="04-04-indexes">Indexes</a></li>
</ul>
<h2>Module 5: Advanced PostgreSQL Features</h2>
<ul>
<li><a href="05-01-views">Views</a></li>
<li><a href="05-02-triggers">Triggers</a></li>
<li><a href="05-03-stored-procedures-and-functions">Stored Procedures and Functions</a></li>
<li><a href="05-04-transactions-and-concurrency">Transactions and Concurrency</a></li>
</ul>
<h2>Module 6: Performance Tuning and Optimization</h2>
<ul>
<li><a href="06-01-query-optimization">Query Optimization</a></li>
<li><a href="06-02-indexing-strategies">Indexing Strategies</a></li>
<li><a href="06-03-analyzing-query-performance">Analyzing Query Performance</a></li>
<li><a href="06-04-vacuuming-and-maintenance">Vacuuming and Maintenance</a></li>
</ul>
<h2>Module 7: Security and User Management</h2>
<ul>
<li><a href="07-01-user-roles-and-permissions">User Roles and Permissions</a></li>
<li><a href="07-02-authentication-methods">Authentication Methods</a></li>
<li><a href="07-03-data-encryption">Data Encryption</a></li>
<li><a href="07-04-backup-and-restore">Backup and Restore</a></li>
</ul>
<h2>Module 8: Working with JSON and NoSQL Features</h2>
<ul>
<li><a href="08-01-json-data-types">JSON Data Types</a></li>
<li><a href="08-02-json-functions-and-operators">JSON Functions and Operators</a></li>
<li><a href="08-03-using-postgresql-as-nosql">Using PostgreSQL as a NoSQL Database</a></li>
</ul>
<h2>Module 9: Extensions and Advanced Tools</h2>
<ul>
<li><a href="09-01-postgis-for-geospatial-data">PostGIS for Geospatial Data</a></li>
<li><a href="09-02-full-text-search">Full-Text Search</a></li>
<li><a href="09-03-foreign-data-wrappers">Foreign Data Wrappers</a></li>
<li><a href="09-04-plpgsql-and-other-procedural-languages">PL/pgSQL and Other Procedural Languages</a></li>
</ul>
<h2>Module 10: Case Studies and Real-World Applications</h2>
<ul>
<li><a href="10-01-e-commerce-database-design">E-commerce Database Design</a></li>
<li><a href="10-02-data-warehousing-with-postgresql">Data Warehousing with PostgreSQL</a></li>
<li><a href="10-03-handling-big-data">Handling Big Data</a></li>
<li><a href="10-04-postgresql-in-microservices-architecture">PostgreSQL in Microservices Architecture</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
