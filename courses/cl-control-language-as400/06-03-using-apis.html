<!DOCTYPE html>
<html lang="en">
<head>
    <title> Using APIs </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/mod/cl/06-03-using-apis" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cl/06-03-using-apis" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cl/06-03-using-apis" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "cl";
  		var TEMA_NAME = "6-3";
  		var TYPE = "mod";
  		var PATH = "mod/cl/06-03-using-apis";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/cl/06-03-using-apis" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/cl/06-03-using-apis" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="cl">
		<a  href="#" class="text-secondary d-none" data-read-mod="cl" data-read-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="cl" data-unread-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-interfacing-databases' title="Interfacing with Databases" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-interfacing-databases' title="Interfacing with Databases" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Using APIs</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-network-communication' title="Network Communication" class="py-2 px-3 btn btn-primary"
				data-read-mod="cl" data-read-unit="6-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-network-communication' title="Network Communication" class="py-2 px-3 btn btn-primary" 
				data-read-mod="cl" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this module, we will explore how to use APIs (Application Programming Interfaces) within Control Language (CL) programs. APIs allow CL programs to interact with other software components, services, or systems, enabling a wide range of functionalities and integrations.</p>
</div><h1>What is an API?</h1>
<div class='content'><p>An API is a set of rules and protocols for building and interacting with software applications. It defines the methods and data formats that applications can use to communicate with each other. APIs are essential for enabling software components to interact and share data.</p>
</div><h2>Key Concepts:</h2>
<div class='content'><ul>
<li><strong>Endpoint</strong>: A specific URL where an API can be accessed.</li>
<li><strong>Request</strong>: The act of asking for data or action from an API.</li>
<li><strong>Response</strong>: The data or action returned by the API.</li>
<li><strong>HTTP Methods</strong>: Common methods include GET (retrieve data), POST (send data), PUT (update data), and DELETE (remove data).</li>
</ul>
</div><h1>Setting Up Your Environment</h1>
<div class='content'><p>Before you can use APIs in your CL programs, ensure that your environment is properly set up:</p>
<ol>
<li><strong>Network Configuration</strong>: Ensure your system can access the internet or the network where the API is hosted.</li>
<li><strong>API Credentials</strong>: Obtain any necessary API keys or authentication tokens required to access the API.</li>
</ol>
</div><h1>Basic Syntax for API Calls in CL</h1>
<div class='content'><p>CL does not natively support HTTP requests, so you will typically use external programs or utilities to make API calls. One common approach is to use the <code>QSH</code> (QShell) command to execute curl commands.</p>
</div><h2>Example: Making a GET Request</h2>
<div class='content'><p>Here is an example of how to make a GET request to an API using CL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCgpEQ0wgVkFSKCZVUkwpIFRZUEUoKkNIQVIpIExFTigyNTYpIFZBTFVFKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJykKRENMIFZBUigmUkVTUE9OU0UpIFRZUEUoKkNIQVIpIExFTigxMDI0KQoKUVNIIENNRCgnY3VybCAtcyAnICpDQVQgJlVSTCAqQ0FUICcgPiAvdG1wL2FwaV9yZXNwb25zZS50eHQnKQoKLyogUmVhZCB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgZmlsZSAqLwpSVFZNQlJEIEZJTEUoUVRFTVAvQVBJX1JFU1BPTlNFKSBNQlIoKkZJUlNUKSBSVE5WQVIoJlJFU1BPTlNFKQoKU05EUEdNTVNHIE1TRygmUkVTUE9OU0UpCgpFTkRQR00="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM

DCL VAR(&amp;URL) TYPE(*CHAR) LEN(256) VALUE('https://api.example.com/data')
DCL VAR(&amp;RESPONSE) TYPE(*CHAR) LEN(1024)

QSH CMD('curl -s ' *CAT &amp;URL *CAT ' &gt; /tmp/api_response.txt')

/* Read the response from the file */
RTVMBRD FILE(QTEMP/API_RESPONSE) MBR(*FIRST) RTNVAR(&amp;RESPONSE)

SNDPGMMSG MSG(&amp;RESPONSE)

ENDPGM</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ol>
<li><strong>Declare Variables</strong>: Define the URL and a variable to store the response.</li>
<li><strong>QSH Command</strong>: Use the <code>QSH</code> command to execute a curl command that makes the GET request and saves the response to a temporary file.</li>
<li><strong>Retrieve Response</strong>: Read the response from the file and store it in a variable.</li>
<li><strong>Send Program Message</strong>: Display the response.</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Making a POST Request</h2>
<div class='content'><p>Write a CL program that makes a POST request to an API to send data.</p>
<h4>Requirements:</h4>
<ul>
<li>The API endpoint is <code>https://api.example.com/submit</code>.</li>
<li>The data to be sent is in JSON format: <code>{&quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john.doe@example.com&quot;}</code>.</li>
<li>Save the response to a file and display it.</li>
</ul>
</div><h2>Solution:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCgpEQ0wgVkFSKCZVUkwpIFRZUEUoKkNIQVIpIExFTigyNTYpIFZBTFVFKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9zdWJtaXQnKQpEQ0wgVkFSKCZEQVRBKSBUWVBFKCpDSEFSKSBMRU4oMjU2KSBWQUxVRSgneyJuYW1lIjogIkpvaG4gRG9lIiwgImVtYWlsIjogImpvaG4uZG9lQGV4YW1wbGUuY29tIn0nKQpEQ0wgVkFSKCZSRVNQT05TRSkgVFlQRSgqQ0hBUikgTEVOKDEwMjQpCgpRU0ggQ01EKCdjdXJsIC1zIC1YIFBPU1QgLUggIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbiIgLWQgJyAqQ0FUICZEQVRBICpDQVQgJyAnICpDQVQgJlVSTCAqQ0FUICcgPiAvdG1wL2FwaV9yZXNwb25zZS50eHQnKQoKLyogUmVhZCB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgZmlsZSAqLwpSVFZNQlJEIEZJTEUoUVRFTVAvQVBJX1JFU1BPTlNFKSBNQlIoKkZJUlNUKSBSVE5WQVIoJlJFU1BPTlNFKQoKU05EUEdNTVNHIE1TRygmUkVTUE9OU0UpCgpFTkRQR00="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM

DCL VAR(&amp;URL) TYPE(*CHAR) LEN(256) VALUE('https://api.example.com/submit')
DCL VAR(&amp;DATA) TYPE(*CHAR) LEN(256) VALUE('{&quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john.doe@example.com&quot;}')
DCL VAR(&amp;RESPONSE) TYPE(*CHAR) LEN(1024)

QSH CMD('curl -s -X POST -H &quot;Content-Type: application/json&quot; -d ' *CAT &amp;DATA *CAT ' ' *CAT &amp;URL *CAT ' &gt; /tmp/api_response.txt')

/* Read the response from the file */
RTVMBRD FILE(QTEMP/API_RESPONSE) MBR(*FIRST) RTNVAR(&amp;RESPONSE)

SNDPGMMSG MSG(&amp;RESPONSE)

ENDPGM</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ol>
<li><strong>Declare Variables</strong>: Define the URL, data to be sent, and a variable to store the response.</li>
<li><strong>QSH Command</strong>: Use the <code>QSH</code> command to execute a curl command that makes the POST request with the JSON data and saves the response to a temporary file.</li>
<li><strong>Retrieve Response</strong>: Read the response from the file and store it in a variable.</li>
<li><strong>Send Program Message</strong>: Display the response.</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'></div><h2>Common Mistakes:</h2>
<div class='content'><ul>
<li><strong>Incorrect URL</strong>: Ensure the URL is correct and accessible.</li>
<li><strong>Missing Headers</strong>: Some APIs require specific headers (e.g., Content-Type).</li>
<li><strong>Authentication</strong>: Ensure you include any necessary API keys or tokens.</li>
</ul>
</div><h2>Tips:</h2>
<div class='content'><ul>
<li><strong>Use Variables</strong>: Store URLs, data, and other parameters in variables for easier management.</li>
<li><strong>Error Handling</strong>: Implement error handling to manage failed API calls gracefully.</li>
<li><strong>Logging</strong>: Log API requests and responses for debugging and auditing purposes.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to use APIs within CL programs by making HTTP requests using the <code>QSH</code> command and curl. We covered both GET and POST requests, providing practical examples and exercises to reinforce the concepts. Understanding how to interact with APIs opens up a wide range of possibilities for integrating CL programs with other systems and services.</p>
<p>Next, we will explore how to interface with databases in the following module.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-interfacing-databases' title="Interfacing with Databases" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-interfacing-databases' title="Interfacing with Databases" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-network-communication' title="Network Communication" class="py-2 px-3 btn btn-primary"
				data-read-mod="cl" data-read-unit="6-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-network-communication' title="Network Communication" class="py-2 px-3 btn btn-primary" 
				data-read-mod="cl" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>CL (Control Language) Course</h1>
<h2>Module 1: Introduction to CL</h2>
<ul>
<li><a href="01-01-what-is-cl">What is Control Language?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up Your Environment</a></li>
<li><a href="01-03-basic-syntax-structure">Basic Syntax and Structure</a></li>
<li><a href="01-04-writing-first-cl-program">Writing Your First CL Program</a></li>
</ul>
<h2>Module 2: Basic CL Commands</h2>
<ul>
<li><a href="02-01-introduction-cl-commands">Introduction to CL Commands</a></li>
<li><a href="02-02-file-management-commands">File Management Commands</a></li>
<li><a href="02-03-job-management-commands">Job Management Commands</a></li>
<li><a href="02-04-system-management-commands">System Management Commands</a></li>
</ul>
<h2>Module 3: Variables and Expressions</h2>
<ul>
<li><a href="03-01-understanding-variables">Understanding Variables</a></li>
<li><a href="03-02-defining-using-variables">Defining and Using Variables</a></li>
<li><a href="03-03-expressions-operators">Expressions and Operators</a></li>
<li><a href="03-04-string-manipulation">String Manipulation</a></li>
</ul>
<h2>Module 4: Control Structures</h2>
<ul>
<li><a href="04-01-conditional-statements">Conditional Statements</a></li>
<li><a href="04-02-looping-constructs">Looping Constructs</a></li>
<li><a href="04-03-error-handling">Error Handling</a></li>
<li><a href="04-04-subroutines-procedures">Subroutines and Procedures</a></li>
</ul>
<h2>Module 5: Advanced CL Commands</h2>
<ul>
<li><a href="05-01-advanced-file-operations">Advanced File Operations</a></li>
<li><a href="05-02-advanced-job-scheduling">Advanced Job Scheduling</a></li>
<li><a href="05-03-system-configuration-commands">System Configuration Commands</a></li>
<li><a href="05-04-security-permissions">Security and Permissions</a></li>
</ul>
<h2>Module 6: Interfacing with Other Systems</h2>
<ul>
<li><a href="06-01-calling-external-programs">Calling External Programs</a></li>
<li><a href="06-02-interfacing-databases">Interfacing with Databases</a></li>
<li><a href="06-03-using-apis">Using APIs</a></li>
<li><a href="06-04-network-communication">Network Communication</a></li>
</ul>
<h2>Module 7: Debugging and Optimization</h2>
<ul>
<li><a href="07-01-debugging-techniques">Debugging Techniques</a></li>
<li><a href="07-02-performance-optimization">Performance Optimization</a></li>
<li><a href="07-03-logging-monitoring">Logging and Monitoring</a></li>
<li><a href="07-04-best-practices">Best Practices</a></li>
</ul>
<h2>Module 8: Real-World Applications</h2>
<ul>
<li><a href="08-01-automating-system-tasks">Automating System Tasks</a></li>
<li><a href="08-02-batch-processing">Batch Processing</a></li>
<li><a href="08-03-data-integration">Data Integration</a></li>
<li><a href="08-04-case-studies">Case Studies</a></li>
</ul>
<h2>Module 9: Final Project</h2>
<ul>
<li><a href="09-01-project-overview">Project Overview</a></li>
<li><a href="09-02-project-requirements">Project Requirements</a></li>
<li><a href="09-03-implementation-guide">Implementation Guide</a></li>
<li><a href="09-04-submission-review">Submission and Review</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
