<!DOCTYPE html>
<html lang="en">
<head>
    <title> Creating and Using Procedures </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/mod/jcl/04-02-creating-using-procedures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jcl/04-02-creating-using-procedures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jcl/04-02-creating-using-procedures" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "jcl";
  		var TEMA_NAME = "4-2";
  		var TYPE = "mod";
  		var PATH = "mod/jcl/04-02-creating-using-procedures";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/jcl/04-02-creating-using-procedures" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/jcl/04-02-creating-using-procedures" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="jcl">
		<a  href="#" class="text-secondary d-none" data-read-mod="jcl" data-read-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="jcl" data-unread-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-introduction-procedures' title="Introduction to Procedures" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-introduction-procedures' title="Introduction to Procedures" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Creating and Using Procedures</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-symbolic-parameters' title="Symbolic Parameters" class="py-2 px-3 btn btn-primary"
				data-read-mod="jcl" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-symbolic-parameters' title="Symbolic Parameters" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jcl" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the creation and usage of procedures in JCL. Procedures, often referred to as PROCs, are reusable sets of JCL statements that can be invoked by multiple jobs, making your JCL code more modular and easier to maintain.</p>
</div><h1>What is a Procedure?</h1>
<div class='content'><p>A procedure in JCL is a pre-defined set of JCL statements that can be included in a job. Procedures help in reducing redundancy and improving the maintainability of JCL scripts. They are stored in partitioned data sets (PDS) and can be invoked using the <code>EXEC</code> statement.</p>
</div><h2>Key Concepts:</h2>
<div class='content'><ul>
<li><strong>Procedure (PROC):</strong> A reusable set of JCL statements.</li>
<li><strong>EXEC Statement:</strong> Used to call a procedure.</li>
<li><strong>Symbolic Parameters:</strong> Variables within procedures that can be overridden at execution time.</li>
</ul>
</div><h1>Creating a Procedure</h1>
<div class='content'><p>To create a procedure, you need to define it in a member of a partitioned data set (PDS). Here is a simple example of a procedure that copies data from one data set to another:</p>
</div><h2>Example Procedure (COPYPROC)</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9DT1BZUFJPQyBQUk9DCi8vU1RFUDEgICAgRVhFQyBQR009SUVCR0VORVIKLy9TWVNQUklOVCBERCBTWVNPVVQ9KgovL1NZU0lOICAgIEREIERVTU1ZCi8vU1lTVVQxICAgREQgRFNOPSZJTkZJTEUsRElTUD1TSFIKLy9TWVNVVDIgICBERCBEU049Jk9VVEZJTEUsRElTUD0oTkVXLENBVExHLERFTEVURSksCi8vICAgICAgICAgICAgU1BBQ0U9KFRSSywoMSwxKSksVU5JVD1TWVNEQQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//COPYPROC PROC
//STEP1    EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DUMMY
//SYSUT1   DD DSN=&amp;INFILE,DISP=SHR
//SYSUT2   DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE),
//            SPACE=(TRK,(1,1)),UNIT=SYSDA</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>COPYPROC PROC:</strong> Defines the procedure named <code>COPYPROC</code>.</li>
<li><strong>STEP1 EXEC PGM=IEBGENER:</strong> Executes the IEBGENER utility program.</li>
<li><strong>SYSPRINT DD SYSOUT=</strong>*: Directs the output to the system output.</li>
<li><strong>SYSIN DD DUMMY:</strong> Specifies a dummy data set for SYSIN.</li>
<li><strong>SYSUT1 DD DSN=&amp;INFILE,DISP=SHR:</strong> Defines the input data set using a symbolic parameter <code>&amp;INFILE</code>.</li>
<li><strong>SYSUT2 DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE), SPACE=(TRK,(1,1)),UNIT=SYSDA:</strong> Defines the output data set using a symbolic parameter <code>&amp;OUTFILE</code>.</li>
</ul>
</div><h1>Using a Procedure</h1>
<div class='content'><p>To use a procedure in a JCL job, you need to call it using the <code>EXEC</code> statement and provide values for any symbolic parameters.</p>
</div><h2>Example JCL Job Using COPYPROC</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgICBKT0IgKEFDQ1QpLCdDT1BZIEpPQicsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgICAgRVhFQyBDT1BZUFJPQyxJTkZJTEU9TVkuSU5QVVQuREFUQVNFVCxPVVRGSUxFPU1ZLk9VVFBVVC5EQVRBU0VU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB    JOB (ACCT),'COPY JOB',CLASS=A,MSGCLASS=A
//STEP1    EXEC COPYPROC,INFILE=MY.INPUT.DATASET,OUTFILE=MY.OUTPUT.DATASET</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>MYJOB JOB (ACCT),'COPY JOB',CLASS=A,MSGCLASS=A:</strong> Defines the job.</li>
<li><strong>STEP1 EXEC COPYPROC,INFILE=MY.INPUT.DATASET,OUTFILE=MY.OUTPUT.DATASET:</strong> Executes the <code>COPYPROC</code> procedure, providing values for the <code>INFILE</code> and <code>OUTFILE</code> symbolic parameters.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise 1: Create and Use a Procedure</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Procedure:</strong></p>
<ul>
<li>Create a procedure named <code>SORTPROC</code> that sorts a data set using the <code>SORT</code> utility.</li>
<li>Use symbolic parameters for the input and output data sets.</li>
</ul>
</li>
<li>
<p><strong>Use the Procedure:</strong></p>
<ul>
<li>Write a JCL job that uses the <code>SORTPROC</code> procedure to sort a data set named <code>MY.INPUT.DATASET</code> and output the sorted data to <code>MY.SORTED.DATASET</code>.</li>
</ul>
</li>
</ol>
</div><h2>Solution:</h2>
<div class='content'><h4>SORTPROC Procedure</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9TT1JUUFJPQyBQUk9DCi8vU1RFUDEgICAgRVhFQyBQR009U09SVAovL1NZU09VVCAgIEREIFNZU09VVD0qCi8vU09SVElOICAgREQgRFNOPSZJTkZJTEUsRElTUD1TSFIKLy9TT1JUT1VUICBERCBEU049Jk9VVEZJTEUsRElTUD0oTkVXLENBVExHLERFTEVURSksCi8vICAgICAgICAgICAgU1BBQ0U9KFRSSywoMSwxKSksVU5JVD1TWVNEQQovL1NZU0lOICAgIEREICoKICBTT1JUIEZJRUxEUz0oMSwxMCxDSCxBKQovKg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//SORTPROC PROC
//STEP1    EXEC PGM=SORT
//SYSOUT   DD SYSOUT=*
//SORTIN   DD DSN=&amp;INFILE,DISP=SHR
//SORTOUT  DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE),
//            SPACE=(TRK,(1,1)),UNIT=SYSDA
//SYSIN    DD *
  SORT FIELDS=(1,10,CH,A)
/*</pre></div><div class='content'><h4>JCL Job Using SORTPROC</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgICBKT0IgKEFDQ1QpLCdTT1JUIEpPQicsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgICAgRVhFQyBTT1JUUFJPQyxJTkZJTEU9TVkuSU5QVVQuREFUQVNFVCxPVVRGSUxFPU1ZLlNPUlRFRC5EQVRBU0VU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB    JOB (ACCT),'SORT JOB',CLASS=A,MSGCLASS=A
//STEP1    EXEC SORTPROC,INFILE=MY.INPUT.DATASET,OUTFILE=MY.SORTED.DATASET</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>SORTPROC PROC:</strong> Defines the procedure named <code>SORTPROC</code>.</li>
<li><strong>STEP1 EXEC PGM=SORT:</strong> Executes the SORT utility program.</li>
<li><strong>SYSOUT DD SYSOUT=</strong>*: Directs the output to the system output.</li>
<li><strong>SORTIN DD DSN=&amp;INFILE,DISP=SHR:</strong> Defines the input data set using a symbolic parameter <code>&amp;INFILE</code>.</li>
<li><strong>SORTOUT DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE), SPACE=(TRK,(1,1)),UNIT=SYSDA:</strong> Defines the output data set using a symbolic parameter <code>&amp;OUTFILE</code>.</li>
<li>*<em>SYSIN DD <em>:</em></em> Provides the SORT control statements directly in the JCL.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'></div><h2>Common Mistakes:</h2>
<div class='content'><ul>
<li><strong>Forgetting to Define Symbolic Parameters:</strong> Ensure all symbolic parameters used in the procedure are defined and provided values when the procedure is called.</li>
<li><strong>Incorrect DISP Parameters:</strong> Ensure the DISP parameters are correctly set to avoid data set conflicts.</li>
</ul>
</div><h2>Tips:</h2>
<div class='content'><ul>
<li><strong>Use Descriptive Names:</strong> Use descriptive names for procedures and symbolic parameters to make the JCL more readable.</li>
<li><strong>Modularize Your JCL:</strong> Break down complex JCL jobs into smaller, reusable procedures to improve maintainability.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to create and use procedures in JCL. Procedures help in making your JCL scripts modular and easier to maintain. We covered the basics of defining a procedure, using symbolic parameters, and invoking procedures in a JCL job. By practicing the provided exercise, you should now be comfortable creating and using procedures in your JCL jobs.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-introduction-procedures' title="Introduction to Procedures" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-introduction-procedures' title="Introduction to Procedures" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-symbolic-parameters' title="Symbolic Parameters" class="py-2 px-3 btn btn-primary"
				data-read-mod="jcl" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-symbolic-parameters' title="Symbolic Parameters" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jcl" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>JCL (Job Control Language) Course</h1>
<h2>Module 1: Introduction to JCL</h2>
<ul>
<li><a href="01-01-what-is-jcl">What is JCL?</a></li>
<li><a href="01-02-basic-structure">Basic Structure of a JCL Job</a></li>
<li><a href="01-03-jcl-statements-overview">JCL Statements Overview</a></li>
<li><a href="01-04-running-first-job">Running Your First JCL Job</a></li>
</ul>
<h2>Module 2: JCL Statements and Syntax</h2>
<ul>
<li><a href="02-01-job-statement">JOB Statement</a></li>
<li><a href="02-02-exec-statement">EXEC Statement</a></li>
<li><a href="02-03-dd-statement">DD Statement</a></li>
<li><a href="02-04-comments-continuation">Comments and Continuation</a></li>
</ul>
<h2>Module 3: Data Definition (DD) Statements</h2>
<ul>
<li><a href="03-01-defining-data-sets">Defining Data Sets</a></li>
<li><a href="03-02-temporary-data-sets">Temporary Data Sets</a></li>
<li><a href="03-03-referencing-data-sets">Referencing Data Sets</a></li>
<li><a href="03-04-disposition-parameter">Disposition Parameter</a></li>
</ul>
<h2>Module 4: Procedures and Symbolic Parameters</h2>
<ul>
<li><a href="04-01-introduction-procedures">Introduction to Procedures</a></li>
<li><a href="04-02-creating-using-procedures">Creating and Using Procedures</a></li>
<li><a href="04-03-symbolic-parameters">Symbolic Parameters</a></li>
<li><a href="04-04-overriding-parameters">Overriding Parameters</a></li>
</ul>
<h2>Module 5: Advanced JCL Concepts</h2>
<ul>
<li><a href="05-01-conditional-processing">Conditional Processing</a></li>
<li><a href="05-02-jcllib-include-statements">JCLLIB and INCLUDE Statements</a></li>
<li><a href="05-03-generation-data-groups">Generation Data Groups (GDGs)</a></li>
<li><a href="05-04-restart-checkpoint">Restart and Checkpoint</a></li>
</ul>
<h2>Module 6: Error Handling and Debugging</h2>
<ul>
<li><a href="06-01-common-jcl-errors">Common JCL Errors</a></li>
<li><a href="06-02-interpreting-error-messages">Interpreting JCL Error Messages</a></li>
<li><a href="06-03-debugging-techniques">Debugging Techniques</a></li>
<li><a href="06-04-using-jes2-jes3">Using JES2/JES3 for Troubleshooting</a></li>
</ul>
<h2>Module 7: Performance and Optimization</h2>
<ul>
<li><a href="07-01-optimizing-jcl-jobs">Optimizing JCL Jobs</a></li>
<li><a href="07-02-efficient-data-set-usage">Efficient Data Set Usage</a></li>
<li><a href="07-03-parallel-processing">Parallel Processing</a></li>
<li><a href="07-04-best-practices">Best Practices</a></li>
</ul>
<h2>Module 8: Practical Applications and Case Studies</h2>
<ul>
<li><a href="08-01-real-world-examples">Real-World JCL Examples</a></li>
<li><a href="08-02-case-study-batch-processing">Case Study: Batch Processing</a></li>
<li><a href="08-03-case-study-data-management">Case Study: Data Management</a></li>
<li><a href="08-04-case-study-system-maintenance">Case Study: System Maintenance</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
