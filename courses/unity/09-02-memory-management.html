<!DOCTYPE html>
<html lang="en">
<head>
    <title> Memory Management </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/unity/09-02-memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/unity/09-02-memory-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/unity/09-02-memory-management" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "unity";
  		var TEMA_NAME = "9-2";
  		var TYPE = "mod";
  		var PATH = "mod/unity/09-02-memory-management";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/unity/09-02-memory-management" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/unity/09-02-memory-management" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="unity">
		<a  href="#" class="text-secondary d-none" data-read-mod="unity" data-read-unit="9-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="unity" data-unread-unit="9-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='09-01-profiling-optimization-techniques' title="Profiling and Optimization Techniques" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='09-01-profiling-optimization-techniques' title="Profiling and Optimization Techniques" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Memory Management</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-03-reducing-draw-calls' title="Reducing Draw Calls" class="py-2 px-3 btn btn-primary"
				data-read-mod="unity" data-read-unit="9-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-03-reducing-draw-calls' title="Reducing Draw Calls" class="py-2 px-3 btn btn-primary" 
				data-read-mod="unity" data-read-unit="9-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Memory management is a crucial aspect of game development in Unity. Efficient memory usage ensures that your game runs smoothly, avoids crashes, and provides a better experience for the player. In this section, we will cover the following topics:</p>
<ol>
<li><strong>Understanding Memory in Unity</strong></li>
<li><strong>Garbage Collection</strong></li>
<li><strong>Memory Profiling</strong></li>
<li><strong>Best Practices for Memory Management</strong></li>
</ol>
</div><h2>Understanding Memory in Unity</h2>
<div class='content'><p>Memory in Unity can be broadly categorized into two types:</p>
<ul>
<li><strong>Managed Memory</strong>: This is the memory managed by the .NET runtime, which includes all the objects created in C# scripts.</li>
<li><strong>Unmanaged Memory</strong>: This includes memory used by Unity's engine, such as textures, meshes, and other assets.</li>
</ul>
</div><h3>Key Concepts</h3>
<div class='content'><ul>
<li><strong>Heap</strong>: The area of memory where objects are allocated.</li>
<li><strong>Stack</strong>: The area of memory where method calls and local variables are stored.</li>
<li><strong>Garbage Collection (GC)</strong>: The process of automatically reclaiming memory that is no longer in use.</li>
</ul>
</div><h2>Garbage Collection</h2>
<div class='content'><p>Garbage Collection is an automatic memory management feature that helps to reclaim memory occupied by objects that are no longer in use. However, frequent garbage collection can cause performance spikes, leading to frame rate drops.</p>
</div><h3>How Garbage Collection Works</h3>
<div class='content'><ol>
<li><strong>Allocation</strong>: When you create a new object, memory is allocated on the heap.</li>
<li><strong>Marking</strong>: The GC identifies which objects are still in use.</li>
<li><strong>Sweeping</strong>: The GC reclaims memory from objects that are no longer in use.</li>
</ol>
</div><h3>Reducing Garbage Collection Impact</h3>
<div class='content'><ul>
<li><strong>Object Pooling</strong>: Reuse objects instead of creating new ones.</li>
<li><strong>Avoiding Frequent Allocations</strong>: Minimize the creation of temporary objects within frequently called methods.</li>
<li><strong>Using Structs</strong>: For small, immutable data, consider using structs instead of classes.</li>
</ul>
</div><h2>Memory Profiling</h2>
<div class='content'><p>Unity provides tools to help you profile and optimize memory usage.</p>
</div><h3>Unity Profiler</h3>
<div class='content'><p>The Unity Profiler is a powerful tool that helps you monitor memory usage in real-time.</p>
<ol>
<li><strong>Open the Profiler</strong>: Window &gt; Analysis &gt; Profiler</li>
<li><strong>Select Memory Module</strong>: In the Profiler window, select the Memory module to view detailed memory usage.</li>
</ol>
</div><h3>Memory Profiler Package</h3>
<div class='content'><p>The Memory Profiler package provides a more detailed view of memory usage, including managed and unmanaged memory.</p>
<ol>
<li><strong>Install the Package</strong>: Open the Package Manager (Window &gt; Package Manager) and install the Memory Profiler package.</li>
<li><strong>Capture a Snapshot</strong>: Use the Memory Profiler to capture a memory snapshot and analyze memory usage.</li>
</ol>
</div><h2>Best Practices for Memory Management</h2>
<div class='content'></div><h3>Asset Management</h3>
<div class='content'><ul>
<li><strong>Texture Compression</strong>: Use compressed textures to reduce memory usage.</li>
<li><strong>Mesh Optimization</strong>: Optimize meshes to reduce vertex count and memory usage.</li>
<li><strong>Audio Compression</strong>: Use compressed audio formats.</li>
</ul>
</div><h3>Code Optimization</h3>
<div class='content'><ul>
<li><strong>Avoid Large Arrays and Lists</strong>: Large collections can cause significant memory usage and GC overhead.</li>
<li><strong>Use Object Pooling</strong>: Reuse objects to minimize allocations.</li>
<li><strong>Minimize Static References</strong>: Static references can prevent objects from being garbage collected.</li>
</ul>
</div><h3>Example: Object Pooling</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7CnVzaW5nIFVuaXR5RW5naW5lOwoKcHVibGljIGNsYXNzIE9iamVjdFBvb2wgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBHYW1lT2JqZWN0IHByZWZhYjsKICAgIHByaXZhdGUgUXVldWU8R2FtZU9iamVjdD4gcG9vbCA9IG5ldyBRdWV1ZTxHYW1lT2JqZWN0PigpOwoKICAgIHB1YmxpYyBHYW1lT2JqZWN0IEdldE9iamVjdCgpCiAgICB7CiAgICAgICAgaWYgKHBvb2wuQ291bnQgPiAwKQogICAgICAgIHsKICAgICAgICAgICAgR2FtZU9iamVjdCBvYmogPSBwb29sLkRlcXVldWUoKTsKICAgICAgICAgICAgb2JqLlNldEFjdGl2ZSh0cnVlKTsKICAgICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIEluc3RhbnRpYXRlKHByZWZhYik7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIFJldHVybk9iamVjdChHYW1lT2JqZWN0IG9iaikKICAgIHsKICAgICAgICBvYmouU2V0QWN0aXZlKGZhbHNlKTsKICAgICAgICBwb29sLkVucXVldWUob2JqKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System.Collections.Generic;
using UnityEngine;

public class ObjectPool : MonoBehaviour
{
    public GameObject prefab;
    private Queue&lt;GameObject&gt; pool = new Queue&lt;GameObject&gt;();

    public GameObject GetObject()
    {
        if (pool.Count &gt; 0)
        {
            GameObject obj = pool.Dequeue();
            obj.SetActive(true);
            return obj;
        }
        else
        {
            return Instantiate(prefab);
        }
    }

    public void ReturnObject(GameObject obj)
    {
        obj.SetActive(false);
        pool.Enqueue(obj);
    }
}</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li><strong>GetObject</strong>: Retrieves an object from the pool or creates a new one if the pool is empty.</li>
<li><strong>ReturnObject</strong>: Returns an object to the pool for reuse.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Task</h3>
<div class='content'><ol>
<li>Create a simple Unity project.</li>
<li>Implement an object pooling system for a projectile.</li>
<li>Use the Unity Profiler to compare memory usage with and without object pooling.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><ol>
<li><strong>Create a Projectile Prefab</strong>: Create a simple projectile prefab.</li>
<li><strong>Implement Object Pooling</strong>: Use the provided <code>ObjectPool</code> script to manage projectiles.</li>
<li><strong>Profile Memory Usage</strong>: Use the Unity Profiler to capture memory usage before and after implementing object pooling.</li>
</ol>
</div><h2>Conclusion</h2>
<div class='content'><p>Efficient memory management is essential for creating high-performance games in Unity. By understanding how memory works, using tools like the Unity Profiler, and following best practices, you can optimize your game's memory usage and ensure a smooth player experience. In the next section, we will explore techniques for reducing draw calls to further optimize performance.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='09-01-profiling-optimization-techniques' title="Profiling and Optimization Techniques" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='09-01-profiling-optimization-techniques' title="Profiling and Optimization Techniques" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-03-reducing-draw-calls' title="Reducing Draw Calls" class="py-2 px-3 btn btn-primary"
				data-read-mod="unity" data-read-unit="9-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-03-reducing-draw-calls' title="Reducing Draw Calls" class="py-2 px-3 btn btn-primary" 
				data-read-mod="unity" data-read-unit="9-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Unity Course</h1>
<h2>Module 1: Introduction to Unity</h2>
<ul>
<li><a href="01-01-introduction-unity-installation">Introduction to Unity and Installation</a></li>
<li><a href="01-02-unity-interface-overview">Unity Interface Overview</a></li>
<li><a href="01-03-creating-first-project">Creating Your First Project</a></li>
<li><a href="01-04-basic-game-objects-components">Basic Game Objects and Components</a></li>
</ul>
<h2>Module 2: Basic Scripting in Unity</h2>
<ul>
<li><a href="02-01-introduction-csharp-unity">Introduction to C# for Unity</a></li>
<li><a href="02-02-creating-attaching-scripts">Creating and Attaching Scripts</a></li>
<li><a href="02-03-understanding-monobehaviour">Understanding MonoBehaviour</a></li>
<li><a href="02-04-basic-input-handling">Basic Input Handling</a></li>
</ul>
<h2>Module 3: Working with Assets</h2>
<ul>
<li><a href="03-01-importing-managing-assets">Importing and Managing Assets</a></li>
<li><a href="03-02-using-asset-store">Using the Asset Store</a></li>
<li><a href="03-03-creating-using-prefabs">Creating and Using Prefabs</a></li>
<li><a href="03-04-basic-animation">Basic Animation</a></li>
</ul>
<h2>Module 4: Physics and Collisions</h2>
<ul>
<li><a href="04-01-introduction-unity-physics">Introduction to Unity Physics</a></li>
<li><a href="04-02-rigidbodies-colliders">Rigidbodies and Colliders</a></li>
<li><a href="04-03-basic-collision-detection">Basic Collision Detection</a></li>
<li><a href="04-04-using-physics-materials">Using Physics Materials</a></li>
</ul>
<h2>Module 5: User Interface (UI)</h2>
<ul>
<li><a href="05-01-introduction-unity-ui">Introduction to Unity UI</a></li>
<li><a href="05-02-creating-customizing-ui-elements">Creating and Customizing UI Elements</a></li>
<li><a href="05-03-handling-ui-events">Handling UI Events</a></li>
<li><a href="05-04-creating-menus-huds">Creating Menus and HUDs</a></li>
</ul>
<h2>Module 6: Audio in Unity</h2>
<ul>
<li><a href="06-01-introduction-audio-unity">Introduction to Audio in Unity</a></li>
<li><a href="06-02-importing-using-audio-clips">Importing and Using Audio Clips</a></li>
<li><a href="06-03-basic-audio-scripting">Basic Audio Scripting</a></li>
<li><a href="06-04-3d-audio-spatial-sound">3D Audio and Spatial Sound</a></li>
</ul>
<h2>Module 7: Advanced Scripting</h2>
<ul>
<li><a href="07-01-advanced-csharp-concepts-unity">Advanced C# Concepts for Unity</a></li>
<li><a href="07-02-coroutines-asynchronous-programming">Coroutines and Asynchronous Programming</a></li>
<li><a href="07-03-scriptable-objects">Scriptable Objects</a></li>
<li><a href="07-04-custom-editors-gizmos">Custom Editors and Gizmos</a></li>
</ul>
<h2>Module 8: Advanced Physics and AI</h2>
<ul>
<li><a href="08-01-advanced-physics-techniques">Advanced Physics Techniques</a></li>
<li><a href="08-02-pathfinding-navigation">Pathfinding and Navigation</a></li>
<li><a href="08-03-basic-ai-scripting">Basic AI Scripting</a></li>
<li><a href="08-04-state-machines-behavior-trees">State Machines and Behavior Trees</a></li>
</ul>
<h2>Module 9: Optimization and Performance</h2>
<ul>
<li><a href="09-01-profiling-optimization-techniques">Profiling and Optimization Techniques</a></li>
<li><a href="09-02-memory-management">Memory Management</a></li>
<li><a href="09-03-reducing-draw-calls">Reducing Draw Calls</a></li>
<li><a href="09-04-optimizing-physics-collisions">Optimizing Physics and Collisions</a></li>
</ul>
<h2>Module 10: Publishing and Beyond</h2>
<ul>
<li><a href="10-01-building-publishing-game">Building and Publishing Your Game</a></li>
<li><a href="10-02-cross-platform-development">Cross-Platform Development</a></li>
<li><a href="10-03-using-unity-services">Using Unity Services</a></li>
<li><a href="10-04-next-steps-resources">Next Steps and Resources</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
