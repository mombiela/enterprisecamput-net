<!DOCTYPE html>
<html lang="en">
<head>
    <title> Modules and Packages </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/lua/03-03-modules-packages" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/lua/03-03-modules-packages" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/lua/03-03-modules-packages" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "lua";
  		var TEMA_NAME = "3-3";
  		var TYPE = "mod";
  		var PATH = "mod/lua/03-03-modules-packages";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/lua/03-03-modules-packages" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/lua/03-03-modules-packages" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="lua">
		<a  href="#" class="text-secondary d-none" data-read-mod="lua" data-read-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="lua" data-unread-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-metatables-metamethods' title="Metatables and Metamethods" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-metatables-metamethods' title="Metatables and Metamethods" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Modules and Packages</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-error-handling' title="Error Handling" class="py-2 px-3 btn btn-primary"
				data-read-mod="lua" data-read-unit="3-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-error-handling' title="Error Handling" class="py-2 px-3 btn btn-primary" 
				data-read-mod="lua" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to organize and reuse code in Lua using modules and packages. This is an essential concept for writing maintainable and scalable Lua programs.</p>
</div><h1>What are Modules?</h1>
<div class='content'><p>Modules in Lua are a way to group related functions and variables into a single unit. This helps in organizing code and avoiding name conflicts. Modules can be thought of as libraries that can be loaded and used in different parts of your program.</p>
</div><h2>Creating a Module</h2>
<div class='content'><p>To create a module, you typically define a table to hold the module's functions and variables, and then return that table at the end of the module file.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gbXltb2R1bGUubHVhCmxvY2FsIG15bW9kdWxlID0ge30KCmZ1bmN0aW9uIG15bW9kdWxlLmdyZWV0KG5hbWUpCiAgICByZXR1cm4gIkhlbGxvLCAiIC4uIG5hbWUKZW5kCgpmdW5jdGlvbiBteW1vZHVsZS5hZGQoYSwgYikKICAgIHJldHVybiBhICsgYgplbmQKCnJldHVybiBteW1vZHVsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- mymodule.lua
local mymodule = {}

function mymodule.greet(name)
    return &quot;Hello, &quot; .. name
end

function mymodule.add(a, b)
    return a + b
end

return mymodule</pre></div><div class='content'></div><h2>Using a Module</h2>
<div class='content'><p>To use a module, you need to load it using the <code>require</code> function.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gbWFpbi5sdWEKbG9jYWwgbXltb2R1bGUgPSByZXF1aXJlKCJteW1vZHVsZSIpCgpwcmludChteW1vZHVsZS5ncmVldCgiV29ybGQiKSkgIC0tIE91dHB1dDogSGVsbG8sIFdvcmxkCnByaW50KG15bW9kdWxlLmFkZCg1LCAzKSkgICAgICAgLS0gT3V0cHV0OiA4"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- main.lua
local mymodule = require(&quot;mymodule&quot;)

print(mymodule.greet(&quot;World&quot;))  -- Output: Hello, World
print(mymodule.add(5, 3))       -- Output: 8</pre></div><div class='content'></div><h1>Packages</h1>
<div class='content'><p>Packages in Lua are collections of modules. They are useful for distributing and managing multiple modules together. Lua uses a package system to locate and load modules.</p>
</div><h2>The <code>package</code> Table</h2>
<div class='content'><p>Lua provides a <code>package</code> table that contains functions and variables to manage packages.</p>
<p><strong>Key Fields and Functions:</strong></p>
<ul>
<li><code>package.path</code>: A string with the search path for Lua modules.</li>
<li><code>package.cpath</code>: A string with the search path for C libraries.</li>
<li><code>package.loaded</code>: A table that keeps track of all loaded modules.</li>
<li><code>require(name)</code>: Loads the module with the given name.</li>
</ul>
</div><h2>Setting the Module Path</h2>
<div class='content'><p>You can set the module search path using the <code>package.path</code> variable. The search path is a string with directory names separated by semicolons (<code>;</code>). Each directory name can contain a wildcard (<code>?</code>) that Lua replaces with the module name.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZS5wYXRoID0gIi4vPy5sdWE7IiAuLiBwYWNrYWdlLnBhdGg="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package.path = &quot;./?.lua;&quot; .. package.path</pre></div><div class='content'><p>This adds the current directory to the module search path.</p>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a simple package with two modules: <code>mathutils</code> and <code>stringutils</code>.</p>
<p><strong>mathutils.lua:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgbWF0aHV0aWxzID0ge30KCmZ1bmN0aW9uIG1hdGh1dGlscy5zcXVhcmUoeCkKICAgIHJldHVybiB4ICogeAplbmQKCmZ1bmN0aW9uIG1hdGh1dGlscy5jdWJlKHgpCiAgICByZXR1cm4geCAqIHggKiB4CmVuZAoKcmV0dXJuIG1hdGh1dGlscw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local mathutils = {}

function mathutils.square(x)
    return x * x
end

function mathutils.cube(x)
    return x * x * x
end

return mathutils</pre></div><div class='content'><p><strong>stringutils.lua:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgc3RyaW5ndXRpbHMgPSB7fQoKZnVuY3Rpb24gc3RyaW5ndXRpbHMudXBwZXJjYXNlKHN0cikKICAgIHJldHVybiBzdHJpbmcudXBwZXIoc3RyKQplbmQKCmZ1bmN0aW9uIHN0cmluZ3V0aWxzLmxvd2VyY2FzZShzdHIpCiAgICByZXR1cm4gc3RyaW5nLmxvd2VyKHN0cikKZW5kCgpyZXR1cm4gc3RyaW5ndXRpbHM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local stringutils = {}

function stringutils.uppercase(str)
    return string.upper(str)
end

function stringutils.lowercase(str)
    return string.lower(str)
end

return stringutils</pre></div><div class='content'><p><strong>main.lua:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgbWF0aHV0aWxzID0gcmVxdWlyZSgibWF0aHV0aWxzIikKbG9jYWwgc3RyaW5ndXRpbHMgPSByZXF1aXJlKCJzdHJpbmd1dGlscyIpCgpwcmludChtYXRodXRpbHMuc3F1YXJlKDQpKSAgICAgICAtLSBPdXRwdXQ6IDE2CnByaW50KG1hdGh1dGlscy5jdWJlKDMpKSAgICAgICAgIC0tIE91dHB1dDogMjcKcHJpbnQoc3RyaW5ndXRpbHMudXBwZXJjYXNlKCJoZWxsbyIpKSAgLS0gT3V0cHV0OiBIRUxMTwpwcmludChzdHJpbmd1dGlscy5sb3dlcmNhc2UoIldPUkxEIikpICAtLSBPdXRwdXQ6IHdvcmxk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local mathutils = require(&quot;mathutils&quot;)
local stringutils = require(&quot;stringutils&quot;)

print(mathutils.square(4))       -- Output: 16
print(mathutils.cube(3))         -- Output: 27
print(stringutils.uppercase(&quot;hello&quot;))  -- Output: HELLO
print(stringutils.lowercase(&quot;WORLD&quot;))  -- Output: world</pre></div><div class='content'></div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Creating and Using a Module</h2>
<div class='content'><ol>
<li>
<p>Create a module named <code>calc.lua</code> with the following functions:</p>
<ul>
<li><code>add(a, b)</code>: Returns the sum of <code>a</code> and <code>b</code>.</li>
<li><code>subtract(a, b)</code>: Returns the difference between <code>a</code> and <code>b</code>.</li>
<li><code>multiply(a, b)</code>: Returns the product of <code>a</code> and <code>b</code>.</li>
<li><code>divide(a, b)</code>: Returns the quotient of <code>a</code> divided by <code>b</code>.</li>
</ul>
</li>
<li>
<p>Create a <code>main.lua</code> file that uses the <code>calc</code> module to perform and print the results of the following operations:</p>
<ul>
<li>Add 10 and 5</li>
<li>Subtract 10 from 5</li>
<li>Multiply 10 and 5</li>
<li>Divide 10 by 5</li>
</ul>
</li>
</ol>
<p><strong>Solution:</strong></p>
<p><strong>calc.lua:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgY2FsYyA9IHt9CgpmdW5jdGlvbiBjYWxjLmFkZChhLCBiKQogICAgcmV0dXJuIGEgKyBiCmVuZAoKZnVuY3Rpb24gY2FsYy5zdWJ0cmFjdChhLCBiKQogICAgcmV0dXJuIGEgLSBiCmVuZAoKZnVuY3Rpb24gY2FsYy5tdWx0aXBseShhLCBiKQogICAgcmV0dXJuIGEgKiBiCmVuZAoKZnVuY3Rpb24gY2FsYy5kaXZpZGUoYSwgYikKICAgIGlmIGIgfj0gMCB0aGVuCiAgICAgICAgcmV0dXJuIGEgLyBiCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIG5pbCwgIkRpdmlzaW9uIGJ5IHplcm8iCiAgICBlbmQKZW5kCgpyZXR1cm4gY2FsYw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local calc = {}

function calc.add(a, b)
    return a + b
end

function calc.subtract(a, b)
    return a - b
end

function calc.multiply(a, b)
    return a * b
end

function calc.divide(a, b)
    if b ~= 0 then
        return a / b
    else
        return nil, &quot;Division by zero&quot;
    end
end

return calc</pre></div><div class='content'><p><strong>main.lua:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgY2FsYyA9IHJlcXVpcmUoImNhbGMiKQoKcHJpbnQoY2FsYy5hZGQoMTAsIDUpKSAgICAgICAgLS0gT3V0cHV0OiAxNQpwcmludChjYWxjLnN1YnRyYWN0KDEwLCA1KSkgICAtLSBPdXRwdXQ6IDUKcHJpbnQoY2FsYy5tdWx0aXBseSgxMCwgNSkpICAgLS0gT3V0cHV0OiA1MApsb2NhbCByZXN1bHQsIGVyciA9IGNhbGMuZGl2aWRlKDEwLCA1KQppZiBlcnIgdGhlbgogICAgcHJpbnQoZXJyKQplbHNlCiAgICBwcmludChyZXN1bHQpICAgICAgICAgICAgIC0tIE91dHB1dDogMgplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local calc = require(&quot;calc&quot;)

print(calc.add(10, 5))        -- Output: 15
print(calc.subtract(10, 5))   -- Output: 5
print(calc.multiply(10, 5))   -- Output: 50
local result, err = calc.divide(10, 5)
if err then
    print(err)
else
    print(result)             -- Output: 2
end</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li>
<p><strong>Mistake:</strong> Forgetting to return the module table at the end of the module file.</p>
<ul>
<li><strong>Tip:</strong> Always ensure you return the module table to make the module's functions and variables accessible.</li>
</ul>
</li>
<li>
<p><strong>Mistake:</strong> Not setting the correct module search path.</p>
<ul>
<li><strong>Tip:</strong> Use <code>package.path</code> to include the directories where your modules are located.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to create and use modules in Lua, as well as how to manage packages. Modules help in organizing code and making it reusable, while packages allow for better distribution and management of multiple modules. In the next section, we will delve into error handling in Lua, which is crucial for writing robust and reliable programs.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-metatables-metamethods' title="Metatables and Metamethods" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-metatables-metamethods' title="Metatables and Metamethods" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-error-handling' title="Error Handling" class="py-2 px-3 btn btn-primary"
				data-read-mod="lua" data-read-unit="3-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-error-handling' title="Error Handling" class="py-2 px-3 btn btn-primary" 
				data-read-mod="lua" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Lua Programming Course</h1>
<h2>Module 1: Introduction to Lua</h2>
<ul>
<li><a href="01-01-what-is-lua">What is Lua?</a></li>
<li><a href="01-02-setting-up-lua">Setting Up the Lua Environment</a></li>
<li><a href="01-03-first-lua-script">Your First Lua Script</a></li>
<li><a href="01-04-basic-syntax">Basic Syntax and Structure</a></li>
</ul>
<h2>Module 2: Basic Concepts</h2>
<ul>
<li><a href="02-01-variables-data-types">Variables and Data Types</a></li>
<li><a href="02-02-operators">Operators</a></li>
<li><a href="02-03-control-structures">Control Structures</a></li>
<li><a href="02-04-loops">Loops</a></li>
<li><a href="02-05-functions">Functions</a></li>
</ul>
<h2>Module 3: Intermediate Concepts</h2>
<ul>
<li><a href="03-01-tables">Tables</a></li>
<li><a href="03-02-metatables-metamethods">Metatables and Metamethods</a></li>
<li><a href="03-03-modules-packages">Modules and Packages</a></li>
<li><a href="03-04-error-handling">Error Handling</a></li>
<li><a href="03-05-file-io">File I/O</a></li>
</ul>
<h2>Module 4: Advanced Concepts</h2>
<ul>
<li><a href="04-01-coroutines">Coroutines</a></li>
<li><a href="04-02-oop-lua">Object-Oriented Programming in Lua</a></li>
<li><a href="04-03-debugging-techniques">Debugging Techniques</a></li>
<li><a href="04-04-performance-optimization">Performance Optimization</a></li>
<li><a href="04-05-lua-c-api">Using the Lua C API</a></li>
</ul>
<h2>Module 5: Practical Applications</h2>
<ul>
<li><a href="05-01-building-simple-game">Building a Simple Game</a></li>
<li><a href="05-02-scripting-game-engines">Scripting in Game Engines</a></li>
<li><a href="05-03-automating-tasks">Automating Tasks with Lua</a></li>
<li><a href="05-04-integrating-lua">Integrating Lua with Other Languages</a></li>
</ul>
<h2>Module 6: Final Project</h2>
<ul>
<li><a href="06-01-project-overview">Project Overview</a></li>
<li><a href="06-02-planning-design">Planning and Design</a></li>
<li><a href="06-03-implementation">Implementation</a></li>
<li><a href="06-04-testing-debugging">Testing and Debugging</a></li>
<li><a href="06-05-project-presentation">Project Presentation</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
