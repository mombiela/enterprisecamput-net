<!DOCTYPE html>
<html lang="en">
<head>
    <title> Using Materialized Views </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/bigquery/06-03-using-materialized-views" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/bigquery/06-03-using-materialized-views" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/bigquery/06-03-using-materialized-views" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "bigquery";
  		var TEMA_NAME = "6-3";
  		var TYPE = "mod";
  		var PATH = "mod/bigquery/06-03-using-materialized-views";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.688defeeef.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/bigquery/06-03-using-materialized-views" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/bigquery/06-03-using-materialized-views" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="bigquery">
		<a  href="#" class="text-secondary d-none" data-read-mod="bigquery" data-read-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="bigquery" data-unread-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-query-execution-plans' title="Understanding Query Execution Plans" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-query-execution-plans' title="Understanding Query Execution Plans" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Using Materialized Views</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-optimizing-storage' title="Optimizing Storage" class="py-2 px-3 btn btn-primary"
				data-read-mod="bigquery" data-read-unit="6-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-optimizing-storage' title="Optimizing Storage" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bigquery" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Materialized views in BigQuery are a powerful feature that can significantly improve query performance and reduce costs by precomputing and storing the results of a query. This section will cover the following topics:</p>
<ol>
<li><strong>What are Materialized Views?</strong></li>
<li><strong>Creating Materialized Views</strong></li>
<li><strong>Querying Materialized Views</strong></li>
<li><strong>Maintaining Materialized Views</strong></li>
<li><strong>Best Practices and Use Cases</strong></li>
</ol>
</div><h2><ol>
<li>What are Materialized Views?</li>
</ol></h2>
<div class='content'><p>Materialized views are precomputed views that store the result of a query. Unlike standard views, which compute their results each time they are queried, materialized views store the results and can be refreshed periodically. This can lead to significant performance improvements, especially for complex queries.</p>
</div><h3>Key Benefits:</h3>
<div class='content'><ul>
<li><strong>Performance Improvement:</strong> Queries on materialized views are faster because the data is precomputed.</li>
<li><strong>Cost Efficiency:</strong> Reduces the amount of data processed by queries, leading to lower costs.</li>
<li><strong>Simplified Querying:</strong> Simplifies complex queries by breaking them into smaller, more manageable parts.</li>
</ul>
</div><h2><ol start="2">
<li>Creating Materialized Views</li>
</ol></h2>
<div class='content'><p>To create a materialized view, you use the <code>CREATE MATERIALIZED VIEW</code> statement. Here is a basic example:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE1BVEVSSUFMSVpFRCBWSUVXIG15X2RhdGFzZXQubXlfbWF0ZXJpYWxpemVkX3ZpZXcgQVMKU0VMRUNUCiAgdXNlcl9pZCwKICBDT1VOVCgqKSBBUyB0b3RhbF9wdXJjaGFzZXMsCiAgU1VNKGFtb3VudCkgQVMgdG90YWxfYW1vdW50CkZST00KICBteV9kYXRhc2V0LnB1cmNoYXNlcwpHUk9VUCBCWQogIHVzZXJfaWQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE MATERIALIZED VIEW my_dataset.my_materialized_view AS
SELECT
  user_id,
  COUNT(*) AS total_purchases,
  SUM(amount) AS total_amount
FROM
  my_dataset.purchases
GROUP BY
  user_id;</pre></div><div class='content'></div><h3>Explanation:</h3>
<div class='content'><ul>
<li><strong><code>CREATE MATERIALIZED VIEW my_dataset.my_materialized_view AS</code></strong>: This part of the statement creates a new materialized view named <code>my_materialized_view</code> in the <code>my_dataset</code> dataset.</li>
<li><strong><code>SELECT user_id, COUNT(*) AS total_purchases, SUM(amount) AS total_amount FROM my_dataset.purchases GROUP BY user_id;</code></strong>: This query calculates the total number of purchases and the total amount spent by each user.</li>
</ul>
</div><h2><ol start="3">
<li>Querying Materialized Views</li>
</ol></h2>
<div class='content'><p>Once a materialized view is created, you can query it just like a regular table or view:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUCiAgdXNlcl9pZCwKICB0b3RhbF9wdXJjaGFzZXMsCiAgdG90YWxfYW1vdW50CkZST00KICBteV9kYXRhc2V0Lm15X21hdGVyaWFsaXplZF92aWV3CldIRVJFCiAgdG90YWxfcHVyY2hhc2VzID4gMTA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT
  user_id,
  total_purchases,
  total_amount
FROM
  my_dataset.my_materialized_view
WHERE
  total_purchases &gt; 10;</pre></div><div class='content'></div><h3>Explanation:</h3>
<div class='content'><ul>
<li><strong><code>SELECT user_id, total_purchases, total_amount FROM my_dataset.my_materialized_view WHERE total_purchases &gt; 10;</code></strong>: This query retrieves the user IDs, total purchases, and total amount for users who have made more than 10 purchases.</li>
</ul>
</div><h2><ol start="4">
<li>Maintaining Materialized Views</li>
</ol></h2>
<div class='content'><p>Materialized views need to be refreshed to ensure they contain up-to-date data. BigQuery supports both manual and automatic refreshes.</p>
</div><h3>Manual Refresh:</h3>
<div class='content'><p>You can manually refresh a materialized view using the <code>REFRESH MATERIALIZED VIEW</code> statement:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UkVGUkVTSCBNQVRFUklBTElaRUQgVklFVyBteV9kYXRhc2V0Lm15X21hdGVyaWFsaXplZF92aWV3Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>REFRESH MATERIALIZED VIEW my_dataset.my_materialized_view;</pre></div><div class='content'></div><h3>Automatic Refresh:</h3>
<div class='content'><p>BigQuery can automatically refresh materialized views based on a defined schedule. This can be set up using the <code>OPTIONS</code> clause when creating the materialized view:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE1BVEVSSUFMSVpFRCBWSUVXIG15X2RhdGFzZXQubXlfbWF0ZXJpYWxpemVkX3ZpZXcKT1BUSU9OUyAoCiAgZW5hYmxlX3JlZnJlc2ggPSB0cnVlLAogIHJlZnJlc2hfaW50ZXJ2YWxfbWludXRlcyA9IDYwCikgQVMKU0VMRUNUCiAgdXNlcl9pZCwKICBDT1VOVCgqKSBBUyB0b3RhbF9wdXJjaGFzZXMsCiAgU1VNKGFtb3VudCkgQVMgdG90YWxfYW1vdW50CkZST00KICBteV9kYXRhc2V0LnB1cmNoYXNlcwpHUk9VUCBCWQogIHVzZXJfaWQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE MATERIALIZED VIEW my_dataset.my_materialized_view
OPTIONS (
  enable_refresh = true,
  refresh_interval_minutes = 60
) AS
SELECT
  user_id,
  COUNT(*) AS total_purchases,
  SUM(amount) AS total_amount
FROM
  my_dataset.purchases
GROUP BY
  user_id;</pre></div><div class='content'></div><h3>Explanation:</h3>
<div class='content'><ul>
<li><strong><code>enable_refresh = true</code></strong>: Enables automatic refresh for the materialized view.</li>
<li><strong><code>refresh_interval_minutes = 60</code></strong>: Sets the refresh interval to 60 minutes.</li>
</ul>
</div><h2><ol start="5">
<li>Best Practices and Use Cases</li>
</ol></h2>
<div class='content'></div><h3>Best Practices:</h3>
<div class='content'><ul>
<li><strong>Use for Complex Queries:</strong> Materialized views are ideal for complex queries that are frequently executed.</li>
<li><strong>Monitor Refresh Costs:</strong> Be mindful of the costs associated with refreshing materialized views, especially if the underlying data changes frequently.</li>
<li><strong>Optimize Query Performance:</strong> Ensure that the queries used to create materialized views are optimized for performance.</li>
</ul>
</div><h3>Use Cases:</h3>
<div class='content'><ul>
<li><strong>Aggregated Reporting:</strong> Use materialized views to precompute aggregated data for reporting purposes.</li>
<li><strong>Data Warehousing:</strong> Materialized views can be used to store precomputed results of ETL (Extract, Transform, Load) processes.</li>
<li><strong>Real-Time Analytics:</strong> Use materialized views to provide near real-time analytics by setting appropriate refresh intervals.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Materialized views in BigQuery offer a powerful way to improve query performance and reduce costs by precomputing and storing query results. By understanding how to create, query, and maintain materialized views, you can leverage this feature to optimize your BigQuery workflows. Remember to follow best practices and consider the specific use cases where materialized views can provide the most benefit.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-query-execution-plans' title="Understanding Query Execution Plans" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-query-execution-plans' title="Understanding Query Execution Plans" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-optimizing-storage' title="Optimizing Storage" class="py-2 px-3 btn btn-primary"
				data-read-mod="bigquery" data-read-unit="6-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-optimizing-storage' title="Optimizing Storage" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bigquery" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>BigQuery Course</h1>
<h2>Module 1: Introduction to BigQuery</h2>
<ul>
<li><a href="01-01-what-is-bigquery">What is BigQuery?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up Your BigQuery Environment</a></li>
<li><a href="01-03-understanding-architecture">Understanding BigQuery Architecture</a></li>
<li><a href="01-04-console-overview">BigQuery Console Overview</a></li>
</ul>
<h2>Module 2: Basic SQL in BigQuery</h2>
<ul>
<li><a href="02-01-introduction-to-sql">Introduction to SQL</a></li>
<li><a href="02-02-basic-sql-queries">Basic SQL Queries</a></li>
<li><a href="02-03-filtering-sorting-data">Filtering and Sorting Data</a></li>
<li><a href="02-04-aggregating-data">Aggregating Data</a></li>
</ul>
<h2>Module 3: Intermediate SQL in BigQuery</h2>
<ul>
<li><a href="03-01-joins-unions">Joins and Unions</a></li>
<li><a href="03-02-subqueries">Subqueries</a></li>
<li><a href="03-03-common-table-expressions">Common Table Expressions (CTEs)</a></li>
<li><a href="03-04-window-functions">Window Functions</a></li>
</ul>
<h2>Module 4: Advanced SQL in BigQuery</h2>
<ul>
<li><a href="04-01-advanced-joins">Advanced Joins</a></li>
<li><a href="04-02-nested-repeated-fields">Nested and Repeated Fields</a></li>
<li><a href="04-03-user-defined-functions">User-Defined Functions (UDFs)</a></li>
<li><a href="04-04-partitioning-clustering">Partitioning and Clustering</a></li>
</ul>
<h2>Module 5: BigQuery Data Management</h2>
<ul>
<li><a href="05-01-loading-data">Loading Data into BigQuery</a></li>
<li><a href="05-02-exporting-data">Exporting Data from BigQuery</a></li>
<li><a href="05-03-data-transformation-cleaning">Data Transformation and Cleaning</a></li>
<li><a href="05-04-managing-datasets-tables">Managing Datasets and Tables</a></li>
</ul>
<h2>Module 6: BigQuery Performance Optimization</h2>
<ul>
<li><a href="06-01-query-optimization-techniques">Query Optimization Techniques</a></li>
<li><a href="06-02-query-execution-plans">Understanding Query Execution Plans</a></li>
<li><a href="06-03-using-materialized-views">Using Materialized Views</a></li>
<li><a href="06-04-optimizing-storage">Optimizing Storage</a></li>
</ul>
<h2>Module 7: BigQuery Security and Compliance</h2>
<ul>
<li><a href="07-01-access-control-permissions">Access Control and Permissions</a></li>
<li><a href="07-02-data-encryption">Data Encryption</a></li>
<li><a href="07-03-auditing-monitoring">Auditing and Monitoring</a></li>
<li><a href="07-04-compliance-best-practices">Compliance and Best Practices</a></li>
</ul>
<h2>Module 8: BigQuery Integration and Automation</h2>
<ul>
<li><a href="08-01-integrating-google-cloud">Integrating with Google Cloud Services</a></li>
<li><a href="08-02-using-dataflow">Using BigQuery with Dataflow</a></li>
<li><a href="08-03-automating-workflows">Automating Workflows with Cloud Functions</a></li>
<li><a href="08-04-scheduling-queries">Scheduling Queries with Cloud Scheduler</a></li>
</ul>
<h2>Module 9: BigQuery Machine Learning (BQML)</h2>
<ul>
<li><a href="09-01-introduction-bqml">Introduction to BigQuery ML</a></li>
<li><a href="09-02-creating-training-models">Creating and Training Models</a></li>
<li><a href="09-03-evaluating-predicting-models">Evaluating and Predicting with Models</a></li>
<li><a href="09-04-advanced-bqml-features">Advanced BQML Features</a></li>
</ul>
<h2>Module 10: Real-World BigQuery Use Cases</h2>
<ul>
<li><a href="10-01-analyzing-web-app-analytics">Analyzing Web and App Analytics</a></li>
<li><a href="10-02-financial-data-analysis">Financial Data Analysis</a></li>
<li><a href="10-03-iot-data-processing">IoT Data Processing</a></li>
<li><a href="10-04-building-dashboards-data-studio">Building Dashboards with Data Studio</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
