<!DOCTYPE html>
<html lang="en">
<head>
    <title> Sharding </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/mongodb/05-02-sharding" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/mongodb/05-02-sharding" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/mongodb/05-02-sharding" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "mongodb";
  		var TEMA_NAME = "5-2";
  		var TYPE = "mod";
  		var PATH = "mod/mongodb/05-02-sharding";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.ae32789132.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/mongodb/05-02-sharding" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/mongodb/05-02-sharding" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="mongodb">
		<a  href="#" class="text-secondary d-none" data-read-mod="mongodb" data-read-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="mongodb" data-unread-unit="5-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Sharding</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-transactions' title="Transactions" class="py-2 px-3 btn btn-primary"
				data-read-mod="mongodb" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-transactions' title="Transactions" class="py-2 px-3 btn btn-primary" 
				data-read-mod="mongodb" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Sharding is a method for distributing data across multiple machines. This is essential for handling large datasets and high-throughput operations. In MongoDB, sharding allows you to horizontally scale your database, ensuring that your application can handle increased load and data volume.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Shard</strong>: A single MongoDB instance that holds a subset of the sharded data.</li>
<li><strong>Shard Key</strong>: A field or fields that determine how data is distributed across shards.</li>
<li><strong>Config Server</strong>: Stores metadata and configuration settings for the sharded cluster.</li>
<li><strong>Mongos</strong>: A routing service that directs client requests to the appropriate shard.</li>
</ol>
</div><h2>Why Sharding?</h2>
<div class='content'><ul>
<li><strong>Scalability</strong>: Distributes data across multiple servers, allowing for horizontal scaling.</li>
<li><strong>Performance</strong>: Improves read and write performance by distributing the load.</li>
<li><strong>High Availability</strong>: Ensures data redundancy and fault tolerance.</li>
</ul>
</div><h2>Setting Up Sharding</h2>
<div class='content'></div><h3>Step 1: Enable Sharding on the Database</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIGFkbWluCmRiLnJ1bkNvbW1hbmQoeyBlbmFibGVTaGFyZGluZzogIm15RGF0YWJhc2UiIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use admin
db.runCommand({ enableSharding: &quot;myDatabase&quot; })</pre></div><div class='content'></div><h3>Step 2: Choose a Shard Key</h3>
<div class='content'><p>Choosing an appropriate shard key is crucial for balanced data distribution. A good shard key should have high cardinality and be evenly distributed.</p>
</div><h3>Step 3: Shard a Collection</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIG15RGF0YWJhc2UKZGIucnVuQ29tbWFuZCh7CiAgc2hhcmRDb2xsZWN0aW9uOiAibXlEYXRhYmFzZS5teUNvbGxlY3Rpb24iLAogIGtleTogeyBzaGFyZEtleUZpZWxkOiAxIH0KfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use myDatabase
db.runCommand({
  shardCollection: &quot;myDatabase.myCollection&quot;,
  key: { shardKeyField: 1 }
})</pre></div><div class='content'></div><h3>Example</h3>
<div class='content'><p>Let's walk through a practical example of setting up sharding for a collection of user data.</p>
<h4>Step 1: Enable Sharding on the Database</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIGFkbWluCmRiLnJ1bkNvbW1hbmQoeyBlbmFibGVTaGFyZGluZzogInVzZXJEQiIgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use admin
db.runCommand({ enableSharding: &quot;userDB&quot; })</pre></div><div class='content'><h4>Step 2: Choose a Shard Key</h4>
<p>For this example, we'll use the <code>userId</code> field as the shard key.</p>
<h4>Step 3: Shard the Collection</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHVzZXJEQgpkYi5ydW5Db21tYW5kKHsKICBzaGFyZENvbGxlY3Rpb246ICJ1c2VyREIudXNlcnMiLAogIGtleTogeyB1c2VySWQ6IDEgfQp9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use userDB
db.runCommand({
  shardCollection: &quot;userDB.users&quot;,
  key: { userId: 1 }
})</pre></div><div class='content'></div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Task</h3>
<div class='content'><ol>
<li>Enable sharding on a database named <code>testDB</code>.</li>
<li>Choose a shard key for a collection named <code>orders</code> in <code>testDB</code>.</li>
<li>Shard the <code>orders</code> collection using the chosen shard key.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3RlcCAxOiBFbmFibGUgc2hhcmRpbmcgb24gdGhlIGRhdGFiYXNlCnVzZSBhZG1pbgpkYi5ydW5Db21tYW5kKHsgZW5hYmxlU2hhcmRpbmc6ICJ0ZXN0REIiIH0pCgovLyBTdGVwIDI6IENob29zZSBhIHNoYXJkIGtleQovLyBGb3IgdGhpcyBleGFtcGxlLCB3ZSdsbCB1c2UgdGhlIGBvcmRlcklkYCBmaWVsZCBhcyB0aGUgc2hhcmQga2V5LgoKLy8gU3RlcCAzOiBTaGFyZCB0aGUgY29sbGVjdGlvbgp1c2UgdGVzdERCCmRiLnJ1bkNvbW1hbmQoewogIHNoYXJkQ29sbGVjdGlvbjogInRlc3REQi5vcmRlcnMiLAogIGtleTogeyBvcmRlcklkOiAxIH0KfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Step 1: Enable sharding on the database
use admin
db.runCommand({ enableSharding: &quot;testDB&quot; })

// Step 2: Choose a shard key
// For this example, we'll use the `orderId` field as the shard key.

// Step 3: Shard the collection
use testDB
db.runCommand({
  shardCollection: &quot;testDB.orders&quot;,
  key: { orderId: 1 }
})</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Choosing a Poor Shard Key</strong>: A poor shard key can lead to unbalanced data distribution. Ensure your shard key has high cardinality and is evenly distributed.</li>
<li><strong>Ignoring Indexes</strong>: Always index your shard key to improve query performance.</li>
<li><strong>Not Monitoring Shard Balancing</strong>: Regularly monitor your shards to ensure data is evenly distributed.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Sharding is a powerful feature in MongoDB that allows you to scale your database horizontally. By distributing data across multiple machines, you can handle larger datasets and higher throughput. Remember to choose your shard key wisely and monitor your shards to maintain balanced data distribution. In the next section, we will explore transactions in MongoDB, which allow you to perform multiple operations atomically.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-01-replication' title="Replication" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='05-03-transactions' title="Transactions" class="py-2 px-3 btn btn-primary"
				data-read-mod="mongodb" data-read-unit="5-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='05-03-transactions' title="Transactions" class="py-2 px-3 btn btn-primary" 
				data-read-mod="mongodb" data-read-unit="5-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>MongoDB Course</h1>
<h2>Module 1: Introduction to MongoDB</h2>
<ul>
<li><a href="01-01-what-is-mongodb">What is MongoDB?</a></li>
<li><a href="01-02-installing-mongodb">Installing MongoDB</a></li>
<li><a href="01-03-mongodb-basics">MongoDB Basics</a></li>
<li><a href="01-04-mongodb-vs-sql-databases">MongoDB vs. SQL Databases</a></li>
</ul>
<h2>Module 2: MongoDB CRUD Operations</h2>
<ul>
<li><a href="02-01-creating-documents">Creating Documents</a></li>
<li><a href="02-02-reading-documents">Reading Documents</a></li>
<li><a href="02-03-updating-documents">Updating Documents</a></li>
<li><a href="02-04-deleting-documents">Deleting Documents</a></li>
</ul>
<h2>Module 3: Data Modeling in MongoDB</h2>
<ul>
<li><a href="03-01-schema-design">Schema Design</a></li>
<li><a href="03-02-embedded-documents">Embedded Documents</a></li>
<li><a href="03-03-references">References</a></li>
<li><a href="03-04-data-types">Data Types</a></li>
</ul>
<h2>Module 4: Indexing and Aggregation</h2>
<ul>
<li><a href="04-01-creating-indexes">Creating Indexes</a></li>
<li><a href="04-02-types-of-indexes">Types of Indexes</a></li>
<li><a href="04-03-aggregation-framework">Aggregation Framework</a></li>
<li><a href="04-04-using-pipelines">Using Pipelines</a></li>
</ul>
<h2>Module 5: Advanced MongoDB Features</h2>
<ul>
<li><a href="05-01-replication">Replication</a></li>
<li><a href="05-02-sharding">Sharding</a></li>
<li><a href="05-03-transactions">Transactions</a></li>
<li><a href="05-04-mongodb-atlas">MongoDB Atlas</a></li>
</ul>
<h2>Module 6: Performance and Security</h2>
<ul>
<li><a href="06-01-performance-tuning">Performance Tuning</a></li>
<li><a href="06-02-backup-and-restore">Backup and Restore</a></li>
<li><a href="06-03-security-best-practices">Security Best Practices</a></li>
<li><a href="06-04-monitoring-and-alerts">Monitoring and Alerts</a></li>
</ul>
<h2>Module 7: MongoDB with Programming Languages</h2>
<ul>
<li><a href="07-01-mongodb-with-javascript">MongoDB with JavaScript (Node.js)</a></li>
<li><a href="07-02-mongodb-with-python">MongoDB with Python</a></li>
<li><a href="07-03-mongodb-with-java">MongoDB with Java</a></li>
<li><a href="07-04-mongodb-with-csharp">MongoDB with C#</a></li>
</ul>
<h2>Module 8: Real-World Applications</h2>
<ul>
<li><a href="08-01-building-rest-api">Building a REST API with MongoDB</a></li>
<li><a href="08-02-ecommerce-application">E-commerce Application</a></li>
<li><a href="08-03-social-media-application">Social Media Application</a></li>
<li><a href="08-04-iot-data-management">IoT Data Management</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
