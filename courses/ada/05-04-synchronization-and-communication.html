<!DOCTYPE html>
<html lang="en">
<head>
    <title> Synchronization and Communication </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/ada/05-04-synchronization-and-communication" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/ada/05-04-synchronization-and-communication" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/ada/05-04-synchronization-and-communication" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "ada";
  		var TEMA_NAME = "5-4";
  		var TYPE = "mod";
  		var PATH = "mod/ada/05-04-synchronization-and-communication";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/ada/05-04-synchronization-and-communication" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/ada/05-04-synchronization-and-communication" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="ada">
		<a  href="#" class="text-secondary d-none" data-read-mod="ada" data-read-unit="5-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="ada" data-unread-unit="5-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-real-time-systems' title="Real-Time Systems" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-real-time-systems' title="Real-Time Systems" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Synchronization and Communication</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-01-exception-handling' title="Exception Handling" class="py-2 px-3 btn btn-primary"
				data-read-mod="ada" data-read-unit="5-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-01-exception-handling' title="Exception Handling" class="py-2 px-3 btn btn-primary" 
				data-read-mod="ada" data-read-unit="5-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the concepts of synchronization and communication in Ada, which are crucial for developing concurrent and real-time systems. We will cover the following topics:</p>
<ol>
<li><strong>Introduction to Synchronization and Communication</strong></li>
<li><strong>Protected Objects</strong></li>
<li><strong>Task Synchronization</strong></li>
<li><strong>Inter-Task Communication</strong></li>
<li><strong>Practical Examples</strong></li>
<li><strong>Exercises</strong></li>
</ol>
</div><h1><ol>
<li>Introduction to Synchronization and Communication</li>
</ol></h1>
<div class='content'><p>Synchronization and communication are essential in concurrent programming to ensure that tasks (threads) can work together without conflicts and share data safely. Ada provides robust mechanisms to handle these aspects efficiently.</p>
</div><h1><ol start="2">
<li>Protected Objects</li>
</ol></h1>
<div class='content'><p>Protected objects in Ada are used to ensure mutual exclusion and synchronization between tasks. They encapsulate data and provide synchronized access to it through protected operations.</p>
</div><h2>Key Concepts:</h2>
<div class='content'><ul>
<li><strong>Protected Type</strong>: A type that defines a protected object.</li>
<li><strong>Protected Operations</strong>: Procedures, functions, and entries that provide synchronized access to the protected data.</li>
</ul>
</div><h2>Example:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdGVjdGVkIHR5cGUgU2hhcmVkX0NvdW50ZXIgaXMKICAgcHJvY2VkdXJlIEluY3JlbWVudDsKICAgZnVuY3Rpb24gR2V0X1ZhbHVlIHJldHVybiBJbnRlZ2VyOwpwcml2YXRlCiAgIENvdW50ZXIgOiBJbnRlZ2VyIDo9IDA7CmVuZCBTaGFyZWRfQ291bnRlcjsKCnByb3RlY3RlZCBib2R5IFNoYXJlZF9Db3VudGVyIGlzCiAgIHByb2NlZHVyZSBJbmNyZW1lbnQgaXMKICAgYmVnaW4KICAgICAgQ291bnRlciA6PSBDb3VudGVyICsgMTsKICAgZW5kIEluY3JlbWVudDsKCiAgIGZ1bmN0aW9uIEdldF9WYWx1ZSByZXR1cm4gSW50ZWdlciBpcwogICBiZWdpbgogICAgICByZXR1cm4gQ291bnRlcjsKICAgZW5kIEdldF9WYWx1ZTsKZW5kIFNoYXJlZF9Db3VudGVyOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>protected type Shared_Counter is
   procedure Increment;
   function Get_Value return Integer;
private
   Counter : Integer := 0;
end Shared_Counter;

protected body Shared_Counter is
   procedure Increment is
   begin
      Counter := Counter + 1;
   end Increment;

   function Get_Value return Integer is
   begin
      return Counter;
   end Get_Value;
end Shared_Counter;</pre></div><div class='content'><p>In this example, <code>Shared_Counter</code> is a protected type with an <code>Increment</code> procedure and a <code>Get_Value</code> function. The <code>Counter</code> variable is protected and can only be accessed through these operations.</p>
</div><h1><ol start="3">
<li>Task Synchronization</li>
</ol></h1>
<div class='content'><p>Ada provides several mechanisms for task synchronization, including protected objects, rendezvous, and delay statements.</p>
</div><h2>Rendezvous:</h2>
<div class='content'><p>A rendezvous is a synchronization mechanism where one task waits for another to reach a specific point of execution.</p>
</div><h2>Example:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGFzayB0eXBlIFNlcnZlciBpcwogICBlbnRyeSBQcm9jZXNzX1JlcXVlc3Q7CmVuZCBTZXJ2ZXI7Cgp0YXNrIGJvZHkgU2VydmVyIGlzCmJlZ2luCiAgIGFjY2VwdCBQcm9jZXNzX1JlcXVlc3QgZG8KICAgICAgLS0gUHJvY2VzcyB0aGUgcmVxdWVzdAogICBlbmQgUHJvY2Vzc19SZXF1ZXN0OwplbmQgU2VydmVyOwoKdGFzayBib2R5IENsaWVudCBpcwpiZWdpbgogICBTZXJ2ZXIuUHJvY2Vzc19SZXF1ZXN0OwplbmQgQ2xpZW50Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>task type Server is
   entry Process_Request;
end Server;

task body Server is
begin
   accept Process_Request do
      -- Process the request
   end Process_Request;
end Server;

task body Client is
begin
   Server.Process_Request;
end Client;</pre></div><div class='content'><p>In this example, the <code>Server</code> task has an entry <code>Process_Request</code>, and the <code>Client</code> task calls this entry, causing a rendezvous.</p>
</div><h1><ol start="4">
<li>Inter-Task Communication</li>
</ol></h1>
<div class='content'><p>Inter-task communication in Ada can be achieved using protected objects, message passing, and shared variables.</p>
</div><h2>Message Passing:</h2>
<div class='content'><p>Tasks can communicate by sending and receiving messages through entries.</p>
</div><h2>Example:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGFzayB0eXBlIFByb2R1Y2VyIGlzCiAgIGVudHJ5IFNlbmRfTWVzc2FnZSAoTXNnIDogaW4gU3RyaW5nKTsKZW5kIFByb2R1Y2VyOwoKdGFzayB0eXBlIENvbnN1bWVyIGlzCiAgIGVudHJ5IFJlY2VpdmVfTWVzc2FnZSAoTXNnIDogb3V0IFN0cmluZyk7CmVuZCBDb25zdW1lcjsKCnRhc2sgYm9keSBQcm9kdWNlciBpcwpiZWdpbgogICBDb25zdW1lci5SZWNlaXZlX01lc3NhZ2UgKCJIZWxsbyBmcm9tIFByb2R1Y2VyIik7CmVuZCBQcm9kdWNlcjsKCnRhc2sgYm9keSBDb25zdW1lciBpcwogICBNc2cgOiBTdHJpbmcgKDEgLi4gMjApOwpiZWdpbgogICBhY2NlcHQgUmVjZWl2ZV9NZXNzYWdlIChNc2cgOiBvdXQgU3RyaW5nKSBkbwogICAgICBNc2cgOj0gIkhlbGxvIGZyb20gUHJvZHVjZXIiOwogICBlbmQgUmVjZWl2ZV9NZXNzYWdlOwplbmQgQ29uc3VtZXI7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>task type Producer is
   entry Send_Message (Msg : in String);
end Producer;

task type Consumer is
   entry Receive_Message (Msg : out String);
end Consumer;

task body Producer is
begin
   Consumer.Receive_Message (&quot;Hello from Producer&quot;);
end Producer;

task body Consumer is
   Msg : String (1 .. 20);
begin
   accept Receive_Message (Msg : out String) do
      Msg := &quot;Hello from Producer&quot;;
   end Receive_Message;
end Consumer;</pre></div><div class='content'><p>In this example, the <code>Producer</code> task sends a message to the <code>Consumer</code> task using the <code>Receive_Message</code> entry.</p>
</div><h1><ol start="5">
<li>Practical Examples</li>
</ol></h1>
<div class='content'></div><h2>Example 1: Using Protected Objects for Synchronization</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2l0aCBBZGEuVGV4dF9JTzsgdXNlIEFkYS5UZXh0X0lPOwoKcHJvdGVjdGVkIHR5cGUgU2hhcmVkX0J1ZmZlciBpcwogICBwcm9jZWR1cmUgV3JpdGUgKEl0ZW0gOiBpbiBJbnRlZ2VyKTsKICAgZnVuY3Rpb24gUmVhZCByZXR1cm4gSW50ZWdlcjsKcHJpdmF0ZQogICBCdWZmZXIgOiBJbnRlZ2VyIDo9IDA7CiAgIEZ1bGwgOiBCb29sZWFuIDo9IEZhbHNlOwplbmQgU2hhcmVkX0J1ZmZlcjsKCnByb3RlY3RlZCBib2R5IFNoYXJlZF9CdWZmZXIgaXMKICAgcHJvY2VkdXJlIFdyaXRlIChJdGVtIDogaW4gSW50ZWdlcikgaXMKICAgYmVnaW4KICAgICAgaWYgbm90IEZ1bGwgdGhlbgogICAgICAgICBCdWZmZXIgOj0gSXRlbTsKICAgICAgICAgRnVsbCA6PSBUcnVlOwogICAgICBlbmQgaWY7CiAgIGVuZCBXcml0ZTsKCiAgIGZ1bmN0aW9uIFJlYWQgcmV0dXJuIEludGVnZXIgaXMKICAgYmVnaW4KICAgICAgaWYgRnVsbCB0aGVuCiAgICAgICAgIEZ1bGwgOj0gRmFsc2U7CiAgICAgICAgIHJldHVybiBCdWZmZXI7CiAgICAgIGVsc2UKICAgICAgICAgcmV0dXJuIC0xOyAtLSBJbmRpY2F0ZSBidWZmZXIgaXMgZW1wdHkKICAgICAgZW5kIGlmOwogICBlbmQgUmVhZDsKZW5kIFNoYXJlZF9CdWZmZXI7Cgp0YXNrIHR5cGUgUHJvZHVjZXIgKEJ1ZmZlciA6IGFjY2VzcyBTaGFyZWRfQnVmZmVyKSBpcwplbmQgUHJvZHVjZXI7Cgp0YXNrIGJvZHkgUHJvZHVjZXIgaXMKYmVnaW4KICAgZm9yIEkgaW4gMSAuLiAxMCBsb29wCiAgICAgIEJ1ZmZlci5Xcml0ZSAoSSk7CiAgICAgIGRlbGF5IDAuMTsKICAgZW5kIGxvb3A7CmVuZCBQcm9kdWNlcjsKCnRhc2sgdHlwZSBDb25zdW1lciAoQnVmZmVyIDogYWNjZXNzIFNoYXJlZF9CdWZmZXIpIGlzCmVuZCBDb25zdW1lcjsKCnRhc2sgYm9keSBDb25zdW1lciBpcwogICBJdGVtIDogSW50ZWdlcjsKYmVnaW4KICAgbG9vcAogICAgICBJdGVtIDo9IEJ1ZmZlci5SZWFkOwogICAgICBpZiBJdGVtIC89IC0xIHRoZW4KICAgICAgICAgUHV0X0xpbmUgKCJDb25zdW1lZDogIiAmIEludGVnZXInSW1hZ2UgKEl0ZW0pKTsKICAgICAgZW5kIGlmOwogICAgICBkZWxheSAwLjI7CiAgIGVuZCBsb29wOwplbmQgQ29uc3VtZXI7Cgpwcm9jZWR1cmUgTWFpbiBpcwogICBTaGFyZWQgOiBhbGlhc2VkIFNoYXJlZF9CdWZmZXI7CiAgIFByb2QgOiBQcm9kdWNlciAoQnVmZmVyID0+IFNoYXJlZCdBY2Nlc3MpOwogICBDb25zIDogQ29uc3VtZXIgKEJ1ZmZlciA9PiBTaGFyZWQnQWNjZXNzKTsKYmVnaW4KICAgbnVsbDsKZW5kIE1haW47"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>with Ada.Text_IO; use Ada.Text_IO;

protected type Shared_Buffer is
   procedure Write (Item : in Integer);
   function Read return Integer;
private
   Buffer : Integer := 0;
   Full : Boolean := False;
end Shared_Buffer;

protected body Shared_Buffer is
   procedure Write (Item : in Integer) is
   begin
      if not Full then
         Buffer := Item;
         Full := True;
      end if;
   end Write;

   function Read return Integer is
   begin
      if Full then
         Full := False;
         return Buffer;
      else
         return -1; -- Indicate buffer is empty
      end if;
   end Read;
end Shared_Buffer;

task type Producer (Buffer : access Shared_Buffer) is
end Producer;

task body Producer is
begin
   for I in 1 .. 10 loop
      Buffer.Write (I);
      delay 0.1;
   end loop;
end Producer;

task type Consumer (Buffer : access Shared_Buffer) is
end Consumer;

task body Consumer is
   Item : Integer;
begin
   loop
      Item := Buffer.Read;
      if Item /= -1 then
         Put_Line (&quot;Consumed: &quot; &amp; Integer'Image (Item));
      end if;
      delay 0.2;
   end loop;
end Consumer;

procedure Main is
   Shared : aliased Shared_Buffer;
   Prod : Producer (Buffer =&gt; Shared'Access);
   Cons : Consumer (Buffer =&gt; Shared'Access);
begin
   null;
end Main;</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>Shared_Buffer</code> is a protected object that ensures synchronized access to a buffer.</li>
<li><code>Producer</code> writes to the buffer, and <code>Consumer</code> reads from it.</li>
<li>The <code>Main</code> procedure creates instances of <code>Producer</code> and <code>Consumer</code> tasks, sharing the <code>Shared_Buffer</code>.</li>
</ul>
</div><h1><ol start="6">
<li>Exercises</li>
</ol></h1>
<div class='content'></div><h2>Exercise 1: Implement a Bounded Buffer</h2>
<div class='content'><p>Create a bounded buffer using protected objects. The buffer should have a fixed size, and producers should wait if the buffer is full, while consumers should wait if the buffer is empty.</p>
</div><h2>Solution:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdGVjdGVkIHR5cGUgQm91bmRlZF9CdWZmZXIgKFNpemUgOiBQb3NpdGl2ZSkgaXMKICAgZW50cnkgV3JpdGUgKEl0ZW0gOiBpbiBJbnRlZ2VyKTsKICAgZW50cnkgUmVhZCAoSXRlbSA6IG91dCBJbnRlZ2VyKTsKcHJpdmF0ZQogICBCdWZmZXIgOiBhcnJheSAoMSAuLiBTaXplKSBvZiBJbnRlZ2VyOwogICBDb3VudCA6IE5hdHVyYWwgOj0gMDsKICAgSW5fSW5kZXggOiBQb3NpdGl2ZSA6PSAxOwogICBPdXRfSW5kZXggOiBQb3NpdGl2ZSA6PSAxOwplbmQgQm91bmRlZF9CdWZmZXI7Cgpwcm90ZWN0ZWQgYm9keSBCb3VuZGVkX0J1ZmZlciBpcwogICBlbnRyeSBXcml0ZSAoSXRlbSA6IGluIEludGVnZXIpIHdoZW4gQ291bnQgPCBTaXplIGlzCiAgIGJlZ2luCiAgICAgIEJ1ZmZlciAoSW5fSW5kZXgpIDo9IEl0ZW07CiAgICAgIEluX0luZGV4IDo9IChJbl9JbmRleCBtb2QgU2l6ZSkgKyAxOwogICAgICBDb3VudCA6PSBDb3VudCArIDE7CiAgIGVuZCBXcml0ZTsKCiAgIGVudHJ5IFJlYWQgKEl0ZW0gOiBvdXQgSW50ZWdlcikgd2hlbiBDb3VudCA+IDAgaXMKICAgYmVnaW4KICAgICAgSXRlbSA6PSBCdWZmZXIgKE91dF9JbmRleCk7CiAgICAgIE91dF9JbmRleCA6PSAoT3V0X0luZGV4IG1vZCBTaXplKSArIDE7CiAgICAgIENvdW50IDo9IENvdW50IC0gMTsKICAgZW5kIFJlYWQ7CmVuZCBCb3VuZGVkX0J1ZmZlcjsKCnRhc2sgdHlwZSBQcm9kdWNlciAoQnVmZmVyIDogYWNjZXNzIEJvdW5kZWRfQnVmZmVyKSBpcwplbmQgUHJvZHVjZXI7Cgp0YXNrIGJvZHkgUHJvZHVjZXIgaXMKYmVnaW4KICAgZm9yIEkgaW4gMSAuLiAyMCBsb29wCiAgICAgIEJ1ZmZlci5Xcml0ZSAoSSk7CiAgICAgIGRlbGF5IDAuMTsKICAgZW5kIGxvb3A7CmVuZCBQcm9kdWNlcjsKCnRhc2sgdHlwZSBDb25zdW1lciAoQnVmZmVyIDogYWNjZXNzIEJvdW5kZWRfQnVmZmVyKSBpcwplbmQgQ29uc3VtZXI7Cgp0YXNrIGJvZHkgQ29uc3VtZXIgaXMKICAgSXRlbSA6IEludGVnZXI7CmJlZ2luCiAgIGxvb3AKICAgICAgQnVmZmVyLlJlYWQgKEl0ZW0pOwogICAgICBQdXRfTGluZSAoIkNvbnN1bWVkOiAiICYgSW50ZWdlcidJbWFnZSAoSXRlbSkpOwogICAgICBkZWxheSAwLjI7CiAgIGVuZCBsb29wOwplbmQgQ29uc3VtZXI7Cgpwcm9jZWR1cmUgTWFpbiBpcwogICBTaGFyZWQgOiBhbGlhc2VkIEJvdW5kZWRfQnVmZmVyIChTaXplID0+IDUpOwogICBQcm9kIDogUHJvZHVjZXIgKEJ1ZmZlciA9PiBTaGFyZWQnQWNjZXNzKTsKICAgQ29ucyA6IENvbnN1bWVyIChCdWZmZXIgPT4gU2hhcmVkJ0FjY2Vzcyk7CmJlZ2luCiAgIG51bGw7CmVuZCBNYWluOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>protected type Bounded_Buffer (Size : Positive) is
   entry Write (Item : in Integer);
   entry Read (Item : out Integer);
private
   Buffer : array (1 .. Size) of Integer;
   Count : Natural := 0;
   In_Index : Positive := 1;
   Out_Index : Positive := 1;
end Bounded_Buffer;

protected body Bounded_Buffer is
   entry Write (Item : in Integer) when Count &lt; Size is
   begin
      Buffer (In_Index) := Item;
      In_Index := (In_Index mod Size) + 1;
      Count := Count + 1;
   end Write;

   entry Read (Item : out Integer) when Count &gt; 0 is
   begin
      Item := Buffer (Out_Index);
      Out_Index := (Out_Index mod Size) + 1;
      Count := Count - 1;
   end Read;
end Bounded_Buffer;

task type Producer (Buffer : access Bounded_Buffer) is
end Producer;

task body Producer is
begin
   for I in 1 .. 20 loop
      Buffer.Write (I);
      delay 0.1;
   end loop;
end Producer;

task type Consumer (Buffer : access Bounded_Buffer) is
end Consumer;

task body Consumer is
   Item : Integer;
begin
   loop
      Buffer.Read (Item);
      Put_Line (&quot;Consumed: &quot; &amp; Integer'Image (Item));
      delay 0.2;
   end loop;
end Consumer;

procedure Main is
   Shared : aliased Bounded_Buffer (Size =&gt; 5);
   Prod : Producer (Buffer =&gt; Shared'Access);
   Cons : Consumer (Buffer =&gt; Shared'Access);
begin
   null;
end Main;</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>Bounded_Buffer</code> is a protected object with a fixed size.</li>
<li><code>Write</code> and <code>Read</code> entries ensure that producers wait if the buffer is full and consumers wait if the buffer is empty.</li>
<li>The <code>Main</code> procedure creates instances of <code>Producer</code> and <code>Consumer</code> tasks, sharing the <code>Bounded_Buffer</code>.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the essential concepts of synchronization and communication in Ada, including protected objects, task synchronization, and inter-task communication. We provided practical examples and exercises to reinforce the learned concepts. Understanding these mechanisms is crucial for developing robust concurrent and real-time systems in Ada. In the next module, we will delve into advanced topics such as exception handling and input/output operations.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='05-03-real-time-systems' title="Real-Time Systems" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='05-03-real-time-systems' title="Real-Time Systems" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-01-exception-handling' title="Exception Handling" class="py-2 px-3 btn btn-primary"
				data-read-mod="ada" data-read-unit="5-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-01-exception-handling' title="Exception Handling" class="py-2 px-3 btn btn-primary" 
				data-read-mod="ada" data-read-unit="5-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Ada Programming Course</h1>
<h2>Module 1: Introduction to Ada</h2>
<ul>
<li><a href="01-01-introduction-to-ada">Introduction to Ada</a></li>
<li><a href="01-02-setting-up-ada-environment">Setting Up the Ada Environment</a></li>
<li><a href="01-03-hello-world-in-ada">Hello World in Ada</a></li>
<li><a href="01-04-basic-syntax-and-structure">Basic Syntax and Structure</a></li>
</ul>
<h2>Module 2: Basic Concepts</h2>
<ul>
<li><a href="02-01-variables-and-data-types">Variables and Data Types</a></li>
<li><a href="02-02-operators-and-expressions">Operators and Expressions</a></li>
<li><a href="02-03-control-structures">Control Structures</a></li>
<li><a href="02-04-loops-in-ada">Loops in Ada</a></li>
<li><a href="02-05-subprograms-procedures-and-functions">Subprograms: Procedures and Functions</a></li>
</ul>
<h2>Module 3: Advanced Data Types</h2>
<ul>
<li><a href="03-01-arrays">Arrays</a></li>
<li><a href="03-02-records">Records</a></li>
<li><a href="03-03-enumerations">Enumerations</a></li>
<li><a href="03-04-access-types-and-pointers">Access Types and Pointers</a></li>
</ul>
<h2>Module 4: Modular Programming</h2>
<ul>
<li><a href="04-01-packages">Packages</a></li>
<li><a href="04-02-generic-units">Generic Units</a></li>
<li><a href="04-03-child-packages">Child Packages</a></li>
<li><a href="04-04-private-types-and-private-packages">Private Types and Private Packages</a></li>
</ul>
<h2>Module 5: Concurrency and Real-Time Programming</h2>
<ul>
<li><a href="05-01-tasks-and-concurrency">Tasks and Concurrency</a></li>
<li><a href="05-02-protected-objects">Protected Objects</a></li>
<li><a href="05-03-real-time-systems">Real-Time Systems</a></li>
<li><a href="05-04-synchronization-and-communication">Synchronization and Communication</a></li>
</ul>
<h2>Module 6: Advanced Topics</h2>
<ul>
<li><a href="06-01-exception-handling">Exception Handling</a></li>
<li><a href="06-02-input-output">Input/Output</a></li>
<li><a href="06-03-file-handling">File Handling</a></li>
<li><a href="06-04-interfacing-with-other-languages">Interfacing with Other Languages</a></li>
</ul>
<h2>Module 7: Best Practices and Optimization</h2>
<ul>
<li><a href="07-01-code-style-and-best-practices">Code Style and Best Practices</a></li>
<li><a href="07-02-debugging-and-testing">Debugging and Testing</a></li>
<li><a href="07-03-performance-optimization">Performance Optimization</a></li>
<li><a href="07-04-security-considerations">Security Considerations</a></li>
</ul>
<h2>Module 8: Project and Case Studies</h2>
<ul>
<li><a href="08-01-building-a-complete-ada-project">Building a Complete Ada Project</a></li>
<li><a href="08-02-case-study-1-real-time-application">Case Study 1: Real-Time Application</a></li>
<li><a href="08-03-case-study-2-data-processing-system">Case Study 2: Data Processing System</a></li>
<li><a href="08-04-case-study-3-embedded-systems">Case Study 3: Embedded Systems</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
