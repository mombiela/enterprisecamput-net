<!DOCTYPE html>
<html lang="en">
<head>
    <title> Middleware </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/django/03-04-middleware" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/django/03-04-middleware" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/django/03-04-middleware" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "django";
  		var TEMA_NAME = "3-4";
  		var TYPE = "mod";
  		var PATH = "mod/django/03-04-middleware";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.e0e4cfcd99.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/django/03-04-middleware" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/django/03-04-middleware" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="django">
		<a  href="#" class="text-secondary d-none" data-read-mod="django" data-read-unit="3-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="django" data-unread-unit="3-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-03-user-authentication' title="User Authentication" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-03-user-authentication' title="User Authentication" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Middleware</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-05-file-uploads' title="File Uploads" class="py-2 px-3 btn btn-primary"
				data-read-mod="django" data-read-unit="3-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-05-file-uploads' title="File Uploads" class="py-2 px-3 btn btn-primary" 
				data-read-mod="django" data-read-unit="3-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Middleware is a powerful feature in Django that allows you to process requests globally before they reach the view or after the view has processed them. Middleware components are executed in a specific order and can be used for various purposes such as authentication, logging, session management, and more.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Definition</strong>: Middleware is a layer between the Django request and response cycle that can process requests and responses globally.</li>
<li><strong>Order of Execution</strong>: Middleware components are executed in the order they are defined in the <code>MIDDLEWARE</code> setting.</li>
<li><strong>Types of Middleware</strong>:
<ul>
<li><strong>Request Middleware</strong>: Processes the request before it reaches the view.</li>
<li><strong>View Middleware</strong>: Processes the view before it is called.</li>
<li><strong>Exception Middleware</strong>: Processes exceptions raised by the view.</li>
<li><strong>Response Middleware</strong>: Processes the response before it is returned to the client.</li>
</ul>
</li>
</ol>
</div><h2>Setting Up Middleware</h2>
<div class='content'><p>Middleware is defined in the <code>MIDDLEWARE</code> setting in the <code>settings.py</code> file of your Django project. Here is an example of how middleware is listed:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQoKTUlERExFV0FSRSA9IFsKICAgICdkamFuZ28ubWlkZGxld2FyZS5zZWN1cml0eS5TZWN1cml0eU1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5jb250cmliLnNlc3Npb25zLm1pZGRsZXdhcmUuU2Vzc2lvbk1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5taWRkbGV3YXJlLmNvbW1vbi5Db21tb25NaWRkbGV3YXJlJywKICAgICdkamFuZ28ubWlkZGxld2FyZS5jc3JmLkNzcmZWaWV3TWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIuYXV0aC5taWRkbGV3YXJlLkF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIubWVzc2FnZXMubWlkZGxld2FyZS5NZXNzYWdlTWlkZGxld2FyZScsCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuY2xpY2tqYWNraW5nLlhGcmFtZU9wdGlvbnNNaWRkbGV3YXJlJywKXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]</pre></div><div class='content'></div><h2>Creating Custom Middleware</h2>
<div class='content'><p>To create custom middleware, you need to define a class with specific methods. Here is a simple example of custom middleware that logs the time taken to process a request:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBteWFwcC9taWRkbGV3YXJlLnB5CgppbXBvcnQgdGltZQoKY2xhc3MgUmVxdWVzdFRpbWVMb2dnaW5nTWlkZGxld2FyZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBnZXRfcmVzcG9uc2UpOgogICAgICAgIHNlbGYuZ2V0X3Jlc3BvbnNlID0gZ2V0X3Jlc3BvbnNlCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHN0YXJ0X3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHJlc3BvbnNlID0gc2VsZi5nZXRfcmVzcG9uc2UocmVxdWVzdCkKICAgICAgICBlbmRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgZHVyYXRpb24gPSBlbmRfdGltZSAtIHN0YXJ0X3RpbWUKICAgICAgICBwcmludChmIlJlcXVlc3QgdG9vayB7ZHVyYXRpb246LjJmfSBzZWNvbmRzIikKICAgICAgICByZXR1cm4gcmVzcG9uc2U="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># myapp/middleware.py

import time

class RequestTimeLoggingMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response

    def __call__(self, request):
        start_time = time.time()
        response = self.get_response(request)
        end_time = time.time()
        duration = end_time - start_time
        print(f&quot;Request took {duration:.2f} seconds&quot;)
        return response</pre></div><div class='content'><p>To use this middleware, add it to the <code>MIDDLEWARE</code> setting:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQoKTUlERExFV0FSRSA9IFsKICAgICdkamFuZ28ubWlkZGxld2FyZS5zZWN1cml0eS5TZWN1cml0eU1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5jb250cmliLnNlc3Npb25zLm1pZGRsZXdhcmUuU2Vzc2lvbk1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5taWRkbGV3YXJlLmNvbW1vbi5Db21tb25NaWRkbGV3YXJlJywKICAgICdkamFuZ28ubWlkZGxld2FyZS5jc3JmLkNzcmZWaWV3TWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIuYXV0aC5taWRkbGV3YXJlLkF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIubWVzc2FnZXMubWlkZGxld2FyZS5NZXNzYWdlTWlkZGxld2FyZScsCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuY2xpY2tqYWNraW5nLlhGcmFtZU9wdGlvbnNNaWRkbGV3YXJlJywKICAgICdteWFwcC5taWRkbGV3YXJlLlJlcXVlc3RUaW1lTG9nZ2luZ01pZGRsZXdhcmUnLCAgIyBBZGQgeW91ciBjdXN0b20gbWlkZGxld2FyZSBoZXJlCl0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
    'myapp.middleware.RequestTimeLoggingMiddleware',  # Add your custom middleware here
]</pre></div><div class='content'></div><h2>Practical Example</h2>
<div class='content'><p>Let's create a middleware that adds a custom header to every response:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBteWFwcC9taWRkbGV3YXJlLnB5CgpjbGFzcyBDdXN0b21IZWFkZXJNaWRkbGV3YXJlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGdldF9yZXNwb25zZSk6CiAgICAgICAgc2VsZi5nZXRfcmVzcG9uc2UgPSBnZXRfcmVzcG9uc2UKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgcmVxdWVzdCk6CiAgICAgICAgcmVzcG9uc2UgPSBzZWxmLmdldF9yZXNwb25zZShyZXF1ZXN0KQogICAgICAgIHJlc3BvbnNlWydYLUN1c3RvbS1IZWFkZXInXSA9ICdNeSBDdXN0b20gVmFsdWUnCiAgICAgICAgcmV0dXJuIHJlc3BvbnNl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># myapp/middleware.py

class CustomHeaderMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response

    def __call__(self, request):
        response = self.get_response(request)
        response['X-Custom-Header'] = 'My Custom Value'
        return response</pre></div><div class='content'><p>Add this middleware to the <code>MIDDLEWARE</code> setting:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQoKTUlERExFV0FSRSA9IFsKICAgICdkamFuZ28ubWlkZGxld2FyZS5zZWN1cml0eS5TZWN1cml0eU1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5jb250cmliLnNlc3Npb25zLm1pZGRsZXdhcmUuU2Vzc2lvbk1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5taWRkbGV3YXJlLmNvbW1vbi5Db21tb25NaWRkbGV3YXJlJywKICAgICdkamFuZ28ubWlkZGxld2FyZS5jc3JmLkNzcmZWaWV3TWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIuYXV0aC5taWRkbGV3YXJlLkF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIubWVzc2FnZXMubWlkZGxld2FyZS5NZXNzYWdlTWlkZGxld2FyZScsCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuY2xpY2tqYWNraW5nLlhGcmFtZU9wdGlvbnNNaWRkbGV3YXJlJywKICAgICdteWFwcC5taWRkbGV3YXJlLkN1c3RvbUhlYWRlck1pZGRsZXdhcmUnLCAgIyBBZGQgeW91ciBjdXN0b20gbWlkZGxld2FyZSBoZXJlCl0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
    'myapp.middleware.CustomHeaderMiddleware',  # Add your custom middleware here
]</pre></div><div class='content'></div><h2>Exercises</h2>
<div class='content'></div><h3>Exercise 1: Logging Middleware</h3>
<div class='content'><p>Create a middleware that logs the IP address of the client making the request.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBteWFwcC9taWRkbGV3YXJlLnB5CgpjbGFzcyBDbGllbnRJUExvZ2dpbmdNaWRkbGV3YXJlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGdldF9yZXNwb25zZSk6CiAgICAgICAgc2VsZi5nZXRfcmVzcG9uc2UgPSBnZXRfcmVzcG9uc2UKCiAgICBkZWYgX19jYWxsX18oc2VsZiwgcmVxdWVzdCk6CiAgICAgICAgY2xpZW50X2lwID0gcmVxdWVzdC5NRVRBLmdldCgnUkVNT1RFX0FERFInKQogICAgICAgIHByaW50KGYiQ2xpZW50IElQOiB7Y2xpZW50X2lwfSIpCiAgICAgICAgcmVzcG9uc2UgPSBzZWxmLmdldF9yZXNwb25zZShyZXF1ZXN0KQogICAgICAgIHJldHVybiByZXNwb25zZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># myapp/middleware.py

class ClientIPLoggingMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response

    def __call__(self, request):
        client_ip = request.META.get('REMOTE_ADDR')
        print(f&quot;Client IP: {client_ip}&quot;)
        response = self.get_response(request)
        return response</pre></div><div class='content'><p>Add this middleware to the <code>MIDDLEWARE</code> setting:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQoKTUlERExFV0FSRSA9IFsKICAgICdkamFuZ28ubWlkZGxld2FyZS5zZWN1cml0eS5TZWN1cml0eU1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5jb250cmliLnNlc3Npb25zLm1pZGRsZXdhcmUuU2Vzc2lvbk1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5taWRkbGV3YXJlLmNvbW1vbi5Db21tb25NaWRkbGV3YXJlJywKICAgICdkamFuZ28ubWlkZGxld2FyZS5jc3JmLkNzcmZWaWV3TWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIuYXV0aC5taWRkbGV3YXJlLkF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIubWVzc2FnZXMubWlkZGxld2FyZS5NZXNzYWdlTWlkZGxld2FyZScsCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuY2xpY2tqYWNraW5nLlhGcmFtZU9wdGlvbnNNaWRkbGV3YXJlJywKICAgICdteWFwcC5taWRkbGV3YXJlLkNsaWVudElQTG9nZ2luZ01pZGRsZXdhcmUnLCAgIyBBZGQgeW91ciBjdXN0b20gbWlkZGxld2FyZSBoZXJlCl0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
    'myapp.middleware.ClientIPLoggingMiddleware',  # Add your custom middleware here
]</pre></div><div class='content'></div><h3>Exercise 2: Response Time Middleware</h3>
<div class='content'><p>Create a middleware that adds a custom header to the response indicating the time taken to process the request.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBteWFwcC9taWRkbGV3YXJlLnB5CgppbXBvcnQgdGltZQoKY2xhc3MgUmVzcG9uc2VUaW1lTWlkZGxld2FyZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBnZXRfcmVzcG9uc2UpOgogICAgICAgIHNlbGYuZ2V0X3Jlc3BvbnNlID0gZ2V0X3Jlc3BvbnNlCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHN0YXJ0X3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHJlc3BvbnNlID0gc2VsZi5nZXRfcmVzcG9uc2UocmVxdWVzdCkKICAgICAgICBlbmRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgZHVyYXRpb24gPSBlbmRfdGltZSAtIHN0YXJ0X3RpbWUKICAgICAgICByZXNwb25zZVsnWC1SZXNwb25zZS1UaW1lJ10gPSBmIntkdXJhdGlvbjouMmZ9IHNlY29uZHMiCiAgICAgICAgcmV0dXJuIHJlc3BvbnNl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># myapp/middleware.py

import time

class ResponseTimeMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response

    def __call__(self, request):
        start_time = time.time()
        response = self.get_response(request)
        end_time = time.time()
        duration = end_time - start_time
        response['X-Response-Time'] = f&quot;{duration:.2f} seconds&quot;
        return response</pre></div><div class='content'><p>Add this middleware to the <code>MIDDLEWARE</code> setting:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQoKTUlERExFV0FSRSA9IFsKICAgICdkamFuZ28ubWlkZGxld2FyZS5zZWN1cml0eS5TZWN1cml0eU1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5jb250cmliLnNlc3Npb25zLm1pZGRsZXdhcmUuU2Vzc2lvbk1pZGRsZXdhcmUnLAogICAgJ2RqYW5nby5taWRkbGV3YXJlLmNvbW1vbi5Db21tb25NaWRkbGV3YXJlJywKICAgICdkamFuZ28ubWlkZGxld2FyZS5jc3JmLkNzcmZWaWV3TWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIuYXV0aC5taWRkbGV3YXJlLkF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZScsCiAgICAnZGphbmdvLmNvbnRyaWIubWVzc2FnZXMubWlkZGxld2FyZS5NZXNzYWdlTWlkZGxld2FyZScsCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuY2xpY2tqYWNraW5nLlhGcmFtZU9wdGlvbnNNaWRkbGV3YXJlJywKICAgICdteWFwcC5taWRkbGV3YXJlLlJlc3BvbnNlVGltZU1pZGRsZXdhcmUnLCAgIyBBZGQgeW91ciBjdXN0b20gbWlkZGxld2FyZSBoZXJlCl0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
    'myapp.middleware.ResponseTimeMiddleware',  # Add your custom middleware here
]</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Order Matters</strong>: The order of middleware in the <code>MIDDLEWARE</code> setting is crucial. Ensure that middleware is placed in the correct order to avoid unexpected behavior.</li>
<li><strong>Exception Handling</strong>: Always handle exceptions in your middleware to prevent the entire application from crashing.</li>
<li><strong>Performance</strong>: Be mindful of the performance impact of your middleware, especially if it involves heavy processing.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Middleware is a versatile tool in Django that allows you to process requests and responses globally. By understanding how to create and use middleware, you can add powerful features to your Django applications. In the next module, we will explore file uploads in Django, which is another essential feature for many web applications.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-03-user-authentication' title="User Authentication" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-03-user-authentication' title="User Authentication" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-05-file-uploads' title="File Uploads" class="py-2 px-3 btn btn-primary"
				data-read-mod="django" data-read-unit="3-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-05-file-uploads' title="File Uploads" class="py-2 px-3 btn btn-primary" 
				data-read-mod="django" data-read-unit="3-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Django Web Development Course</h1>
<h2>Module 1: Introduction to Django</h2>
<ul>
<li><a href="01-01-what-is-django">What is Django?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Development Environment</a></li>
<li><a href="01-03-creating-first-project">Creating Your First Django Project</a></li>
<li><a href="01-04-understanding-project-structure">Understanding Django Project Structure</a></li>
</ul>
<h2>Module 2: Django Basics</h2>
<ul>
<li><a href="02-01-django-apps-and-project-structure">Django Apps and Project Structure</a></li>
<li><a href="02-02-url-routing-and-views">URL Routing and Views</a></li>
<li><a href="02-03-templates-and-static-files">Templates and Static Files</a></li>
<li><a href="02-04-models-and-databases">Models and Databases</a></li>
<li><a href="02-05-django-admin-interface">Django Admin Interface</a></li>
</ul>
<h2>Module 3: Intermediate Django</h2>
<ul>
<li><a href="03-01-form-handling">Form Handling</a></li>
<li><a href="03-02-class-based-views">Class-Based Views</a></li>
<li><a href="03-03-user-authentication">User Authentication</a></li>
<li><a href="03-04-middleware">Middleware</a></li>
<li><a href="03-05-file-uploads">File Uploads</a></li>
</ul>
<h2>Module 4: Advanced Django</h2>
<ul>
<li><a href="04-01-advanced-querying">Advanced Querying with Django ORM</a></li>
<li><a href="04-02-custom-user-models">Custom User Models</a></li>
<li><a href="04-03-django-signals">Django Signals</a></li>
<li><a href="04-04-testing-in-django">Testing in Django</a></li>
<li><a href="04-05-performance-optimization">Performance Optimization</a></li>
</ul>
<h2>Module 5: Deployment and Best Practices</h2>
<ul>
<li><a href="05-01-deploying-django-applications">Deploying Django Applications</a></li>
<li><a href="05-02-security-best-practices">Security Best Practices</a></li>
<li><a href="05-03-using-docker-with-django">Using Docker with Django</a></li>
<li><a href="05-04-continuous-integration-deployment">Continuous Integration and Deployment</a></li>
<li><a href="05-05-maintaining-scaling-django-applications">Maintaining and Scaling Django Applications</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
