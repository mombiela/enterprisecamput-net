<!DOCTYPE html>
<html lang="en">
<head>
    <title> Cloud Load Balancing </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/google-cloud-platform/03-02-cloud-load-balancing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/google-cloud-platform/03-02-cloud-load-balancing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/google-cloud-platform/03-02-cloud-load-balancing" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "tech-tools";
  		var MOD_NAME = "gcp";
  		var TEMA_NAME = "3-2";
  		var TYPE = "mod";
  		var PATH = "mod/gcp/03-02-cloud-load-balancing";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/google-cloud-platform/03-02-cloud-load-balancing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/google-cloud-platform/03-02-cloud-load-balancing" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="gcp">
		<a  href="#" class="text-secondary d-none" data-read-mod="gcp" data-read-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="gcp" data-unread-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-vpc-networks' title="VPC Networks" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-vpc-networks' title="VPC Networks" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Cloud Load Balancing</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-cloud-cdn' title="Cloud CDN" class="py-2 px-3 btn btn-primary"
				data-read-mod="gcp" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-cloud-cdn' title="Cloud CDN" class="py-2 px-3 btn btn-primary" 
				data-read-mod="gcp" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introduction</h2>
<div class='content'><p>Cloud Load Balancing is a fully distributed, software-defined managed service for all your traffic. It provides load balancing for HTTP(S), TCP/SSL, and UDP traffic, and it can be used to distribute traffic across multiple backend instances, regions, and even hybrid environments.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Load Balancer Types</strong>:</p>
<ul>
<li><strong>HTTP(S) Load Balancing</strong>: Distributes HTTP and HTTPS traffic.</li>
<li><strong>TCP/SSL Proxy Load Balancing</strong>: Distributes TCP and SSL traffic.</li>
<li><strong>UDP Load Balancing</strong>: Distributes UDP traffic.</li>
</ul>
</li>
<li>
<p><strong>Backend Services</strong>:</p>
<ul>
<li><strong>Instance Groups</strong>: Collections of VM instances that serve as the backend for the load balancer.</li>
<li><strong>Backend Buckets</strong>: Cloud Storage buckets that serve static content.</li>
</ul>
</li>
<li>
<p><strong>Health Checks</strong>:</p>
<ul>
<li>Regularly check the health of backend instances to ensure traffic is only sent to healthy instances.</li>
</ul>
</li>
<li>
<p><strong>URL Maps</strong>:</p>
<ul>
<li>Define how incoming requests are routed to backend services based on URL patterns.</li>
</ul>
</li>
<li>
<p><strong>SSL Certificates</strong>:</p>
<ul>
<li>Secure your load balancer with SSL certificates for HTTPS traffic.</li>
</ul>
</li>
</ol>
</div><h2>Setting Up a Load Balancer</h2>
<div class='content'></div><h3>Step 1: Create a Managed Instance Group</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgaW5zdGFuY2UtZ3JvdXBzIG1hbmFnZWQgY3JlYXRlIG15LWluc3RhbmNlLWdyb3VwIFwKICAgIC0tYmFzZS1pbnN0YW5jZS1uYW1lIG15LWluc3RhbmNlIFwKICAgIC0tdGVtcGxhdGUgbXktaW5zdGFuY2UtdGVtcGxhdGUgXAogICAgLS1zaXplIDMgXAogICAgLS16b25lIHVzLWNlbnRyYWwxLWE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute instance-groups managed create my-instance-group \
    --base-instance-name my-instance \
    --template my-instance-template \
    --size 3 \
    --zone us-central1-a</pre></div><div class='content'></div><h3>Step 2: Configure a Backend Service</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyBjcmVhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tcHJvdG9jb2wgSFRUUCBcCiAgICAtLXBvcnQtbmFtZSBodHRwIFwKICAgIC0taGVhbHRoLWNoZWNrcyBteS1oZWFsdGgtY2hlY2sgXAogICAgLS1nbG9iYWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services create my-backend-service \
    --protocol HTTP \
    --port-name http \
    --health-checks my-health-check \
    --global</pre></div><div class='content'></div><h3>Step 3: Add the Instance Group to the Backend Service</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyBhZGQtYmFja2VuZCBteS1iYWNrZW5kLXNlcnZpY2UgXAogICAgLS1pbnN0YW5jZS1ncm91cCBteS1pbnN0YW5jZS1ncm91cCBcCiAgICAtLWluc3RhbmNlLWdyb3VwLXpvbmUgdXMtY2VudHJhbDEtYSBcCiAgICAtLWdsb2JhbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services add-backend my-backend-service \
    --instance-group my-instance-group \
    --instance-group-zone us-central1-a \
    --global</pre></div><div class='content'></div><h3>Step 4: Create a URL Map</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgdXJsLW1hcHMgY3JlYXRlIG15LXVybC1tYXAgXAogICAgLS1kZWZhdWx0LXNlcnZpY2UgbXktYmFja2VuZC1zZXJ2aWNl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute url-maps create my-url-map \
    --default-service my-backend-service</pre></div><div class='content'></div><h3>Step 5: Create a Target HTTP Proxy</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgdGFyZ2V0LWh0dHAtcHJveGllcyBjcmVhdGUgbXktaHR0cC1wcm94eSBcCiAgICAtLXVybC1tYXAgbXktdXJsLW1hcA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute target-http-proxies create my-http-proxy \
    --url-map my-url-map</pre></div><div class='content'></div><h3>Step 6: Create a Global Forwarding Rule</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgZm9yd2FyZGluZy1ydWxlcyBjcmVhdGUgbXktaHR0cC1ydWxlIFwKICAgIC0tZ2xvYmFsIFwKICAgIC0tdGFyZ2V0LWh0dHAtcHJveHkgbXktaHR0cC1wcm94eSBcCiAgICAtLXBvcnRzIDgw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute forwarding-rules create my-http-rule \
    --global \
    --target-http-proxy my-http-proxy \
    --ports 80</pre></div><div class='content'></div><h2>Practical Example</h2>
<div class='content'></div><h3>Example: Setting Up an HTTP Load Balancer</h3>
<div class='content'><ol>
<li>
<p><strong>Create a Health Check</strong>:</p>
<pre><code class="language-bash">gcloud compute health-checks create http my-health-check <br>        --port 80 <br>        --request-path /
</code></pre>
</li>
<li>
<p><strong>Create a Managed Instance Group</strong>:</p>
<pre><code class="language-bash">gcloud compute instance-templates create my-template <br>        --machine-type n1-standard-1 <br>        --image-family debian-9 <br>        --image-project debian-cloud <br>        --metadata startup-script='#! /bin/bash
    sudo apt-get update
    sudo apt-get install -y apache2
    sudo service apache2 restart'
</code></pre>
<pre><code class="language-bash">gcloud compute instance-groups managed create my-instance-group <br>        --base-instance-name my-instance <br>        --template my-template <br>        --size 2 <br>        --zone us-central1-a
</code></pre>
</li>
<li>
<p><strong>Create a Backend Service</strong>:</p>
<pre><code class="language-bash">gcloud compute backend-services create my-backend-service <br>        --protocol HTTP <br>        --port-name http <br>        --health-checks my-health-check <br>        --global
</code></pre>
</li>
<li>
<p><strong>Add the Instance Group to the Backend Service</strong>:</p>
<pre><code class="language-bash">gcloud compute backend-services add-backend my-backend-service <br>        --instance-group my-instance-group <br>        --instance-group-zone us-central1-a <br>        --global
</code></pre>
</li>
<li>
<p><strong>Create a URL Map</strong>:</p>
<pre><code class="language-bash">gcloud compute url-maps create my-url-map <br>        --default-service my-backend-service
</code></pre>
</li>
<li>
<p><strong>Create a Target HTTP Proxy</strong>:</p>
<pre><code class="language-bash">gcloud compute target-http-proxies create my-http-proxy <br>        --url-map my-url-map
</code></pre>
</li>
<li>
<p><strong>Create a Global Forwarding Rule</strong>:</p>
<pre><code class="language-bash">gcloud compute forwarding-rules create my-http-rule <br>        --global <br>        --target-http-proxy my-http-proxy <br>        --ports 80
</code></pre>
</li>
</ol>
</div><h2>Exercises</h2>
<div class='content'></div><h3>Exercise 1: Create a Load Balancer for HTTPS Traffic</h3>
<div class='content'><ol>
<li>
<p><strong>Create an SSL Certificate</strong>:</p>
<pre><code class="language-bash">gcloud compute ssl-certificates create my-ssl-cert <br>        --certificate /path/to/cert.pem <br>        --private-key /path/to/key.pem
</code></pre>
</li>
<li>
<p><strong>Create a Target HTTPS Proxy</strong>:</p>
<pre><code class="language-bash">gcloud compute target-https-proxies create my-https-proxy <br>        --url-map my-url-map <br>        --ssl-certificates my-ssl-cert
</code></pre>
</li>
<li>
<p><strong>Create a Global Forwarding Rule for HTTPS</strong>:</p>
<pre><code class="language-bash">gcloud compute forwarding-rules create my-https-rule <br>        --global <br>        --target-https-proxy my-https-proxy <br>        --ports 443
</code></pre>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'><ol>
<li>
<p><strong>Create an SSL Certificate</strong>:</p>
<pre><code class="language-bash">gcloud compute ssl-certificates create my-ssl-cert <br>        --certificate /path/to/cert.pem <br>        --private-key /path/to/key.pem
</code></pre>
</li>
<li>
<p><strong>Create a Target HTTPS Proxy</strong>:</p>
<pre><code class="language-bash">gcloud compute target-https-proxies create my-https-proxy <br>        --url-map my-url-map <br>        --ssl-certificates my-ssl-cert
</code></pre>
</li>
<li>
<p><strong>Create a Global Forwarding Rule for HTTPS</strong>:</p>
<pre><code class="language-bash">gcloud compute forwarding-rules create my-https-rule <br>        --global <br>        --target-https-proxy my-https-proxy <br>        --ports 443
</code></pre>
</li>
</ol>
</div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Health Check Configuration</strong>: Ensure that your health checks are correctly configured to match the expected response from your backend instances.</li>
<li><strong>Instance Group Location</strong>: Make sure your instance groups are in the same region as your backend services.</li>
<li><strong>SSL Certificates</strong>: Use managed SSL certificates for easier management and automatic renewal.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>In this section, you learned about the different types of load balancers available in GCP and how to set up an HTTP load balancer. You also practiced creating an HTTPS load balancer. Understanding and implementing load balancing is crucial for distributing traffic efficiently and ensuring high availability and reliability of your applications. In the next section, we will dive into Cloud CDN to further optimize your content delivery.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-vpc-networks' title="VPC Networks" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-vpc-networks' title="VPC Networks" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-cloud-cdn' title="Cloud CDN" class="py-2 px-3 btn btn-primary"
				data-read-mod="gcp" data-read-unit="3-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-cloud-cdn' title="Cloud CDN" class="py-2 px-3 btn btn-primary" 
				data-read-mod="gcp" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Google Cloud Platform (GCP) Course</h1>
<h2>Module 1: Introduction to Google Cloud Platform</h2>
<ul>
<li><a href="01-01-what-is-gcp">What is Google Cloud Platform?</a></li>
<li><a href="01-02-setting-up-account">Setting Up Your GCP Account</a></li>
<li><a href="01-03-gcp-console-overview">GCP Console Overview</a></li>
<li><a href="01-04-projects-and-billing">Understanding Projects and Billing</a></li>
</ul>
<h2>Module 2: Core GCP Services</h2>
<ul>
<li><a href="02-01-compute-engine">Compute Engine</a></li>
<li><a href="02-02-cloud-storage">Cloud Storage</a></li>
<li><a href="02-03-cloud-sql">Cloud SQL</a></li>
<li><a href="02-04-app-engine">App Engine</a></li>
<li><a href="02-05-kubernetes-engine">Kubernetes Engine</a></li>
</ul>
<h2>Module 3: Networking and Security</h2>
<ul>
<li><a href="03-01-vpc-networks">VPC Networks</a></li>
<li><a href="03-02-cloud-load-balancing">Cloud Load Balancing</a></li>
<li><a href="03-03-cloud-cdn">Cloud CDN</a></li>
<li><a href="03-04-iam">Identity and Access Management (IAM)</a></li>
<li><a href="03-05-cloud-armor">Cloud Armor</a></li>
</ul>
<h2>Module 4: Data and Analytics</h2>
<ul>
<li><a href="04-01-bigquery">BigQuery</a></li>
<li><a href="04-02-cloud-dataflow">Cloud Dataflow</a></li>
<li><a href="04-03-cloud-dataproc">Cloud Dataproc</a></li>
<li><a href="04-04-cloud-pubsub">Cloud Pub/Sub</a></li>
<li><a href="04-05-cloud-data-fusion">Cloud Data Fusion</a></li>
</ul>
<h2>Module 5: Machine Learning and AI</h2>
<ul>
<li><a href="05-01-ai-platform">AI Platform</a></li>
<li><a href="05-02-automl">AutoML</a></li>
<li><a href="05-03-tensorflow-on-gcp">TensorFlow on GCP</a></li>
<li><a href="05-04-natural-language-api">Natural Language API</a></li>
<li><a href="05-05-vision-api">Vision API</a></li>
</ul>
<h2>Module 6: DevOps and Monitoring</h2>
<ul>
<li><a href="06-01-cloud-build">Cloud Build</a></li>
<li><a href="06-02-cloud-source-repositories">Cloud Source Repositories</a></li>
<li><a href="06-03-cloud-functions">Cloud Functions</a></li>
<li><a href="06-04-stackdriver-monitoring">Stackdriver Monitoring</a></li>
<li><a href="06-05-cloud-deployment-manager">Cloud Deployment Manager</a></li>
</ul>
<h2>Module 7: Advanced GCP Topics</h2>
<ul>
<li><a href="07-01-anthos">Hybrid and Multi-Cloud with Anthos</a></li>
<li><a href="07-02-cloud-run">Serverless Computing with Cloud Run</a></li>
<li><a href="07-03-advanced-networking">Advanced Networking</a></li>
<li><a href="07-04-security-best-practices">Security Best Practices</a></li>
<li><a href="07-05-cost-management">Cost Management and Optimization</a></li>
</ul>
<h2>Module 8: Capstone Project</h2>
<ul>
<li><a href="08-01-project-overview">Project Overview and Requirements</a></li>
<li><a href="08-02-designing-solution">Designing Your Solution</a></li>
<li><a href="08-03-implementing-project">Implementing the Project</a></li>
<li><a href="08-04-testing-deployment">Testing and Deployment</a></li>
<li><a href="08-05-final-presentation">Final Presentation and Review</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
