<!DOCTYPE html>
<html lang="en">
<head>
    <title> Referential Integrity </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/fundamentos-bases-datos/02-04-integridad-referencial" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/fonaments-bases-dades/02-04-integritat-referencial" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/database-fundamentals/02-04-referential-integrity" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "bases_datos";
  		var TEMA_NAME = "2-4";
  		var TYPE = "mod";
  		var PATH = "mod/bases_datos/02-04-referential-integrity";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo-header_enterprise.png" alt="Logo Enterprise Campus"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/cursos/fundamentos-bases-datos/02-04-integridad-referencial" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/cursos/fonaments-bases-dades/02-04-integritat-referencial" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my-courses" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/completed-courses" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="bases_datos">
		<a  href="#" class="text-secondary d-none" data-read-mod="bases_datos" data-read-unit="2-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="bases_datos" data-unread-unit="2-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='02-03-basic-operations-sql' title="Basic Operations in SQL" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='02-03-basic-operations-sql' title="Basic Operations in SQL" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Referential Integrity</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-01-introduction-nosql' title="Introduction to NoSQL" class="py-2 px-3 btn btn-primary"
				data-read-mod="bases_datos" data-read-unit="2-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-01-introduction-nosql' title="Introduction to NoSQL" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bases_datos" data-read-unit="2-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Referential integrity is a fundamental concept in relational databases that ensures the consistency and accuracy of data. It involves maintaining the relationships between tables in a database to prevent orphaned records and ensure that data remains reliable and meaningful.</p>
</div><h2>Key Concepts of Referential Integrity</h2>
<div class='content'><ol>
<li>
<p><strong>Primary Key (PK):</strong></p>
<ul>
<li>A primary key is a unique identifier for each record in a table.</li>
<li>It ensures that each record can be uniquely identified.</li>
<li>Example: In a <code>Customers</code> table, the <code>CustomerID</code> could be the primary key.</li>
</ul>
</li>
<li>
<p><strong>Foreign Key (FK):</strong></p>
<ul>
<li>A foreign key is a field (or collection of fields) in one table that uniquely identifies a row of another table.</li>
<li>It establishes a link between the data in two tables.</li>
<li>Example: In an <code>Orders</code> table, the <code>CustomerID</code> could be a foreign key that references the <code>CustomerID</code> in the <code>Customers</code> table.</li>
</ul>
</li>
<li>
<p><strong>Referential Integrity Constraint:</strong></p>
<ul>
<li>A rule that ensures that foreign keys correctly and consistently reference primary keys.</li>
<li>It prevents actions that would leave orphaned records in the database.</li>
</ul>
</li>
</ol>
</div><h2>Referential Integrity in SQL</h2>
<div class='content'></div><h3>Creating Tables with Primary and Foreign Keys</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXRpbmcgdGhlIEN1c3RvbWVycyB0YWJsZSB3aXRoIGEgcHJpbWFyeSBrZXkKQ1JFQVRFIFRBQkxFIEN1c3RvbWVycyAoCiAgICBDdXN0b21lcklEIElOVCBQUklNQVJZIEtFWSwKICAgIEN1c3RvbWVyTmFtZSBWQVJDSEFSKDEwMCksCiAgICBDb250YWN0TmFtZSBWQVJDSEFSKDEwMCksCiAgICBDb3VudHJ5IFZBUkNIQVIoNTApCik7CgotLSBDcmVhdGluZyB0aGUgT3JkZXJzIHRhYmxlIHdpdGggYSBmb3JlaWduIGtleQpDUkVBVEUgVEFCTEUgT3JkZXJzICgKICAgIE9yZGVySUQgSU5UIFBSSU1BUlkgS0VZLAogICAgT3JkZXJEYXRlIERBVEUsCiAgICBDdXN0b21lcklEIElOVCwKICAgIEZPUkVJR04gS0VZIChDdXN0b21lcklEKSBSRUZFUkVOQ0VTIEN1c3RvbWVycyhDdXN0b21lcklEKQopOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Creating the Customers table with a primary key
CREATE TABLE Customers (
    CustomerID INT PRIMARY KEY,
    CustomerName VARCHAR(100),
    ContactName VARCHAR(100),
    Country VARCHAR(50)
);

-- Creating the Orders table with a foreign key
CREATE TABLE Orders (
    OrderID INT PRIMARY KEY,
    OrderDate DATE,
    CustomerID INT,
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
);</pre></div><div class='content'></div><h3>Explanation</h3>
<div class='content'><ul>
<li>The <code>Customers</code> table has a primary key <code>CustomerID</code>.</li>
<li>The <code>Orders</code> table has a foreign key <code>CustomerID</code> that references the <code>CustomerID</code> in the <code>Customers</code> table.</li>
<li>This setup ensures that every order is linked to a valid customer.</li>
</ul>
</div><h3>Ensuring Referential Integrity</h3>
<div class='content'><ol>
<li>
<p><strong>Insert Operations:</strong></p>
<ul>
<li>When inserting a record into the <code>Orders</code> table, the <code>CustomerID</code> must exist in the <code>Customers</code> table.</li>
<li>Example:
<pre><code class="language-sql">-- Valid insert
INSERT INTO Customers (CustomerID, CustomerName, ContactName, Country)
VALUES (1, 'John Doe', 'John', 'USA');

INSERT INTO Orders (OrderID, OrderDate, CustomerID)
VALUES (101, '2023-10-01', 1);

-- Invalid insert (CustomerID 2 does not exist in Customers table)
INSERT INTO Orders (OrderID, OrderDate, CustomerID)
VALUES (102, '2023-10-02', 2); -- This will fail
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Update Operations:</strong></p>
<ul>
<li>When updating a foreign key, the new value must exist in the referenced table.</li>
<li>Example:
<pre><code class="language-sql">-- Valid update
UPDATE Orders
SET CustomerID = 1
WHERE OrderID = 101;

-- Invalid update (CustomerID 2 does not exist in Customers table)
UPDATE Orders
SET CustomerID = 2
WHERE OrderID = 101; -- This will fail
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Delete Operations:</strong></p>
<ul>
<li>Deleting a record that is referenced by a foreign key can violate referential integrity.</li>
<li>To handle this, you can use <code>ON DELETE</code> and <code>ON UPDATE</code> actions:
<ul>
<li><code>CASCADE</code>: Automatically delete or update the dependent records.</li>
<li><code>SET NULL</code>: Set the foreign key to <code>NULL</code>.</li>
<li><code>RESTRICT</code>: Prevent the delete or update operation.</li>
</ul>
</li>
<li>Example:
<pre><code class="language-sql">-- Creating the Orders table with ON DELETE CASCADE
CREATE TABLE Orders (
    OrderID INT PRIMARY KEY,
    OrderDate DATE,
    CustomerID INT,
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID) ON DELETE CASCADE
);

-- Deleting a customer will automatically delete related orders
DELETE FROM Customers WHERE CustomerID = 1;
</code></pre>
</li>
</ul>
</li>
</ol>
</div><h2>Practical Exercise</h2>
<div class='content'></div><h3>Exercise 1: Creating Tables with Referential Integrity</h3>
<div class='content'><ol>
<li>
<p>Create a <code>Products</code> table with the following fields:</p>
<ul>
<li><code>ProductID</code> (Primary Key)</li>
<li><code>ProductName</code></li>
<li><code>SupplierID</code> (Foreign Key referencing <code>Suppliers</code> table)</li>
</ul>
</li>
<li>
<p>Create a <code>Suppliers</code> table with the following fields:</p>
<ul>
<li><code>SupplierID</code> (Primary Key)</li>
<li><code>SupplierName</code></li>
<li><code>ContactName</code></li>
<li><code>Country</code></li>
</ul>
</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXRpbmcgdGhlIFN1cHBsaWVycyB0YWJsZQpDUkVBVEUgVEFCTEUgU3VwcGxpZXJzICgKICAgIFN1cHBsaWVySUQgSU5UIFBSSU1BUlkgS0VZLAogICAgU3VwcGxpZXJOYW1lIFZBUkNIQVIoMTAwKSwKICAgIENvbnRhY3ROYW1lIFZBUkNIQVIoMTAwKSwKICAgIENvdW50cnkgVkFSQ0hBUig1MCkKKTsKCi0tIENyZWF0aW5nIHRoZSBQcm9kdWN0cyB0YWJsZSB3aXRoIGEgZm9yZWlnbiBrZXkKQ1JFQVRFIFRBQkxFIFByb2R1Y3RzICgKICAgIFByb2R1Y3RJRCBJTlQgUFJJTUFSWSBLRVksCiAgICBQcm9kdWN0TmFtZSBWQVJDSEFSKDEwMCksCiAgICBTdXBwbGllcklEIElOVCwKICAgIEZPUkVJR04gS0VZIChTdXBwbGllcklEKSBSRUZFUkVOQ0VTIFN1cHBsaWVycyhTdXBwbGllcklEKQopOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Creating the Suppliers table
CREATE TABLE Suppliers (
    SupplierID INT PRIMARY KEY,
    SupplierName VARCHAR(100),
    ContactName VARCHAR(100),
    Country VARCHAR(50)
);

-- Creating the Products table with a foreign key
CREATE TABLE Products (
    ProductID INT PRIMARY KEY,
    ProductName VARCHAR(100),
    SupplierID INT,
    FOREIGN KEY (SupplierID) REFERENCES Suppliers(SupplierID)
);</pre></div><div class='content'></div><h3>Exercise 2: Inserting Data with Referential Integrity</h3>
<div class='content'><ol>
<li>Insert a record into the <code>Suppliers</code> table.</li>
<li>Insert a record into the <code>Products</code> table with a valid <code>SupplierID</code>.</li>
<li>Attempt to insert a record into the <code>Products</code> table with an invalid <code>SupplierID</code>.</li>
</ol>
</div><h3>Solution</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gSW5zZXJ0aW5nIGEgcmVjb3JkIGludG8gdGhlIFN1cHBsaWVycyB0YWJsZQpJTlNFUlQgSU5UTyBTdXBwbGllcnMgKFN1cHBsaWVySUQsIFN1cHBsaWVyTmFtZSwgQ29udGFjdE5hbWUsIENvdW50cnkpClZBTFVFUyAoMSwgJ0FjbWUgQ29ycCcsICdBbGljZScsICdVU0EnKTsKCi0tIEluc2VydGluZyBhIHZhbGlkIHJlY29yZCBpbnRvIHRoZSBQcm9kdWN0cyB0YWJsZQpJTlNFUlQgSU5UTyBQcm9kdWN0cyAoUHJvZHVjdElELCBQcm9kdWN0TmFtZSwgU3VwcGxpZXJJRCkKVkFMVUVTICgxMDEsICdHYWRnZXQnLCAxKTsKCi0tIEF0dGVtcHRpbmcgdG8gaW5zZXJ0IGFuIGludmFsaWQgcmVjb3JkIGludG8gdGhlIFByb2R1Y3RzIHRhYmxlCklOU0VSVCBJTlRPIFByb2R1Y3RzIChQcm9kdWN0SUQsIFByb2R1Y3ROYW1lLCBTdXBwbGllcklEKQpWQUxVRVMgKDEwMiwgJ1dpZGdldCcsIDIpOyAtLSBUaGlzIHdpbGwgZmFpbCBiZWNhdXNlIFN1cHBsaWVySUQgMiBkb2VzIG5vdCBleGlzdA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Inserting a record into the Suppliers table
INSERT INTO Suppliers (SupplierID, SupplierName, ContactName, Country)
VALUES (1, 'Acme Corp', 'Alice', 'USA');

-- Inserting a valid record into the Products table
INSERT INTO Products (ProductID, ProductName, SupplierID)
VALUES (101, 'Gadget', 1);

-- Attempting to insert an invalid record into the Products table
INSERT INTO Products (ProductID, ProductName, SupplierID)
VALUES (102, 'Widget', 2); -- This will fail because SupplierID 2 does not exist</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Mistake:</strong> Forgetting to define foreign keys.
<ul>
<li><strong>Tip:</strong> Always define foreign keys to maintain referential integrity.</li>
</ul>
</li>
<li><strong>Mistake:</strong> Attempting to delete a record that is referenced by a foreign key without handling the constraint.
<ul>
<li><strong>Tip:</strong> Use <code>ON DELETE CASCADE</code> or other actions to manage deletions.</li>
</ul>
</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>Referential integrity is crucial for maintaining the consistency and reliability of data in relational databases. By using primary and foreign keys, and enforcing referential integrity constraints, you can ensure that your database remains accurate and meaningful. Understanding and implementing these concepts will help you design robust and reliable database systems.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='02-03-basic-operations-sql' title="Basic Operations in SQL" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='02-03-basic-operations-sql' title="Basic Operations in SQL" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-01-introduction-nosql' title="Introduction to NoSQL" class="py-2 px-3 btn btn-primary"
				data-read-mod="bases_datos" data-read-unit="2-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-01-introduction-nosql' title="Introduction to NoSQL" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bases_datos" data-read-unit="2-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Fundamentals of Databases</h1>
<h2>Module 1: Introduction to Databases</h2>
<ul>
<li><a href="01-01-basic-concepts">Basic Concepts of Databases</a></li>
<li><a href="01-02-types-of-databases">Types of Databases</a></li>
<li><a href="01-03-history-and-evolution">History and Evolution of Databases</a></li>
</ul>
<h2>Module 2: Relational Databases</h2>
<ul>
<li><a href="02-01-relational-model">Relational Model</a></li>
<li><a href="02-02-sql-language">SQL Language</a></li>
<li><a href="02-03-basic-operations-sql">Basic Operations in SQL</a></li>
<li><a href="02-04-referential-integrity">Referential Integrity</a></li>
</ul>
<h2>Module 3: Non-Relational Databases</h2>
<ul>
<li><a href="03-01-introduction-nosql">Introduction to NoSQL</a></li>
<li><a href="03-02-types-nosql">Types of NoSQL Databases</a></li>
<li><a href="03-03-comparison-relational-nosql">Comparison between Relational and Non-Relational Databases</a></li>
</ul>
<h2>Module 4: Schema Design</h2>
<ul>
<li><a href="04-01-principles-schema-design">Principles of Schema Design</a></li>
<li><a href="04-02-er-diagrams">Entity-Relationship (ER) Diagrams</a></li>
<li><a href="04-03-transformation-er-schemas">Transformation of ER Diagrams to Relational Schemas</a></li>
</ul>
<h2>Module 5: Normalization</h2>
<ul>
<li><a href="05-01-concepts-normalization">Concepts of Normalization</a></li>
<li><a href="05-02-normal-forms">Normal Forms</a></li>
<li><a href="05-03-normalization-process">Normalization Process</a></li>
<li><a href="05-04-denormalization-uses">Denormalization and its Uses</a></li>
</ul>
<h2>Module 6: Practical Exercises</h2>
<ul>
<li><a href="06-01-sql-exercises">SQL Exercises</a></li>
<li><a href="06-02-schema-design-exercises">Schema Design Exercises</a></li>
<li><a href="06-03-normalization-exercises">Normalization Exercises</a></li>
</ul>
<h2>Module 7: Case Studies</h2>
<ul>
<li><a href="07-01-case-study-relational">Case Study: Relational Database</a></li>
<li><a href="07-02-case-study-nosql">Case Study: Non-Relational Database</a></li>
</ul>
<h2>Module 8: Additional Resources</h2>
<ul>
<li><a href="08-01-recommended-books">Recommended Books</a></li>
<li><a href="08-02-online-courses-tutorials">Online Courses and Tutorials</a></li>
<li><a href="08-03-tools-software">Tools and Software</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective" rel="nofollow">The Project</a> | 
<a href="/about" rel="nofollow">About Us</a> | 
<a href="/contribute" rel="nofollow">Contribute</a> | 
<a href="/donate" rel="nofollow">Donations</a> | 
<a href="/license" rel="nofollow">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
