<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Management and Recovery</title>

    <link rel="alternate" href="https://campusempresa.com/microservicios/gestion-de-errores-y-recuperacion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/microservicios/gestion-de-errores-y-recuperacion" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/microservicios/gestion-de-errores-y-recuperacion" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/microservicios/gestion-de-errores-y-recuperacion" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/microservicios/gestion-de-errores-y-recuperacion" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Error management and recovery are critical aspects in microservices architecture. Since microservices are distributed systems, errors are inevitable and must be efficiently handled to ensure the system's resilience and availability.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Resilience</strong>: The system's ability to recover from failures and continue functioning.</li>
<li><strong>Fault Tolerance</strong>: The system's ability to continue operating correctly in the event of some of its components failing.</li>
<li><strong>Graceful Degradation</strong>: A strategy to reduce a system's functionality instead of completely failing.</li>
<li><strong>Circuit Breaker</strong>: A pattern that prevents an application from attempting an operation that is likely to fail.</li>
<li><strong>Retry</strong>: A strategy to retry a failed operation after a time interval.</li>
<li><strong>Fallback</strong>: Provision of an alternative response when an operation fails.</li>
</ul>
</div><h1>Error Management Strategies</h1>
<div class='content'></div><h2>Circuit Breaker</h2>
<div class='content'><p>The Circuit Breaker pattern is fundamental to prevent a distributed system from being overwhelmed by repeated failures. It works like a switch that cuts off the flow of requests to a failing service.</p>
<h4>Circuit Breaker Example in Spring Boot</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQuY2xpZW50LmNpcmN1aXRicmVha2VyLkNpcmN1aXRCcmVha2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5HZXRNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlc3RDb250cm9sbGVyOwoKQFJlc3RDb250cm9sbGVyCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIHByaXZhdGUgZmluYWwgQ2lyY3VpdEJyZWFrZXJGYWN0b3J5IGNpcmN1aXRCcmVha2VyRmFjdG9yeTsKCiAgICBwdWJsaWMgTXlDb250cm9sbGVyKENpcmN1aXRCcmVha2VyRmFjdG9yeSBjaXJjdWl0QnJlYWtlckZhY3RvcnkpIHsKICAgICAgICB0aGlzLmNpcmN1aXRCcmVha2VyRmFjdG9yeSA9IGNpcmN1aXRCcmVha2VyRmFjdG9yeTsKICAgIH0KCiAgICBAR2V0TWFwcGluZygiL2V4YW1wbGUiKQogICAgcHVibGljIFN0cmluZyBleGFtcGxlKCkgewogICAgICAgIHJldHVybiBjaXJjdWl0QnJlYWtlckZhY3RvcnkuY3JlYXRlKCJjaXJjdWl0YnJlYWtlciIpLnJ1bigKICAgICAgICAgICAgKCkgLT4gcmVtb3RlU2VydmljZUNhbGwoKSwKICAgICAgICAgICAgdGhyb3dhYmxlIC0+IGZhbGxiYWNrTWV0aG9kKCkKICAgICAgICApOwogICAgfQoKICAgIHByaXZhdGUgU3RyaW5nIHJlbW90ZVNlcnZpY2VDYWxsKCkgewogICAgICAgIC8vIExvZ2ljIHRvIGNhbGwgYSByZW1vdGUgc2VydmljZQogICAgICAgIHJldHVybiAiU3VjY2VzcyI7CiAgICB9CgogICAgcHJpdmF0ZSBTdHJpbmcgZmFsbGJhY2tNZXRob2QoKSB7CiAgICAgICAgLy8gRmFsbGJhY2sgbG9naWMKICAgICAgICByZXR1cm4gIkZhbGxiYWNrIHJlc3BvbnNlIjsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.cloud.client.circuitbreaker.CircuitBreakerFactory;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class MyController {

    private final CircuitBreakerFactory circuitBreakerFactory;

    public MyController(CircuitBreakerFactory circuitBreakerFactory) {
        this.circuitBreakerFactory = circuitBreakerFactory;
    }

    @GetMapping(&quot;/example&quot;)
    public String example() {
        return circuitBreakerFactory.create(&quot;circuitbreaker&quot;).run(
            () -&gt; remoteServiceCall(),
            throwable -&gt; fallbackMethod()
        );
    }

    private String remoteServiceCall() {
        // Logic to call a remote service
        return &quot;Success&quot;;
    }

    private String fallbackMethod() {
        // Fallback logic
        return &quot;Fallback response&quot;;
    }
}</pre></div><div class='content'></div><h2>Retry</h2>
<div class='content'><p>The Retry pattern attempts to retry a failed operation after a time interval. It is useful for handling temporary failures.</p>
<h4>Retry Example in Spring Boot</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsucmV0cnkuYW5ub3RhdGlvbi5CYWNrb2ZmOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5yZXRyeS5hbm5vdGF0aW9uLlJldHJ5YWJsZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIE15U2VydmljZSB7CgogICAgQFJldHJ5YWJsZSgKICAgICAgICB2YWx1ZSA9IHtSZW1vdGVTZXJ2aWNlRXhjZXB0aW9uLmNsYXNzfSwKICAgICAgICBtYXhBdHRlbXB0cyA9IDQsCiAgICAgICAgYmFja29mZiA9IEBCYWNrb2ZmKGRlbGF5ID0gMjAwMCkKICAgICkKICAgIHB1YmxpYyBTdHJpbmcgY2FsbFJlbW90ZVNlcnZpY2UoKSB0aHJvd3MgUmVtb3RlU2VydmljZUV4Y2VwdGlvbiB7CiAgICAgICAgLy8gTG9naWMgdG8gY2FsbCBhIHJlbW90ZSBzZXJ2aWNlCiAgICAgICAgaWYgKHNvbWVDb25kaXRpb25GYWlscygpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZW1vdGVTZXJ2aWNlRXhjZXB0aW9uKCJTZXJ2aWNlIGZhaWxlZCIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gIlN1Y2Nlc3MiOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.retry.annotation.Backoff;
import org.springframework.retry.annotation.Retryable;
import org.springframework.stereotype.Service;

@Service
public class MyService {

    @Retryable(
        value = {RemoteServiceException.class},
        maxAttempts = 4,
        backoff = @Backoff(delay = 2000)
    )
    public String callRemoteService() throws RemoteServiceException {
        // Logic to call a remote service
        if (someConditionFails()) {
            throw new RemoteServiceException(&quot;Service failed&quot;);
        }
        return &quot;Success&quot;;
    }
}</pre></div><div class='content'></div><h2>Fallback</h2>
<div class='content'><p>The Fallback pattern provides an alternative response when an operation fails. It is a strategy to ensure that the system degrades its functionality in a controlled manner.</p>
<h4>Fallback Example in Hystrix</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5uZXRmbGl4Lmh5c3RyaXguY29udHJpYi5qYXZhbmljYS5hbm5vdGF0aW9uLkh5c3RyaXhDb21tYW5kOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgTXlTZXJ2aWNlIHsKCiAgICBASHlzdHJpeENvbW1hbmQoZmFsbGJhY2tNZXRob2QgPSAiZmFsbGJhY2tNZXRob2QiKQogICAgcHVibGljIFN0cmluZyBjYWxsUmVtb3RlU2VydmljZSgpIHsKICAgICAgICAvLyBMb2dpYyB0byBjYWxsIGEgcmVtb3RlIHNlcnZpY2UKICAgICAgICBpZiAoc29tZUNvbmRpdGlvbkZhaWxzKCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oIlNlcnZpY2UgZmFpbGVkIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAiU3VjY2VzcyI7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBmYWxsYmFja01ldGhvZCgpIHsKICAgICAgICAvLyBGYWxsYmFjayBsb2dpYwogICAgICAgIHJldHVybiAiRmFsbGJhY2sgcmVzcG9uc2UiOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.netflix.hystrix.contrib.javanica.annotation.HystrixCommand;
import org.springframework.stereotype.Service;

@Service
public class MyService {

    @HystrixCommand(fallbackMethod = &quot;fallbackMethod&quot;)
    public String callRemoteService() {
        // Logic to call a remote service
        if (someConditionFails()) {
            throw new RuntimeException(&quot;Service failed&quot;);
        }
        return &quot;Success&quot;;
    }

    public String fallbackMethod() {
        // Fallback logic
        return &quot;Fallback response&quot;;
    }
}</pre></div><div class='content'></div><h1>Strategy Comparison</h1>
<div class='content'><p>| Strategy         | Advantages                                                              | Disadvantages                                                     |
|------------------|--------------------------------------------------------------------------|------------------------------------------------------------------|
| Circuit Breaker  | Prevents overload, improves resilience                                   | Can be complex to implement and adjust                           |
| Retry            | Handles temporary failures, improves availability                        | Can cause overload if not properly configured                    |
| Fallback         | Ensures a controlled response, improves user experience                  | Can hide underlying problems if used excessively                 |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Error management and recovery are essential to maintain resilience and availability in microservices systems. Implementing strategies like Circuit Breaker, Retry, and Fallback can help manage failures efficiently and ensure that the system degrades its functionality in a controlled manner instead of completely failing. The choice of the appropriate strategy depends on the context and specific requirements of the system.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
