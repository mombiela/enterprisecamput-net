<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angular and Web Workers</title>

    <link rel="alternate" href="https://campusempresa.com/angular/angular-and-web-workers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/angular/angular-and-web-workers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/angular/angular-and-web-workers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/angular/angular-and-web-workers" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/angular/angular-and-web-workers" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='internationalization'>&#x25C4;Internationalization (i18n)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Angular and Web Workers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-angular-applications'>Building and Deploying Angular Applications &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Web Workers</h1>
<div class='content'><p>Web Workers provide a way to run scripts in background threads. They can execute tasks without interfering with the user interface, making them ideal for handling computationally intensive operations.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Web Workers</strong>: Background scripts that run independently of the main UI thread.</li>
<li><strong>Main Thread</strong>: The primary execution thread where the UI and user interactions are handled.</li>
<li><strong>Communication</strong>: Web Workers communicate with the main thread using messages.</li>
</ul>
</div><h1>Setting Up Web Workers in Angular</h1>
<div class='content'><p>Angular provides a convenient way to integrate Web Workers into your application. This section will guide you through the setup process.</p>
</div><h2>Steps to Create a Web Worker in Angular</h2>
<div class='content'><ol>
<li><strong>Generate a Web Worker</strong>:
Use Angular CLI to generate a Web Worker.
<pre><code class="language-bash">ng generate web-worker worker-name
</code></pre>
</li>
<li><strong>Modify the Angular Configuration</strong>:
Ensure your <code>angular.json</code> file is configured to support Web Workers.
<pre><code class="language-json">&quot;architect&quot;: {
  &quot;build&quot;: {
    &quot;options&quot;: {
      &quot;webWorkerTsConfig&quot;: &quot;tsconfig.worker.json&quot;
    }
  }
}
</code></pre>
</li>
<li><strong>Implement the Worker Logic</strong>:
Edit the generated worker file (e.g., <code>src/app/worker-name.worker.ts</code>) to include the logic you want to run in the background.
<pre><code class="language-typescript">addEventListener('message', ({ data }) =&gt; {
  const response = `Worker response to ${data}`;
  postMessage(response);
});
</code></pre>
</li>
</ol>
</div><h2>Example: Using a Web Worker for Heavy Computation</h2>
<div class='content'><p>Let's create a Web Worker to perform a heavy computation, such as calculating Fibonacci numbers.</p>
<h4>Worker File: <code>src/app/fibonacci.worker.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsICh7IGRhdGEgfSkgPT4gewogIGNvbnN0IHJlc3VsdCA9IGZpYm9uYWNjaShkYXRhKTsKICBwb3N0TWVzc2FnZShyZXN1bHQpOwp9KTsKCmZ1bmN0aW9uIGZpYm9uYWNjaShudW06IG51bWJlcik6IG51bWJlciB7CiAgaWYgKG51bSA8PSAxKSByZXR1cm4gbnVtOwogIHJldHVybiBmaWJvbmFjY2kobnVtIC0gMSkgKyBmaWJvbmFjY2kobnVtIC0gMik7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>addEventListener('message', ({ data }) =&gt; {
  const result = fibonacci(data);
  postMessage(result);
});

function fibonacci(num: number): number {
  if (num &lt;= 1) return num;
  return fibonacci(num - 1) + fibonacci(num - 2);
}</pre></div><div class='content'><h4>Main Thread: <code>src/app/app.component.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLXJvb3QnLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICA8aDE+Rmlib25hY2NpIENhbGN1bGF0b3I8L2gxPgogICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBbKG5nTW9kZWwpXT0iaW5wdXRWYWx1ZSIgLz4KICAgICAgPGJ1dHRvbiAoY2xpY2spPSJjYWxjdWxhdGVGaWJvbmFjY2koKSI+Q2FsY3VsYXRlPC9idXR0b24+CiAgICAgIDxwPlJlc3VsdDoge3sgcmVzdWx0IH19PC9wPgogICAgPC9kaXY+CiAgYCwKICBzdHlsZXM6IFtdCn0pCmV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewogIGlucHV0VmFsdWU6IG51bWJlcjsKICByZXN1bHQ6IG51bWJlcjsKICB3b3JrZXI6IFdvcmtlcjsKCiAgbmdPbkluaXQoKSB7CiAgICBpZiAodHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKG5ldyBVUkwoJy4vZmlib25hY2NpLndvcmtlcicsIGltcG9ydC5tZXRhLnVybCkpOwogICAgICB0aGlzLndvcmtlci5vbm1lc3NhZ2UgPSAoeyBkYXRhIH0pID0+IHsKICAgICAgICB0aGlzLnJlc3VsdCA9IGRhdGE7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLndhcm4oJ1dlYiBXb3JrZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuJyk7CiAgICB9CiAgfQoKICBjYWxjdWxhdGVGaWJvbmFjY2koKSB7CiAgICBpZiAodGhpcy53b3JrZXIpIHsKICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UodGhpcy5pbnB1dFZhbHVlKTsKICAgIH0KICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `
    &lt;div&gt;
      &lt;h1&gt;Fibonacci Calculator&lt;/h1&gt;
      &lt;input type=&quot;number&quot; [(ngModel)]=&quot;inputValue&quot; /&gt;
      &lt;button (click)=&quot;calculateFibonacci()&quot;&gt;Calculate&lt;/button&gt;
      &lt;p&gt;Result: {{ result }}&lt;/p&gt;
    &lt;/div&gt;
  `,
  styles: []
})
export class AppComponent implements OnInit {
  inputValue: number;
  result: number;
  worker: Worker;

  ngOnInit() {
    if (typeof Worker !== 'undefined') {
      this.worker = new Worker(new URL('./fibonacci.worker', import.meta.url));
      this.worker.onmessage = ({ data }) =&gt; {
        this.result = data;
      };
    } else {
      console.warn('Web Workers are not supported in this environment.');
    }
  }

  calculateFibonacci() {
    if (this.worker) {
      this.worker.postMessage(this.inputValue);
    }
  }
}</pre></div><div class='content'></div><h1>Best Practices for Using Web Workers in Angular</h1>
<div class='content'><ul>
<li><strong>Offload Heavy Computations</strong>: Use Web Workers for tasks that are computationally intensive to keep the UI responsive.</li>
<li><strong>Limit Data Transfer</strong>: Minimize the amount of data sent between the main thread and Web Workers to reduce overhead.</li>
<li><strong>Error Handling</strong>: Implement proper error handling in both the main thread and the worker to manage unexpected issues.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Web Workers are a powerful feature to enhance the performance of Angular applications by offloading heavy computations to background threads. By following the setup steps and best practices outlined in this topic, you can effectively integrate Web Workers into your Angular projects, ensuring a smooth and responsive user experience.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='internationalization'>&#x25C4;Internationalization (i18n)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Angular and Web Workers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-angular-applications'>Building and Deploying Angular Applications &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
