<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Directives</title>

    <link rel="alternate" href="https://campusempresa.com/angular/custom-directives" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/angular/custom-directives" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/angular/custom-directives" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/angular/custom-directives" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/angular/custom-directives" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='built-in-directives'>&#x25C4;Built-in Directives</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Directives</a>
	</div>
	<div class='col-4 text-end'>
					<a href='built-in-pipes'>Built-in Pipes &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Directives</h1>
<div class='content'><p>Directives in Angular are classes that add additional behavior to elements in your Angular applications. With directives, you can manage forms, lists, styles, and what users see. There are three types of directives in Angular:</p>
<ul>
<li><strong>Component Directives</strong>: These are the most common directives and are used to create components.</li>
<li><strong>Attribute Directives</strong>: These change the appearance or behavior of an element, component, or another directive.</li>
<li><strong>Structural Directives</strong>: These change the DOM layout by adding and removing DOM elements.</li>
</ul>
<p>In this topic, we will focus on creating custom attribute and structural directives.</p>
</div><h1>Creating Custom Attribute Directives</h1>
<div class='content'><p>Attribute directives are used to change the appearance or behavior of DOM elements. Let's create a simple attribute directive that changes the background color of an element when it is hovered over.</p>
</div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Generate the Directive</strong>: Use Angular CLI to generate a new directive.</p>
<pre><code class="language-bash">ng generate directive highlight
</code></pre>
</li>
<li>
<p><strong>Implement the Directive</strong>: Modify the generated directive to change the background color on hover.</p>
<pre><code class="language-typescript">import { Directive, ElementRef, HostListener, Input } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  @Input() defaultColor: string = 'yellow';
  @Input('appHighlight') highlightColor: string;

  constructor(private el: ElementRef) {}

  @HostListener('mouseenter') onMouseEnter() {
    this.highlight(this.highlightColor || this.defaultColor);
  }

  @HostListener('mouseleave') onMouseLeave() {
    this.highlight(null);
  }

  private highlight(color: string) {
    this.el.nativeElement.style.backgroundColor = color;
  }
}
</code></pre>
</li>
<li>
<p><strong>Use the Directive in a Component</strong>: Apply the directive to an element in your template.</p>
<pre><code class="language-html">&lt;p appHighlight=&quot;lightblue&quot;&gt;Hover over this text to see a highlight effect.&lt;/p&gt;
</code></pre>
</li>
</ol>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>ElementRef</strong>: A service that grants direct access to the DOM element.</li>
<li><strong>@HostListener</strong>: Decorator that listens to DOM events and triggers the specified method.</li>
<li><strong>@Input</strong>: Decorator that allows the directive to accept input values.</li>
</ul>
</div><h1>Creating Custom Structural Directives</h1>
<div class='content'><p>Structural directives change the DOM layout by adding or removing elements. Let's create a custom structural directive that conditionally includes a template based on a boolean value.</p>
</div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Generate the Directive</strong>: Use Angular CLI to generate a new directive.</p>
<pre><code class="language-bash">ng generate directive unless
</code></pre>
</li>
<li>
<p><strong>Implement the Directive</strong>: Modify the generated directive to conditionally include a template.</p>
<pre><code class="language-typescript">import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';

@Directive({
  selector: '[appUnless]'
})
export class UnlessDirective {
  private hasView = false;

  constructor(
    private templateRef: TemplateRef&lt;any&gt;,
    private viewContainer: ViewContainerRef
  ) {}

  @Input() set appUnless(condition: boolean) {
    if (!condition &amp;&amp; !this.hasView) {
      this.viewContainer.createEmbeddedView(this.templateRef);
      this.hasView = true;
    } else if (condition &amp;&amp; this.hasView) {
      this.viewContainer.clear();
      this.hasView = false;
    }
  }
}
</code></pre>
</li>
<li>
<p><strong>Use the Directive in a Component</strong>: Apply the directive to an element in your template.</p>
<pre><code class="language-html">&lt;div *appUnless=&quot;isVisible&quot;&gt;This text is displayed only when isVisible is false.&lt;/div&gt;
</code></pre>
</li>
</ol>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>TemplateRef</strong>: Represents an embedded template that can be used to instantiate embedded views.</li>
<li><strong>ViewContainerRef</strong>: Represents a container where one or more views can be attached.</li>
<li><strong>@Input</strong>: Decorator that allows the directive to accept input values.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this topic, we covered how to create custom attribute and structural directives in Angular. Attribute directives are used to change the appearance or behavior of elements, while structural directives are used to change the DOM layout by adding or removing elements. By understanding and utilizing these directives, you can create more dynamic and interactive Angular applications.</p>
</div><h2>Key Takeaways</h2>
<div class='content'><ul>
<li>Directives are classes that add behavior to elements in Angular applications.</li>
<li>Attribute directives change the appearance or behavior of elements.</li>
<li>Structural directives change the DOM layout by adding or removing elements.</li>
<li>Use Angular CLI to generate directives and modify them according to your needs.</li>
<li>Decorators like <code>@Input</code> and <code>@HostListener</code> are essential for creating custom directives.</li>
</ul>
<p>By mastering custom directives, you can significantly enhance the functionality and user experience of your Angular applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='built-in-directives'>&#x25C4;Built-in Directives</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Directives</a>
	</div>
	<div class='col-4 text-end'>
					<a href='built-in-pipes'>Built-in Pipes &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
