<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coloring and Shading</title>

    <link rel="alternate" href="https://campusempresa.com/open_gl/coloring-and-shading" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/open_gl/coloring-and-shading" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/open_gl/coloring-and-shading" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/open_gl/coloring-and-shading" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/open_gl/coloring-and-shading" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='coordinates-and-transformations'>&#x25C4;Understanding Coordinates and Transformations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Coloring and Shading</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-shaders'>Introduction to Shaders &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Coloring in OpenGL</h1>
<div class='content'><p>Coloring is one of the fundamental aspects of rendering in OpenGL. It involves assigning colors to vertices, which are then interpolated across the surface of the primitives (triangles, lines, etc.).</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Vertex Colors</strong>: Colors assigned to each vertex.</li>
<li><strong>Fragment Colors</strong>: Colors calculated for each pixel (fragment) during rasterization.</li>
<li><strong>Interpolation</strong>: The process of blending vertex colors across the surface of a primitive.</li>
</ul>
</div><h2>Basic Coloring Example</h2>
<div class='content'><p>Here’s a simple example of how to assign colors to vertices in OpenGL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IFNoYWRlcgojdmVyc2lvbiAzMzAgY29yZQpsYXlvdXQobG9jYXRpb24gPSAwKSBpbiB2ZWMzIGFQb3M7CmxheW91dChsb2NhdGlvbiA9IDEpIGluIHZlYzMgYUNvbG9yOwoKb3V0IHZlYzMgb3VyQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvcywgMS4wKTsKICAgIG91ckNvbG9yID0gYUNvbG9yOwp9CgovLyBGcmFnbWVudCBTaGFkZXIKI3ZlcnNpb24gMzMwIGNvcmUKaW4gdmVjMyBvdXJDb2xvcjsKb3V0IHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgRnJhZ0NvbG9yID0gdmVjNChvdXJDb2xvciwgMS4wKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex Shader
#version 330 core
layout(location = 0) in vec3 aPos;
layout(location = 1) in vec3 aColor;

out vec3 ourColor;

void main()
{
    gl_Position = vec4(aPos, 1.0);
    ourColor = aColor;
}

// Fragment Shader
#version 330 core
in vec3 ourColor;
out vec4 FragColor;

void main()
{
    FragColor = vec4(ourColor, 1.0);
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>Vertex positions and colors are passed to the vertex shader.</li>
<li>The vertex shader outputs the color to be interpolated across the primitive.</li>
<li>The fragment shader receives the interpolated color and sets it as the output color.</li>
</ul>
</div><h1>Introduction to Shading in OpenGL</h1>
<div class='content'><p>Shading refers to the process of calculating the color of each pixel based on lighting, material properties, and other factors.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Flat Shading</strong>: Each primitive is shaded with a single color.</li>
<li><strong>Gouraud Shading</strong>: Colors are calculated at vertices and interpolated across the primitive.</li>
<li><strong>Phong Shading</strong>: Colors are calculated per pixel, providing more realistic lighting effects.</li>
</ul>
</div><h2>Basic Shading Example</h2>
<div class='content'><p>Here’s a simple example of Phong shading in OpenGL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IFNoYWRlcgojdmVyc2lvbiAzMzAgY29yZQpsYXlvdXQobG9jYXRpb24gPSAwKSBpbiB2ZWMzIGFQb3M7CmxheW91dChsb2NhdGlvbiA9IDEpIGluIHZlYzMgYU5vcm1hbDsKCm91dCB2ZWMzIEZyYWdQb3M7Cm91dCB2ZWMzIE5vcm1hbDsKCnVuaWZvcm0gbWF0NCBtb2RlbDsKdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uOwoKdm9pZCBtYWluKCkKewogICAgRnJhZ1BvcyA9IHZlYzMobW9kZWwgKiB2ZWM0KGFQb3MsIDEuMCkpOwogICAgTm9ybWFsID0gbWF0Myh0cmFuc3Bvc2UoaW52ZXJzZShtb2RlbCkpKSAqIGFOb3JtYWw7ICAKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbiAqIHZpZXcgKiB2ZWM0KEZyYWdQb3MsIDEuMCk7Cn0KCi8vIEZyYWdtZW50IFNoYWRlcgojdmVyc2lvbiAzMzAgY29yZQppbiB2ZWMzIEZyYWdQb3M7CmluIHZlYzMgTm9ybWFsOwoKb3V0IHZlYzQgRnJhZ0NvbG9yOwoKdW5pZm9ybSB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIHZlYzMgdmlld1BvczsKdW5pZm9ybSB2ZWMzIGxpZ2h0Q29sb3I7CnVuaWZvcm0gdmVjMyBvYmplY3RDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIC8vIEFtYmllbnQKICAgIGZsb2F0IGFtYmllbnRTdHJlbmd0aCA9IDAuMTsKICAgIHZlYzMgYW1iaWVudCA9IGFtYmllbnRTdHJlbmd0aCAqIGxpZ2h0Q29sb3I7CiAgICAKICAgIC8vIERpZmZ1c2UgCiAgICB2ZWMzIG5vcm0gPSBub3JtYWxpemUoTm9ybWFsKTsKICAgIHZlYzMgbGlnaHREaXIgPSBub3JtYWxpemUobGlnaHRQb3MgLSBGcmFnUG9zKTsKICAgIGZsb2F0IGRpZmYgPSBtYXgoZG90KG5vcm0sIGxpZ2h0RGlyKSwgMC4wKTsKICAgIHZlYzMgZGlmZnVzZSA9IGRpZmYgKiBsaWdodENvbG9yOwogICAgCiAgICAvLyBTcGVjdWxhcgogICAgZmxvYXQgc3BlY3VsYXJTdHJlbmd0aCA9IDAuNTsKICAgIHZlYzMgdmlld0RpciA9IG5vcm1hbGl6ZSh2aWV3UG9zIC0gRnJhZ1Bvcyk7CiAgICB2ZWMzIHJlZmxlY3REaXIgPSByZWZsZWN0KC1saWdodERpciwgbm9ybSk7ICAKICAgIGZsb2F0IHNwZWMgPSBwb3cobWF4KGRvdCh2aWV3RGlyLCByZWZsZWN0RGlyKSwgMC4wKSwgMzIpOwogICAgdmVjMyBzcGVjdWxhciA9IHNwZWN1bGFyU3RyZW5ndGggKiBzcGVjICogbGlnaHRDb2xvcjsgIAogICAgCiAgICB2ZWMzIHJlc3VsdCA9IChhbWJpZW50ICsgZGlmZnVzZSArIHNwZWN1bGFyKSAqIG9iamVjdENvbG9yOwogICAgRnJhZ0NvbG9yID0gdmVjNChyZXN1bHQsIDEuMCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex Shader
#version 330 core
layout(location = 0) in vec3 aPos;
layout(location = 1) in vec3 aNormal;

out vec3 FragPos;
out vec3 Normal;

uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;

void main()
{
    FragPos = vec3(model * vec4(aPos, 1.0));
    Normal = mat3(transpose(inverse(model))) * aNormal;  
    gl_Position = projection * view * vec4(FragPos, 1.0);
}

// Fragment Shader
#version 330 core
in vec3 FragPos;
in vec3 Normal;

out vec4 FragColor;

uniform vec3 lightPos;
uniform vec3 viewPos;
uniform vec3 lightColor;
uniform vec3 objectColor;

void main()
{
    // Ambient
    float ambientStrength = 0.1;
    vec3 ambient = ambientStrength * lightColor;
    
    // Diffuse 
    vec3 norm = normalize(Normal);
    vec3 lightDir = normalize(lightPos - FragPos);
    float diff = max(dot(norm, lightDir), 0.0);
    vec3 diffuse = diff * lightColor;
    
    // Specular
    float specularStrength = 0.5;
    vec3 viewDir = normalize(viewPos - FragPos);
    vec3 reflectDir = reflect(-lightDir, norm);  
    float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32);
    vec3 specular = specularStrength * spec * lightColor;  
    
    vec3 result = (ambient + diffuse + specular) * objectColor;
    FragColor = vec4(result, 1.0);
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The vertex shader calculates the position and normal of each vertex.</li>
<li>The fragment shader calculates ambient, diffuse, and specular lighting components to determine the final color of each pixel.</li>
</ul>
</div><h1>Advanced Shading Techniques</h1>
<div class='content'><p>As you progress, you can explore more advanced shading techniques such as:</p>
<ul>
<li><strong>Normal Mapping</strong>: Adds detail to surfaces without increasing the geometry complexity.</li>
<li><strong>Parallax Mapping</strong>: Enhances the illusion of depth on textured surfaces.</li>
<li><strong>Physically Based Rendering (PBR)</strong>: Simulates the physical properties of materials for more realistic rendering.</li>
</ul>
</div><h2>Normal Mapping Example</h2>
<div class='content'><p>Here’s a brief example of normal mapping:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IFNoYWRlcgojdmVyc2lvbiAzMzAgY29yZQpsYXlvdXQobG9jYXRpb24gPSAwKSBpbiB2ZWMzIGFQb3M7CmxheW91dChsb2NhdGlvbiA9IDEpIGluIHZlYzMgYU5vcm1hbDsKbGF5b3V0KGxvY2F0aW9uID0gMikgaW4gdmVjMiBhVGV4Q29vcmRzOwpsYXlvdXQobG9jYXRpb24gPSAzKSBpbiB2ZWMzIGFUYW5nZW50OwoKb3V0IHZlYzIgVGV4Q29vcmRzOwpvdXQgdmVjMyBGcmFnUG9zOwpvdXQgbWF0MyBUQk47Cgp1bmlmb3JtIG1hdDQgbW9kZWw7CnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKCnZvaWQgbWFpbigpCnsKICAgIEZyYWdQb3MgPSB2ZWMzKG1vZGVsICogdmVjNChhUG9zLCAxLjApKTsKICAgIFRleENvb3JkcyA9IGFUZXhDb29yZHM7CiAgICAKICAgIHZlYzMgVCA9IG5vcm1hbGl6ZShtYXQzKG1vZGVsKSAqIGFUYW5nZW50KTsKICAgIHZlYzMgTiA9IG5vcm1hbGl6ZShtYXQzKG1vZGVsKSAqIGFOb3JtYWwpOwogICAgdmVjMyBCID0gY3Jvc3MoTiwgVCk7CiAgICBUQk4gPSBtYXQzKFQsIEIsIE4pOwogICAgCiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb24gKiB2aWV3ICogdmVjNChGcmFnUG9zLCAxLjApOwp9CgovLyBGcmFnbWVudCBTaGFkZXIKI3ZlcnNpb24gMzMwIGNvcmUKaW4gdmVjMiBUZXhDb29yZHM7CmluIHZlYzMgRnJhZ1BvczsKaW4gbWF0MyBUQk47CgpvdXQgdmVjNCBGcmFnQ29sb3I7Cgp1bmlmb3JtIHNhbXBsZXIyRCBub3JtYWxNYXA7CnVuaWZvcm0gdmVjMyBsaWdodFBvczsKdW5pZm9ybSB2ZWMzIHZpZXdQb3M7CnVuaWZvcm0gdmVjMyBsaWdodENvbG9yOwp1bmlmb3JtIHZlYzMgb2JqZWN0Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG5vcm1hbCA9IHRleHR1cmUobm9ybWFsTWFwLCBUZXhDb29yZHMpLnJnYjsKICAgIG5vcm1hbCA9IG5vcm1hbGl6ZShub3JtYWwgKiAyLjAgLSAxLjApOwogICAgbm9ybWFsID0gbm9ybWFsaXplKFRCTiAqIG5vcm1hbCk7CiAgICAKICAgIC8vIExpZ2h0aW5nIGNhbGN1bGF0aW9ucyAoc2ltaWxhciB0byBQaG9uZyBzaGFkaW5nKQogICAgLy8gLi4uCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex Shader
#version 330 core
layout(location = 0) in vec3 aPos;
layout(location = 1) in vec3 aNormal;
layout(location = 2) in vec2 aTexCoords;
layout(location = 3) in vec3 aTangent;

out vec2 TexCoords;
out vec3 FragPos;
out mat3 TBN;

uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;

void main()
{
    FragPos = vec3(model * vec4(aPos, 1.0));
    TexCoords = aTexCoords;
    
    vec3 T = normalize(mat3(model) * aTangent);
    vec3 N = normalize(mat3(model) * aNormal);
    vec3 B = cross(N, T);
    TBN = mat3(T, B, N);
    
    gl_Position = projection * view * vec4(FragPos, 1.0);
}

// Fragment Shader
#version 330 core
in vec2 TexCoords;
in vec3 FragPos;
in mat3 TBN;

out vec4 FragColor;

uniform sampler2D normalMap;
uniform vec3 lightPos;
uniform vec3 viewPos;
uniform vec3 lightColor;
uniform vec3 objectColor;

void main()
{
    vec3 normal = texture(normalMap, TexCoords).rgb;
    normal = normalize(normal * 2.0 - 1.0);
    normal = normalize(TBN * normal);
    
    // Lighting calculations (similar to Phong shading)
    // ...
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The vertex shader calculates the TBN matrix for transforming normals from tangent space to world space.</li>
<li>The fragment shader uses the normal map to perturb the surface normals for more detailed lighting effects.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Coloring and shading are essential techniques in OpenGL for creating visually appealing graphics. Starting from basic vertex coloring, you can progress to more advanced shading techniques like Phong shading and normal mapping. Mastering these techniques will significantly enhance the realism and visual quality of your OpenGL applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='coordinates-and-transformations'>&#x25C4;Understanding Coordinates and Transformations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Coloring and Shading</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-shaders'>Introduction to Shaders &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
