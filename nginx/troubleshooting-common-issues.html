<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Troubleshooting Common Issues</title>

    <link rel="alternate" href="https://campusempresa.com/nginx/troubleshooting-common-issues" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/nginx/troubleshooting-common-issues" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/nginx/troubleshooting-common-issues" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/nginx/troubleshooting-common-issues" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/nginx/troubleshooting-common-issues" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='logging-and-log-management'>&#x25C4;Logging and Log Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Troubleshooting Common Issues</a>
	</div>
	<div class='col-4 text-end'>
					<a href='debugging-nginx'>Debugging NGINX &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>NGINX is a powerful web server and reverse proxy server, but like any software, it can encounter issues. This section will guide you through troubleshooting common problems you may face when working with NGINX, from beginner to advanced levels.</p>
</div><h1>Common Issues and Solutions</h1>
<div class='content'></div><h2>1. NGINX Not Starting</h2>
<div class='content'><ul>
<li>
<p><strong>Check Configuration Syntax</strong>: Before starting NGINX, ensure your configuration file is syntactically correct.</p>
<pre><code class="language-bash">sudo nginx -t
</code></pre>
<p>If there are errors, NGINX will provide details about what needs to be fixed.</p>
</li>
<li>
<p><strong>Port Conflicts</strong>: Ensure that the port NGINX is trying to bind to (usually port 80 or 443) is not already in use by another service.</p>
<pre><code class="language-bash">sudo lsof -i :80
</code></pre>
<p>If another service is using the port, you may need to stop that service or change the port NGINX uses.</p>
</li>
<li>
<p><strong>Permissions Issues</strong>: Ensure that NGINX has the necessary permissions to access its configuration files and the directories it serves.</p>
<pre><code class="language-bash">sudo chown -R www-data:www-data /var/www/html
</code></pre>
</li>
</ul>
</div><h2>2. 403 Forbidden Error</h2>
<div class='content'><ul>
<li>
<p><strong>File Permissions</strong>: Ensure that the files and directories being served by NGINX have the correct permissions.</p>
<pre><code class="language-bash">sudo chmod -R 755 /var/www/html
</code></pre>
</li>
<li>
<p><strong>Nginx Configuration</strong>: Check the <code>nginx.conf</code> or site-specific configuration files to ensure the <code>root</code> directive points to the correct directory.</p>
<pre><code class="language-nginx">server {
    listen 80;
    server_name example.com;
    root /var/www/html;
    index index.html;
}
</code></pre>
</li>
</ul>
</div><h2>3. 404 Not Found Error</h2>
<div class='content'><ul>
<li><strong>Check File Paths</strong>: Ensure that the file paths specified in your configuration match the actual file locations.</li>
<li><strong>Correct Root Directive</strong>: Verify that the <code>root</code> directive in your server block points to the correct directory.</li>
</ul>
</div><h2>4. 502 Bad Gateway Error</h2>
<div class='content'><ul>
<li>
<p><strong>Backend Service Down</strong>: Ensure that the backend service (e.g., a PHP-FPM or Node.js server) is running.</p>
<pre><code class="language-bash">sudo systemctl status php7.4-fpm
</code></pre>
</li>
<li>
<p><strong>Incorrect Upstream Configuration</strong>: Verify that the upstream server configuration in NGINX is correct.</p>
<pre><code class="language-nginx">upstream backend {
    server 127.0.0.1:3000;
}

server {
    listen 80;
    location / {
        proxy_pass http://backend;
    }
}
</code></pre>
</li>
</ul>
</div><h2>5. 504 Gateway Timeout Error</h2>
<div class='content'><ul>
<li><strong>Increase Timeout Settings</strong>: If the backend service takes longer to respond, you may need to increase the timeout settings in your NGINX configuration.
<pre><code class="language-nginx">server {
    listen 80;
    location / {
        proxy_connect_timeout 600;
        proxy_send_timeout 600;
        proxy_read_timeout 600;
        send_timeout 600;
        proxy_pass http://backend;
    }
}
</code></pre>
</li>
</ul>
</div><h2>6. SSL/TLS Issues</h2>
<div class='content'><ul>
<li>
<p><strong>Check Certificate Files</strong>: Ensure that the SSL certificate and key files are correctly specified and accessible.</p>
<pre><code class="language-nginx">server {
    listen 443 ssl;
    server_name example.com;

    ssl_certificate /etc/nginx/ssl/example.com.crt;
    ssl_certificate_key /etc/nginx/ssl/example.com.key;
}
</code></pre>
</li>
<li>
<p><strong>Correct Permissions</strong>: Ensure that the certificate files have the correct permissions.</p>
<pre><code class="language-bash">sudo chmod 600 /etc/nginx/ssl/example.com.key
</code></pre>
</li>
</ul>
</div><h2>7. High CPU/Memory Usage</h2>
<div class='content'><ul>
<li>
<p><strong>Optimize Configuration</strong>: Review and optimize your NGINX configuration settings, such as worker processes and connections.</p>
<pre><code class="language-nginx">worker_processes auto;
events {
    worker_connections 1024;
}
</code></pre>
</li>
<li>
<p><strong>Caching</strong>: Implement caching to reduce load on the server.</p>
<pre><code class="language-nginx">location / {
    proxy_cache my_cache;
    proxy_cache_valid 200 1h;
    proxy_pass http://backend;
}
</code></pre>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Troubleshooting NGINX can be challenging, but understanding common issues and their solutions can significantly ease the process. Always start by checking the configuration syntax, verifying file paths and permissions, and ensuring that backend services are running correctly. With these steps, you can resolve most common NGINX issues efficiently.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='logging-and-log-management'>&#x25C4;Logging and Log Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Troubleshooting Common Issues</a>
	</div>
	<div class='col-4 text-end'>
					<a href='debugging-nginx'>Debugging NGINX &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
