<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verifying Behavior</title>

    <link rel="alternate" href="https://campusempresa.com/junit/verifying-behavior" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/junit/verifying-behavior" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/junit/verifying-behavior" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/junit/verifying-behavior" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/junit/verifying-behavior" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='stubbing-methods'>&#x25C4;Stubbing Methods</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Verifying Behavior</a>
	</div>
	<div class='col-4 text-end'>
					<a href='custom-test-runners'>Custom Test Runners &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to verify the behavior of your code using JUnit. Verifying behavior is a crucial aspect of unit testing, as it ensures that your methods not only produce the correct output but also interact with other components in the expected manner.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Behavior Verification</strong>: Ensuring that a method interacts with its dependencies correctly.</li>
<li><strong>Mocks and Stubs</strong>: Tools to simulate the behavior of complex objects.</li>
<li><strong>Assertions</strong>: Statements that check if a condition is true.</li>
</ul>
</div><h1>Using Mocks and Stubs</h1>
<div class='content'><p>Mocks and stubs are essential for isolating the unit of code you are testing. They allow you to simulate the behavior of complex objects and focus on the interactions.</p>
</div><h2>Creating Mocks</h2>
<div class='content'><p>To create a mock object, you can use libraries like Mockito. Here's a simple example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CgpwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldFVzZXIoKSB7CiAgICAgICAgLy8gQ3JlYXRlIGEgbW9jayBvYmplY3Qgb2YgVXNlclJlcG9zaXRvcnkKICAgICAgICBVc2VyUmVwb3NpdG9yeSBtb2NrUmVwb3NpdG9yeSA9IG1vY2soVXNlclJlcG9zaXRvcnkuY2xhc3MpOwoKICAgICAgICAvLyBEZWZpbmUgdGhlIGJlaGF2aW9yIG9mIHRoZSBtb2NrIG9iamVjdAogICAgICAgIHdoZW4obW9ja1JlcG9zaXRvcnkuZmluZFVzZXJCeUlkKDEpKS50aGVuUmV0dXJuKG5ldyBVc2VyKDEsICJKb2huIERvZSIpKTsKCiAgICAgICAgLy8gVXNlIHRoZSBtb2NrIG9iamVjdCBpbiB5b3VyIHRlc3QKICAgICAgICBVc2VyU2VydmljZSB1c2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShtb2NrUmVwb3NpdG9yeSk7CiAgICAgICAgVXNlciB1c2VyID0gdXNlclNlcnZpY2UuZ2V0VXNlcigxKTsKCiAgICAgICAgLy8gVmVyaWZ5IHRoZSBiZWhhdmlvcgogICAgICAgIGFzc2VydEVxdWFscygiSm9obiBEb2UiLCB1c2VyLmdldE5hbWUoKSk7CiAgICAgICAgdmVyaWZ5KG1vY2tSZXBvc2l0b3J5KS5maW5kVXNlckJ5SWQoMSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;

public class UserServiceTest {

    @Test
    public void testGetUser() {
        // Create a mock object of UserRepository
        UserRepository mockRepository = mock(UserRepository.class);

        // Define the behavior of the mock object
        when(mockRepository.findUserById(1)).thenReturn(new User(1, &quot;John Doe&quot;));

        // Use the mock object in your test
        UserService userService = new UserService(mockRepository);
        User user = userService.getUser(1);

        // Verify the behavior
        assertEquals(&quot;John Doe&quot;, user.getName());
        verify(mockRepository).findUserById(1);
    }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>We create a mock object of <code>UserRepository</code>.</li>
<li>We define the behavior of the mock object using <code>when</code> and <code>thenReturn</code>.</li>
<li>We use the mock object in our <code>UserService</code> class.</li>
<li>We verify the behavior using <code>verify</code>.</li>
</ul>
</div><h2>Stubbing Methods</h2>
<div class='content'><p>Stubbing is used to specify the behavior of a mock object. It is particularly useful when you need to simulate different scenarios.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CgpwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldFVzZXJOb3RGb3VuZCgpIHsKICAgICAgICAvLyBDcmVhdGUgYSBtb2NrIG9iamVjdCBvZiBVc2VyUmVwb3NpdG9yeQogICAgICAgIFVzZXJSZXBvc2l0b3J5IG1vY2tSZXBvc2l0b3J5ID0gbW9jayhVc2VyUmVwb3NpdG9yeS5jbGFzcyk7CgogICAgICAgIC8vIERlZmluZSB0aGUgYmVoYXZpb3Igb2YgdGhlIG1vY2sgb2JqZWN0IGZvciBhIHNwZWNpZmljIHNjZW5hcmlvCiAgICAgICAgd2hlbihtb2NrUmVwb3NpdG9yeS5maW5kVXNlckJ5SWQoMikpLnRoZW5SZXR1cm4obnVsbCk7CgogICAgICAgIC8vIFVzZSB0aGUgbW9jayBvYmplY3QgaW4geW91ciB0ZXN0CiAgICAgICAgVXNlclNlcnZpY2UgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UobW9ja1JlcG9zaXRvcnkpOwogICAgICAgIFVzZXIgdXNlciA9IHVzZXJTZXJ2aWNlLmdldFVzZXIoMik7CgogICAgICAgIC8vIFZlcmlmeSB0aGUgYmVoYXZpb3IKICAgICAgICBhc3NlcnROdWxsKHVzZXIpOwogICAgICAgIHZlcmlmeShtb2NrUmVwb3NpdG9yeSkuZmluZFVzZXJCeUlkKDIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;

public class UserServiceTest {

    @Test
    public void testGetUserNotFound() {
        // Create a mock object of UserRepository
        UserRepository mockRepository = mock(UserRepository.class);

        // Define the behavior of the mock object for a specific scenario
        when(mockRepository.findUserById(2)).thenReturn(null);

        // Use the mock object in your test
        UserService userService = new UserService(mockRepository);
        User user = userService.getUser(2);

        // Verify the behavior
        assertNull(user);
        verify(mockRepository).findUserById(2);
    }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>We stub the <code>findUserById</code> method to return <code>null</code> when the user ID is 2.</li>
<li>We verify that the method was called with the correct parameter.</li>
</ul>
</div><h1>Assertions</h1>
<div class='content'><p>Assertions are used to check if a condition is true. JUnit provides several assertion methods to verify the behavior of your code.</p>
</div><h2>Common Assertions</h2>
<div class='content'><p>| Assertion Method         | Description                                 |
|--------------------------|---------------------------------------------|
| <code>assertEquals(expected, actual)</code> | Checks if two values are equal.          |
| <code>assertTrue(condition)</code>  | Checks if a condition is true.              |
| <code>assertFalse(condition)</code> | Checks if a condition is false.             |
| <code>assertNull(object)</code>     | Checks if an object is null.                |
| <code>assertNotNull(object)</code>  | Checks if an object is not null.            |</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEFkZCgpIHsKICAgICAgICBDYWxjdWxhdG9yIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwogICAgICAgIGludCByZXN1bHQgPSBjYWxjdWxhdG9yLmFkZCgyLCAzKTsKCiAgICAgICAgLy8gVmVyaWZ5IHRoZSByZXN1bHQgdXNpbmcgYXNzZXJ0aW9ucwogICAgICAgIGFzc2VydEVxdWFscyg1LCByZXN1bHQpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0RGl2aWRlKCkgewogICAgICAgIENhbGN1bGF0b3IgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CiAgICAgICAgaW50IHJlc3VsdCA9IGNhbGN1bGF0b3IuZGl2aWRlKDEwLCAyKTsKCiAgICAgICAgLy8gVmVyaWZ5IHRoZSByZXN1bHQgdXNpbmcgYXNzZXJ0aW9ucwogICAgICAgIGFzc2VydEVxdWFscyg1LCByZXN1bHQpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CalculatorTest {

    @Test
    public void testAdd() {
        Calculator calculator = new Calculator();
        int result = calculator.add(2, 3);

        // Verify the result using assertions
        assertEquals(5, result);
    }

    @Test
    public void testDivide() {
        Calculator calculator = new Calculator();
        int result = calculator.divide(10, 2);

        // Verify the result using assertions
        assertEquals(5, result);
    }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>We use <code>assertEquals</code> to verify that the <code>add</code> and <code>divide</code> methods return the expected results.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Verifying behavior is a fundamental aspect of unit testing with JUnit. By using mocks, stubs, and assertions, you can ensure that your methods interact with their dependencies correctly and produce the expected results. This not only helps in identifying bugs early but also makes your code more robust and maintainable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='stubbing-methods'>&#x25C4;Stubbing Methods</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Verifying Behavior</a>
	</div>
	<div class='col-4 text-end'>
					<a href='custom-test-runners'>Custom Test Runners &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
