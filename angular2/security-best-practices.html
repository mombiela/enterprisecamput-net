<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Best Practices</title>

    <link rel="alternate" href="https://campusempresa.com/angular2/security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/angular2/security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/angular2/security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/angular2/security-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/angular2/security-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='code-style-and-linting'>&#x25C4;Code Style and Linting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-setup'>Project Setup &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Security is a critical aspect of web development, and Angular 2+ provides several built-in features to help developers create secure applications. This section will cover best practices for securing your Angular applications from common vulnerabilities and attacks.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Cross-Site Scripting (XSS)</strong></li>
<li><strong>Cross-Site Request Forgery (CSRF)</strong></li>
<li><strong>Authentication and Authorization</strong></li>
<li><strong>Secure HTTP Headers</strong></li>
<li><strong>Data Encryption</strong></li>
<li><strong>Dependency Management</strong></li>
</ul>
</div><h1>Cross-Site Scripting (XSS)</h1>
<div class='content'><p>Cross-Site Scripting (XSS) is a type of vulnerability where an attacker injects malicious scripts into content from otherwise trusted websites. Angular provides built-in mechanisms to prevent XSS attacks.</p>
</div><h2>Angular's Built-in XSS Protection</h2>
<div class='content'><p>Angular automatically escapes data binding expressions to prevent XSS attacks. For example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBUaGlzIHdpbGwgYmUgZXNjYXBlZCBieSBBbmd1bGFyIC0tPgo8ZGl2Pnt7IHVzZXJJbnB1dCB9fTwvZGl2Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- This will be escaped by Angular --&gt;
&lt;div&gt;{{ userInput }}&lt;/div&gt;</pre></div><div class='content'></div><h2>Sanitizing HTML</h2>
<div class='content'><p>If you need to bind HTML content, use Angular's <code>DomSanitizer</code> to sanitize the content:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgRG9tU2FuaXRpemVyLCBTYWZlSHRtbCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOwoKZXhwb3J0IGNsYXNzIFNhZmVIdG1sQ29tcG9uZW50IHsKICBzYWZlSHRtbDogU2FmZUh0bWw7CgogIGNvbnN0cnVjdG9yKHByaXZhdGUgc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHsKICAgIGNvbnN0IGRhbmdlcm91c0h0bWwgPSAnPGltZyBzcmM9ImphdmFzY3JpcHQ6YWxlcnQoXCdYU1NcJykiPic7CiAgICB0aGlzLnNhZmVIdG1sID0gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoZGFuZ2Vyb3VzSHRtbCk7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

export class SafeHtmlComponent {
  safeHtml: SafeHtml;

  constructor(private sanitizer: DomSanitizer) {
    const dangerousHtml = '&lt;img src=&quot;javascript:alert(\'XSS\')&quot;&gt;';
    this.safeHtml = this.sanitizer.bypassSecurityTrustHtml(dangerousHtml);
  }
}</pre></div><div class='content'></div><h1>Cross-Site Request Forgery (CSRF)</h1>
<div class='content'><p>CSRF attacks trick users into performing actions they did not intend to perform. Angular's HttpClient can be configured to include CSRF tokens in requests.</p>
</div><h2>Configuring CSRF Protection</h2>
<div class='content'><p>Ensure your backend is set up to generate and validate CSRF tokens. Then, configure Angular's HttpClient to include the CSRF token in requests:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7Cgpjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHsKICAnWC1DU1JGLVRva2VuJzogJ3lvdXItY3NyZi10b2tlbicKfSk7Cgp0aGlzLmh0dHBDbGllbnQucG9zdCgnL2FwaS9lbmRwb2ludCcsIGRhdGEsIHsgaGVhZGVycyB9KS5zdWJzY3JpYmUocmVzcG9uc2UgPT4gewogIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient, HttpHeaders } from '@angular/common/http';

const headers = new HttpHeaders({
  'X-CSRF-Token': 'your-csrf-token'
});

this.httpClient.post('/api/endpoint', data, { headers }).subscribe(response =&gt; {
  console.log(response);
});</pre></div><div class='content'></div><h1>Authentication and Authorization</h1>
<div class='content'><p>Authentication verifies the identity of a user, while authorization determines what an authenticated user is allowed to do.</p>
</div><h2>Implementing Authentication</h2>
<div class='content'><p>Use Angular's <code>HttpClient</code> to handle authentication requests:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJzsKCmV4cG9ydCBjbGFzcyBBdXRoU2VydmljZSB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwQ2xpZW50OiBIdHRwQ2xpZW50KSB7fQoKICBsb2dpbihjcmVkZW50aWFsczogeyB1c2VybmFtZTogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nIH0pIHsKICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdCgnL2FwaS9sb2dpbicsIGNyZWRlbnRpYWxzKTsKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient } from '@angular/common/http';

export class AuthService {
  constructor(private httpClient: HttpClient) {}

  login(credentials: { username: string; password: string }) {
    return this.httpClient.post('/api/login', credentials);
  }
}</pre></div><div class='content'></div><h2>Route Guards for Authorization</h2>
<div class='content'><p>Use Angular's route guards to protect routes based on user roles or permissions:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBDYW5BY3RpdmF0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJzsKaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuL2F1dGguc2VydmljZSc7CgpASW5qZWN0YWJsZSh7CiAgcHJvdmlkZWRJbjogJ3Jvb3QnCn0pCmV4cG9ydCBjbGFzcyBBdXRoR3VhcmQgaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2UsIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIpIHt9CgogIGNhbkFjdGl2YXRlKCk6IGJvb2xlYW4gewogICAgaWYgKHRoaXMuYXV0aFNlcnZpY2UuaXNMb2dnZWRJbigpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvbG9naW4nXSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { CanActivate, Router } from '@angular/router';
import { AuthService } from './auth.service';

@Injectable({
  providedIn: 'root'
})
export class AuthGuard implements CanActivate {
  constructor(private authService: AuthService, private router: Router) {}

  canActivate(): boolean {
    if (this.authService.isLoggedIn()) {
      return true;
    } else {
      this.router.navigate(['/login']);
      return false;
    }
  }
}</pre></div><div class='content'></div><h1>Secure HTTP Headers</h1>
<div class='content'><p>Secure HTTP headers help protect your application from various attacks. Use Angular's <code>HttpClient</code> to set these headers.</p>
</div><h2>Setting Secure Headers</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7Cgpjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHsKICAnQ29udGVudC1TZWN1cml0eS1Qb2xpY3knOiAiZGVmYXVsdC1zcmMgJ3NlbGYnIiwKICAnWC1Db250ZW50LVR5cGUtT3B0aW9ucyc6ICdub3NuaWZmJywKICAnWC1GcmFtZS1PcHRpb25zJzogJ0RFTlknCn0pOwoKdGhpcy5odHRwQ2xpZW50LmdldCgnL2FwaS9zZWN1cmUtZW5kcG9pbnQnLCB7IGhlYWRlcnMgfSkuc3Vic2NyaWJlKHJlc3BvbnNlID0+IHsKICBjb25zb2xlLmxvZyhyZXNwb25zZSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient, HttpHeaders } from '@angular/common/http';

const headers = new HttpHeaders({
  'Content-Security-Policy': &quot;default-src 'self'&quot;,
  'X-Content-Type-Options': 'nosniff',
  'X-Frame-Options': 'DENY'
});

this.httpClient.get('/api/secure-endpoint', { headers }).subscribe(response =&gt; {
  console.log(response);
});</pre></div><div class='content'></div><h1>Data Encryption</h1>
<div class='content'><p>Encrypt sensitive data before storing or transmitting it to ensure confidentiality and integrity.</p>
</div><h2>Using CryptoJS for Encryption</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICogYXMgQ3J5cHRvSlMgZnJvbSAnY3J5cHRvLWpzJzsKCmNvbnN0IHNlY3JldEtleSA9ICdteS1zZWNyZXQta2V5JzsKY29uc3QgZGF0YSA9ICdTZW5zaXRpdmUgZGF0YSc7Cgpjb25zdCBlbmNyeXB0ZWREYXRhID0gQ3J5cHRvSlMuQUVTLmVuY3J5cHQoZGF0YSwgc2VjcmV0S2V5KS50b1N0cmluZygpOwpjb25zdCBkZWNyeXB0ZWREYXRhID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQoZW5jcnlwdGVkRGF0YSwgc2VjcmV0S2V5KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7Cgpjb25zb2xlLmxvZygnRW5jcnlwdGVkOicsIGVuY3J5cHRlZERhdGEpOwpjb25zb2xlLmxvZygnRGVjcnlwdGVkOicsIGRlY3J5cHRlZERhdGEpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import * as CryptoJS from 'crypto-js';

const secretKey = 'my-secret-key';
const data = 'Sensitive data';

const encryptedData = CryptoJS.AES.encrypt(data, secretKey).toString();
const decryptedData = CryptoJS.AES.decrypt(encryptedData, secretKey).toString(CryptoJS.enc.Utf8);

console.log('Encrypted:', encryptedData);
console.log('Decrypted:', decryptedData);</pre></div><div class='content'></div><h1>Dependency Management</h1>
<div class='content'><p>Keep your dependencies up to date to avoid vulnerabilities in third-party libraries.</p>
</div><h2>Using npm Audit</h2>
<div class='content'><p>Run <code>npm audit</code> to check for vulnerabilities in your dependencies:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGF1ZGl0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm audit</pre></div><div class='content'></div><h2>Updating Dependencies</h2>
<div class='content'><p>Use <code>npm update</code> to update your dependencies:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHVwZGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm update</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>By following these security best practices, you can significantly reduce the risk of vulnerabilities in your Angular applications. Always stay informed about the latest security threats and keep your dependencies up to date. Security is an ongoing process, and vigilance is key to maintaining a secure application.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='code-style-and-linting'>&#x25C4;Code Style and Linting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-setup'>Project Setup &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
