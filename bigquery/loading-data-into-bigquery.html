<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading Data into BigQuery</title>

    <link rel="alternate" href="https://campusempresa.com/bigquery/loading-data-into-bigquery" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/bigquery/loading-data-into-bigquery" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/bigquery/loading-data-into-bigquery" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/bigquery/loading-data-into-bigquery" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/bigquery/loading-data-into-bigquery" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='handling-nulls'>&#x25C4;Handling NULLs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Loading Data into BigQuery</a>
	</div>
	<div class='col-4 text-end'>
					<a href='exporting-data-from-bigquery'>Exporting Data from BigQuery &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Loading data into BigQuery is a fundamental skill for anyone working with this powerful data warehouse. This topic will guide you through the various methods and best practices for loading data into BigQuery, from beginner to advanced levels.</p>
</div><h1>Methods of Loading Data</h1>
<div class='content'><p>BigQuery supports several methods for loading data, each suitable for different scenarios and data sizes.</p>
<ul>
<li><strong>Web UI</strong>: Suitable for small datasets and quick uploads.</li>
<li><strong>bq Command-Line Tool</strong>: Ideal for scripting and automation.</li>
<li><strong>API</strong>: Useful for programmatic data loading.</li>
<li><strong>Cloud Storage</strong>: Best for large datasets and integration with other Google Cloud services.</li>
<li><strong>Data Transfer Service</strong>: Automates data transfer from various sources.</li>
</ul>
</div><h1>Loading Data via the Web UI</h1>
<div class='content'><p>The Web UI is the simplest way to load data into BigQuery, especially for beginners.</p>
<ol>
<li><strong>Navigate to BigQuery in the Google Cloud Console</strong>.</li>
<li><strong>Select your dataset</strong>.</li>
<li><strong>Click on &quot;Create Table&quot;</strong>.</li>
<li><strong>Choose your source</strong> (e.g., upload a file from your local machine).</li>
<li><strong>Configure the schema</strong> (either auto-detect or manually specify).</li>
<li><strong>Click &quot;Create Table&quot;</strong>.</li>
</ol>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("MS4gR28gdG8gdGhlIEJpZ1F1ZXJ5IGNvbnNvbGUuCjIuIFNlbGVjdCB5b3VyIGRhdGFzZXQuCjMuIENsaWNrIG9uICJDcmVhdGUgVGFibGUiLgo0LiBJbiB0aGUgIlNvdXJjZSIgc2VjdGlvbiwgc2VsZWN0ICJVcGxvYWQiIGFuZCBjaG9vc2UgeW91ciBmaWxlLgo1LiBJbiB0aGUgIlNjaGVtYSIgc2VjdGlvbiwgc2VsZWN0ICJBdXRvLWRldGVjdCIgb3IgbWFudWFsbHkgZW50ZXIgdGhlIHNjaGVtYS4KNi4gQ2xpY2sgIkNyZWF0ZSBUYWJsZSIu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>1. Go to the BigQuery console.
2. Select your dataset.
3. Click on &quot;Create Table&quot;.
4. In the &quot;Source&quot; section, select &quot;Upload&quot; and choose your file.
5. In the &quot;Schema&quot; section, select &quot;Auto-detect&quot; or manually enter the schema.
6. Click &quot;Create Table&quot;.</pre></div><div class='content'></div><h1>Loading Data via the bq Command-Line Tool</h1>
<div class='content'><p>The <code>bq</code> command-line tool is powerful for automating data loads and integrating into scripts.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YnEgbG9hZCAtLXNvdXJjZV9mb3JtYXQ9Q1NWIG15ZGF0YXNldC5teXRhYmxlIGdzOi8vbXlidWNrZXQvbXlmaWxlLmNzdg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>bq load --source_format=CSV mydataset.mytable gs://mybucket/myfile.csv</pre></div><div class='content'><ul>
<li><code>mydataset.mytable</code>: The target dataset and table.</li>
<li><code>gs://mybucket/myfile.csv</code>: The source file in Google Cloud Storage.</li>
<li><code>--source_format=CSV</code>: Specifies the format of the source file.</li>
</ul>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>bq load</strong>: Command to load data.</li>
<li><strong>--source_format</strong>: Specifies the format (CSV, JSON, AVRO, etc.).</li>
<li><strong>mydataset.mytable</strong>: The destination dataset and table.</li>
<li><strong>gs://mybucket/myfile.csv</strong>: The path to the source file in Google Cloud Storage.</li>
</ul>
</div><h1>Loading Data via the API</h1>
<div class='content'><p>Using the BigQuery API allows for programmatic control over data loading, suitable for complex workflows.</p>
</div><h2>Example (Python)</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IGJpZ3F1ZXJ5CgpjbGllbnQgPSBiaWdxdWVyeS5DbGllbnQoKQoKZGF0YXNldF9pZCA9ICdteWRhdGFzZXQnCnRhYmxlX2lkID0gJ215dGFibGUnCnVyaSA9ICdnczovL215YnVja2V0L215ZmlsZS5jc3YnCgpqb2JfY29uZmlnID0gYmlncXVlcnkuTG9hZEpvYkNvbmZpZygKICAgIHNvdXJjZV9mb3JtYXQ9YmlncXVlcnkuU291cmNlRm9ybWF0LkNTViwKICAgIGF1dG9kZXRlY3Q9VHJ1ZSwKKQoKbG9hZF9qb2IgPSBjbGllbnQubG9hZF90YWJsZV9mcm9tX3VyaSgKICAgIHVyaSwgZid7ZGF0YXNldF9pZH0ue3RhYmxlX2lkfScsIGpvYl9jb25maWc9am9iX2NvbmZpZwopCgpsb2FkX2pvYi5yZXN1bHQoKSAgIyBXYWl0cyBmb3IgdGhlIGpvYiB0byBjb21wbGV0ZS4KCnByaW50KGYnTG9hZGVkIHtsb2FkX2pvYi5vdXRwdXRfcm93c30gcm93cyBpbnRvIHtkYXRhc2V0X2lkfTp7dGFibGVfaWR9Licp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from google.cloud import bigquery

client = bigquery.Client()

dataset_id = 'mydataset'
table_id = 'mytable'
uri = 'gs://mybucket/myfile.csv'

job_config = bigquery.LoadJobConfig(
    source_format=bigquery.SourceFormat.CSV,
    autodetect=True,
)

load_job = client.load_table_from_uri(
    uri, f'{dataset_id}.{table_id}', job_config=job_config
)

load_job.result()  # Waits for the job to complete.

print(f'Loaded {load_job.output_rows} rows into {dataset_id}:{table_id}.')</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>bigquery.Client()</strong>: Initializes the BigQuery client.</li>
<li><strong>dataset_id</strong> and <strong>table_id</strong>: Specify the target dataset and table.</li>
<li><strong>uri</strong>: The source file location in Google Cloud Storage.</li>
<li><strong>bigquery.LoadJobConfig</strong>: Configuration for the load job, including source format and schema detection.</li>
<li><strong>load_table_from_uri</strong>: Initiates the load job.</li>
<li><strong>load_job.result()</strong>: Waits for the job to complete and returns the result.</li>
</ul>
</div><h1>Loading Data from Cloud Storage</h1>
<div class='content'><p>Loading data from Google Cloud Storage is efficient for handling large datasets.</p>
</div><h2>Steps</h2>
<div class='content'><ol>
<li><strong>Upload your data to a Cloud Storage bucket</strong>.</li>
<li><strong>Use the Web UI, bq command-line tool, or API to load the data</strong>.</li>
</ol>
</div><h2>Example (bq Command-Line Tool)</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YnEgbG9hZCAtLXNvdXJjZV9mb3JtYXQ9Q1NWIG15ZGF0YXNldC5teXRhYmxlIGdzOi8vbXlidWNrZXQvbGFyZ2VmaWxlLmNzdg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>bq load --source_format=CSV mydataset.mytable gs://mybucket/largefile.csv</pre></div><div class='content'></div><h1>Data Transfer Service</h1>
<div class='content'><p>The BigQuery Data Transfer Service automates data transfers from various sources, such as Google Ads, YouTube, and more.</p>
</div><h2>Steps</h2>
<div class='content'><ol>
<li><strong>Navigate to the BigQuery Data Transfer Service in the Google Cloud Console</strong>.</li>
<li><strong>Create a new transfer configuration</strong>.</li>
<li><strong>Select the data source</strong>.</li>
<li><strong>Configure the transfer settings</strong>.</li>
<li><strong>Schedule the transfer</strong>.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Loading data into BigQuery can be done through various methods, each suited to different needs and scenarios. Whether you are a beginner using the Web UI or an advanced user automating loads with the API, understanding these methods will help you efficiently manage your data in BigQuery.</p>
<ul>
<li><strong>Web UI</strong>: Quick and easy for small datasets.</li>
<li><strong>bq Command-Line Tool</strong>: Great for automation and scripting.</li>
<li><strong>API</strong>: Ideal for programmatic control.</li>
<li><strong>Cloud Storage</strong>: Efficient for large datasets.</li>
<li><strong>Data Transfer Service</strong>: Automates data transfers from various sources.</li>
</ul>
<p>By mastering these techniques, you can ensure that your data is loaded into BigQuery accurately and efficiently, ready for analysis and querying.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='handling-nulls'>&#x25C4;Handling NULLs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Loading Data into BigQuery</a>
	</div>
	<div class='col-4 text-end'>
					<a href='exporting-data-from-bigquery'>Exporting Data from BigQuery &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
