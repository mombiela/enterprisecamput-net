<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Analytics with BigQuery</title>

    <link rel="alternate" href="https://campusempresa.com/bigquery/real-time-analytics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/bigquery/real-time-analytics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/bigquery/real-time-analytics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/bigquery/real-time-analytics" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/bigquery/real-time-analytics" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='building-a-data-warehouse'>&#x25C4;Building a Data Warehouse</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Real-Time Analytics with BigQuery</a>
	</div>
	<div class='col-4 text-end'>
					<a href='case-studies'>Case Studies &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Real-Time Analytics</h1>
<div class='content'><p>Real-time analytics involves processing and analyzing data as it is created or received. This allows businesses to gain immediate insights and make timely decisions. BigQuery, a fully-managed data warehouse by Google Cloud, is well-suited for real-time analytics due to its scalability, speed, and integration capabilities.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Streaming Data</strong>: Continuous flow of data generated by various sources such as sensors, applications, and user activities.</li>
<li><strong>Batch Processing</strong>: Processing large volumes of data at once, typically at scheduled intervals.</li>
<li><strong>Real-Time Processing</strong>: Analyzing data as it arrives, with minimal latency.</li>
<li><strong>BigQuery Streaming API</strong>: Allows real-time data ingestion into BigQuery tables.</li>
</ul>
</div><h1>Setting Up BigQuery for Real-Time Analytics</h1>
<h2>Creating a BigQuery Dataset and Table</h2>
<div class='content'><p>Before streaming data into BigQuery, you need to create a dataset and a table.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXRlIGEgZGF0YXNldApDUkVBVEUgU0NIRU1BIG15X2RhdGFzZXQ7CgotLSBDcmVhdGUgYSB0YWJsZQpDUkVBVEUgVEFCTEUgbXlfZGF0YXNldC5yZWFsdGltZV9kYXRhICgKICBpZCBJTlQ2NCwKICBldmVudF90aW1lIFRJTUVTVEFNUCwKICBldmVudF90eXBlIFNUUklORywKICBldmVudF92YWx1ZSBGTE9BVDY0Cik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Create a dataset
CREATE SCHEMA my_dataset;

-- Create a table
CREATE TABLE my_dataset.realtime_data (
  id INT64,
  event_time TIMESTAMP,
  event_type STRING,
  event_value FLOAT64
);</pre></div><div class='content'><ul>
<li><strong>Dataset</strong>: A container for tables.</li>
<li><strong>Table</strong>: A structured format to store data.</li>
</ul>
</div><h2>Streaming Data into BigQuery</h2>
<div class='content'><p>BigQuery provides a Streaming API to insert data in real-time.</p>
<h4>Using Python to Stream Data</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IGJpZ3F1ZXJ5CmltcG9ydCBkYXRldGltZQoKIyBJbml0aWFsaXplIGEgQmlnUXVlcnkgY2xpZW50CmNsaWVudCA9IGJpZ3F1ZXJ5LkNsaWVudCgpCgojIERlZmluZSB0aGUgdGFibGUgSUQKdGFibGVfaWQgPSAibXlfcHJvamVjdC5teV9kYXRhc2V0LnJlYWx0aW1lX2RhdGEiCgojIERlZmluZSB0aGUgcm93cyB0byBpbnNlcnQKcm93c190b19pbnNlcnQgPSBbCiAgICB7ImlkIjogMSwgImV2ZW50X3RpbWUiOiBkYXRldGltZS5kYXRldGltZS51dGNub3coKSwgImV2ZW50X3R5cGUiOiAiY2xpY2siLCAiZXZlbnRfdmFsdWUiOiAxLjB9LAogICAgeyJpZCI6IDIsICJldmVudF90aW1lIjogZGF0ZXRpbWUuZGF0ZXRpbWUudXRjbm93KCksICJldmVudF90eXBlIjogInZpZXciLCAiZXZlbnRfdmFsdWUiOiAwLjV9LApdCgojIEluc2VydCB0aGUgcm93cwplcnJvcnMgPSBjbGllbnQuaW5zZXJ0X3Jvd3NfanNvbih0YWJsZV9pZCwgcm93c190b19pbnNlcnQpCgppZiBlcnJvcnMgPT0gW106CiAgICBwcmludCgiTmV3IHJvd3MgaGF2ZSBiZWVuIGFkZGVkLiIpCmVsc2U6CiAgICBwcmludCgiRW5jb3VudGVyZWQgZXJyb3JzIHdoaWxlIGluc2VydGluZyByb3dzOiB7fSIuZm9ybWF0KGVycm9ycykp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from google.cloud import bigquery
import datetime

# Initialize a BigQuery client
client = bigquery.Client()

# Define the table ID
table_id = &quot;my_project.my_dataset.realtime_data&quot;

# Define the rows to insert
rows_to_insert = [
    {&quot;id&quot;: 1, &quot;event_time&quot;: datetime.datetime.utcnow(), &quot;event_type&quot;: &quot;click&quot;, &quot;event_value&quot;: 1.0},
    {&quot;id&quot;: 2, &quot;event_time&quot;: datetime.datetime.utcnow(), &quot;event_type&quot;: &quot;view&quot;, &quot;event_value&quot;: 0.5},
]

# Insert the rows
errors = client.insert_rows_json(table_id, rows_to_insert)

if errors == []:
    print(&quot;New rows have been added.&quot;)
else:
    print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))</pre></div><div class='content'><ul>
<li><strong>BigQuery Client</strong>: Used to interact with BigQuery.</li>
<li><strong>Table ID</strong>: Specifies the target table.</li>
<li><strong>Rows to Insert</strong>: Data to be streamed into the table.</li>
</ul>
</div><h1>Querying Real-Time Data</h1>
<div class='content'><p>Once data is streamed into BigQuery, you can query it using SQL.</p>
</div><h2>Basic Query Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUCiAgZXZlbnRfdHlwZSwKICBDT1VOVCgqKSBBUyBldmVudF9jb3VudApGUk9NCiAgbXlfZGF0YXNldC5yZWFsdGltZV9kYXRhCkdST1VQIEJZCiAgZXZlbnRfdHlwZTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT
  event_type,
  COUNT(*) AS event_count
FROM
  my_dataset.realtime_data
GROUP BY
  event_type;</pre></div><div class='content'><ul>
<li><strong>SELECT</strong>: Specifies the columns to retrieve.</li>
<li><strong>GROUP BY</strong>: Aggregates data based on specified columns.</li>
</ul>
</div><h2>Advanced Query Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUCiAgZXZlbnRfdHlwZSwKICBBVkcoZXZlbnRfdmFsdWUpIEFTIGF2Z192YWx1ZSwKICBNQVgoZXZlbnRfdmFsdWUpIEFTIG1heF92YWx1ZSwKICBNSU4oZXZlbnRfdmFsdWUpIEFTIG1pbl92YWx1ZQpGUk9NCiAgbXlfZGF0YXNldC5yZWFsdGltZV9kYXRhCldIRVJFCiAgZXZlbnRfdGltZSA+PSBUSU1FU1RBTVBfU1VCKENVUlJFTlRfVElNRVNUQU1QKCksIElOVEVSVkFMIDEgSE9VUikKR1JPVVAgQlkKICBldmVudF90eXBlOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT
  event_type,
  AVG(event_value) AS avg_value,
  MAX(event_value) AS max_value,
  MIN(event_value) AS min_value
FROM
  my_dataset.realtime_data
WHERE
  event_time &gt;= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 1 HOUR)
GROUP BY
  event_type;</pre></div><div class='content'><ul>
<li><strong>AVG, MAX, MIN</strong>: Aggregate functions to calculate average, maximum, and minimum values.</li>
<li><strong>WHERE</strong>: Filters data based on conditions.</li>
</ul>
</div><h1>Real-Time Analytics Use Cases</h1>
<div class='content'><ul>
<li><strong>Monitoring</strong>: Track system performance and user activities in real-time.</li>
<li><strong>Fraud Detection</strong>: Identify suspicious activities as they occur.</li>
<li><strong>Customer Insights</strong>: Analyze customer behavior to improve services.</li>
</ul>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Schema Design</strong>: Optimize table schema for query performance.</li>
<li><strong>Partitioning and Clustering</strong>: Use partitioned and clustered tables to improve query efficiency.</li>
<li><strong>Error Handling</strong>: Implement robust error handling for streaming data.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Real-time analytics with BigQuery enables businesses to gain immediate insights and make data-driven decisions. By leveraging BigQuery's streaming capabilities, you can efficiently process and analyze data as it arrives. Understanding the key concepts, setting up the environment, and following best practices will help you effectively implement real-time analytics solutions.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='building-a-data-warehouse'>&#x25C4;Building a Data Warehouse</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Real-Time Analytics with BigQuery</a>
	</div>
	<div class='col-4 text-end'>
					<a href='case-studies'>Case Studies &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
