<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visitor Pattern</title>

    <link rel="alternate" href="https://campusempresa.com/patrones_diseno/patron-visitor" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/patrones_diseno/patron-visitor" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/patrones_diseno/patron-visitor" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/patrones_diseno/patron-visitor" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/patrones_diseno/patron-visitor" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>The Visitor Pattern is a behavioral design pattern that allows defining new operations on a structure of objects without changing the classes of the objects on which it operates. This pattern is useful when you want to perform operations on a complex object structure and want to avoid the proliferation of methods in the classes of the structure.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Visitor</strong>: Defines an interface for visiting elements of the structure.</li>
<li><strong>ConcreteVisitor</strong>: Implements the operations defined in the Visitor interface.</li>
<li><strong>Element</strong>: Defines an interface that accepts a Visitor.</li>
<li><strong>ConcreteElement</strong>: Implements the Element interface and defines the <code>accept</code> operation that takes a Visitor as an argument.</li>
<li><strong>Object Structure</strong>: A collection of elements that can be visited by the Visitor.</li>
</ul>
</div><h1>Pattern Structure</h1>
<div class='content'><p>| Component        | Description                                                                 |
|------------------|-----------------------------------------------------------------------------|
| Visitor          | Interface that declares a visit for each type of concrete element.          |
| ConcreteVisitor  | Concrete implementation of the Visitor that defines specific actions.       |
| Element          | Interface that declares the <code>accept</code> method to receive a Visitor.           |
| ConcreteElement  | Concrete implementation of the Element that calls the Visitor's method.     |
| Object Structure | Collection of elements that can be visited.                                 |</p>
</div><h1>Code Example</h1>
<div class='content'><p>Below is an example in Python to illustrate the Visitor Pattern:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCiMgVmlzaXRvciBJbnRlcmZhY2UKY2xhc3MgVmlzaXRvcihBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9hKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHBhc3MKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiB2aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Ioc2VsZiwgZWxlbWVudCk6CiAgICAgICAgcGFzcwoKIyBDb25jcmV0ZSBWaXNpdG9yCmNsYXNzIENvbmNyZXRlVmlzaXRvcjEoVmlzaXRvcik6CiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9hKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHByaW50KGYie2VsZW1lbnQub3BlcmF0aW9uX2EoKX0gdmlzaXRlZCBieSBDb25jcmV0ZVZpc2l0b3IxIikKCiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9iKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHByaW50KGYie2VsZW1lbnQub3BlcmF0aW9uX2IoKX0gdmlzaXRlZCBieSBDb25jcmV0ZVZpc2l0b3IxIikKCiMgRWxlbWVudCBJbnRlcmZhY2UKY2xhc3MgRWxlbWVudChBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgYWNjZXB0KHNlbGYsIHZpc2l0b3IpOgogICAgICAgIHBhc3MKCiMgQ29uY3JldGUgRWxlbWVudHMKY2xhc3MgQ29uY3JldGVFbGVtZW50QShFbGVtZW50KToKICAgIGRlZiBhY2NlcHQoc2VsZiwgdmlzaXRvcik6CiAgICAgICAgdmlzaXRvci52aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Eoc2VsZikKCiAgICBkZWYgb3BlcmF0aW9uX2Eoc2VsZik6CiAgICAgICAgcmV0dXJuICJDb25jcmV0ZUVsZW1lbnRBIgoKY2xhc3MgQ29uY3JldGVFbGVtZW50QihFbGVtZW50KToKICAgIGRlZiBhY2NlcHQoc2VsZiwgdmlzaXRvcik6CiAgICAgICAgdmlzaXRvci52aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Ioc2VsZikKCiAgICBkZWYgb3BlcmF0aW9uX2Ioc2VsZik6CiAgICAgICAgcmV0dXJuICJDb25jcmV0ZUVsZW1lbnRCIgoKIyBPYmplY3QgU3RydWN0dXJlCmVsZW1lbnRzID0gW0NvbmNyZXRlRWxlbWVudEEoKSwgQ29uY3JldGVFbGVtZW50QigpXQoKdmlzaXRvcjEgPSBDb25jcmV0ZVZpc2l0b3IxKCkKCmZvciBlbGVtZW50IGluIGVsZW1lbnRzOgogICAgZWxlbWVudC5hY2NlcHQodmlzaXRvcjEp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

# Visitor Interface
class Visitor(ABC):
    @abstractmethod
    def visit_concrete_element_a(self, element):
        pass

    @abstractmethod
    def visit_concrete_element_b(self, element):
        pass

# Concrete Visitor
class ConcreteVisitor1(Visitor):
    def visit_concrete_element_a(self, element):
        print(f&quot;{element.operation_a()} visited by ConcreteVisitor1&quot;)

    def visit_concrete_element_b(self, element):
        print(f&quot;{element.operation_b()} visited by ConcreteVisitor1&quot;)

# Element Interface
class Element(ABC):
    @abstractmethod
    def accept(self, visitor):
        pass

# Concrete Elements
class ConcreteElementA(Element):
    def accept(self, visitor):
        visitor.visit_concrete_element_a(self)

    def operation_a(self):
        return &quot;ConcreteElementA&quot;

class ConcreteElementB(Element):
    def accept(self, visitor):
        visitor.visit_concrete_element_b(self)

    def operation_b(self):
        return &quot;ConcreteElementB&quot;

# Object Structure
elements = [ConcreteElementA(), ConcreteElementB()]

visitor1 = ConcreteVisitor1()

for element in elements:
    element.accept(visitor1)</pre></div><div class='content'></div><h2>Code Explanation</h2>
<div class='content'><ol>
<li><strong>Visitor Interface</strong>: The <code>Visitor</code> class defines abstract methods for visiting each type of concrete element.</li>
<li><strong>Concrete Visitor</strong>: <code>ConcreteVisitor1</code> implements the methods of the <code>Visitor</code> interface and defines specific actions for each type of element.</li>
<li><strong>Element Interface</strong>: The <code>Element</code> class defines the <code>accept</code> method that takes a Visitor as an argument.</li>
<li><strong>Concrete Elements</strong>: <code>ConcreteElementA</code> and <code>ConcreteElementB</code> implement the <code>accept</code> method and call the corresponding method of the Visitor.</li>
<li><strong>Object Structure</strong>: A list of elements that can be visited by the Visitor.</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'><ol>
<li><strong>Modification of the Example</strong>: Extend the previous example by adding a <code>ConcreteVisitor2</code> that implements different actions for the elements.</li>
<li><strong>New Structure</strong>: Create a new element class <code>ConcreteElementC</code> and update the visitors to handle this new type of element.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>The Visitor Pattern is a powerful tool for separating algorithms from the object structures on which they operate. This allows adding new operations without modifying the element classes, facilitating code extension and maintenance. However, it is important to use this pattern carefully, as it can increase the complexity of the system if not managed properly.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
