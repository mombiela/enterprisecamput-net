<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storage Classes in Kubernetes</title>

    <link rel="alternate" href="https://campusempresa.com/kubernetes/storage-classes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kubernetes/storage-classes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kubernetes/storage-classes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kubernetes/storage-classes" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kubernetes/storage-classes" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='persistent-volumes-and-persistent-volume-claims'>&#x25C4;Persistent Volumes and Persistent Volume Claims</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Storage Classes in Kubernetes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='dynamic-provisioning'>Dynamic Provisioning &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Storage Classes</h1>
<div class='content'><p>Storage Classes in Kubernetes provide a way to describe the &quot;classes&quot; of storage available in a cluster. They allow administrators to define different types of storage (e.g., SSDs, HDDs) and their properties (e.g., performance, availability).</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>StorageClass</strong>: A Kubernetes resource that defines a class of storage.</li>
<li><strong>PersistentVolume (PV)</strong>: A piece of storage in the cluster that has been provisioned by an administrator or dynamically provisioned using StorageClasses.</li>
<li><strong>PersistentVolumeClaim (PVC)</strong>: A request for storage by a user. It can request specific size and access modes.</li>
<li><strong>Dynamic Provisioning</strong>: The process of automatically creating a PersistentVolume when a PersistentVolumeClaim is created.</li>
</ul>
</div><h1>Creating a StorageClass</h1>
<div class='content'><p>To create a StorageClass, you need to define it in a YAML file. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogc3RvcmFnZS5rOHMuaW8vdjEKa2luZDogU3RvcmFnZUNsYXNzCm1ldGFkYXRhOgogIG5hbWU6IGZhc3QKcHJvdmlzaW9uZXI6IGt1YmVybmV0ZXMuaW8vYXdzLWVicwpwYXJhbWV0ZXJzOgogIHR5cGU6IGdwMgogIGZzVHlwZTogZXh0NA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: fast
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp2
  fsType: ext4</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>apiVersion</strong>: The version of the Kubernetes API.</li>
<li><strong>kind</strong>: The type of resource, in this case, <code>StorageClass</code>.</li>
<li><strong>metadata</strong>: Metadata about the resource, including its name.</li>
<li><strong>provisioner</strong>: The type of provisioner to use (e.g., AWS EBS, GCE PD).</li>
<li><strong>parameters</strong>: Specific parameters for the provisioner, such as the type of disk and file system.</li>
</ul>
</div><h1>Using a StorageClass</h1>
<div class='content'><p>To use a StorageClass, you create a PersistentVolumeClaim that references it. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUGVyc2lzdGVudFZvbHVtZUNsYWltCm1ldGFkYXRhOgogIG5hbWU6IG15cHZjCnNwZWM6CiAgYWNjZXNzTW9kZXM6CiAgICAtIFJlYWRXcml0ZU9uY2UKICByZXNvdXJjZXM6CiAgICByZXF1ZXN0czoKICAgICAgc3RvcmFnZTogMTBHaQogIHN0b3JhZ2VDbGFzc05hbWU6IGZhc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mypvc
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: fast</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>apiVersion</strong>: The version of the Kubernetes API.</li>
<li><strong>kind</strong>: The type of resource, in this case, <code>PersistentVolumeClaim</code>.</li>
<li><strong>metadata</strong>: Metadata about the resource, including its name.</li>
<li><strong>spec</strong>: The specification of the claim.
<ul>
<li><strong>accessModes</strong>: The access modes for the volume (e.g., ReadWriteOnce, ReadOnlyMany, ReadWriteMany).</li>
<li><strong>resources</strong>: The resources requested, including the amount of storage.</li>
<li><strong>storageClassName</strong>: The name of the StorageClass to use.</li>
</ul>
</li>
</ul>
</div><h1>Dynamic Provisioning</h1>
<div class='content'><p>When a PersistentVolumeClaim is created and references a StorageClass, Kubernetes will automatically create a PersistentVolume that matches the claim's requirements.</p>
</div><h2>Example</h2>
<div class='content'><p>Here is an example of a dynamically provisioned PersistentVolume:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUGVyc2lzdGVudFZvbHVtZQptZXRhZGF0YToKICBuYW1lOiBwdjAwMDEKc3BlYzoKICBjYXBhY2l0eToKICAgIHN0b3JhZ2U6IDEwR2kKICBhY2Nlc3NNb2RlczoKICAgIC0gUmVhZFdyaXRlT25jZQogIHBlcnNpc3RlbnRWb2x1bWVSZWNsYWltUG9saWN5OiBSZXRhaW4KICBzdG9yYWdlQ2xhc3NOYW1lOiBmYXN0CiAgYXdzRWxhc3RpY0Jsb2NrU3RvcmU6CiAgICB2b2x1bWVJRDogdm9sLTBhODliN2U3YzZlNWY4YjlhCiAgICBmc1R5cGU6IGV4dDQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv0001
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: fast
  awsElasticBlockStore:
    volumeID: vol-0a89b7e7c6e5f8b9a
    fsType: ext4</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>apiVersion</strong>: The version of the Kubernetes API.</li>
<li><strong>kind</strong>: The type of resource, in this case, <code>PersistentVolume</code>.</li>
<li><strong>metadata</strong>: Metadata about the resource, including its name.</li>
<li><strong>spec</strong>: The specification of the volume.
<ul>
<li><strong>capacity</strong>: The capacity of the volume.</li>
<li><strong>accessModes</strong>: The access modes for the volume.</li>
<li><strong>persistentVolumeReclaimPolicy</strong>: The reclaim policy for the volume (e.g., Retain, Recycle, Delete).</li>
<li><strong>storageClassName</strong>: The name of the StorageClass.</li>
<li><strong>awsElasticBlockStore</strong>: Specific configuration for AWS EBS volumes.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Topics</h1>
<h2>Custom Parameters</h2>
<div class='content'><p>You can define custom parameters in your StorageClass to fine-tune the storage provisioning. For example, you can specify IOPS for AWS EBS:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogc3RvcmFnZS5rOHMuaW8vdjEKa2luZDogU3RvcmFnZUNsYXNzCm1ldGFkYXRhOgogIG5hbWU6IGhpZ2gtaW9wcwpwcm92aXNpb25lcjoga3ViZXJuZXRlcy5pby9hd3MtZWJzCnBhcmFtZXRlcnM6CiAgdHlwZTogaW8xCiAgaW9wc1BlckdCOiAiMTAiCiAgZnNUeXBlOiBleHQ0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: high-iops
provisioner: kubernetes.io/aws-ebs
parameters:
  type: io1
  iopsPerGB: &quot;10&quot;
  fsType: ext4</pre></div><div class='content'></div><h2>Reclaim Policies</h2>
<div class='content'><p>Reclaim policies determine what happens to a PersistentVolume when it is released. The possible values are:</p>
<ul>
<li><strong>Retain</strong>: The volume is retained after the PVC is deleted.</li>
<li><strong>Recycle</strong>: The volume is scrubbed and made available again.</li>
<li><strong>Delete</strong>: The volume is deleted.</li>
</ul>
</div><h2>Binding Modes</h2>
<div class='content'><p>Binding modes control when the PersistentVolume is bound to the PersistentVolumeClaim. The possible values are:</p>
<ul>
<li><strong>Immediate</strong>: The volume is bound immediately.</li>
<li><strong>WaitForFirstConsumer</strong>: The volume is bound only when a pod uses the PVC.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Storage Classes in Kubernetes provide a flexible and powerful way to manage storage in your cluster. By defining different classes of storage, you can ensure that your applications have the right type of storage for their needs. Dynamic provisioning simplifies the process of managing storage, allowing you to focus on your applications rather than the underlying infrastructure. Understanding and using Storage Classes effectively can greatly enhance the performance and reliability of your Kubernetes deployments.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='persistent-volumes-and-persistent-volume-claims'>&#x25C4;Persistent Volumes and Persistent Volume Claims</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Storage Classes in Kubernetes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='dynamic-provisioning'>Dynamic Provisioning &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
