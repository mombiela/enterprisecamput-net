<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuous Integration and Continuous Deployment</title>

    <link rel="alternate" href="https://campusempresa.com/kubernetes/continuous-integration-and-continuous-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kubernetes/continuous-integration-and-continuous-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kubernetes/continuous-integration-and-continuous-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kubernetes/continuous-integration-and-continuous-deployment" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kubernetes/continuous-integration-and-continuous-deployment" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='alerting'>&#x25C4;Alerting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Continuous Integration and Continuous Deployment</a>
	</div>
	<div class='col-4 text-end'>
					<a href='jenkins-x'>Jenkins X &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Continuous Integration (CI) and Continuous Deployment (CD) are essential practices in modern software development, especially when working with Kubernetes. This topic will guide you from the basics to advanced concepts, ensuring you understand how to implement CI/CD pipelines effectively.</p>
</div><h1>Introduction to CI/CD</h1>
<div class='content'><ul>
<li><strong>Continuous Integration (CI)</strong>: The practice of frequently integrating code changes into a shared repository, followed by automated builds and tests.</li>
<li><strong>Continuous Deployment (CD)</strong>: The practice of automatically deploying every change that passes the automated tests to production.</li>
</ul>
</div><h1>Benefits of CI/CD</h1>
<div class='content'><ul>
<li><strong>Faster Development Cycles</strong>: Reduces the time between writing code and deploying it.</li>
<li><strong>Improved Code Quality</strong>: Automated tests catch bugs early.</li>
<li><strong>Reduced Manual Effort</strong>: Automation reduces the need for manual intervention.</li>
</ul>
</div><h1>Setting Up a CI/CD Pipeline</h1>
<div class='content'></div><h2>Tools and Technologies</h2>
<div class='content'><ul>
<li><strong>Version Control System (VCS)</strong>: Git, GitHub, GitLab</li>
<li><strong>CI/CD Platforms</strong>: Jenkins, GitHub Actions, GitLab CI, CircleCI</li>
<li><strong>Containerization</strong>: Docker</li>
<li><strong>Orchestration</strong>: Kubernetes</li>
</ul>
</div><h2>Basic CI/CD Pipeline Structure</h2>
<div class='content'><ol>
<li><strong>Code Commit</strong>: Developer commits code to the VCS.</li>
<li><strong>Build</strong>: CI tool builds the application.</li>
<li><strong>Test</strong>: Automated tests are run.</li>
<li><strong>Deploy</strong>: Application is deployed to a staging or production environment.</li>
</ol>
</div><h2>Example: GitHub Actions for CI/CD</h2>
<div class='content'><h4>Workflow File: <code>.github/workflows/ci-cd.yml</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSBuYW1lOiBDaGVja291dCBjb2RlCiAgICAgIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKCiAgICAtIG5hbWU6IFNldCB1cCBEb2NrZXIgQnVpbGR4CiAgICAgIHVzZXM6IGRvY2tlci9zZXR1cC1idWlsZHgtYWN0aW9uQHYxCgogICAgLSBuYW1lOiBCdWlsZCBEb2NrZXIgaW1hZ2UKICAgICAgcnVuOiBkb2NrZXIgYnVpbGQgLXQgbXktYXBwOmxhdGVzdCAuCgogICAgLSBuYW1lOiBSdW4gdGVzdHMKICAgICAgcnVuOiBkb2NrZXIgcnVuIG15LWFwcDpsYXRlc3QgbnBtIHRlc3QKCiAgZGVwbG95OgogICAgbmVlZHM6IGJ1aWxkCiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CgogICAgc3RlcHM6CiAgICAtIG5hbWU6IENoZWNrb3V0IGNvZGUKICAgICAgdXNlczogYWN0aW9ucy9jaGVja291dEB2MgoKICAgIC0gbmFtZTogU2V0IHVwIEt1YmVybmV0ZXMKICAgICAgdXNlczogYXp1cmUvc2V0dXAta3ViZWN0bEB2MQoKICAgIC0gbmFtZTogRGVwbG95IHRvIEt1YmVybmV0ZXMKICAgICAgcnVuOiBrdWJlY3RsIGFwcGx5IC1mIGs4cy9kZXBsb3ltZW50LnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v1

    - name: Build Docker image
      run: docker build -t my-app:latest .

    - name: Run tests
      run: docker run my-app:latest npm test

  deploy:
    needs: build
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Kubernetes
      uses: azure/setup-kubectl@v1

    - name: Deploy to Kubernetes
      run: kubectl apply -f k8s/deployment.yaml</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Trigger</strong>: The workflow triggers on a push to the <code>main</code> branch.</li>
<li><strong>Jobs</strong>: Two jobs, <code>build</code> and <code>deploy</code>.
<ul>
<li><strong>Build Job</strong>:
<ul>
<li>Checks out the code.</li>
<li>Sets up Docker Buildx for building multi-platform images.</li>
<li>Builds the Docker image.</li>
<li>Runs tests inside the Docker container.</li>
</ul>
</li>
<li><strong>Deploy Job</strong>:
<ul>
<li>Depends on the <code>build</code> job.</li>
<li>Sets up Kubernetes CLI.</li>
<li>Deploys the application to Kubernetes using a deployment file.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1>Advanced CI/CD Concepts</h1>
<div class='content'></div><h2>Blue-Green Deployments</h2>
<div class='content'><ul>
<li><strong>Blue-Green Deployment</strong>: A technique to reduce downtime and risk by running two identical production environments, only one of which (blue or green) serves live production traffic at any time.</li>
</ul>
</div><h2>Canary Deployments</h2>
<div class='content'><ul>
<li><strong>Canary Deployment</strong>: Gradually rolling out a new version of the application to a small subset of users before rolling it out to the entire infrastructure.</li>
</ul>
</div><h2>Rollbacks</h2>
<div class='content'><ul>
<li><strong>Rollback</strong>: The process of reverting to a previous stable version of the application if the new deployment fails.</li>
</ul>
</div><h2>Monitoring and Logging</h2>
<div class='content'><ul>
<li><strong>Monitoring Tools</strong>: Prometheus, Grafana</li>
<li><strong>Logging Tools</strong>: ELK Stack (Elasticsearch, Logstash, Kibana), Fluentd</li>
</ul>
</div><h1>Example: Advanced Deployment Strategy</h1>
<div class='content'><h4>Blue-Green Deployment with Kubernetes</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IG15LWFwcC1ibHVlCnNwZWM6CiAgcmVwbGljYXM6IDMKICBzZWxlY3RvcjoKICAgIG1hdGNoTGFiZWxzOgogICAgICBhcHA6IG15LWFwcAogICAgICB2ZXJzaW9uOiBibHVlCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogYmx1ZQogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBteS1hcHAKICAgICAgICBpbWFnZTogbXktYXBwOmJsdWUKLS0tCmFwaVZlcnNpb246IGFwcHMvdjEKa2luZDogRGVwbG95bWVudAptZXRhZGF0YToKICBuYW1lOiBteS1hcHAtZ3JlZW4Kc3BlYzoKICByZXBsaWNhczogMwogIHNlbGVjdG9yOgogICAgbWF0Y2hMYWJlbHM6CiAgICAgIGFwcDogbXktYXBwCiAgICAgIHZlcnNpb246IGdyZWVuCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogZ3JlZW4KICAgIHNwZWM6CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogbXktYXBwCiAgICAgICAgaW1hZ2U6IG15LWFwcDpncmVlbg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-blue
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: blue
  template:
    metadata:
      labels:
        app: my-app
        version: blue
    spec:
      containers:
      - name: my-app
        image: my-app:blue
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-green
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: green
  template:
    metadata:
      labels:
        app: my-app
        version: green
    spec:
      containers:
      - name: my-app
        image: my-app:green</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Deployments</strong>: Two separate deployments, <code>my-app-blue</code> and <code>my-app-green</code>.</li>
<li><strong>Labels</strong>: Used to differentiate between the blue and green versions.</li>
<li><strong>Traffic Switching</strong>: Managed by updating the service selector to point to either the blue or green deployment.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Implementing CI/CD in Kubernetes environments can significantly enhance your development workflow by automating the build, test, and deployment processes. By understanding and utilizing tools like GitHub Actions, Docker, and Kubernetes, you can create robust pipelines that ensure high-quality code and rapid deployment cycles. Advanced strategies like blue-green and canary deployments further minimize downtime and risk, making your applications more resilient and reliable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='alerting'>&#x25C4;Alerting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Continuous Integration and Continuous Deployment</a>
	</div>
	<div class='col-4 text-end'>
					<a href='jenkins-x'>Jenkins X &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
