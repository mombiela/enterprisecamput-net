<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication and Authorization in Kubernetes</title>

    <link rel="alternate" href="https://campusempresa.com/kubernetes/authentication-and-authorization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kubernetes/authentication-and-authorization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kubernetes/authentication-and-authorization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kubernetes/authentication-and-authorization" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kubernetes/authentication-and-authorization" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='statefulsets'>&#x25C4;StatefulSets</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Authentication and Authorization in Kubernetes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='role-based-access-control'>Role-Based Access Control (RBAC) &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Authentication and authorization are critical components in securing a Kubernetes cluster. Authentication verifies the identity of a user or service, while authorization determines what actions they are allowed to perform. This section will guide you through the basics to advanced concepts of authentication and authorization in Kubernetes.</p>
</div><h1>Authentication</h1>
<div class='content'></div><h2>Overview</h2>
<div class='content'><p>Authentication in Kubernetes is the process of verifying the identity of a user or service. Kubernetes supports multiple authentication methods, including:</p>
<ul>
<li><strong>Client Certificates</strong></li>
<li><strong>Bearer Tokens</strong></li>
<li><strong>OpenID Connect Tokens</strong></li>
<li><strong>Webhook Token Authentication</strong></li>
</ul>
</div><h2>Client Certificates</h2>
<div class='content'><p>Client certificates are used to authenticate users and services. Kubernetes uses TLS certificates to secure communication between the client and the API server.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogQ29uZmlnCmNsdXN0ZXJzOgotIGNsdXN0ZXI6CiAgICBjZXJ0aWZpY2F0ZS1hdXRob3JpdHk6IC9wYXRoL3RvL2NhLmNydAogICAgc2VydmVyOiBodHRwczovL2t1YmVybmV0ZXMuZXhhbXBsZS5jb20KICBuYW1lOiBleGFtcGxlLWNsdXN0ZXIKY29udGV4dHM6Ci0gY29udGV4dDoKICAgIGNsdXN0ZXI6IGV4YW1wbGUtY2x1c3RlcgogICAgdXNlcjogZXhhbXBsZS11c2VyCiAgbmFtZTogZXhhbXBsZS1jb250ZXh0CmN1cnJlbnQtY29udGV4dDogZXhhbXBsZS1jb250ZXh0CnVzZXJzOgotIG5hbWU6IGV4YW1wbGUtdXNlcgogIHVzZXI6CiAgICBjbGllbnQtY2VydGlmaWNhdGU6IC9wYXRoL3RvL2NsaWVudC5jcnQKICAgIGNsaWVudC1rZXk6IC9wYXRoL3RvL2NsaWVudC5rZXk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority: /path/to/ca.crt
    server: https://kubernetes.example.com
  name: example-cluster
contexts:
- context:
    cluster: example-cluster
    user: example-user
  name: example-context
current-context: example-context
users:
- name: example-user
  user:
    client-certificate: /path/to/client.crt
    client-key: /path/to/client.key</pre></div><div class='content'></div><h2>Bearer Tokens</h2>
<div class='content'><p>Bearer tokens are a type of token that can be used to authenticate requests to the Kubernetes API server. These tokens are typically used for service accounts.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZUFjY291bnQKbWV0YWRhdGE6CiAgbmFtZTogZXhhbXBsZS1zZXJ2aWNlLWFjY291bnQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: ServiceAccount
metadata:
  name: example-service-account</pre></div><div class='content'></div><h2>OpenID Connect Tokens</h2>
<div class='content'><p>OpenID Connect (OIDC) tokens are used to authenticate users via an external identity provider.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogQ29uZmlnCmNsdXN0ZXJzOgotIGNsdXN0ZXI6CiAgICBjZXJ0aWZpY2F0ZS1hdXRob3JpdHk6IC9wYXRoL3RvL2NhLmNydAogICAgc2VydmVyOiBodHRwczovL2t1YmVybmV0ZXMuZXhhbXBsZS5jb20KICBuYW1lOiBleGFtcGxlLWNsdXN0ZXIKY29udGV4dHM6Ci0gY29udGV4dDoKICAgIGNsdXN0ZXI6IGV4YW1wbGUtY2x1c3RlcgogICAgdXNlcjogb2lkYy11c2VyCiAgbmFtZTogZXhhbXBsZS1jb250ZXh0CmN1cnJlbnQtY29udGV4dDogZXhhbXBsZS1jb250ZXh0CnVzZXJzOgotIG5hbWU6IG9pZGMtdXNlcgogIHVzZXI6CiAgICBhdXRoLXByb3ZpZGVyOgogICAgICBuYW1lOiBvaWRjCiAgICAgIGNvbmZpZzoKICAgICAgICBjbGllbnQtaWQ6IHlvdXItY2xpZW50LWlkCiAgICAgICAgY2xpZW50LXNlY3JldDogeW91ci1jbGllbnQtc2VjcmV0CiAgICAgICAgaWQtdG9rZW46IHlvdXItaWQtdG9rZW4KICAgICAgICBpZHAtaXNzdWVyLXVybDogaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tCiAgICAgICAgcmVmcmVzaC10b2tlbjogeW91ci1yZWZyZXNoLXRva2Vu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority: /path/to/ca.crt
    server: https://kubernetes.example.com
  name: example-cluster
contexts:
- context:
    cluster: example-cluster
    user: oidc-user
  name: example-context
current-context: example-context
users:
- name: oidc-user
  user:
    auth-provider:
      name: oidc
      config:
        client-id: your-client-id
        client-secret: your-client-secret
        id-token: your-id-token
        idp-issuer-url: https://accounts.google.com
        refresh-token: your-refresh-token</pre></div><div class='content'></div><h2>Webhook Token Authentication</h2>
<div class='content'><p>Webhook token authentication allows you to integrate with an external authentication service.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogQ29uZmlnCmNsdXN0ZXJzOgotIGNsdXN0ZXI6CiAgICBjZXJ0aWZpY2F0ZS1hdXRob3JpdHk6IC9wYXRoL3RvL2NhLmNydAogICAgc2VydmVyOiBodHRwczovL2t1YmVybmV0ZXMuZXhhbXBsZS5jb20KICBuYW1lOiBleGFtcGxlLWNsdXN0ZXIKY29udGV4dHM6Ci0gY29udGV4dDoKICAgIGNsdXN0ZXI6IGV4YW1wbGUtY2x1c3RlcgogICAgdXNlcjogd2ViaG9vay11c2VyCiAgbmFtZTogZXhhbXBsZS1jb250ZXh0CmN1cnJlbnQtY29udGV4dDogZXhhbXBsZS1jb250ZXh0CnVzZXJzOgotIG5hbWU6IHdlYmhvb2stdXNlcgogIHVzZXI6CiAgICB0b2tlbjogeW91ci13ZWJob29rLXRva2Vu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority: /path/to/ca.crt
    server: https://kubernetes.example.com
  name: example-cluster
contexts:
- context:
    cluster: example-cluster
    user: webhook-user
  name: example-context
current-context: example-context
users:
- name: webhook-user
  user:
    token: your-webhook-token</pre></div><div class='content'></div><h1>Authorization</h1>
<div class='content'></div><h2>Overview</h2>
<div class='content'><p>Authorization in Kubernetes determines what actions a user or service is allowed to perform. Kubernetes supports several authorization methods, including:</p>
<ul>
<li><strong>Role-Based Access Control (RBAC)</strong></li>
<li><strong>Attribute-Based Access Control (ABAC)</strong></li>
<li><strong>Webhook Authorization</strong></li>
</ul>
</div><h2>Role-Based Access Control (RBAC)</h2>
<div class='content'><p>RBAC is the most commonly used authorization method in Kubernetes. It uses roles and role bindings to control access to resources.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogcmJhYy5hdXRob3JpemF0aW9uLms4cy5pby92MQpraW5kOiBSb2xlCm1ldGFkYXRhOgogIG5hbWVzcGFjZTogZGVmYXVsdAogIG5hbWU6IGV4YW1wbGUtcm9sZQpydWxlczoKLSBhcGlHcm91cHM6IFsiIl0KICByZXNvdXJjZXM6IFsicG9kcyJdCiAgdmVyYnM6IFsiZ2V0IiwgImxpc3QiLCAid2F0Y2giXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: default
  name: example-role
rules:
- apiGroups: [&quot;&quot;]
  resources: [&quot;pods&quot;]
  verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;]</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogcmJhYy5hdXRob3JpemF0aW9uLms4cy5pby92MQpraW5kOiBSb2xlQmluZGluZwptZXRhZGF0YToKICBuYW1lOiBleGFtcGxlLXJvbGViaW5kaW5nCiAgbmFtZXNwYWNlOiBkZWZhdWx0CnN1YmplY3RzOgotIGtpbmQ6IFVzZXIKICBuYW1lOiBleGFtcGxlLXVzZXIKICBhcGlHcm91cDogcmJhYy5hdXRob3JpemF0aW9uLms4cy5pbwpyb2xlUmVmOgogIGtpbmQ6IFJvbGUKICBuYW1lOiBleGFtcGxlLXJvbGUKICBhcGlHcm91cDogcmJhYy5hdXRob3JpemF0aW9uLms4cy5pbw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: example-rolebinding
  namespace: default
subjects:
- kind: User
  name: example-user
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: example-role
  apiGroup: rbac.authorization.k8s.io</pre></div><div class='content'></div><h2>Attribute-Based Access Control (ABAC)</h2>
<div class='content'><p>ABAC uses policies defined in JSON to control access to resources.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJhcGlWZXJzaW9uIjogImFiYWMuYXV0aG9yaXphdGlvbi5rdWJlcm5ldGVzLmlvL3YxYmV0YTEiLAogICJraW5kIjogIlBvbGljeSIsCiAgInNwZWMiOiB7CiAgICAidXNlciI6ICJleGFtcGxlLXVzZXIiLAogICAgIm5hbWVzcGFjZSI6ICJkZWZhdWx0IiwKICAgICJyZXNvdXJjZSI6ICJwb2RzIiwKICAgICJyZWFkb25seSI6IHRydWUKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;apiVersion&quot;: &quot;abac.authorization.kubernetes.io/v1beta1&quot;,
  &quot;kind&quot;: &quot;Policy&quot;,
  &quot;spec&quot;: {
    &quot;user&quot;: &quot;example-user&quot;,
    &quot;namespace&quot;: &quot;default&quot;,
    &quot;resource&quot;: &quot;pods&quot;,
    &quot;readonly&quot;: true
  }
}</pre></div><div class='content'></div><h2>Webhook Authorization</h2>
<div class='content'><p>Webhook authorization allows you to integrate with an external authorization service.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogQ29uZmlnCmNsdXN0ZXJzOgotIGNsdXN0ZXI6CiAgICBjZXJ0aWZpY2F0ZS1hdXRob3JpdHk6IC9wYXRoL3RvL2NhLmNydAogICAgc2VydmVyOiBodHRwczovL2t1YmVybmV0ZXMuZXhhbXBsZS5jb20KICBuYW1lOiBleGFtcGxlLWNsdXN0ZXIKY29udGV4dHM6Ci0gY29udGV4dDoKICAgIGNsdXN0ZXI6IGV4YW1wbGUtY2x1c3RlcgogICAgdXNlcjogd2ViaG9vay11c2VyCiAgbmFtZTogZXhhbXBsZS1jb250ZXh0CmN1cnJlbnQtY29udGV4dDogZXhhbXBsZS1jb250ZXh0CnVzZXJzOgotIG5hbWU6IHdlYmhvb2stdXNlcgogIHVzZXI6CiAgICB0b2tlbjogeW91ci13ZWJob29rLXRva2Vu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority: /path/to/ca.crt
    server: https://kubernetes.example.com
  name: example-cluster
contexts:
- context:
    cluster: example-cluster
    user: webhook-user
  name: example-context
current-context: example-context
users:
- name: webhook-user
  user:
    token: your-webhook-token</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Authentication and authorization are essential for securing a Kubernetes cluster. By understanding and implementing the various methods available, you can ensure that only authorized users and services have access to your resources. This section covered the basics to advanced concepts, including client certificates, bearer tokens, OpenID Connect tokens, webhook token authentication, RBAC, ABAC, and webhook authorization.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='statefulsets'>&#x25C4;StatefulSets</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Authentication and Authorization in Kubernetes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='role-based-access-control'>Role-Based Access Control (RBAC) &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
