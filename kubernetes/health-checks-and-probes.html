<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Checks and Probes</title>

    <link rel="alternate" href="https://campusempresa.com/kubernetes/health-checks-and-probes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kubernetes/health-checks-and-probes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kubernetes/health-checks-and-probes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kubernetes/health-checks-and-probes" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kubernetes/health-checks-and-probes" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='scaling-applications'>&#x25C4;Scaling Applications</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Health Checks and Probes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='resource-requests-and-limits'>Resource Requests and Limits &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In Kubernetes, ensuring that your applications are running smoothly is crucial. Health checks and probes are mechanisms that Kubernetes uses to monitor the health of your applications. This section will cover the basics of health checks and probes, their types, and how to implement them in your Kubernetes clusters.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Health Checks</strong>: Mechanisms to determine if an application is running as expected.</li>
<li><strong>Probes</strong>: Specific types of health checks that Kubernetes uses to monitor the state of containers.</li>
</ul>
</div><h1>Types of Probes</h1>
<div class='content'><p>Kubernetes supports three types of probes:</p>
<ol>
<li><strong>Liveness Probes</strong>: Determine if a container is running. If the liveness probe fails, Kubernetes will kill the container and restart it.</li>
<li><strong>Readiness Probes</strong>: Determine if a container is ready to start accepting traffic. If the readiness probe fails, Kubernetes will remove the container from the service's endpoints.</li>
<li><strong>Startup Probes</strong>: Used to check if a container has started successfully. If the startup probe fails, Kubernetes will kill the container and restart it.</li>
</ol>
</div><h1>Implementing Probes</h1>
<div class='content'></div><h2>Liveness Probes</h2>
<div class='content'><p>Liveness probes are used to check if the application inside a container is alive. If the liveness probe fails, Kubernetes will restart the container.</p>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IGxpdmVuZXNzLWV4YW1wbGUKc3BlYzoKICBjb250YWluZXJzOgogIC0gbmFtZTogbXlhcHAKICAgIGltYWdlOiBteWFwcDpsYXRlc3QKICAgIGxpdmVuZXNzUHJvYmU6CiAgICAgIGh0dHBHZXQ6CiAgICAgICAgcGF0aDogL2hlYWx0aHoKICAgICAgICBwb3J0OiA4MDgwCiAgICAgIGluaXRpYWxEZWxheVNlY29uZHM6IDMKICAgICAgcGVyaW9kU2Vjb25kczogMw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: liveness-example
spec:
  containers:
  - name: myapp
    image: myapp:latest
    livenessProbe:
      httpGet:
        path: /healthz
        port: 8080
      initialDelaySeconds: 3
      periodSeconds: 3</pre></div><div class='content'><ul>
<li><strong>httpGet</strong>: Specifies the HTTP endpoint to check.</li>
<li><strong>initialDelaySeconds</strong>: Time to wait before performing the first probe.</li>
<li><strong>periodSeconds</strong>: Time between successive probes.</li>
</ul>
</div><h2>Readiness Probes</h2>
<div class='content'><p>Readiness probes are used to check if the application is ready to serve traffic. If the readiness probe fails, the container will be removed from the service's endpoints.</p>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IHJlYWRpbmVzcy1leGFtcGxlCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IG15YXBwCiAgICBpbWFnZTogbXlhcHA6bGF0ZXN0CiAgICByZWFkaW5lc3NQcm9iZToKICAgICAgaHR0cEdldDoKICAgICAgICBwYXRoOiAvcmVhZHkKICAgICAgICBwb3J0OiA4MDgwCiAgICAgIGluaXRpYWxEZWxheVNlY29uZHM6IDUKICAgICAgcGVyaW9kU2Vjb25kczogNQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: readiness-example
spec:
  containers:
  - name: myapp
    image: myapp:latest
    readinessProbe:
      httpGet:
        path: /ready
        port: 8080
      initialDelaySeconds: 5
      periodSeconds: 5</pre></div><div class='content'><ul>
<li><strong>httpGet</strong>: Specifies the HTTP endpoint to check.</li>
<li><strong>initialDelaySeconds</strong>: Time to wait before performing the first probe.</li>
<li><strong>periodSeconds</strong>: Time between successive probes.</li>
</ul>
</div><h2>Startup Probes</h2>
<div class='content'><p>Startup probes are used to check if the application has started successfully. They are useful for applications that have long startup times.</p>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IHN0YXJ0dXAtZXhhbXBsZQpzcGVjOgogIGNvbnRhaW5lcnM6CiAgLSBuYW1lOiBteWFwcAogICAgaW1hZ2U6IG15YXBwOmxhdGVzdAogICAgc3RhcnR1cFByb2JlOgogICAgICBodHRwR2V0OgogICAgICAgIHBhdGg6IC9zdGFydHVwCiAgICAgICAgcG9ydDogODA4MAogICAgICBpbml0aWFsRGVsYXlTZWNvbmRzOiAxMAogICAgICBwZXJpb2RTZWNvbmRzOiAxMAogICAgICBmYWlsdXJlVGhyZXNob2xkOiAzMA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: startup-example
spec:
  containers:
  - name: myapp
    image: myapp:latest
    startupProbe:
      httpGet:
        path: /startup
        port: 8080
      initialDelaySeconds: 10
      periodSeconds: 10
      failureThreshold: 30</pre></div><div class='content'><ul>
<li><strong>httpGet</strong>: Specifies the HTTP endpoint to check.</li>
<li><strong>initialDelaySeconds</strong>: Time to wait before performing the first probe.</li>
<li><strong>periodSeconds</strong>: Time between successive probes.</li>
<li><strong>failureThreshold</strong>: Number of consecutive failures before the probe is considered failed.</li>
</ul>
</div><h1>Comparison of Probes</h1>
<div class='content'><p>| Probe Type     | Purpose                                  | Action on Failure                  | Typical Use Case                     |
|----------------|------------------------------------------|------------------------------------|--------------------------------------|
| Liveness Probe | Check if the container is alive          | Restart the container              | Detect and recover from deadlocks    |
| Readiness Probe| Check if the container is ready to serve | Remove from service endpoints      | Ensure only healthy containers receive traffic |
| Startup Probe  | Check if the container has started       | Restart the container              | Handle applications with long startup times |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Health checks and probes are essential for maintaining the reliability and availability of your applications in Kubernetes. By correctly implementing liveness, readiness, and startup probes, you can ensure that your applications are running smoothly and can recover from failures automatically. Understanding and using these probes effectively will help you build robust and resilient Kubernetes deployments.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='scaling-applications'>&#x25C4;Scaling Applications</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Health Checks and Probes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='resource-requests-and-limits'>Resource Requests and Limits &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
