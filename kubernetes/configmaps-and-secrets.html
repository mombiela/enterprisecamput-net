<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConfigMaps and Secrets</title>

    <link rel="alternate" href="https://campusempresa.com/kubernetes/configmaps-and-secrets" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/kubernetes/configmaps-and-secrets" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/kubernetes/configmaps-and-secrets" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/kubernetes/configmaps-and-secrets" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/kubernetes/configmaps-and-secrets" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='namespaces'>&#x25C4;Namespaces</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ConfigMaps and Secrets</a>
	</div>
	<div class='col-4 text-end'>
					<a href='rolling-updates-and-rollbacks'>Rolling Updates and Rollbacks &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In Kubernetes, managing configuration data and sensitive information is crucial for application deployment and operation. ConfigMaps and Secrets are two fundamental resources that help in this regard. This section will cover the basics and advanced usage of ConfigMaps and Secrets, providing clear explanations, examples, and exercises.</p>
</div><h1>ConfigMaps</h1>
<div class='content'></div><h2>What is a ConfigMap?</h2>
<div class='content'><ul>
<li>A ConfigMap is an API object used to store non-confidential data in key-value pairs.</li>
<li>ConfigMaps allow you to decouple configuration artifacts from image content to keep containerized applications portable.</li>
</ul>
</div><h2>Creating a ConfigMap</h2>
<div class='content'><p>You can create a ConfigMap using a YAML file or directly from the command line.</p>
<h4>Using a YAML File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogQ29uZmlnTWFwCm1ldGFkYXRhOgogIG5hbWU6IGV4YW1wbGUtY29uZmlnCmRhdGE6CiAgZGF0YWJhc2VfdXJsOiAibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIKICBsb2dfbGV2ZWw6ICJERUJVRyI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: ConfigMap
metadata:
  name: example-config
data:
  database_url: &quot;mongodb://localhost:27017&quot;
  log_level: &quot;DEBUG&quot;</pre></div><div class='content'><p>To create the ConfigMap:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBjb25maWdtYXAueWFtbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f configmap.yaml</pre></div><div class='content'><h4>Using the Command Line</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBjcmVhdGUgY29uZmlnbWFwIGV4YW1wbGUtY29uZmlnIC0tZnJvbS1saXRlcmFsPWRhdGFiYXNlX3VybD0ibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIgLS1mcm9tLWxpdGVyYWw9bG9nX2xldmVsPSJERUJVRyI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl create configmap example-config --from-literal=database_url=&quot;mongodb://localhost:27017&quot; --from-literal=log_level=&quot;DEBUG&quot;</pre></div><div class='content'></div><h2>Using ConfigMaps in Pods</h2>
<div class='content'><p>You can use ConfigMaps in Pods through environment variables or volume mounts.</p>
<h4>Environment Variables</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IGV4YW1wbGUtcG9kCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IGV4YW1wbGUtY29udGFpbmVyCiAgICBpbWFnZTogbmdpbngKICAgIGVudjoKICAgIC0gbmFtZTogREFUQUJBU0VfVVJMCiAgICAgIHZhbHVlRnJvbToKICAgICAgICBjb25maWdNYXBLZXlSZWY6CiAgICAgICAgICBuYW1lOiBleGFtcGxlLWNvbmZpZwogICAgICAgICAga2V5OiBkYXRhYmFzZV91cmw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: example-pod
spec:
  containers:
  - name: example-container
    image: nginx
    env:
    - name: DATABASE_URL
      valueFrom:
        configMapKeyRef:
          name: example-config
          key: database_url</pre></div><div class='content'><h4>Volume Mounts</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IGV4YW1wbGUtcG9kCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IGV4YW1wbGUtY29udGFpbmVyCiAgICBpbWFnZTogbmdpbngKICAgIHZvbHVtZU1vdW50czoKICAgIC0gbmFtZTogY29uZmlnLXZvbHVtZQogICAgICBtb3VudFBhdGg6IC9ldGMvY29uZmlnCiAgdm9sdW1lczoKICAtIG5hbWU6IGNvbmZpZy12b2x1bWUKICAgIGNvbmZpZ01hcDoKICAgICAgbmFtZTogZXhhbXBsZS1jb25maWc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: example-pod
spec:
  containers:
  - name: example-container
    image: nginx
    volumeMounts:
    - name: config-volume
      mountPath: /etc/config
  volumes:
  - name: config-volume
    configMap:
      name: example-config</pre></div><div class='content'></div><h2>Best Practices for ConfigMaps</h2>
<div class='content'><ul>
<li>Use ConfigMaps for non-sensitive configuration data.</li>
<li>Keep ConfigMaps small and manageable.</li>
<li>Version your ConfigMaps to track changes.</li>
</ul>
</div><h1>Secrets</h1>
<div class='content'></div><h2>What is a Secret?</h2>
<div class='content'><ul>
<li>A Secret is an API object that stores sensitive data such as passwords, OAuth tokens, and SSH keys.</li>
<li>Secrets are encoded in base64 to avoid accidental exposure but are not encrypted by default.</li>
</ul>
</div><h2>Creating a Secret</h2>
<div class='content'><p>You can create a Secret using a YAML file or directly from the command line.</p>
<h4>Using a YAML File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VjcmV0Cm1ldGFkYXRhOgogIG5hbWU6IGV4YW1wbGUtc2VjcmV0CnR5cGU6IE9wYXF1ZQpkYXRhOgogIHVzZXJuYW1lOiBZV1J0YVc0PSAgIyBiYXNlNjQgZW5jb2RlZCAnYWRtaW4nCiAgcGFzc3dvcmQ6IE1XWXlaREZsTW1VMk4yUm0gICMgYmFzZTY0IGVuY29kZWQgJzFmMmQxZTJlNjdkZic="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Secret
metadata:
  name: example-secret
type: Opaque
data:
  username: YWRtaW4=  # base64 encoded 'admin'
  password: MWYyZDFlMmU2N2Rm  # base64 encoded '1f2d1e2e67df'</pre></div><div class='content'><p>To create the Secret:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBzZWNyZXQueWFtbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f secret.yaml</pre></div><div class='content'><h4>Using the Command Line</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBjcmVhdGUgc2VjcmV0IGdlbmVyaWMgZXhhbXBsZS1zZWNyZXQgLS1mcm9tLWxpdGVyYWw9dXNlcm5hbWU9YWRtaW4gLS1mcm9tLWxpdGVyYWw9cGFzc3dvcmQ9MWYyZDFlMmU2N2Rm"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl create secret generic example-secret --from-literal=username=admin --from-literal=password=1f2d1e2e67df</pre></div><div class='content'></div><h2>Using Secrets in Pods</h2>
<div class='content'><p>You can use Secrets in Pods through environment variables or volume mounts.</p>
<h4>Environment Variables</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IGV4YW1wbGUtcG9kCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IGV4YW1wbGUtY29udGFpbmVyCiAgICBpbWFnZTogbmdpbngKICAgIGVudjoKICAgIC0gbmFtZTogVVNFUk5BTUUKICAgICAgdmFsdWVGcm9tOgogICAgICAgIHNlY3JldEtleVJlZjoKICAgICAgICAgIG5hbWU6IGV4YW1wbGUtc2VjcmV0CiAgICAgICAgICBrZXk6IHVzZXJuYW1l"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: example-pod
spec:
  containers:
  - name: example-container
    image: nginx
    env:
    - name: USERNAME
      valueFrom:
        secretKeyRef:
          name: example-secret
          key: username</pre></div><div class='content'><h4>Volume Mounts</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IGV4YW1wbGUtcG9kCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IGV4YW1wbGUtY29udGFpbmVyCiAgICBpbWFnZTogbmdpbngKICAgIHZvbHVtZU1vdW50czoKICAgIC0gbmFtZTogc2VjcmV0LXZvbHVtZQogICAgICBtb3VudFBhdGg6IC9ldGMvc2VjcmV0CiAgdm9sdW1lczoKICAtIG5hbWU6IHNlY3JldC12b2x1bWUKICAgIHNlY3JldDoKICAgICAgc2VjcmV0TmFtZTogZXhhbXBsZS1zZWNyZXQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: example-pod
spec:
  containers:
  - name: example-container
    image: nginx
    volumeMounts:
    - name: secret-volume
      mountPath: /etc/secret
  volumes:
  - name: secret-volume
    secret:
      secretName: example-secret</pre></div><div class='content'></div><h2>Best Practices for Secrets</h2>
<div class='content'><ul>
<li>Use Secrets for sensitive data.</li>
<li>Enable encryption at rest for Secrets.</li>
<li>Limit access to Secrets using RBAC (Role-Based Access Control).</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>ConfigMaps and Secrets are essential tools in Kubernetes for managing configuration data and sensitive information. ConfigMaps are suitable for non-confidential data, while Secrets should be used for sensitive information. Proper usage and best practices ensure that your applications are both flexible and secure. By understanding and implementing these resources, you can enhance the portability and security of your Kubernetes deployments.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='namespaces'>&#x25C4;Namespaces</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ConfigMaps and Secrets</a>
	</div>
	<div class='col-4 text-end'>
					<a href='rolling-updates-and-rollbacks'>Rolling Updates and Rollbacks &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
