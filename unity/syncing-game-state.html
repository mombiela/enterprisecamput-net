<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syncing Game State</title>

    <link rel="alternate" href="https://campusempresa.com/unity/syncing-game-state" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/unity/syncing-game-state" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/unity/syncing-game-state" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/unity/syncing-game-state" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/unity/syncing-game-state" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-unity-networking-api'>&#x25C4;Using Unity's Networking API</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Syncing Game State</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-a-simple-multiplayer-game'>Creating a Simple Multiplayer Game &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Syncing game state is crucial in multiplayer games to ensure that all players have a consistent and fair experience. This topic will cover the basics of syncing game state in Unity, progressing from beginner to advanced concepts.</p>
</div><h1>Introduction to Game State Syncing</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Game state syncing refers to the process of ensuring that all players in a multiplayer game have the same view of the game world.</li>
<li><strong>Importance</strong>: Without proper syncing, players might experience different game states, leading to confusion and unfair gameplay.</li>
</ul>
</div><h1>Basic Concepts</h1>
<div class='content'></div><h2>Understanding Game State</h2>
<div class='content'><ul>
<li><strong>Game State</strong>: The current status of all game elements, including player positions, scores, and game objects.</li>
<li><strong>Local vs. Global State</strong>: Local state refers to the game state on a single player's device, while global state is the combined state across all players.</li>
</ul>
</div><h2>Networking Basics</h2>
<div class='content'><ul>
<li><strong>Client-Server Model</strong>: A common architecture where the server maintains the global game state, and clients (players) send and receive updates.</li>
<li><strong>Peer-to-Peer Model</strong>: An alternative architecture where each player maintains their own game state and syncs directly with other players.</li>
</ul>
</div><h1>Implementing Basic Syncing in Unity</h1>
<div class='content'></div><h2>Setting Up a Simple Networked Game</h2>
<div class='content'><ol>
<li>
<p><strong>Install Unity and Photon Unity Networking (PUN)</strong>:</p>
<ul>
<li>Photon Unity Networking (PUN) is a popular framework for creating multiplayer games in Unity.</li>
<li>Install PUN from the Unity Asset Store.</li>
</ul>
</li>
<li>
<p><strong>Create a Basic Scene</strong>:</p>
<ul>
<li>Set up a simple scene with a player object and a few interactable objects.</li>
</ul>
</li>
<li>
<p><strong>Initialize Photon</strong>:</p>
<pre><code class="language-csharp">using Photon.Pun;
using UnityEngine;

public class NetworkManager : MonoBehaviourPunCallbacks
{
    void Start()
    {
        PhotonNetwork.ConnectUsingSettings();
    }

    public override void OnConnectedToMaster()
    {
        PhotonNetwork.JoinLobby();
    }
}
</code></pre>
</li>
</ol>
</div><h2>Syncing Player Movement</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Player Prefab</strong>:</p>
<ul>
<li>Create a player object and make it a prefab.</li>
<li>Add a PhotonView component to the player prefab.</li>
</ul>
</li>
<li>
<p><strong>Sync Player Position</strong>:</p>
<pre><code class="language-csharp">using Photon.Pun;
using UnityEngine;

public class PlayerController : MonoBehaviourPun, IPunObservable
{
    private Vector3 networkPosition;

    void Update()
    {
        if (photonView.IsMine)
        {
            // Local player movement
            float move = Input.GetAxis(&quot;Vertical&quot;) * Time.deltaTime * 5.0f;
            transform.Translate(0, 0, move);
        }
        else
        {
            // Remote player movement
            transform.position = Vector3.Lerp(transform.position, networkPosition, Time.deltaTime * 5.0f);
        }
    }

    public void OnPhotonSerializeView(PhotonStream stream, PhotonMessageInfo info)
    {
        if (stream.IsWriting)
        {
            // Send local position to other players
            stream.SendNext(transform.position);
        }
        else
        {
            // Receive remote position
            networkPosition = (Vector3)stream.ReceiveNext();
        }
    }
}
</code></pre>
</li>
</ol>
</div><h1>Intermediate Concepts</h1>
<div class='content'></div><h2>Handling Lag and Latency</h2>
<div class='content'><ul>
<li><strong>Lag Compensation</strong>: Techniques to minimize the impact of network latency on gameplay.</li>
<li><strong>Interpolation and Extrapolation</strong>: Methods to predict and smooth out player movements.</li>
</ul>
</div><h2>Syncing Complex Game Objects</h2>
<div class='content'><ul>
<li><strong>State Synchronization</strong>: Syncing more complex game states, such as player health, scores, and game events.</li>
<li><strong>RPCs (Remote Procedure Calls)</strong>: Invoking methods across the network to ensure all players execute the same actions.</li>
</ul>
</div><h1>Advanced Concepts</h1>
<div class='content'></div><h2>Custom Network Code</h2>
<div class='content'><ul>
<li><strong>Custom Serialization</strong>: Writing custom code to serialize and deserialize complex game states.</li>
<li><strong>Optimizing Network Traffic</strong>: Techniques to reduce the amount of data sent over the network, such as delta compression and interest management.</li>
</ul>
</div><h2>Server Authoritative Architecture</h2>
<div class='content'><ul>
<li><strong>Server-Side Logic</strong>: Moving critical game logic to the server to prevent cheating and ensure consistency.</li>
<li><strong>Client Prediction and Reconciliation</strong>: Techniques to handle player inputs locally while ensuring the server has the final say.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Syncing game state in Unity is a multi-faceted topic that ranges from basic player movement synchronization to complex server-authoritative architectures. By understanding and implementing these concepts, you can create a smooth and fair multiplayer experience for your players. Start with the basics, experiment with intermediate techniques, and gradually move towards advanced implementations to master game state syncing in Unity.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-unity-networking-api'>&#x25C4;Using Unity's Networking API</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Syncing Game State</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-a-simple-multiplayer-game'>Creating a Simple Multiplayer Game &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
