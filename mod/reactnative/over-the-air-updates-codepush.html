<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Over-the-Air Updates with CodePush</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/over-the-air-updates-codepush" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/over-the-air-updates-codepush" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/over-the-air-updates-codepush" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/reactnative/over-the-air-updates-codepush" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/over-the-air-updates-codepush" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='deploying-google-play-store'>&#x25C4;Deploying to Google Play Store</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Over-the-Air Updates with CodePush</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-typescript-react-native'>Using TypeScript with React Native &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to CodePush</h1>
<div class='content'><p>CodePush is a cloud service that enables React Native developers to deploy mobile app updates directly to their users' devices. This allows for quick bug fixes and feature enhancements without needing to go through the app store review process.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Over-the-Air (OTA) Updates</strong>: Updates that are delivered directly to the user's device without requiring a new app store release.</li>
<li><strong>CodePush</strong>: A service provided by Microsoft that allows for OTA updates for React Native apps.</li>
<li><strong>App Center</strong>: A suite of services provided by Microsoft that includes CodePush, among other tools for app development and deployment.</li>
</ul>
</div><h1>Setting Up CodePush</h1>
<div class='content'></div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>A React Native project.</li>
<li>Node.js and npm installed.</li>
<li>An account on <a href="https://appcenter.ms">App Center</a>.</li>
</ul>
</div><h2>Installation</h2>
<div class='content'><ol>
<li>
<p><strong>Install the CodePush CLI</strong>:</p>
<pre><code class="language-bash">npm install -g code-push-cli
</code></pre>
</li>
<li>
<p><strong>Link CodePush to Your React Native Project</strong>:</p>
<pre><code class="language-bash">npm install --save react-native-code-push
</code></pre>
</li>
<li>
<p><strong>Link the CodePush plugin</strong>:</p>
<pre><code class="language-bash">npx react-native link react-native-code-push
</code></pre>
</li>
</ol>
</div><h2>Configuration</h2>
<div class='content'><ol>
<li>
<p><strong>Create a CodePush App</strong>:</p>
<pre><code class="language-bash">appcenter apps create -d MyApp -o React-Native
</code></pre>
</li>
<li>
<p><strong>Obtain Deployment Keys</strong>:</p>
<pre><code class="language-bash">appcenter codepush deployment list -a &lt;ownerName&gt;/&lt;appName&gt; -k
</code></pre>
</li>
<li>
<p><strong>Configure CodePush in Your App</strong>:</p>
<ul>
<li><strong>For iOS</strong>: Add the deployment key to your <code>AppDelegate.m</code> file.</li>
<li><strong>For Android</strong>: Add the deployment key to your <code>MainApplication.java</code> file.</li>
</ul>
</li>
</ol>
</div><h2>Example Configuration</h2>
<div class='content'><p><strong>iOS (AppDelegate.m)</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Q29kZVB1c2gvQ29kZVB1c2guaD4KCi0gKE5TVVJMICopc291cmNlVVJMRm9yQnJpZGdlOihSQ1RCcmlkZ2UgKilicmlkZ2UKewogICNpZiBERUJVRwogICAgcmV0dXJuIFtbUkNUQnVuZGxlVVJMUHJvdmlkZXIgc2hhcmVkU2V0dGluZ3NdIGpzQnVuZGxlVVJMRm9yQnVuZGxlUm9vdDpAImluZGV4IiBmYWxsYmFja1Jlc291cmNlOm5pbF07CiAgI2Vsc2UKICAgIHJldHVybiBbQ29kZVB1c2ggYnVuZGxlVVJMXTsKICAjZW5kaWYKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;CodePush/CodePush.h&gt;

- (NSURL *)sourceURLForBridge:(RCTBridge *)bridge
{
  #if DEBUG
    return [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index&quot; fallbackResource:nil];
  #else
    return [CodePush bundleURL];
  #endif
}</pre></div><div class='content'><p><strong>Android (MainApplication.java)</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5taWNyb3NvZnQuY29kZXB1c2gucmVhY3QuQ29kZVB1c2g7CgpAT3ZlcnJpZGUKcHVibGljIFN0cmluZyBnZXRKU0J1bmRsZUZpbGUoKSB7CiAgcmV0dXJuIENvZGVQdXNoLmdldEpTQnVuZGxlRmlsZSgpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.microsoft.codepush.react.CodePush;

@Override
public String getJSBundleFile() {
  return CodePush.getJSBundleFile();
}</pre></div><div class='content'></div><h1>Deploying Updates</h1>
<div class='content'></div><h2>Creating a Release</h2>
<div class='content'><ol>
<li>
<p><strong>Bundle Your JavaScript</strong>:</p>
<pre><code class="language-bash">npx react-native bundle --platform ios --entry-file index.js --bundle-output ./ios/main.jsbundle --assets-dest ./ios
</code></pre>
</li>
<li>
<p><strong>Release the Update</strong>:</p>
<pre><code class="language-bash">appcenter codepush release-react -a &lt;ownerName&gt;/&lt;appName&gt; -d &lt;deploymentName&gt;
</code></pre>
</li>
</ol>
</div><h2>Checking Deployment Status</h2>
<div class='content'><ul>
<li><strong>View Deployment History</strong>:
<pre><code class="language-bash">appcenter codepush deployment history -a &lt;ownerName&gt;/&lt;appName&gt; -d &lt;deploymentName&gt;
</code></pre>
</li>
</ul>
</div><h1>Handling Updates in Your App</h1>
<div class='content'></div><h2>Code Example</h2>
<div class='content'><p><strong>App.js</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVmlldywgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmltcG9ydCBDb2RlUHVzaCBmcm9tICdyZWFjdC1uYXRpdmUtY29kZS1wdXNoJzsKCmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7CiAgcmVuZGVyKCkgewogICAgcmV0dXJuICgKICAgICAgPFZpZXc+CiAgICAgICAgPFRleHQ+V2VsY29tZSB0byBDb2RlUHVzaCBEZW1vITwvVGV4dD4KICAgICAgPC9WaWV3PgogICAgKTsKICB9Cn0KCmxldCBjb2RlUHVzaE9wdGlvbnMgPSB7IGNoZWNrRnJlcXVlbmN5OiBDb2RlUHVzaC5DaGVja0ZyZXF1ZW5jeS5PTl9BUFBfU1RBUlQgfTsKCkFwcCA9IENvZGVQdXNoKGNvZGVQdXNoT3B0aW9ucykoQXBwKTsKCmV4cG9ydCBkZWZhdWx0IEFwcDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import { View, Text } from 'react-native';
import CodePush from 'react-native-code-push';

class App extends React.Component {
  render() {
    return (
      &lt;View&gt;
        &lt;Text&gt;Welcome to CodePush Demo!&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}

let codePushOptions = { checkFrequency: CodePush.CheckFrequency.ON_APP_START };

App = CodePush(codePushOptions)(App);

export default App;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>CodePush Options</strong>: The <code>checkFrequency</code> option determines how often the app checks for updates. <code>ON_APP_START</code> means the app will check for updates every time it starts.</li>
<li><strong>Wrapping the App Component</strong>: The <code>CodePush</code> function wraps the main <code>App</code> component to enable OTA updates.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Using CodePush for over-the-air updates in React Native allows for rapid deployment of bug fixes and new features without the need for app store approvals. By following the setup and deployment steps, you can ensure your users always have the latest version of your app. This not only improves user experience but also reduces the time and effort required to maintain and update your app.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='deploying-google-play-store'>&#x25C4;Deploying to Google Play Store</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Over-the-Air Updates with CodePush</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-typescript-react-native'>Using TypeScript with React Native &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
