<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>End-to-End Testing with Detox</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/end-to-end-testing-detox" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/end-to-end-testing-detox" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/end-to-end-testing-detox" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/reactnative/end-to-end-testing-detox" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/end-to-end-testing-detox" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing-jest'>&#x25C4;Unit Testing with Jest</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">End-to-End Testing with Detox</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
<div class='content'><p>End-to-end (E2E) testing is crucial for ensuring that your React Native application works as expected from the user's perspective. Detox is a popular framework for E2E testing in React Native, providing a robust and reliable way to automate your tests.</p>
</div><h1>Introduction to Detox</h1>
<div class='content'><ul>
<li>
<p><strong>What is Detox?</strong></p>
<ul>
<li>Detox is an end-to-end testing library for mobile apps.</li>
<li>It allows you to write tests that simulate user interactions.</li>
<li>Detox works with both iOS and Android platforms.</li>
</ul>
</li>
<li>
<p><strong>Why use Detox?</strong></p>
<ul>
<li>Ensures your app works correctly across different devices and OS versions.</li>
<li>Automates repetitive testing tasks.</li>
<li>Helps catch bugs early in the development cycle.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Detox</h1>
<div class='content'><ul>
<li>
<p><strong>Prerequisites:</strong></p>
<ul>
<li>Node.js and npm/yarn installed.</li>
<li>React Native CLI installed.</li>
<li>Xcode (for iOS) and Android Studio (for Android).</li>
</ul>
</li>
<li>
<p><strong>Installation:</strong></p>
<pre><code class="language-bash">npm install -g detox-cli
npm install detox --save-dev
</code></pre>
</li>
<li>
<p><strong>Configuring Detox:</strong></p>
<ul>
<li>Add Detox configuration to your <code>package.json</code>:
<pre><code class="language-json">{
  &quot;detox&quot;: {
    &quot;configurations&quot;: {
      &quot;ios.sim.debug&quot;: {
        &quot;binaryPath&quot;: &quot;ios/build/Build/Products/Debug-iphonesimulator/YourApp.app&quot;,
        &quot;build&quot;: &quot;xcodebuild -workspace ios/YourApp.xcworkspace -scheme YourApp -configuration Debug -sdk iphonesimulator -derivedDataPath ios/build&quot;,
        &quot;type&quot;: &quot;ios.simulator&quot;,
        &quot;name&quot;: &quot;iPhone 11&quot;
      }
    }
  }
}
</code></pre>
</li>
<li>For Android, the configuration will look different:
<pre><code class="language-json">{
  &quot;detox&quot;: {
    &quot;configurations&quot;: {
      &quot;android.emu.debug&quot;: {
        &quot;binaryPath&quot;: &quot;android/app/build/outputs/apk/debug/app-debug.apk&quot;,
        &quot;build&quot;: &quot;cd android &amp;&amp; ./gradlew assembleDebug assembleAndroidTest -DtestBuildType=debug &amp;&amp; cd ..&quot;,
        &quot;type&quot;: &quot;android.emulator&quot;,
        &quot;name&quot;: &quot;Pixel_3a_API_30_x86&quot;
      }
    }
  }
}
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Writing Your First Detox Test</h1>
<div class='content'><ul>
<li>
<p><strong>Creating a Test File:</strong></p>
<ul>
<li>Create a <code>e2e</code> folder in your project root.</li>
<li>Add a test file, e.g., <code>firstTest.e2e.js</code>.</li>
</ul>
</li>
<li>
<p><strong>Example Test:</strong></p>
<pre><code class="language-javascript">describe('Example', () =&gt; {
  beforeAll(async () =&gt; {
    await device.launchApp();
  });

  beforeEach(async () =&gt; {
    await device.reloadReactNative();
  });

  it('should have welcome screen', async () =&gt; {
    await expect(element(by.id('welcome'))).toBeVisible();
  });

  it('should show hello screen after tap', async () =&gt; {
    await element(by.id('hello_button')).tap();
    await expect(element(by.id('hello_screen'))).toBeVisible();
  });
});
</code></pre>
</li>
<li>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>describe</code>: Groups related tests.</li>
<li><code>beforeAll</code>: Runs once before all tests.</li>
<li><code>beforeEach</code>: Runs before each test.</li>
<li><code>it</code>: Defines an individual test.</li>
<li><code>element</code>: Selects a UI element.</li>
<li><code>by.id</code>: Selector for elements by their testID.</li>
<li><code>tap</code>: Simulates a tap action.</li>
<li><code>expect</code>: Assertion to check if an element is visible.</li>
</ul>
</li>
</ul>
</div><h1>Running Detox Tests</h1>
<div class='content'><ul>
<li>
<p><strong>Building the App:</strong></p>
<pre><code class="language-bash">detox build --configuration ios.sim.debug
</code></pre>
</li>
<li>
<p><strong>Running the Tests:</strong></p>
<pre><code class="language-bash">detox test --configuration ios.sim.debug
</code></pre>
</li>
<li>
<p><strong>Common Commands:</strong></p>
<ul>
<li><code>detox build</code>: Builds the app for testing.</li>
<li><code>detox test</code>: Runs the tests.</li>
<li><code>detox clean-framework-cache</code>: Cleans Detox cache.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Detox Features</h1>
<div class='content'><ul>
<li>
<p><strong>Mocking and Stubbing:</strong></p>
<ul>
<li>Use Detox to mock network requests or other dependencies.</li>
<li>Example using <code>jest</code> to mock a network request:
<pre><code class="language-javascript">jest.mock('axios', () =&gt; ({
  get: jest.fn(() =&gt; Promise.resolve({ data: { message: 'Hello World' } }))
}));
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Parallel Test Execution:</strong></p>
<ul>
<li>Detox supports running tests in parallel to speed up the testing process.</li>
<li>Configure parallel execution in your <code>package.json</code>:
<pre><code class="language-json">{
  &quot;detox&quot;: {
    &quot;test-runner&quot;: &quot;jest&quot;,
    &quot;runner-config&quot;: &quot;e2e/config.json&quot;,
    &quot;configurations&quot;: {
      &quot;ios.sim.debug&quot;: {
        &quot;binaryPath&quot;: &quot;ios/build/Build/Products/Debug-iphonesimulator/YourApp.app&quot;,
        &quot;build&quot;: &quot;xcodebuild -workspace ios/YourApp.xcworkspace -scheme YourApp -configuration Debug -sdk iphonesimulator -derivedDataPath ios/build&quot;,
        &quot;type&quot;: &quot;ios.simulator&quot;,
        &quot;name&quot;: &quot;iPhone 11&quot;
      }
    }
  }
}
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Detox is a powerful tool for end-to-end testing in React Native, ensuring your app behaves as expected across different devices and platforms. By setting up Detox, writing tests, and running them, you can automate the testing process and catch bugs early. Advanced features like mocking and parallel test execution further enhance your testing capabilities. Start integrating Detox into your workflow to improve the reliability and quality of your React Native applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing-jest'>&#x25C4;Unit Testing with Jest</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">End-to-End Testing with Detox</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
