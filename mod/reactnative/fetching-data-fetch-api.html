<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetching Data with Fetch API</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/fetching-data-fetch-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/fetching-data-fetch-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/fetching-data-fetch-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/reactnative/fetching-data-fetch-api" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/fetching-data-fetch-api" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='integrating-redux-react-native'>&#x25C4;Integrating Redux with React Native</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Fetching Data with Fetch API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-axios'>Using Axios for Network Requests &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Fetching data is a fundamental aspect of many applications, including those built with React Native. The Fetch API provides a simple interface for fetching resources asynchronously across the network. This section will guide you through the basics of using the Fetch API in React Native, from beginner to advanced levels.</p>
</div><h1>Basics of Fetch API</h1>
<div class='content'><p>The Fetch API is a modern interface that allows you to make network requests similar to XMLHttpRequest (XHR). However, it is more powerful and flexible.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Promises</strong>: Fetch API uses promises, which makes it easier to work with asynchronous operations.</li>
<li><strong>Request and Response</strong>: Fetch API provides a global <code>fetch</code> function that takes a URL and returns a promise that resolves to the response.</li>
<li><strong>JSON Handling</strong>: Fetch API can handle JSON data easily, which is a common format for APIs.</li>
</ul>
</div><h2>Basic Fetch Example</h2>
<div class='content'><p>Here is a simple example of how to use the Fetch API to get data from a URL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycpCiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogIC50aGVuKGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSkpCiAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhdGE6JywgZXJyb3IpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fetch('https://jsonplaceholder.typicode.com/posts')
  .then(response =&gt; response.json())
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error('Error fetching data:', error));</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>fetch('https://jsonplaceholder.typicode.com/posts')</code>: Initiates a GET request to the specified URL.</li>
<li><code>.then(response =&gt; response.json())</code>: Converts the response to JSON.</li>
<li><code>.then(data =&gt; console.log(data))</code>: Logs the data to the console.</li>
<li><code>.catch(error =&gt; console.error('Error fetching data:', error))</code>: Catches and logs any errors that occur during the fetch.</li>
</ul>
</div><h1>Fetching Data in React Native</h1>
<div class='content'><p>In a React Native application, fetching data is often done within a component's lifecycle methods or using hooks.</p>
</div><h2>Using Component Lifecycle Methods</h2>
<div class='content'><p>You can fetch data in the <code>componentDidMount</code> lifecycle method of a class component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVmlldywgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CgpjbGFzcyBEYXRhRmV0Y2hpbmdDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQgewogIHN0YXRlID0gewogICAgZGF0YTogW10sCiAgICBpc0xvYWRpbmc6IHRydWUsCiAgICBlcnJvcjogbnVsbCwKICB9OwoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKQogICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgIC50aGVuKGRhdGEgPT4gdGhpcy5zZXRTdGF0ZSh7IGRhdGEsIGlzTG9hZGluZzogZmFsc2UgfSkpCiAgICAgIC5jYXRjaChlcnJvciA9PiB0aGlzLnNldFN0YXRlKHsgZXJyb3IsIGlzTG9hZGluZzogZmFsc2UgfSkpOwogIH0KCiAgcmVuZGVyKCkgewogICAgY29uc3QgeyBkYXRhLCBpc0xvYWRpbmcsIGVycm9yIH0gPSB0aGlzLnN0YXRlOwoKICAgIGlmIChpc0xvYWRpbmcpIHsKICAgICAgcmV0dXJuIDxUZXh0PkxvYWRpbmcuLi48L1RleHQ+OwogICAgfQoKICAgIGlmIChlcnJvcikgewogICAgICByZXR1cm4gPFRleHQ+RXJyb3I6IHtlcnJvci5tZXNzYWdlfTwvVGV4dD47CiAgICB9CgogICAgcmV0dXJuICgKICAgICAgPFZpZXc+CiAgICAgICAge2RhdGEubWFwKHBvc3QgPT4gKAogICAgICAgICAgPFRleHQga2V5PXtwb3N0LmlkfT57cG9zdC50aXRsZX08L1RleHQ+CiAgICAgICAgKSl9CiAgICAgIDwvVmlldz4KICAgICk7CiAgfQp9CgpleHBvcnQgZGVmYXVsdCBEYXRhRmV0Y2hpbmdDb21wb25lbnQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';
import { View, Text } from 'react-native';

class DataFetchingComponent extends Component {
  state = {
    data: [],
    isLoading: true,
    error: null,
  };

  componentDidMount() {
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; response.json())
      .then(data =&gt; this.setState({ data, isLoading: false }))
      .catch(error =&gt; this.setState({ error, isLoading: false }));
  }

  render() {
    const { data, isLoading, error } = this.state;

    if (isLoading) {
      return &lt;Text&gt;Loading...&lt;/Text&gt;;
    }

    if (error) {
      return &lt;Text&gt;Error: {error.message}&lt;/Text&gt;;
    }

    return (
      &lt;View&gt;
        {data.map(post =&gt; (
          &lt;Text key={post.id}&gt;{post.title}&lt;/Text&gt;
        ))}
      &lt;/View&gt;
    );
  }
}

export default DataFetchingComponent;</pre></div><div class='content'></div><h2>Using Hooks (Functional Components)</h2>
<div class='content'><p>With functional components, you can use the <code>useEffect</code> hook to fetch data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwoKY29uc3QgRGF0YUZldGNoaW5nQ29tcG9uZW50ID0gKCkgPT4gewogIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKFtdKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7CiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKQogICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgIHNldERhdGEoZGF0YSk7CiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBzZXRFcnJvcihlcnJvcik7CiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgfSk7CiAgfSwgW10pOwoKICBpZiAoaXNMb2FkaW5nKSB7CiAgICByZXR1cm4gPFRleHQ+TG9hZGluZy4uLjwvVGV4dD47CiAgfQoKICBpZiAoZXJyb3IpIHsKICAgIHJldHVybiA8VGV4dD5FcnJvcjoge2Vycm9yLm1lc3NhZ2V9PC9UZXh0PjsKICB9CgogIHJldHVybiAoCiAgICA8Vmlldz4KICAgICAge2RhdGEubWFwKHBvc3QgPT4gKAogICAgICAgIDxUZXh0IGtleT17cG9zdC5pZH0+e3Bvc3QudGl0bGV9PC9UZXh0PgogICAgICApKX0KICAgIDwvVmlldz4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgRGF0YUZldGNoaW5nQ29tcG9uZW50Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { View, Text } from 'react-native';

const DataFetchingComponent = () =&gt; {
  const [data, setData] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() =&gt; {
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; response.json())
      .then(data =&gt; {
        setData(data);
        setIsLoading(false);
      })
      .catch(error =&gt; {
        setError(error);
        setIsLoading(false);
      });
  }, []);

  if (isLoading) {
    return &lt;Text&gt;Loading...&lt;/Text&gt;;
  }

  if (error) {
    return &lt;Text&gt;Error: {error.message}&lt;/Text&gt;;
  }

  return (
    &lt;View&gt;
      {data.map(post =&gt; (
        &lt;Text key={post.id}&gt;{post.title}&lt;/Text&gt;
      ))}
    &lt;/View&gt;
  );
};

export default DataFetchingComponent;</pre></div><div class='content'></div><h1>Advanced Fetching Techniques</h1>
<div class='content'><p>As you become more comfortable with the basics, you can explore more advanced techniques such as handling different HTTP methods, setting headers, and managing authentication.</p>
</div><h2>Handling Different HTTP Methods</h2>
<div class='content'><p>You can use the Fetch API to make POST, PUT, DELETE requests by specifying the method in the options object.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUE9TVCByZXF1ZXN0IGV4YW1wbGUKZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHsKICBtZXRob2Q6ICdQT1NUJywKICBoZWFkZXJzOiB7CiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogIH0sCiAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgdGl0bGU6ICdmb28nLAogICAgYm9keTogJ2JhcicsCiAgICB1c2VySWQ6IDEsCiAgfSksCn0pCiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogIC50aGVuKGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSkpCiAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// POST request example
fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    title: 'foo',
    body: 'bar',
    userId: 1,
  }),
})
  .then(response =&gt; response.json())
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error('Error:', error));</pre></div><div class='content'></div><h2>Setting Headers</h2>
<div class='content'><p>You can set custom headers in the request options.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHsKICBtZXRob2Q6ICdHRVQnLAogIGhlYWRlcnM6IHsKICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBZT1VSX1RPS0VOX0hFUkUnLAogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICB9LAp9KQogIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAudGhlbihkYXRhID0+IGNvbnNvbGUubG9nKGRhdGEpKQogIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcikpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer YOUR_TOKEN_HERE',
    'Content-Type': 'application/json',
  },
})
  .then(response =&gt; response.json())
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error('Error:', error));</pre></div><div class='content'></div><h2>Managing Authentication</h2>
<div class='content'><p>For authenticated requests, you often need to include tokens in the headers.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmV0Y2goJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL3Byb3RlY3RlZCcsIHsKICBtZXRob2Q6ICdHRVQnLAogIGhlYWRlcnM6IHsKICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBZT1VSX0FDQ0VTU19UT0tFTicsCiAgfSwKfSkKICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgLnRoZW4oZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKSkKICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fetch('https://api.example.com/protected', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer YOUR_ACCESS_TOKEN',
  },
})
  .then(response =&gt; response.json())
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error('Error:', error));</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Fetching data with the Fetch API in React Native is a powerful and flexible way to interact with remote resources. By understanding the basics and exploring advanced techniques, you can build robust applications that effectively communicate with APIs. Remember to handle errors gracefully and manage loading states to provide a smooth user experience.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='integrating-redux-react-native'>&#x25C4;Integrating Redux with React Native</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Fetching Data with Fetch API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-axios'>Using Axios for Network Requests &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
