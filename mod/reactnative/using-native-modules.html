<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using Native Modules</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/using-native-modules" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/using-native-modules" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/using-native-modules" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/reactnative/using-native-modules" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/using-native-modules" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='accessing-device-features-expo'>&#x25C4;Accessing Device Features with Expo</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using Native Modules</a>
	</div>
	<div class='col-4 text-end'>
					<a href='debugging-react-native-apps'>Debugging React Native Apps &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Native modules in React Native allow you to extend the functionality of your app by integrating native code (Java, Swift, Objective-C) with your JavaScript code. This is particularly useful when you need to access platform-specific APIs or perform tasks that are not possible with JavaScript alone.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Native Modules</strong>: These are custom modules written in native code (Java for Android, Swift/Objective-C for iOS) that can be invoked from JavaScript.</li>
<li><strong>Bridge</strong>: The mechanism that allows communication between JavaScript and native code.</li>
<li><strong>React Native CLI</strong>: A command-line tool that helps in creating and managing React Native projects, including linking native modules.</li>
</ul>
</div><h1>Setting Up the Environment</h1>
<div class='content'><p>Before you start working with native modules, ensure you have the following:</p>
<ul>
<li>Node.js installed</li>
<li>React Native CLI installed</li>
<li>Android Studio and Xcode installed for Android and iOS development, respectively</li>
</ul>
</div><h1>Creating a Native Module for Android</h1>
<h2>Step 1: Create a New React Native Project</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHJlYWN0LW5hdGl2ZSBpbml0IE5hdGl2ZU1vZHVsZUV4YW1wbGUKY2QgTmF0aXZlTW9kdWxlRXhhbXBsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx react-native init NativeModuleExample
cd NativeModuleExample</pre></div><div class='content'></div><h2>Step 2: Create the Native Module</h2>
<div class='content'><ol>
<li>
<p><strong>Create a new Java class</strong> in <code>android/app/src/main/java/com/nativemoduleexample/</code>:</p>
<pre><code class="language-java">package com.nativemoduleexample;

import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.bridge.ReactContextBaseJavaModule;
import com.facebook.react.bridge.ReactMethod;
import com.facebook.react.bridge.Promise;

public class MyNativeModule extends ReactContextBaseJavaModule {
    MyNativeModule(ReactApplicationContext context) {
        super(context);
    }

    @Override
    public String getName() {
        return &quot;MyNativeModule&quot;;
    }

    @ReactMethod
    public void getDeviceName(Promise promise) {
        try {
            String deviceName = android.os.Build.MODEL;
            promise.resolve(deviceName);
        } catch (Exception e) {
            promise.reject(&quot;Error&quot;, e);
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>Register the module</strong> in <code>MainApplication.java</code>:</p>
<pre><code class="language-java">import com.nativemoduleexample.MyNativeModule;

@Override
protected List&lt;ReactPackage&gt; getPackages() {
    return Arrays.&lt;ReactPackage&gt;asList(
        new MainReactPackage(),
        new MyNativeModulePackage() // Add this line
    );
}
</code></pre>
</li>
<li>
<p><strong>Create a package class</strong>:</p>
<pre><code class="language-java">package com.nativemoduleexample;

import com.facebook.react.ReactPackage;
import com.facebook.react.bridge.NativeModule;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.uimanager.ViewManager;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public class MyNativeModulePackage implements ReactPackage {
    @Override
    public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {
        return Collections.emptyList();
    }

    @Override
    public List&lt;NativeModule&gt; createNativeModules(ReactApplicationContext reactContext) {
        List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();
        modules.add(new MyNativeModule(reactContext));
        return modules;
    }
}
</code></pre>
</li>
</ol>
</div><h2>Step 3: Use the Native Module in JavaScript</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmF0aXZlTW9kdWxlcyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmNvbnN0IHsgTXlOYXRpdmVNb2R1bGUgfSA9IE5hdGl2ZU1vZHVsZXM7CgpNeU5hdGl2ZU1vZHVsZS5nZXREZXZpY2VOYW1lKCkKICAudGhlbihkZXZpY2VOYW1lID0+IHsKICAgIGNvbnNvbGUubG9nKGRldmljZU5hbWUpOwogIH0pCiAgLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NativeModules } from 'react-native';
const { MyNativeModule } = NativeModules;

MyNativeModule.getDeviceName()
  .then(deviceName =&gt; {
    console.log(deviceName);
  })
  .catch(error =&gt; {
    console.error(error);
  });</pre></div><div class='content'></div><h1>Creating a Native Module for iOS</h1>
<h2>Step 1: Create a New React Native Project</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHJlYWN0LW5hdGl2ZSBpbml0IE5hdGl2ZU1vZHVsZUV4YW1wbGUKY2QgTmF0aXZlTW9kdWxlRXhhbXBsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx react-native init NativeModuleExample
cd NativeModuleExample</pre></div><div class='content'></div><h2>Step 2: Create the Native Module</h2>
<div class='content'><ol>
<li>
<p><strong>Create a new Objective-C class</strong> in <code>ios/NativeModuleExample/</code>:</p>
<pre><code class="language-objective-c">// MyNativeModule.h
#import &lt;React/RCTBridgeModule.h&gt;

@interface MyNativeModule : NSObject &lt;RCTBridgeModule&gt;
@end

// MyNativeModule.m
#import &quot;MyNativeModule.h&quot;
#import &lt;UIKit/UIKit.h&gt;

@implementation MyNativeModule

RCT_EXPORT_MODULE();

RCT_REMAP_METHOD(getDeviceName,
                 getDeviceNameWithResolver:(RCTPromiseResolveBlock)resolve
                 rejecter:(RCTPromiseRejectBlock)reject) {
    @try {
        NSString *deviceName = [[UIDevice currentDevice] name];
        resolve(deviceName);
    } @catch (NSException *exception) {
        reject(@&quot;Error&quot;, exception.reason, nil);
    }
}

@end
</code></pre>
</li>
<li>
<p><strong>Register the module</strong> in <code>AppDelegate.m</code>:</p>
<pre><code class="language-objective-c">#import &quot;MyNativeModule.h&quot;
</code></pre>
</li>
</ol>
</div><h2>Step 3: Use the Native Module in JavaScript</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmF0aXZlTW9kdWxlcyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmNvbnN0IHsgTXlOYXRpdmVNb2R1bGUgfSA9IE5hdGl2ZU1vZHVsZXM7CgpNeU5hdGl2ZU1vZHVsZS5nZXREZXZpY2VOYW1lKCkKICAudGhlbihkZXZpY2VOYW1lID0+IHsKICAgIGNvbnNvbGUubG9nKGRldmljZU5hbWUpOwogIH0pCiAgLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NativeModules } from 'react-native';
const { MyNativeModule } = NativeModules;

MyNativeModule.getDeviceName()
  .then(deviceName =&gt; {
    console.log(deviceName);
  })
  .catch(error =&gt; {
    console.error(error);
  });</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Using native modules in React Native allows you to leverage platform-specific features and APIs, enhancing the capabilities of your application. By understanding how to create and integrate native modules, you can build more powerful and flexible apps. Remember to test your native modules thoroughly on both Android and iOS to ensure compatibility and performance.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='accessing-device-features-expo'>&#x25C4;Accessing Device Features with Expo</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using Native Modules</a>
	</div>
	<div class='col-4 text-end'>
					<a href='debugging-react-native-apps'>Debugging React Native Apps &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
