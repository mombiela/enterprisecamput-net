<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Network Errors</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/05-03-handling-network-errors" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/05-03-handling-network-errors" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/05-03-handling-network-errors" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/reactnative/05-03-handling-network-errors" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/05-03-handling-network-errors" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-using-axios-http-requests' title="Using Axios for HTTP Requests">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Handling Network Errors</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-asyncstorage-local-data' title="AsyncStorage for Local Data">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover how to handle network errors in React Native applications. Network errors can occur due to various reasons such as server downtime, network connectivity issues, or incorrect API endpoints. Properly handling these errors is crucial for providing a good user experience and ensuring the robustness of your application.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Types of Network Errors</strong>:</p>
<ul>
<li><strong>Client-Side Errors</strong>: Errors that occur on the client side, such as network connectivity issues.</li>
<li><strong>Server-Side Errors</strong>: Errors that occur on the server side, such as server downtime or incorrect API responses.</li>
<li><strong>Timeouts</strong>: Errors that occur when a request takes too long to complete.</li>
</ul>
</li>
<li>
<p><strong>Error Handling Strategies</strong>:</p>
<ul>
<li><strong>Try-Catch Blocks</strong>: Using try-catch blocks to catch errors during asynchronous operations.</li>
<li><strong>Error Boundaries</strong>: React components that catch JavaScript errors anywhere in their child component tree.</li>
<li><strong>Retry Mechanisms</strong>: Implementing retry logic for failed requests.</li>
</ul>
</li>
<li>
<p><strong>User Feedback</strong>:</p>
<ul>
<li><strong>Error Messages</strong>: Displaying user-friendly error messages.</li>
<li><strong>Loading Indicators</strong>: Showing loading indicators while waiting for network responses.</li>
<li><strong>Fallback UI</strong>: Providing fallback UI in case of persistent errors.</li>
</ul>
</li>
</ol>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a simple example to demonstrate how to handle network errors using the Fetch API and Axios.</p>
</div><h2>Using Fetch API</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIEJ1dHRvbiwgQWN0aXZpdHlJbmRpY2F0b3IsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwoKY29uc3QgRmV0Y2hFeGFtcGxlID0gKCkgPT4gewogIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKG51bGwpOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpOwoKICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgc2V0RXJyb3IobnVsbCk7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJyk7CiAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaycpOwogICAgICB9CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgc2V0RGF0YShyZXN1bHQpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgZmV0Y2hEYXRhKCk7CiAgfSwgW10pOwoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PgogICAgICB7bG9hZGluZyAmJiA8QWN0aXZpdHlJbmRpY2F0b3Igc2l6ZT0ibGFyZ2UiIGNvbG9yPSIjMDAwMGZmIiAvPn0KICAgICAge2Vycm9yICYmIDxUZXh0IHN0eWxlPXtzdHlsZXMuZXJyb3JUZXh0fT57ZXJyb3J9PC9UZXh0Pn0KICAgICAge2RhdGEgJiYgPFRleHQ+e0pTT04uc3RyaW5naWZ5KGRhdGEpfTwvVGV4dD59CiAgICAgIDxCdXR0b24gdGl0bGU9IlJldHJ5IiBvblByZXNzPXtmZXRjaERhdGF9IC8+CiAgICA8L1ZpZXc+CiAgKTsKfTsKCmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHsKICBjb250YWluZXI6IHsKICAgIGZsZXg6IDEsCiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsCiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywKICB9LAogIGVycm9yVGV4dDogewogICAgY29sb3I6ICdyZWQnLAogIH0sCn0pOwoKZXhwb3J0IGRlZmF1bHQgRmV0Y2hFeGFtcGxlOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { View, Text, Button, ActivityIndicator, StyleSheet } from 'react-native';

const FetchExample = () =&gt; {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const fetchData = async () =&gt; {
    setLoading(true);
    setError(null);
    try {
      const response = await fetch('https://api.example.com/data');
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      const result = await response.json();
      setData(result);
    } catch (error) {
      setError(error.message);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() =&gt; {
    fetchData();
  }, []);

  return (
    &lt;View style={styles.container}&gt;
      {loading &amp;&amp; &lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; /&gt;}
      {error &amp;&amp; &lt;Text style={styles.errorText}&gt;{error}&lt;/Text&gt;}
      {data &amp;&amp; &lt;Text&gt;{JSON.stringify(data)}&lt;/Text&gt;}
      &lt;Button title=&quot;Retry&quot; onPress={fetchData} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
  errorText: {
    color: 'red',
  },
});

export default FetchExample;</pre></div><div class='content'></div><h2>Using Axios</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIEJ1dHRvbiwgQWN0aXZpdHlJbmRpY2F0b3IsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKY29uc3QgQXhpb3NFeGFtcGxlID0gKCkgPT4gewogIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKG51bGwpOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpOwoKICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgc2V0RXJyb3IobnVsbCk7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpOwogICAgICBzZXREYXRhKHJlc3BvbnNlLmRhdGEpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgZmV0Y2hEYXRhKCk7CiAgfSwgW10pOwoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9PgogICAgICB7bG9hZGluZyAmJiA8QWN0aXZpdHlJbmRpY2F0b3Igc2l6ZT0ibGFyZ2UiIGNvbG9yPSIjMDAwMGZmIiAvPn0KICAgICAge2Vycm9yICYmIDxUZXh0IHN0eWxlPXtzdHlsZXMuZXJyb3JUZXh0fT57ZXJyb3J9PC9UZXh0Pn0KICAgICAge2RhdGEgJiYgPFRleHQ+e0pTT04uc3RyaW5naWZ5KGRhdGEpfTwvVGV4dD59CiAgICAgIDxCdXR0b24gdGl0bGU9IlJldHJ5IiBvblByZXNzPXtmZXRjaERhdGF9IC8+CiAgICA8L1ZpZXc+CiAgKTsKfTsKCmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHsKICBjb250YWluZXI6IHsKICAgIGZsZXg6IDEsCiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsCiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywKICB9LAogIGVycm9yVGV4dDogewogICAgY29sb3I6ICdyZWQnLAogIH0sCn0pOwoKZXhwb3J0IGRlZmF1bHQgQXhpb3NFeGFtcGxlOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { View, Text, Button, ActivityIndicator, StyleSheet } from 'react-native';
import axios from 'axios';

const AxiosExample = () =&gt; {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const fetchData = async () =&gt; {
    setLoading(true);
    setError(null);
    try {
      const response = await axios.get('https://api.example.com/data');
      setData(response.data);
    } catch (error) {
      setError(error.message);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() =&gt; {
    fetchData();
  }, []);

  return (
    &lt;View style={styles.container}&gt;
      {loading &amp;&amp; &lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; /&gt;}
      {error &amp;&amp; &lt;Text style={styles.errorText}&gt;{error}&lt;/Text&gt;}
      {data &amp;&amp; &lt;Text&gt;{JSON.stringify(data)}&lt;/Text&gt;}
      &lt;Button title=&quot;Retry&quot; onPress={fetchData} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
  errorText: {
    color: 'red',
  },
});

export default AxiosExample;</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Implement Error Handling with Fetch API</h2>
<div class='content'><p><strong>Task</strong>: Modify the FetchExample component to include a retry mechanism that retries the request up to 3 times before displaying an error message.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKHJldHJ5Q291bnQgPSAzKSA9PiB7CiAgc2V0TG9hZGluZyh0cnVlKTsKICBzZXRFcnJvcihudWxsKTsKICB0cnkgewogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpOwogICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaycpOwogICAgfQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgc2V0RGF0YShyZXN1bHQpOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBpZiAocmV0cnlDb3VudCA+IDApIHsKICAgICAgZmV0Y2hEYXRhKHJldHJ5Q291bnQgLSAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpOwogICAgfQogIH0gZmluYWxseSB7CiAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICB9Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fetchData = async (retryCount = 3) =&gt; {
  setLoading(true);
  setError(null);
  try {
    const response = await fetch('https://api.example.com/data');
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    const result = await response.json();
    setData(result);
  } catch (error) {
    if (retryCount &gt; 0) {
      fetchData(retryCount - 1);
    } else {
      setError(error.message);
    }
  } finally {
    setLoading(false);
  }
};</pre></div><div class='content'></div><h2>Exercise 2: Implement Error Handling with Axios</h2>
<div class='content'><p><strong>Task</strong>: Modify the AxiosExample component to include a retry mechanism that retries the request up to 3 times before displaying an error message.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKHJldHJ5Q291bnQgPSAzKSA9PiB7CiAgc2V0TG9hZGluZyh0cnVlKTsKICBzZXRFcnJvcihudWxsKTsKICB0cnkgewogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnKTsKICAgIHNldERhdGEocmVzcG9uc2UuZGF0YSk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGlmIChyZXRyeUNvdW50ID4gMCkgewogICAgICBmZXRjaERhdGEocmV0cnlDb3VudCAtIDEpOwogICAgfSBlbHNlIHsKICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICB9CiAgfSBmaW5hbGx5IHsKICAgIHNldExvYWRpbmcoZmFsc2UpOwogIH0KfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fetchData = async (retryCount = 3) =&gt; {
  setLoading(true);
  setError(null);
  try {
    const response = await axios.get('https://api.example.com/data');
    setData(response.data);
  } catch (error) {
    if (retryCount &gt; 0) {
      fetchData(retryCount - 1);
    } else {
      setError(error.message);
    }
  } finally {
    setLoading(false);
  }
};</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Ignoring Error Handling</strong>: Always handle errors to avoid unhandled promise rejections and provide a better user experience.</li>
<li><strong>Not Providing User Feedback</strong>: Ensure that users are informed about the status of their requests, especially when errors occur.</li>
<li><strong>Retrying Indefinitely</strong>: Implement a limit on the number of retries to avoid infinite loops.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the importance of handling network errors in React Native applications. We explored different types of network errors, error handling strategies, and how to provide user feedback. We also provided practical examples using the Fetch API and Axios, along with exercises to reinforce the concepts. Proper error handling is essential for building robust and user-friendly applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-using-axios-http-requests' title="Using Axios for HTTP Requests">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-asyncstorage-local-data' title="AsyncStorage for Local Data">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
