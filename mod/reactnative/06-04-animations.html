<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/06-04-animations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/06-04-animations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/06-04-animations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/reactnative/06-04-animations" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/06-04-animations" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-performance-optimization' title="Performance Optimization">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Animations</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-05-testing-debugging' title="Testing and Debugging">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Animations in React Native can significantly enhance the user experience by providing visual feedback and making the app feel more responsive and interactive. In this section, we will cover the basics of animations, how to use the <code>Animated</code> API, and practical examples to help you get started.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Animated API</strong>: The core API for creating animations in React Native.</li>
<li><strong>Types of Animations</strong>: Different types of animations such as timing, spring, and decay.</li>
<li><strong>Animated Components</strong>: Components that can be animated, such as <code>Animated.View</code> and <code>Animated.Text</code>.</li>
<li><strong>Interpolation</strong>: Mapping input ranges to output ranges to create complex animations.</li>
<li><strong>Combining Animations</strong>: Running multiple animations in parallel or sequence.</li>
</ol>
</div><h1>Animated API</h1>
<div class='content'><p>The <code>Animated</code> API is the primary tool for creating animations in React Native. It provides a set of methods and components to create smooth and performant animations.</p>
</div><h2>Basic Example</h2>
<div class='content'><p>Let's start with a simple example where we animate the opacity of a view.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBBbmltYXRlZCwgVmlldywgQnV0dG9uLCBTdHlsZVNoZWV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJzsKCmNvbnN0IEZhZGVJblZpZXcgPSAoKSA9PiB7CiAgY29uc3QgZmFkZUFuaW0gPSB1c2VSZWYobmV3IEFuaW1hdGVkLlZhbHVlKDApKS5jdXJyZW50OyAvLyBJbml0aWFsIHZhbHVlIGZvciBvcGFjaXR5OiAwCgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBBbmltYXRlZC50aW1pbmcoCiAgICAgIGZhZGVBbmltLAogICAgICB7CiAgICAgICAgdG9WYWx1ZTogMSwKICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsIC8vIEFkZCB0aGlzIGxpbmUKICAgICAgfQogICAgKS5zdGFydCgpOwogIH0sIFtmYWRlQW5pbV0pOwoKICByZXR1cm4gKAogICAgPEFuaW1hdGVkLlZpZXcgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgYW5pbWF0YWJsZSBWaWV3CiAgICAgIHN0eWxlPXt7CiAgICAgICAgLi4uc3R5bGVzLmZhZGluZ0NvbnRhaW5lciwKICAgICAgICBvcGFjaXR5OiBmYWRlQW5pbSwgICAgICAgICAvLyBCaW5kIG9wYWNpdHkgdG8gYW5pbWF0ZWQgdmFsdWUKICAgICAgfX0KICAgID4KICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5mYWRpbmdUZXh0fT4KICAgICAgICA8QnV0dG9uIHRpdGxlPSJGYWRlIEluIiBvblByZXNzPXsoKSA9PiB7fX0gLz4KICAgICAgPC9WaWV3PgogICAgPC9BbmltYXRlZC5WaWV3PgogICk7Cn0KCmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHsKICBmYWRpbmdDb250YWluZXI6IHsKICAgIHBhZGRpbmc6IDIwLAogICAgYmFja2dyb3VuZENvbG9yOiAncG93ZGVyYmx1ZScsCiAgfSwKICBmYWRpbmdUZXh0OiB7CiAgICBmb250U2l6ZTogMjgsCiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLAogICAgbWFyZ2luOiAxMCwKICB9LAp9KTsKCmV4cG9ydCBkZWZhdWx0IEZhZGVJblZpZXc7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useRef, useEffect } from 'react';
import { Animated, View, Button, StyleSheet } from 'react-native';

const FadeInView = () =&gt; {
  const fadeAnim = useRef(new Animated.Value(0)).current; // Initial value for opacity: 0

  useEffect(() =&gt; {
    Animated.timing(
      fadeAnim,
      {
        toValue: 1,
        duration: 2000,
        useNativeDriver: true, // Add this line
      }
    ).start();
  }, [fadeAnim]);

  return (
    &lt;Animated.View                 // Special animatable View
      style={{
        ...styles.fadingContainer,
        opacity: fadeAnim,         // Bind opacity to animated value
      }}
    &gt;
      &lt;View style={styles.fadingText}&gt;
        &lt;Button title=&quot;Fade In&quot; onPress={() =&gt; {}} /&gt;
      &lt;/View&gt;
    &lt;/Animated.View&gt;
  );
}

const styles = StyleSheet.create({
  fadingContainer: {
    padding: 20,
    backgroundColor: 'powderblue',
  },
  fadingText: {
    fontSize: 28,
    textAlign: 'center',
    margin: 10,
  },
});

export default FadeInView;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>useRef</strong>: Used to create a reference to the animated value.</li>
<li><strong>Animated.Value</strong>: Represents the animated value, in this case, the opacity.</li>
<li><strong>Animated.timing</strong>: Creates a timing animation that changes the value over a specified duration.</li>
<li><strong>useNativeDriver</strong>: Improves performance by using the native driver for animations.</li>
</ul>
</div><h1>Types of Animations</h1>
<div class='content'></div><h2>Timing</h2>
<div class='content'><p>The <code>timing</code> function animates a value over a specified duration.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QW5pbWF0ZWQudGltaW5nKGZhZGVBbmltLCB7CiAgdG9WYWx1ZTogMSwKICBkdXJhdGlvbjogMjAwMCwKICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsCn0pLnN0YXJ0KCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Animated.timing(fadeAnim, {
  toValue: 1,
  duration: 2000,
  useNativeDriver: true,
}).start();</pre></div><div class='content'></div><h2>Spring</h2>
<div class='content'><p>The <code>spring</code> function creates a spring-based animation.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QW5pbWF0ZWQuc3ByaW5nKGZhZGVBbmltLCB7CiAgdG9WYWx1ZTogMSwKICBmcmljdGlvbjogNSwKICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsCn0pLnN0YXJ0KCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Animated.spring(fadeAnim, {
  toValue: 1,
  friction: 5,
  useNativeDriver: true,
}).start();</pre></div><div class='content'></div><h2>Decay</h2>
<div class='content'><p>The <code>decay</code> function starts with an initial velocity and gradually slows down.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QW5pbWF0ZWQuZGVjYXkoZmFkZUFuaW0sIHsKICB2ZWxvY2l0eTogMC41LAogIGRlY2VsZXJhdGlvbjogMC45OTcsCiAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLAp9KS5zdGFydCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Animated.decay(fadeAnim, {
  velocity: 0.5,
  deceleration: 0.997,
  useNativeDriver: true,
}).start();</pre></div><div class='content'></div><h1>Interpolation</h1>
<div class='content'><p>Interpolation allows you to map input ranges to output ranges, creating more complex animations.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaW50ZXJwb2xhdGVkVmFsdWUgPSBmYWRlQW5pbS5pbnRlcnBvbGF0ZSh7CiAgaW5wdXRSYW5nZTogWzAsIDFdLAogIG91dHB1dFJhbmdlOiBbMCwgMzAwXSwKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const interpolatedValue = fadeAnim.interpolate({
  inputRange: [0, 1],
  outputRange: [0, 300],
});</pre></div><div class='content'></div><h1>Combining Animations</h1>
<div class='content'><p>You can combine multiple animations using <code>Animated.parallel</code> or <code>Animated.sequence</code>.</p>
</div><h2>Parallel</h2>
<div class='content'><p>Runs multiple animations at the same time.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QW5pbWF0ZWQucGFyYWxsZWwoWwogIEFuaW1hdGVkLnRpbWluZyhmYWRlQW5pbSwgewogICAgdG9WYWx1ZTogMSwKICAgIGR1cmF0aW9uOiAyMDAwLAogICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLAogIH0pLAogIEFuaW1hdGVkLnRpbWluZyhhbm90aGVyQW5pbSwgewogICAgdG9WYWx1ZTogMSwKICAgIGR1cmF0aW9uOiAyMDAwLAogICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLAogIH0pLApdKS5zdGFydCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Animated.parallel([
  Animated.timing(fadeAnim, {
    toValue: 1,
    duration: 2000,
    useNativeDriver: true,
  }),
  Animated.timing(anotherAnim, {
    toValue: 1,
    duration: 2000,
    useNativeDriver: true,
  }),
]).start();</pre></div><div class='content'></div><h2>Sequence</h2>
<div class='content'><p>Runs multiple animations one after the other.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QW5pbWF0ZWQuc2VxdWVuY2UoWwogIEFuaW1hdGVkLnRpbWluZyhmYWRlQW5pbSwgewogICAgdG9WYWx1ZTogMSwKICAgIGR1cmF0aW9uOiAyMDAwLAogICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLAogIH0pLAogIEFuaW1hdGVkLnRpbWluZyhhbm90aGVyQW5pbSwgewogICAgdG9WYWx1ZTogMSwKICAgIGR1cmF0aW9uOiAyMDAwLAogICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLAogIH0pLApdKS5zdGFydCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Animated.sequence([
  Animated.timing(fadeAnim, {
    toValue: 1,
    duration: 2000,
    useNativeDriver: true,
  }),
  Animated.timing(anotherAnim, {
    toValue: 1,
    duration: 2000,
    useNativeDriver: true,
  }),
]).start();</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Create a Bouncing Ball Animation</h2>
<div class='content'><ol>
<li>Create a new component called <code>BouncingBall</code>.</li>
<li>Use the <code>Animated</code> API to create a ball that bounces up and down.</li>
<li>Use the <code>spring</code> function to create the bouncing effect.</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBBbmltYXRlZCwgVmlldywgU3R5bGVTaGVldCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7Cgpjb25zdCBCb3VuY2luZ0JhbGwgPSAoKSA9PiB7CiAgY29uc3QgYm91bmNlQW5pbSA9IHVzZVJlZihuZXcgQW5pbWF0ZWQuVmFsdWUoMCkpLmN1cnJlbnQ7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBBbmltYXRlZC5sb29wKAogICAgICBBbmltYXRlZC5zZXF1ZW5jZShbCiAgICAgICAgQW5pbWF0ZWQuc3ByaW5nKGJvdW5jZUFuaW0sIHsKICAgICAgICAgIHRvVmFsdWU6IDEsCiAgICAgICAgICBmcmljdGlvbjogMSwKICAgICAgICAgIHVzZU5hdGl2ZURyaXZlcjogdHJ1ZSwKICAgICAgICB9KSwKICAgICAgICBBbmltYXRlZC5zcHJpbmcoYm91bmNlQW5pbSwgewogICAgICAgICAgdG9WYWx1ZTogMCwKICAgICAgICAgIGZyaWN0aW9uOiAxLAogICAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLAogICAgICAgIH0pLAogICAgICBdKQogICAgKS5zdGFydCgpOwogIH0sIFtib3VuY2VBbmltXSk7CgogIGNvbnN0IHRyYW5zbGF0ZVkgPSBib3VuY2VBbmltLmludGVycG9sYXRlKHsKICAgIGlucHV0UmFuZ2U6IFswLCAxXSwKICAgIG91dHB1dFJhbmdlOiBbMCwgLTE1MF0sCiAgfSk7CgogIHJldHVybiAoCiAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+CiAgICAgIDxBbmltYXRlZC5WaWV3IHN0eWxlPXtbc3R5bGVzLmJhbGwsIHsgdHJhbnNmb3JtOiBbeyB0cmFuc2xhdGVZIH1dIH1dfSAvPgogICAgPC9WaWV3PgogICk7Cn07Cgpjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7CiAgY29udGFpbmVyOiB7CiAgICBmbGV4OiAxLAogICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogICAgYWxpZ25JdGVtczogJ2NlbnRlcicsCiAgfSwKICBiYWxsOiB7CiAgICB3aWR0aDogNTAsCiAgICBoZWlnaHQ6IDUwLAogICAgYm9yZGVyUmFkaXVzOiAyNSwKICAgIGJhY2tncm91bmRDb2xvcjogJ2JsdWUnLAogIH0sCn0pOwoKZXhwb3J0IGRlZmF1bHQgQm91bmNpbmdCYWxsOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useRef, useEffect } from 'react';
import { Animated, View, StyleSheet } from 'react-native';

const BouncingBall = () =&gt; {
  const bounceAnim = useRef(new Animated.Value(0)).current;

  useEffect(() =&gt; {
    Animated.loop(
      Animated.sequence([
        Animated.spring(bounceAnim, {
          toValue: 1,
          friction: 1,
          useNativeDriver: true,
        }),
        Animated.spring(bounceAnim, {
          toValue: 0,
          friction: 1,
          useNativeDriver: true,
        }),
      ])
    ).start();
  }, [bounceAnim]);

  const translateY = bounceAnim.interpolate({
    inputRange: [0, 1],
    outputRange: [0, -150],
  });

  return (
    &lt;View style={styles.container}&gt;
      &lt;Animated.View style={[styles.ball, { transform: [{ translateY }] }]} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
  ball: {
    width: 50,
    height: 50,
    borderRadius: 25,
    backgroundColor: 'blue',
  },
});

export default BouncingBall;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Animated.loop</strong>: Repeats the animation sequence indefinitely.</li>
<li><strong>Animated.sequence</strong>: Runs the spring animations one after the other.</li>
<li><strong>interpolate</strong>: Maps the animated value to a range of translation values.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Using <code>useNativeDriver</code></strong>: Always use the native driver for better performance.</li>
<li><strong>Animating Layout Properties</strong>: Avoid animating layout properties like <code>width</code> and <code>height</code> directly; use transforms instead.</li>
<li><strong>Overusing Animations</strong>: Too many animations can make the app feel cluttered and slow.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of animations in React Native using the <code>Animated</code> API. We explored different types of animations, how to combine them, and practical examples to help you get started. Animations can greatly enhance the user experience, but it's important to use them judiciously to maintain performance and usability.</p>
<p>Next, we will dive into testing and debugging in React Native, which is crucial for ensuring the reliability and quality of your applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-performance-optimization' title="Performance Optimization">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-05-testing-debugging' title="Testing and Debugging">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
