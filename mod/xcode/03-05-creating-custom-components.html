<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Custom UI Components</title>

    <link rel="alternate" href="https://campusempresa.com/mod/xcode/03-05-creating-custom-components" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/xcode/03-05-creating-custom-components" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/xcode/03-05-creating-custom-components" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/xcode/03-05-creating-custom-components" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/xcode/03-05-creating-custom-components" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-using-previews' title="Using Xcode Previews">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creating Custom UI Components</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-introduction-core-data' title="Introduction to Core Data">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to create custom UI components in Xcode. Custom UI components allow you to build reusable and modular pieces of your user interface, which can significantly enhance the maintainability and scalability of your app.</p>
</div><h1>Objectives</h1>
<div class='content'><p>By the end of this section, you will be able to:</p>
<ol>
<li>Understand the benefits of creating custom UI components.</li>
<li>Create a custom UIView subclass.</li>
<li>Design and implement a custom UI component using Interface Builder.</li>
<li>Use your custom UI component in a project.</li>
</ol>
</div><h1>1. Understanding the Benefits of Custom UI Components</h1>
<div class='content'></div><h2>Key Benefits:</h2>
<div class='content'><ul>
<li><strong>Reusability</strong>: Custom components can be reused across different parts of your app, reducing code duplication.</li>
<li><strong>Modularity</strong>: Encapsulating UI logic within components makes your codebase more modular and easier to manage.</li>
<li><strong>Maintainability</strong>: Changes to the UI can be made in one place, simplifying updates and bug fixes.</li>
</ul>
</div><h1>2. Creating a Custom UIView Subclass</h1>
<div class='content'></div><h2>Step-by-Step Guide:</h2>
<div class='content'><ol>
<li>
<p><strong>Create a New File</strong>:</p>
<ul>
<li>In Xcode, go to <code>File &gt; New &gt; File...</code>.</li>
<li>Select <code>Cocoa Touch Class</code> and click <code>Next</code>.</li>
<li>Name your class (e.g., <code>CustomButton</code>) and make sure it subclasses <code>UIView</code>.</li>
<li>Click <code>Create</code>.</li>
</ul>
</li>
<li>
<p><strong>Define the Custom View</strong>:</p>
<ul>
<li>Open <code>CustomButton.swift</code> and define the properties and methods for your custom view.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFVJS2l0CgpjbGFzcyBDdXN0b21CdXR0b246IFVJVmlldyB7CiAgICAKICAgIHByaXZhdGUgbGV0IGJ1dHRvbjogVUlCdXR0b24gPSB7CiAgICAgICAgbGV0IGJ1dHRvbiA9IFVJQnV0dG9uKHR5cGU6IC5zeXN0ZW0pCiAgICAgICAgYnV0dG9uLnNldFRpdGxlKCJDdXN0b20gQnV0dG9uIiwgZm9yOiAubm9ybWFsKQogICAgICAgIGJ1dHRvbi50cmFuc2xhdGVzQXV0b3Jlc2l6aW5nTWFza0ludG9Db25zdHJhaW50cyA9IGZhbHNlCiAgICAgICAgcmV0dXJuIGJ1dHRvbgogICAgfSgpCiAgICAKICAgIG92ZXJyaWRlIGluaXQoZnJhbWU6IENHUmVjdCkgewogICAgICAgIHN1cGVyLmluaXQoZnJhbWU6IGZyYW1lKQogICAgICAgIHNldHVwVmlldygpCiAgICB9CiAgICAKICAgIHJlcXVpcmVkIGluaXQ/KGNvZGVyOiBOU0NvZGVyKSB7CiAgICAgICAgc3VwZXIuaW5pdChjb2RlcjogY29kZXIpCiAgICAgICAgc2V0dXBWaWV3KCkKICAgIH0KICAgIAogICAgcHJpdmF0ZSBmdW5jIHNldHVwVmlldygpIHsKICAgICAgICBhZGRTdWJ2aWV3KGJ1dHRvbikKICAgICAgICBzZXR1cENvbnN0cmFpbnRzKCkKICAgIH0KICAgIAogICAgcHJpdmF0ZSBmdW5jIHNldHVwQ29uc3RyYWludHMoKSB7CiAgICAgICAgTlNMYXlvdXRDb25zdHJhaW50LmFjdGl2YXRlKFsKICAgICAgICAgICAgYnV0dG9uLmNlbnRlclhBbmNob3IuY29uc3RyYWludChlcXVhbFRvOiBzZWxmLmNlbnRlclhBbmNob3IpLAogICAgICAgICAgICBidXR0b24uY2VudGVyWUFuY2hvci5jb25zdHJhaW50KGVxdWFsVG86IHNlbGYuY2VudGVyWUFuY2hvciksCiAgICAgICAgICAgIGJ1dHRvbi53aWR0aEFuY2hvci5jb25zdHJhaW50KGVxdWFsVG9Db25zdGFudDogMjAwKSwKICAgICAgICAgICAgYnV0dG9uLmhlaWdodEFuY2hvci5jb25zdHJhaW50KGVxdWFsVG9Db25zdGFudDogNTApCiAgICAgICAgXSkKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import UIKit

class CustomButton: UIView {
    
    private let button: UIButton = {
        let button = UIButton(type: .system)
        button.setTitle(&quot;Custom Button&quot;, for: .normal)
        button.translatesAutoresizingMaskIntoConstraints = false
        return button
    }()
    
    override init(frame: CGRect) {
        super.init(frame: frame)
        setupView()
    }
    
    required init?(coder: NSCoder) {
        super.init(coder: coder)
        setupView()
    }
    
    private func setupView() {
        addSubview(button)
        setupConstraints()
    }
    
    private func setupConstraints() {
        NSLayoutConstraint.activate([
            button.centerXAnchor.constraint(equalTo: self.centerXAnchor),
            button.centerYAnchor.constraint(equalTo: self.centerYAnchor),
            button.widthAnchor.constraint(equalToConstant: 200),
            button.heightAnchor.constraint(equalToConstant: 50)
        ])
    }
}</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>Properties</strong>: We define a <code>UIButton</code> as a private property.</li>
<li><strong>Initializers</strong>: We override <code>init(frame:)</code> and <code>init?(coder:)</code> to set up the view.</li>
<li><strong>Setup Methods</strong>: <code>setupView()</code> adds the button to the view hierarchy, and <code>setupConstraints()</code> defines the layout constraints.</li>
</ul>
</div><h1>3. Designing and Implementing a Custom UI Component Using Interface Builder</h1>
<div class='content'></div><h2>Step-by-Step Guide:</h2>
<div class='content'><ol>
<li>
<p><strong>Create a New XIB File</strong>:</p>
<ul>
<li>In Xcode, go to <code>File &gt; New &gt; File...</code>.</li>
<li>Select <code>User Interface</code> and then <code>View</code>.</li>
<li>Name your XIB file (e.g., <code>CustomButtonView.xib</code>) and click <code>Create</code>.</li>
</ul>
</li>
<li>
<p><strong>Design the Custom View</strong>:</p>
<ul>
<li>Open <code>CustomButtonView.xib</code>.</li>
<li>Drag a <code>UIView</code> onto the canvas and set its class to <code>CustomButton</code>.</li>
<li>Add a <code>UIButton</code> to the <code>UIView</code> and set its constraints.</li>
</ul>
</li>
<li>
<p><strong>Connect the XIB to the Custom Class</strong>:</p>
<ul>
<li>Open <code>CustomButton.swift</code>.</li>
<li>Add the following code to load the XIB file:</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFVJS2l0CgpjbGFzcyBDdXN0b21CdXR0b246IFVJVmlldyB7CiAgICAKICAgIEBJQk91dGxldCB3ZWFrIHZhciBidXR0b246IFVJQnV0dG9uIQogICAgCiAgICBvdmVycmlkZSBpbml0KGZyYW1lOiBDR1JlY3QpIHsKICAgICAgICBzdXBlci5pbml0KGZyYW1lOiBmcmFtZSkKICAgICAgICBjb21tb25Jbml0KCkKICAgIH0KICAgIAogICAgcmVxdWlyZWQgaW5pdD8oY29kZXI6IE5TQ29kZXIpIHsKICAgICAgICBzdXBlci5pbml0KGNvZGVyOiBjb2RlcikKICAgICAgICBjb21tb25Jbml0KCkKICAgIH0KICAgIAogICAgcHJpdmF0ZSBmdW5jIGNvbW1vbkluaXQoKSB7CiAgICAgICAgbGV0IGJ1bmRsZSA9IEJ1bmRsZShmb3I6IHR5cGUob2Y6IHNlbGYpKQogICAgICAgIGxldCBuaWIgPSBVSU5pYihuaWJOYW1lOiAiQ3VzdG9tQnV0dG9uVmlldyIsIGJ1bmRsZTogYnVuZGxlKQogICAgICAgIGxldCB2aWV3ID0gbmliLmluc3RhbnRpYXRlKHdpdGhPd25lcjogc2VsZiwgb3B0aW9uczogbmlsKS5maXJzdCBhcyEgVUlWaWV3CiAgICAgICAgdmlldy5mcmFtZSA9IHNlbGYuYm91bmRzCiAgICAgICAgdmlldy5hdXRvcmVzaXppbmdNYXNrID0gWy5mbGV4aWJsZVdpZHRoLCAuZmxleGlibGVIZWlnaHRdCiAgICAgICAgYWRkU3Vidmlldyh2aWV3KQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import UIKit

class CustomButton: UIView {
    
    @IBOutlet weak var button: UIButton!
    
    override init(frame: CGRect) {
        super.init(frame: frame)
        commonInit()
    }
    
    required init?(coder: NSCoder) {
        super.init(coder: coder)
        commonInit()
    }
    
    private func commonInit() {
        let bundle = Bundle(for: type(of: self))
        let nib = UINib(nibName: &quot;CustomButtonView&quot;, bundle: bundle)
        let view = nib.instantiate(withOwner: self, options: nil).first as! UIView
        view.frame = self.bounds
        view.autoresizingMask = [.flexibleWidth, .flexibleHeight]
        addSubview(view)
    }
}</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>IBOutlet</strong>: We connect the <code>UIButton</code> from the XIB to the <code>CustomButton</code> class.</li>
<li><strong>commonInit()</strong>: This method loads the XIB file and adds it to the view hierarchy.</li>
</ul>
</div><h1>4. Using Your Custom UI Component in a Project</h1>
<div class='content'></div><h2>Step-by-Step Guide:</h2>
<div class='content'><ol>
<li>
<p><strong>Add the Custom Component to a View Controller</strong>:</p>
<ul>
<li>Open a storyboard or XIB file where you want to use the custom component.</li>
<li>Drag a <code>UIView</code> onto the canvas and set its class to <code>CustomButton</code>.</li>
<li>Set the constraints for the <code>UIView</code>.</li>
</ul>
</li>
<li>
<p><strong>Run the Project</strong>:</p>
<ul>
<li>Build and run your project to see the custom button in action.</li>
</ul>
</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task:</h2>
<div class='content'><p>Create a custom <code>UILabel</code> component that displays a title and a subtitle. Use both programmatic and Interface Builder approaches.</p>
</div><h2>Solution:</h2>
<div class='content'><ol>
<li>
<p><strong>Programmatic Approach</strong>:</p>
<ul>
<li>Create a new <code>UILabel</code> subclass.</li>
<li>Define properties for the title and subtitle.</li>
<li>Set up the view and constraints.</li>
</ul>
</li>
<li>
<p><strong>Interface Builder Approach</strong>:</p>
<ul>
<li>Create a new XIB file.</li>
<li>Design the custom label with title and subtitle.</li>
<li>Connect the XIB to the custom class.</li>
</ul>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you learned how to create custom UI components in Xcode. You explored both programmatic and Interface Builder approaches, and you now understand the benefits of using custom components in your projects. This knowledge will help you build more modular, maintainable, and reusable user interfaces. In the next module, we will dive into working with data in Xcode, starting with an introduction to Core Data.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-using-previews' title="Using Xcode Previews">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-introduction-core-data' title="Introduction to Core Data">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
