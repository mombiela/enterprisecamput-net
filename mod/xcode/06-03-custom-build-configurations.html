<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Build Configurations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/xcode/06-03-custom-build-configurations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/xcode/06-03-custom-build-configurations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/xcode/06-03-custom-build-configurations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/xcode/06-03-custom-build-configurations" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/xcode/06-03-custom-build-configurations" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-advanced-debugging' title="Advanced Debugging Techniques">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Custom Build Configurations</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-scripting-xcode' title="Scripting with Xcode">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to create and manage custom build configurations in Xcode. Custom build configurations allow you to define different settings for different environments (e.g., development, staging, production) and streamline the build process.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Build Configuration</strong>: A set of build settings used to build your app. Xcode provides default configurations like Debug and Release.</li>
<li><strong>Scheme</strong>: A collection of settings that define how to build, run, test, profile, and archive your project.</li>
<li><strong>Configuration Settings File (.xcconfig)</strong>: A file that allows you to define build settings in a text format.</li>
</ol>
</div><h1>Steps to Create Custom Build Configurations</h1>
<div class='content'></div><h2>1. Adding a New Build Configuration</h2>
<div class='content'><ol>
<li>Open your Xcode project.</li>
<li>Select your project in the Project Navigator.</li>
<li>Go to the &quot;Info&quot; tab.</li>
<li>Under &quot;Configurations,&quot; click the &quot;+&quot; button to add a new configuration.</li>
<li>Duplicate an existing configuration (e.g., Debug or Release) and name it (e.g., Staging).</li>
</ol>
</div><h2>2. Modifying Build Settings</h2>
<div class='content'><ol>
<li>Select your project in the Project Navigator.</li>
<li>Go to the &quot;Build Settings&quot; tab.</li>
<li>Use the &quot;Configuration&quot; dropdown to select the configuration you want to modify (e.g., Staging).</li>
<li>Modify the build settings as needed. For example, you might change the API endpoint for different environments.</li>
</ol>
</div><h2>3. Creating a Configuration Settings File (.xcconfig)</h2>
<div class='content'><ol>
<li>Right-click on your project in the Project Navigator and select &quot;New File.&quot;</li>
<li>Choose &quot;Configuration Settings File&quot; and click &quot;Next.&quot;</li>
<li>Name the file (e.g., Staging.xcconfig) and save it.</li>
<li>Open the .xcconfig file and add your custom settings. For example:
<pre><code class="language-plaintext">BASE_URL = https://staging.example.com
</code></pre>
</li>
</ol>
</div><h2>4. Associating the .xcconfig File with a Build Configuration</h2>
<div class='content'><ol>
<li>Select your project in the Project Navigator.</li>
<li>Go to the &quot;Info&quot; tab.</li>
<li>Under &quot;Configurations,&quot; select the configuration you want to associate with the .xcconfig file (e.g., Staging).</li>
<li>In the &quot;Based on Configuration File&quot; column, select the .xcconfig file you created (e.g., Staging.xcconfig).</li>
</ol>
</div><h2>5. Using Build Configurations in Code</h2>
<div class='content'><p>You can use preprocessor macros to conditionally compile code based on the build configuration. For example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2lmIFNUQUdJTkcKbGV0IGJhc2VVUkwgPSAiaHR0cHM6Ly9zdGFnaW5nLmV4YW1wbGUuY29tIgojZWxzZQpsZXQgYmFzZVVSTCA9ICJodHRwczovL3Byb2R1Y3Rpb24uZXhhbXBsZS5jb20iCiNlbmRpZg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#if STAGING
let baseURL = &quot;https://staging.example.com&quot;
#else
let baseURL = &quot;https://production.example.com&quot;
#endif</pre></div><div class='content'><p>To define the <code>STAGING</code> macro, add it to the &quot;Preprocessor Macros&quot; build setting for the Staging configuration:</p>
<ol>
<li>Select your project in the Project Navigator.</li>
<li>Go to the &quot;Build Settings&quot; tab.</li>
<li>Search for &quot;Preprocessor Macros.&quot;</li>
<li>Add <code>STAGING</code> to the Staging configuration.</li>
</ol>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a custom build configuration for a staging environment.</p>
</div><h2>Step-by-Step Example</h2>
<div class='content'><ol>
<li>
<p><strong>Add a New Build Configuration</strong>:</p>
<ul>
<li>Duplicate the Debug configuration and name it &quot;Staging.&quot;</li>
</ul>
</li>
<li>
<p><strong>Create a Configuration Settings File</strong>:</p>
<ul>
<li>Create a new file named <code>Staging.xcconfig</code>.</li>
<li>Add the following content:
<pre><code class="language-plaintext">BASE_URL = https://staging.example.com
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Associate the .xcconfig File</strong>:</p>
<ul>
<li>Associate <code>Staging.xcconfig</code> with the Staging build configuration.</li>
</ul>
</li>
<li>
<p><strong>Modify Build Settings</strong>:</p>
<ul>
<li>In the &quot;Build Settings&quot; tab, add <code>STAGING</code> to the &quot;Preprocessor Macros&quot; for the Staging configuration.</li>
</ul>
</li>
<li>
<p><strong>Use Build Configurations in Code</strong>:</p>
<ul>
<li>In your Swift code, use the following:
<pre><code class="language-swift">#if STAGING
let baseURL = &quot;https://staging.example.com&quot;
#else
let baseURL = &quot;https://production.example.com&quot;
#endif
</code></pre>
</li>
</ul>
</li>
</ol>
</div><h2>Testing the Configuration</h2>
<div class='content'><ol>
<li>Select the Staging scheme.</li>
<li>Build and run your project.</li>
<li>Verify that the app uses the staging API endpoint.</li>
</ol>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Create a Production Build Configuration</h2>
<div class='content'><ol>
<li>Add a new build configuration named &quot;Production.&quot;</li>
<li>Create a <code>Production.xcconfig</code> file with the following content:
<pre><code class="language-plaintext">BASE_URL = https://production.example.com
</code></pre>
</li>
<li>Associate the <code>Production.xcconfig</code> file with the Production build configuration.</li>
<li>Add <code>PRODUCTION</code> to the &quot;Preprocessor Macros&quot; for the Production configuration.</li>
<li>Modify your Swift code to use the <code>PRODUCTION</code> macro.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><ol>
<li>Add a new build configuration named &quot;Production.&quot;</li>
<li>Create a <code>Production.xcconfig</code> file:
<pre><code class="language-plaintext">BASE_URL = https://production.example.com
</code></pre>
</li>
<li>Associate the <code>Production.xcconfig</code> file with the Production build configuration.</li>
<li>Add <code>PRODUCTION</code> to the &quot;Preprocessor Macros&quot; for the Production configuration.</li>
<li>Modify your Swift code:
<pre><code class="language-swift">#if PRODUCTION
let baseURL = &quot;https://production.example.com&quot;
#else
let baseURL = &quot;https://staging.example.com&quot;
#endif
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Custom build configurations in Xcode allow you to manage different environments and streamline your development process. By following the steps outlined in this section, you can create and manage custom build configurations, use configuration settings files, and conditionally compile code based on the build configuration. This flexibility is crucial for developing robust and scalable applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-advanced-debugging' title="Advanced Debugging Techniques">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-scripting-xcode' title="Scripting with Xcode">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
