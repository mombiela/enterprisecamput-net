<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Debugging Techniques</title>

    <link rel="alternate" href="https://campusempresa.com/mod/xcode/06-02-advanced-debugging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/xcode/06-02-advanced-debugging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/xcode/06-02-advanced-debugging" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/xcode/06-02-advanced-debugging" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/xcode/06-02-advanced-debugging" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-using-instruments' title="Using Instruments for Performance Tuning">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Advanced Debugging Techniques</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-custom-build-configurations' title="Custom Build Configurations">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into advanced debugging techniques in Xcode. These techniques will help you identify and resolve complex issues in your code more efficiently. By the end of this module, you should be comfortable using advanced debugging tools and strategies to troubleshoot and optimize your applications.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>LLDB (Low-Level Debugger) Commands</strong></li>
<li><strong>Watchpoints</strong></li>
<li><strong>View Debugging</strong></li>
<li><strong>Memory Debugging</strong></li>
<li><strong>Symbolic Breakpoints</strong></li>
<li><strong>Debugging Multithreaded Applications</strong></li>
</ol>
</div><h1><ol>
<li>LLDB Commands</li>
</ol>
</h1>
<div class='content'><p>LLDB is a powerful debugger that comes with Xcode. It allows you to inspect and manipulate the state of your application while it is running.</p>
</div><h2><p>Common LLDB Commands</p>
</h2>
<div class='content'><ul>
<li><strong><code>po</code> (Print Object):</strong> Prints the description of an object.
<pre><code class="language-swift">(lldb) po myObject
</code></pre>
</li>
<li><strong><code>p</code> (Print):</strong> Prints the value of a variable.
<pre><code class="language-swift">(lldb) p myVariable
</code></pre>
</li>
<li><strong><code>bt</code> (Backtrace):</strong> Displays the call stack of the current thread.
<pre><code class="language-swift">(lldb) bt
</code></pre>
</li>
<li><strong><code>thread list</code>:</strong> Lists all threads in the application.
<pre><code class="language-swift">(lldb) thread list
</code></pre>
</li>
</ul>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3dpZnQgY29kZQpsZXQgbnVtYmVycyA9IFsxLCAyLCAzLCA0LCA1XQpsZXQgc3VtID0gbnVtYmVycy5yZWR1Y2UoMCwgKykKcHJpbnQoc3VtKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Swift code
let numbers = [1, 2, 3, 4, 5]
let sum = numbers.reduce(0, +)
print(sum)</pre></div><div class='content'><p>While debugging, you can use LLDB to inspect the <code>numbers</code> array and the <code>sum</code> variable:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("KGxsZGIpIHBvIG51bWJlcnMKWzEsIDIsIDMsIDQsIDVdCgoobGxkYikgcCBzdW0KKEludCkgJFIwID0gMTU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>(lldb) po numbers
[1, 2, 3, 4, 5]

(lldb) p sum
(Int) $R0 = 15</pre></div><div class='content'></div><h1><ol start="2">
<li>Watchpoints</li>
</ol>
</h1>
<div class='content'><p>Watchpoints allow you to monitor changes to a specific variable or memory address. This is useful for tracking down issues related to unexpected changes in variable values.</p>
</div><h2><p>Setting a Watchpoint</p>
</h2>
<div class='content'><ol>
<li>Pause the execution of your application.</li>
<li>Use the <code>watchpoint set variable</code> command to set a watchpoint on a variable.
<pre><code class="language-lldb">(lldb) watchpoint set variable myVariable
</code></pre>
</li>
</ol>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3dpZnQgY29kZQp2YXIgY291bnRlciA9IDAKCmZ1bmMgaW5jcmVtZW50Q291bnRlcigpIHsKICAgIGNvdW50ZXIgKz0gMQp9CgppbmNyZW1lbnRDb3VudGVyKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Swift code
var counter = 0

func incrementCounter() {
    counter += 1
}

incrementCounter()</pre></div><div class='content'><p>Set a watchpoint on <code>counter</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("KGxsZGIpIHdhdGNocG9pbnQgc2V0IHZhcmlhYmxlIGNvdW50ZXIKV2F0Y2hwb2ludCBjcmVhdGVkOiBXYXRjaHBvaW50IDE6IGFkZHIgPSAweDAwMDA3ZmZlZTNiNWMwYTggc2l6ZSA9IDggc3RhdGUgPSBlbmFibGVkIHR5cGUgPSB3CiAgICBkZWNsYXJlIEAgJ1ZpZXdDb250cm9sbGVyLnN3aWZ0OjEwJwogICAgd2F0Y2hwb2ludCBzcGVjID0gJ2NvdW50ZXIn"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>(lldb) watchpoint set variable counter
Watchpoint created: Watchpoint 1: addr = 0x00007ffee3b5c0a8 size = 8 state = enabled type = w
    declare @ 'ViewController.swift:10'
    watchpoint spec = 'counter'</pre></div><div class='content'></div><h1><ol start="3">
<li>View Debugging</li>
</ol>
</h1>
<div class='content'><p>View debugging helps you inspect and debug the view hierarchy of your application. This is particularly useful for resolving layout issues.</p>
</div><h2><p>Using View Debugging</p>
</h2>
<div class='content'><ol>
<li>Run your application in the simulator or on a device.</li>
<li>Pause the execution and select the &quot;Debug View Hierarchy&quot; button in the debug toolbar.</li>
<li>Inspect the view hierarchy and properties of each view.</li>
</ol>
</div><h1><ol start="4">
<li>Memory Debugging</li>
</ol>
</h1>
<div class='content'><p>Memory debugging tools help you identify memory leaks and issues related to memory management.</p>
</div><h2><p>Using the Memory Graph Debugger</p>
</h2>
<div class='content'><ol>
<li>Run your application.</li>
<li>Pause the execution and select the &quot;Debug Memory Graph&quot; button in the debug toolbar.</li>
<li>Inspect the memory graph to identify retain cycles and memory leaks.</li>
</ol>
</div><h1><ol start="5">
<li>Symbolic Breakpoints</li>
</ol>
</h1>
<div class='content'><p>Symbolic breakpoints allow you to set breakpoints on specific methods or functions, even if you don't have access to the source code.</p>
</div><h2><p>Setting a Symbolic Breakpoint</p>
</h2>
<div class='content'><ol>
<li>Open the Breakpoint Navigator.</li>
<li>Click the &quot;+&quot; button and select &quot;Symbolic Breakpoint&quot;.</li>
<li>Enter the symbol name (e.g., <code>-[UIViewController viewDidLoad]</code>).</li>
</ol>
</div><h1><ol start="6">
<li>Debugging Multithreaded Applications</li>
</ol>
</h1>
<div class='content'><p>Debugging multithreaded applications can be challenging due to the complexity of concurrent execution.</p>
</div><h2><p>Tips for Debugging Multithreaded Applications</p>
</h2>
<div class='content'><ul>
<li><strong>Use Thread Sanitizer:</strong> Enable Thread Sanitizer in your scheme to detect data races and other threading issues.</li>
<li><strong>Inspect Thread States:</strong> Use the <code>thread list</code> and <code>thread backtrace</code> commands to inspect the state of each thread.</li>
<li><strong>Set Breakpoints in Critical Sections:</strong> Set breakpoints in critical sections of your code to monitor thread execution.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Debugging a Memory Leak</p>
</h2>
<div class='content'><ol>
<li>
<p>Create a new Xcode project.</p>
</li>
<li>
<p>Add the following code to your view controller:</p>
<pre><code class="language-swift">class MyClass {
    var closure: (() -&gt; Void)?
}

class ViewController: UIViewController {
    var myObject: MyClass?

    override func viewDidLoad() {
        super.viewDidLoad()
        myObject = MyClass()
        myObject?.closure = { [weak self] in
            print(self?.description ?? &quot;No self&quot;)
        }
    }
}
</code></pre>
</li>
<li>
<p>Run the application and use the Memory Graph Debugger to identify any memory leaks.</p>
</li>
<li>
<p>Fix the memory leak by modifying the closure to capture <code>self</code> weakly.</p>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTXlDbGFzcyB7CiAgICB2YXIgY2xvc3VyZTogKCgpIC0+IFZvaWQpPwp9CgpjbGFzcyBWaWV3Q29udHJvbGxlcjogVUlWaWV3Q29udHJvbGxlciB7CiAgICB2YXIgbXlPYmplY3Q6IE15Q2xhc3M/CgogICAgb3ZlcnJpZGUgZnVuYyB2aWV3RGlkTG9hZCgpIHsKICAgICAgICBzdXBlci52aWV3RGlkTG9hZCgpCiAgICAgICAgbXlPYmplY3QgPSBNeUNsYXNzKCkKICAgICAgICBteU9iamVjdD8uY2xvc3VyZSA9IHsgW3dlYWsgc2VsZl0gaW4KICAgICAgICAgICAgcHJpbnQoc2VsZj8uZGVzY3JpcHRpb24gPz8gIk5vIHNlbGYiKQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MyClass {
    var closure: (() -&gt; Void)?
}

class ViewController: UIViewController {
    var myObject: MyClass?

    override func viewDidLoad() {
        super.viewDidLoad()
        myObject = MyClass()
        myObject?.closure = { [weak self] in
            print(self?.description ?? &quot;No self&quot;)
        }
    }
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered advanced debugging techniques in Xcode, including LLDB commands, watchpoints, view debugging, memory debugging, symbolic breakpoints, and debugging multithreaded applications. These tools and techniques will help you identify and resolve complex issues in your code more efficiently. In the next module, we will explore custom build configurations and how to optimize your build process.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-using-instruments' title="Using Instruments for Performance Tuning">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-custom-build-configurations' title="Custom Build Configurations">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
