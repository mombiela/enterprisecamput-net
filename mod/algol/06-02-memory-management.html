<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Management</title>

    <link rel="alternate" href="https://campusempresa.com/mod/algol/06-02-memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/algol/06-02-memory-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/algol/06-02-memory-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/algol/06-02-memory-management" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/algol/06-02-memory-management" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-file-handling' title="File Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Memory Management</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-concurrency' title="Concurrency in ALGOL">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Memory management is a crucial aspect of programming, especially in languages like ALGOL, which provide low-level access to memory. This module will cover the fundamental concepts of memory management, including allocation, deallocation, and best practices to avoid common pitfalls such as memory leaks and fragmentation.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Memory Allocation</strong>: The process of reserving a portion of memory for use by a program.</li>
<li><strong>Memory Deallocation</strong>: The process of freeing up previously allocated memory.</li>
<li><strong>Static vs. Dynamic Memory</strong>: Understanding the difference between memory allocated at compile-time (static) and at runtime (dynamic).</li>
<li><strong>Heap and Stack</strong>: Two primary areas of memory used for different purposes.</li>
<li><strong>Garbage Collection</strong>: Automatic memory management to reclaim memory that is no longer in use.</li>
</ol>
</div><h1>Memory Allocation</h1>
<div class='content'></div><h2>Static Memory Allocation</h2>
<div class='content'><p>Static memory allocation occurs at compile-time. The size and location of the memory are fixed and cannot be changed during runtime.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIGludGVnZXIgYTsKICAgIHJlYWwgYjsKICAgIGEgOj0gMTA7CiAgICBiIDo9IDIwLjU7CmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    integer a;
    real b;
    a := 10;
    b := 20.5;
end;</pre></div><div class='content'><p>In this example, <code>a</code> and <code>b</code> are statically allocated. Their memory is reserved when the program starts and released when the program ends.</p>
</div><h2>Dynamic Memory Allocation</h2>
<div class='content'><p>Dynamic memory allocation occurs at runtime, allowing for more flexible memory usage. ALGOL uses procedures like <code>new</code> and <code>dispose</code> for dynamic memory management.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIGludGVnZXIgYXJyYXlbMToxMF07CiAgICBuZXcoYXJyYXkpOwogICAgYXJyYXlbMV0gOj0gNTsKICAgIGRpc3Bvc2UoYXJyYXkpOwplbmQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    integer array[1:10];
    new(array);
    array[1] := 5;
    dispose(array);
end;</pre></div><div class='content'><p>Here, <code>array</code> is dynamically allocated using <code>new</code> and deallocated using <code>dispose</code>.</p>
</div><h1>Heap and Stack</h1>
<div class='content'></div><h2>Stack</h2>
<div class='content'><p>The stack is used for static memory allocation, typically for function calls and local variables. It operates in a Last-In-First-Out (LIFO) manner.</p>
</div><h2>Heap</h2>
<div class='content'><p>The heap is used for dynamic memory allocation. It is more flexible but requires careful management to avoid fragmentation and leaks.</p>
</div><h1>Garbage Collection</h1>
<div class='content'><p>ALGOL does not have built-in garbage collection like some modern languages. Therefore, it is the programmer's responsibility to manage memory manually.</p>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a dynamic array and manage its memory:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIGludGVnZXIgYXJyYXlbMToxMF07CiAgICBuZXcoYXJyYXkpOwogICAgCiAgICBmb3IgaSA6PSAxIHN0ZXAgMSB1bnRpbCAxMCBkbwogICAgICAgIGFycmF5W2ldIDo9IGkgKiAyOwogICAgCiAgICBmb3IgaSA6PSAxIHN0ZXAgMSB1bnRpbCAxMCBkbwogICAgICAgIHByaW50KGFycmF5W2ldKTsKICAgIAogICAgZGlzcG9zZShhcnJheSk7CmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    integer array[1:10];
    new(array);
    
    for i := 1 step 1 until 10 do
        array[i] := i * 2;
    
    for i := 1 step 1 until 10 do
        print(array[i]);
    
    dispose(array);
end;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li><strong>Allocation</strong>: <code>new(array)</code> dynamically allocates memory for the array.</li>
<li><strong>Usage</strong>: The <code>for</code> loops initialize and print the array elements.</li>
<li><strong>Deallocation</strong>: <code>dispose(array)</code> frees the allocated memory.</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ol>
<li><strong>Memory Leaks</strong>: Always ensure that dynamically allocated memory is deallocated using <code>dispose</code>.</li>
<li><strong>Double Free</strong>: Avoid deallocating memory that has already been freed.</li>
<li><strong>Null Pointers</strong>: Check for null pointers before accessing memory to prevent crashes.</li>
</ol>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Dynamic String Allocation</h2>
<div class='content'><p>Write a program that dynamically allocates memory for a string, assigns a value, and then deallocates the memory.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIHN0cmluZyBzWzE6MjBdOwogICAgbmV3KHMpOwogICAgcyA6PSAiSGVsbG8sIEFMR09MISI7CiAgICBwcmludChzKTsKICAgIGRpc3Bvc2Uocyk7CmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    string s[1:20];
    new(s);
    s := &quot;Hello, ALGOL!&quot;;
    print(s);
    dispose(s);
end;</pre></div><div class='content'></div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIHN0cmluZyBzWzE6MjBdOwogICAgbmV3KHMpOwogICAgcyA6PSAiSGVsbG8sIEFMR09MISI7CiAgICBwcmludChzKTsKICAgIGRpc3Bvc2Uocyk7CmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    string s[1:20];
    new(s);
    s := &quot;Hello, ALGOL!&quot;;
    print(s);
    dispose(s);
end;</pre></div><div class='content'></div><h2>Exercise 2: Dynamic Matrix Allocation</h2>
<div class='content'><p>Write a program that dynamically allocates memory for a 2x2 matrix, assigns values, prints them, and then deallocates the memory.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIGludGVnZXIgbWF0cml4WzE6MiwgMToyXTsKICAgIG5ldyhtYXRyaXgpOwogICAgCiAgICBtYXRyaXhbMSwxXSA6PSAxOwogICAgbWF0cml4WzEsMl0gOj0gMjsKICAgIG1hdHJpeFsyLDFdIDo9IDM7CiAgICBtYXRyaXhbMiwyXSA6PSA0OwogICAgCiAgICBmb3IgaSA6PSAxIHN0ZXAgMSB1bnRpbCAyIGRvCiAgICAgICAgZm9yIGogOj0gMSBzdGVwIDEgdW50aWwgMiBkbwogICAgICAgICAgICBwcmludChtYXRyaXhbaSxqXSk7CiAgICAKICAgIGRpc3Bvc2UobWF0cml4KTsKZW5kOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    integer matrix[1:2, 1:2];
    new(matrix);
    
    matrix[1,1] := 1;
    matrix[1,2] := 2;
    matrix[2,1] := 3;
    matrix[2,2] := 4;
    
    for i := 1 step 1 until 2 do
        for j := 1 step 1 until 2 do
            print(matrix[i,j]);
    
    dispose(matrix);
end;</pre></div><div class='content'></div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAgIGludGVnZXIgbWF0cml4WzE6MiwgMToyXTsKICAgIG5ldyhtYXRyaXgpOwogICAgCiAgICBtYXRyaXhbMSwxXSA6PSAxOwogICAgbWF0cml4WzEsMl0gOj0gMjsKICAgIG1hdHJpeFsyLDFdIDo9IDM7CiAgICBtYXRyaXhbMiwyXSA6PSA0OwogICAgCiAgICBmb3IgaSA6PSAxIHN0ZXAgMSB1bnRpbCAyIGRvCiAgICAgICAgZm9yIGogOj0gMSBzdGVwIDEgdW50aWwgMiBkbwogICAgICAgICAgICBwcmludChtYXRyaXhbaSxqXSk7CiAgICAKICAgIGRpc3Bvc2UobWF0cml4KTsKZW5kOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
    integer matrix[1:2, 1:2];
    new(matrix);
    
    matrix[1,1] := 1;
    matrix[1,2] := 2;
    matrix[2,1] := 3;
    matrix[2,2] := 4;
    
    for i := 1 step 1 until 2 do
        for j := 1 step 1 until 2 do
            print(matrix[i,j]);
    
    dispose(matrix);
end;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this module, we covered the basics of memory management in ALGOL, including static and dynamic memory allocation, heap and stack usage, and manual memory management. Understanding these concepts is crucial for writing efficient and error-free programs. In the next module, we will explore concurrency in ALGOL, which will build on the memory management concepts discussed here.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-file-handling' title="File Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-concurrency' title="Concurrency in ALGOL">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
