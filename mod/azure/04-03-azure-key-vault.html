<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Key Vault</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/04-03-azure-key-vault" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/04-03-azure-key-vault" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/04-03-azure-key-vault" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/azure/04-03-azure-key-vault" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/azure/04-03-azure-key-vault" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-azure-security-center' title="Azure Security Center">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Azure Key Vault</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-azure-ddos-protection' title="Azure DDoS Protection">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Azure Key Vault is a cloud service that provides a secure store for secrets. You can securely store and tightly control access to tokens, passwords, certificates, API keys, and other secrets. Azure Key Vault helps enhance data protection and compliance by providing a secure location to store sensitive information.</p>
</div><h1>Key Concepts</h1>
<div class='content'></div><h2>1. Secrets Management</h2>
<div class='content'><ul>
<li><strong>Secrets</strong>: Store and manage sensitive information such as passwords, connection strings, and API keys.</li>
<li><strong>Certificates</strong>: Manage and deploy SSL/TLS certificates for your applications.</li>
<li><strong>Keys</strong>: Store and manage cryptographic keys used for encryption and decryption.</li>
</ul>
</div><h2>2. Access Control</h2>
<div class='content'><ul>
<li><strong>Role-Based Access Control (RBAC)</strong>: Define who has access to the Key Vault and what operations they can perform.</li>
<li><strong>Access Policies</strong>: Set policies to control access to specific secrets, keys, and certificates.</li>
</ul>
</div><h2>3. Integration</h2>
<div class='content'><ul>
<li><strong>Azure Services</strong>: Integrate with other Azure services like Azure Functions, Azure App Service, and Azure Virtual Machines.</li>
<li><strong>Third-Party Services</strong>: Use Key Vault with third-party services and applications.</li>
</ul>
</div><h1>Setting Up Azure Key Vault</h1>
<div class='content'></div><h2>Step 1: Create a Key Vault</h2>
<div class='content'><ol>
<li><strong>Navigate to the Azure Portal</strong>: <a href="https://portal.azure.com">Azure Portal</a></li>
<li><strong>Create a Resource</strong>: Click on &quot;Create a resource&quot; and search for &quot;Key Vault&quot;.</li>
<li><strong>Configure Key Vault</strong>:
<ul>
<li><strong>Name</strong>: Provide a unique name for your Key Vault.</li>
<li><strong>Subscription</strong>: Select your Azure subscription.</li>
<li><strong>Resource Group</strong>: Choose an existing resource group or create a new one.</li>
<li><strong>Location</strong>: Select the Azure region where you want to create the Key Vault.</li>
</ul>
</li>
<li><strong>Review and Create</strong>: Review the settings and click &quot;Create&quot;.</li>
</ol>
</div><h2>Step 2: Add Secrets to Key Vault</h2>
<div class='content'><ol>
<li><strong>Navigate to Your Key Vault</strong>: Go to the Key Vault you created.</li>
<li><strong>Add a Secret</strong>:
<ul>
<li>Click on &quot;Secrets&quot; in the left-hand menu.</li>
<li>Click on &quot;Generate/Import&quot;.</li>
<li>Provide a name and value for the secret.</li>
<li>Click &quot;Create&quot;.</li>
</ul>
</li>
</ol>
</div><h2>Step 3: Access Secrets Programmatically</h2>
<div class='content'><p>You can access secrets stored in Azure Key Vault using various programming languages. Below is an example using Python.</p>
<h4>Example: Accessing Secrets with Python</h4>
<ol>
<li>
<p><strong>Install Azure Key Vault Libraries</strong>:</p>
<pre><code class="language-bash">pip install azure-identity azure-keyvault-secrets
</code></pre>
</li>
<li>
<p><strong>Python Code to Access Secrets</strong>:</p>
<pre><code class="language-python">from azure.identity import DefaultAzureCredential
from azure.keyvault.secrets import SecretClient

# Replace with your Key Vault URL
key_vault_url = &quot;https://&lt;your-key-vault-name&gt;.vault.azure.net/&quot;

# Create a SecretClient using DefaultAzureCredential
credential = DefaultAzureCredential()
client = SecretClient(vault_url=key_vault_url, credential=credential)

# Retrieve a secret
secret_name = &quot;mySecret&quot;
retrieved_secret = client.get_secret(secret_name)

print(f&quot;Secret Value: {retrieved_secret.value}&quot;)
</code></pre>
</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Store and Retrieve a Secret</h2>
<div class='content'><ol>
<li><strong>Create a Key Vault</strong>: Follow the steps to create a Key Vault in the Azure Portal.</li>
<li><strong>Add a Secret</strong>: Add a secret named <code>DatabasePassword</code> with the value <code>P@ssw0rd123</code>.</li>
<li><strong>Retrieve the Secret Using Python</strong>:
<ul>
<li>Use the provided Python code to retrieve the <code>DatabasePassword</code> secret.</li>
<li>Print the value of the secret.</li>
</ul>
</li>
</ol>
<h4>Solution:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhenVyZS5pZGVudGl0eSBpbXBvcnQgRGVmYXVsdEF6dXJlQ3JlZGVudGlhbApmcm9tIGF6dXJlLmtleXZhdWx0LnNlY3JldHMgaW1wb3J0IFNlY3JldENsaWVudAoKIyBSZXBsYWNlIHdpdGggeW91ciBLZXkgVmF1bHQgVVJMCmtleV92YXVsdF91cmwgPSAiaHR0cHM6Ly88eW91ci1rZXktdmF1bHQtbmFtZT4udmF1bHQuYXp1cmUubmV0LyIKCiMgQ3JlYXRlIGEgU2VjcmV0Q2xpZW50IHVzaW5nIERlZmF1bHRBenVyZUNyZWRlbnRpYWwKY3JlZGVudGlhbCA9IERlZmF1bHRBenVyZUNyZWRlbnRpYWwoKQpjbGllbnQgPSBTZWNyZXRDbGllbnQodmF1bHRfdXJsPWtleV92YXVsdF91cmwsIGNyZWRlbnRpYWw9Y3JlZGVudGlhbCkKCiMgUmV0cmlldmUgdGhlIHNlY3JldApzZWNyZXRfbmFtZSA9ICJEYXRhYmFzZVBhc3N3b3JkIgpyZXRyaWV2ZWRfc2VjcmV0ID0gY2xpZW50LmdldF9zZWNyZXQoc2VjcmV0X25hbWUpCgpwcmludChmIlNlY3JldCBWYWx1ZToge3JldHJpZXZlZF9zZWNyZXQudmFsdWV9Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from azure.identity import DefaultAzureCredential
from azure.keyvault.secrets import SecretClient

# Replace with your Key Vault URL
key_vault_url = &quot;https://&lt;your-key-vault-name&gt;.vault.azure.net/&quot;

# Create a SecretClient using DefaultAzureCredential
credential = DefaultAzureCredential()
client = SecretClient(vault_url=key_vault_url, credential=credential)

# Retrieve the secret
secret_name = &quot;DatabasePassword&quot;
retrieved_secret = client.get_secret(secret_name)

print(f&quot;Secret Value: {retrieved_secret.value}&quot;)</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Incorrect Key Vault URL</strong>: Ensure the Key Vault URL is correct and includes the full path (e.g., <code>https://&lt;your-key-vault-name&gt;.vault.azure.net/</code>).</li>
<li><strong>Access Permissions</strong>: Ensure that the application or user has the necessary permissions to access the Key Vault.</li>
<li><strong>Environment Configuration</strong>: When using DefaultAzureCredential, ensure your environment is configured correctly (e.g., Azure CLI logged in, managed identity enabled).</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Azure Key Vault is a powerful tool for managing secrets, keys, and certificates securely. By integrating Key Vault with your applications, you can enhance security and simplify the management of sensitive information. In the next module, we will explore Azure DDoS Protection and how it helps safeguard your applications from distributed denial-of-service attacks.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-azure-security-center' title="Azure Security Center">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-azure-ddos-protection' title="Azure DDoS Protection">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
