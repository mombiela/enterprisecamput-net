<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Pipelines</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/05-02-azure-pipelines" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/05-02-azure-pipelines" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/05-02-azure-pipelines" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/azure/05-02-azure-pipelines" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/azure/05-02-azure-pipelines" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-introduction-azure-devops' title="Introduction to Azure DevOps">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Azure Pipelines</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-azure-repos' title="Azure Repos">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Azure Pipelines is a cloud service that you can use to automatically build and test your code project and make it available to other users. It combines continuous integration (CI) and continuous delivery (CD) to constantly and consistently test and build your code and ship it to any target.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Continuous Integration (CI):</strong></p>
<ul>
<li>Automatically build and test code every time a team member commits changes to version control.</li>
<li>Helps catch bugs early in the development cycle, which makes them less expensive to fix.</li>
</ul>
</li>
<li>
<p><strong>Continuous Delivery (CD):</strong></p>
<ul>
<li>Automatically deploys code to a production environment after it passes the CI pipeline.</li>
<li>Ensures that the code is always in a deployable state.</li>
</ul>
</li>
<li>
<p><strong>Pipeline:</strong></p>
<ul>
<li>A series of steps that include building, testing, and deploying code.</li>
<li>Can be defined using YAML or through the classic editor in the Azure DevOps portal.</li>
</ul>
</li>
<li>
<p><strong>Agent:</strong></p>
<ul>
<li>A machine that runs the pipeline jobs.</li>
<li>Can be Microsoft-hosted or self-hosted.</li>
</ul>
</li>
<li>
<p><strong>Stages, Jobs, and Steps:</strong></p>
<ul>
<li><strong>Stages:</strong> High-level divisions of the pipeline, such as build, test, and deploy.</li>
<li><strong>Jobs:</strong> A collection of steps that run sequentially on the same agent.</li>
<li><strong>Steps:</strong> Individual tasks, such as running a script or installing dependencies.</li>
</ul>
</li>
</ol>
</div><h1><p>Setting Up Azure Pipelines</p>
</h1>
<div class='content'></div><h2><p>Step 1: Create a New Pipeline</p>
</h2>
<div class='content'><ol>
<li>Navigate to your Azure DevOps project.</li>
<li>Select <strong>Pipelines</strong> from the left-hand menu.</li>
<li>Click on <strong>New pipeline</strong>.</li>
<li>Choose the source where your code is stored (e.g., GitHub, Azure Repos).</li>
</ol>
</div><h2><p>Step 2: Configure the Pipeline</p>
</h2>
<div class='content'><p>You can configure your pipeline using YAML or the classic editor. Here, we'll use YAML for its flexibility and version control benefits.</p>
<h4>Example YAML Pipeline Configuration</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyAuYXp1cmUtcGlwZWxpbmVzLnltbAp0cmlnZ2VyOgotIG1haW4KCnBvb2w6CiAgdm1JbWFnZTogJ3VidW50dS1sYXRlc3QnCgpzdGVwczoKLSB0YXNrOiBVc2VOb2RlQDIKICBpbnB1dHM6CiAgICB2ZXJzaW9uOiAnMTQueCcKLSBzY3JpcHQ6IHwKICAgIG5wbSBpbnN0YWxsCiAgICBucG0gcnVuIGJ1aWxkCiAgZGlzcGxheU5hbWU6ICdJbnN0YWxsIGRlcGVuZGVuY2llcyBhbmQgYnVpbGQnCi0gdGFzazogUHVibGlzaEJ1aWxkQXJ0aWZhY3RzQDEKICBpbnB1dHM6CiAgICBQYXRodG9QdWJsaXNoOiAnJChCdWlsZC5BcnRpZmFjdFN0YWdpbmdEaXJlY3RvcnkpJwogICAgQXJ0aWZhY3ROYW1lOiAnZHJvcCcKICAgIHB1Ymxpc2hMb2NhdGlvbjogJ0NvbnRhaW5lcic="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># .azure-pipelines.yml
trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: UseNode@2
  inputs:
    version: '14.x'
- script: |
    npm install
    npm run build
  displayName: 'Install dependencies and build'
- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: '$(Build.ArtifactStagingDirectory)'
    ArtifactName: 'drop'
    publishLocation: 'Container'</pre></div><div class='content'></div><h2><p>Explanation of the YAML Configuration</p>
</h2>
<div class='content'><ul>
<li><strong>trigger:</strong> Specifies the branches that will trigger the pipeline. In this case, it triggers on changes to the <code>main</code> branch.</li>
<li><strong>pool:</strong> Defines the agent pool. Here, we use a Microsoft-hosted agent with the latest Ubuntu image.</li>
<li><strong>steps:</strong> A list of tasks to be executed.
<ul>
<li><strong>UseNode@2:</strong> Uses Node.js version 14.x.</li>
<li><strong>script:</strong> Runs a shell script to install dependencies and build the project.</li>
<li><strong>PublishBuildArtifacts@1:</strong> Publishes the build artifacts to a container.</li>
</ul>
</li>
</ul>
</div><h2><p>Step 3: Run the Pipeline</p>
</h2>
<div class='content'><ol>
<li>Save and run the pipeline.</li>
<li>Monitor the pipeline's progress in the Azure DevOps portal.</li>
<li>Check the logs for any errors or warnings.</li>
</ol>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create a Simple CI Pipeline</p>
</h2>
<div class='content'><ol>
<li><strong>Objective:</strong> Set up a CI pipeline for a simple Node.js application.</li>
<li><strong>Steps:</strong>
<ul>
<li>Create a new Azure DevOps project.</li>
<li>Push your Node.js application to a repository in Azure Repos.</li>
<li>Create a new pipeline using the YAML configuration provided above.</li>
<li>Run the pipeline and ensure it completes successfully.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a New Azure DevOps Project:</strong></p>
<ul>
<li>Navigate to Azure DevOps.</li>
<li>Click on <strong>New Project</strong> and follow the prompts.</li>
</ul>
</li>
<li>
<p><strong>Push Your Node.js Application:</strong></p>
<ul>
<li>Initialize a Git repository in your Node.js project directory.</li>
<li>Add the remote URL for your Azure Repos repository.</li>
<li>Push your code to the repository.</li>
</ul>
</li>
<li>
<p><strong>Create and Run the Pipeline:</strong></p>
<ul>
<li>Follow the steps outlined in the &quot;Setting Up Azure Pipelines&quot; section.</li>
<li>Use the provided YAML configuration.</li>
<li>Save and run the pipeline.</li>
</ul>
</li>
</ol>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Incorrect YAML Syntax:</strong> YAML is indentation-sensitive. Ensure proper indentation to avoid syntax errors.</li>
<li><strong>Missing Dependencies:</strong> Make sure all necessary dependencies are listed in your <code>package.json</code> file.</li>
<li><strong>Agent Pool Issues:</strong> If using a self-hosted agent, ensure it is properly configured and running.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned about Azure Pipelines, including key concepts like CI/CD, pipelines, agents, stages, jobs, and steps. You also set up a simple CI pipeline using YAML and ran it in Azure DevOps. This foundational knowledge prepares you for more advanced topics in Azure DevOps and continuous delivery practices.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-introduction-azure-devops' title="Introduction to Azure DevOps">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-azure-repos' title="Azure Repos">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
