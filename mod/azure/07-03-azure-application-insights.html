<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Application Insights</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/07-03-azure-application-insights" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/07-03-azure-application-insights" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/07-03-azure-application-insights" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/azure/07-03-azure-application-insights" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/azure/07-03-azure-application-insights" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-azure-log-analytics' title="Azure Log Analytics">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Azure Application Insights</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-azure-automation' title="Azure Automation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Azure Application Insights is a powerful tool for monitoring and diagnosing performance issues in your applications. It provides deep insights into how your applications are performing and helps you understand how users are interacting with them. This module will cover the key features, setup, and usage of Azure Application Insights.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Telemetry Data</strong>: Data collected from your application, including metrics, logs, and traces.</li>
<li><strong>Instrumentation</strong>: The process of adding code to your application to collect telemetry data.</li>
<li><strong>Metrics</strong>: Quantitative measurements, such as response times, CPU usage, and memory usage.</li>
<li><strong>Logs</strong>: Detailed records of events that occur within your application.</li>
<li><strong>Traces</strong>: Records of the execution path of your application, useful for diagnosing issues.</li>
</ol>
</div><h1><p>Setting Up Azure Application Insights</p>
</h1>
<div class='content'></div><h2><p>Step 1: Create an Application Insights Resource</p>
</h2>
<div class='content'><ol>
<li><strong>Navigate to the Azure Portal</strong>: Go to <a href="https://portal.azure.com">Azure Portal</a>.</li>
<li><strong>Create a New Resource</strong>: Click on &quot;Create a resource&quot; and search for &quot;Application Insights&quot;.</li>
<li><strong>Configure the Resource</strong>:
<ul>
<li><strong>Name</strong>: Provide a unique name for your Application Insights resource.</li>
<li><strong>Resource Group</strong>: Select an existing resource group or create a new one.</li>
<li><strong>Region</strong>: Choose the region closest to your application.</li>
</ul>
</li>
<li><strong>Review and Create</strong>: Review your settings and click &quot;Create&quot;.</li>
</ol>
</div><h2><p>Step 2: Instrument Your Application</p>
</h2>
<div class='content'><h4>For .NET Applications</h4>
<ol>
<li><strong>Install the SDK</strong>: Add the Application Insights SDK to your project using NuGet.
<pre><code class="language-shell">Install-Package Microsoft.ApplicationInsights.AspNetCore
</code></pre>
</li>
<li><strong>Initialize the SDK</strong>: Add the following code to your <code>Startup.cs</code> file.
<pre><code class="language-csharp">public void ConfigureServices(IServiceCollection services)
{
    services.AddApplicationInsightsTelemetry(Configuration[&quot;ApplicationInsights:InstrumentationKey&quot;]);
}
</code></pre>
</li>
</ol>
<h4>For JavaScript Applications</h4>
<ol>
<li><strong>Add the SDK</strong>: Include the Application Insights JavaScript SDK in your HTML file.
<pre><code class="language-html">&lt;script type=&quot;text/javascript&quot;&gt;
    var appInsights = window.appInsights || function (config) {
        function r(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } }
        var t = { config: config }, u = document, e = window, o = &quot;script&quot;, s = u.createElement(o), i, f; for (s.src = config.url || &quot;https://az416426.vo.msecnd.net/scripts/a/ai.0.js&quot;, u.getElementsByTagName(o)[0].parentNode.appendChild(s), t.cookie = u.cookie, t.queue = [], i = [&quot;Event&quot;, &quot;Exception&quot;, &quot;Metric&quot;, &quot;PageView&quot;, &quot;Trace&quot;, &quot;Dependency&quot;]; i.length;)r(&quot;track&quot; + i.pop()); return r(&quot;setAuthenticatedUserContext&quot;), r(&quot;clearAuthenticatedUserContext&quot;), config.disableExceptionTracking || (i = &quot;onerror&quot;, r(&quot;_&quot; + i), f = e[i], e[i] = function (config, r, u, e, o) { var s = f &amp;&amp; f(config, r, u, e, o); return s !== !0 &amp;&amp; t[&quot;_&quot; + i](config, r, u, e, o), s }), t
    }({
        instrumentationKey: &quot;YOUR_INSTRUMENTATION_KEY&quot;
    });

    window.appInsights = appInsights;
    appInsights.trackPageView();
&lt;/script&gt;
</code></pre>
</li>
</ol>
</div><h1><p>Using Azure Application Insights</p>
</h1>
<div class='content'></div><h2><p>Viewing Telemetry Data</p>
</h2>
<div class='content'><ol>
<li><strong>Navigate to Your Application Insights Resource</strong>: In the Azure Portal, go to your Application Insights resource.</li>
<li><strong>Overview</strong>: The overview page provides a summary of key metrics such as server response time, page load time, and failed requests.</li>
<li><strong>Metrics Explorer</strong>: Use the Metrics Explorer to create custom charts and dashboards.</li>
<li><strong>Logs (Analytics)</strong>: Use the Logs feature to write custom queries and analyze your telemetry data.</li>
</ol>
</div><h2><p>Common Queries</p>
</h2>
<div class='content'><h4>Request Count by Response Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWVzdHMKfCBzdW1tYXJpemUgY291bnQoKSBieSByZXN1bHRDb2Rl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>requests
| summarize count() by resultCode</pre></div><div class='content'><h4>Average Response Time</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWVzdHMKfCBzdW1tYXJpemUgYXZnKGR1cmF0aW9uKSBieSBiaW4odGltZXN0YW1wLCAxaCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>requests
| summarize avg(duration) by bin(timestamp, 1h)</pre></div><div class='content'><h4>Failed Requests</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWVzdHMKfCB3aGVyZSBzdWNjZXNzID09ICJGYWxzZSIKfCBzdW1tYXJpemUgY291bnQoKSBieSBiaW4odGltZXN0YW1wLCAxaCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>requests
| where success == &quot;False&quot;
| summarize count() by bin(timestamp, 1h)</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Monitor a Sample Application</p>
</h2>
<div class='content'><ol>
<li><strong>Create a Sample Application</strong>: Create a simple web application using your preferred language (e.g., .NET, Node.js).</li>
<li><strong>Instrument the Application</strong>: Follow the steps above to add Application Insights to your application.</li>
<li><strong>Deploy the Application</strong>: Deploy your application to Azure App Service.</li>
<li><strong>Generate Traffic</strong>: Use a tool like Apache JMeter to generate traffic to your application.</li>
<li><strong>Analyze Telemetry Data</strong>: Use the Azure Portal to view and analyze the telemetry data collected by Application Insights.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li><strong>Sample Application</strong>: Create a basic ASP.NET Core application.</li>
<li><strong>Instrumentation</strong>: Add the Application Insights SDK and initialize it in <code>Startup.cs</code>.</li>
<li><strong>Deployment</strong>: Deploy the application to Azure App Service.</li>
<li><strong>Traffic Generation</strong>: Use Apache JMeter to simulate user traffic.</li>
<li><strong>Analysis</strong>: Use the Metrics Explorer and Logs features in the Azure Portal to analyze the collected data.</li>
</ol>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this module, you learned about Azure Application Insights, a powerful tool for monitoring and diagnosing performance issues in your applications. You learned how to set up Application Insights, instrument your application, and analyze telemetry data. By completing the practical exercise, you gained hands-on experience in using Application Insights to monitor a sample application. This knowledge will help you ensure the reliability and performance of your applications in production environments.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-azure-log-analytics' title="Azure Log Analytics">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-azure-automation' title="Azure Automation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
