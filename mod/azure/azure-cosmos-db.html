<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Cosmos DB</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/azure-cosmos-db" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/azure-cosmos-db" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/azure-cosmos-db" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/azure/azure-cosmos-db" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/azure/azure-cosmos-db" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='azure-sql-database'>&#x25C4;Azure SQL Database</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Azure Cosmos DB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='azure-database-for-mysql'>Azure Database for MySQL &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Azure Cosmos DB</h1>
<div class='content'><p>Azure Cosmos DB is a globally distributed, multi-model database service designed to provide high availability, low latency, and scalability. It supports multiple data models such as document, key-value, graph, and column-family.</p>
</div><h2>Key Features</h2>
<div class='content'><ul>
<li><strong>Global Distribution</strong>: Distribute data across multiple Azure regions with a single click.</li>
<li><strong>Multi-Model Support</strong>: Work with document, key-value, graph, and column-family data models.</li>
<li><strong>Elastic Scalability</strong>: Scale throughput and storage independently and on-demand.</li>
<li><strong>Low Latency</strong>: Guarantees single-digit millisecond response times.</li>
<li><strong>Comprehensive SLAs</strong>: Offers SLAs for throughput, latency, availability, and consistency.</li>
</ul>
</div><h1>Setting Up Azure Cosmos DB</h1>
<h2>Creating a Cosmos DB Account</h2>
<div class='content'><ol>
<li><strong>Navigate to Azure Portal</strong>: Go to the Azure portal at <a href="https://portal.azure.com">portal.azure.com</a>.</li>
<li><strong>Create a Resource</strong>: Click on &quot;Create a resource&quot; and search for &quot;Azure Cosmos DB&quot;.</li>
<li><strong>Configure Account</strong>: Choose the API (Core (SQL), MongoDB, Cassandra, Gremlin, Table), set the account name, resource group, and location.</li>
<li><strong>Review and Create</strong>: Review the settings and click &quot;Create&quot;.</li>
</ol>
</div><h2>Example: Creating a Cosmos DB Account using Azure CLI</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhdGUgYSByZXNvdXJjZSBncm91cApheiBncm91cCBjcmVhdGUgLS1uYW1lIG15UmVzb3VyY2VHcm91cCAtLWxvY2F0aW9uIGVhc3R1cwoKIyBDcmVhdGUgYSBDb3Ntb3MgREIgYWNjb3VudCB3aXRoIFNRTCBBUEkKYXogY29zbW9zZGIgY3JlYXRlIC0tbmFtZSBteUNvc21vc0RCQWNjb3VudCAtLXJlc291cmNlLWdyb3VwIG15UmVzb3VyY2VHcm91cCAtLWtpbmQgR2xvYmFsRG9jdW1lbnREQg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Create a resource group
az group create --name myResourceGroup --location eastus

# Create a Cosmos DB account with SQL API
az cosmosdb create --name myCosmosDBAccount --resource-group myResourceGroup --kind GlobalDocumentDB</pre></div><div class='content'></div><h1>Working with Data Models</h1>
<h2>Document Model (SQL API)</h2>
<div class='content'><p>The document model stores data in JSON format and is accessed using SQL-like queries.</p>
<h4>Example: Inserting a Document</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJpZCI6ICIxIiwKICAibmFtZSI6ICJKb2huIERvZSIsCiAgImVtYWlsIjogImpvaG4uZG9lQGV4YW1wbGUuY29tIiwKICAiYWdlIjogMzAKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;id&quot;: &quot;1&quot;,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;email&quot;: &quot;john.doe@example.com&quot;,
  &quot;age&quot;: 30
}</pre></div><div class='content'><h4>Example: Querying Documents</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBjIFdIRVJFIGMuYWdlID4gMjU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM c WHERE c.age &gt; 25</pre></div><div class='content'></div><h2>Key-Value Model (Table API)</h2>
<div class='content'><p>The key-value model stores data as key-value pairs, similar to Azure Table Storage.</p>
<h4>Example: Inserting a Key-Value Pair</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJQYXJ0aXRpb25LZXkiOiAiVXNlcnMiLAogICJSb3dLZXkiOiAiMSIsCiAgIk5hbWUiOiAiSm9obiBEb2UiLAogICJFbWFpbCI6ICJqb2huLmRvZUBleGFtcGxlLmNvbSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;PartitionKey&quot;: &quot;Users&quot;,
  &quot;RowKey&quot;: &quot;1&quot;,
  &quot;Name&quot;: &quot;John Doe&quot;,
  &quot;Email&quot;: &quot;john.doe@example.com&quot;
}</pre></div><div class='content'></div><h2>Graph Model (Gremlin API)</h2>
<div class='content'><p>The graph model stores data as vertices and edges, suitable for graph-based queries.</p>
<h4>Example: Adding a Vertex</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zy5hZGRWKCdwZXJzb24nKS5wcm9wZXJ0eSgnaWQnLCAnMScpLnByb3BlcnR5KCduYW1lJywgJ0pvaG4gRG9lJyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>g.addV('person').property('id', '1').property('name', 'John Doe')</pre></div><div class='content'><h4>Example: Adding an Edge</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zy5WKCcxJykuYWRkRSgna25vd3MnKS50byhnLlYoJzInKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>g.V('1').addE('knows').to(g.V('2'))</pre></div><div class='content'></div><h1>Consistency Levels</h1>
<div class='content'><p>Azure Cosmos DB offers five consistency levels to balance between consistency and performance:</p>
<table>
<thead>
<tr>
<th>Consistency Level</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Strong</td>
<td>Guarantees the highest consistency by ensuring reads always return the most recent write.</td>
</tr>
<tr>
<td>Bounded Staleness</td>
<td>Guarantees reads lag behind writes by a specified time interval or number of versions.</td>
</tr>
<tr>
<td>Session</td>
<td>Guarantees consistency within a single session.</td>
</tr>
<tr>
<td>Consistent Prefix</td>
<td>Guarantees reads never see out-of-order writes.</td>
</tr>
<tr>
<td>Eventual</td>
<td>Guarantees eventual consistency with the lowest latency.</td>
</tr>
</tbody>
</table>
</div><h1>Advanced Features</h1>
<h2>Partitioning</h2>
<div class='content'><p>Partitioning helps in distributing data across multiple servers to ensure scalability and performance.</p>
<h4>Example: Setting a Partition Key</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJpZCI6ICIxIiwKICAibmFtZSI6ICJKb2huIERvZSIsCiAgImVtYWlsIjogImpvaG4uZG9lQGV4YW1wbGUuY29tIiwKICAiYWdlIjogMzAsCiAgInBhcnRpdGlvbktleSI6ICJlbWFpbCIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;id&quot;: &quot;1&quot;,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;email&quot;: &quot;john.doe@example.com&quot;,
  &quot;age&quot;: 30,
  &quot;partitionKey&quot;: &quot;email&quot;
}</pre></div><div class='content'></div><h2>Change Feed</h2>
<div class='content'><p>Change Feed allows you to listen to changes (inserts and updates) in your Cosmos DB container.</p>
<h4>Example: Using Change Feed with Azure Functions</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHN0YXRpYyBjbGFzcyBDb3Ntb3NEQlRyaWdnZXIKewogICAgW0Z1bmN0aW9uTmFtZSgiQ29zbW9zREJUcmlnZ2VyIildCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgUnVuKFtDb3Ntb3NEQlRyaWdnZXIoCiAgICAgICAgZGF0YWJhc2VOYW1lOiAibXlEYXRhYmFzZSIsCiAgICAgICAgY29sbGVjdGlvbk5hbWU6ICJteUNvbGxlY3Rpb24iLAogICAgICAgIENvbm5lY3Rpb25TdHJpbmdTZXR0aW5nID0gIkF6dXJlV2ViSm9ic0Nvc21vc0RCQ29ubmVjdGlvblN0cmluZyIsCiAgICAgICAgTGVhc2VDb2xsZWN0aW9uTmFtZSA9ICJsZWFzZXMiKV0gSVJlYWRPbmx5TGlzdDxEb2N1bWVudD4gaW5wdXQsIElMb2dnZXIgbG9nKQogICAgewogICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGlucHV0LkNvdW50ID4gMCkKICAgICAgICB7CiAgICAgICAgICAgIGxvZy5Mb2dJbmZvcm1hdGlvbigiRG9jdW1lbnRzIG1vZGlmaWVkICIgKyBpbnB1dC5Db3VudCk7CiAgICAgICAgICAgIGxvZy5Mb2dJbmZvcm1hdGlvbigiRmlyc3QgZG9jdW1lbnQgSWQgIiArIGlucHV0WzBdLklkKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public static class CosmosDBTrigger
{
    [FunctionName(&quot;CosmosDBTrigger&quot;)]
    public static void Run([CosmosDBTrigger(
        databaseName: &quot;myDatabase&quot;,
        collectionName: &quot;myCollection&quot;,
        ConnectionStringSetting = &quot;AzureWebJobsCosmosDBConnectionString&quot;,
        LeaseCollectionName = &quot;leases&quot;)] IReadOnlyList&lt;Document&gt; input, ILogger log)
    {
        if (input != null &amp;&amp; input.Count &gt; 0)
        {
            log.LogInformation(&quot;Documents modified &quot; + input.Count);
            log.LogInformation(&quot;First document Id &quot; + input[0].Id);
        }
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Azure Cosmos DB is a powerful, globally distributed database service that supports multiple data models and offers high availability, low latency, and elastic scalability. By understanding its key features, setting up an account, working with different data models, and leveraging advanced features like partitioning and change feed, you can build robust and scalable applications on Azure Cosmos DB.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='azure-sql-database'>&#x25C4;Azure SQL Database</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Azure Cosmos DB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='azure-database-for-mysql'>Azure Database for MySQL &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
