<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Identity and Access Management</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/04-01-azure-identity-access-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/04-01-azure-identity-access-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/04-01-azure-identity-access-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/azure/04-01-azure-identity-access-management" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/azure/04-01-azure-identity-access-management" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-azure-database-for-postgresql' title="Azure Database for PostgreSQL">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Azure Identity and Access Management</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-azure-security-center' title="Azure Security Center">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Azure Identity and Access Management (IAM) is a critical component of Azure's security framework. It ensures that the right individuals have the appropriate access to resources. This module will cover the fundamental concepts, practical examples, and exercises to help you understand and implement IAM in Azure.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Azure Active Directory (Azure AD)</strong></p>
<ul>
<li>Azure AD is Microsoft's cloud-based identity and access management service.</li>
<li>It helps employees sign in and access resources such as Microsoft 365, the Azure portal, and thousands of other SaaS applications.</li>
</ul>
</li>
<li>
<p><strong>Roles and Role-Based Access Control (RBAC)</strong></p>
<ul>
<li>RBAC allows you to manage who has access to Azure resources, what they can do with those resources, and what areas they have access to.</li>
<li>Roles are defined sets of permissions that can be assigned to users, groups, and applications.</li>
</ul>
</li>
<li>
<p><strong>Conditional Access</strong></p>
<ul>
<li>Conditional Access policies are used to enforce access controls based on specific conditions.</li>
<li>Examples include requiring multi-factor authentication (MFA) or restricting access based on location.</li>
</ul>
</li>
<li>
<p><strong>Managed Identities</strong></p>
<ul>
<li>Managed identities are used to provide Azure services with an automatically managed identity in Azure AD.</li>
<li>This identity can be used to authenticate to any service that supports Azure AD authentication without managing credentials.</li>
</ul>
</li>
</ol>
</div><h1><p>Azure Active Directory (Azure AD)</p>
</h1>
<div class='content'></div><h2><p>Creating an Azure AD Tenant</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to the Azure Portal</strong></p>
<ul>
<li>Go to <a href="https://portal.azure.com">Azure Portal</a>.</li>
</ul>
</li>
<li>
<p><strong>Create a New Azure AD Tenant</strong></p>
<ul>
<li>In the left-hand navigation pane, select &quot;Azure Active Directory.&quot;</li>
<li>Click on &quot;Create a tenant.&quot;</li>
<li>Choose &quot;Azure Active Directory&quot; and click &quot;Next.&quot;</li>
<li>Fill in the organization name, initial domain name, and country/region.</li>
<li>Click &quot;Create.&quot;</li>
</ul>
</li>
</ol>
</div><h2><p>Adding Users to Azure AD</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to Azure AD</strong></p>
<ul>
<li>In the Azure Portal, go to &quot;Azure Active Directory.&quot;</li>
</ul>
</li>
<li>
<p><strong>Add a New User</strong></p>
<ul>
<li>Select &quot;Users&quot; from the left-hand menu.</li>
<li>Click on &quot;New user.&quot;</li>
<li>Fill in the user details such as name, username, and password.</li>
<li>Click &quot;Create.&quot;</li>
</ul>
</li>
</ol>
</div><h2><p>Example: Adding a User</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBUaGlzIGlzIGEgY29uY2VwdHVhbCBleGFtcGxlLiBBenVyZSBBRCBvcGVyYXRpb25zIGFyZSB0eXBpY2FsbHkgZG9uZSB0aHJvdWdoIHRoZSBBenVyZSBQb3J0YWwgb3IgQXp1cmUgQ0xJLgoKIyBVc2luZyBBenVyZSBDTEkgdG8gY3JlYXRlIGEgdXNlcgpheiBhZCB1c2VyIGNyZWF0ZSAtLWRpc3BsYXktbmFtZSAiSm9obiBEb2UiIC0tdXNlci1wcmluY2lwYWwtbmFtZSAiam9obmRvZUB5b3VyZG9tYWluLm9ubWljcm9zb2Z0LmNvbSIgLS1wYXNzd29yZCAiU3Ryb25nUGFzc3dvcmQxMjMhIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># This is a conceptual example. Azure AD operations are typically done through the Azure Portal or Azure CLI.

# Using Azure CLI to create a user
az ad user create --display-name &quot;John Doe&quot; --user-principal-name &quot;johndoe@yourdomain.onmicrosoft.com&quot; --password &quot;StrongPassword123!&quot;</pre></div><div class='content'></div><h1><p>Role-Based Access Control (RBAC)</p>
</h1>
<div class='content'></div><h2><p>Assigning Roles</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to the Resource</strong></p>
<ul>
<li>Go to the resource (e.g., Virtual Machine, Storage Account) you want to assign a role to.</li>
</ul>
</li>
<li>
<p><strong>Access IAM (Identity and Access Management)</strong></p>
<ul>
<li>Click on &quot;Access control (IAM)&quot; in the left-hand menu.</li>
</ul>
</li>
<li>
<p><strong>Add Role Assignment</strong></p>
<ul>
<li>Click on &quot;Add&quot; and then &quot;Add role assignment.&quot;</li>
<li>Select the role you want to assign (e.g., Contributor, Reader).</li>
<li>Select the user, group, or service principal to assign the role to.</li>
<li>Click &quot;Save.&quot;</li>
</ul>
</li>
</ol>
</div><h2><p>Example: Assigning a Role</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBBenVyZSBDTEkgdG8gYXNzaWduIGEgcm9sZQpheiByb2xlIGFzc2lnbm1lbnQgY3JlYXRlIC0tYXNzaWduZWUgam9obmRvZUB5b3VyZG9tYWluLm9ubWljcm9zb2Z0LmNvbSAtLXJvbGUgQ29udHJpYnV0b3IgLS1zY29wZSAvc3Vic2NyaXB0aW9ucy97c3Vic2NyaXB0aW9uLWlkfS9yZXNvdXJjZUdyb3Vwcy97cmVzb3VyY2UtZ3JvdXAtbmFtZX0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using Azure CLI to assign a role
az role assignment create --assignee johndoe@yourdomain.onmicrosoft.com --role Contributor --scope /subscriptions/{subscription-id}/resourceGroups/{resource-group-name}</pre></div><div class='content'></div><h1><p>Conditional Access</p>
</h1>
<div class='content'></div><h2><p>Creating a Conditional Access Policy</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to Azure AD</strong></p>
<ul>
<li>In the Azure Portal, go to &quot;Azure Active Directory.&quot;</li>
</ul>
</li>
<li>
<p><strong>Access Conditional Access</strong></p>
<ul>
<li>Select &quot;Security&quot; and then &quot;Conditional Access.&quot;</li>
</ul>
</li>
<li>
<p><strong>Create a New Policy</strong></p>
<ul>
<li>Click on &quot;New policy.&quot;</li>
<li>Name your policy and configure the assignments (users, groups, and applications).</li>
<li>Configure the conditions (e.g., sign-in risk, device platforms).</li>
<li>Configure the access controls (e.g., require MFA).</li>
<li>Click &quot;Create.&quot;</li>
</ul>
</li>
</ol>
</div><h2><p>Example: Requiring MFA for All Users</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBUaGlzIGlzIGEgY29uY2VwdHVhbCBleGFtcGxlLiBDb25kaXRpb25hbCBBY2Nlc3MgcG9saWNpZXMgYXJlIHR5cGljYWxseSBjb25maWd1cmVkIHRocm91Z2ggdGhlIEF6dXJlIFBvcnRhbC4KCiMgVXNpbmcgQXp1cmUgQ0xJIHRvIGNyZWF0ZSBhIGNvbmRpdGlvbmFsIGFjY2VzcyBwb2xpY3kKYXogYWQgY29uZGl0aW9uYWxhY2Nlc3MgcG9saWN5IGNyZWF0ZSAtLWRpc3BsYXktbmFtZSAiUmVxdWlyZSBNRkEgZm9yIEFsbCBVc2VycyIgLS1jb25kaXRpb25zICd7InVzZXJzIjp7ImluY2x1ZGUiOlsiQWxsIl19fScgLS1ncmFudC1jb250cm9scyAneyJidWlsdEluQ29udHJvbHMiOlsibWZhIl19Jw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># This is a conceptual example. Conditional Access policies are typically configured through the Azure Portal.

# Using Azure CLI to create a conditional access policy
az ad conditionalaccess policy create --display-name &quot;Require MFA for All Users&quot; --conditions '{&quot;users&quot;:{&quot;include&quot;:[&quot;All&quot;]}}' --grant-controls '{&quot;builtInControls&quot;:[&quot;mfa&quot;]}'</pre></div><div class='content'></div><h1><p>Managed Identities</p>
</h1>
<div class='content'></div><h2><p>Enabling Managed Identity for an Azure VM</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to the Virtual Machine</strong></p>
<ul>
<li>Go to the Virtual Machine you want to enable managed identity for.</li>
</ul>
</li>
<li>
<p><strong>Enable Managed Identity</strong></p>
<ul>
<li>In the left-hand menu, select &quot;Identity.&quot;</li>
<li>Under &quot;System assigned,&quot; set the status to &quot;On.&quot;</li>
<li>Click &quot;Save.&quot;</li>
</ul>
</li>
</ol>
</div><h2><p>Example: Using Managed Identity to Access Azure Key Vault</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBUaGlzIGlzIGEgY29uY2VwdHVhbCBleGFtcGxlLiBNYW5hZ2VkIGlkZW50aXRpZXMgYXJlIHR5cGljYWxseSBjb25maWd1cmVkIHRocm91Z2ggdGhlIEF6dXJlIFBvcnRhbC4KCiMgVXNpbmcgQXp1cmUgQ0xJIHRvIGVuYWJsZSBtYW5hZ2VkIGlkZW50aXR5IGZvciBhIFZNCmF6IHZtIGlkZW50aXR5IGFzc2lnbiAtLW5hbWUgbXlWTSAtLXJlc291cmNlLWdyb3VwIG15UmVzb3VyY2VHcm91cAoKIyBVc2luZyB0aGUgbWFuYWdlZCBpZGVudGl0eSB0byBhY2Nlc3MgQXp1cmUgS2V5IFZhdWx0CiMgVGhpcyB3b3VsZCBiZSBkb25lIGluIHRoZSBjb2RlIHJ1bm5pbmcgb24gdGhlIFZNCmZyb20gYXp1cmUuaWRlbnRpdHkgaW1wb3J0IE1hbmFnZWRJZGVudGl0eUNyZWRlbnRpYWwKZnJvbSBhenVyZS5rZXl2YXVsdC5zZWNyZXRzIGltcG9ydCBTZWNyZXRDbGllbnQKCmNyZWRlbnRpYWwgPSBNYW5hZ2VkSWRlbnRpdHlDcmVkZW50aWFsKCkKY2xpZW50ID0gU2VjcmV0Q2xpZW50KHZhdWx0X3VybD0iaHR0cHM6Ly9teXZhdWx0LnZhdWx0LmF6dXJlLm5ldC8iLCBjcmVkZW50aWFsPWNyZWRlbnRpYWwpCgpzZWNyZXQgPSBjbGllbnQuZ2V0X3NlY3JldCgibXlTZWNyZXQiKQpwcmludChzZWNyZXQudmFsdWUp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># This is a conceptual example. Managed identities are typically configured through the Azure Portal.

# Using Azure CLI to enable managed identity for a VM
az vm identity assign --name myVM --resource-group myResourceGroup

# Using the managed identity to access Azure Key Vault
# This would be done in the code running on the VM
from azure.identity import ManagedIdentityCredential
from azure.keyvault.secrets import SecretClient

credential = ManagedIdentityCredential()
client = SecretClient(vault_url=&quot;https://myvault.vault.azure.net/&quot;, credential=credential)

secret = client.get_secret(&quot;mySecret&quot;)
print(secret.value)</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create and Assign a Role</p>
</h2>
<div class='content'><ol>
<li><strong>Create a new user in Azure AD.</strong></li>
<li><strong>Assign the &quot;Reader&quot; role to the new user for a specific resource group.</strong></li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li><strong>Create a new user:</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBBenVyZSBDTEkgdG8gY3JlYXRlIGEgdXNlcgpheiBhZCB1c2VyIGNyZWF0ZSAtLWRpc3BsYXktbmFtZSAiSmFuZSBEb2UiIC0tdXNlci1wcmluY2lwYWwtbmFtZSAiamFuZWRvZUB5b3VyZG9tYWluLm9ubWljcm9zb2Z0LmNvbSIgLS1wYXNzd29yZCAiU3Ryb25nUGFzc3dvcmQxMjMhIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using Azure CLI to create a user
az ad user create --display-name &quot;Jane Doe&quot; --user-principal-name &quot;janedoe@yourdomain.onmicrosoft.com&quot; --password &quot;StrongPassword123!&quot;</pre></div><div class='content'><ol start="2">
<li><strong>Assign the &quot;Reader&quot; role:</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBBenVyZSBDTEkgdG8gYXNzaWduIGEgcm9sZQpheiByb2xlIGFzc2lnbm1lbnQgY3JlYXRlIC0tYXNzaWduZWUgamFuZWRvZUB5b3VyZG9tYWluLm9ubWljcm9zb2Z0LmNvbSAtLXJvbGUgUmVhZGVyIC0tc2NvcGUgL3N1YnNjcmlwdGlvbnMve3N1YnNjcmlwdGlvbi1pZH0vcmVzb3VyY2VHcm91cHMve3Jlc291cmNlLWdyb3VwLW5hbWV9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using Azure CLI to assign a role
az role assignment create --assignee janedoe@yourdomain.onmicrosoft.com --role Reader --scope /subscriptions/{subscription-id}/resourceGroups/{resource-group-name}</pre></div><div class='content'></div><h2><p>Exercise 2: Create a Conditional Access Policy</p>
</h2>
<div class='content'><ol>
<li><strong>Create a conditional access policy that requires MFA for all users accessing the Azure portal.</strong></li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li><strong>Create the policy:</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBBenVyZSBDTEkgdG8gY3JlYXRlIGEgY29uZGl0aW9uYWwgYWNjZXNzIHBvbGljeQpheiBhZCBjb25kaXRpb25hbGFjY2VzcyBwb2xpY3kgY3JlYXRlIC0tZGlzcGxheS1uYW1lICJSZXF1aXJlIE1GQSBmb3IgQXp1cmUgUG9ydGFsIiAtLWNvbmRpdGlvbnMgJ3sidXNlcnMiOnsiaW5jbHVkZSI6WyJBbGwiXX0sICJhcHBsaWNhdGlvbnMiOnsiaW5jbHVkZSI6WyJBbGwiXX19JyAtLWdyYW50LWNvbnRyb2xzICd7ImJ1aWx0SW5Db250cm9scyI6WyJtZmEiXX0n"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using Azure CLI to create a conditional access policy
az ad conditionalaccess policy create --display-name &quot;Require MFA for Azure Portal&quot; --conditions '{&quot;users&quot;:{&quot;include&quot;:[&quot;All&quot;]}, &quot;applications&quot;:{&quot;include&quot;:[&quot;All&quot;]}}' --grant-controls '{&quot;builtInControls&quot;:[&quot;mfa&quot;]}'</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li>
<p><strong>Mistake:</strong> Not assigning the correct scope when creating role assignments.</p>
<ul>
<li><strong>Tip:</strong> Always double-check the scope to ensure the role is assigned to the correct resource or resource group.</li>
</ul>
</li>
<li>
<p><strong>Mistake:</strong> Overlooking the importance of conditional access policies.</p>
<ul>
<li><strong>Tip:</strong> Regularly review and update conditional access policies to adapt to changing security requirements.</li>
</ul>
</li>
<li>
<p><strong>Mistake:</strong> Not enabling MFA for all users.</p>
<ul>
<li><strong>Tip:</strong> MFA is a critical security measure. Ensure it is enabled for all users, especially those with elevated privileges.</li>
</ul>
</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this module, you learned about Azure Identity and Access Management, including Azure Active Directory, Role-Based Access Control, Conditional Access, and Managed Identities. These tools are essential for securing your Azure environment and ensuring that only authorized users have access to your resources. In the next module, we will delve into Azure Security Center and other security features to further enhance your Azure security posture.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-azure-database-for-postgresql' title="Azure Database for PostgreSQL">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-azure-security-center' title="Azure Security Center">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
