<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Managing and Securing Storage</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/managing-and-securing-storage" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/managing-and-securing-storage" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/managing-and-securing-storage" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/azure/managing-and-securing-storage" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/azure/managing-and-securing-storage" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='queue-storage'>&#x25C4;Queue Storage</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Managing and Securing Storage</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-azure-networking'>Introduction to Azure Networking &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this module, we will explore how to manage and secure storage in Microsoft Azure. This includes understanding the different types of storage available, how to manage storage accounts, and best practices for securing your data.</p>
</div><h1>Types of Azure Storage</h1>
<div class='content'><p>Azure provides several types of storage solutions to meet different needs:</p>
<ul>
<li><strong>Blob Storage</strong>: Used for storing large amounts of unstructured data such as text or binary data.</li>
<li><strong>File Storage</strong>: Provides fully managed file shares in the cloud that are accessible via the SMB protocol.</li>
<li><strong>Queue Storage</strong>: Used for storing large numbers of messages that can be accessed from anywhere via authenticated calls.</li>
<li><strong>Table Storage</strong>: A NoSQL store for schemaless storage of structured data.</li>
</ul>
</div><h2>Blob Storage</h2>
<div class='content'><p>Blob Storage is ideal for:</p>
<ul>
<li>Serving images or documents directly to a browser.</li>
<li>Storing files for distributed access.</li>
<li>Streaming video and audio.</li>
<li>Writing to log files.</li>
</ul>
<h4>Example: Uploading a Blob</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhenVyZS5zdG9yYWdlLmJsb2IgaW1wb3J0IEJsb2JTZXJ2aWNlQ2xpZW50LCBCbG9iQ2xpZW50LCBDb250YWluZXJDbGllbnQKCiMgSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gdG8gdGhlIEJsb2Igc2VydmljZQpibG9iX3NlcnZpY2VfY2xpZW50ID0gQmxvYlNlcnZpY2VDbGllbnQuZnJvbV9jb25uZWN0aW9uX3N0cmluZygieW91cl9jb25uZWN0aW9uX3N0cmluZyIpCgojIENyZWF0ZSBhIGNvbnRhaW5lcgpjb250YWluZXJfbmFtZSA9ICJteWNvbnRhaW5lciIKY29udGFpbmVyX2NsaWVudCA9IGJsb2Jfc2VydmljZV9jbGllbnQuY3JlYXRlX2NvbnRhaW5lcihjb250YWluZXJfbmFtZSkKCiMgVXBsb2FkIGEgZmlsZSB0byB0aGUgY29udGFpbmVyCmJsb2JfY2xpZW50ID0gYmxvYl9zZXJ2aWNlX2NsaWVudC5nZXRfYmxvYl9jbGllbnQoY29udGFpbmVyPWNvbnRhaW5lcl9uYW1lLCBibG9iPSJteWZpbGUudHh0IikKd2l0aCBvcGVuKCJsb2NhbGZpbGUudHh0IiwgInJiIikgYXMgZGF0YToKICAgIGJsb2JfY2xpZW50LnVwbG9hZF9ibG9iKGRhdGEp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from azure.storage.blob import BlobServiceClient, BlobClient, ContainerClient

# Initialize a connection to the Blob service
blob_service_client = BlobServiceClient.from_connection_string(&quot;your_connection_string&quot;)

# Create a container
container_name = &quot;mycontainer&quot;
container_client = blob_service_client.create_container(container_name)

# Upload a file to the container
blob_client = blob_service_client.get_blob_client(container=container_name, blob=&quot;myfile.txt&quot;)
with open(&quot;localfile.txt&quot;, &quot;rb&quot;) as data:
    blob_client.upload_blob(data)</pre></div><div class='content'></div><h2>File Storage</h2>
<div class='content'><p>File Storage is ideal for:</p>
<ul>
<li>Migrating on-premises file shares to the cloud.</li>
<li>Storing shared application settings.</li>
<li>Storing user profiles.</li>
</ul>
<h4>Example: Mounting an Azure File Share on Windows</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBNb3VudCB0aGUgZmlsZSBzaGFyZQpuZXQgdXNlIFo6IFxcPHN0b3JhZ2VfYWNjb3VudF9uYW1lPi5maWxlLmNvcmUud2luZG93cy5uZXRcPGZpbGVfc2hhcmVfbmFtZT4gL3U6PHN0b3JhZ2VfYWNjb3VudF9uYW1lPiA8c3RvcmFnZV9hY2NvdW50X2tleT4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Mount the file share
net use Z: \\&lt;storage_account_name&gt;.file.core.windows.net\&lt;file_share_name&gt; /u:&lt;storage_account_name&gt; &lt;storage_account_key&gt;</pre></div><div class='content'></div><h2>Queue Storage</h2>
<div class='content'><p>Queue Storage is ideal for:</p>
<ul>
<li>Decoupling application components.</li>
<li>Building flexible and scalable applications.</li>
</ul>
<h4>Example: Adding a Message to a Queue</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhenVyZS5zdG9yYWdlLnF1ZXVlIGltcG9ydCBRdWV1ZVNlcnZpY2VDbGllbnQKCiMgSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gdG8gdGhlIFF1ZXVlIHNlcnZpY2UKcXVldWVfc2VydmljZV9jbGllbnQgPSBRdWV1ZVNlcnZpY2VDbGllbnQuZnJvbV9jb25uZWN0aW9uX3N0cmluZygieW91cl9jb25uZWN0aW9uX3N0cmluZyIpCgojIENyZWF0ZSBhIHF1ZXVlCnF1ZXVlX25hbWUgPSAibXlxdWV1ZSIKcXVldWVfY2xpZW50ID0gcXVldWVfc2VydmljZV9jbGllbnQuY3JlYXRlX3F1ZXVlKHF1ZXVlX25hbWUpCgojIEFkZCBhIG1lc3NhZ2UgdG8gdGhlIHF1ZXVlCnF1ZXVlX2NsaWVudC5zZW5kX21lc3NhZ2UoIkhlbGxvLCBXb3JsZCEiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from azure.storage.queue import QueueServiceClient

# Initialize a connection to the Queue service
queue_service_client = QueueServiceClient.from_connection_string(&quot;your_connection_string&quot;)

# Create a queue
queue_name = &quot;myqueue&quot;
queue_client = queue_service_client.create_queue(queue_name)

# Add a message to the queue
queue_client.send_message(&quot;Hello, World!&quot;)</pre></div><div class='content'></div><h2>Table Storage</h2>
<div class='content'><p>Table Storage is ideal for:</p>
<ul>
<li>Storing structured data that does not require complex joins, foreign keys, or stored procedures.</li>
<li>Storing datasets that require high availability and scalability.</li>
</ul>
<h4>Example: Inserting an Entity into a Table</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhenVyZS5kYXRhLnRhYmxlcyBpbXBvcnQgVGFibGVTZXJ2aWNlQ2xpZW50LCBUYWJsZUVudGl0eQoKIyBJbml0aWFsaXplIGEgY29ubmVjdGlvbiB0byB0aGUgVGFibGUgc2VydmljZQp0YWJsZV9zZXJ2aWNlX2NsaWVudCA9IFRhYmxlU2VydmljZUNsaWVudC5mcm9tX2Nvbm5lY3Rpb25fc3RyaW5nKCJ5b3VyX2Nvbm5lY3Rpb25fc3RyaW5nIikKCiMgQ3JlYXRlIGEgdGFibGUKdGFibGVfbmFtZSA9ICJteXRhYmxlIgp0YWJsZV9jbGllbnQgPSB0YWJsZV9zZXJ2aWNlX2NsaWVudC5jcmVhdGVfdGFibGUodGFibGVfbmFtZSkKCiMgSW5zZXJ0IGFuIGVudGl0eQplbnRpdHkgPSBUYWJsZUVudGl0eSgpCmVudGl0eS5QYXJ0aXRpb25LZXkgPSAicGFydGl0aW9uMSIKZW50aXR5LlJvd0tleSA9ICJyb3cxIgplbnRpdHlbIk5hbWUiXSA9ICJKb2huIERvZSIKZW50aXR5WyJBZ2UiXSA9IDMwCnRhYmxlX2NsaWVudC5jcmVhdGVfZW50aXR5KGVudGl0eT1lbnRpdHkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from azure.data.tables import TableServiceClient, TableEntity

# Initialize a connection to the Table service
table_service_client = TableServiceClient.from_connection_string(&quot;your_connection_string&quot;)

# Create a table
table_name = &quot;mytable&quot;
table_client = table_service_client.create_table(table_name)

# Insert an entity
entity = TableEntity()
entity.PartitionKey = &quot;partition1&quot;
entity.RowKey = &quot;row1&quot;
entity[&quot;Name&quot;] = &quot;John Doe&quot;
entity[&quot;Age&quot;] = 30
table_client.create_entity(entity=entity)</pre></div><div class='content'></div><h1>Managing Storage Accounts</h1>
<div class='content'><p>Storage accounts provide a unique namespace for your Azure Storage data. You can manage storage accounts using the Azure portal, Azure CLI, or Azure PowerShell.</p>
</div><h2>Creating a Storage Account using Azure CLI</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogc3RvcmFnZSBhY2NvdW50IGNyZWF0ZSBcCiAgLS1uYW1lIG15c3RvcmFnZWFjY291bnQgXAogIC0tcmVzb3VyY2UtZ3JvdXAgbXlSZXNvdXJjZUdyb3VwIFwKICAtLWxvY2F0aW9uIGVhc3R1cyBcCiAgLS1za3UgU3RhbmRhcmRfTFJT"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az storage account create \
  --name mystorageaccount \
  --resource-group myResourceGroup \
  --location eastus \
  --sku Standard_LRS</pre></div><div class='content'></div><h2>Managing Access Keys</h2>
<div class='content'><p>Access keys are used to authenticate access to your storage account. It is important to manage these keys securely.</p>
<h4>Rotating Access Keys</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBMaXN0IHRoZSBhY2Nlc3Mga2V5cwpheiBzdG9yYWdlIGFjY291bnQga2V5cyBsaXN0IC0tcmVzb3VyY2UtZ3JvdXAgbXlSZXNvdXJjZUdyb3VwIC0tYWNjb3VudC1uYW1lIG15c3RvcmFnZWFjY291bnQKCiMgUmVnZW5lcmF0ZSBhbiBhY2Nlc3Mga2V5CmF6IHN0b3JhZ2UgYWNjb3VudCBrZXlzIHJlbmV3IC0tcmVzb3VyY2UtZ3JvdXAgbXlSZXNvdXJjZUdyb3VwIC0tYWNjb3VudC1uYW1lIG15c3RvcmFnZWFjY291bnQgLS1rZXkgcHJpbWFyeQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># List the access keys
az storage account keys list --resource-group myResourceGroup --account-name mystorageaccount

# Regenerate an access key
az storage account keys renew --resource-group myResourceGroup --account-name mystorageaccount --key primary</pre></div><div class='content'></div><h1>Securing Storage</h1>
<div class='content'><p>Securing your storage is crucial to protect your data from unauthorized access and breaches.</p>
</div><h2>Best Practices for Securing Storage</h2>
<div class='content'><ul>
<li><strong>Use Shared Access Signatures (SAS)</strong>: SAS provides limited access to your storage resources without exposing your account keys.</li>
<li><strong>Enable Azure Storage Encryption</strong>: Data is encrypted and decrypted transparently using 256-bit AES encryption.</li>
<li><strong>Use Virtual Network Service Endpoints</strong>: Restrict access to your storage account to specific virtual networks.</li>
<li><strong>Enable Advanced Threat Protection</strong>: Detects unusual and potentially harmful attempts to access or exploit your storage account.</li>
</ul>
<h4>Example: Generating a SAS Token</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhenVyZS5zdG9yYWdlLmJsb2IgaW1wb3J0IGdlbmVyYXRlX2Jsb2Jfc2FzLCBCbG9iU2FzUGVybWlzc2lvbnMKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWVkZWx0YQoKc2FzX3Rva2VuID0gZ2VuZXJhdGVfYmxvYl9zYXMoCiAgICBhY2NvdW50X25hbWU9InlvdXJfYWNjb3VudF9uYW1lIiwKICAgIGNvbnRhaW5lcl9uYW1lPSJ5b3VyX2NvbnRhaW5lcl9uYW1lIiwKICAgIGJsb2JfbmFtZT0ieW91cl9ibG9iX25hbWUiLAogICAgYWNjb3VudF9rZXk9InlvdXJfYWNjb3VudF9rZXkiLAogICAgcGVybWlzc2lvbj1CbG9iU2FzUGVybWlzc2lvbnMocmVhZD1UcnVlKSwKICAgIGV4cGlyeT1kYXRldGltZS51dGNub3coKSArIHRpbWVkZWx0YShob3Vycz0xKQopCnByaW50KHNhc190b2tlbik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from azure.storage.blob import generate_blob_sas, BlobSasPermissions
from datetime import datetime, timedelta

sas_token = generate_blob_sas(
    account_name=&quot;your_account_name&quot;,
    container_name=&quot;your_container_name&quot;,
    blob_name=&quot;your_blob_name&quot;,
    account_key=&quot;your_account_key&quot;,
    permission=BlobSasPermissions(read=True),
    expiry=datetime.utcnow() + timedelta(hours=1)
)
print(sas_token)</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this module, we covered the various types of Azure Storage, how to manage storage accounts, and best practices for securing your storage. By understanding these concepts, you can effectively manage and secure your data in Azure, ensuring it is both accessible and protected.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='queue-storage'>&#x25C4;Queue Storage</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Managing and Securing Storage</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-azure-networking'>Introduction to Azure Networking &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
