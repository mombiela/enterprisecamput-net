<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concurrency and Parallelism in Ruby</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/concurrency-and-parallelism" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/concurrency-and-parallelism" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/concurrency-and-parallelism" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ruby/concurrency-and-parallelism" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ruby/concurrency-and-parallelism" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='dsls'>&#x25C4;DSLs (Domain-Specific Languages)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Concurrency and Parallelism in Ruby</a>
	</div>
	<div class='col-4 text-end'>
					<a href='garbage-collection'>Garbage Collection &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Concurrency and parallelism are crucial concepts in modern programming, especially for improving the performance of applications. In this section, we will explore how Ruby handles concurrency and parallelism, providing you with the knowledge to write efficient and scalable code.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Concurrency</strong>: The ability of a program to make progress on multiple tasks simultaneously. This doesn't necessarily mean that tasks are running at the same time, but they are making progress without waiting for each other to finish.</li>
<li><strong>Parallelism</strong>: The ability to execute multiple tasks simultaneously, typically on multiple processors or cores.</li>
</ul>
</div><h1>Threads in Ruby</h1>
<div class='content'></div><h2>Creating Threads</h2>
<div class='content'><p>Ruby provides built-in support for concurrency through threads. A thread is the smallest unit of execution within a process.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGhyZWFkID0gVGhyZWFkLm5ldyBkbwogIHB1dHMgIkhlbGxvIGZyb20gYSBuZXcgdGhyZWFkISIKZW5kCgp0aHJlYWQuam9pbiAjIFdhaXQgZm9yIHRoZSB0aHJlYWQgdG8gZmluaXNo"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>thread = Thread.new do
  puts &quot;Hello from a new thread!&quot;
end

thread.join # Wait for the thread to finish</pre></div><div class='content'></div><h2>Thread Safety</h2>
<div class='content'><p>When using threads, it's important to ensure that shared resources are accessed in a thread-safe manner to avoid race conditions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y291bnRlciA9IDAKbXV0ZXggPSBNdXRleC5uZXcKCnRocmVhZHMgPSAxMC50aW1lcy5tYXAgZG8KICBUaHJlYWQubmV3IGRvCiAgICAxMDAwLnRpbWVzIGRvCiAgICAgIG11dGV4LnN5bmNocm9uaXplIGRvCiAgICAgICAgY291bnRlciArPSAxCiAgICAgIGVuZAogICAgZW5kCiAgZW5kCmVuZAoKdGhyZWFkcy5lYWNoKCY6am9pbikKcHV0cyBjb3VudGVyICMgU2hvdWxkIHByaW50IDEwMDAw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>counter = 0
mutex = Mutex.new

threads = 10.times.map do
  Thread.new do
    1000.times do
      mutex.synchronize do
        counter += 1
      end
    end
  end
end

threads.each(&amp;:join)
puts counter # Should print 10000</pre></div><div class='content'></div><h1>Fibers in Ruby</h1>
<div class='content'><p>Fibers are a lighter alternative to threads and provide a way to implement cooperative concurrency.</p>
</div><h2>Creating Fibers</h2>
<div class='content'><p>Fibers allow you to pause and resume execution at specific points.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmliZXIgPSBGaWJlci5uZXcgZG8KICBwdXRzICJGaWJlciBzdGFydGVkIgogIEZpYmVyLnlpZWxkCiAgcHV0cyAiRmliZXIgcmVzdW1lZCIKZW5kCgpmaWJlci5yZXN1bWUKcHV0cyAiQmFjayB0byBtYWluIgpmaWJlci5yZXN1bWU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fiber = Fiber.new do
  puts &quot;Fiber started&quot;
  Fiber.yield
  puts &quot;Fiber resumed&quot;
end

fiber.resume
puts &quot;Back to main&quot;
fiber.resume</pre></div><div class='content'></div><h1>Parallelism with Processes</h1>
<div class='content'></div><h2>Forking Processes</h2>
<div class='content'><p>Ruby can also achieve parallelism by forking processes. Each forked process runs independently and can execute code in parallel.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm9yayBkbwogIHB1dHMgIlRoaXMgaXMgYSBjaGlsZCBwcm9jZXNzIgplbmQKCnB1dHMgIlRoaXMgaXMgdGhlIHBhcmVudCBwcm9jZXNzIgpQcm9jZXNzLndhaXQgIyBXYWl0IGZvciB0aGUgY2hpbGQgcHJvY2VzcyB0byBmaW5pc2g="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fork do
  puts &quot;This is a child process&quot;
end

puts &quot;This is the parent process&quot;
Process.wait # Wait for the child process to finish</pre></div><div class='content'></div><h2>Using the `Parallel` Gem</h2>
<div class='content'><p>For more advanced parallel processing, you can use the <code>parallel</code> gem.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAncGFyYWxsZWwnCgpyZXN1bHRzID0gUGFyYWxsZWwubWFwKFsxLCAyLCAzLCA0LCA1XSkgZG8gfG51bWJlcnwKICBudW1iZXIgKiAyCmVuZAoKcHV0cyByZXN1bHRzLmluc3BlY3QgIyBbMiwgNCwgNiwgOCwgMTBd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'parallel'

results = Parallel.map([1, 2, 3, 4, 5]) do |number|
  number * 2
end

puts results.inspect # [2, 4, 6, 8, 10]</pre></div><div class='content'></div><h1>Comparing Concurrency and Parallelism</h1>
<div class='content'><p>| Feature       | Threads                          | Fibers                           | Processes                        |
|---------------|----------------------------------|----------------------------------|----------------------------------|
| Concurrency   | Yes                              | Yes                              | No                               |
| Parallelism   | Limited (due to GIL)             | No                               | Yes                              |
| Complexity    | Medium                           | Low                              | High                             |
| Use Case      | I/O-bound tasks                  | Lightweight tasks                | CPU-bound tasks                  |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Concurrency and parallelism are powerful tools for improving the performance of Ruby applications. By understanding and utilizing threads, fibers, and processes, you can write more efficient and scalable code. Remember to always consider thread safety and choose the right tool for the job based on your specific use case.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='dsls'>&#x25C4;DSLs (Domain-Specific Languages)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Concurrency and Parallelism in Ruby</a>
	</div>
	<div class='col-4 text-end'>
					<a href='garbage-collection'>Garbage Collection &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
