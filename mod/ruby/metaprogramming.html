<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metaprogramming in Ruby</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/metaprogramming" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/metaprogramming" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/metaprogramming" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ruby/metaprogramming" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ruby/metaprogramming" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='ensuring-cleanup-with-ensure'>&#x25C4;Ensuring Cleanup with Ensure</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Metaprogramming in Ruby</a>
	</div>
	<div class='col-4 text-end'>
					<a href='reflection'>Reflection &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Metaprogramming is a powerful feature in Ruby that allows you to write code that writes code. This can make your programs more flexible and reduce redundancy. In this section, we'll explore the basics of metaprogramming and gradually move to more advanced concepts.</p>
</div><h1>Introduction to Metaprogramming</h1>
<div class='content'><p>Metaprogramming involves writing code that manipulates other code. In Ruby, this often means dynamically defining methods, altering classes, or even modifying the behavior of existing methods.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Dynamic Method Definition</strong>: Creating methods at runtime.</li>
<li><strong>Method Missing</strong>: Handling calls to undefined methods.</li>
<li><strong>Class and Module Manipulation</strong>: Changing the structure of classes and modules dynamically.</li>
<li><strong>Reflection</strong>: Inspecting objects, classes, and methods at runtime.</li>
</ul>
</div><h1>Dynamic Method Definition</h1>
<div class='content'><p>Ruby allows you to define methods dynamically using <code>define_method</code>.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRHluYW1pY0dyZWV0ZXIKICBkZWYgaW5pdGlhbGl6ZShuYW1lKQogICAgQG5hbWUgPSBuYW1lCiAgZW5kCgogIGRlZmluZV9tZXRob2QoOmdyZWV0KSBkbwogICAgIkhlbGxvLCAje0BuYW1lfSEiCiAgZW5kCmVuZAoKZ3JlZXRlciA9IER5bmFtaWNHcmVldGVyLm5ldygiQWxpY2UiKQpwdXRzIGdyZWV0ZXIuZ3JlZXQgICMgT3V0cHV0OiBIZWxsbywgQWxpY2Uh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DynamicGreeter
  def initialize(name)
    @name = name
  end

  define_method(:greet) do
    &quot;Hello, #{@name}!&quot;
  end
end

greeter = DynamicGreeter.new(&quot;Alice&quot;)
puts greeter.greet  # Output: Hello, Alice!</pre></div><div class='content'><p>In this example, the <code>greet</code> method is defined dynamically within the class.</p>
</div><h1>Method Missing</h1>
<div class='content'><p>The <code>method_missing</code> method is a powerful way to handle calls to methods that don't exist.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgR2hvc3RNZXRob2QKICBkZWYgbWV0aG9kX21pc3NpbmcobmFtZSwgKmFyZ3MpCiAgICAiWW91IHRyaWVkIHRvIGNhbGwgI3tuYW1lfSB3aXRoIGFyZ3VtZW50czogI3thcmdzLmpvaW4oJywgJyl9IgogIGVuZAplbmQKCmdob3N0ID0gR2hvc3RNZXRob2QubmV3CnB1dHMgZ2hvc3QuYW55X21ldGhvZCgxLCAyLCAzKSAgIyBPdXRwdXQ6IFlvdSB0cmllZCB0byBjYWxsIGFueV9tZXRob2Qgd2l0aCBhcmd1bWVudHM6IDEsIDIsIDM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class GhostMethod
  def method_missing(name, *args)
    &quot;You tried to call #{name} with arguments: #{args.join(', ')}&quot;
  end
end

ghost = GhostMethod.new
puts ghost.any_method(1, 2, 3)  # Output: You tried to call any_method with arguments: 1, 2, 3</pre></div><div class='content'><p>Here, <code>method_missing</code> catches any undefined method calls and provides a custom response.</p>
</div><h1>Class and Module Manipulation</h1>
<div class='content'><p>You can dynamically add methods to classes and modules.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlIER5bmFtaWNNZXRob2RzCiAgZGVmIGR5bmFtaWNfbWV0aG9kCiAgICAiSSdtIGEgZHluYW1pY2FsbHkgYWRkZWQgbWV0aG9kISIKICBlbmQKZW5kCgpjbGFzcyBNeUNsYXNzCiAgaW5jbHVkZSBEeW5hbWljTWV0aG9kcwplbmQKCm9iaiA9IE15Q2xhc3MubmV3CnB1dHMgb2JqLmR5bmFtaWNfbWV0aG9kICAjIE91dHB1dDogSSdtIGEgZHluYW1pY2FsbHkgYWRkZWQgbWV0aG9kIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module DynamicMethods
  def dynamic_method
    &quot;I'm a dynamically added method!&quot;
  end
end

class MyClass
  include DynamicMethods
end

obj = MyClass.new
puts obj.dynamic_method  # Output: I'm a dynamically added method!</pre></div><div class='content'><p>In this example, the <code>dynamic_method</code> is added to <code>MyClass</code> via the <code>DynamicMethods</code> module.</p>
</div><h1>Reflection</h1>
<div class='content'><p>Reflection allows you to inspect and manipulate the properties of objects, classes, and methods at runtime.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUmVmbGVjdGl2ZQogIGRlZiBpbml0aWFsaXplOyBlbmQKICBkZWYgZXhhbXBsZV9tZXRob2Q7IGVuZAplbmQKCnJlZmxlY3RpdmUgPSBSZWZsZWN0aXZlLm5ldwpwdXRzIHJlZmxlY3RpdmUuY2xhc3MgICMgT3V0cHV0OiBSZWZsZWN0aXZlCnB1dHMgUmVmbGVjdGl2ZS5pbnN0YW5jZV9tZXRob2RzKGZhbHNlKSAgIyBPdXRwdXQ6IFs6ZXhhbXBsZV9tZXRob2Rd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Reflective
  def initialize; end
  def example_method; end
end

reflective = Reflective.new
puts reflective.class  # Output: Reflective
puts Reflective.instance_methods(false)  # Output: [:example_method]</pre></div><div class='content'><p>This example shows how to inspect the class of an object and list its instance methods.</p>
</div><h1>Advanced Metaprogramming</h1>
<div class='content'></div><h2>Singleton Methods</h2>
<div class='content'><p>Singleton methods are methods that are defined for a single object rather than for all instances of a class.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b2JqID0gT2JqZWN0Lm5ldwoKZGVmIG9iai5zaW5nbGV0b25fbWV0aG9kCiAgIkknbSBhIHNpbmdsZXRvbiBtZXRob2QhIgplbmQKCnB1dHMgb2JqLnNpbmdsZXRvbl9tZXRob2QgICMgT3V0cHV0OiBJJ20gYSBzaW5nbGV0b24gbWV0aG9kIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>obj = Object.new

def obj.singleton_method
  &quot;I'm a singleton method!&quot;
end

puts obj.singleton_method  # Output: I'm a singleton method!</pre></div><div class='content'></div><h2>Using `send` and `define_singleton_method`</h2>
<div class='content'><p>The <code>send</code> method allows you to call methods dynamically, and <code>define_singleton_method</code> lets you define singleton methods.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRHluYW1pY0NhbGxlcgogIGRlZiBpbml0aWFsaXplKG5hbWUpCiAgICBAbmFtZSA9IG5hbWUKICBlbmQKCiAgZGVmIGNhbGxfbWV0aG9kKG1ldGhvZF9uYW1lKQogICAgc2VuZChtZXRob2RfbmFtZSkKICBlbmQKCiAgZGVmIGdyZWV0CiAgICAiSGVsbG8sICN7QG5hbWV9ISIKICBlbmQKZW5kCgpjYWxsZXIgPSBEeW5hbWljQ2FsbGVyLm5ldygiQm9iIikKcHV0cyBjYWxsZXIuY2FsbF9tZXRob2QoOmdyZWV0KSAgIyBPdXRwdXQ6IEhlbGxvLCBCb2Ih"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DynamicCaller
  def initialize(name)
    @name = name
  end

  def call_method(method_name)
    send(method_name)
  end

  def greet
    &quot;Hello, #{@name}!&quot;
  end
end

caller = DynamicCaller.new(&quot;Bob&quot;)
puts caller.call_method(:greet)  # Output: Hello, Bob!</pre></div><div class='content'><p>In this example, <code>send</code> is used to call the <code>greet</code> method dynamically.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Metaprogramming in Ruby is a powerful tool that can make your code more flexible and reduce redundancy. By understanding and utilizing dynamic method definition, <code>method_missing</code>, class and module manipulation, reflection, and advanced techniques like singleton methods and <code>send</code>, you can write more dynamic and adaptable Ruby programs. Remember to use these techniques judiciously, as they can make your code harder to understand and maintain if overused.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='ensuring-cleanup-with-ensure'>&#x25C4;Ensuring Cleanup with Ensure</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Metaprogramming in Ruby</a>
	</div>
	<div class='col-4 text-end'>
					<a href='reflection'>Reflection &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
