<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MVC Architecture</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/06-04-mvc-architecture" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/06-04-mvc-architecture" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/06-04-mvc-architecture" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ruby/06-04-mvc-architecture" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ruby/06-04-mvc-architecture" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-03-creating-simple-rails-application' title="Creating a Simple Rails Application">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">MVC Architecture</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-05-routing' title="Routing">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>The Model-View-Controller (MVC) architecture is a design pattern used in Ruby on Rails to separate the concerns of an application into three interconnected components. This separation helps in organizing code, making it more maintainable and scalable. In this section, we will explore each component of the MVC architecture and how they interact with each other.</p>
</div><h1><ol>
<li>Understanding MVC Components</li>
</ol>
</h1>
<div class='content'></div><h2><p>Model</p>
</h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Represents the data and the business logic of the application.</li>
<li><strong>Responsibilities</strong>:
<ul>
<li>Interacts with the database.</li>
<li>Validates data before saving it to the database.</li>
<li>Contains methods that define the business logic.</li>
</ul>
</li>
<li><strong>Example</strong>:
<pre><code class="language-ruby">class Article &lt; ApplicationRecord
  validates :title, presence: true
  validates :content, presence: true, length: { minimum: 10 }
end
</code></pre>
In this example, the <code>Article</code> model ensures that every article has a title and content with a minimum length of 10 characters.</li>
</ul>
</div><h2><p>View</p>
</h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Represents the user interface of the application.</li>
<li><strong>Responsibilities</strong>:
<ul>
<li>Displays data to the user.</li>
<li>Collects user input.</li>
<li>Contains HTML, CSS, and embedded Ruby (ERB) code.</li>
</ul>
</li>
<li><strong>Example</strong>:
<pre><code class="language-erb">&lt;!-- app/views/articles/show.html.erb --&gt;
&lt;h1&gt;&lt;%= @article.title %&gt;&lt;/h1&gt;
&lt;p&gt;&lt;%= @article.content %&gt;&lt;/p&gt;
</code></pre>
This view template displays the title and content of an article.</li>
</ul>
</div><h2><p>Controller</p>
</h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Acts as an intermediary between the Model and the View.</li>
<li><strong>Responsibilities</strong>:
<ul>
<li>Receives user input from the View.</li>
<li>Interacts with the Model to process data.</li>
<li>Selects the appropriate View to render.</li>
</ul>
</li>
<li><strong>Example</strong>:
<pre><code class="language-ruby">class ArticlesController &lt; ApplicationController
  def show
    @article = Article.find(params[:id])
  end
end
</code></pre>
In this example, the <code>show</code> action in the <code>ArticlesController</code> retrieves an article from the database and makes it available to the view.</li>
</ul>
</div><h1><ol start="2">
<li>How MVC Components Interact</li>
</ol>
</h1>
<div class='content'></div><h2><p>Request Flow</p>
</h2>
<div class='content'><ol>
<li><strong>User Request</strong>: A user sends a request to the server (e.g., by clicking a link or submitting a form).</li>
<li><strong>Routing</strong>: The Rails router maps the request to a specific controller action.</li>
<li><strong>Controller Action</strong>: The controller action processes the request, interacts with the model, and prepares data for the view.</li>
<li><strong>View Rendering</strong>: The view renders the data and generates the HTML response.</li>
<li><strong>Response</strong>: The server sends the HTML response back to the user's browser.</li>
</ol>
</div><h2><p>Example Request Flow</p>
</h2>
<div class='content'><ol>
<li><strong>User Request</strong>: A user navigates to <code>/articles/1</code>.</li>
<li><strong>Routing</strong>: The router maps the request to the <code>show</code> action in the <code>ArticlesController</code>.</li>
<li><strong>Controller Action</strong>: The <code>show</code> action retrieves the article with ID 1 from the database.</li>
<li><strong>View Rendering</strong>: The <code>show.html.erb</code> view template displays the article's title and content.</li>
<li><strong>Response</strong>: The server sends the rendered HTML back to the user's browser.</li>
</ol>
</div><h1><ol start="3">
<li>Practical Example</li>
</ol>
</h1>
<div class='content'><p>Let's create a simple Rails application to demonstrate the MVC architecture.</p>
</div><h2><p>Step 1: Generate a Rails Application</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmFpbHMgbmV3IGJsb2cKY2QgYmxvZw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rails new blog
cd blog</pre></div><div class='content'></div><h2><p>Step 2: Generate a Model</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmFpbHMgZ2VuZXJhdGUgbW9kZWwgQXJ0aWNsZSB0aXRsZTpzdHJpbmcgY29udGVudDp0ZXh0CnJhaWxzIGRiOm1pZ3JhdGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rails generate model Article title:string content:text
rails db:migrate</pre></div><div class='content'></div><h2><p>Step 3: Generate a Controller</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmFpbHMgZ2VuZXJhdGUgY29udHJvbGxlciBBcnRpY2xlcyBzaG93"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rails generate controller Articles show</pre></div><div class='content'></div><h2><p>Step 4: Define Routes</p>
</h2>
<div class='content'><p>Edit <code>config/routes.rb</code> to define the route for the <code>show</code> action:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UmFpbHMuYXBwbGljYXRpb24ucm91dGVzLmRyYXcgZG8KICByZXNvdXJjZXMgOmFydGljbGVzLCBvbmx5OiBbOnNob3ddCmVuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Rails.application.routes.draw do
  resources :articles, only: [:show]
end</pre></div><div class='content'></div><h2><p>Step 5: Implement the Controller Action</p>
</h2>
<div class='content'><p>Edit <code>app/controllers/articles_controller.rb</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQXJ0aWNsZXNDb250cm9sbGVyIDwgQXBwbGljYXRpb25Db250cm9sbGVyCiAgZGVmIHNob3cKICAgIEBhcnRpY2xlID0gQXJ0aWNsZS5maW5kKHBhcmFtc1s6aWRdKQogIGVuZAplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ArticlesController &lt; ApplicationController
  def show
    @article = Article.find(params[:id])
  end
end</pre></div><div class='content'></div><h2><p>Step 6: Create the View Template</p>
</h2>
<div class='content'><p>Create <code>app/views/articles/show.html.erb</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGgxPjwlPSBAYXJ0aWNsZS50aXRsZSAlPjwvaDE+CjxwPjwlPSBAYXJ0aWNsZS5jb250ZW50ICU+PC9wPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;h1&gt;&lt;%= @article.title %&gt;&lt;/h1&gt;
&lt;p&gt;&lt;%= @article.content %&gt;&lt;/p&gt;</pre></div><div class='content'></div><h2><p>Step 7: Seed the Database (Optional)</p>
</h2>
<div class='content'><p>Edit <code>db/seeds.rb</code> to add some sample data:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QXJ0aWNsZS5jcmVhdGUodGl0bGU6ICdGaXJzdCBBcnRpY2xlJywgY29udGVudDogJ1RoaXMgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIGZpcnN0IGFydGljbGUuJykKQXJ0aWNsZS5jcmVhdGUodGl0bGU6ICdTZWNvbmQgQXJ0aWNsZScsIGNvbnRlbnQ6ICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSBzZWNvbmQgYXJ0aWNsZS4nKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Article.create(title: 'First Article', content: 'This is the content of the first article.')
Article.create(title: 'Second Article', content: 'This is the content of the second article.')</pre></div><div class='content'><p>Run the seed command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmFpbHMgZGI6c2VlZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rails db:seed</pre></div><div class='content'></div><h2><p>Step 8: Start the Rails Server</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmFpbHMgc2VydmVy"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rails server</pre></div><div class='content'><p>Navigate to <code>http://localhost:3000/articles/1</code> to see the first article.</p>
</div><h1><ol start="4">
<li>Exercises</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a New Model and Controller</p>
</h2>
<div class='content'><ol>
<li>Generate a new model called <code>Comment</code> with attributes <code>author:string</code> and <code>body:text</code>.</li>
<li>Generate a controller called <code>Comments</code> with an action <code>show</code>.</li>
<li>Define the route for the <code>show</code> action.</li>
<li>Implement the <code>show</code> action to retrieve a comment by its ID.</li>
<li>Create a view template to display the comment's author and body.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>Generate the model and controller:
<pre><code class="language-bash">rails generate model Comment author:string body:text
rails db:migrate
rails generate controller Comments show
</code></pre>
</li>
<li>Define the route in <code>config/routes.rb</code>:
<pre><code class="language-ruby">resources :comments, only: [:show]
</code></pre>
</li>
<li>Implement the <code>show</code> action in <code>app/controllers/comments_controller.rb</code>:
<pre><code class="language-ruby">class CommentsController &lt; ApplicationController
  def show
    @comment = Comment.find(params[:id])
  end
end
</code></pre>
</li>
<li>Create the view template <code>app/views/comments/show.html.erb</code>:
<pre><code class="language-erb">&lt;h2&gt;Comment by &lt;%= @comment.author %&gt;&lt;/h2&gt;
&lt;p&gt;&lt;%= @comment.body %&gt;&lt;/p&gt;
</code></pre>
</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we explored the MVC architecture, a fundamental design pattern in Ruby on Rails. We learned about the roles and responsibilities of the Model, View, and Controller components and how they interact to handle user requests. By following a practical example, we demonstrated how to create a simple Rails application using the MVC pattern. Understanding MVC is crucial for building well-structured and maintainable Rails applications. In the next section, we will dive into routing, which is essential for mapping user requests to controller actions.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-03-creating-simple-rails-application' title="Creating a Simple Rails Application">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-05-routing' title="Routing">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
