<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profiling and Performance Tuning</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/profiling-and-performance-tuning" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/profiling-and-performance-tuning" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/profiling-and-performance-tuning" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ruby/profiling-and-performance-tuning" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ruby/profiling-and-performance-tuning" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-techniques'>&#x25C4;Debugging Techniques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Profiling and Performance Tuning</a>
	</div>
	<div class='col-4 text-end'>
					<a href='what-is-ruby-on-rails'>What is Ruby on Rails? &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Profiling and performance tuning are essential skills for any Ruby developer. They help you understand where your code may be slow or inefficient and how to optimize it for better performance. This section will cover the basics of profiling, common tools used in Ruby, and techniques for performance tuning.</p>
</div><h1>Profiling Basics</h1>
<div class='content'><p>Profiling is the process of measuring the space (memory) and time complexity of your code. It helps identify bottlenecks and areas that need optimization.</p>
<ul>
<li>
<p><strong>Why Profiling is Important:</strong></p>
<ul>
<li>Identifies slow parts of your code.</li>
<li>Helps in optimizing resource usage.</li>
<li>Improves user experience by reducing load times.</li>
</ul>
</li>
<li>
<p><strong>Common Profiling Metrics:</strong></p>
<ul>
<li>Execution time</li>
<li>Memory usage</li>
<li>CPU usage</li>
</ul>
</li>
</ul>
</div><h1>Tools for Profiling in Ruby</h1>
<div class='content'><p>Several tools can help you profile your Ruby applications. Here are some of the most commonly used ones:</p>
<ul>
<li>
<p><strong>Benchmark Module:</strong></p>
<ul>
<li>Built into Ruby, it provides methods to measure and report the time used to execute code.</li>
</ul>
<pre><code class="language-ruby">require 'benchmark'

time = Benchmark.measure do
  # Code to benchmark
  (1..1000000).each { |i| i*i }
end

puts time
</code></pre>
</li>
<li>
<p><strong>RubyProf:</strong></p>
<ul>
<li>A fast code profiler for Ruby.</li>
</ul>
<pre><code class="language-ruby">require 'ruby-prof'

RubyProf.start
# Code to profile
(1..1000000).each { |i| i*i }
result = RubyProf.stop

# Print a flat profile to text
printer = RubyProf::FlatPrinter.new(result)
printer.print(STDOUT)
</code></pre>
</li>
<li>
<p><strong>StackProf:</strong></p>
<ul>
<li>A sampling call-stack profiler for Ruby.</li>
</ul>
<pre><code class="language-ruby">require 'stackprof'

StackProf.run(mode: :cpu, out: 'stackprof.dump') do
  # Code to profile
  (1..1000000).each { |i| i*i }
end
</code></pre>
</li>
</ul>
</div><h1>Performance Tuning Techniques</h1>
<div class='content'><p>Once you've identified the bottlenecks in your code, the next step is to optimize it. Here are some common techniques:</p>
<ul>
<li>
<p><strong>Optimize Algorithms:</strong></p>
<ul>
<li>Choose the right data structures and algorithms for your tasks.</li>
<li>Example: Using a hash instead of an array for lookups.</li>
</ul>
<pre><code class="language-ruby"># Inefficient
array = [1, 2, 3, 4, 5]
array.include?(3) # O(n)

# Efficient
hash = {1 =&gt; true, 2 =&gt; true, 3 =&gt; true, 4 =&gt; true, 5 =&gt; true}
hash[3] # O(1)
</code></pre>
</li>
<li>
<p><strong>Reduce Object Allocations:</strong></p>
<ul>
<li>Minimize the creation of unnecessary objects.</li>
</ul>
<pre><code class="language-ruby"># Inefficient
(1..1000).map { |i| &quot;string#{i}&quot; }

# Efficient
base_string = &quot;string&quot;
(1..1000).map { |i| &quot;#{base_string}#{i}&quot; }
</code></pre>
</li>
<li>
<p><strong>Use Memoization:</strong></p>
<ul>
<li>Cache the results of expensive function calls.</li>
</ul>
<pre><code class="language-ruby">def fibonacci(n, memo = {})
  return n if n &lt;= 1
  memo[n] ||= fibonacci(n - 1, memo) + fibonacci(n - 2, memo)
end
</code></pre>
</li>
<li>
<p><strong>Lazy Evaluation:</strong></p>
<ul>
<li>Delay the computation of values until they are needed.</li>
</ul>
<pre><code class="language-ruby"># Inefficient
array = (1..1000000).to_a
result = array.map { |i| i * 2 }.select { |i| i % 3 == 0 }

# Efficient
result = (1..1000000).lazy.map { |i| i * 2 }.select { |i| i % 3 == 0 }.force
</code></pre>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Profiling and performance tuning are crucial for writing efficient Ruby applications. By using profiling tools like Benchmark, RubyProf, and StackProf, you can identify performance bottlenecks. Applying optimization techniques such as choosing the right algorithms, reducing object allocations, using memoization, and leveraging lazy evaluation can significantly improve your application's performance. Remember, the goal is to write code that is not only correct but also efficient.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-techniques'>&#x25C4;Debugging Techniques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Profiling and Performance Tuning</a>
	</div>
	<div class='col-4 text-end'>
					<a href='what-is-ruby-on-rails'>What is Ruby on Rails? &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
