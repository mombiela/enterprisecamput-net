<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File I/O</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/05-04-file-io" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/05-04-file-io" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/05-04-file-io" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ruby/05-04-file-io" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ruby/05-04-file-io" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-exception-handling' title="Exception Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File I/O</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-05-regular-expressions' title="Regular Expressions">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to handle file input and output (I/O) in Ruby. File I/O is a crucial part of many applications, allowing you to read from and write to files, which is essential for data persistence.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Opening Files</strong>: How to open files for reading, writing, or both.</li>
<li><strong>Reading Files</strong>: Different methods to read data from files.</li>
<li><strong>Writing Files</strong>: How to write data to files.</li>
<li><strong>Closing Files</strong>: Ensuring files are properly closed after operations.</li>
<li><strong>File Modes</strong>: Understanding different file modes (read, write, append, etc.).</li>
<li><strong>File Operations</strong>: Additional operations like renaming, deleting, and checking file existence.</li>
</ol>
</div><h1>Opening Files</h1>
<div class='content'><p>To open a file in Ruby, you use the <code>File.open</code> method. This method can take a file path and a mode as arguments.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlsZSA9IEZpbGUub3BlbigiZXhhbXBsZS50eHQiLCAiciIpICMgT3BlbnMgdGhlIGZpbGUgaW4gcmVhZCBtb2Rl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>file = File.open(&quot;example.txt&quot;, &quot;r&quot;) # Opens the file in read mode</pre></div><div class='content'></div><h2>File Modes</h2>
<div class='content'><table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&quot;r&quot;</td>
<td>Read-only mode</td>
</tr>
<tr>
<td>&quot;w&quot;</td>
<td>Write-only mode (truncates existing file)</td>
</tr>
<tr>
<td>&quot;a&quot;</td>
<td>Append mode</td>
</tr>
<tr>
<td>&quot;r+&quot;</td>
<td>Read and write mode</td>
</tr>
<tr>
<td>&quot;w+&quot;</td>
<td>Read and write mode (truncates existing file)</td>
</tr>
<tr>
<td>&quot;a+&quot;</td>
<td>Read and append mode</td>
</tr>
</tbody>
</table>
</div><h1>Reading Files</h1>
<div class='content'><p>Ruby provides several methods to read data from a file:</p>
</div><h2>Reading the Entire File</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29udGVudCA9IEZpbGUucmVhZCgiZXhhbXBsZS50eHQiKQpwdXRzIGNvbnRlbnQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>content = File.read(&quot;example.txt&quot;)
puts content</pre></div><div class='content'></div><h2>Reading Line by Line</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikgZG8gfGZpbGV8CiAgZmlsZS5lYWNoX2xpbmUgZG8gfGxpbmV8CiAgICBwdXRzIGxpbmUKICBlbmQKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.open(&quot;example.txt&quot;, &quot;r&quot;) do |file|
  file.each_line do |line|
    puts line
  end
end</pre></div><div class='content'></div><h2>Reading with `IO.readlines`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGluZXMgPSBJTy5yZWFkbGluZXMoImV4YW1wbGUudHh0IikKbGluZXMuZWFjaCB7IHxsaW5lfCBwdXRzIGxpbmUgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>lines = IO.readlines(&quot;example.txt&quot;)
lines.each { |line| puts line }</pre></div><div class='content'></div><h1>Writing Files</h1>
<div class='content'><p>To write data to a file, you can use the <code>File.write</code> method or open the file in write mode and use <code>puts</code> or <code>write</code>.</p>
</div><h2>Using `File.write`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS53cml0ZSgiZXhhbXBsZS50eHQiLCAiSGVsbG8sIFdvcmxkISIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.write(&quot;example.txt&quot;, &quot;Hello, World!&quot;)</pre></div><div class='content'></div><h2>Using `File.open` with Write Mode</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJ3IikgZG8gfGZpbGV8CiAgZmlsZS5wdXRzICJIZWxsbywgV29ybGQhIgplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.open(&quot;example.txt&quot;, &quot;w&quot;) do |file|
  file.puts &quot;Hello, World!&quot;
end</pre></div><div class='content'></div><h1>Closing Files</h1>
<div class='content'><p>When you open a file, it's important to close it to free up system resources. Using a block with <code>File.open</code> ensures the file is closed automatically.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlsZSA9IEZpbGUub3BlbigiZXhhbXBsZS50eHQiLCAiciIpCiMgUGVyZm9ybSBmaWxlIG9wZXJhdGlvbnMKZmlsZS5jbG9zZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>file = File.open(&quot;example.txt&quot;, &quot;r&quot;)
# Perform file operations
file.close</pre></div><div class='content'><p>Using a block:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikgZG8gfGZpbGV8CiAgIyBQZXJmb3JtIGZpbGUgb3BlcmF0aW9ucwplbmQgIyBGaWxlIGlzIGF1dG9tYXRpY2FsbHkgY2xvc2VkIGhlcmU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.open(&quot;example.txt&quot;, &quot;r&quot;) do |file|
  # Perform file operations
end # File is automatically closed here</pre></div><div class='content'></div><h1>Additional File Operations</h1>
<div class='content'></div><h2>Checking File Existence</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgRmlsZS5leGlzdD8oImV4YW1wbGUudHh0IikKICBwdXRzICJGaWxlIGV4aXN0cy4iCmVsc2UKICBwdXRzICJGaWxlIGRvZXMgbm90IGV4aXN0LiIKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if File.exist?(&quot;example.txt&quot;)
  puts &quot;File exists.&quot;
else
  puts &quot;File does not exist.&quot;
end</pre></div><div class='content'></div><h2>Renaming a File</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5yZW5hbWUoImV4YW1wbGUudHh0IiwgIm5ld19leGFtcGxlLnR4dCIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.rename(&quot;example.txt&quot;, &quot;new_example.txt&quot;)</pre></div><div class='content'></div><h2>Deleting a File</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5kZWxldGUoImV4YW1wbGUudHh0Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.delete(&quot;example.txt&quot;)</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: File I/O Operations</h2>
<div class='content'><ol>
<li>
<p>Create a new file named <code>test.txt</code> and write the following content to it:</p>
<pre><code>Line 1
Line 2
Line 3
</code></pre>
</li>
<li>
<p>Read the content of <code>test.txt</code> and print each line to the console.</p>
</li>
<li>
<p>Append the following line to <code>test.txt</code>:</p>
<pre><code>Line 4
</code></pre>
</li>
<li>
<p>Rename <code>test.txt</code> to <code>final_test.txt</code>.</p>
</li>
<li>
<p>Check if <code>final_test.txt</code> exists and print a confirmation message.</p>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdGVwIDE6IENyZWF0ZSBhbmQgd3JpdGUgdG8gdGhlIGZpbGUKRmlsZS5vcGVuKCJ0ZXN0LnR4dCIsICJ3IikgZG8gfGZpbGV8CiAgZmlsZS5wdXRzICJMaW5lIDEiCiAgZmlsZS5wdXRzICJMaW5lIDIiCiAgZmlsZS5wdXRzICJMaW5lIDMiCmVuZAoKIyBTdGVwIDI6IFJlYWQgYW5kIHByaW50IHRoZSBmaWxlIGNvbnRlbnQKRmlsZS5vcGVuKCJ0ZXN0LnR4dCIsICJyIikgZG8gfGZpbGV8CiAgZmlsZS5lYWNoX2xpbmUgZG8gfGxpbmV8CiAgICBwdXRzIGxpbmUKICBlbmQKZW5kCgojIFN0ZXAgMzogQXBwZW5kIGEgbmV3IGxpbmUgdG8gdGhlIGZpbGUKRmlsZS5vcGVuKCJ0ZXN0LnR4dCIsICJhIikgZG8gfGZpbGV8CiAgZmlsZS5wdXRzICJMaW5lIDQiCmVuZAoKIyBTdGVwIDQ6IFJlbmFtZSB0aGUgZmlsZQpGaWxlLnJlbmFtZSgidGVzdC50eHQiLCAiZmluYWxfdGVzdC50eHQiKQoKIyBTdGVwIDU6IENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0cwppZiBGaWxlLmV4aXN0PygiZmluYWxfdGVzdC50eHQiKQogIHB1dHMgImZpbmFsX3Rlc3QudHh0IGV4aXN0cy4iCmVsc2UKICBwdXRzICJmaW5hbF90ZXN0LnR4dCBkb2VzIG5vdCBleGlzdC4iCmVuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Step 1: Create and write to the file
File.open(&quot;test.txt&quot;, &quot;w&quot;) do |file|
  file.puts &quot;Line 1&quot;
  file.puts &quot;Line 2&quot;
  file.puts &quot;Line 3&quot;
end

# Step 2: Read and print the file content
File.open(&quot;test.txt&quot;, &quot;r&quot;) do |file|
  file.each_line do |line|
    puts line
  end
end

# Step 3: Append a new line to the file
File.open(&quot;test.txt&quot;, &quot;a&quot;) do |file|
  file.puts &quot;Line 4&quot;
end

# Step 4: Rename the file
File.rename(&quot;test.txt&quot;, &quot;final_test.txt&quot;)

# Step 5: Check if the file exists
if File.exist?(&quot;final_test.txt&quot;)
  puts &quot;final_test.txt exists.&quot;
else
  puts &quot;final_test.txt does not exist.&quot;
end</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of file I/O in Ruby, including how to open, read, write, and close files. We also explored additional file operations like renaming and deleting files. Understanding these concepts is essential for handling data persistence in your Ruby applications. In the next section, we will delve into regular expressions, a powerful tool for pattern matching and text manipulation.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-exception-handling' title="Exception Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-05-regular-expressions' title="Regular Expressions">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
