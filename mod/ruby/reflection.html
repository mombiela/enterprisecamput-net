<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reflection in Ruby</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/reflection" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/reflection" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/reflection" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ruby/reflection" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ruby/reflection" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='metaprogramming'>&#x25C4;Metaprogramming</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Reflection in Ruby</a>
	</div>
	<div class='col-4 text-end'>
					<a href='dsls'>DSLs (Domain-Specific Languages) &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Reflection is a powerful feature in Ruby that allows a program to inspect and modify its own structure and behavior at runtime. This capability is essential for metaprogramming, where code can dynamically define methods, classes, and other structures.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Introspection</strong>: The ability to examine the properties of objects, such as their class, methods, and instance variables.</li>
<li><strong>Dynamic Method Invocation</strong>: Calling methods whose names are not known until runtime.</li>
<li><strong>Modifying Classes and Modules</strong>: Adding or altering methods and properties of classes and modules during execution.</li>
</ul>
</div><h1>Introspection</h1>
<div class='content'><p>Introspection is the process of examining the properties of objects at runtime. Ruby provides several methods to facilitate introspection.</p>
</div><h2>Example: Inspecting an Object's Class and Methods</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uCiAgYXR0cl9hY2Nlc3NvciA6bmFtZSwgOmFnZQoKICBkZWYgaW5pdGlhbGl6ZShuYW1lLCBhZ2UpCiAgICBAbmFtZSA9IG5hbWUKICAgIEBhZ2UgPSBhZ2UKICBlbmQKCiAgZGVmIGdyZWV0CiAgICAiSGVsbG8sIG15IG5hbWUgaXMgI3tAbmFtZX0uIgogIGVuZAplbmQKCnBlcnNvbiA9IFBlcnNvbi5uZXcoIkFsaWNlIiwgMzApCgojIEluc3BlY3RpbmcgdGhlIGNsYXNzIG9mIHRoZSBvYmplY3QKcHV0cyBwZXJzb24uY2xhc3MgIyBPdXRwdXQ6IFBlcnNvbgoKIyBMaXN0aW5nIGFsbCBtZXRob2RzIG9mIHRoZSBvYmplY3QKcHV0cyBwZXJzb24ubWV0aG9kcy5zb3J0CgojIExpc3RpbmcgaW5zdGFuY2UgdmFyaWFibGVzCnB1dHMgcGVyc29uLmluc3RhbmNlX3ZhcmlhYmxlcyAjIE91dHB1dDogWzpAbmFtZSwgOkBhZ2VdCgojIEdldHRpbmcgdGhlIHZhbHVlIG9mIGFuIGluc3RhbmNlIHZhcmlhYmxlCnB1dHMgcGVyc29uLmluc3RhbmNlX3ZhcmlhYmxlX2dldCg6QG5hbWUpICMgT3V0cHV0OiBBbGljZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person
  attr_accessor :name, :age

  def initialize(name, age)
    @name = name
    @age = age
  end

  def greet
    &quot;Hello, my name is #{@name}.&quot;
  end
end

person = Person.new(&quot;Alice&quot;, 30)

# Inspecting the class of the object
puts person.class # Output: Person

# Listing all methods of the object
puts person.methods.sort

# Listing instance variables
puts person.instance_variables # Output: [:@name, :@age]

# Getting the value of an instance variable
puts person.instance_variable_get(:@name) # Output: Alice</pre></div><div class='content'></div><h1>Dynamic Method Invocation</h1>
<div class='content'><p>Dynamic method invocation allows you to call methods whose names are determined at runtime. This can be done using the <code>send</code> method.</p>
</div><h2>Example: Using `send` to Invoke Methods Dynamically</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ2FsY3VsYXRvcgogIGRlZiBhZGQoYSwgYikKICAgIGEgKyBiCiAgZW5kCgogIGRlZiBzdWJ0cmFjdChhLCBiKQogICAgYSAtIGIKICBlbmQKZW5kCgpjYWxjID0gQ2FsY3VsYXRvci5uZXcKCiMgTWV0aG9kIG5hbWVzIGFzIHN5bWJvbHMKbWV0aG9kX25hbWUgPSA6YWRkCnB1dHMgY2FsYy5zZW5kKG1ldGhvZF9uYW1lLCA1LCAzKSAjIE91dHB1dDogOAoKbWV0aG9kX25hbWUgPSA6c3VidHJhY3QKcHV0cyBjYWxjLnNlbmQobWV0aG9kX25hbWUsIDUsIDMpICMgT3V0cHV0OiAy"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Calculator
  def add(a, b)
    a + b
  end

  def subtract(a, b)
    a - b
  end
end

calc = Calculator.new

# Method names as symbols
method_name = :add
puts calc.send(method_name, 5, 3) # Output: 8

method_name = :subtract
puts calc.send(method_name, 5, 3) # Output: 2</pre></div><div class='content'></div><h1>Modifying Classes and Modules</h1>
<div class='content'><p>Ruby allows you to modify existing classes and modules at runtime. This can be useful for adding new methods or altering existing ones.</p>
</div><h2>Example: Adding Methods to a Class</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU3RyaW5nCiAgZGVmIHNob3V0CiAgICBzZWxmLnVwY2FzZSArICIhISEiCiAgZW5kCmVuZAoKcHV0cyAiaGVsbG8iLnNob3V0ICMgT3V0cHV0OiBIRUxMTyEhIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class String
  def shout
    self.upcase + &quot;!!!&quot;
  end
end

puts &quot;hello&quot;.shout # Output: HELLO!!!</pre></div><div class='content'></div><h2>Example: Using `define_method` to Create Methods Dynamically</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uCiAgWzpuYW1lLCA6YWdlLCA6Z2VuZGVyXS5lYWNoIGRvIHxhdHRyfAogICAgZGVmaW5lX21ldGhvZChhdHRyKSBkbwogICAgICBpbnN0YW5jZV92YXJpYWJsZV9nZXQoIkAje2F0dHJ9IikKICAgIGVuZAoKICAgIGRlZmluZV9tZXRob2QoIiN7YXR0cn09IikgZG8gfHZhbHVlfAogICAgICBpbnN0YW5jZV92YXJpYWJsZV9zZXQoIkAje2F0dHJ9IiwgdmFsdWUpCiAgICBlbmQKICBlbmQKZW5kCgpwZXJzb24gPSBQZXJzb24ubmV3CnBlcnNvbi5uYW1lID0gIkJvYiIKcGVyc29uLmFnZSA9IDI1CnBlcnNvbi5nZW5kZXIgPSAiTWFsZSIKCnB1dHMgcGVyc29uLm5hbWUgICAjIE91dHB1dDogQm9iCnB1dHMgcGVyc29uLmFnZSAgICAjIE91dHB1dDogMjUKcHV0cyBwZXJzb24uZ2VuZGVyICMgT3V0cHV0OiBNYWxl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person
  [:name, :age, :gender].each do |attr|
    define_method(attr) do
      instance_variable_get(&quot;@#{attr}&quot;)
    end

    define_method(&quot;#{attr}=&quot;) do |value|
      instance_variable_set(&quot;@#{attr}&quot;, value)
    end
  end
end

person = Person.new
person.name = &quot;Bob&quot;
person.age = 25
person.gender = &quot;Male&quot;

puts person.name   # Output: Bob
puts person.age    # Output: 25
puts person.gender # Output: Male</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Reflection in Ruby provides powerful tools for introspection, dynamic method invocation, and modifying classes and modules at runtime. These capabilities are essential for metaprogramming and can greatly enhance the flexibility and dynamism of your code. By understanding and utilizing reflection, you can write more adaptable and intelligent Ruby programs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='metaprogramming'>&#x25C4;Metaprogramming</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Reflection in Ruby</a>
	</div>
	<div class='col-4 text-end'>
					<a href='dsls'>DSLs (Domain-Specific Languages) &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
