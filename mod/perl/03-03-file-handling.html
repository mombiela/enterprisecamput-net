<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/perl/03-03-file-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/perl/03-03-file-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/perl/03-03-file-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/perl/03-03-file-handling" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/perl/03-03-file-handling" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-02-hashes' title="Hashes">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File Handling</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-04-regular-expressions' title="Regular Expressions">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>File handling is a crucial aspect of any programming language, and Perl provides robust support for working with files. In this section, we will cover the basics of file handling in Perl, including opening, reading, writing, and closing files. We will also discuss error handling and some common file operations.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>File Handles</strong>: Special variables used to interact with files.</li>
<li><strong>Opening Files</strong>: Using the <code>open</code> function to open files for reading, writing, or appending.</li>
<li><strong>Reading Files</strong>: Different methods to read from a file.</li>
<li><strong>Writing Files</strong>: Writing data to a file.</li>
<li><strong>Closing Files</strong>: Properly closing files after operations.</li>
<li><strong>Error Handling</strong>: Handling errors during file operations.</li>
</ol>
</div><h1><p>Opening Files</p>
</h1>
<div class='content'><p>To open a file in Perl, you use the <code>open</code> function. The <code>open</code> function requires two arguments: a file handle and the file name. You can also specify the mode in which you want to open the file (read, write, append).</p>
</div><h2><p>Syntax</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihGSUxFSEFORExFLCAiTU9ERSIsICJmaWxlbmFtZSIpIG9yIGRpZSAiRXJyb3IgbWVzc2FnZSI7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(FILEHANDLE, &quot;MODE&quot;, &quot;filename&quot;) or die &quot;Error message&quot;;</pre></div><div class='content'></div><h2><p>Modes</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code></td>
<td>Read-only mode</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>Write mode (creates/truncates file)</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>Append mode</td>
</tr>
</tbody>
</table>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBPcGVuIGEgZmlsZSBmb3IgcmVhZGluZwpvcGVuKG15ICRmaCwgIjwiLCAiaW5wdXQudHh0Iikgb3IgZGllICJDYW5ub3Qgb3BlbiBpbnB1dC50eHQ6ICQhIjsKCiMgT3BlbiBhIGZpbGUgZm9yIHdyaXRpbmcKb3BlbihteSAkZmgsICI+IiwgIm91dHB1dC50eHQiKSBvciBkaWUgIkNhbm5vdCBvcGVuIG91dHB1dC50eHQ6ICQhIjsKCiMgT3BlbiBhIGZpbGUgZm9yIGFwcGVuZGluZwpvcGVuKG15ICRmaCwgIj4+IiwgImxvZy50eHQiKSBvciBkaWUgIkNhbm5vdCBvcGVuIGxvZy50eHQ6ICQhIjs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Open a file for reading
open(my $fh, &quot;&lt;&quot;, &quot;input.txt&quot;) or die &quot;Cannot open input.txt: $!&quot;;

# Open a file for writing
open(my $fh, &quot;&gt;&quot;, &quot;output.txt&quot;) or die &quot;Cannot open output.txt: $!&quot;;

# Open a file for appending
open(my $fh, &quot;&gt;&gt;&quot;, &quot;log.txt&quot;) or die &quot;Cannot open log.txt: $!&quot;;</pre></div><div class='content'></div><h1><p>Reading Files</p>
</h1>
<div class='content'><p>There are several ways to read from a file in Perl:</p>
<ol>
<li><strong>Reading Line by Line</strong>: Using a while loop.</li>
<li><strong>Reading Entire File</strong>: Using the <code>slurp</code> mode.</li>
<li><strong>Reading into an Array</strong>: Reading all lines into an array.</li>
</ol>
</div><h2><p>Example: Reading Line by Line</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI8IiwgImlucHV0LnR4dCIpIG9yIGRpZSAiQ2Fubm90IG9wZW4gaW5wdXQudHh0OiAkISI7CndoaWxlIChteSAkbGluZSA9IDwkZmg+KSB7CiAgICBwcmludCAkbGluZTsKfQpjbG9zZSgkZmgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&lt;&quot;, &quot;input.txt&quot;) or die &quot;Cannot open input.txt: $!&quot;;
while (my $line = &lt;$fh&gt;) {
    print $line;
}
close($fh);</pre></div><div class='content'></div><h2><p>Example: Reading Entire File</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI8IiwgImlucHV0LnR4dCIpIG9yIGRpZSAiQ2Fubm90IG9wZW4gaW5wdXQudHh0OiAkISI7Cm15ICRjb250ZW50ID0gZG8geyBsb2NhbCAkLzsgPCRmaD4gfTsKcHJpbnQgJGNvbnRlbnQ7CmNsb3NlKCRmaCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&lt;&quot;, &quot;input.txt&quot;) or die &quot;Cannot open input.txt: $!&quot;;
my $content = do { local $/; &lt;$fh&gt; };
print $content;
close($fh);</pre></div><div class='content'></div><h2><p>Example: Reading into an Array</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI8IiwgImlucHV0LnR4dCIpIG9yIGRpZSAiQ2Fubm90IG9wZW4gaW5wdXQudHh0OiAkISI7Cm15IEBsaW5lcyA9IDwkZmg+Owpmb3JlYWNoIG15ICRsaW5lIChAbGluZXMpIHsKICAgIHByaW50ICRsaW5lOwp9CmNsb3NlKCRmaCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&lt;&quot;, &quot;input.txt&quot;) or die &quot;Cannot open input.txt: $!&quot;;
my @lines = &lt;$fh&gt;;
foreach my $line (@lines) {
    print $line;
}
close($fh);</pre></div><div class='content'></div><h1><p>Writing Files</p>
</h1>
<div class='content'><p>To write to a file, you can use the <code>print</code> function with the file handle.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI+IiwgIm91dHB1dC50eHQiKSBvciBkaWUgIkNhbm5vdCBvcGVuIG91dHB1dC50eHQ6ICQhIjsKcHJpbnQgJGZoICJIZWxsbywgV29ybGQhXG4iOwpjbG9zZSgkZmgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&gt;&quot;, &quot;output.txt&quot;) or die &quot;Cannot open output.txt: $!&quot;;
print $fh &quot;Hello, World!\n&quot;;
close($fh);</pre></div><div class='content'></div><h1><p>Closing Files</p>
</h1>
<div class='content'><p>Always close the file handle after completing file operations to free up system resources.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI8IiwgImlucHV0LnR4dCIpIG9yIGRpZSAiQ2Fubm90IG9wZW4gaW5wdXQudHh0OiAkISI7CiMgUGVyZm9ybSBmaWxlIG9wZXJhdGlvbnMKY2xvc2UoJGZoKSBvciBkaWUgIkNhbm5vdCBjbG9zZSBpbnB1dC50eHQ6ICQhIjs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&lt;&quot;, &quot;input.txt&quot;) or die &quot;Cannot open input.txt: $!&quot;;
# Perform file operations
close($fh) or die &quot;Cannot close input.txt: $!&quot;;</pre></div><div class='content'></div><h1><p>Error Handling</p>
</h1>
<div class='content'><p>Error handling is essential to manage issues that may arise during file operations. The <code>die</code> function is commonly used to handle errors.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI8IiwgIm5vbmV4aXN0ZW50LnR4dCIpIG9yIGRpZSAiQ2Fubm90IG9wZW4gbm9uZXhpc3RlbnQudHh0OiAkISI7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&lt;&quot;, &quot;nonexistent.txt&quot;) or die &quot;Cannot open nonexistent.txt: $!&quot;;</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Reading from a File</p>
</h2>
<div class='content'><p><strong>Task</strong>: Write a Perl script to read from a file named <code>data.txt</code> and print each line to the console.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI8IiwgImRhdGEudHh0Iikgb3IgZGllICJDYW5ub3Qgb3BlbiBkYXRhLnR4dDogJCEiOwp3aGlsZSAobXkgJGxpbmUgPSA8JGZoPikgewogICAgcHJpbnQgJGxpbmU7Cn0KY2xvc2UoJGZoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&lt;&quot;, &quot;data.txt&quot;) or die &quot;Cannot open data.txt: $!&quot;;
while (my $line = &lt;$fh&gt;) {
    print $line;
}
close($fh);</pre></div><div class='content'></div><h2><p>Exercise 2: Writing to a File</p>
</h2>
<div class='content'><p><strong>Task</strong>: Write a Perl script to write the numbers 1 to 10 to a file named <code>numbers.txt</code>.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICI+IiwgIm51bWJlcnMudHh0Iikgb3IgZGllICJDYW5ub3Qgb3BlbiBudW1iZXJzLnR4dDogJCEiOwpmb3IgbXkgJGkgKDEuLjEwKSB7CiAgICBwcmludCAkZmggIiRpXG4iOwp9CmNsb3NlKCRmaCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, &quot;&gt;&quot;, &quot;numbers.txt&quot;) or die &quot;Cannot open numbers.txt: $!&quot;;
for my $i (1..10) {
    print $fh &quot;$i\n&quot;;
}
close($fh);</pre></div><div class='content'></div><h2><p>Exercise 3: Appending to a File</p>
</h2>
<div class='content'><p><strong>Task</strong>: Write a Perl script to append the current date and time to a file named <code>log.txt</code>.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIFBPU0lYIHF3KHN0cmZ0aW1lKTsKCm9wZW4obXkgJGZoLCAiPj4iLCAibG9nLnR4dCIpIG9yIGRpZSAiQ2Fubm90IG9wZW4gbG9nLnR4dDogJCEiOwpteSAkZGF0ZSA9IHN0cmZ0aW1lICIlWS0lbS0lZCAlSDolTTolUyIsIGxvY2FsdGltZTsKcHJpbnQgJGZoICIkZGF0ZVxuIjsKY2xvc2UoJGZoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use POSIX qw(strftime);

open(my $fh, &quot;&gt;&gt;&quot;, &quot;log.txt&quot;) or die &quot;Cannot open log.txt: $!&quot;;
my $date = strftime &quot;%Y-%m-%d %H:%M:%S&quot;, localtime;
print $fh &quot;$date\n&quot;;
close($fh);</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Forgetting to close files</strong>: Always close your file handles to avoid resource leaks.</li>
<li><strong>Incorrect file modes</strong>: Ensure you use the correct mode (<code>&lt;</code>, <code>&gt;</code>, <code>&gt;&gt;</code>) for your file operations.</li>
<li><strong>Error handling</strong>: Always handle errors using <code>die</code> or other mechanisms to make your scripts more robust.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of file handling in Perl, including opening, reading, writing, and closing files. We also discussed error handling and provided practical exercises to reinforce the concepts. Understanding file handling is essential for many real-world applications, and mastering these basics will prepare you for more advanced topics in Perl programming.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-02-hashes' title="Hashes">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-04-regular-expressions' title="Regular Expressions">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
