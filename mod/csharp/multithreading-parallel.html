<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multithreading and Parallel Programming in C#</title>

    <link rel="alternate" href="https://campusempresa.com/mod/csharp/multithreading-parallel" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/csharp/multithreading-parallel" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/csharp/multithreading-parallel" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/csharp/multithreading-parallel" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/csharp/multithreading-parallel" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='memory-management'>&#x25C4;Memory Management and Garbage Collection</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Multithreading and Parallel Programming in C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='design-patterns'>Design Patterns &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Multithreading</h1>
<div class='content'><p>Multithreading is a technique where multiple threads are spawned by a process to execute tasks concurrently. This can significantly improve the performance of applications by making better use of system resources.</p>
<ul>
<li><strong>Thread</strong>: The smallest unit of processing that can be scheduled by an operating system.</li>
<li><strong>Process</strong>: A program in execution, which can contain multiple threads.</li>
</ul>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Concurrency</strong>: The ability to run multiple tasks or threads in overlapping periods.</li>
<li><strong>Parallelism</strong>: The ability to run multiple tasks or threads exactly at the same time, typically on multiple processors or cores.</li>
<li><strong>Thread Safety</strong>: Ensuring that shared data is accessed by only one thread at a time to prevent data corruption.</li>
</ul>
</div><h2>Basic Thread Operations</h2>
<div class='content'><p>In C#, the <code>System.Threading</code> namespace provides classes and methods to work with threads.</p>
<h4>Creating and Starting a Thread</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uVGhyZWFkaW5nOwoKY2xhc3MgUHJvZ3JhbQp7CiAgICBzdGF0aWMgdm9pZCBNYWluKCkKICAgIHsKICAgICAgICBUaHJlYWQgdGhyZWFkID0gbmV3IFRocmVhZChuZXcgVGhyZWFkU3RhcnQoRG9Xb3JrKSk7CiAgICAgICAgdGhyZWFkLlN0YXJ0KCk7CiAgICB9CgogICAgc3RhdGljIHZvaWQgRG9Xb3JrKCkKICAgIHsKICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiVGhyZWFkIGlzIHdvcmtpbmcuLi4iKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.Threading;

class Program
{
    static void Main()
    {
        Thread thread = new Thread(new ThreadStart(DoWork));
        thread.Start();
    }

    static void DoWork()
    {
        Console.WriteLine(&quot;Thread is working...&quot;);
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>ThreadStart</code> delegate points to the method to be executed by the thread.</li>
<li><code>thread.Start()</code> begins the execution of the thread.</li>
</ul>
</li>
</ul>
<h4>Joining a Thread</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGhyZWFkLkpvaW4oKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>thread.Join();</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>thread.Join()</code> blocks the calling thread until the thread represented by the <code>thread</code> object terminates.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Thread Management</h1>
<h2>Thread Synchronization</h2>
<div class='content'><p>To avoid race conditions and ensure thread safety, synchronization mechanisms are used.</p>
<h4>Lock Statement</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgb2JqZWN0IF9sb2NrID0gbmV3IG9iamVjdCgpOwoKc3RhdGljIHZvaWQgU2FmZU1ldGhvZCgpCnsKICAgIGxvY2sgKF9sb2NrKQogICAgewogICAgICAgIC8vIENyaXRpY2FsIHNlY3Rpb24KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>private static readonly object _lock = new object();

static void SafeMethod()
{
    lock (_lock)
    {
        // Critical section
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>lock</code> ensures that only one thread can enter the critical section at a time.</li>
</ul>
</li>
</ul>
<h4>Monitor Class</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TW9uaXRvci5FbnRlcihfbG9jayk7CnRyeQp7CiAgICAvLyBDcml0aWNhbCBzZWN0aW9uCn0KZmluYWxseQp7CiAgICBNb25pdG9yLkV4aXQoX2xvY2spOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Monitor.Enter(_lock);
try
{
    // Critical section
}
finally
{
    Monitor.Exit(_lock);
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>Monitor.Enter</code> and <code>Monitor.Exit</code> provide more control over the locking mechanism.</li>
</ul>
</li>
</ul>
</div><h2>Thread Pooling</h2>
<div class='content'><p>Thread pooling helps manage a collection of reusable threads, reducing the overhead of creating and destroying threads.</p>
<h4>Using ThreadPool</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VGhyZWFkUG9vbC5RdWV1ZVVzZXJXb3JrSXRlbShuZXcgV2FpdENhbGxiYWNrKERvV29yaykpOwoKc3RhdGljIHZvaWQgRG9Xb3JrKG9iamVjdCBzdGF0ZSkKewogICAgQ29uc29sZS5Xcml0ZUxpbmUoIlRocmVhZCBwb29sIHRocmVhZCBpcyB3b3JraW5nLi4uIik7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ThreadPool.QueueUserWorkItem(new WaitCallback(DoWork));

static void DoWork(object state)
{
    Console.WriteLine(&quot;Thread pool thread is working...&quot;);
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>ThreadPool.QueueUserWorkItem</code> queues a method for execution by a thread from the thread pool.</li>
</ul>
</li>
</ul>
</div><h1>Parallel Programming</h1>
<div class='content'><p>Parallel programming in C# is facilitated by the <code>System.Threading.Tasks</code> namespace, which provides the <code>Task</code> class and Parallel LINQ (PLINQ).</p>
</div><h2>Task Parallel Library (TPL)</h2>
<div class='content'><h4>Creating and Running Tasks</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VGFzayB0YXNrID0gVGFzay5SdW4oKCkgPT4gRG9Xb3JrKCkpOwoKc3RhdGljIHZvaWQgRG9Xb3JrKCkKewogICAgQ29uc29sZS5Xcml0ZUxpbmUoIlRhc2sgaXMgd29ya2luZy4uLiIpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Task task = Task.Run(() =&gt; DoWork());

static void DoWork()
{
    Console.WriteLine(&quot;Task is working...&quot;);
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>Task.Run</code> schedules the <code>DoWork</code> method to run on a thread pool thread.</li>
</ul>
</li>
</ul>
<h4>Waiting for Tasks</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGFzay5XYWl0KCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>task.Wait();</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>task.Wait()</code> blocks the calling thread until the task completes.</li>
</ul>
</li>
</ul>
</div><h2>Parallel Class</h2>
<div class='content'><p>The <code>Parallel</code> class provides methods for parallel execution of loops and regions of code.</p>
<h4>Parallel.For</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UGFyYWxsZWwuRm9yKDAsIDEwLCBpID0+CnsKICAgIENvbnNvbGUuV3JpdGVMaW5lKCQiUHJvY2Vzc2luZyB7aX0iKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Parallel.For(0, 10, i =&gt;
{
    Console.WriteLine($&quot;Processing {i}&quot;);
});</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>Parallel.For</code> executes iterations of the loop in parallel.</li>
</ul>
</li>
</ul>
<h4>Parallel.ForEach</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIGl0ZW1zID0gbmV3IExpc3Q8aW50PiB7IDEsIDIsIDMsIDQsIDUgfTsKUGFyYWxsZWwuRm9yRWFjaChpdGVtcywgaXRlbSA9Pgp7CiAgICBDb25zb2xlLldyaXRlTGluZSgkIlByb2Nlc3Npbmcge2l0ZW19Iik7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var items = new List&lt;int&gt; { 1, 2, 3, 4, 5 };
Parallel.ForEach(items, item =&gt;
{
    Console.WriteLine($&quot;Processing {item}&quot;);
});</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>Parallel.ForEach</code> executes iterations of the loop in parallel for each item in the collection.</li>
</ul>
</li>
</ul>
</div><h2>PLINQ (Parallel LINQ)</h2>
<div class='content'><p>PLINQ extends LINQ to support parallel processing.</p>
<h4>Using PLINQ</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIG51bWJlcnMgPSBFbnVtZXJhYmxlLlJhbmdlKDEsIDEwKTsKdmFyIHBhcmFsbGVsUXVlcnkgPSBudW1iZXJzLkFzUGFyYWxsZWwoKS5XaGVyZShuID0+IG4gJSAyID09IDApOwoKZm9yZWFjaCAodmFyIG51bWJlciBpbiBwYXJhbGxlbFF1ZXJ5KQp7CiAgICBDb25zb2xlLldyaXRlTGluZShudW1iZXIpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var numbers = Enumerable.Range(1, 10);
var parallelQuery = numbers.AsParallel().Where(n =&gt; n % 2 == 0);

foreach (var number in parallelQuery)
{
    Console.WriteLine(number);
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>AsParallel</code> enables parallel processing of the LINQ query.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Multithreading and parallel programming are powerful techniques to improve the performance and responsiveness of applications. By understanding and utilizing threads, synchronization mechanisms, thread pooling, and parallel programming constructs like TPL and PLINQ, developers can create efficient and scalable C# applications. Always remember to handle concurrency issues carefully to ensure thread safety and avoid race conditions.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='memory-management'>&#x25C4;Memory Management and Garbage Collection</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Multithreading and Parallel Programming in C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='design-patterns'>Design Patterns &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
