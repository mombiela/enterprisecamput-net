<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue 3 Composition API</title>

    <link rel="alternate" href="https://campusempresa.com/mod/vuejs/09-03-vue3-composition-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/vuejs/09-03-vue3-composition-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/vuejs/09-03-vue3-composition-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/vuejs/09-03-vue3-composition-api" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/vuejs/09-03-vue3-composition-api" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-ssr-nuxtjs' title="Server-Side Rendering (SSR) with Nuxt.js">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Vue 3 Composition API</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-performance-optimization' title="Performance Optimization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>The Composition API is a new feature introduced in Vue 3 that provides an alternative syntax for writing component logic. It aims to address the limitations of the Options API, especially when dealing with large components or code reuse. The Composition API allows you to organize and reuse code more effectively.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'></div><h2><ol>
<li>Setup Function</li>
</ol>
</h2>
<div class='content'><p>The <code>setup</code> function is the entry point of the Composition API. It is called before the component is created and serves as a place to define reactive state, lifecycle hooks, and other logic.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHNjcmlwdD4KaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cCgpIHsKICAgIGNvbnN0IGNvdW50ID0gcmVmKDApOwoKICAgIGZ1bmN0aW9uIGluY3JlbWVudCgpIHsKICAgICAgY291bnQudmFsdWUrKzsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBjb3VudCwKICAgICAgaW5jcmVtZW50CiAgICB9OwogIH0KfTsKPC9zY3JpcHQ+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;script&gt;
import { ref } from 'vue';

export default {
  setup() {
    const count = ref(0);

    function increment() {
      count.value++;
    }

    return {
      count,
      increment
    };
  }
};
&lt;/script&gt;</pre></div><div class='content'></div><h2><ol start="2">
<li>Reactive State</li>
</ol>
</h2>
<div class='content'><p>Reactive state can be created using <code>ref</code> and <code>reactive</code> functions.</p>
<ul>
<li><strong>ref</strong>: Creates a reactive reference to a primitive value.</li>
<li><strong>reactive</strong>: Creates a reactive object.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgcmVmLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCBjb3VudCA9IHJlZigwKTsKICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoewogICAgICBuYW1lOiAnVnVlLmpzJywKICAgICAgdmVyc2lvbjogMwogICAgfSk7CgogICAgcmV0dXJuIHsKICAgICAgY291bnQsCiAgICAgIHN0YXRlCiAgICB9OwogIH0KfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ref, reactive } from 'vue';

export default {
  setup() {
    const count = ref(0);
    const state = reactive({
      name: 'Vue.js',
      version: 3
    });

    return {
      count,
      state
    };
  }
};</pre></div><div class='content'></div><h2><ol start="3">
<li>Computed Properties</li>
</ol>
</h2>
<div class='content'><p>Computed properties can be created using the <code>computed</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCBjb3VudCA9IHJlZigwKTsKICAgIGNvbnN0IGRvdWJsZUNvdW50ID0gY29tcHV0ZWQoKCkgPT4gY291bnQudmFsdWUgKiAyKTsKCiAgICByZXR1cm4gewogICAgICBjb3VudCwKICAgICAgZG91YmxlQ291bnQKICAgIH07CiAgfQp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ref, computed } from 'vue';

export default {
  setup() {
    const count = ref(0);
    const doubleCount = computed(() =&gt; count.value * 2);

    return {
      count,
      doubleCount
    };
  }
};</pre></div><div class='content'></div><h2><ol start="4">
<li>Watchers</li>
</ol>
</h2>
<div class='content'><p>Watchers can be created using the <code>watch</code> function to perform side effects in response to reactive state changes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCBjb3VudCA9IHJlZigwKTsKCiAgICB3YXRjaChjb3VudCwgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4gewogICAgICBjb25zb2xlLmxvZyhgQ291bnQgY2hhbmdlZCBmcm9tICR7b2xkVmFsdWV9IHRvICR7bmV3VmFsdWV9YCk7CiAgICB9KTsKCiAgICByZXR1cm4gewogICAgICBjb3VudAogICAgfTsKICB9Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ref, watch } from 'vue';

export default {
  setup() {
    const count = ref(0);

    watch(count, (newValue, oldValue) =&gt; {
      console.log(`Count changed from ${oldValue} to ${newValue}`);
    });

    return {
      count
    };
  }
};</pre></div><div class='content'></div><h2><ol start="5">
<li>Lifecycle Hooks</li>
</ol>
</h2>
<div class='content'><p>Lifecycle hooks can be used within the <code>setup</code> function using their respective functions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgb25Nb3VudGVkLCBvblVubW91bnRlZCB9IGZyb20gJ3Z1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBjb25zb2xlLmxvZygnQ29tcG9uZW50IG1vdW50ZWQnKTsKICAgIH0pOwoKICAgIG9uVW5tb3VudGVkKCgpID0+IHsKICAgICAgY29uc29sZS5sb2coJ0NvbXBvbmVudCB1bm1vdW50ZWQnKTsKICAgIH0pOwoKICAgIHJldHVybiB7fTsKICB9Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { onMounted, onUnmounted } from 'vue';

export default {
  setup() {
    onMounted(() =&gt; {
      console.log('Component mounted');
    });

    onUnmounted(() =&gt; {
      console.log('Component unmounted');
    });

    return {};
  }
};</pre></div><div class='content'></div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a simple counter component using the Composition API.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHRlbXBsYXRlPgogIDxkaXY+CiAgICA8cD5Db3VudDoge3sgY291bnQgfX08L3A+CiAgICA8YnV0dG9uIEBjbGljaz0iaW5jcmVtZW50Ij5JbmNyZW1lbnQ8L2J1dHRvbj4KICA8L2Rpdj4KPC90ZW1wbGF0ZT4KCjxzY3JpcHQ+CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCBjb3VudCA9IHJlZigwKTsKCiAgICBmdW5jdGlvbiBpbmNyZW1lbnQoKSB7CiAgICAgIGNvdW50LnZhbHVlKys7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgY291bnQsCiAgICAgIGluY3JlbWVudAogICAgfTsKICB9Cn07Cjwvc2NyaXB0Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;Count: {{ count }}&lt;/p&gt;
    &lt;button @click=&quot;increment&quot;&gt;Increment&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from 'vue';

export default {
  setup() {
    const count = ref(0);

    function increment() {
      count.value++;
    }

    return {
      count,
      increment
    };
  }
};
&lt;/script&gt;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Template</strong>: Displays the count and a button to increment it.</li>
<li><strong>Setup Function</strong>: Initializes the <code>count</code> state using <code>ref</code> and defines the <code>increment</code> function.</li>
<li><strong>Return Object</strong>: Exposes <code>count</code> and <code>increment</code> to the template.</li>
</ul>
</div><h1><p>Exercise</p>
</h1>
<div class='content'><p>Create a Vue component using the Composition API that:</p>
<ol>
<li>Has a reactive state for a list of items.</li>
<li>Allows adding a new item to the list.</li>
<li>Displays the list of items.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHRlbXBsYXRlPgogIDxkaXY+CiAgICA8aW5wdXQgdi1tb2RlbD0ibmV3SXRlbSIgcGxhY2Vob2xkZXI9IkFkZCBhIG5ldyBpdGVtIiAvPgogICAgPGJ1dHRvbiBAY2xpY2s9ImFkZEl0ZW0iPkFkZCBJdGVtPC9idXR0b24+CiAgICA8dWw+CiAgICAgIDxsaSB2LWZvcj0iaXRlbSBpbiBpdGVtcyIgOmtleT0iaXRlbSI+e3sgaXRlbSB9fTwvbGk+CiAgICA8L3VsPgogIDwvZGl2Pgo8L3RlbXBsYXRlPgoKPHNjcmlwdD4KaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cCgpIHsKICAgIGNvbnN0IGl0ZW1zID0gcmVmKFtdKTsKICAgIGNvbnN0IG5ld0l0ZW0gPSByZWYoJycpOwoKICAgIGZ1bmN0aW9uIGFkZEl0ZW0oKSB7CiAgICAgIGlmIChuZXdJdGVtLnZhbHVlLnRyaW0oKSkgewogICAgICAgIGl0ZW1zLnZhbHVlLnB1c2gobmV3SXRlbS52YWx1ZSk7CiAgICAgICAgbmV3SXRlbS52YWx1ZSA9ICcnOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgaXRlbXMsCiAgICAgIG5ld0l0ZW0sCiAgICAgIGFkZEl0ZW0KICAgIH07CiAgfQp9Owo8L3NjcmlwdD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model=&quot;newItem&quot; placeholder=&quot;Add a new item&quot; /&gt;
    &lt;button @click=&quot;addItem&quot;&gt;Add Item&lt;/button&gt;
    &lt;ul&gt;
      &lt;li v-for=&quot;item in items&quot; :key=&quot;item&quot;&gt;{{ item }}&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from 'vue';

export default {
  setup() {
    const items = ref([]);
    const newItem = ref('');

    function addItem() {
      if (newItem.value.trim()) {
        items.value.push(newItem.value);
        newItem.value = '';
      }
    }

    return {
      items,
      newItem,
      addItem
    };
  }
};
&lt;/script&gt;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Template</strong>: Includes an input field for the new item, a button to add the item, and a list to display the items.</li>
<li><strong>Setup Function</strong>: Initializes <code>items</code> and <code>newItem</code> using <code>ref</code>, and defines the <code>addItem</code> function.</li>
<li><strong>Return Object</strong>: Exposes <code>items</code>, <code>newItem</code>, and <code>addItem</code> to the template.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>The Composition API in Vue 3 provides a flexible and powerful way to organize and reuse component logic. By using the <code>setup</code> function, reactive state, computed properties, watchers, and lifecycle hooks, you can create more maintainable and scalable Vue applications. This new API is especially useful for large components and complex logic, making your code cleaner and easier to understand.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-ssr-nuxtjs' title="Server-Side Rendering (SSR) with Nuxt.js">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-performance-optimization' title="Performance Optimization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
