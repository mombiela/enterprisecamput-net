<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Directives</title>

    <link rel="alternate" href="https://campusempresa.com/mod/vuejs/06-02-custom-directives" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/vuejs/06-02-custom-directives" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/vuejs/06-02-custom-directives" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/vuejs/06-02-custom-directives" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/vuejs/06-02-custom-directives" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-built-in-directives' title="Built-in Directives">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Custom Directives</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-using-vuejs-plugins' title="Using Vue.js Plugins">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore custom directives in Vue.js. Directives are special tokens in the markup that tell the library to do something to a DOM element. While Vue.js provides several built-in directives, there are times when you need to create your own custom directives to encapsulate reusable DOM manipulations.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>What are Directives?</strong></p>
<ul>
<li>Directives are special tokens in the markup that tell the library to do something to a DOM element.</li>
<li>Vue.js provides built-in directives like <code>v-if</code>, <code>v-for</code>, <code>v-bind</code>, etc.</li>
</ul>
</li>
<li>
<p><strong>Why Use Custom Directives?</strong></p>
<ul>
<li>Encapsulate reusable DOM manipulations.</li>
<li>Enhance code readability and maintainability.</li>
<li>Provide a way to directly manipulate the DOM when needed.</li>
</ul>
</li>
<li>
<p><strong>Creating a Custom Directive</strong></p>
<ul>
<li>Directives can be registered globally or locally.</li>
<li>Directives have lifecycle hooks similar to Vue components.</li>
</ul>
</li>
</ol>
</div><h1>Creating a Custom Directive</h1>
<div class='content'></div><h2>Global Registration</h2>
<div class='content'><p>To register a custom directive globally, you use the <code>Vue.directive</code> method. Here’s an example of a simple custom directive that changes the background color of an element:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWFpbi5qcwpWdWUuZGlyZWN0aXZlKCdoaWdobGlnaHQnLCB7CiAgYmluZChlbCwgYmluZGluZykgewogICAgZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmluZGluZy52YWx1ZTsKICB9Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// main.js
Vue.directive('highlight', {
  bind(el, binding) {
    el.style.backgroundColor = binding.value;
  }
});</pre></div><div class='content'></div><h2>Local Registration</h2>
<div class='content'><p>To register a custom directive locally within a component, you use the <code>directives</code> option in the component definition:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTXlDb21wb25lbnQudnVlCjx0ZW1wbGF0ZT4KICA8ZGl2IHYtaGlnaGxpZ2h0PSIneWVsbG93JyI+SGlnaGxpZ2h0IG1lITwvZGl2Pgo8L3RlbXBsYXRlPgoKPHNjcmlwdD4KZXhwb3J0IGRlZmF1bHQgewogIGRpcmVjdGl2ZXM6IHsKICAgIGhpZ2hsaWdodDogewogICAgICBiaW5kKGVsLCBiaW5kaW5nKSB7CiAgICAgICAgZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmluZGluZy52YWx1ZTsKICAgICAgfQogICAgfQogIH0KfTsKPC9zY3JpcHQ+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// MyComponent.vue
&lt;template&gt;
  &lt;div v-highlight=&quot;'yellow'&quot;&gt;Highlight me!&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  directives: {
    highlight: {
      bind(el, binding) {
        el.style.backgroundColor = binding.value;
      }
    }
  }
};
&lt;/script&gt;</pre></div><div class='content'></div><h2>Directive Lifecycle Hooks</h2>
<div class='content'><p>Custom directives have several lifecycle hooks:</p>
<ul>
<li><code>bind</code>: Called only once, when the directive is first bound to the element.</li>
<li><code>inserted</code>: Called when the bound element has been inserted into its parent node.</li>
<li><code>update</code>: Called whenever the bound element's containing component is updated.</li>
<li><code>componentUpdated</code>: Called after the containing component and its children have updated.</li>
<li><code>unbind</code>: Called only once, when the directive is unbound from the element.</li>
</ul>
</div><h2>Example: Custom Tooltip Directive</h2>
<div class='content'><p>Let's create a custom directive that shows a tooltip when the user hovers over an element.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWFpbi5qcwpWdWUuZGlyZWN0aXZlKCd0b29sdGlwJywgewogIGJpbmQoZWwsIGJpbmRpbmcpIHsKICAgIGxldCB0b29sdGlwVGV4dCA9IGJpbmRpbmcudmFsdWU7CiAgICBsZXQgdG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICB0b29sdGlwRWxlbWVudC5jbGFzc05hbWUgPSAndG9vbHRpcCc7CiAgICB0b29sdGlwRWxlbWVudC5pbm5lclRleHQgPSB0b29sdGlwVGV4dDsKICAgIGVsLmFwcGVuZENoaWxkKHRvb2x0aXBFbGVtZW50KTsKICAgIGVsLm9ubW91c2VvdmVyID0gKCkgPT4gewogICAgICB0b29sdGlwRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7CiAgICB9OwogICAgZWwub25tb3VzZW91dCA9ICgpID0+IHsKICAgICAgdG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH07CiAgfQp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// main.js
Vue.directive('tooltip', {
  bind(el, binding) {
    let tooltipText = binding.value;
    let tooltipElement = document.createElement('span');
    tooltipElement.className = 'tooltip';
    tooltipElement.innerText = tooltipText;
    el.appendChild(tooltipElement);
    el.onmouseover = () =&gt; {
      tooltipElement.style.display = 'inline';
    };
    el.onmouseout = () =&gt; {
      tooltipElement.style.display = 'none';
    };
  }
});</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBpbmRleC5odG1sIC0tPgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgogIDxzdHlsZT4KICAgIC50b29sdGlwIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOwogICAgICBjb2xvcjogI2ZmZjsKICAgICAgcGFkZGluZzogNXB4OwogICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICB9CiAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICA8ZGl2IGlkPSJhcHAiPgogICAgPGJ1dHRvbiB2LXRvb2x0aXA9IidUaGlzIGlzIGEgdG9vbHRpcCciPkhvdmVyIG1lITwvYnV0dG9uPgogIDwvZGl2PgogIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3Z1ZUAyIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0ibWFpbi5qcyI+PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;style&gt;
    .tooltip {
      display: none;
      position: absolute;
      background-color: #333;
      color: #fff;
      padding: 5px;
      border-radius: 5px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;button v-tooltip=&quot;'This is a tooltip'&quot;&gt;Hover me!&lt;/button&gt;
  &lt;/div&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Create a Custom Directive for Text Transformation</h2>
<div class='content'><p><strong>Objective:</strong> Create a custom directive that transforms the text content of an element to uppercase.</p>
<p><strong>Steps:</strong></p>
<ol>
<li>Register a custom directive named <code>v-uppercase</code>.</li>
<li>In the <code>bind</code> hook, transform the text content of the element to uppercase.</li>
<li>Use the directive in a Vue component.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWFpbi5qcwpWdWUuZGlyZWN0aXZlKCd1cHBlcmNhc2UnLCB7CiAgYmluZChlbCkgewogICAgZWwuc3R5bGUudGV4dFRyYW5zZm9ybSA9ICd1cHBlcmNhc2UnOwogIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// main.js
Vue.directive('uppercase', {
  bind(el) {
    el.style.textTransform = 'uppercase';
  }
});</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBpbmRleC5odG1sIC0tPgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgo8L2hlYWQ+Cjxib2R5PgogIDxkaXYgaWQ9ImFwcCI+CiAgICA8cCB2LXVwcGVyY2FzZT5UaGlzIHRleHQgc2hvdWxkIGJlIHVwcGVyY2FzZS48L3A+CiAgPC9kaXY+CiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vdnVlQDIiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSJtYWluLmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;p v-uppercase&gt;This text should be uppercase.&lt;/p&gt;
  &lt;/div&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li>
<p><strong>Mistake:</strong> Forgetting to clean up in the <code>unbind</code> hook.</p>
<ul>
<li><strong>Tip:</strong> Always ensure you clean up any event listeners or DOM manipulations in the <code>unbind</code> hook to avoid memory leaks.</li>
</ul>
</li>
<li>
<p><strong>Mistake:</strong> Not considering reactivity.</p>
<ul>
<li><strong>Tip:</strong> Ensure your directive handles updates correctly by using the <code>update</code> hook if the directive's behavior depends on reactive data.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Custom directives in Vue.js provide a powerful way to encapsulate and reuse DOM manipulations. By understanding how to create and use custom directives, you can enhance the functionality and maintainability of your Vue applications. In the next module, we will dive into Vue.js plugins, which allow you to extend Vue's capabilities even further.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-built-in-directives' title="Built-in Directives">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-using-vuejs-plugins' title="Using Vue.js Plugins">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
