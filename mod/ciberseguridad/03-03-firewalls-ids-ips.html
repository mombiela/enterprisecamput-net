<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firewalls and Intrusion Detection Systems (IDS/IPS)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ciberseguridad/03-03-firewalls-ids-ips" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ciberseguridad/03-03-firewalls-ids-ips" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ciberseguridad/03-03-firewalls-ids-ips" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ciberseguridad/03-03-firewalls-ids-ips" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ciberseguridad/03-03-firewalls-ids-ips" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-security-protocols' title="Network Security Protocols">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Firewalls and Intrusion Detection Systems (IDS/IPS)</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-operating-system-security' title="Operating System Security">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will delve into the essential components of network security: Firewalls and Intrusion Detection/Prevention Systems (IDS/IPS). These tools are crucial for protecting networks from unauthorized access and cyber threats.</p>
</div><h1>Firewalls</h1>
<div class='content'></div><h2>What is a Firewall?</h2>
<div class='content'><p>A firewall is a network security device that monitors and controls incoming and outgoing network traffic based on predetermined security rules. It acts as a barrier between a trusted internal network and untrusted external networks, such as the internet.</p>
</div><h2>Types of Firewalls</h2>
<div class='content'><ol>
<li>
<p><strong>Packet-Filtering Firewalls</strong>:</p>
<ul>
<li><strong>Function</strong>: Inspect packets and allow or block them based on source and destination IP addresses, ports, or protocols.</li>
<li><strong>Example</strong>: Access Control Lists (ACLs) on routers.</li>
</ul>
</li>
<li>
<p><strong>Stateful Inspection Firewalls</strong>:</p>
<ul>
<li><strong>Function</strong>: Monitor the state of active connections and make decisions based on the context of the traffic.</li>
<li><strong>Example</strong>: Cisco ASA (Adaptive Security Appliance).</li>
</ul>
</li>
<li>
<p><strong>Proxy Firewalls</strong>:</p>
<ul>
<li><strong>Function</strong>: Act as an intermediary between end-users and the internet, filtering requests and responses.</li>
<li><strong>Example</strong>: Squid Proxy.</li>
</ul>
</li>
<li>
<p><strong>Next-Generation Firewalls (NGFW)</strong>:</p>
<ul>
<li><strong>Function</strong>: Combine traditional firewall capabilities with additional features like application awareness, integrated intrusion prevention, and cloud-delivered threat intelligence.</li>
<li><strong>Example</strong>: Palo Alto Networks NGFW.</li>
</ul>
</li>
</ol>
</div><h2>Firewall Configuration Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG9mIGEgYmFzaWMgZmlyZXdhbGwgcnVsZSBzZXQgdXNpbmcgaXB0YWJsZXMgKExpbnV4KQoKIyBBbGxvdyBhbGwgdHJhZmZpYyBvbiB0aGUgbG9vcGJhY2sgaW50ZXJmYWNlCmlwdGFibGVzIC1BIElOUFVUIC1pIGxvIC1qIEFDQ0VQVAoKIyBBbGxvdyBlc3RhYmxpc2hlZCBhbmQgcmVsYXRlZCBjb25uZWN0aW9ucwppcHRhYmxlcyAtQSBJTlBVVCAtbSBzdGF0ZSAtLXN0YXRlIEVTVEFCTElTSEVELFJFTEFURUQgLWogQUNDRVBUCgojIEFsbG93IFNTSCAocG9ydCAyMikgZnJvbSBhIHNwZWNpZmljIElQIGFkZHJlc3MKaXB0YWJsZXMgLUEgSU5QVVQgLXAgdGNwIC1zIDE5Mi4xNjguMS4xMDAgLS1kcG9ydCAyMiAtaiBBQ0NFUFQKCiMgRHJvcCBhbGwgb3RoZXIgaW5jb21pbmcgdHJhZmZpYwppcHRhYmxlcyAtQSBJTlBVVCAtaiBEUk9Q"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example of a basic firewall rule set using iptables (Linux)

# Allow all traffic on the loopback interface
iptables -A INPUT -i lo -j ACCEPT

# Allow established and related connections
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# Allow SSH (port 22) from a specific IP address
iptables -A INPUT -p tcp -s 192.168.1.100 --dport 22 -j ACCEPT

# Drop all other incoming traffic
iptables -A INPUT -j DROP</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Line 1</strong>: Allows all traffic on the loopback interface (localhost).</li>
<li><strong>Line 2</strong>: Permits traffic for established and related connections.</li>
<li><strong>Line 3</strong>: Allows SSH traffic from a specific IP address.</li>
<li><strong>Line 4</strong>: Drops all other incoming traffic.</li>
</ul>
</div><h1>Intrusion Detection Systems (IDS)</h1>
<div class='content'></div><h2>What is an IDS?</h2>
<div class='content'><p>An Intrusion Detection System (IDS) is a device or software application that monitors network or system activities for malicious activities or policy violations. It can be classified into two main types:</p>
<ol>
<li>
<p><strong>Network-based IDS (NIDS)</strong>:</p>
<ul>
<li><strong>Function</strong>: Monitors network traffic for suspicious activity.</li>
<li><strong>Example</strong>: Snort.</li>
</ul>
</li>
<li>
<p><strong>Host-based IDS (HIDS)</strong>:</p>
<ul>
<li><strong>Function</strong>: Monitors the activities on a specific host or device.</li>
<li><strong>Example</strong>: OSSEC.</li>
</ul>
</li>
</ol>
</div><h2>IDS Configuration Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG9mIGEgYmFzaWMgU25vcnQgY29uZmlndXJhdGlvbgoKIyBEZWZpbmUgdGhlIG5ldHdvcmsgdmFyaWFibGVzCnZhciBIT01FX05FVCAxOTIuMTY4LjEuMC8yNAp2YXIgRVhURVJOQUxfTkVUIGFueQoKIyBJbmNsdWRlIHRoZSBydWxlIHNldHMKaW5jbHVkZSAkUlVMRV9QQVRIL2xvY2FsLnJ1bGVzCmluY2x1ZGUgJFJVTEVfUEFUSC9jb21tdW5pdHkucnVsZXMKCiMgQ29uZmlndXJlIHRoZSBvdXRwdXQgcGx1Z2luCm91dHB1dCBhbGVydF9mYXN0OiBzdGRvdXQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example of a basic Snort configuration

# Define the network variables
var HOME_NET 192.168.1.0/24
var EXTERNAL_NET any

# Include the rule sets
include $RULE_PATH/local.rules
include $RULE_PATH/community.rules

# Configure the output plugin
output alert_fast: stdout</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>HOME_NET</strong>: Defines the internal network to be monitored.</li>
<li><strong>EXTERNAL_NET</strong>: Defines external networks (any in this case).</li>
<li><strong>include</strong>: Includes rule sets for detecting suspicious activities.</li>
<li><strong>output</strong>: Configures the output format for alerts.</li>
</ul>
</div><h1>Intrusion Prevention Systems (IPS)</h1>
<div class='content'></div><h2>What is an IPS?</h2>
<div class='content'><p>An Intrusion Prevention System (IPS) is similar to an IDS but with the added capability to take action to prevent detected threats. It can block or reject malicious traffic based on predefined rules.</p>
</div><h2>IDS vs. IPS</h2>
<div class='content'><table>
<thead>
<tr>
<th>Feature</th>
<th>IDS</th>
<th>IPS</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Function</strong></td>
<td>Detects and alerts</td>
<td>Detects and prevents</td>
</tr>
<tr>
<td><strong>Action</strong></td>
<td>Passive (alerts only)</td>
<td>Active (blocks/rejects)</td>
</tr>
<tr>
<td><strong>Placement</strong></td>
<td>Inside the network</td>
<td>Inline with network traffic</td>
</tr>
<tr>
<td><strong>Response Time</strong></td>
<td>Post-event analysis</td>
<td>Real-time prevention</td>
</tr>
</tbody>
</table>
</div><h2>IPS Configuration Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG9mIGEgYmFzaWMgU3VyaWNhdGEgSVBTIGNvbmZpZ3VyYXRpb24KCiMgRGVmaW5lIHRoZSBuZXR3b3JrIHZhcmlhYmxlcwpIT01FX05FVDogIlsxOTIuMTY4LjEuMC8yNF0iCkVYVEVSTkFMX05FVDogIiEkSE9NRV9ORVQiCgojIEluY2x1ZGUgdGhlIHJ1bGUgc2V0cwpydWxlLWZpbGVzOgogIC0gbG9jYWwucnVsZXMKICAtIGNvbW11bml0eS5ydWxlcwoKIyBDb25maWd1cmUgdGhlIG91dHB1dCBwbHVnaW4Kb3V0cHV0czoKICAtIGZhc3Q6CiAgICAgIGVuYWJsZWQ6IHllcwogICAgICBmaWxlbmFtZTogZmFzdC5sb2c="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example of a basic Suricata IPS configuration

# Define the network variables
HOME_NET: &quot;[192.168.1.0/24]&quot;
EXTERNAL_NET: &quot;!$HOME_NET&quot;

# Include the rule sets
rule-files:
  - local.rules
  - community.rules

# Configure the output plugin
outputs:
  - fast:
      enabled: yes
      filename: fast.log</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>HOME_NET</strong>: Defines the internal network to be protected.</li>
<li><strong>EXTERNAL_NET</strong>: Defines external networks (excluding HOME_NET).</li>
<li><strong>rule-files</strong>: Includes rule sets for detecting and preventing threats.</li>
<li><strong>outputs</strong>: Configures the output format for logs.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Configuring a Basic Firewall</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Configure a basic firewall using <code>iptables</code> to allow HTTP (port 80) and HTTPS (port 443) traffic, and block all other incoming traffic.</li>
<li><strong>Steps</strong>:
<ul>
<li>Allow all traffic on the loopback interface.</li>
<li>Allow established and related connections.</li>
<li>Allow HTTP and HTTPS traffic.</li>
<li>Drop all other incoming traffic.</li>
</ul>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBbGxvdyBhbGwgdHJhZmZpYyBvbiB0aGUgbG9vcGJhY2sgaW50ZXJmYWNlCmlwdGFibGVzIC1BIElOUFVUIC1pIGxvIC1qIEFDQ0VQVAoKIyBBbGxvdyBlc3RhYmxpc2hlZCBhbmQgcmVsYXRlZCBjb25uZWN0aW9ucwppcHRhYmxlcyAtQSBJTlBVVCAtbSBzdGF0ZSAtLXN0YXRlIEVTVEFCTElTSEVELFJFTEFURUQgLWogQUNDRVBUCgojIEFsbG93IEhUVFAgKHBvcnQgODApIHRyYWZmaWMKaXB0YWJsZXMgLUEgSU5QVVQgLXAgdGNwIC0tZHBvcnQgODAgLWogQUNDRVBUCgojIEFsbG93IEhUVFBTIChwb3J0IDQ0MykgdHJhZmZpYwppcHRhYmxlcyAtQSBJTlBVVCAtcCB0Y3AgLS1kcG9ydCA0NDMgLWogQUNDRVBUCgojIERyb3AgYWxsIG90aGVyIGluY29taW5nIHRyYWZmaWMKaXB0YWJsZXMgLUEgSU5QVVQgLWogRFJPUA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Allow all traffic on the loopback interface
iptables -A INPUT -i lo -j ACCEPT

# Allow established and related connections
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# Allow HTTP (port 80) traffic
iptables -A INPUT -p tcp --dport 80 -j ACCEPT

# Allow HTTPS (port 443) traffic
iptables -A INPUT -p tcp --dport 443 -j ACCEPT

# Drop all other incoming traffic
iptables -A INPUT -j DROP</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Line 1</strong>: Allows all traffic on the loopback interface.</li>
<li><strong>Line 2</strong>: Permits traffic for established and related connections.</li>
<li><strong>Line 3</strong>: Allows HTTP traffic.</li>
<li><strong>Line 4</strong>: Allows HTTPS traffic.</li>
<li><strong>Line 5</strong>: Drops all other incoming traffic.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Mistake</strong>: Forgetting to allow established and related connections.
<ul>
<li><strong>Tip</strong>: Always include a rule to allow established and related connections to avoid breaking existing connections.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Misconfiguring network variables in IDS/IPS.
<ul>
<li><strong>Tip</strong>: Double-check network variable definitions to ensure accurate monitoring and protection.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the fundamentals of firewalls and IDS/IPS, including their types, configurations, and practical examples. Understanding these tools is crucial for securing networks and preventing unauthorized access. In the next module, we will explore system and application security to further enhance our cybersecurity knowledge.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-security-protocols' title="Network Security Protocols">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-operating-system-security' title="Operating System Security">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
