<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macros and Conditional Assembly</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/macros-and-conditional-assembly" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/macros-and-conditional-assembly" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/macros-and-conditional-assembly" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/assembly/macros-and-conditional-assembly" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/assembly/macros-and-conditional-assembly" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='addressing-modes'>&#x25C4;Addressing Modes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Macros and Conditional Assembly</a>
	</div>
	<div class='col-4 text-end'>
					<a href='inline-assembly-in-high-level-languages'>Inline Assembly in High-Level Languages &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Macros</h1>
<div class='content'><p>Macros in assembly language are a powerful feature that allows you to define a sequence of instructions that can be reused multiple times throughout your code. They help in reducing code duplication and improving readability.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A macro is defined using the <code>MACRO</code> and <code>ENDM</code> directives.</li>
<li><strong>Invocation</strong>: Once defined, a macro can be invoked by simply using its name.</li>
<li><strong>Parameters</strong>: Macros can accept parameters to make them more flexible.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBEZWZpbmUgYSBtYWNybyB0byBhZGQgdHdvIG51bWJlcnMKQUREX05VTUJFUlMgTUFDUk8gbnVtMSwgbnVtMgogICAgTU9WIEFYLCBudW0xCiAgICBBREQgQVgsIG51bTIKRU5ETQoKOyBVc2UgdGhlIG1hY3JvCkFERF9OVU1CRVJTIDUsIDEw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Define a macro to add two numbers
ADD_NUMBERS MACRO num1, num2
    MOV AX, num1
    ADD AX, num2
ENDM

; Use the macro
ADD_NUMBERS 5, 10</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>ADD_NUMBERS</code> macro takes two parameters, <code>num1</code> and <code>num2</code>.</li>
<li>When invoked, it moves <code>num1</code> into the AX register and adds <code>num2</code> to AX.</li>
</ul>
</div><h1>Advanced Macro Features</h1>
<div class='content'><p>Macros can also include conditional logic and loops to make them even more powerful.</p>
</div><h2>Conditional Logic in Macros</h2>
<div class='content'><p>You can use conditional assembly directives within macros to include or exclude code based on certain conditions.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBEZWZpbmUgYSBtYWNybyB3aXRoIGNvbmRpdGlvbmFsIGxvZ2ljCkNIRUNLX1BPU0lUSVZFIE1BQ1JPIG51bQogICAgSUYgbnVtIEdUIDAKICAgICAgICBNT1YgQVgsIG51bQogICAgRUxTRQogICAgICAgIE1PViBBWCwgMAogICAgRU5ESUYKRU5ETQoKOyBVc2UgdGhlIG1hY3JvCkNIRUNLX1BPU0lUSVZFIDUKQ0hFQ0tfUE9TSVRJVkUgLTM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Define a macro with conditional logic
CHECK_POSITIVE MACRO num
    IF num GT 0
        MOV AX, num
    ELSE
        MOV AX, 0
    ENDIF
ENDM

; Use the macro
CHECK_POSITIVE 5
CHECK_POSITIVE -3</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>CHECK_POSITIVE</code> macro checks if the number is greater than 0.</li>
<li>If true, it moves the number into the AX register; otherwise, it moves 0 into AX.</li>
</ul>
</div><h1>Introduction to Conditional Assembly</h1>
<div class='content'><p>Conditional assembly allows you to include or exclude parts of your code based on certain conditions. This is useful for creating code that can be compiled in different environments or configurations.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Directives</strong>: Common conditional assembly directives include <code>IF</code>, <code>ELSE</code>, <code>ENDIF</code>, <code>IFDEF</code>, and <code>IFNDEF</code>.</li>
<li><strong>Usage</strong>: These directives are used to control the assembly process based on conditions.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBEZWZpbmUgYSBjb25zdGFudApERUJVRyBFUVUgMQoKOyBVc2UgY29uZGl0aW9uYWwgYXNzZW1ibHkKSUYgREVCVUcKICAgIE1PViBBWCwgMHgxMjM0CiAgICA7IERlYnVnZ2luZyBjb2RlIGhlcmUKRUxTRQogICAgTU9WIEFYLCAweDU2NzgKICAgIDsgUHJvZHVjdGlvbiBjb2RlIGhlcmUKRU5ESUY="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Define a constant
DEBUG EQU 1

; Use conditional assembly
IF DEBUG
    MOV AX, 0x1234
    ; Debugging code here
ELSE
    MOV AX, 0x5678
    ; Production code here
ENDIF</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>DEBUG</code> constant is defined with a value of 1.</li>
<li>The <code>IF</code> directive checks the value of <code>DEBUG</code> and includes the corresponding block of code.</li>
</ul>
</div><h1>Combining Macros and Conditional Assembly</h1>
<div class='content'><p>You can combine macros and conditional assembly to create highly flexible and reusable code.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBEZWZpbmUgYSBtYWNybyB3aXRoIGNvbmRpdGlvbmFsIGFzc2VtYmx5CkRFQlVHX1BSSU5UIE1BQ1JPIG1zZwogICAgSUYgREVCVUcKICAgICAgICA7IFNpbXVsYXRlIHByaW50aW5nIGEgZGVidWcgbWVzc2FnZQogICAgICAgIE1PViBBWCwgbXNnCiAgICBFTkRJRgpFTkRNCgo7IFVzZSB0aGUgbWFjcm8KREVCVUdfUFJJTlQgIkRlYnVnZ2luZyBlbmFibGVkIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Define a macro with conditional assembly
DEBUG_PRINT MACRO msg
    IF DEBUG
        ; Simulate printing a debug message
        MOV AX, msg
    ENDIF
ENDM

; Use the macro
DEBUG_PRINT &quot;Debugging enabled&quot;</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>DEBUG_PRINT</code> macro uses conditional assembly to include the debug message only if <code>DEBUG</code> is defined.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Macros and conditional assembly are essential tools in assembly language programming. They help in:</p>
<ul>
<li>Reducing code duplication.</li>
<li>Improving code readability and maintainability.</li>
<li>Creating flexible and configurable code.</li>
</ul>
<p>By mastering these concepts, you can write more efficient and adaptable assembly programs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='addressing-modes'>&#x25C4;Addressing Modes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Macros and Conditional Assembly</a>
	</div>
	<div class='col-4 text-end'>
					<a href='inline-assembly-in-high-level-languages'>Inline Assembly in High-Level Languages &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
