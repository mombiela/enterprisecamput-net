<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Stack Operations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/04-04-stack-operations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/04-04-stack-operations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/04-04-stack-operations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/assembly/04-04-stack-operations" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/assembly/04-04-stack-operations" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<!-- <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

			</div>
		</div>
	</div>
</div>
 -->
 
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-subroutines-procedures' title="Subroutines and Procedures">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Stack Operations</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-interrupts-system-calls' title="Interrupts and System Calls">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the concept of stack operations in Assembly language. The stack is a fundamental data structure used in programming, particularly in low-level languages like Assembly. Understanding how to manipulate the stack is crucial for tasks such as function calls, local variable storage, and interrupt handling.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Stack Basics</strong>:</p>
<ul>
<li>The stack is a Last-In-First-Out (LIFO) data structure.</li>
<li>It operates on two primary operations: <code>PUSH</code> (to add an item) and <code>POP</code> (to remove an item).</li>
</ul>
</li>
<li>
<p><strong>Stack Pointer (SP)</strong>:</p>
<ul>
<li>The Stack Pointer (SP) is a special register that points to the top of the stack.</li>
<li>It is automatically updated when <code>PUSH</code> and <code>POP</code> operations are performed.</li>
</ul>
</li>
<li>
<p><strong>Stack Frame</strong>:</p>
<ul>
<li>A stack frame is a section of the stack that contains data for a single function call, including local variables, return addresses, and saved registers.</li>
</ul>
</li>
</ol>
</div><h1>Basic Stack Operations</h1>
<div class='content'></div><h2>PUSH Operation</h2>
<div class='content'><p>The <code>PUSH</code> instruction adds a value to the top of the stack and decrements the stack pointer.</p>
<p><strong>Syntax</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVTSCA8c291cmNlPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUSH &lt;source&gt;</pre></div><div class='content'><p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TU9WIEFYLCA1ICAgICAgOyBNb3ZlIHRoZSB2YWx1ZSA1IGludG8gcmVnaXN0ZXIgQVgKUFVTSCBBWCAgICAgICAgOyBQdXNoIHRoZSB2YWx1ZSBvZiBBWCBvbnRvIHRoZSBzdGFjaw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MOV AX, 5      ; Move the value 5 into register AX
PUSH AX        ; Push the value of AX onto the stack</pre></div><div class='content'></div><h2>POP Operation</h2>
<div class='content'><p>The <code>POP</code> instruction removes the value from the top of the stack and increments the stack pointer.</p>
<p><strong>Syntax</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9QIDxkZXN0aW5hdGlvbj4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POP &lt;destination&gt;</pre></div><div class='content'><p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9QIEJYICAgICAgICAgOyBQb3AgdGhlIHRvcCB2YWx1ZSBmcm9tIHRoZSBzdGFjayBpbnRvIHJlZ2lzdGVyIEJY"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POP BX         ; Pop the top value from the stack into register BX</pre></div><div class='content'></div><h2>Practical Example</h2>
<div class='content'><p>Let's write a simple program that demonstrates the use of <code>PUSH</code> and <code>POP</code> instructions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbWVzc2FnZSBkYiAnU3RhY2sgT3BlcmF0aW9ucyBFeGFtcGxlJywgMAoKc2VjdGlvbiAuYnNzCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICA7IEluaXRpYWxpemUgZGF0YQogICAgTU9WIEFYLCAxMAogICAgTU9WIEJYLCAyMAoKICAgIDsgUHVzaCB2YWx1ZXMgb250byB0aGUgc3RhY2sKICAgIFBVU0ggQVgKICAgIFBVU0ggQlgKCiAgICA7IFBvcCB2YWx1ZXMgZnJvbSB0aGUgc3RhY2sKICAgIFBPUCBDWAogICAgUE9QIERYCgogICAgOyBFeGl0IHByb2dyYW0KICAgIE1PViBFQVgsIDEgICAgICAgICAgOyBzeXNjYWxsIG51bWJlciBmb3IgZXhpdAogICAgWE9SIEVCWCwgRUJYICAgICAgICA7IGV4aXQgY29kZSAwCiAgICBJTlQgMHg4MCAgICAgICAgICAgIDsgY2FsbCBrZXJuZWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    message db 'Stack Operations Example', 0

section .bss

section .text
    global _start

_start:
    ; Initialize data
    MOV AX, 10
    MOV BX, 20

    ; Push values onto the stack
    PUSH AX
    PUSH BX

    ; Pop values from the stack
    POP CX
    POP DX

    ; Exit program
    MOV EAX, 1          ; syscall number for exit
    XOR EBX, EBX        ; exit code 0
    INT 0x80            ; call kernel</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li>
<p><strong>Initialization</strong>:</p>
<ul>
<li><code>MOV AX, 10</code> and <code>MOV BX, 20</code> initialize registers AX and BX with values 10 and 20, respectively.</li>
</ul>
</li>
<li>
<p><strong>PUSH Operations</strong>:</p>
<ul>
<li><code>PUSH AX</code> pushes the value of AX (10) onto the stack.</li>
<li><code>PUSH BX</code> pushes the value of BX (20) onto the stack.</li>
</ul>
</li>
<li>
<p><strong>POP Operations</strong>:</p>
<ul>
<li><code>POP CX</code> pops the top value from the stack (20) into register CX.</li>
<li><code>POP DX</code> pops the next value from the stack (10) into register DX.</li>
</ul>
</li>
<li>
<p><strong>Exit Program</strong>:</p>
<ul>
<li>The program exits by making a system call with <code>MOV EAX, 1</code> and <code>INT 0x80</code>.</li>
</ul>
</li>
</ol>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Basic Stack Operations</h2>
<div class='content'><p><strong>Task</strong>: Write an Assembly program that pushes three values onto the stack and then pops them into different registers.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAudGV4dAogICAgZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgOyBJbml0aWFsaXplIGRhdGEKICAgIE1PViBBWCwgMQogICAgTU9WIEJYLCAyCiAgICBNT1YgQ1gsIDMKCiAgICA7IFB1c2ggdmFsdWVzIG9udG8gdGhlIHN0YWNrCiAgICBQVVNIIEFYCiAgICBQVVNIIEJYCiAgICBQVVNIIENYCgogICAgOyBQb3AgdmFsdWVzIGZyb20gdGhlIHN0YWNrCiAgICBQT1AgRFgKICAgIFBPUCBTSQogICAgUE9QIERJCgogICAgOyBFeGl0IHByb2dyYW0KICAgIE1PViBFQVgsIDEgICAgICAgICAgOyBzeXNjYWxsIG51bWJlciBmb3IgZXhpdAogICAgWE9SIEVCWCwgRUJYICAgICAgICA7IGV4aXQgY29kZSAwCiAgICBJTlQgMHg4MCAgICAgICAgICAgIDsgY2FsbCBrZXJuZWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .text
    global _start

_start:
    ; Initialize data
    MOV AX, 1
    MOV BX, 2
    MOV CX, 3

    ; Push values onto the stack
    PUSH AX
    PUSH BX
    PUSH CX

    ; Pop values from the stack
    POP DX
    POP SI
    POP DI

    ; Exit program
    MOV EAX, 1          ; syscall number for exit
    XOR EBX, EBX        ; exit code 0
    INT 0x80            ; call kernel</pre></div><div class='content'></div><h2>Exercise 2: Stack Frame</h2>
<div class='content'><p><strong>Task</strong>: Write an Assembly program that simulates a function call by creating a stack frame, saving registers, and restoring them before returning.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAudGV4dAogICAgZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgOyBTaW11bGF0ZSBmdW5jdGlvbiBjYWxsCiAgICBDQUxMIG15X2Z1bmN0aW9uCgogICAgOyBFeGl0IHByb2dyYW0KICAgIE1PViBFQVgsIDEgICAgICAgICAgOyBzeXNjYWxsIG51bWJlciBmb3IgZXhpdAogICAgWE9SIEVCWCwgRUJYICAgICAgICA7IGV4aXQgY29kZSAwCiAgICBJTlQgMHg4MCAgICAgICAgICAgIDsgY2FsbCBrZXJuZWwKCm15X2Z1bmN0aW9uOgogICAgOyBDcmVhdGUgc3RhY2sgZnJhbWUKICAgIFBVU0ggQlAKICAgIE1PViBCUCwgU1AKCiAgICA7IFNhdmUgcmVnaXN0ZXJzCiAgICBQVVNIIEFYCiAgICBQVVNIIEJYCgogICAgOyBGdW5jdGlvbiBib2R5IChleGFtcGxlOiBhZGQgdHdvIG51bWJlcnMpCiAgICBNT1YgQVgsIDUKICAgIE1PViBCWCwgMTAKICAgIEFERCBBWCwgQlgKCiAgICA7IFJlc3RvcmUgcmVnaXN0ZXJzCiAgICBQT1AgQlgKICAgIFBPUCBBWAoKICAgIDsgUmVzdG9yZSBzdGFjayBmcmFtZQogICAgTU9WIFNQLCBCUAogICAgUE9QIEJQCgogICAgOyBSZXR1cm4gZnJvbSBmdW5jdGlvbgogICAgUkVU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .text
    global _start

_start:
    ; Simulate function call
    CALL my_function

    ; Exit program
    MOV EAX, 1          ; syscall number for exit
    XOR EBX, EBX        ; exit code 0
    INT 0x80            ; call kernel

my_function:
    ; Create stack frame
    PUSH BP
    MOV BP, SP

    ; Save registers
    PUSH AX
    PUSH BX

    ; Function body (example: add two numbers)
    MOV AX, 5
    MOV BX, 10
    ADD AX, BX

    ; Restore registers
    POP BX
    POP AX

    ; Restore stack frame
    MOV SP, BP
    POP BP

    ; Return from function
    RET</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ol>
<li>
<p><strong>Incorrect Stack Pointer Management</strong>:</p>
<ul>
<li>Ensure that every <code>PUSH</code> has a corresponding <code>POP</code> to avoid stack corruption.</li>
</ul>
</li>
<li>
<p><strong>Stack Overflow</strong>:</p>
<ul>
<li>Be cautious of stack overflow, especially in recursive functions or deep call chains.</li>
</ul>
</li>
<li>
<p><strong>Register Saving</strong>:</p>
<ul>
<li>Always save and restore registers that are used within a function to avoid unintended side effects.</li>
</ul>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of stack operations in Assembly language, including the <code>PUSH</code> and <code>POP</code> instructions, and how to manage stack frames. Understanding these concepts is essential for writing efficient and reliable Assembly programs. In the next section, we will explore more advanced control flow mechanisms, such as conditional statements and loops.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-subroutines-procedures' title="Subroutines and Procedures">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-interrupts-system-calls' title="Interrupts and System Calls">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Assembly Programming Course</h1>
<h2>Module 1: Introduction to Assembly Language</h2>
<ul>
<li><a href="01-01-what-is-assembly">What is Assembly Language?</a></li>
<li><a href="01-02-history-evolution">History and Evolution of Assembly</a></li>
<li><a href="01-03-basic-concepts">Basic Concepts and Terminology</a></li>
<li><a href="01-04-setup-environment">Setting Up the Development Environment</a></li>
</ul>
<h2>Module 2: Assembly Language Basics</h2>
<ul>
<li><a href="02-01-cpu-memory">Understanding the CPU and Memory</a></li>
<li><a href="02-02-registers-functions">Registers and Their Functions</a></li>
<li><a href="02-03-basic-syntax">Basic Syntax and Structure</a></li>
<li><a href="02-04-first-program">Writing Your First Assembly Program</a></li>
</ul>
<h2>Module 3: Data Representation and Instructions</h2>
<ul>
<li><a href="03-01-binary-hexadecimal">Binary and Hexadecimal Systems</a></li>
<li><a href="03-02-data-types">Data Types and Sizes</a></li>
<li><a href="03-03-arithmetic-instructions">Arithmetic Instructions</a></li>
<li><a href="03-04-logical-instructions">Logical Instructions</a></li>
</ul>
<h2>Module 4: Control Flow</h2>
<ul>
<li><a href="04-01-conditional-statements">Conditional Statements</a></li>
<li><a href="04-02-loops-iteration">Loops and Iteration</a></li>
<li><a href="04-03-subroutines-procedures">Subroutines and Procedures</a></li>
<li><a href="04-04-stack-operations">Stack Operations</a></li>
</ul>
<h2>Module 5: Advanced Assembly Concepts</h2>
<ul>
<li><a href="05-01-interrupts-system-calls">Interrupts and System Calls</a></li>
<li><a href="05-02-macros-conditional">Macros and Conditional Assembly</a></li>
<li><a href="05-03-inline-assembly">Inline Assembly in High-Level Languages</a></li>
<li><a href="05-04-optimizing-code">Optimizing Assembly Code</a></li>
</ul>
<h2>Module 6: Assembly for Different Architectures</h2>
<ul>
<li><a href="06-01-x86-assembly">x86 Assembly Language</a></li>
<li><a href="06-02-arm-assembly">ARM Assembly Language</a></li>
<li><a href="06-03-mips-assembly">MIPS Assembly Language</a></li>
<li><a href="06-04-riscv-assembly">RISC-V Assembly Language</a></li>
</ul>
<h2>Module 7: Practical Applications and Projects</h2>
<ul>
<li><a href="07-01-simple-bootloader">Writing a Simple Bootloader</a></li>
<li><a href="07-02-basic-os-kernel">Creating a Basic Operating System Kernel</a></li>
<li><a href="07-03-interfacing-hardware">Interfacing with Hardware</a></li>
<li><a href="07-04-debugging-profiling">Debugging and Profiling Assembly Code</a></li>
</ul>
<h2>Module 8: Final Project and Review</h2>
<ul>
<li><a href="08-01-project-proposal">Project Proposal and Planning</a></li>
<li><a href="08-02-implementation-testing">Implementation and Testing</a></li>
<li><a href="08-03-code-review">Code Review and Optimization</a></li>
<li><a href="08-04-final-presentation">Final Presentation and Documentation</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>
