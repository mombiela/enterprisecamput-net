<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interrupts and System Calls</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/interrupts-and-system-calls" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/interrupts-and-system-calls" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/interrupts-and-system-calls" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/assembly/interrupts-and-system-calls" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/assembly/interrupts-and-system-calls" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='stack-operations'>&#x25C4;Stack Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Interrupts and System Calls</a>
	</div>
	<div class='col-4 text-end'>
					<a href='addressing-modes'>Addressing Modes &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will explore the concepts of interrupts and system calls in assembly language. These are crucial for interacting with hardware and the operating system, allowing programs to perform tasks like input/output operations, process control, and more.</p>
</div><h1>Interrupts</h1>
<div class='content'><p>Interrupts are signals that inform the processor that an event needs immediate attention. They can be triggered by hardware or software.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Hardware Interrupts</strong>: Generated by hardware devices to signal that they need processing.</li>
<li><strong>Software Interrupts</strong>: Generated by software instructions to request services from the operating system.</li>
<li><strong>Interrupt Vector Table (IVT)</strong>: A table that holds the addresses of interrupt service routines (ISRs).</li>
</ul>
</div><h2>Example: Handling a Keyboard Interrupt</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbXNnIGRiICdLZXkgcHJlc3NlZCEnLCAwCgpzZWN0aW9uIC5ic3MKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIDsgRW5hYmxlIGtleWJvYXJkIGludGVycnVwdHMKICAgIGluIGFsLCAweDIxCiAgICBhbmQgYWwsIDB4RkQKICAgIG91dCAweDIxLCBhbAoKICAgIDsgSW5maW5pdGUgbG9vcCB0byBrZWVwIHRoZSBwcm9ncmFtIHJ1bm5pbmcKICAgIGptcCAkCgprZXlib2FyZF9pbnRlcnJ1cHQ6CiAgICBwdXNoYQogICAgOyBIYW5kbGUgdGhlIGtleWJvYXJkIGludGVycnVwdAogICAgbW92IGVkeCwgbXNnCiAgICBjYWxsIHByaW50X3N0cmluZwogICAgcG9wYQogICAgaXJldAoKcHJpbnRfc3RyaW5nOgogICAgOyBQcmludCB0aGUgc3RyaW5nIHBvaW50ZWQgdG8gYnkgRURYCiAgICBtb3YgZWF4LCA0CiAgICBtb3YgZWJ4LCAxCiAgICBtb3YgZWN4LCBlZHgKICAgIG1vdiBlZHgsIDEzCiAgICBpbnQgMHg4MAogICAgcmV0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    msg db 'Key pressed!', 0

section .bss

section .text
    global _start

_start:
    ; Enable keyboard interrupts
    in al, 0x21
    and al, 0xFD
    out 0x21, al

    ; Infinite loop to keep the program running
    jmp $

keyboard_interrupt:
    pusha
    ; Handle the keyboard interrupt
    mov edx, msg
    call print_string
    popa
    iret

print_string:
    ; Print the string pointed to by EDX
    mov eax, 4
    mov ebx, 1
    mov ecx, edx
    mov edx, 13
    int 0x80
    ret</pre></div><div class='content'><p>In this example, we enable keyboard interrupts and define a simple interrupt service routine (ISR) to print a message when a key is pressed.</p>
</div><h1>System Calls</h1>
<div class='content'><p>System calls provide a controlled interface for programs to request services from the operating system kernel.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>System Call Interface</strong>: The mechanism through which user-space applications request services from the kernel.</li>
<li><strong>Registers</strong>: Specific registers are used to pass arguments to system calls (e.g., <code>eax</code> for the system call number).</li>
</ul>
</div><h2>Example: Using a System Call to Write to Standard Output</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbXNnIGRiICdIZWxsbywgV29ybGQhJywgMHhBCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICA7IFdyaXRlIHRoZSBtZXNzYWdlIHRvIHN0YW5kYXJkIG91dHB1dAogICAgbW92IGVheCwgNCAgICAgICAgICA7IHN5c193cml0ZSBzeXN0ZW0gY2FsbCBudW1iZXIKICAgIG1vdiBlYngsIDEgICAgICAgICAgOyBmaWxlIGRlc2NyaXB0b3IgMSAoc3Rkb3V0KQogICAgbW92IGVjeCwgbXNnICAgICAgICA7IHBvaW50ZXIgdG8gdGhlIG1lc3NhZ2UKICAgIG1vdiBlZHgsIDEzICAgICAgICAgOyBsZW5ndGggb2YgdGhlIG1lc3NhZ2UKICAgIGludCAweDgwICAgICAgICAgICAgOyBpbnRlcnJ1cHQgdG8gaW52b2tlIHRoZSBzeXN0ZW0gY2FsbAoKICAgIDsgRXhpdCB0aGUgcHJvZ3JhbQogICAgbW92IGVheCwgMSAgICAgICAgICA7IHN5c19leGl0IHN5c3RlbSBjYWxsIG51bWJlcgogICAgeG9yIGVieCwgZWJ4ICAgICAgICA7IGV4aXQgY29kZSAwCiAgICBpbnQgMHg4MCAgICAgICAgICAgIDsgaW50ZXJydXB0IHRvIGludm9rZSB0aGUgc3lzdGVtIGNhbGw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    msg db 'Hello, World!', 0xA

section .text
    global _start

_start:
    ; Write the message to standard output
    mov eax, 4          ; sys_write system call number
    mov ebx, 1          ; file descriptor 1 (stdout)
    mov ecx, msg        ; pointer to the message
    mov edx, 13         ; length of the message
    int 0x80            ; interrupt to invoke the system call

    ; Exit the program
    mov eax, 1          ; sys_exit system call number
    xor ebx, ebx        ; exit code 0
    int 0x80            ; interrupt to invoke the system call</pre></div><div class='content'><p>In this example, we use the <code>sys_write</code> system call to print &quot;Hello, World!&quot; to the standard output and then exit the program using the <code>sys_exit</code> system call.</p>
</div><h1>Comparison of Interrupts and System Calls</h1>
<div class='content'><p>| Feature          | Interrupts                        | System Calls                     |
|------------------|-----------------------------------|----------------------------------|
| Triggered by     | Hardware or software              | Software                         |
| Purpose          | Handle asynchronous events        | Request services from the OS     |
| Control Transfer | Interrupt vector table (IVT)      | System call interface            |
| Example Usage    | Keyboard input, timer interrupts  | File operations, process control |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding interrupts and system calls is essential for low-level programming and interacting with hardware and the operating system. Interrupts allow your program to respond to asynchronous events, while system calls provide a way to perform privileged operations in a controlled manner. Mastering these concepts will enable you to write more efficient and powerful assembly programs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='stack-operations'>&#x25C4;Stack Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Interrupts and System Calls</a>
	</div>
	<div class='col-4 text-end'>
					<a href='addressing-modes'>Addressing Modes &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
