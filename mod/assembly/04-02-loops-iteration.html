<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loops and Iteration</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/04-02-loops-iteration" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/04-02-loops-iteration" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/04-02-loops-iteration" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/assembly/04-02-loops-iteration" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/assembly/04-02-loops-iteration" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-conditional-statements' title="Conditional Statements">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Loops and Iteration</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-subroutines-procedures' title="Subroutines and Procedures">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to implement loops and iteration in Assembly language. Loops are fundamental constructs in programming that allow you to execute a block of code multiple times. Understanding how to create and control loops in Assembly is crucial for writing efficient and effective programs.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Loop Types</strong>:</p>
<ul>
<li><strong>Count-Controlled Loops</strong>: Execute a set number of times.</li>
<li><strong>Condition-Controlled Loops</strong>: Continue executing as long as a condition is true.</li>
</ul>
</li>
<li>
<p><strong>Loop Instructions</strong>:</p>
<ul>
<li><strong>JMP (Jump)</strong>: Unconditional jump to a specified address.</li>
<li><strong>LOOP</strong>: Decrement the counter and jump if the counter is not zero.</li>
<li><strong>Conditional Jumps</strong>: JZ (Jump if Zero), JNZ (Jump if Not Zero), etc.</li>
</ul>
</li>
<li>
<p><strong>Registers</strong>:</p>
<ul>
<li><strong>CX/ECX/RCX</strong>: Commonly used as a counter in loops.</li>
</ul>
</li>
</ol>
</div><h1>Basic Loop Structure</h1>
<div class='content'></div><h2>Count-Controlled Loop</h2>
<div class='content'><p>A count-controlled loop executes a specific number of times. Here’s a simple example using the <code>LOOP</code> instruction:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbXNnIGRiICdIZWxsbywgV29ybGQhJywgMAoKc2VjdGlvbiAuYnNzCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCA1ICAgICAgICAgIDsgU2V0IGxvb3AgY291bnRlciB0byA1Cgpsb29wX3N0YXJ0OgogICAgOyBDb2RlIHRvIGV4ZWN1dGUgaW4gdGhlIGxvb3AKICAgIDsgRm9yIGV4YW1wbGUsIHByaW50aW5nIGEgbWVzc2FnZQogICAgbW92IGVheCwgNCAgICAgICAgICA7IHN5c193cml0ZQogICAgbW92IGVieCwgMSAgICAgICAgICA7IGZpbGUgZGVzY3JpcHRvciAoc3Rkb3V0KQogICAgbW92IGVkeCwgMTMgICAgICAgICA7IG1lc3NhZ2UgbGVuZ3RoCiAgICBsZWEgZWN4LCBbbXNnXSAgICAgIDsgbG9hZCBhZGRyZXNzIG9mIG1zZwogICAgaW50IDB4ODAgICAgICAgICAgICA7IGNhbGwga2VybmVsCgogICAgbG9vcCBsb29wX3N0YXJ0ICAgICA7IERlY3JlbWVudCBFQ1ggYW5kIGp1bXAgaWYgRUNYICE9IDAKCiAgICA7IEV4aXQgdGhlIHByb2dyYW0KICAgIG1vdiBlYXgsIDEgICAgICAgICAgOyBzeXNfZXhpdAogICAgeG9yIGVieCwgZWJ4ICAgICAgICA7IGV4aXQgY29kZSAwCiAgICBpbnQgMHg4MCAgICAgICAgICAgIDsgY2FsbCBrZXJuZWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    msg db 'Hello, World!', 0

section .bss

section .text
    global _start

_start:
    mov ecx, 5          ; Set loop counter to 5

loop_start:
    ; Code to execute in the loop
    ; For example, printing a message
    mov eax, 4          ; sys_write
    mov ebx, 1          ; file descriptor (stdout)
    mov edx, 13         ; message length
    lea ecx, [msg]      ; load address of msg
    int 0x80            ; call kernel

    loop loop_start     ; Decrement ECX and jump if ECX != 0

    ; Exit the program
    mov eax, 1          ; sys_exit
    xor ebx, ebx        ; exit code 0
    int 0x80            ; call kernel</pre></div><div class='content'></div><h2>Condition-Controlled Loop</h2>
<div class='content'><p>A condition-controlled loop continues executing as long as a condition is true. Here’s an example using <code>JNZ</code> (Jump if Not Zero):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbXNnIGRiICdDb3VudGluZyBkb3duOiAnLCAwCgpzZWN0aW9uIC5ic3MKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIG1vdiBlY3gsIDUgICAgICAgICAgOyBTZXQgaW5pdGlhbCB2YWx1ZQoKbG9vcF9zdGFydDoKICAgIDsgQ29kZSB0byBleGVjdXRlIGluIHRoZSBsb29wCiAgICA7IEZvciBleGFtcGxlLCBwcmludGluZyBhIG1lc3NhZ2UKICAgIG1vdiBlYXgsIDQgICAgICAgICAgOyBzeXNfd3JpdGUKICAgIG1vdiBlYngsIDEgICAgICAgICAgOyBmaWxlIGRlc2NyaXB0b3IgKHN0ZG91dCkKICAgIG1vdiBlZHgsIDE1ICAgICAgICAgOyBtZXNzYWdlIGxlbmd0aAogICAgbGVhIGVjeCwgW21zZ10gICAgICA7IGxvYWQgYWRkcmVzcyBvZiBtc2cKICAgIGludCAweDgwICAgICAgICAgICAgOyBjYWxsIGtlcm5lbAoKICAgIGRlYyBlY3ggICAgICAgICAgICAgOyBEZWNyZW1lbnQgRUNYCiAgICBqbnogbG9vcF9zdGFydCAgICAgIDsgSnVtcCB0byBsb29wX3N0YXJ0IGlmIEVDWCAhPSAwCgogICAgOyBFeGl0IHRoZSBwcm9ncmFtCiAgICBtb3YgZWF4LCAxICAgICAgICAgIDsgc3lzX2V4aXQKICAgIHhvciBlYngsIGVieCAgICAgICAgOyBleGl0IGNvZGUgMAogICAgaW50IDB4ODAgICAgICAgICAgICA7IGNhbGwga2VybmVs"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    msg db 'Counting down: ', 0

section .bss

section .text
    global _start

_start:
    mov ecx, 5          ; Set initial value

loop_start:
    ; Code to execute in the loop
    ; For example, printing a message
    mov eax, 4          ; sys_write
    mov ebx, 1          ; file descriptor (stdout)
    mov edx, 15         ; message length
    lea ecx, [msg]      ; load address of msg
    int 0x80            ; call kernel

    dec ecx             ; Decrement ECX
    jnz loop_start      ; Jump to loop_start if ECX != 0

    ; Exit the program
    mov eax, 1          ; sys_exit
    xor ebx, ebx        ; exit code 0
    int 0x80            ; call kernel</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise 1: Sum of First N Natural Numbers</h2>
<div class='content'><p>Write an Assembly program to calculate the sum of the first N natural numbers using a loop.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgc3VtIGRiIDAgICAgICAgICAgICA7IFZhcmlhYmxlIHRvIHN0b3JlIHRoZSBzdW0KCnNlY3Rpb24gLmJzcwoKc2VjdGlvbiAudGV4dAogICAgZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgbW92IGVjeCwgMTAgICAgICAgICA7IFNldCBOIHRvIDEwCiAgICB4b3IgZWF4LCBlYXggICAgICAgIDsgQ2xlYXIgRUFYIChzdW0pCgpsb29wX3N0YXJ0OgogICAgYWRkIGVheCwgZWN4ICAgICAgICA7IEFkZCBFQ1ggdG8gRUFYCiAgICBkZWMgZWN4ICAgICAgICAgICAgIDsgRGVjcmVtZW50IEVDWAogICAgam56IGxvb3Bfc3RhcnQgICAgICA7IEp1bXAgdG8gbG9vcF9zdGFydCBpZiBFQ1ggIT0gMAoKICAgIDsgU3RvcmUgdGhlIHJlc3VsdCBpbiB0aGUgc3VtIHZhcmlhYmxlCiAgICBtb3YgW3N1bV0sIGVheAoKICAgIDsgRXhpdCB0aGUgcHJvZ3JhbQogICAgbW92IGVheCwgMSAgICAgICAgICA7IHN5c19leGl0CiAgICB4b3IgZWJ4LCBlYnggICAgICAgIDsgZXhpdCBjb2RlIDAKICAgIGludCAweDgwICAgICAgICAgICAgOyBjYWxsIGtlcm5lbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    sum db 0            ; Variable to store the sum

section .bss

section .text
    global _start

_start:
    mov ecx, 10         ; Set N to 10
    xor eax, eax        ; Clear EAX (sum)

loop_start:
    add eax, ecx        ; Add ECX to EAX
    dec ecx             ; Decrement ECX
    jnz loop_start      ; Jump to loop_start if ECX != 0

    ; Store the result in the sum variable
    mov [sum], eax

    ; Exit the program
    mov eax, 1          ; sys_exit
    xor ebx, ebx        ; exit code 0
    int 0x80            ; call kernel</pre></div><div class='content'></div><h2>Exercise 2: Factorial of a Number</h2>
<div class='content'><p>Write an Assembly program to calculate the factorial of a number using a loop.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgcmVzdWx0IGRiIDEgICAgICAgICA7IFZhcmlhYmxlIHRvIHN0b3JlIHRoZSByZXN1bHQKCnNlY3Rpb24gLmJzcwoKc2VjdGlvbiAudGV4dAogICAgZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgbW92IGVjeCwgNSAgICAgICAgICA7IFNldCB0aGUgbnVtYmVyIHRvIGNhbGN1bGF0ZSBmYWN0b3JpYWwgKDUpCiAgICBtb3YgZWF4LCAxICAgICAgICAgIDsgSW5pdGlhbGl6ZSBFQVggdG8gMSAoZmFjdG9yaWFsIHJlc3VsdCkKCmxvb3Bfc3RhcnQ6CiAgICBtdWwgZWN4ICAgICAgICAgICAgIDsgTXVsdGlwbHkgRUFYIGJ5IEVDWAogICAgZGVjIGVjeCAgICAgICAgICAgICA7IERlY3JlbWVudCBFQ1gKICAgIGpueiBsb29wX3N0YXJ0ICAgICAgOyBKdW1wIHRvIGxvb3Bfc3RhcnQgaWYgRUNYICE9IDAKCiAgICA7IFN0b3JlIHRoZSByZXN1bHQgaW4gdGhlIHJlc3VsdCB2YXJpYWJsZQogICAgbW92IFtyZXN1bHRdLCBlYXgKCiAgICA7IEV4aXQgdGhlIHByb2dyYW0KICAgIG1vdiBlYXgsIDEgICAgICAgICAgOyBzeXNfZXhpdAogICAgeG9yIGVieCwgZWJ4ICAgICAgICA7IGV4aXQgY29kZSAwCiAgICBpbnQgMHg4MCAgICAgICAgICAgIDsgY2FsbCBrZXJuZWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    result db 1         ; Variable to store the result

section .bss

section .text
    global _start

_start:
    mov ecx, 5          ; Set the number to calculate factorial (5)
    mov eax, 1          ; Initialize EAX to 1 (factorial result)

loop_start:
    mul ecx             ; Multiply EAX by ECX
    dec ecx             ; Decrement ECX
    jnz loop_start      ; Jump to loop_start if ECX != 0

    ; Store the result in the result variable
    mov [result], eax

    ; Exit the program
    mov eax, 1          ; sys_exit
    xor ebx, ebx        ; exit code 0
    int 0x80            ; call kernel</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Off-by-One Errors</strong>: Ensure your loop counter is correctly initialized and decremented.</li>
<li><strong>Infinite Loops</strong>: Make sure your loop has a terminating condition.</li>
<li><strong>Register Usage</strong>: Be mindful of which registers you use and ensure they are not overwritten unintentionally.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of loops and iteration in Assembly language. We explored count-controlled and condition-controlled loops, provided practical examples, and included exercises to reinforce the concepts. Understanding loops is essential for writing efficient Assembly programs, and mastering these constructs will significantly enhance your programming skills. In the next section, we will delve into subroutines and procedures, which will further expand your ability to write modular and reusable code.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-conditional-statements' title="Conditional Statements">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-subroutines-procedures' title="Subroutines and Procedures">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
