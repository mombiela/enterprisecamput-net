<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interacting with the System</title>

    <link rel="alternate" href="https://campusempresa.com/mod/haskell/06-03-interacting-with-system" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/haskell/06-03-interacting-with-system" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/haskell/06-03-interacting-with-system" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/haskell/06-03-interacting-with-system" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/haskell/06-03-interacting-with-system" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-file-handling' title="File Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Interacting with the System</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-exception-handling' title="Exception Handling">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to interact with the system using Haskell. This includes executing system commands, working with environment variables, and handling system processes. By the end of this module, you will be able to perform basic system interactions within your Haskell programs.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>System Commands</strong>: Running shell commands from Haskell.</li>
<li><strong>Environment Variables</strong>: Accessing and modifying environment variables.</li>
<li><strong>System Processes</strong>: Managing system processes.</li>
</ol>
</div><h1><p>System Commands</p>
</h1>
<div class='content'><p>Haskell provides the <code>System.Process</code> module to interact with system commands. This module allows you to run shell commands and capture their output.</p>
</div><h2><p>Example: Running a Shell Command</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5Qcm9jZXNzCgptYWluIDo6IElPICgpCm1haW4gPSBkbwogICAgLS0gUnVuIHRoZSAnbHMnIGNvbW1hbmQgdG8gbGlzdCBkaXJlY3RvcnkgY29udGVudHMKICAgIG91dHB1dCA8LSByZWFkUHJvY2VzcyAibHMiIFtdICIiCiAgICBwdXRTdHJMbiBvdXRwdXQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.Process

main :: IO ()
main = do
    -- Run the 'ls' command to list directory contents
    output &lt;- readProcess &quot;ls&quot; [] &quot;&quot;
    putStrLn output</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>import System.Process</code>: Imports the <code>System.Process</code> module.</li>
<li><code>readProcess &quot;ls&quot; [] &quot;&quot;</code>: Runs the <code>ls</code> command with no arguments and no input.</li>
<li><code>putStrLn output</code>: Prints the output of the <code>ls</code> command.</li>
</ul>
</div><h2><p>Exercise: Running a Custom Command</p>
</h2>
<div class='content'><p>Write a Haskell program that runs the <code>date</code> command to display the current date and time.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5Qcm9jZXNzCgptYWluIDo6IElPICgpCm1haW4gPSBkbwogICAgLS0gUnVuIHRoZSAnZGF0ZScgY29tbWFuZCB0byBkaXNwbGF5IHRoZSBjdXJyZW50IGRhdGUgYW5kIHRpbWUKICAgIG91dHB1dCA8LSByZWFkUHJvY2VzcyAiZGF0ZSIgW10gIiIKICAgIHB1dFN0ckxuIG91dHB1dA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.Process

main :: IO ()
main = do
    -- Run the 'date' command to display the current date and time
    output &lt;- readProcess &quot;date&quot; [] &quot;&quot;
    putStrLn output</pre></div><div class='content'></div><h1><p>Environment Variables</p>
</h1>
<div class='content'><p>Environment variables are key-value pairs that can affect the way running processes behave on a computer. Haskell provides functions to access and modify these variables.</p>
</div><h2><p>Example: Accessing an Environment Variable</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5FbnZpcm9ubWVudAoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIC0tIEdldCB0aGUgdmFsdWUgb2YgdGhlICdIT01FJyBlbnZpcm9ubWVudCB2YXJpYWJsZQogICAgaG9tZSA8LSBnZXRFbnYgIkhPTUUiCiAgICBwdXRTdHJMbiAkICJIb21lIGRpcmVjdG9yeTogIiArKyBob21l"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.Environment

main :: IO ()
main = do
    -- Get the value of the 'HOME' environment variable
    home &lt;- getEnv &quot;HOME&quot;
    putStrLn $ &quot;Home directory: &quot; ++ home</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>import System.Environment</code>: Imports the <code>System.Environment</code> module.</li>
<li><code>getEnv &quot;HOME&quot;</code>: Retrieves the value of the <code>HOME</code> environment variable.</li>
<li><code>putStrLn $ &quot;Home directory: &quot; ++ home</code>: Prints the value of the <code>HOME</code> environment variable.</li>
</ul>
</div><h2><p>Exercise: Accessing a Custom Environment Variable</p>
</h2>
<div class='content'><p>Write a Haskell program that retrieves and prints the value of the <code>PATH</code> environment variable.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5FbnZpcm9ubWVudAoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIC0tIEdldCB0aGUgdmFsdWUgb2YgdGhlICdQQVRIJyBlbnZpcm9ubWVudCB2YXJpYWJsZQogICAgcGF0aCA8LSBnZXRFbnYgIlBBVEgiCiAgICBwdXRTdHJMbiAkICJQYXRoOiAiICsrIHBhdGg="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.Environment

main :: IO ()
main = do
    -- Get the value of the 'PATH' environment variable
    path &lt;- getEnv &quot;PATH&quot;
    putStrLn $ &quot;Path: &quot; ++ path</pre></div><div class='content'></div><h1><p>System Processes</p>
</h1>
<div class='content'><p>Haskell allows you to create and manage system processes. This can be useful for running background tasks or interacting with other programs.</p>
</div><h2><p>Example: Creating a System Process</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5Qcm9jZXNzCgptYWluIDo6IElPICgpCm1haW4gPSBkbwogICAgLS0gQ3JlYXRlIGEgcHJvY2VzcyB0byBydW4gdGhlICdzbGVlcCcgY29tbWFuZCBmb3IgNSBzZWNvbmRzCiAgICAoXywgXywgXywgcGgpIDwtIGNyZWF0ZVByb2Nlc3MgKHByb2MgInNsZWVwIiBbIjUiXSkKICAgIC0tIFdhaXQgZm9yIHRoZSBwcm9jZXNzIHRvIGNvbXBsZXRlCiAgICB3YWl0Rm9yUHJvY2VzcyBwaAogICAgcHV0U3RyTG4gIlByb2Nlc3MgY29tcGxldGVkIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.Process

main :: IO ()
main = do
    -- Create a process to run the 'sleep' command for 5 seconds
    (_, _, _, ph) &lt;- createProcess (proc &quot;sleep&quot; [&quot;5&quot;])
    -- Wait for the process to complete
    waitForProcess ph
    putStrLn &quot;Process completed&quot;</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>import System.Process</code>: Imports the <code>System.Process</code> module.</li>
<li><code>createProcess (proc &quot;sleep&quot; [&quot;5&quot;])</code>: Creates a process to run the <code>sleep</code> command for 5 seconds.</li>
<li><code>waitForProcess ph</code>: Waits for the process to complete.</li>
<li><code>putStrLn &quot;Process completed&quot;</code>: Prints a message after the process completes.</li>
</ul>
</div><h2><p>Exercise: Running a Background Process</p>
</h2>
<div class='content'><p>Write a Haskell program that runs the <code>ping</code> command to ping <code>google.com</code> 4 times and waits for the process to complete.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5Qcm9jZXNzCgptYWluIDo6IElPICgpCm1haW4gPSBkbwogICAgLS0gQ3JlYXRlIGEgcHJvY2VzcyB0byBydW4gdGhlICdwaW5nJyBjb21tYW5kCiAgICAoXywgXywgXywgcGgpIDwtIGNyZWF0ZVByb2Nlc3MgKHByb2MgInBpbmciIFsiLWMiLCAiNCIsICJnb29nbGUuY29tIl0pCiAgICAtLSBXYWl0IGZvciB0aGUgcHJvY2VzcyB0byBjb21wbGV0ZQogICAgd2FpdEZvclByb2Nlc3MgcGgKICAgIHB1dFN0ckxuICJQaW5nIGNvbXBsZXRlZCI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.Process

main :: IO ()
main = do
    -- Create a process to run the 'ping' command
    (_, _, _, ph) &lt;- createProcess (proc &quot;ping&quot; [&quot;-c&quot;, &quot;4&quot;, &quot;google.com&quot;])
    -- Wait for the process to complete
    waitForProcess ph
    putStrLn &quot;Ping completed&quot;</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Incorrect Command Syntax</strong>: Ensure that the command and its arguments are correctly specified.</li>
<li><strong>Environment Variable Not Set</strong>: Check if the environment variable exists before trying to access it.</li>
<li><strong>Process Management</strong>: Always handle process completion to avoid zombie processes.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered how to interact with the system using Haskell. You learned how to run system commands, access environment variables, and manage system processes. These skills are essential for building robust and interactive Haskell applications. In the next section, we will explore exception handling in Haskell to make your programs more resilient.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-file-handling' title="File Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-exception-handling' title="Exception Handling">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
