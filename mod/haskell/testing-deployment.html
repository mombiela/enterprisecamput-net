<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing and Deployment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/haskell/testing-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/haskell/testing-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/haskell/testing-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/haskell/testing-deployment" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/haskell/testing-deployment" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Deployment</a>
	</div>
	<div class='col-4 text-end'>
					<a href='presentation-review'>Presentation and Review &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will cover the essential aspects of testing and deploying Haskell applications. Testing ensures that your code behaves as expected, while deployment involves making your application available for use. We will start with basic testing concepts and gradually move to more advanced topics, including continuous integration and deployment strategies.</p>
</div><h1>Testing in Haskell</h1>
<div class='content'></div><h2>Why Testing is Important</h2>
<div class='content'><ul>
<li><strong>Ensures Code Quality</strong>: Helps catch bugs and errors early.</li>
<li><strong>Facilitates Refactoring</strong>: Makes it easier to change code with confidence.</li>
<li><strong>Documentation</strong>: Tests can serve as additional documentation for how code is supposed to work.</li>
</ul>
</div><h2>Types of Tests</h2>
<div class='content'><ul>
<li><strong>Unit Tests</strong>: Test individual components or functions.</li>
<li><strong>Integration Tests</strong>: Test how different parts of the application work together.</li>
<li><strong>Property-Based Tests</strong>: Use properties to generate test cases automatically.</li>
</ul>
</div><h2>Setting Up a Testing Environment</h2>
<div class='content'><p>To get started with testing in Haskell, you will need to set up a testing environment. The most commonly used libraries are <code>Hspec</code> for unit testing and <code>QuickCheck</code> for property-based testing.</p>
<h4>Installing Hspec and QuickCheck</h4>
<p>You can add these libraries to your project by modifying your <code>package.yaml</code> or <code>*.cabal</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzOgogIC0gaHNwZWMKICAtIFF1aWNrQ2hlY2s="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies:
  - hspec
  - QuickCheck</pre></div><div class='content'></div><h2>Writing Unit Tests with Hspec</h2>
<div class='content'><p>Hspec is a testing framework inspired by Ruby's RSpec. It allows you to write readable and maintainable tests.</p>
<h4>Example: Testing a Simple Function</h4>
<p>Let's write a test for a simple function that adds two numbers:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gc3JjL0xpYi5ocwptb2R1bGUgTGliIChhZGQpIHdoZXJlCgphZGQgOjogSW50IC0+IEludCAtPiBJbnQKYWRkIHggeSA9IHggKyB5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- src/Lib.hs
module Lib (add) where

add :: Int -&gt; Int -&gt; Int
add x y = x + y</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gdGVzdC9TcGVjLmhzCmltcG9ydCBUZXN0LkhzcGVjCmltcG9ydCBMaWIgKGFkZCkKCm1haW4gOjogSU8gKCkKbWFpbiA9IGhzcGVjICQgZG8KICBkZXNjcmliZSAiYWRkIiAkIGRvCiAgICBpdCAiYWRkcyB0d28gbnVtYmVycyIgJCBkbwogICAgICBhZGQgMSAyIGBzaG91bGRCZWAgMw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- test/Spec.hs
import Test.Hspec
import Lib (add)

main :: IO ()
main = hspec $ do
  describe &quot;add&quot; $ do
    it &quot;adds two numbers&quot; $ do
      add 1 2 `shouldBe` 3</pre></div><div class='content'><p>To run the tests, use the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RhY2sgdGVzdA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>stack test</pre></div><div class='content'></div><h2>Property-Based Testing with QuickCheck</h2>
<div class='content'><p>QuickCheck allows you to define properties that your functions should satisfy and then generates random test cases to check those properties.</p>
<h4>Example: Testing the <code>add</code> Function</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gdGVzdC9TcGVjLmhzCmltcG9ydCBUZXN0LkhzcGVjCmltcG9ydCBUZXN0LlF1aWNrQ2hlY2sKaW1wb3J0IExpYiAoYWRkKQoKbWFpbiA6OiBJTyAoKQptYWluID0gaHNwZWMgJCBkbwogIGRlc2NyaWJlICJhZGQiICQgZG8KICAgIGl0ICJpcyBjb21tdXRhdGl2ZSIgJCBwcm9wZXJ0eSAkCiAgICAgIFx4IHkgLT4gYWRkIHggeSA9PSBhZGQgeSB4"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- test/Spec.hs
import Test.Hspec
import Test.QuickCheck
import Lib (add)

main :: IO ()
main = hspec $ do
  describe &quot;add&quot; $ do
    it &quot;is commutative&quot; $ property $
      \x y -&gt; add x y == add y x</pre></div><div class='content'></div><h1>Deployment</h1>
<div class='content'></div><h2>Preparing for Deployment</h2>
<div class='content'><p>Before deploying your Haskell application, ensure that:</p>
<ul>
<li>All tests pass.</li>
<li>The application is built successfully.</li>
<li>Dependencies are properly managed.</li>
</ul>
</div><h2>Building the Application</h2>
<div class='content'><p>You can build your Haskell application using Stack or Cabal. For example, using Stack:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RhY2sgYnVpbGQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>stack build</pre></div><div class='content'></div><h2>Deployment Strategies</h2>
<div class='content'><ul>
<li><strong>Manual Deployment</strong>: Manually copying the build artifacts to the server.</li>
<li><strong>Automated Deployment</strong>: Using CI/CD pipelines to automate the deployment process.</li>
</ul>
</div><h2>Continuous Integration and Continuous Deployment (CI/CD)</h2>
<div class='content'><p>CI/CD automates the process of testing and deploying your application. Popular CI/CD tools include GitHub Actions, Travis CI, and CircleCI.</p>
<h4>Example: GitHub Actions Workflow</h4>
<p>Create a <code>.github/workflows/ci.yml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kKCm9uOiBbcHVzaCwgcHVsbF9yZXF1ZXN0XQoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAtIG5hbWU6IFNldCB1cCBIYXNrZWxsCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtaGFza2VsbEB2MQogICAgICB3aXRoOgogICAgICAgIGdoYy12ZXJzaW9uOiAnOC4xMC40JwogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IHN0YWNrIHNldHVwCiAgICAtIG5hbWU6IEJ1aWxkCiAgICAgIHJ1bjogc3RhY2sgYnVpbGQKICAgIC0gbmFtZTogUnVuIHRlc3RzCiAgICAgIHJ1bjogc3RhY2sgdGVzdA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Haskell
      uses: actions/setup-haskell@v1
      with:
        ghc-version: '8.10.4'
    - name: Install dependencies
      run: stack setup
    - name: Build
      run: stack build
    - name: Run tests
      run: stack test</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Testing and deployment are crucial aspects of software development in Haskell. By writing comprehensive tests using Hspec and QuickCheck, you can ensure your code is reliable and maintainable. Automating the deployment process with CI/CD tools like GitHub Actions can save time and reduce errors, making your development workflow more efficient.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Deployment</a>
	</div>
	<div class='col-4 text-end'>
					<a href='presentation-review'>Presentation and Review &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
