<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration Management</title>

    <link rel="alternate" href="https://campusempresa.com/mod/microservicios/04-03-gestion-configuracion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/microservicios/04-03-gestion-configuracion" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/microservicios/04-03-configuration-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/microservicios/04-03-gestion-configuracion" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/microservicios/04-03-gestion-configuracion" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-development-microservice' title="Development of a Simple Microservice">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Configuration Management</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-containers-docker' title="Containers and Docker">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Configuration management is a crucial aspect of microservices architecture. It involves managing the configuration settings of your microservices to ensure consistency, reliability, and ease of deployment. This module will cover the key concepts, tools, and best practices for effective configuration management in microservices.</p>
</div><h1><p>Key Concepts of Configuration Management</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Centralized Configuration</strong>:</p>
<ul>
<li>Store configuration settings in a central repository.</li>
<li>Ensure all microservices can access and retrieve their configurations from this central location.</li>
</ul>
</li>
<li>
<p><strong>Environment-Specific Configurations</strong>:</p>
<ul>
<li>Different environments (development, testing, production) require different configurations.</li>
<li>Manage these configurations separately to avoid conflicts and ensure proper environment-specific behavior.</li>
</ul>
</li>
<li>
<p><strong>Dynamic Configuration</strong>:</p>
<ul>
<li>Allow configurations to be updated without redeploying the microservices.</li>
<li>Use tools that support dynamic reloading of configuration settings.</li>
</ul>
</li>
<li>
<p><strong>Security</strong>:</p>
<ul>
<li>Protect sensitive configuration data (e.g., API keys, database credentials) using encryption.</li>
<li>Ensure only authorized services and users can access the configuration data.</li>
</ul>
</li>
</ol>
</div><h1><p>Tools for Configuration Management</p>
</h1>
<div class='content'><p>Several tools can help manage configurations in a microservices architecture. Here are some popular ones:</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spring Cloud Config</strong></td>
<td>A configuration server for Spring applications.</td>
<td>Centralized configuration, environment-specific configurations, encryption support.</td>
</tr>
<tr>
<td><strong>Consul</strong></td>
<td>A service mesh solution that includes a key-value store for configuration.</td>
<td>Service discovery, health checking, key-value store for configuration.</td>
</tr>
<tr>
<td><strong>etcd</strong></td>
<td>A distributed key-value store used for configuration management.</td>
<td>High availability, strong consistency, dynamic configuration updates.</td>
</tr>
<tr>
<td><strong>Vault</strong></td>
<td>A tool for securely storing and accessing secrets.</td>
<td>Secret management, encryption, access control.</td>
</tr>
</tbody>
</table>
</div><h1><p>Practical Example: Using Spring Cloud Config</p>
</h1>
<div class='content'><p>Let's walk through a practical example of using Spring Cloud Config to manage configurations for a microservice.</p>
</div><h2><p>Step 1: Set Up Spring Cloud Config Server</p>
</h2>
<div class='content'><ol>
<li><strong>Create a new Spring Boot application</strong> for the Config Server.</li>
<li><strong>Add dependencies</strong> in <code>pom.xml</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY2llcz4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQ8L2dyb3VwSWQ+CiAgICAgICAgPGFydGlmYWN0SWQ+c3ByaW5nLWNsb3VkLWNvbmZpZy1zZXJ2ZXI8L2FydGlmYWN0SWQ+CiAgICA8L2RlcGVuZGVuY3k+CiAgICA8ZGVwZW5kZW5jeT4KICAgICAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICAgICAgPGFydGlmYWN0SWQ+c3ByaW5nLWJvb3Qtc3RhcnRlci13ZWI8L2FydGlmYWN0SWQ+CiAgICA8L2RlcGVuZGVuY3k+CjwvZGVwZW5kZW5jaWVzPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div><div class='content'><ol start="3">
<li><strong>Enable Config Server</strong> in the main application class:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5TcHJpbmdBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5hdXRvY29uZmlndXJlLlNwcmluZ0Jvb3RBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQuY29uZmlnLnNlcnZlci5FbmFibGVDb25maWdTZXJ2ZXI7CgpAU3ByaW5nQm9vdEFwcGxpY2F0aW9uCkBFbmFibGVDb25maWdTZXJ2ZXIKcHVibGljIGNsYXNzIENvbmZpZ1NlcnZlckFwcGxpY2F0aW9uIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBTcHJpbmdBcHBsaWNhdGlvbi5ydW4oQ29uZmlnU2VydmVyQXBwbGljYXRpb24uY2xhc3MsIGFyZ3MpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.config.server.EnableConfigServer;

@SpringBootApplication
@EnableConfigServer
public class ConfigServerApplication {
    public static void main(String[] args) {
        SpringApplication.run(ConfigServerApplication.class, args);
    }
}</pre></div><div class='content'><ol start="4">
<li><strong>Configure the Config Server</strong> in <code>application.yml</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyOgogIHBvcnQ6IDg4ODgKCnNwcmluZzoKICBjbG91ZDoKICAgIGNvbmZpZzoKICAgICAgc2VydmVyOgogICAgICAgIGdpdDoKICAgICAgICAgIHVyaTogaHR0cHM6Ly9naXRodWIuY29tL3lvdXItcmVwby9jb25maWctcmVwbw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server:
  port: 8888

spring:
  cloud:
    config:
      server:
        git:
          uri: https://github.com/your-repo/config-repo</pre></div><div class='content'></div><h2><p>Step 2: Set Up Configuration Repository</p>
</h2>
<div class='content'><ol>
<li><strong>Create a Git repository</strong> to store configuration files.</li>
<li><strong>Add configuration files</strong> for different microservices and environments. For example:
<ul>
<li><code>microservice1-dev.yml</code></li>
<li><code>microservice1-prod.yml</code></li>
</ul>
</li>
</ol>
</div><h2><p>Step 3: Configure Microservices to Use Config Server</p>
</h2>
<div class='content'><ol>
<li><strong>Add dependencies</strong> in the microservice's <code>pom.xml</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY2llcz4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQ8L2dyb3VwSWQ+CiAgICAgICAgPGFydGlmYWN0SWQ+c3ByaW5nLWNsb3VkLXN0YXJ0ZXItY29uZmlnPC9hcnRpZmFjdElkPgogICAgPC9kZXBlbmRlbmN5Pgo8L2RlcGVuZGVuY2llcz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div><div class='content'><ol start="2">
<li><strong>Configure the microservice</strong> to use the Config Server in <code>bootstrap.yml</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nOgogIGFwcGxpY2F0aW9uOgogICAgbmFtZTogbWljcm9zZXJ2aWNlMQogIGNsb3VkOgogICAgY29uZmlnOgogICAgICB1cmk6IGh0dHA6Ly9sb2NhbGhvc3Q6ODg4OA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring:
  application:
    name: microservice1
  cloud:
    config:
      uri: http://localhost:8888</pre></div><div class='content'></div><h2><p>Step 4: Access Configuration Properties</p>
</h2>
<div class='content'><ol>
<li><strong>Use <code>@Value</code> annotation</strong> to inject configuration properties into your Spring components:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYmVhbnMuZmFjdG9yeS5hbm5vdGF0aW9uLlZhbHVlOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLkdldE1hcHBpbmc7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5iaW5kLmFubm90YXRpb24uUmVzdENvbnRyb2xsZXI7CgpAUmVzdENvbnRyb2xsZXIKcHVibGljIGNsYXNzIENvbmZpZ0NvbnRyb2xsZXIgewoKICAgIEBWYWx1ZSgiJHtjb25maWcucHJvcGVydHl9IikKICAgIHByaXZhdGUgU3RyaW5nIGNvbmZpZ1Byb3BlcnR5OwoKICAgIEBHZXRNYXBwaW5nKCIvY29uZmlnIikKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29uZmlnUHJvcGVydHkoKSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZ1Byb3BlcnR5OwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.beans.factory.annotation.Value;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class ConfigController {

    @Value(&quot;${config.property}&quot;)
    private String configProperty;

    @GetMapping(&quot;/config&quot;)
    public String getConfigProperty() {
        return configProperty;
    }
}</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Implement Configuration Management with Spring Cloud Config</p>
</h2>
<div class='content'><ol>
<li><strong>Set up a Spring Cloud Config Server</strong> as described above.</li>
<li><strong>Create a Git repository</strong> and add configuration files for a sample microservice.</li>
<li><strong>Configure a sample microservice</strong> to use the Config Server.</li>
<li><strong>Access and display a configuration property</strong> in the microservice.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Config Server Setup</strong>:</p>
<ul>
<li>Follow the steps in the practical example to set up the Config Server.</li>
</ul>
</li>
<li>
<p><strong>Configuration Repository</strong>:</p>
<ul>
<li>Create a Git repository and add a file <code>sample-microservice-dev.yml</code> with the following content:
<pre><code class="language-yaml">config:
  property: &quot;This is a development configuration&quot;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Microservice Setup</strong>:</p>
<ul>
<li>Create a Spring Boot application for the sample microservice.</li>
<li>Add dependencies and configure <code>bootstrap.yml</code> as described.</li>
</ul>
</li>
<li>
<p><strong>Access Configuration Property</strong>:</p>
<ul>
<li>Use the <code>@Value</code> annotation to inject and display the configuration property.</li>
</ul>
</li>
</ol>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this module, we covered the importance of configuration management in microservices architecture. We discussed key concepts such as centralized configuration, environment-specific configurations, dynamic configuration, and security. We also explored popular tools for configuration management and walked through a practical example using Spring Cloud Config. Finally, we provided an exercise to reinforce the learned concepts. Effective configuration management ensures that your microservices are consistent, secure, and easy to manage across different environments.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-development-microservice' title="Development of a Simple Microservice">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-containers-docker' title="Containers and Docker">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
