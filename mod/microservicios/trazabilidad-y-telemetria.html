<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traceability and Telemetry in Microservices</title>

    <link rel="alternate" href="https://campusempresa.com/mod/microservicios/trazabilidad-y-telemetria" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/microservicios/trazabilidad-y-telemetria" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/microservicios/trazabilidad-y-telemetria" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/microservicios/trazabilidad-y-telemetria" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/microservicios/trazabilidad-y-telemetria" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Attention!</b> There has been an error in the course generation, and it may contain translation errors.We are working to resolve this issue, so please use the content with caution.You can check the correct content in another language at the following link:<br>
						<a href="https://campusempresa.com/mod/microservicios/trazabilidad-y-telemetria">https://campusempresa.com/mod/microservicios/trazabilidad-y-telemetria</a></p>
					</div>
								<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Traceability and telemetry are essential components in microservices architecture. They allow developers and operators to monitor, debug, and optimize distributed services. This topic will cover key concepts, tools, and best practices for implementing traceability and telemetry in microservices.</p>
</div><h1>Traceability</h1>
<div class='content'><p>Traceability refers to the ability to follow and record the flow of requests through different services in a microservices architecture.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Span</strong>: Represents a unit of work in a distributed system. Each span has a unique identifier and can have parent-child relationships with other spans.</li>
<li><strong>Trace</strong>: A set of spans that represent a complete request from start to finish.</li>
<li><strong>Trace Context</strong>: Information that propagates along with the request to maintain the relationship between spans.</li>
</ul>
</div><h2>Popular Tools</h2>
<div class='content'><ul>
<li><strong>Jaeger</strong>: An open-source traceability tool that allows monitoring and debugging transactions in distributed systems.</li>
<li><strong>Zipkin</strong>: Another open-source tool that provides traceability and latency analysis capabilities.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'><p>Below is an example of how to implement traceability in a microservice using Jaeger and OpenTelemetry in a Python service.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBvcGVudGVsZW1ldHJ5IGltcG9ydCB0cmFjZQpmcm9tIG9wZW50ZWxlbWV0cnkuZXhwb3J0ZXIuamFlZ2VyLnRocmlmdCBpbXBvcnQgSmFlZ2VyRXhwb3J0ZXIKZnJvbSBvcGVudGVsZW1ldHJ5LnNkay50cmFjZSBpbXBvcnQgVHJhY2VyUHJvdmlkZXIKZnJvbSBvcGVudGVsZW1ldHJ5LnNkay50cmFjZS5leHBvcnQgaW1wb3J0IEJhdGNoU3BhblByb2Nlc3NvcgoKIyBDb25maWd1cmUgdGhlIHRyYWNlIHByb3ZpZGVyCnRyYWNlLnNldF90cmFjZXJfcHJvdmlkZXIoVHJhY2VyUHJvdmlkZXIoKSkKCiMgQ3JlYXRlIGEgSmFlZ2VyIGV4cG9ydGVyCmphZWdlcl9leHBvcnRlciA9IEphZWdlckV4cG9ydGVyKAogICAgYWdlbnRfaG9zdF9uYW1lPSdsb2NhbGhvc3QnLAogICAgYWdlbnRfcG9ydD02ODMxLAopCgojIENyZWF0ZSBhIHNwYW4gcHJvY2Vzc29yIGFuZCBhZGQgaXQgdG8gdGhlIHRyYWNlIHByb3ZpZGVyCnNwYW5fcHJvY2Vzc29yID0gQmF0Y2hTcGFuUHJvY2Vzc29yKGphZWdlcl9leHBvcnRlcikKdHJhY2UuZ2V0X3RyYWNlcl9wcm92aWRlcigpLmFkZF9zcGFuX3Byb2Nlc3NvcihzcGFuX3Byb2Nlc3NvcikKCiMgQ3JlYXRlIGEgdHJhY2VyCnRyYWNlciA9IHRyYWNlLmdldF90cmFjZXIoX19uYW1lX18pCgojIENyZWF0ZSBhIHNwYW4Kd2l0aCB0cmFjZXIuc3RhcnRfYXNfY3VycmVudF9zcGFuKCJleGFtcGxlLXNwYW4iKToKICAgIHByaW50KCJUaGlzIGlzIGFuIGV4YW1wbGUgc3BhbiIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from opentelemetry import trace
from opentelemetry.exporter.jaeger.thrift import JaegerExporter
from opentelemetry.sdk.trace import TracerProvider
from opentelemetry.sdk.trace.export import BatchSpanProcessor

# Configure the trace provider
trace.set_tracer_provider(TracerProvider())

# Create a Jaeger exporter
jaeger_exporter = JaegerExporter(
    agent_host_name='localhost',
    agent_port=6831,
)

# Create a span processor and add it to the trace provider
span_processor = BatchSpanProcessor(jaeger_exporter)
trace.get_tracer_provider().add_span_processor(span_processor)

# Create a tracer
tracer = trace.get_tracer(__name__)

# Create a span
with tracer.start_as_current_span(&quot;example-span&quot;):
    print(&quot;This is an example span&quot;)</pre></div><div class='content'></div><h1>Telemetry</h1>
<div class='content'><p>Telemetry refers to the collection, transmission, and analysis of performance and status data of services.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Metrics</strong>: Quantitative data representing system performance, such as latency, CPU usage, and memory.</li>
<li><strong>Logs</strong>: Records of events that occur in the system, useful for debugging and auditing.</li>
<li><strong>Alerts</strong>: Automatic notifications based on predefined conditions in metrics and logs.</li>
</ul>
</div><h2>Popular Tools</h2>
<div class='content'><ul>
<li><strong>Prometheus</strong>: An open-source monitoring and alerting system that collects and stores metrics in a time-series format.</li>
<li><strong>Grafana</strong>: An analytics and monitoring platform that integrates with Prometheus to visualize metrics and create interactive dashboards.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'><p>Below is an example of how to expose metrics in a microservice using Prometheus and Python.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBwcm9tZXRoZXVzX2NsaWVudCBpbXBvcnQgc3RhcnRfaHR0cF9zZXJ2ZXIsIFN1bW1hcnkKaW1wb3J0IHJhbmRvbQppbXBvcnQgdGltZQoKIyBDcmVhdGUgYSBzdW1tYXJ5IHRvIG1lYXN1cmUgbGF0ZW5jeQpSRVFVRVNUX1RJTUUgPSBTdW1tYXJ5KCdyZXF1ZXN0X3Byb2Nlc3Npbmdfc2Vjb25kcycsICdUaW1lIHNwZW50IHByb2Nlc3NpbmcgcmVxdWVzdCcpCgojIERlY29yYXRvciB0byBtZWFzdXJlIHRoZSBsYXRlbmN5IG9mIHRoZSBmdW5jdGlvbgpAUkVRVUVTVF9USU1FLnRpbWUoKQpkZWYgcHJvY2Vzc19yZXF1ZXN0KHQpOgogICAgIiIiU2ltdWxhdGVzIHByb2Nlc3NpbmcgYSByZXF1ZXN0IiIiCiAgICB0aW1lLnNsZWVwKHQpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgIyBTdGFydCB0aGUgSFRUUCBzZXJ2ZXIgdG8gZXhwb3NlIG1ldHJpY3MKICAgIHN0YXJ0X2h0dHBfc2VydmVyKDgwMDApCiAgICB3aGlsZSBUcnVlOgogICAgICAgICMgUHJvY2VzcyBhIHJlcXVlc3Qgd2l0aCByYW5kb20gbGF0ZW5jeQogICAgICAgIHByb2Nlc3NfcmVxdWVzdChyYW5kb20ucmFuZG9tKCkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from prometheus_client import start_http_server, Summary
import random
import time

# Create a summary to measure latency
REQUEST_TIME = Summary('request_processing_seconds', 'Time spent processing request')

# Decorator to measure the latency of the function
@REQUEST_TIME.time()
def process_request(t):
    &quot;&quot;&quot;Simulates processing a request&quot;&quot;&quot;
    time.sleep(t)

if __name__ == '__main__':
    # Start the HTTP server to expose metrics
    start_http_server(8000)
    while True:
        # Process a request with random latency
        process_request(random.random())</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Traceability and telemetry are fundamental to the success of a microservices architecture. They allow development and operations teams to monitor performance, identify issues, and optimize services. Using tools like Jaeger, Zipkin, Prometheus, and Grafana, a robust solution for microservices observability can be implemented.</p>
<p>Implementing these practices from the beginning of microservices development not only facilitates problem detection and resolution but also improves operational efficiency and end-user satisfaction.</p>
</div>
			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
