<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RESTful APIs</title>

    <link rel="alternate" href="https://campusempresa.com/mod/microservicios/03-01-apis-restful" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/microservicios/03-01-apis-restful" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/microservicios/03-01-restful-apis" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/microservicios/03-01-apis-restful" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/microservicios/03-01-apis-restful" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-03-bounded-contexts' title="Definition of Bounded Contexts">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">RESTful APIs</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-asynchronous-messaging' title="Asynchronous Messaging">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>RESTful APIs (Representational State Transfer) are a set of principles that define how web standards such as HTTP should be used to create web services. RESTful APIs are widely used in microservices architecture to enable communication between different services.</p>
</div><h1><p>Key Concepts of RESTful APIs</p>
</h1>
<div class='content'></div><h2><ol>
<li>Resources</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: Resources are the key abstraction of information in REST. They are identified by URIs (Uniform Resource Identifiers).</li>
<li><strong>Example</strong>: In an e-commerce application, resources could be <code>products</code>, <code>orders</code>, <code>customers</code>, etc.</li>
</ul>
</div><h2><ol start="2">
<li>HTTP Methods</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>GET</strong>: Retrieve a resource.</li>
<li><strong>POST</strong>: Create a new resource.</li>
<li><strong>PUT</strong>: Update an existing resource.</li>
<li><strong>DELETE</strong>: Remove a resource.</li>
<li><strong>PATCH</strong>: Partially update a resource.</li>
</ul>
</div><h2><ol start="3">
<li>Statelessness</li>
</ol>
</h2>
<div class='content'><ul>
<li>Each request from a client to a server must contain all the information needed to understand and process the request. The server does not store any state about the client session.</li>
</ul>
</div><h2><ol start="4">
<li>Representations</li>
</ol>
</h2>
<div class='content'><ul>
<li>Resources can have different representations, such as JSON, XML, or HTML. The client specifies the desired representation using the <code>Accept</code> header.</li>
</ul>
</div><h2><ol start="5">
<li>URIs</li>
</ol>
</h2>
<div class='content'><ul>
<li>URIs are used to identify resources. They should be intuitive and follow a consistent pattern.</li>
<li><strong>Example</strong>: <code>/api/products</code>, <code>/api/orders/{orderId}</code></li>
</ul>
</div><h2><ol start="6">
<li>Hypermedia as the Engine of Application State (HATEOAS)</li>
</ol>
</h2>
<div class='content'><ul>
<li>Clients interact with the application entirely through hypermedia provided dynamically by application servers.</li>
</ul>
</div><h1><p>Example of a RESTful API</p>
</h1>
<div class='content'></div><h2><p>Scenario</p>
</h2>
<div class='content'><p>Let's consider a simple e-commerce application with a <code>Product</code> resource.</p>
</div><h2><p>Resource Representation</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJpZCI6IDEsCiAgIm5hbWUiOiAiTGFwdG9wIiwKICAicHJpY2UiOiA5OTkuOTksCiAgImRlc2NyaXB0aW9uIjogIkEgaGlnaC1wZXJmb3JtYW5jZSBsYXB0b3AiLAogICJjYXRlZ29yeSI6ICJFbGVjdHJvbmljcyIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;id&quot;: 1,
  &quot;name&quot;: &quot;Laptop&quot;,
  &quot;price&quot;: 999.99,
  &quot;description&quot;: &quot;A high-performance laptop&quot;,
  &quot;category&quot;: &quot;Electronics&quot;
}</pre></div><div class='content'></div><h2><p>API Endpoints</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>HTTP Method</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/api/products</td>
<td>Retrieve a list of products</td>
</tr>
<tr>
<td>GET</td>
<td>/api/products/{id}</td>
<td>Retrieve a specific product</td>
</tr>
<tr>
<td>POST</td>
<td>/api/products</td>
<td>Create a new product</td>
</tr>
<tr>
<td>PUT</td>
<td>/api/products/{id}</td>
<td>Update an existing product</td>
</tr>
<tr>
<td>DELETE</td>
<td>/api/products/{id}</td>
<td>Delete a specific product</td>
</tr>
</tbody>
</table>
</div><h2><p>Example Code Snippet</p>
</h2>
<div class='content'><h4>GET /api/products</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIGpzb25pZnkKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKcHJvZHVjdHMgPSBbCiAgICB7ImlkIjogMSwgIm5hbWUiOiAiTGFwdG9wIiwgInByaWNlIjogOTk5Ljk5LCAiZGVzY3JpcHRpb24iOiAiQSBoaWdoLXBlcmZvcm1hbmNlIGxhcHRvcCIsICJjYXRlZ29yeSI6ICJFbGVjdHJvbmljcyJ9LAogICAgeyJpZCI6IDIsICJuYW1lIjogIlNtYXJ0cGhvbmUiLCAicHJpY2UiOiA0OTkuOTksICJkZXNjcmlwdGlvbiI6ICJBIGxhdGVzdCBtb2RlbCBzbWFydHBob25lIiwgImNhdGVnb3J5IjogIkVsZWN0cm9uaWNzIn0KXQoKQGFwcC5yb3V0ZSgnL2FwaS9wcm9kdWN0cycsIG1ldGhvZHM9WydHRVQnXSkKZGVmIGdldF9wcm9kdWN0cygpOgogICAgcmV0dXJuIGpzb25pZnkocHJvZHVjdHMpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXBwLnJ1bihkZWJ1Zz1UcnVlKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, jsonify

app = Flask(__name__)

products = [
    {&quot;id&quot;: 1, &quot;name&quot;: &quot;Laptop&quot;, &quot;price&quot;: 999.99, &quot;description&quot;: &quot;A high-performance laptop&quot;, &quot;category&quot;: &quot;Electronics&quot;},
    {&quot;id&quot;: 2, &quot;name&quot;: &quot;Smartphone&quot;, &quot;price&quot;: 499.99, &quot;description&quot;: &quot;A latest model smartphone&quot;, &quot;category&quot;: &quot;Electronics&quot;}
]

@app.route('/api/products', methods=['GET'])
def get_products():
    return jsonify(products)

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Flask</strong>: A lightweight WSGI web application framework in Python.</li>
<li><strong>jsonify</strong>: A helper function to convert Python dictionaries to JSON responses.</li>
<li><strong>products</strong>: A list of product dictionaries representing the resource.</li>
<li><strong>@app.route</strong>: A decorator to bind a function to a URL.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><p>Create a RESTful API for managing <code>orders</code> in an e-commerce application. Implement the following endpoints:</p>
<ul>
<li><code>GET /api/orders</code>: Retrieve a list of orders.</li>
<li><code>GET /api/orders/{id}</code>: Retrieve a specific order.</li>
<li><code>POST /api/orders</code>: Create a new order.</li>
<li><code>PUT /api/orders/{id}</code>: Update an existing order.</li>
<li><code>DELETE /api/orders/{id}</code>: Delete a specific order.</li>
</ul>
</div><h2><p>Solution</p>
</h2>
<div class='content'><h4>orders.py</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIGpzb25pZnksIHJlcXVlc3QKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKb3JkZXJzID0gWwogICAgeyJpZCI6IDEsICJwcm9kdWN0IjogIkxhcHRvcCIsICJxdWFudGl0eSI6IDEsICJwcmljZSI6IDk5OS45OX0sCiAgICB7ImlkIjogMiwgInByb2R1Y3QiOiAiU21hcnRwaG9uZSIsICJxdWFudGl0eSI6IDIsICJwcmljZSI6IDQ5OS45OX0KXQoKQGFwcC5yb3V0ZSgnL2FwaS9vcmRlcnMnLCBtZXRob2RzPVsnR0VUJ10pCmRlZiBnZXRfb3JkZXJzKCk6CiAgICByZXR1cm4ganNvbmlmeShvcmRlcnMpCgpAYXBwLnJvdXRlKCcvYXBpL29yZGVycy88aW50OmlkPicsIG1ldGhvZHM9WydHRVQnXSkKZGVmIGdldF9vcmRlcihpZCk6CiAgICBvcmRlciA9IG5leHQoKG9yZGVyIGZvciBvcmRlciBpbiBvcmRlcnMgaWYgb3JkZXJbImlkIl0gPT0gaWQpLCBOb25lKQogICAgcmV0dXJuIGpzb25pZnkob3JkZXIpIGlmIG9yZGVyIGVsc2UgKCcnLCA0MDQpCgpAYXBwLnJvdXRlKCcvYXBpL29yZGVycycsIG1ldGhvZHM9WydQT1NUJ10pCmRlZiBjcmVhdGVfb3JkZXIoKToKICAgIG5ld19vcmRlciA9IHJlcXVlc3QuZ2V0X2pzb24oKQogICAgbmV3X29yZGVyWyJpZCJdID0gbGVuKG9yZGVycykgKyAxCiAgICBvcmRlcnMuYXBwZW5kKG5ld19vcmRlcikKICAgIHJldHVybiBqc29uaWZ5KG5ld19vcmRlciksIDIwMQoKQGFwcC5yb3V0ZSgnL2FwaS9vcmRlcnMvPGludDppZD4nLCBtZXRob2RzPVsnUFVUJ10pCmRlZiB1cGRhdGVfb3JkZXIoaWQpOgogICAgb3JkZXIgPSBuZXh0KChvcmRlciBmb3Igb3JkZXIgaW4gb3JkZXJzIGlmIG9yZGVyWyJpZCJdID09IGlkKSwgTm9uZSkKICAgIGlmIG9yZGVyOgogICAgICAgIGRhdGEgPSByZXF1ZXN0LmdldF9qc29uKCkKICAgICAgICBvcmRlci51cGRhdGUoZGF0YSkKICAgICAgICByZXR1cm4ganNvbmlmeShvcmRlcikKICAgIHJldHVybiAoJycsIDQwNCkKCkBhcHAucm91dGUoJy9hcGkvb3JkZXJzLzxpbnQ6aWQ+JywgbWV0aG9kcz1bJ0RFTEVURSddKQpkZWYgZGVsZXRlX29yZGVyKGlkKToKICAgIGdsb2JhbCBvcmRlcnMKICAgIG9yZGVycyA9IFtvcmRlciBmb3Igb3JkZXIgaW4gb3JkZXJzIGlmIG9yZGVyWyJpZCJdICE9IGlkXQogICAgcmV0dXJuICgnJywgMjA0KQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4oZGVidWc9VHJ1ZSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, jsonify, request

app = Flask(__name__)

orders = [
    {&quot;id&quot;: 1, &quot;product&quot;: &quot;Laptop&quot;, &quot;quantity&quot;: 1, &quot;price&quot;: 999.99},
    {&quot;id&quot;: 2, &quot;product&quot;: &quot;Smartphone&quot;, &quot;quantity&quot;: 2, &quot;price&quot;: 499.99}
]

@app.route('/api/orders', methods=['GET'])
def get_orders():
    return jsonify(orders)

@app.route('/api/orders/&lt;int:id&gt;', methods=['GET'])
def get_order(id):
    order = next((order for order in orders if order[&quot;id&quot;] == id), None)
    return jsonify(order) if order else ('', 404)

@app.route('/api/orders', methods=['POST'])
def create_order():
    new_order = request.get_json()
    new_order[&quot;id&quot;] = len(orders) + 1
    orders.append(new_order)
    return jsonify(new_order), 201

@app.route('/api/orders/&lt;int:id&gt;', methods=['PUT'])
def update_order(id):
    order = next((order for order in orders if order[&quot;id&quot;] == id), None)
    if order:
        data = request.get_json()
        order.update(data)
        return jsonify(order)
    return ('', 404)

@app.route('/api/orders/&lt;int:id&gt;', methods=['DELETE'])
def delete_order(id):
    global orders
    orders = [order for order in orders if order[&quot;id&quot;] != id]
    return ('', 204)

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>GET /api/orders</strong>: Retrieves the list of orders.</li>
<li><strong>GET /api/orders/{id}</strong>: Retrieves a specific order by ID.</li>
<li><strong>POST /api/orders</strong>: Creates a new order with the provided JSON data.</li>
<li><strong>PUT /api/orders/{id}</strong>: Updates an existing order with the provided JSON data.</li>
<li><strong>DELETE /api/orders/{id}</strong>: Deletes a specific order by ID.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Mistake</strong>: Not using proper HTTP status codes.
<ul>
<li><strong>Tip</strong>: Always use appropriate status codes (e.g., 200 for success, 201 for created, 404 for not found).</li>
</ul>
</li>
<li><strong>Mistake</strong>: Ignoring statelessness.
<ul>
<li><strong>Tip</strong>: Ensure each request contains all necessary information.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Poor URI design.
<ul>
<li><strong>Tip</strong>: Use clear and consistent URIs.</li>
</ul>
</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>RESTful APIs are a fundamental part of microservices architecture, enabling services to communicate effectively. Understanding the key concepts and best practices of RESTful APIs is crucial for designing robust and scalable microservices. In the next section, we will explore asynchronous messaging as another method of communication between microservices.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-03-bounded-contexts' title="Definition of Bounded Contexts">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-asynchronous-messaging' title="Asynchronous Messaging">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
