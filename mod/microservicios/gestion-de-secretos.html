<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Management in Microservices</title>

    <link rel="alternate" href="https://campusempresa.com/mod/microservicios/gestion-de-secretos" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/microservicios/gestion-de-secretos" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/microservicios/gestion-de-secretos" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/microservicios/gestion-de-secretos" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/microservicios/gestion-de-secretos" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Attention!</b> There has been an error in the course generation, and it may contain translation errors.We are working to resolve this issue, so please use the content with caution.You can check the correct content in another language at the following link:<br>
						<a href="https://campusempresa.com/mod/microservicios/gestion-de-secretos">https://campusempresa.com/mod/microservicios/gestion-de-secretos</a></p>
					</div>
								<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Secret management is a crucial component in microservices architecture. Secrets include credentials, API keys, certificates, and other sensitive data that microservices need to function correctly. Inadequate management of these secrets can lead to significant security vulnerabilities.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Secrets</strong>: Sensitive data such as passwords, API keys, certificates, and tokens.</li>
<li><strong>Secure Storage</strong>: Methods and tools to securely store secrets.</li>
<li><strong>Controlled Access</strong>: Policies and mechanisms to ensure that only authorized services can access the secrets.</li>
<li><strong>Secret Rotation</strong>: The process of periodically updating and changing secrets to minimize risks.</li>
</ul>
</div><h1>Secure Storage of Secrets</h1>
<div class='content'></div><h2>Common Tools</h2>
<div class='content'><ul>
<li><strong>HashiCorp Vault</strong>: An open-source tool for securely storing and accessing secrets.</li>
<li><strong>AWS Secrets Manager</strong>: AWS service for managing secrets.</li>
<li><strong>Azure Key Vault</strong>: Microsoft Azure service for storing and accessing secrets.</li>
<li><strong>Kubernetes Secrets</strong>: Kubernetes native method for managing secrets.</li>
</ul>
</div><h2>Example of Using HashiCorp Vault</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBWYXVsdCBJbnN0YWxsYXRpb24KYnJldyBpbnN0YWxsIHZhdWx0CgojIFZhdWx0IEluaXRpYWxpemF0aW9uCnZhdWx0IG9wZXJhdG9yIGluaXQKCiMgU3RvcmluZyBhIHNlY3JldAp2YXVsdCBrdiBwdXQgc2VjcmV0L215YXBwL2NvbmZpZyB1c2VybmFtZT0iYWRtaW4iIHBhc3N3b3JkPSJwYXNzd29yZCIKCiMgQWNjZXNzaW5nIGEgc2VjcmV0CnZhdWx0IGt2IGdldCBzZWNyZXQvbXlhcHAvY29uZmln"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Vault Installation
brew install vault

# Vault Initialization
vault operator init

# Storing a secret
vault kv put secret/myapp/config username=&quot;admin&quot; password=&quot;password&quot;

# Accessing a secret
vault kv get secret/myapp/config</pre></div><div class='content'><p>In this example, it shows how to install and use HashiCorp Vault to store and access secrets.</p>
</div><h1>Controlled Access</h1>
<div class='content'></div><h2>Access Policies</h2>
<div class='content'><ul>
<li><strong>Principle of Least Privilege</strong>: Only services that really need access to a secret should have it.</li>
<li><strong>Authentication and Authorization</strong>: Use robust mechanisms to authenticate and authorize access to secrets.</li>
</ul>
</div><h2>Example of Policies in AWS Secrets Manager</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJWZXJzaW9uIjogIjIwMTItMTAtMTciLAogICJTdGF0ZW1lbnQiOiBbCiAgICB7CiAgICAgICJFZmZlY3QiOiAiQWxsb3ciLAogICAgICAiQWN0aW9uIjogInNlY3JldHNtYW5hZ2VyOkdldFNlY3JldFZhbHVlIiwKICAgICAgIlJlc291cmNlIjogImFybjphd3M6c2VjcmV0c21hbmFnZXI6cmVnaW9uOmFjY291bnQtaWQ6c2VjcmV0Om15c2VjcmV0IgogICAgfQogIF0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;secretsmanager:GetSecretValue&quot;,
      &quot;Resource&quot;: &quot;arn:aws:secretsmanager:region:account-id:secret:mysecret&quot;
    }
  ]
}</pre></div><div class='content'><p>This example shows an AWS IAM policy that allows a service to access a specific secret in AWS Secrets Manager.</p>
</div><h1>Secret Rotation</h1>
<div class='content'></div><h2>Importance of Rotation</h2>
<div class='content'><ul>
<li><strong>Risk Reduction</strong>: Minimizes the time during which a compromised secret can be exploited.</li>
<li><strong>Regulatory Compliance</strong>: Helps comply with regulations and security standards.</li>
</ul>
</div><h2>Example of Automatic Rotation in AWS Secrets Manager</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGJvdG8zCmltcG9ydCBqc29uCgpkZWYgcm90YXRlX3NlY3JldChldmVudCwgY29udGV4dCk6CiAgICBjbGllbnQgPSBib3RvMy5jbGllbnQoJ3NlY3JldHNtYW5hZ2VyJykKICAgIHNlY3JldF9pZCA9IGV2ZW50WydTZWNyZXRJZCddCiAgICAKICAgICMgR2V0IHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBzZWNyZXQKICAgIGN1cnJlbnRfc2VjcmV0ID0gY2xpZW50LmdldF9zZWNyZXRfdmFsdWUoU2VjcmV0SWQ9c2VjcmV0X2lkKQogICAgCiAgICAjIEdlbmVyYXRlIGEgbmV3IHZhbHVlIGZvciB0aGUgc2VjcmV0CiAgICBuZXdfc2VjcmV0X3ZhbHVlID0ganNvbi5kdW1wcyh7CiAgICAgICAgInVzZXJuYW1lIjogIm5ld19hZG1pbiIsCiAgICAgICAgInBhc3N3b3JkIjogIm5ld19wYXNzd29yZCIKICAgIH0pCiAgICAKICAgICMgVXBkYXRlIHRoZSBzZWNyZXQgd2l0aCB0aGUgbmV3IHZhbHVlCiAgICBjbGllbnQucHV0X3NlY3JldF92YWx1ZShTZWNyZXRJZD1zZWNyZXRfaWQsIFNlY3JldFN0cmluZz1uZXdfc2VjcmV0X3ZhbHVlKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import boto3
import json

def rotate_secret(event, context):
    client = boto3.client('secretsmanager')
    secret_id = event['SecretId']
    
    # Get the current value of the secret
    current_secret = client.get_secret_value(SecretId=secret_id)
    
    # Generate a new value for the secret
    new_secret_value = json.dumps({
        &quot;username&quot;: &quot;new_admin&quot;,
        &quot;password&quot;: &quot;new_password&quot;
    })
    
    # Update the secret with the new value
    client.put_secret_value(SecretId=secret_id, SecretString=new_secret_value)</pre></div><div class='content'><p>This Python script shows how to automatically rotate a secret in AWS Secrets Manager.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Secret management is essential to maintain security in a microservices architecture. Using appropriate tools for secure storage, implementing controlled access policies, and periodically rotating secrets are recommended practices to protect sensitive data. Adopting these practices not only improves security but also helps comply with industry regulations and standards.</p>
</div>
			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
