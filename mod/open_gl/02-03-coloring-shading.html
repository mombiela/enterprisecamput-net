<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coloring and Shading</title>

    <link rel="alternate" href="https://campusempresa.com/mod/open_gl/02-03-coloring-shading" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/open_gl/02-03-coloring-shading" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/open_gl/02-03-coloring-shading" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/open_gl/02-03-coloring-shading" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/open_gl/02-03-coloring-shading" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-coordinates-transformations' title="Understanding Coordinates and Transformations">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Coloring and Shading</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-using-buffers' title="Using Buffers">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to add colors and shading to your OpenGL projects. Coloring and shading are essential for creating visually appealing graphics. We will cover the basics of coloring, introduce shaders, and demonstrate how to use them to achieve different shading effects.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Coloring Basics</strong></p>
<ul>
<li>Understanding RGB color model</li>
<li>Setting colors in OpenGL</li>
</ul>
</li>
<li>
<p><strong>Introduction to Shaders</strong></p>
<ul>
<li>What are shaders?</li>
<li>Types of shaders: Vertex and Fragment shaders</li>
</ul>
</li>
<li>
<p><strong>Writing and Using Shaders</strong></p>
<ul>
<li>Creating shader programs</li>
<li>Compiling and linking shaders</li>
</ul>
</li>
<li>
<p><strong>Applying Shaders to Objects</strong></p>
<ul>
<li>Passing color data to shaders</li>
<li>Using shaders for basic shading effects</li>
</ul>
</li>
</ol>
</div><h1><p>Coloring Basics</p>
</h1>
<div class='content'></div><h2><p>Understanding RGB Color Model</p>
</h2>
<div class='content'><p>Colors in OpenGL are typically represented using the RGB (Red, Green, Blue) color model. Each color component is a value between 0.0 and 1.0.</p>
<table>
<thead>
<tr>
<th>Color Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>Intensity of red (0.0 to 1.0)</td>
</tr>
<tr>
<td>Green</td>
<td>Intensity of green (0.0 to 1.0)</td>
</tr>
<tr>
<td>Blue</td>
<td>Intensity of blue (0.0 to 1.0)</td>
</tr>
</tbody>
</table>
</div><h2><p>Setting Colors in OpenGL</p>
</h2>
<div class='content'><p>To set the color of an object in OpenGL, you use the <code>glColor3f</code> function. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xDb2xvcjNmKDEuMGYsIDAuMGYsIDAuMGYpOyAvLyBTZXRzIHRoZSBjb2xvciB0byByZWQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>glColor3f(1.0f, 0.0f, 0.0f); // Sets the color to red</pre></div><div class='content'></div><h1><p>Introduction to Shaders</p>
</h1>
<div class='content'></div><h2><p>What are Shaders?</p>
</h2>
<div class='content'><p>Shaders are small programs that run on the GPU. They are used to control the rendering pipeline and can be used to create various visual effects.</p>
</div><h2><p>Types of Shaders</p>
</h2>
<div class='content'><ol>
<li><strong>Vertex Shader</strong>: Processes each vertex's attributes.</li>
<li><strong>Fragment Shader</strong>: Processes each fragment (pixel) and determines its color.</li>
</ol>
</div><h1><p>Writing and Using Shaders</p>
</h1>
<div class='content'></div><h2><p>Creating Shader Programs</p>
</h2>
<div class='content'><p>A shader program in OpenGL consists of a vertex shader and a fragment shader. Here is a simple example of each:</p>
<p><strong>Vertex Shader (vertex_shader.glsl):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKbGF5b3V0KGxvY2F0aW9uID0gMCkgaW4gdmVjMyBhUG9zOwp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvcywgMS4wKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
layout(location = 0) in vec3 aPos;
void main()
{
    gl_Position = vec4(aPos, 1.0);
}</pre></div><div class='content'><p><strong>Fragment Shader (fragment_shader.glsl):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwp2b2lkIG1haW4oKQp7CiAgICBGcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7IC8vIFNldHMgdGhlIGNvbG9yIHRvIHJlZAp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
void main()
{
    FragColor = vec4(1.0, 0.0, 0.0, 1.0); // Sets the color to red
}</pre></div><div class='content'></div><h2><p>Compiling and Linking Shaders</p>
</h2>
<div class='content'><p>To use shaders in your OpenGL program, you need to compile and link them into a shader program. Here is an example in C++:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0x1aW50IGNvbXBpbGVTaGFkZXIoR0xlbnVtIHR5cGUsIGNvbnN0IGNoYXIqIHNvdXJjZSkgewogICAgR0x1aW50IHNoYWRlciA9IGdsQ3JlYXRlU2hhZGVyKHR5cGUpOwogICAgZ2xTaGFkZXJTb3VyY2Uoc2hhZGVyLCAxLCAmc291cmNlLCBudWxscHRyKTsKICAgIGdsQ29tcGlsZVNoYWRlcihzaGFkZXIpOwoKICAgIC8vIENoZWNrIGZvciBjb21waWxhdGlvbiBlcnJvcnMKICAgIEdMaW50IHN1Y2Nlc3M7CiAgICBnbEdldFNoYWRlcml2KHNoYWRlciwgR0xfQ09NUElMRV9TVEFUVVMsICZzdWNjZXNzKTsKICAgIGlmICghc3VjY2VzcykgewogICAgICAgIGNoYXIgaW5mb0xvZ1s1MTJdOwogICAgICAgIGdsR2V0U2hhZGVySW5mb0xvZyhzaGFkZXIsIDUxMiwgbnVsbHB0ciwgaW5mb0xvZyk7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJFUlJPUjo6U0hBREVSOjpDT01QSUxBVElPTl9GQUlMRURcbiIgPDwgaW5mb0xvZyA8PCBzdGQ6OmVuZGw7CiAgICB9CgogICAgcmV0dXJuIHNoYWRlcjsKfQoKR0x1aW50IGNyZWF0ZVNoYWRlclByb2dyYW0oY29uc3QgY2hhciogdmVydGV4U291cmNlLCBjb25zdCBjaGFyKiBmcmFnbWVudFNvdXJjZSkgewogICAgR0x1aW50IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoR0xfVkVSVEVYX1NIQURFUiwgdmVydGV4U291cmNlKTsKICAgIEdMdWludCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoR0xfRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNvdXJjZSk7CgogICAgR0x1aW50IHNoYWRlclByb2dyYW0gPSBnbENyZWF0ZVByb2dyYW0oKTsKICAgIGdsQXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIHZlcnRleFNoYWRlcik7CiAgICBnbEF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7CiAgICBnbExpbmtQcm9ncmFtKHNoYWRlclByb2dyYW0pOwoKICAgIC8vIENoZWNrIGZvciBsaW5raW5nIGVycm9ycwogICAgR0xpbnQgc3VjY2VzczsKICAgIGdsR2V0UHJvZ3JhbWl2KHNoYWRlclByb2dyYW0sIEdMX0xJTktfU1RBVFVTLCAmc3VjY2Vzcyk7CiAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICBjaGFyIGluZm9Mb2dbNTEyXTsKICAgICAgICBnbEdldFByb2dyYW1JbmZvTG9nKHNoYWRlclByb2dyYW0sIDUxMiwgbnVsbHB0ciwgaW5mb0xvZyk7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJFUlJPUjo6UFJPR1JBTTo6TElOS0lOR19GQUlMRURcbiIgPDwgaW5mb0xvZyA8PCBzdGQ6OmVuZGw7CiAgICB9CgogICAgZ2xEZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTsKICAgIGdsRGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTsKCiAgICByZXR1cm4gc2hhZGVyUHJvZ3JhbTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GLuint compileShader(GLenum type, const char* source) {
    GLuint shader = glCreateShader(type);
    glShaderSource(shader, 1, &amp;source, nullptr);
    glCompileShader(shader);

    // Check for compilation errors
    GLint success;
    glGetShaderiv(shader, GL_COMPILE_STATUS, &amp;success);
    if (!success) {
        char infoLog[512];
        glGetShaderInfoLog(shader, 512, nullptr, infoLog);
        std::cerr &lt;&lt; &quot;ERROR::SHADER::COMPILATION_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
    }

    return shader;
}

GLuint createShaderProgram(const char* vertexSource, const char* fragmentSource) {
    GLuint vertexShader = compileShader(GL_VERTEX_SHADER, vertexSource);
    GLuint fragmentShader = compileShader(GL_FRAGMENT_SHADER, fragmentSource);

    GLuint shaderProgram = glCreateProgram();
    glAttachShader(shaderProgram, vertexShader);
    glAttachShader(shaderProgram, fragmentShader);
    glLinkProgram(shaderProgram);

    // Check for linking errors
    GLint success;
    glGetProgramiv(shaderProgram, GL_LINK_STATUS, &amp;success);
    if (!success) {
        char infoLog[512];
        glGetProgramInfoLog(shaderProgram, 512, nullptr, infoLog);
        std::cerr &lt;&lt; &quot;ERROR::PROGRAM::LINKING_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
    }

    glDeleteShader(vertexShader);
    glDeleteShader(fragmentShader);

    return shaderProgram;
}</pre></div><div class='content'></div><h1><p>Applying Shaders to Objects</p>
</h1>
<div class='content'></div><h2><p>Passing Color Data to Shaders</p>
</h2>
<div class='content'><p>To pass color data to shaders, you can use uniform variables. Here is an updated fragment shader that uses a uniform variable for color:</p>
<p><strong>Fragment Shader (fragment_shader.glsl):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwp1bmlmb3JtIHZlYzQgb3VyQ29sb3I7IC8vIFVuaWZvcm0gdmFyaWFibGUgZm9yIGNvbG9yCnZvaWQgbWFpbigpCnsKICAgIEZyYWdDb2xvciA9IG91ckNvbG9yOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
uniform vec4 ourColor; // Uniform variable for color
void main()
{
    FragColor = ourColor;
}</pre></div><div class='content'></div><h2><p>Using Shaders for Basic Shading Effects</p>
</h2>
<div class='content'><p>To use the shader program and set the uniform variable, you can do the following in your OpenGL program:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVXNlIHRoZSBzaGFkZXIgcHJvZ3JhbQpnbFVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbSk7CgovLyBTZXQgdGhlIGNvbG9yIHVuaWZvcm0KR0xpbnQgY29sb3JMb2NhdGlvbiA9IGdsR2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICJvdXJDb2xvciIpOwpnbFVuaWZvcm00Zihjb2xvckxvY2F0aW9uLCAwLjBmLCAxLjBmLCAwLjBmLCAxLjBmKTsgLy8gU2V0cyB0aGUgY29sb3IgdG8gZ3JlZW4KCi8vIFJlbmRlciB5b3VyIG9iamVjdAovLyAuLi4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Use the shader program
glUseProgram(shaderProgram);

// Set the color uniform
GLint colorLocation = glGetUniformLocation(shaderProgram, &quot;ourColor&quot;);
glUniform4f(colorLocation, 0.0f, 1.0f, 0.0f, 1.0f); // Sets the color to green

// Render your object
// ...</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Color a Triangle</p>
</h2>
<div class='content'><ol>
<li>Create a simple OpenGL program that draws a triangle.</li>
<li>Write vertex and fragment shaders to color the triangle.</li>
<li>Use a uniform variable to change the color of the triangle dynamically.</li>
</ol>
<p><strong>Solution:</strong></p>
<p><strong>Vertex Shader (vertex_shader.glsl):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKbGF5b3V0KGxvY2F0aW9uID0gMCkgaW4gdmVjMyBhUG9zOwp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvcywgMS4wKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
layout(location = 0) in vec3 aPos;
void main()
{
    gl_Position = vec4(aPos, 1.0);
}</pre></div><div class='content'><p><strong>Fragment Shader (fragment_shader.glsl):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwp1bmlmb3JtIHZlYzQgb3VyQ29sb3I7CnZvaWQgbWFpbigpCnsKICAgIEZyYWdDb2xvciA9IG91ckNvbG9yOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
uniform vec4 ourColor;
void main()
{
    FragColor = ourColor;
}</pre></div><div class='content'><p><strong>OpenGL Program (main.cpp):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPEdML2dsZXcuaD4KI2luY2x1ZGUgPEdMRlcvZ2xmdzMuaD4KI2luY2x1ZGUgPGlvc3RyZWFtPgoKLy8gU2hhZGVyIHNvdXJjZXMKY29uc3QgY2hhciogdmVydGV4U2hhZGVyU291cmNlID0gUiIoCiN2ZXJzaW9uIDMzMCBjb3JlCmxheW91dChsb2NhdGlvbiA9IDApIGluIHZlYzMgYVBvczsKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFQb3MsIDEuMCk7Cn0KKSI7Cgpjb25zdCBjaGFyKiBmcmFnbWVudFNoYWRlclNvdXJjZSA9IFIiKAojdmVyc2lvbiAzMzAgY29yZQpvdXQgdmVjNCBGcmFnQ29sb3I7CnVuaWZvcm0gdmVjNCBvdXJDb2xvcjsKdm9pZCBtYWluKCkKewogICAgRnJhZ0NvbG9yID0gb3VyQ29sb3I7Cn0KKSI7CgpHTHVpbnQgY29tcGlsZVNoYWRlcihHTGVudW0gdHlwZSwgY29uc3QgY2hhciogc291cmNlKSB7CiAgICBHTHVpbnQgc2hhZGVyID0gZ2xDcmVhdGVTaGFkZXIodHlwZSk7CiAgICBnbFNoYWRlclNvdXJjZShzaGFkZXIsIDEsICZzb3VyY2UsIG51bGxwdHIpOwogICAgZ2xDb21waWxlU2hhZGVyKHNoYWRlcik7CgogICAgR0xpbnQgc3VjY2VzczsKICAgIGdsR2V0U2hhZGVyaXYoc2hhZGVyLCBHTF9DT01QSUxFX1NUQVRVUywgJnN1Y2Nlc3MpOwogICAgaWYgKCFzdWNjZXNzKSB7CiAgICAgICAgY2hhciBpbmZvTG9nWzUxMl07CiAgICAgICAgZ2xHZXRTaGFkZXJJbmZvTG9nKHNoYWRlciwgNTEyLCBudWxscHRyLCBpbmZvTG9nKTsKICAgICAgICBzdGQ6OmNlcnIgPDwgIkVSUk9SOjpTSEFERVI6OkNPTVBJTEFUSU9OX0ZBSUxFRFxuIiA8PCBpbmZvTG9nIDw8IHN0ZDo6ZW5kbDsKICAgIH0KCiAgICByZXR1cm4gc2hhZGVyOwp9CgpHTHVpbnQgY3JlYXRlU2hhZGVyUHJvZ3JhbShjb25zdCBjaGFyKiB2ZXJ0ZXhTb3VyY2UsIGNvbnN0IGNoYXIqIGZyYWdtZW50U291cmNlKSB7CiAgICBHTHVpbnQgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihHTF9WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTb3VyY2UpOwogICAgR0x1aW50IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihHTF9GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U291cmNlKTsKCiAgICBHTHVpbnQgc2hhZGVyUHJvZ3JhbSA9IGdsQ3JlYXRlUHJvZ3JhbSgpOwogICAgZ2xBdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgdmVydGV4U2hhZGVyKTsKICAgIGdsQXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTsKICAgIGdsTGlua1Byb2dyYW0oc2hhZGVyUHJvZ3JhbSk7CgogICAgR0xpbnQgc3VjY2VzczsKICAgIGdsR2V0UHJvZ3JhbWl2KHNoYWRlclByb2dyYW0sIEdMX0xJTktfU1RBVFVTLCAmc3VjY2Vzcyk7CiAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICBjaGFyIGluZm9Mb2dbNTEyXTsKICAgICAgICBnbEdldFByb2dyYW1JbmZvTG9nKHNoYWRlclByb2dyYW0sIDUxMiwgbnVsbHB0ciwgaW5mb0xvZyk7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJFUlJPUjo6UFJPR1JBTTo6TElOS0lOR19GQUlMRURcbiIgPDwgaW5mb0xvZyA8PCBzdGQ6OmVuZGw7CiAgICB9CgogICAgZ2xEZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTsKICAgIGdsRGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTsKCiAgICByZXR1cm4gc2hhZGVyUHJvZ3JhbTsKfQoKaW50IG1haW4oKSB7CiAgICAvLyBJbml0aWFsaXplIEdMRlcKICAgIGlmICghZ2xmd0luaXQoKSkgewogICAgICAgIHN0ZDo6Y2VyciA8PCAiRmFpbGVkIHRvIGluaXRpYWxpemUgR0xGVyIgPDwgc3RkOjplbmRsOwogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICAvLyBDcmVhdGUgYSB3aW5kb3dlZCBtb2RlIHdpbmRvdyBhbmQgaXRzIE9wZW5HTCBjb250ZXh0CiAgICBHTEZXd2luZG93KiB3aW5kb3cgPSBnbGZ3Q3JlYXRlV2luZG93KDgwMCwgNjAwLCAiQ29sb3JpbmcgYW5kIFNoYWRpbmciLCBudWxscHRyLCBudWxscHRyKTsKICAgIGlmICghd2luZG93KSB7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJGYWlsZWQgdG8gY3JlYXRlIEdMRlcgd2luZG93IiA8PCBzdGQ6OmVuZGw7CiAgICAgICAgZ2xmd1Rlcm1pbmF0ZSgpOwogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICAvLyBNYWtlIHRoZSB3aW5kb3cncyBjb250ZXh0IGN1cnJlbnQKICAgIGdsZndNYWtlQ29udGV4dEN1cnJlbnQod2luZG93KTsKCiAgICAvLyBJbml0aWFsaXplIEdMRVcKICAgIGlmIChnbGV3SW5pdCgpICE9IEdMRVdfT0spIHsKICAgICAgICBzdGQ6OmNlcnIgPDwgIkZhaWxlZCB0byBpbml0aWFsaXplIEdMRVciIDw8IHN0ZDo6ZW5kbDsKICAgICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgLy8gRGVmaW5lIHRoZSB2ZXJ0aWNlcyBmb3IgYSB0cmlhbmdsZQogICAgZmxvYXQgdmVydGljZXNbXSA9IHsKICAgICAgICAtMC41ZiwgLTAuNWYsIDAuMGYsCiAgICAgICAgIDAuNWYsIC0wLjVmLCAwLjBmLAogICAgICAgICAwLjBmLCAgMC41ZiwgMC4wZgogICAgfTsKCiAgICAvLyBDcmVhdGUgYSB2ZXJ0ZXggYnVmZmVyIG9iamVjdCAoVkJPKSBhbmQgYSB2ZXJ0ZXggYXJyYXkgb2JqZWN0IChWQU8pCiAgICBHTHVpbnQgVkJPLCBWQU87CiAgICBnbEdlbkJ1ZmZlcnMoMSwgJlZCTyk7CiAgICBnbEdlblZlcnRleEFycmF5cygxLCAmVkFPKTsKCiAgICAvLyBCaW5kIHRoZSBWQU8KICAgIGdsQmluZFZlcnRleEFycmF5KFZBTyk7CgogICAgLy8gQmluZCB0aGUgVkJPIGFuZCB1cGxvYWQgdGhlIHZlcnRleCBkYXRhCiAgICBnbEJpbmRCdWZmZXIoR0xfQVJSQVlfQlVGRkVSLCBWQk8pOwogICAgZ2xCdWZmZXJEYXRhKEdMX0FSUkFZX0JVRkZFUiwgc2l6ZW9mKHZlcnRpY2VzKSwgdmVydGljZXMsIEdMX1NUQVRJQ19EUkFXKTsKCiAgICAvLyBEZWZpbmUgdGhlIHZlcnRleCBhdHRyaWJ1dGUgcG9pbnRlcnMKICAgIGdsVmVydGV4QXR0cmliUG9pbnRlcigwLCAzLCBHTF9GTE9BVCwgR0xfRkFMU0UsIDMgKiBzaXplb2YoZmxvYXQpLCAodm9pZCopMCk7CiAgICBnbEVuYWJsZVZlcnRleEF0dHJpYkFycmF5KDApOwoKICAgIC8vIENyZWF0ZSBhbmQgdXNlIHRoZSBzaGFkZXIgcHJvZ3JhbQogICAgR0x1aW50IHNoYWRlclByb2dyYW0gPSBjcmVhdGVTaGFkZXJQcm9ncmFtKHZlcnRleFNoYWRlclNvdXJjZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpOwogICAgZ2xVc2VQcm9ncmFtKHNoYWRlclByb2dyYW0pOwoKICAgIC8vIE1haW4gbG9vcAogICAgd2hpbGUgKCFnbGZ3V2luZG93U2hvdWxkQ2xvc2Uod2luZG93KSkgewogICAgICAgIC8vIENsZWFyIHRoZSBzY3JlZW4KICAgICAgICBnbENsZWFyKEdMX0NPTE9SX0JVRkZFUl9CSVQpOwoKICAgICAgICAvLyBTZXQgdGhlIGNvbG9yIHVuaWZvcm0KICAgICAgICBHTGludCBjb2xvckxvY2F0aW9uID0gZ2xHZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgIm91ckNvbG9yIik7CiAgICAgICAgZ2xVbmlmb3JtNGYoY29sb3JMb2NhdGlvbiwgMC4wZiwgMS4wZiwgMC4wZiwgMS4wZik7IC8vIFNldHMgdGhlIGNvbG9yIHRvIGdyZWVuCgogICAgICAgIC8vIERyYXcgdGhlIHRyaWFuZ2xlCiAgICAgICAgZ2xCaW5kVmVydGV4QXJyYXkoVkFPKTsKICAgICAgICBnbERyYXdBcnJheXMoR0xfVFJJQU5HTEVTLCAwLCAzKTsKCiAgICAgICAgLy8gU3dhcCBidWZmZXJzCiAgICAgICAgZ2xmd1N3YXBCdWZmZXJzKHdpbmRvdyk7CgogICAgICAgIC8vIFBvbGwgZm9yIGFuZCBwcm9jZXNzIGV2ZW50cwogICAgICAgIGdsZndQb2xsRXZlbnRzKCk7CiAgICB9CgogICAgLy8gQ2xlYW4gdXAKICAgIGdsRGVsZXRlVmVydGV4QXJyYXlzKDEsICZWQU8pOwogICAgZ2xEZWxldGVCdWZmZXJzKDEsICZWQk8pOwogICAgZ2xEZWxldGVQcm9ncmFtKHNoYWRlclByb2dyYW0pOwoKICAgIGdsZndEZXN0cm95V2luZG93KHdpbmRvdyk7CiAgICBnbGZ3VGVybWluYXRlKCk7CgogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;GL/glew.h&gt;
#include &lt;GLFW/glfw3.h&gt;
#include &lt;iostream&gt;

// Shader sources
const char* vertexShaderSource = R&quot;(
#version 330 core
layout(location = 0) in vec3 aPos;
void main()
{
    gl_Position = vec4(aPos, 1.0);
}
)&quot;;

const char* fragmentShaderSource = R&quot;(
#version 330 core
out vec4 FragColor;
uniform vec4 ourColor;
void main()
{
    FragColor = ourColor;
}
)&quot;;

GLuint compileShader(GLenum type, const char* source) {
    GLuint shader = glCreateShader(type);
    glShaderSource(shader, 1, &amp;source, nullptr);
    glCompileShader(shader);

    GLint success;
    glGetShaderiv(shader, GL_COMPILE_STATUS, &amp;success);
    if (!success) {
        char infoLog[512];
        glGetShaderInfoLog(shader, 512, nullptr, infoLog);
        std::cerr &lt;&lt; &quot;ERROR::SHADER::COMPILATION_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
    }

    return shader;
}

GLuint createShaderProgram(const char* vertexSource, const char* fragmentSource) {
    GLuint vertexShader = compileShader(GL_VERTEX_SHADER, vertexSource);
    GLuint fragmentShader = compileShader(GL_FRAGMENT_SHADER, fragmentSource);

    GLuint shaderProgram = glCreateProgram();
    glAttachShader(shaderProgram, vertexShader);
    glAttachShader(shaderProgram, fragmentShader);
    glLinkProgram(shaderProgram);

    GLint success;
    glGetProgramiv(shaderProgram, GL_LINK_STATUS, &amp;success);
    if (!success) {
        char infoLog[512];
        glGetProgramInfoLog(shaderProgram, 512, nullptr, infoLog);
        std::cerr &lt;&lt; &quot;ERROR::PROGRAM::LINKING_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
    }

    glDeleteShader(vertexShader);
    glDeleteShader(fragmentShader);

    return shaderProgram;
}

int main() {
    // Initialize GLFW
    if (!glfwInit()) {
        std::cerr &lt;&lt; &quot;Failed to initialize GLFW&quot; &lt;&lt; std::endl;
        return -1;
    }

    // Create a windowed mode window and its OpenGL context
    GLFWwindow* window = glfwCreateWindow(800, 600, &quot;Coloring and Shading&quot;, nullptr, nullptr);
    if (!window) {
        std::cerr &lt;&lt; &quot;Failed to create GLFW window&quot; &lt;&lt; std::endl;
        glfwTerminate();
        return -1;
    }

    // Make the window's context current
    glfwMakeContextCurrent(window);

    // Initialize GLEW
    if (glewInit() != GLEW_OK) {
        std::cerr &lt;&lt; &quot;Failed to initialize GLEW&quot; &lt;&lt; std::endl;
        return -1;
    }

    // Define the vertices for a triangle
    float vertices[] = {
        -0.5f, -0.5f, 0.0f,
         0.5f, -0.5f, 0.0f,
         0.0f,  0.5f, 0.0f
    };

    // Create a vertex buffer object (VBO) and a vertex array object (VAO)
    GLuint VBO, VAO;
    glGenBuffers(1, &amp;VBO);
    glGenVertexArrays(1, &amp;VAO);

    // Bind the VAO
    glBindVertexArray(VAO);

    // Bind the VBO and upload the vertex data
    glBindBuffer(GL_ARRAY_BUFFER, VBO);
    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);

    // Define the vertex attribute pointers
    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);
    glEnableVertexAttribArray(0);

    // Create and use the shader program
    GLuint shaderProgram = createShaderProgram(vertexShaderSource, fragmentShaderSource);
    glUseProgram(shaderProgram);

    // Main loop
    while (!glfwWindowShouldClose(window)) {
        // Clear the screen
        glClear(GL_COLOR_BUFFER_BIT);

        // Set the color uniform
        GLint colorLocation = glGetUniformLocation(shaderProgram, &quot;ourColor&quot;);
        glUniform4f(colorLocation, 0.0f, 1.0f, 0.0f, 1.0f); // Sets the color to green

        // Draw the triangle
        glBindVertexArray(VAO);
        glDrawArrays(GL_TRIANGLES, 0, 3);

        // Swap buffers
        glfwSwapBuffers(window);

        // Poll for and process events
        glfwPollEvents();
    }

    // Clean up
    glDeleteVertexArrays(1, &amp;VAO);
    glDeleteBuffers(1, &amp;VBO);
    glDeleteProgram(shaderProgram);

    glfwDestroyWindow(window);
    glfwTerminate();

    return 0;
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of coloring and shading in OpenGL. We learned how to set colors using the RGB model, introduced shaders, and demonstrated how to write and use vertex and fragment shaders. We also provided a practical exercise to reinforce the concepts learned. In the next section, we will delve into using buffers to manage and optimize rendering in OpenGL.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-coordinates-transformations' title="Understanding Coordinates and Transformations">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-using-buffers' title="Using Buffers">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
