<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post-Processing Effects</title>

    <link rel="alternate" href="https://campusempresa.com/mod/open_gl/post-processing-effects" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/open_gl/post-processing-effects" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/open_gl/post-processing-effects" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/open_gl/post-processing-effects" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/open_gl/post-processing-effects" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='shadow-mapping'>&#x25C4;Shadow Mapping</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Post-Processing Effects</a>
	</div>
	<div class='col-4 text-end'>
					<a href='particle-systems'>Particle Systems &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Post-processing effects are techniques used to enhance the visual quality of a rendered scene in OpenGL. These effects are applied after the initial rendering pass, allowing for a variety of visual enhancements such as blurring, color correction, and more.</p>
</div><h1>Introduction to Post-Processing</h1>
<div class='content'><p>Post-processing involves rendering the scene to a texture and then applying various effects to this texture before displaying it on the screen. This approach allows for complex visual effects that would be difficult or impossible to achieve during the initial rendering pass.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Framebuffer Object (FBO)</strong>: A container for textures and renderbuffers that allows off-screen rendering.</li>
<li><strong>Render to Texture</strong>: The process of rendering a scene to a texture instead of directly to the screen.</li>
<li><strong>Screen Quad</strong>: A simple rectangle that covers the entire screen, used to display the texture with applied effects.</li>
<li><strong>Shaders</strong>: Small programs that run on the GPU to apply effects to the rendered texture.</li>
</ul>
</div><h1>Setting Up Post-Processing</h1>
<div class='content'></div><h2>Creating a Framebuffer Object (FBO)</h2>
<div class='content'><p>To perform post-processing, you first need to create an FBO and attach a texture to it.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0x1aW50IGZibzsKZ2xHZW5GcmFtZWJ1ZmZlcnMoMSwgJmZibyk7CmdsQmluZEZyYW1lYnVmZmVyKEdMX0ZSQU1FQlVGRkVSLCBmYm8pOwoKR0x1aW50IHRleHR1cmU7CmdsR2VuVGV4dHVyZXMoMSwgJnRleHR1cmUpOwpnbEJpbmRUZXh0dXJlKEdMX1RFWFRVUkVfMkQsIHRleHR1cmUpOwpnbFRleEltYWdlMkQoR0xfVEVYVFVSRV8yRCwgMCwgR0xfUkdCLCB3aWR0aCwgaGVpZ2h0LCAwLCBHTF9SR0IsIEdMX1VOU0lHTkVEX0JZVEUsIE5VTEwpOwpnbFRleFBhcmFtZXRlcmkoR0xfVEVYVFVSRV8yRCwgR0xfVEVYVFVSRV9NSU5fRklMVEVSLCBHTF9MSU5FQVIpOwpnbFRleFBhcmFtZXRlcmkoR0xfVEVYVFVSRV8yRCwgR0xfVEVYVFVSRV9NQUdfRklMVEVSLCBHTF9MSU5FQVIpOwpnbEZyYW1lYnVmZmVyVGV4dHVyZTJEKEdMX0ZSQU1FQlVGRkVSLCBHTF9DT0xPUl9BVFRBQ0hNRU5UMCwgR0xfVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7CgppZiAoZ2xDaGVja0ZyYW1lYnVmZmVyU3RhdHVzKEdMX0ZSQU1FQlVGRkVSKSAhPSBHTF9GUkFNRUJVRkZFUl9DT01QTEVURSkKICAgIHN0ZDo6Y2VyciA8PCAiRnJhbWVidWZmZXIgbm90IGNvbXBsZXRlISIgPDwgc3RkOjplbmRsOwoKZ2xCaW5kRnJhbWVidWZmZXIoR0xfRlJBTUVCVUZGRVIsIDApOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GLuint fbo;
glGenFramebuffers(1, &amp;fbo);
glBindFramebuffer(GL_FRAMEBUFFER, fbo);

GLuint texture;
glGenTextures(1, &amp;texture);
glBindTexture(GL_TEXTURE_2D, texture);
glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, NULL);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, texture, 0);

if (glCheckFramebufferStatus(GL_FRAMEBUFFER) != GL_FRAMEBUFFER_COMPLETE)
    std::cerr &lt;&lt; &quot;Framebuffer not complete!&quot; &lt;&lt; std::endl;

glBindFramebuffer(GL_FRAMEBUFFER, 0);</pre></div><div class='content'></div><h2>Rendering to the Texture</h2>
<div class='content'><p>Bind the FBO before rendering your scene to ensure it gets rendered to the texture.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xCaW5kRnJhbWVidWZmZXIoR0xfRlJBTUVCVUZGRVIsIGZibyk7CmdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCB8IEdMX0RFUFRIX0JVRkZFUl9CSVQpOwoKLy8gUmVuZGVyIHlvdXIgc2NlbmUgaGVyZQoKZ2xCaW5kRnJhbWVidWZmZXIoR0xfRlJBTUVCVUZGRVIsIDApOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>glBindFramebuffer(GL_FRAMEBUFFER, fbo);
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

// Render your scene here

glBindFramebuffer(GL_FRAMEBUFFER, 0);</pre></div><div class='content'></div><h2>Drawing the Screen Quad</h2>
<div class='content'><p>After rendering the scene to the texture, draw a screen quad and apply post-processing effects using shaders.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQmluZCB0aGUgZGVmYXVsdCBmcmFtZWJ1ZmZlcgpnbEJpbmRGcmFtZWJ1ZmZlcihHTF9GUkFNRUJVRkZFUiwgMCk7CmdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCB8IEdMX0RFUFRIX0JVRkZFUl9CSVQpOwoKLy8gVXNlIHRoZSBwb3N0LXByb2Nlc3Npbmcgc2hhZGVyCmdsVXNlUHJvZ3JhbShwb3N0UHJvY2Vzc2luZ1NoYWRlcik7CgovLyBCaW5kIHRoZSB0ZXh0dXJlCmdsQmluZFRleHR1cmUoR0xfVEVYVFVSRV8yRCwgdGV4dHVyZSk7CgovLyBEcmF3IHRoZSBzY3JlZW4gcXVhZApnbEJpbmRWZXJ0ZXhBcnJheShxdWFkVkFPKTsKZ2xEcmF3QXJyYXlzKEdMX1RSSUFOR0xFUywgMCwgNik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Bind the default framebuffer
glBindFramebuffer(GL_FRAMEBUFFER, 0);
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

// Use the post-processing shader
glUseProgram(postProcessingShader);

// Bind the texture
glBindTexture(GL_TEXTURE_2D, texture);

// Draw the screen quad
glBindVertexArray(quadVAO);
glDrawArrays(GL_TRIANGLES, 0, 6);</pre></div><div class='content'></div><h1>Common Post-Processing Effects</h1>
<div class='content'></div><h2>Grayscale Effect</h2>
<div class='content'><p>A simple effect that converts the scene to grayscale.</p>
<p><strong>Fragment Shader Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwppbiB2ZWMyIFRleENvb3JkczsKCnVuaWZvcm0gc2FtcGxlcjJEIHNjcmVlblRleHR1cmU7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIGNvbG9yID0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMpLnJnYjsKICAgIGZsb2F0IGdyYXkgPSBkb3QoY29sb3IsIHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCkpOwogICAgRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKGdyYXkpLCAxLjApOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
in vec2 TexCoords;

uniform sampler2D screenTexture;

void main()
{
    vec3 color = texture(screenTexture, TexCoords).rgb;
    float gray = dot(color, vec3(0.299, 0.587, 0.114));
    FragColor = vec4(vec3(gray), 1.0);
}</pre></div><div class='content'></div><h2>Inversion Effect</h2>
<div class='content'><p>An effect that inverts the colors of the scene.</p>
<p><strong>Fragment Shader Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwppbiB2ZWMyIFRleENvb3JkczsKCnVuaWZvcm0gc2FtcGxlcjJEIHNjcmVlblRleHR1cmU7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIGNvbG9yID0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMpLnJnYjsKICAgIEZyYWdDb2xvciA9IHZlYzQodmVjMygxLjAgLSBjb2xvciksIDEuMCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
in vec2 TexCoords;

uniform sampler2D screenTexture;

void main()
{
    vec3 color = texture(screenTexture, TexCoords).rgb;
    FragColor = vec4(vec3(1.0 - color), 1.0);
}</pre></div><div class='content'></div><h2>Gaussian Blur</h2>
<div class='content'><p>A more complex effect that blurs the scene using a Gaussian kernel.</p>
<p><strong>Fragment Shader Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwppbiB2ZWMyIFRleENvb3JkczsKCnVuaWZvcm0gc2FtcGxlcjJEIHNjcmVlblRleHR1cmU7CnVuaWZvcm0gZmxvYXQgd2VpZ2h0WzVdID0gZmxvYXRbXSgwLjIyNzAyNywgMC4xOTQ1OTQ2LCAwLjEyMTYyMTYsIDAuMDU0MDU0LCAwLjAxNjIxNik7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRleF9vZmZzZXQgPSAxLjAgLyB0ZXh0dXJlU2l6ZShzY3JlZW5UZXh0dXJlLCAwKTsgLy8gZ2V0cyBzaXplIG9mIHNpbmdsZSB0ZXhlbAogICAgdmVjMyByZXN1bHQgPSB0ZXh0dXJlKHNjcmVlblRleHR1cmUsIFRleENvb3JkcykucmdiICogd2VpZ2h0WzBdOyAvLyBjdXJyZW50IGZyYWdtZW50J3MgY29udHJpYnV0aW9uCiAgICBmb3IoaW50IGkgPSAxOyBpIDwgNTsgKytpKQogICAgewogICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKHNjcmVlblRleHR1cmUsIFRleENvb3JkcyArIHZlYzIodGV4X29mZnNldC54ICogaSwgMC4wKSkucmdiICogd2VpZ2h0W2ldOwogICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKHNjcmVlblRleHR1cmUsIFRleENvb3JkcyAtIHZlYzIodGV4X29mZnNldC54ICogaSwgMC4wKSkucmdiICogd2VpZ2h0W2ldOwogICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKHNjcmVlblRleHR1cmUsIFRleENvb3JkcyArIHZlYzIoMC4wLCB0ZXhfb2Zmc2V0LnkgKiBpKSkucmdiICogd2VpZ2h0W2ldOwogICAgICAgIHJlc3VsdCArPSB0ZXh0dXJlKHNjcmVlblRleHR1cmUsIFRleENvb3JkcyAtIHZlYzIoMC4wLCB0ZXhfb2Zmc2V0LnkgKiBpKSkucmdiICogd2VpZ2h0W2ldOwogICAgfQogICAgRnJhZ0NvbG9yID0gdmVjNChyZXN1bHQsIDEuMCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
in vec2 TexCoords;

uniform sampler2D screenTexture;
uniform float weight[5] = float[](0.227027, 0.1945946, 0.1216216, 0.054054, 0.016216);

void main()
{
    vec2 tex_offset = 1.0 / textureSize(screenTexture, 0); // gets size of single texel
    vec3 result = texture(screenTexture, TexCoords).rgb * weight[0]; // current fragment's contribution
    for(int i = 1; i &lt; 5; ++i)
    {
        result += texture(screenTexture, TexCoords + vec2(tex_offset.x * i, 0.0)).rgb * weight[i];
        result += texture(screenTexture, TexCoords - vec2(tex_offset.x * i, 0.0)).rgb * weight[i];
        result += texture(screenTexture, TexCoords + vec2(0.0, tex_offset.y * i)).rgb * weight[i];
        result += texture(screenTexture, TexCoords - vec2(0.0, tex_offset.y * i)).rgb * weight[i];
    }
    FragColor = vec4(result, 1.0);
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Post-processing effects in OpenGL allow for a wide range of visual enhancements that can significantly improve the quality and aesthetics of a rendered scene. By understanding the basics of framebuffers, textures, and shaders, you can create and apply various effects such as grayscale, inversion, and Gaussian blur. Experimenting with different shaders and techniques will help you master the art of post-processing and create stunning visual effects in your OpenGL applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='shadow-mapping'>&#x25C4;Shadow Mapping</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Post-Processing Effects</a>
	</div>
	<div class='col-4 text-end'>
					<a href='particle-systems'>Particle Systems &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
