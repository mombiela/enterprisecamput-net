<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Creating a 3D Model Viewer</title>

    <link rel="alternate" href="https://campusempresa.com/mod/open_gl/08-02-3d-model-viewer" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/open_gl/08-02-3d-model-viewer" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/open_gl/08-02-3d-model-viewer" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/open_gl/08-02-3d-model-viewer" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/open_gl/08-02-3d-model-viewer" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Building today's and tomorrow's society</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Languages</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Tools</a>
				 					<a href="/categ/foundations">Foundations</a>
				 					<a href="/categ/soft-skills">Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-building-simple-game' title="Building a Simple Game">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creating a 3D Model Viewer</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-developing-graphics-engine' title="Developing a Graphics Engine">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will guide you through the process of creating a 3D model viewer using OpenGL. This project will help you integrate various OpenGL concepts and techniques you've learned throughout the course. By the end of this module, you will have a functional 3D model viewer capable of loading and displaying 3D models.</p>
</div><h1><p>Objectives</p>
</h1>
<div class='content'><ul>
<li>Understand the basics of loading 3D models.</li>
<li>Implement camera controls for navigating the 3D space.</li>
<li>Apply textures and materials to the 3D models.</li>
<li>Handle user input for interaction.</li>
</ul>
</div><h1><p>Prerequisites</p>
</h1>
<div class='content'><p>Before starting this module, ensure you are familiar with:</p>
<ul>
<li>Basic OpenGL rendering techniques.</li>
<li>Loading and using textures.</li>
<li>Implementing lighting and shading.</li>
<li>Handling user input.</li>
</ul>
</div><h1><p>Step-by-Step Guide</p>
</h1>
<div class='content'></div><h2><ol>
<li>Setting Up the Project</li>
</ol>
</h2>
<div class='content'><p>First, set up your development environment. Ensure you have the necessary libraries and tools installed, such as GLFW for window management and GLAD for loading OpenGL functions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPEdMRlcvZ2xmdzMuaD4KI2luY2x1ZGUgPGdsYWQvZ2xhZC5oPgojaW5jbHVkZSA8aW9zdHJlYW0+CgovLyBDYWxsYmFjayBmdW5jdGlvbiBmb3IgcmVzaXppbmcgdGhlIHdpbmRvdwp2b2lkIGZyYW1lYnVmZmVyX3NpemVfY2FsbGJhY2soR0xGV3dpbmRvdyogd2luZG93LCBpbnQgd2lkdGgsIGludCBoZWlnaHQpIHsKICAgIGdsVmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7Cn0KCmludCBtYWluKCkgewogICAgLy8gSW5pdGlhbGl6ZSBHTEZXCiAgICBpZiAoIWdsZndJbml0KCkpIHsKICAgICAgICBzdGQ6OmNlcnIgPDwgIkZhaWxlZCB0byBpbml0aWFsaXplIEdMRlciIDw8IHN0ZDo6ZW5kbDsKICAgICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgLy8gQ3JlYXRlIGEgd2luZG93ZWQgbW9kZSB3aW5kb3cgYW5kIGl0cyBPcGVuR0wgY29udGV4dAogICAgR0xGV3dpbmRvdyogd2luZG93ID0gZ2xmd0NyZWF0ZVdpbmRvdyg4MDAsIDYwMCwgIjNEIE1vZGVsIFZpZXdlciIsIE5VTEwsIE5VTEwpOwogICAgaWYgKCF3aW5kb3cpIHsKICAgICAgICBzdGQ6OmNlcnIgPDwgIkZhaWxlZCB0byBjcmVhdGUgR0xGVyB3aW5kb3ciIDw8IHN0ZDo6ZW5kbDsKICAgICAgICBnbGZ3VGVybWluYXRlKCk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIC8vIE1ha2UgdGhlIHdpbmRvdydzIGNvbnRleHQgY3VycmVudAogICAgZ2xmd01ha2VDb250ZXh0Q3VycmVudCh3aW5kb3cpOwoKICAgIC8vIExvYWQgT3BlbkdMIGZ1bmN0aW9ucyB1c2luZyBHTEFECiAgICBpZiAoIWdsYWRMb2FkR0xMb2FkZXIoKEdMQURsb2FkcHJvYylnbGZ3R2V0UHJvY0FkZHJlc3MpKSB7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBHTEFEIiA8PCBzdGQ6OmVuZGw7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIC8vIFNldCB0aGUgdmlld3BvcnQKICAgIGdsVmlld3BvcnQoMCwgMCwgODAwLCA2MDApOwogICAgZ2xmd1NldEZyYW1lYnVmZmVyU2l6ZUNhbGxiYWNrKHdpbmRvdywgZnJhbWVidWZmZXJfc2l6ZV9jYWxsYmFjayk7CgogICAgLy8gTWFpbiBsb29wCiAgICB3aGlsZSAoIWdsZndXaW5kb3dTaG91bGRDbG9zZSh3aW5kb3cpKSB7CiAgICAgICAgLy8gUmVuZGVyIGhlcmUKCiAgICAgICAgLy8gU3dhcCBmcm9udCBhbmQgYmFjayBidWZmZXJzCiAgICAgICAgZ2xmd1N3YXBCdWZmZXJzKHdpbmRvdyk7CgogICAgICAgIC8vIFBvbGwgZm9yIGFuZCBwcm9jZXNzIGV2ZW50cwogICAgICAgIGdsZndQb2xsRXZlbnRzKCk7CiAgICB9CgogICAgZ2xmd1Rlcm1pbmF0ZSgpOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;GLFW/glfw3.h&gt;
#include &lt;glad/glad.h&gt;
#include &lt;iostream&gt;

// Callback function for resizing the window
void framebuffer_size_callback(GLFWwindow* window, int width, int height) {
    glViewport(0, 0, width, height);
}

int main() {
    // Initialize GLFW
    if (!glfwInit()) {
        std::cerr &lt;&lt; &quot;Failed to initialize GLFW&quot; &lt;&lt; std::endl;
        return -1;
    }

    // Create a windowed mode window and its OpenGL context
    GLFWwindow* window = glfwCreateWindow(800, 600, &quot;3D Model Viewer&quot;, NULL, NULL);
    if (!window) {
        std::cerr &lt;&lt; &quot;Failed to create GLFW window&quot; &lt;&lt; std::endl;
        glfwTerminate();
        return -1;
    }

    // Make the window's context current
    glfwMakeContextCurrent(window);

    // Load OpenGL functions using GLAD
    if (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress)) {
        std::cerr &lt;&lt; &quot;Failed to initialize GLAD&quot; &lt;&lt; std::endl;
        return -1;
    }

    // Set the viewport
    glViewport(0, 0, 800, 600);
    glfwSetFramebufferSizeCallback(window, framebuffer_size_callback);

    // Main loop
    while (!glfwWindowShouldClose(window)) {
        // Render here

        // Swap front and back buffers
        glfwSwapBuffers(window);

        // Poll for and process events
        glfwPollEvents();
    }

    glfwTerminate();
    return 0;
}</pre></div><div class='content'></div><h2><ol start="2">
<li>Loading 3D Models</li>
</ol>
</h2>
<div class='content'><p>To load 3D models, we will use the Assimp library. Assimp (Open Asset Import Library) is a library to import various well-known 3D model formats.</p>
<h4>Installing Assimp</h4>
<p>Follow the instructions on the <a href="https://github.com/assimp/assimp">Assimp GitHub page</a> to install the library.</p>
<h4>Loading a Model</h4>
<p>Create a function to load a model using Assimp.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGFzc2ltcC9JbXBvcnRlci5ocHA+CiNpbmNsdWRlIDxhc3NpbXAvc2NlbmUuaD4KI2luY2x1ZGUgPGFzc2ltcC9wb3N0cHJvY2Vzcy5oPgoKdm9pZCBsb2FkTW9kZWwoY29uc3Qgc3RkOjpzdHJpbmcmIHBhdGgpIHsKICAgIEFzc2ltcDo6SW1wb3J0ZXIgaW1wb3J0ZXI7CiAgICBjb25zdCBhaVNjZW5lKiBzY2VuZSA9IGltcG9ydGVyLlJlYWRGaWxlKHBhdGgsIGFpUHJvY2Vzc19Ucmlhbmd1bGF0ZSB8IGFpUHJvY2Vzc19GbGlwVVZzKTsKCiAgICBpZiAoIXNjZW5lIHx8IHNjZW5lLT5tRmxhZ3MgJiBBSV9TQ0VORV9GTEFHU19JTkNPTVBMRVRFIHx8ICFzY2VuZS0+bVJvb3ROb2RlKSB7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJFUlJPUjo6QVNTSU1QOjoiIDw8IGltcG9ydGVyLkdldEVycm9yU3RyaW5nKCkgPDwgc3RkOjplbmRsOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBQcm9jZXNzIHRoZSBzY2VuZQogICAgcHJvY2Vzc05vZGUoc2NlbmUtPm1Sb290Tm9kZSwgc2NlbmUpOwp9Cgp2b2lkIHByb2Nlc3NOb2RlKGFpTm9kZSogbm9kZSwgY29uc3QgYWlTY2VuZSogc2NlbmUpIHsKICAgIC8vIFByb2Nlc3MgZWFjaCBtZXNoIGxvY2F0ZWQgYXQgdGhlIGN1cnJlbnQgbm9kZQogICAgZm9yICh1bnNpZ25lZCBpbnQgaSA9IDA7IGkgPCBub2RlLT5tTnVtTWVzaGVzOyBpKyspIHsKICAgICAgICBhaU1lc2gqIG1lc2ggPSBzY2VuZS0+bU1lc2hlc1tub2RlLT5tTWVzaGVzW2ldXTsKICAgICAgICBwcm9jZXNzTWVzaChtZXNoLCBzY2VuZSk7CiAgICB9CgogICAgLy8gUmVjdXJzaXZlbHkgcHJvY2VzcyBlYWNoIG9mIHRoZSBjaGlsZHJlbiBub2RlcwogICAgZm9yICh1bnNpZ25lZCBpbnQgaSA9IDA7IGkgPCBub2RlLT5tTnVtQ2hpbGRyZW47IGkrKykgewogICAgICAgIHByb2Nlc3NOb2RlKG5vZGUtPm1DaGlsZHJlbltpXSwgc2NlbmUpOwogICAgfQp9Cgp2b2lkIHByb2Nlc3NNZXNoKGFpTWVzaCogbWVzaCwgY29uc3QgYWlTY2VuZSogc2NlbmUpIHsKICAgIC8vIFByb2Nlc3MgdmVydGV4IHBvc2l0aW9ucywgbm9ybWFscywgYW5kIHRleHR1cmUgY29vcmRpbmF0ZXMKICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgbWVzaC0+bU51bVZlcnRpY2VzOyBpKyspIHsKICAgICAgICAvLyBQcm9jZXNzIHZlcnRleCBwb3NpdGlvbnMsIG5vcm1hbHMsIGFuZCB0ZXh0dXJlIGNvb3JkaW5hdGVzIGhlcmUKICAgIH0KCiAgICAvLyBQcm9jZXNzIGluZGljZXMKICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgbWVzaC0+bU51bUZhY2VzOyBpKyspIHsKICAgICAgICBhaUZhY2UgZmFjZSA9IG1lc2gtPm1GYWNlc1tpXTsKICAgICAgICAvLyBQcm9jZXNzIGluZGljZXMgaGVyZQogICAgfQoKICAgIC8vIFByb2Nlc3MgbWF0ZXJpYWwKICAgIGlmIChtZXNoLT5tTWF0ZXJpYWxJbmRleCA+PSAwKSB7CiAgICAgICAgYWlNYXRlcmlhbCogbWF0ZXJpYWwgPSBzY2VuZS0+bU1hdGVyaWFsc1ttZXNoLT5tTWF0ZXJpYWxJbmRleF07CiAgICAgICAgLy8gUHJvY2VzcyBtYXRlcmlhbCBoZXJlCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;assimp/Importer.hpp&gt;
#include &lt;assimp/scene.h&gt;
#include &lt;assimp/postprocess.h&gt;

void loadModel(const std::string&amp; path) {
    Assimp::Importer importer;
    const aiScene* scene = importer.ReadFile(path, aiProcess_Triangulate | aiProcess_FlipUVs);

    if (!scene || scene-&gt;mFlags &amp; AI_SCENE_FLAGS_INCOMPLETE || !scene-&gt;mRootNode) {
        std::cerr &lt;&lt; &quot;ERROR::ASSIMP::&quot; &lt;&lt; importer.GetErrorString() &lt;&lt; std::endl;
        return;
    }

    // Process the scene
    processNode(scene-&gt;mRootNode, scene);
}

void processNode(aiNode* node, const aiScene* scene) {
    // Process each mesh located at the current node
    for (unsigned int i = 0; i &lt; node-&gt;mNumMeshes; i++) {
        aiMesh* mesh = scene-&gt;mMeshes[node-&gt;mMeshes[i]];
        processMesh(mesh, scene);
    }

    // Recursively process each of the children nodes
    for (unsigned int i = 0; i &lt; node-&gt;mNumChildren; i++) {
        processNode(node-&gt;mChildren[i], scene);
    }
}

void processMesh(aiMesh* mesh, const aiScene* scene) {
    // Process vertex positions, normals, and texture coordinates
    for (unsigned int i = 0; i &lt; mesh-&gt;mNumVertices; i++) {
        // Process vertex positions, normals, and texture coordinates here
    }

    // Process indices
    for (unsigned int i = 0; i &lt; mesh-&gt;mNumFaces; i++) {
        aiFace face = mesh-&gt;mFaces[i];
        // Process indices here
    }

    // Process material
    if (mesh-&gt;mMaterialIndex &gt;= 0) {
        aiMaterial* material = scene-&gt;mMaterials[mesh-&gt;mMaterialIndex];
        // Process material here
    }
}</pre></div><div class='content'></div><h2><ol start="3">
<li>Implementing Camera Controls</li>
</ol>
</h2>
<div class='content'><p>Implement a camera class to navigate the 3D space. This will allow you to move around and view the model from different angles.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ2FtZXJhIHsKcHVibGljOgogICAgZ2xtOjp2ZWMzIFBvc2l0aW9uOwogICAgZ2xtOjp2ZWMzIEZyb250OwogICAgZ2xtOjp2ZWMzIFVwOwogICAgZ2xtOjp2ZWMzIFJpZ2h0OwogICAgZ2xtOjp2ZWMzIFdvcmxkVXA7CgogICAgZmxvYXQgWWF3OwogICAgZmxvYXQgUGl0Y2g7CgogICAgZmxvYXQgTW92ZW1lbnRTcGVlZDsKICAgIGZsb2F0IE1vdXNlU2Vuc2l0aXZpdHk7CiAgICBmbG9hdCBab29tOwoKICAgIENhbWVyYShnbG06OnZlYzMgcG9zaXRpb24sIGdsbTo6dmVjMyB1cCwgZmxvYXQgeWF3LCBmbG9hdCBwaXRjaCkKICAgICAgICA6IEZyb250KGdsbTo6dmVjMygwLjBmLCAwLjBmLCAtMS4wZikpLCBNb3ZlbWVudFNwZWVkKDIuNWYpLCBNb3VzZVNlbnNpdGl2aXR5KDAuMWYpLCBab29tKDQ1LjBmKSB7CiAgICAgICAgUG9zaXRpb24gPSBwb3NpdGlvbjsKICAgICAgICBXb3JsZFVwID0gdXA7CiAgICAgICAgWWF3ID0geWF3OwogICAgICAgIFBpdGNoID0gcGl0Y2g7CiAgICAgICAgdXBkYXRlQ2FtZXJhVmVjdG9ycygpOwogICAgfQoKICAgIGdsbTo6bWF0NCBHZXRWaWV3TWF0cml4KCkgewogICAgICAgIHJldHVybiBnbG06Omxvb2tBdChQb3NpdGlvbiwgUG9zaXRpb24gKyBGcm9udCwgVXApOwogICAgfQoKICAgIHZvaWQgUHJvY2Vzc0tleWJvYXJkKENhbWVyYV9Nb3ZlbWVudCBkaXJlY3Rpb24sIGZsb2F0IGRlbHRhVGltZSkgewogICAgICAgIGZsb2F0IHZlbG9jaXR5ID0gTW92ZW1lbnRTcGVlZCAqIGRlbHRhVGltZTsKICAgICAgICBpZiAoZGlyZWN0aW9uID09IEZPUldBUkQpCiAgICAgICAgICAgIFBvc2l0aW9uICs9IEZyb250ICogdmVsb2NpdHk7CiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBCQUNLV0FSRCkKICAgICAgICAgICAgUG9zaXRpb24gLT0gRnJvbnQgKiB2ZWxvY2l0eTsKICAgICAgICBpZiAoZGlyZWN0aW9uID09IExFRlQpCiAgICAgICAgICAgIFBvc2l0aW9uIC09IFJpZ2h0ICogdmVsb2NpdHk7CiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBSSUdIVCkKICAgICAgICAgICAgUG9zaXRpb24gKz0gUmlnaHQgKiB2ZWxvY2l0eTsKICAgIH0KCiAgICB2b2lkIFByb2Nlc3NNb3VzZU1vdmVtZW50KGZsb2F0IHhvZmZzZXQsIGZsb2F0IHlvZmZzZXQsIEdMYm9vbGVhbiBjb25zdHJhaW5QaXRjaCA9IHRydWUpIHsKICAgICAgICB4b2Zmc2V0ICo9IE1vdXNlU2Vuc2l0aXZpdHk7CiAgICAgICAgeW9mZnNldCAqPSBNb3VzZVNlbnNpdGl2aXR5OwoKICAgICAgICBZYXcgKz0geG9mZnNldDsKICAgICAgICBQaXRjaCArPSB5b2Zmc2V0OwoKICAgICAgICBpZiAoY29uc3RyYWluUGl0Y2gpIHsKICAgICAgICAgICAgaWYgKFBpdGNoID4gODkuMGYpCiAgICAgICAgICAgICAgICBQaXRjaCA9IDg5LjBmOwogICAgICAgICAgICBpZiAoUGl0Y2ggPCAtODkuMGYpCiAgICAgICAgICAgICAgICBQaXRjaCA9IC04OS4wZjsKICAgICAgICB9CgogICAgICAgIHVwZGF0ZUNhbWVyYVZlY3RvcnMoKTsKICAgIH0KCiAgICB2b2lkIFByb2Nlc3NNb3VzZVNjcm9sbChmbG9hdCB5b2Zmc2V0KSB7CiAgICAgICAgaWYgKFpvb20gPj0gMS4wZiAmJiBab29tIDw9IDQ1LjBmKQogICAgICAgICAgICBab29tIC09IHlvZmZzZXQ7CiAgICAgICAgaWYgKFpvb20gPD0gMS4wZikKICAgICAgICAgICAgWm9vbSA9IDEuMGY7CiAgICAgICAgaWYgKFpvb20gPj0gNDUuMGYpCiAgICAgICAgICAgIFpvb20gPSA0NS4wZjsKICAgIH0KCnByaXZhdGU6CiAgICB2b2lkIHVwZGF0ZUNhbWVyYVZlY3RvcnMoKSB7CiAgICAgICAgZ2xtOjp2ZWMzIGZyb250OwogICAgICAgIGZyb250LnggPSBjb3MoZ2xtOjpyYWRpYW5zKFlhdykpICogY29zKGdsbTo6cmFkaWFucyhQaXRjaCkpOwogICAgICAgIGZyb250LnkgPSBzaW4oZ2xtOjpyYWRpYW5zKFBpdGNoKSk7CiAgICAgICAgZnJvbnQueiA9IHNpbihnbG06OnJhZGlhbnMoWWF3KSkgKiBjb3MoZ2xtOjpyYWRpYW5zKFBpdGNoKSk7CiAgICAgICAgRnJvbnQgPSBnbG06Om5vcm1hbGl6ZShmcm9udCk7CiAgICAgICAgUmlnaHQgPSBnbG06Om5vcm1hbGl6ZShnbG06OmNyb3NzKEZyb250LCBXb3JsZFVwKSk7CiAgICAgICAgVXAgPSBnbG06Om5vcm1hbGl6ZShnbG06OmNyb3NzKFJpZ2h0LCBGcm9udCkpOwogICAgfQp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Camera {
public:
    glm::vec3 Position;
    glm::vec3 Front;
    glm::vec3 Up;
    glm::vec3 Right;
    glm::vec3 WorldUp;

    float Yaw;
    float Pitch;

    float MovementSpeed;
    float MouseSensitivity;
    float Zoom;

    Camera(glm::vec3 position, glm::vec3 up, float yaw, float pitch)
        : Front(glm::vec3(0.0f, 0.0f, -1.0f)), MovementSpeed(2.5f), MouseSensitivity(0.1f), Zoom(45.0f) {
        Position = position;
        WorldUp = up;
        Yaw = yaw;
        Pitch = pitch;
        updateCameraVectors();
    }

    glm::mat4 GetViewMatrix() {
        return glm::lookAt(Position, Position + Front, Up);
    }

    void ProcessKeyboard(Camera_Movement direction, float deltaTime) {
        float velocity = MovementSpeed * deltaTime;
        if (direction == FORWARD)
            Position += Front * velocity;
        if (direction == BACKWARD)
            Position -= Front * velocity;
        if (direction == LEFT)
            Position -= Right * velocity;
        if (direction == RIGHT)
            Position += Right * velocity;
    }

    void ProcessMouseMovement(float xoffset, float yoffset, GLboolean constrainPitch = true) {
        xoffset *= MouseSensitivity;
        yoffset *= MouseSensitivity;

        Yaw += xoffset;
        Pitch += yoffset;

        if (constrainPitch) {
            if (Pitch &gt; 89.0f)
                Pitch = 89.0f;
            if (Pitch &lt; -89.0f)
                Pitch = -89.0f;
        }

        updateCameraVectors();
    }

    void ProcessMouseScroll(float yoffset) {
        if (Zoom &gt;= 1.0f &amp;&amp; Zoom &lt;= 45.0f)
            Zoom -= yoffset;
        if (Zoom &lt;= 1.0f)
            Zoom = 1.0f;
        if (Zoom &gt;= 45.0f)
            Zoom = 45.0f;
    }

private:
    void updateCameraVectors() {
        glm::vec3 front;
        front.x = cos(glm::radians(Yaw)) * cos(glm::radians(Pitch));
        front.y = sin(glm::radians(Pitch));
        front.z = sin(glm::radians(Yaw)) * cos(glm::radians(Pitch));
        Front = glm::normalize(front);
        Right = glm::normalize(glm::cross(Front, WorldUp));
        Up = glm::normalize(glm::cross(Right, Front));
    }
};</pre></div><div class='content'></div><h2><ol start="4">
<li>Applying Textures and Materials</li>
</ol>
</h2>
<div class='content'><p>Load and apply textures and materials to the 3D model. This involves setting up shaders and binding textures.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBsb2FkTWF0ZXJpYWxUZXh0dXJlcyhhaU1hdGVyaWFsKiBtYXQsIGFpVGV4dHVyZVR5cGUgdHlwZSwgc3RkOjpzdHJpbmcgdHlwZU5hbWUpIHsKICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgbWF0LT5HZXRUZXh0dXJlQ291bnQodHlwZSk7IGkrKykgewogICAgICAgIGFpU3RyaW5nIHN0cjsKICAgICAgICBtYXQtPkdldFRleHR1cmUodHlwZSwgaSwgJnN0cik7CiAgICAgICAgLy8gTG9hZCB0ZXh0dXJlIGFuZCBzdG9yZSBpdAogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void loadMaterialTextures(aiMaterial* mat, aiTextureType type, std::string typeName) {
    for (unsigned int i = 0; i &lt; mat-&gt;GetTextureCount(type); i++) {
        aiString str;
        mat-&gt;GetTexture(type, i, &amp;str);
        // Load texture and store it
    }
}</pre></div><div class='content'></div><h2><ol start="5">
<li>Handling User Input</li>
</ol>
</h2>
<div class='content'><p>Handle user input to interact with the 3D model viewer. This includes keyboard and mouse input for camera movement and zooming.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBwcm9jZXNzSW5wdXQoR0xGV3dpbmRvdyogd2luZG93KSB7CiAgICBpZiAoZ2xmd0dldEtleSh3aW5kb3csIEdMRldfS0VZX1cpID09IEdMRldfUFJFU1MpCiAgICAgICAgY2FtZXJhLlByb2Nlc3NLZXlib2FyZChGT1JXQVJELCBkZWx0YVRpbWUpOwogICAgaWYgKGdsZndHZXRLZXkod2luZG93LCBHTEZXX0tFWV9TKSA9PSBHTEZXX1BSRVNTKQogICAgICAgIGNhbWVyYS5Qcm9jZXNzS2V5Ym9hcmQoQkFDS1dBUkQsIGRlbHRhVGltZSk7CiAgICBpZiAoZ2xmd0dldEtleSh3aW5kb3csIEdMRldfS0VZX0EpID09IEdMRldfUFJFU1MpCiAgICAgICAgY2FtZXJhLlByb2Nlc3NLZXlib2FyZChMRUZULCBkZWx0YVRpbWUpOwogICAgaWYgKGdsZndHZXRLZXkod2luZG93LCBHTEZXX0tFWV9EKSA9PSBHTEZXX1BSRVNTKQogICAgICAgIGNhbWVyYS5Qcm9jZXNzS2V5Ym9hcmQoUklHSFQsIGRlbHRhVGltZSk7Cn0KCnZvaWQgbW91c2VfY2FsbGJhY2soR0xGV3dpbmRvdyogd2luZG93LCBkb3VibGUgeHBvcywgZG91YmxlIHlwb3MpIHsKICAgIGlmIChmaXJzdE1vdXNlKSB7CiAgICAgICAgbGFzdFggPSB4cG9zOwogICAgICAgIGxhc3RZID0geXBvczsKICAgICAgICBmaXJzdE1vdXNlID0gZmFsc2U7CiAgICB9CgogICAgZmxvYXQgeG9mZnNldCA9IHhwb3MgLSBsYXN0WDsKICAgIGZsb2F0IHlvZmZzZXQgPSBsYXN0WSAtIHlwb3M7CiAgICBsYXN0WCA9IHhwb3M7CiAgICBsYXN0WSA9IHlwb3M7CgogICAgY2FtZXJhLlByb2Nlc3NNb3VzZU1vdmVtZW50KHhvZmZzZXQsIHlvZmZzZXQpOwp9Cgp2b2lkIHNjcm9sbF9jYWxsYmFjayhHTEZXd2luZG93KiB3aW5kb3csIGRvdWJsZSB4b2Zmc2V0LCBkb3VibGUgeW9mZnNldCkgewogICAgY2FtZXJhLlByb2Nlc3NNb3VzZVNjcm9sbCh5b2Zmc2V0KTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void processInput(GLFWwindow* window) {
    if (glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS)
        camera.ProcessKeyboard(FORWARD, deltaTime);
    if (glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS)
        camera.ProcessKeyboard(BACKWARD, deltaTime);
    if (glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS)
        camera.ProcessKeyboard(LEFT, deltaTime);
    if (glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS)
        camera.ProcessKeyboard(RIGHT, deltaTime);
}

void mouse_callback(GLFWwindow* window, double xpos, double ypos) {
    if (firstMouse) {
        lastX = xpos;
        lastY = ypos;
        firstMouse = false;
    }

    float xoffset = xpos - lastX;
    float yoffset = lastY - ypos;
    lastX = xpos;
    lastY = ypos;

    camera.ProcessMouseMovement(xoffset, yoffset);
}

void scroll_callback(GLFWwindow* window, double xoffset, double yoffset) {
    camera.ProcessMouseScroll(yoffset);
}</pre></div><div class='content'></div><h2><ol start="6">
<li>Rendering the Model</li>
</ol>
</h2>
<div class='content'><p>Finally, render the loaded model using the camera and shaders.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCByZW5kZXJNb2RlbCgpIHsKICAgIC8vIFNldCB1cCBzaGFkZXJzIGFuZCB0cmFuc2Zvcm1hdGlvbnMKICAgIHNoYWRlci51c2UoKTsKICAgIGdsbTo6bWF0NCB2aWV3ID0gY2FtZXJhLkdldFZpZXdNYXRyaXgoKTsKICAgIGdsbTo6bWF0NCBwcm9qZWN0aW9uID0gZ2xtOjpwZXJzcGVjdGl2ZShnbG06OnJhZGlhbnMoY2FtZXJhLlpvb20pLCAoZmxvYXQpU0NSX1dJRFRIIC8gKGZsb2F0KVNDUl9IRUlHSFQsIDAuMWYsIDEwMC4wZik7CiAgICBzaGFkZXIuc2V0TWF0NCgidmlldyIsIHZpZXcpOwogICAgc2hhZGVyLnNldE1hdDQoInByb2plY3Rpb24iLCBwcm9qZWN0aW9uKTsKCiAgICAvLyBSZW5kZXIgdGhlIG1vZGVsCiAgICBmb3IgKHVuc2lnbmVkIGludCBpID0gMDsgaSA8IG1lc2hlcy5zaXplKCk7IGkrKykgewogICAgICAgIG1lc2hlc1tpXS5EcmF3KHNoYWRlcik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void renderModel() {
    // Set up shaders and transformations
    shader.use();
    glm::mat4 view = camera.GetViewMatrix();
    glm::mat4 projection = glm::perspective(glm::radians(camera.Zoom), (float)SCR_WIDTH / (float)SCR_HEIGHT, 0.1f, 100.0f);
    shader.setMat4(&quot;view&quot;, view);
    shader.setMat4(&quot;projection&quot;, projection);

    // Render the model
    for (unsigned int i = 0; i &lt; meshes.size(); i++) {
        meshes[i].Draw(shader);
    }
}</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<h2><p>Task</p>
</h2>
<div class='content'><p>Create a 3D model viewer that can load and display a 3D model, navigate the 3D space using camera controls, and apply textures and materials to the model.</p>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>Set up the project and include necessary libraries.</li>
<li>Implement functions to load and process 3D models using Assimp.</li>
<li>Create a camera class to handle navigation.</li>
<li>Load and apply textures and materials.</li>
<li>Handle user input for interaction.</li>
<li>Render the model using shaders and transformations.</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this module, you learned how to create a 3D model viewer using OpenGL. This project integrated various OpenGL concepts, including model loading, camera controls, textures, and user input handling. By completing this module, you have gained practical experience in building a functional 3D application, preparing you for more advanced OpenGL projects.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-building-simple-game' title="Building a Simple Game">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-developing-graphics-engine' title="Developing a Graphics Engine">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
