<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developing a Graphics Engine</title>

    <link rel="alternate" href="https://campusempresa.com/mod/open_gl/08-03-developing-graphics-engine" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/open_gl/08-03-developing-graphics-engine" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/open_gl/08-03-developing-graphics-engine" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/open_gl/08-03-developing-graphics-engine" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/open_gl/08-03-developing-graphics-engine" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-02-3d-model-viewer' title="Creating a 3D Model Viewer">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Developing a Graphics Engine</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-04-integrating-other-libraries' title="Integrating OpenGL with Other Libraries">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the process of developing a graphics engine using OpenGL. This is an advanced topic that combines many of the concepts learned in previous modules. By the end of this section, you will have a solid understanding of how to structure and implement a basic graphics engine.</p>
</div><h1><p>Objectives</p>
</h1>
<div class='content'><ul>
<li>Understand the architecture of a graphics engine.</li>
<li>Learn how to manage resources such as shaders, textures, and models.</li>
<li>Implement a rendering loop.</li>
<li>Integrate various rendering techniques.</li>
</ul>
</div><h1><ol>
<li>Graphics Engine Architecture</li>
</ol>
</h1>
<div class='content'><p>A graphics engine typically consists of several key components:</p>
<ul>
<li><strong>Renderer</strong>: Manages the rendering process.</li>
<li><strong>Resource Manager</strong>: Handles loading and managing resources like textures, shaders, and models.</li>
<li><strong>Scene Graph</strong>: Organizes and manages the objects in the scene.</li>
<li><strong>Input System</strong>: Handles user input.</li>
<li><strong>Camera</strong>: Manages the view and projection matrices.</li>
</ul>
</div><h2><p>1.1 Renderer</p>
</h2>
<div class='content'><p>The renderer is responsible for drawing objects on the screen. It interacts with the GPU and manages the rendering pipeline.</p>
</div><h2><p>1.2 Resource Manager</p>
</h2>
<div class='content'><p>The resource manager loads and stores resources such as textures, shaders, and models. It ensures that resources are efficiently managed and reused.</p>
</div><h2><p>1.3 Scene Graph</p>
</h2>
<div class='content'><p>The scene graph organizes the objects in the scene in a hierarchical structure. This allows for efficient management and rendering of complex scenes.</p>
</div><h2><p>1.4 Input System</p>
</h2>
<div class='content'><p>The input system handles user input, such as keyboard and mouse events, and translates them into actions within the engine.</p>
</div><h2><p>1.5 Camera</p>
</h2>
<div class='content'><p>The camera manages the view and projection matrices, determining what part of the scene is visible.</p>
</div><h1><ol start="2">
<li>Implementing the Renderer</li>
</ol>
</h1>
<div class='content'><p>Let's start by implementing a basic renderer. The renderer will be responsible for setting up the rendering context and drawing objects.</p>
</div><h2><p>2.1 Setting Up the Rendering Context</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPEdML2dsZXcuaD4KI2luY2x1ZGUgPEdMRlcvZ2xmdzMuaD4KI2luY2x1ZGUgPGlvc3RyZWFtPgoKY2xhc3MgUmVuZGVyZXIgewpwdWJsaWM6CiAgICBSZW5kZXJlcigpIHsKICAgICAgICBpZiAoIWdsZndJbml0KCkpIHsKICAgICAgICAgICAgc3RkOjpjZXJyIDw8ICJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBHTEZXIiA8PCBzdGQ6OmVuZGw7CiAgICAgICAgICAgIGV4aXQoRVhJVF9GQUlMVVJFKTsKICAgICAgICB9CgogICAgICAgIHdpbmRvdyA9IGdsZndDcmVhdGVXaW5kb3coODAwLCA2MDAsICJHcmFwaGljcyBFbmdpbmUiLCBudWxscHRyLCBudWxscHRyKTsKICAgICAgICBpZiAoIXdpbmRvdykgewogICAgICAgICAgICBzdGQ6OmNlcnIgPDwgIkZhaWxlZCB0byBjcmVhdGUgR0xGVyB3aW5kb3ciIDw8IHN0ZDo6ZW5kbDsKICAgICAgICAgICAgZ2xmd1Rlcm1pbmF0ZSgpOwogICAgICAgICAgICBleGl0KEVYSVRfRkFJTFVSRSk7CiAgICAgICAgfQoKICAgICAgICBnbGZ3TWFrZUNvbnRleHRDdXJyZW50KHdpbmRvdyk7CiAgICAgICAgZ2xld0V4cGVyaW1lbnRhbCA9IEdMX1RSVUU7CiAgICAgICAgaWYgKGdsZXdJbml0KCkgIT0gR0xFV19PSykgewogICAgICAgICAgICBzdGQ6OmNlcnIgPDwgIkZhaWxlZCB0byBpbml0aWFsaXplIEdMRVciIDw8IHN0ZDo6ZW5kbDsKICAgICAgICAgICAgZXhpdChFWElUX0ZBSUxVUkUpOwogICAgICAgIH0KCiAgICAgICAgZ2xFbmFibGUoR0xfREVQVEhfVEVTVCk7CiAgICB9CgogICAgflJlbmRlcmVyKCkgewogICAgICAgIGdsZndEZXN0cm95V2luZG93KHdpbmRvdyk7CiAgICAgICAgZ2xmd1Rlcm1pbmF0ZSgpOwogICAgfQoKICAgIHZvaWQgUmVuZGVyKCkgewogICAgICAgIHdoaWxlICghZ2xmd1dpbmRvd1Nob3VsZENsb3NlKHdpbmRvdykpIHsKICAgICAgICAgICAgZ2xDbGVhcihHTF9DT0xPUl9CVUZGRVJfQklUIHwgR0xfREVQVEhfQlVGRkVSX0JJVCk7CgogICAgICAgICAgICAvLyBSZW5kZXIgb2JqZWN0cyBoZXJlCgogICAgICAgICAgICBnbGZ3U3dhcEJ1ZmZlcnMod2luZG93KTsKICAgICAgICAgICAgZ2xmd1BvbGxFdmVudHMoKTsKICAgICAgICB9CiAgICB9Cgpwcml2YXRlOgogICAgR0xGV3dpbmRvdyogd2luZG93Owp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;GL/glew.h&gt;
#include &lt;GLFW/glfw3.h&gt;
#include &lt;iostream&gt;

class Renderer {
public:
    Renderer() {
        if (!glfwInit()) {
            std::cerr &lt;&lt; &quot;Failed to initialize GLFW&quot; &lt;&lt; std::endl;
            exit(EXIT_FAILURE);
        }

        window = glfwCreateWindow(800, 600, &quot;Graphics Engine&quot;, nullptr, nullptr);
        if (!window) {
            std::cerr &lt;&lt; &quot;Failed to create GLFW window&quot; &lt;&lt; std::endl;
            glfwTerminate();
            exit(EXIT_FAILURE);
        }

        glfwMakeContextCurrent(window);
        glewExperimental = GL_TRUE;
        if (glewInit() != GLEW_OK) {
            std::cerr &lt;&lt; &quot;Failed to initialize GLEW&quot; &lt;&lt; std::endl;
            exit(EXIT_FAILURE);
        }

        glEnable(GL_DEPTH_TEST);
    }

    ~Renderer() {
        glfwDestroyWindow(window);
        glfwTerminate();
    }

    void Render() {
        while (!glfwWindowShouldClose(window)) {
            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

            // Render objects here

            glfwSwapBuffers(window);
            glfwPollEvents();
        }
    }

private:
    GLFWwindow* window;
};</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>GLFW Initialization</strong>: Initializes the GLFW library.</li>
<li><strong>Window Creation</strong>: Creates a window with a specified width, height, and title.</li>
<li><strong>GLEW Initialization</strong>: Initializes the GLEW library to manage OpenGL extensions.</li>
<li><strong>Depth Testing</strong>: Enables depth testing to handle the depth of objects correctly.</li>
<li><strong>Render Loop</strong>: Clears the screen and renders objects in a loop until the window is closed.</li>
</ul>
</div><h1><ol start="3">
<li>Resource Management</li>
</ol>
</h1>
<div class='content'><p>Next, we need to implement a resource manager to handle loading and managing resources.</p>
</div><h2><p>3.1 Loading Shaders</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0cmluZz4KI2luY2x1ZGUgPGZzdHJlYW0+CiNpbmNsdWRlIDxzc3RyZWFtPgojaW5jbHVkZSA8aW9zdHJlYW0+CgpjbGFzcyBTaGFkZXIgewpwdWJsaWM6CiAgICBTaGFkZXIoY29uc3Qgc3RkOjpzdHJpbmcmIHZlcnRleFBhdGgsIGNvbnN0IHN0ZDo6c3RyaW5nJiBmcmFnbWVudFBhdGgpIHsKICAgICAgICBzdGQ6OnN0cmluZyB2ZXJ0ZXhDb2RlOwogICAgICAgIHN0ZDo6c3RyaW5nIGZyYWdtZW50Q29kZTsKICAgICAgICBzdGQ6Omlmc3RyZWFtIHZTaGFkZXJGaWxlOwogICAgICAgIHN0ZDo6aWZzdHJlYW0gZlNoYWRlckZpbGU7CgogICAgICAgIHZTaGFkZXJGaWxlLm9wZW4odmVydGV4UGF0aCk7CiAgICAgICAgZlNoYWRlckZpbGUub3BlbihmcmFnbWVudFBhdGgpOwogICAgICAgIHN0ZDo6c3RyaW5nc3RyZWFtIHZTaGFkZXJTdHJlYW0sIGZTaGFkZXJTdHJlYW07CgogICAgICAgIHZTaGFkZXJTdHJlYW0gPDwgdlNoYWRlckZpbGUucmRidWYoKTsKICAgICAgICBmU2hhZGVyU3RyZWFtIDw8IGZTaGFkZXJGaWxlLnJkYnVmKCk7CgogICAgICAgIHZTaGFkZXJGaWxlLmNsb3NlKCk7CiAgICAgICAgZlNoYWRlckZpbGUuY2xvc2UoKTsKCiAgICAgICAgdmVydGV4Q29kZSA9IHZTaGFkZXJTdHJlYW0uc3RyKCk7CiAgICAgICAgZnJhZ21lbnRDb2RlID0gZlNoYWRlclN0cmVhbS5zdHIoKTsKCiAgICAgICAgY29uc3QgY2hhciogdlNoYWRlckNvZGUgPSB2ZXJ0ZXhDb2RlLmNfc3RyKCk7CiAgICAgICAgY29uc3QgY2hhciogZlNoYWRlckNvZGUgPSBmcmFnbWVudENvZGUuY19zdHIoKTsKCiAgICAgICAgdW5zaWduZWQgaW50IHZlcnRleCwgZnJhZ21lbnQ7CiAgICAgICAgaW50IHN1Y2Nlc3M7CiAgICAgICAgY2hhciBpbmZvTG9nWzUxMl07CgogICAgICAgIHZlcnRleCA9IGdsQ3JlYXRlU2hhZGVyKEdMX1ZFUlRFWF9TSEFERVIpOwogICAgICAgIGdsU2hhZGVyU291cmNlKHZlcnRleCwgMSwgJnZTaGFkZXJDb2RlLCBudWxscHRyKTsKICAgICAgICBnbENvbXBpbGVTaGFkZXIodmVydGV4KTsKICAgICAgICBnbEdldFNoYWRlcml2KHZlcnRleCwgR0xfQ09NUElMRV9TVEFUVVMsICZzdWNjZXNzKTsKICAgICAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICAgICAgZ2xHZXRTaGFkZXJJbmZvTG9nKHZlcnRleCwgNTEyLCBudWxscHRyLCBpbmZvTG9nKTsKICAgICAgICAgICAgc3RkOjpjZXJyIDw8ICJFUlJPUjo6U0hBREVSOjpWRVJURVg6OkNPTVBJTEFUSU9OX0ZBSUxFRFxuIiA8PCBpbmZvTG9nIDw8IHN0ZDo6ZW5kbDsKICAgICAgICB9CgogICAgICAgIGZyYWdtZW50ID0gZ2xDcmVhdGVTaGFkZXIoR0xfRlJBR01FTlRfU0hBREVSKTsKICAgICAgICBnbFNoYWRlclNvdXJjZShmcmFnbWVudCwgMSwgJmZTaGFkZXJDb2RlLCBudWxscHRyKTsKICAgICAgICBnbENvbXBpbGVTaGFkZXIoZnJhZ21lbnQpOwogICAgICAgIGdsR2V0U2hhZGVyaXYoZnJhZ21lbnQsIEdMX0NPTVBJTEVfU1RBVFVTLCAmc3VjY2Vzcyk7CiAgICAgICAgaWYgKCFzdWNjZXNzKSB7CiAgICAgICAgICAgIGdsR2V0U2hhZGVySW5mb0xvZyhmcmFnbWVudCwgNTEyLCBudWxscHRyLCBpbmZvTG9nKTsKICAgICAgICAgICAgc3RkOjpjZXJyIDw8ICJFUlJPUjo6U0hBREVSOjpGUkFHTUVOVDo6Q09NUElMQVRJT05fRkFJTEVEXG4iIDw8IGluZm9Mb2cgPDwgc3RkOjplbmRsOwogICAgICAgIH0KCiAgICAgICAgSUQgPSBnbENyZWF0ZVByb2dyYW0oKTsKICAgICAgICBnbEF0dGFjaFNoYWRlcihJRCwgdmVydGV4KTsKICAgICAgICBnbEF0dGFjaFNoYWRlcihJRCwgZnJhZ21lbnQpOwogICAgICAgIGdsTGlua1Byb2dyYW0oSUQpOwogICAgICAgIGdsR2V0UHJvZ3JhbWl2KElELCBHTF9MSU5LX1NUQVRVUywgJnN1Y2Nlc3MpOwogICAgICAgIGlmICghc3VjY2VzcykgewogICAgICAgICAgICBnbEdldFByb2dyYW1JbmZvTG9nKElELCA1MTIsIG51bGxwdHIsIGluZm9Mb2cpOwogICAgICAgICAgICBzdGQ6OmNlcnIgPDwgIkVSUk9SOjpTSEFERVI6OlBST0dSQU06OkxJTktJTkdfRkFJTEVEXG4iIDw8IGluZm9Mb2cgPDwgc3RkOjplbmRsOwogICAgICAgIH0KCiAgICAgICAgZ2xEZWxldGVTaGFkZXIodmVydGV4KTsKICAgICAgICBnbERlbGV0ZVNoYWRlcihmcmFnbWVudCk7CiAgICB9CgogICAgdm9pZCB1c2UoKSB7CiAgICAgICAgZ2xVc2VQcm9ncmFtKElEKTsKICAgIH0KCnByaXZhdGU6CiAgICB1bnNpZ25lZCBpbnQgSUQ7Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;string&gt;
#include &lt;fstream&gt;
#include &lt;sstream&gt;
#include &lt;iostream&gt;

class Shader {
public:
    Shader(const std::string&amp; vertexPath, const std::string&amp; fragmentPath) {
        std::string vertexCode;
        std::string fragmentCode;
        std::ifstream vShaderFile;
        std::ifstream fShaderFile;

        vShaderFile.open(vertexPath);
        fShaderFile.open(fragmentPath);
        std::stringstream vShaderStream, fShaderStream;

        vShaderStream &lt;&lt; vShaderFile.rdbuf();
        fShaderStream &lt;&lt; fShaderFile.rdbuf();

        vShaderFile.close();
        fShaderFile.close();

        vertexCode = vShaderStream.str();
        fragmentCode = fShaderStream.str();

        const char* vShaderCode = vertexCode.c_str();
        const char* fShaderCode = fragmentCode.c_str();

        unsigned int vertex, fragment;
        int success;
        char infoLog[512];

        vertex = glCreateShader(GL_VERTEX_SHADER);
        glShaderSource(vertex, 1, &amp;vShaderCode, nullptr);
        glCompileShader(vertex);
        glGetShaderiv(vertex, GL_COMPILE_STATUS, &amp;success);
        if (!success) {
            glGetShaderInfoLog(vertex, 512, nullptr, infoLog);
            std::cerr &lt;&lt; &quot;ERROR::SHADER::VERTEX::COMPILATION_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
        }

        fragment = glCreateShader(GL_FRAGMENT_SHADER);
        glShaderSource(fragment, 1, &amp;fShaderCode, nullptr);
        glCompileShader(fragment);
        glGetShaderiv(fragment, GL_COMPILE_STATUS, &amp;success);
        if (!success) {
            glGetShaderInfoLog(fragment, 512, nullptr, infoLog);
            std::cerr &lt;&lt; &quot;ERROR::SHADER::FRAGMENT::COMPILATION_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
        }

        ID = glCreateProgram();
        glAttachShader(ID, vertex);
        glAttachShader(ID, fragment);
        glLinkProgram(ID);
        glGetProgramiv(ID, GL_LINK_STATUS, &amp;success);
        if (!success) {
            glGetProgramInfoLog(ID, 512, nullptr, infoLog);
            std::cerr &lt;&lt; &quot;ERROR::SHADER::PROGRAM::LINKING_FAILED\n&quot; &lt;&lt; infoLog &lt;&lt; std::endl;
        }

        glDeleteShader(vertex);
        glDeleteShader(fragment);
    }

    void use() {
        glUseProgram(ID);
    }

private:
    unsigned int ID;
};</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Shader Loading</strong>: Reads the vertex and fragment shader code from files.</li>
<li><strong>Shader Compilation</strong>: Compiles the vertex and fragment shaders.</li>
<li><strong>Program Linking</strong>: Links the compiled shaders into a shader program.</li>
<li><strong>Error Handling</strong>: Checks for compilation and linking errors and outputs error messages.</li>
</ul>
</div><h1><ol start="4">
<li>Scene Management</li>
</ol>
</h1>
<div class='content'><p>We will use a scene graph to manage the objects in our scene. A scene graph organizes objects hierarchically, allowing for efficient management and rendering.</p>
</div><h2><p>4.1 Scene Graph Implementation</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGdsbS9nbG0uaHBwPgojaW5jbHVkZSA8Z2xtL2d0Yy9tYXRyaXhfdHJhbnNmb3JtLmhwcD4KCmNsYXNzIFNjZW5lTm9kZSB7CnB1YmxpYzoKICAgIFNjZW5lTm9kZSgpIDogcGFyZW50KG51bGxwdHIpIHt9CgogICAgdm9pZCBBZGRDaGlsZChTY2VuZU5vZGUqIGNoaWxkKSB7CiAgICAgICAgY2hpbGQtPnBhcmVudCA9IHRoaXM7CiAgICAgICAgY2hpbGRyZW4ucHVzaF9iYWNrKGNoaWxkKTsKICAgIH0KCiAgICB2b2lkIFNldFRyYW5zZm9ybShjb25zdCBnbG06Om1hdDQmIHRyYW5zZm9ybSkgewogICAgICAgIHRoaXMtPnRyYW5zZm9ybSA9IHRyYW5zZm9ybTsKICAgIH0KCiAgICBnbG06Om1hdDQgR2V0V29ybGRUcmFuc2Zvcm0oKSBjb25zdCB7CiAgICAgICAgaWYgKHBhcmVudCkgewogICAgICAgICAgICByZXR1cm4gcGFyZW50LT5HZXRXb3JsZFRyYW5zZm9ybSgpICogdHJhbnNmb3JtOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJhbnNmb3JtOwogICAgfQoKICAgIHZvaWQgUmVuZGVyKCkgewogICAgICAgIC8vIFJlbmRlciB0aGUgbm9kZQogICAgICAgIGZvciAoYXV0byBjaGlsZCA6IGNoaWxkcmVuKSB7CiAgICAgICAgICAgIGNoaWxkLT5SZW5kZXIoKTsKICAgICAgICB9CiAgICB9Cgpwcml2YXRlOgogICAgU2NlbmVOb2RlKiBwYXJlbnQ7CiAgICBzdGQ6OnZlY3RvcjxTY2VuZU5vZGUqPiBjaGlsZHJlbjsKICAgIGdsbTo6bWF0NCB0cmFuc2Zvcm07Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;vector&gt;
#include &lt;glm/glm.hpp&gt;
#include &lt;glm/gtc/matrix_transform.hpp&gt;

class SceneNode {
public:
    SceneNode() : parent(nullptr) {}

    void AddChild(SceneNode* child) {
        child-&gt;parent = this;
        children.push_back(child);
    }

    void SetTransform(const glm::mat4&amp; transform) {
        this-&gt;transform = transform;
    }

    glm::mat4 GetWorldTransform() const {
        if (parent) {
            return parent-&gt;GetWorldTransform() * transform;
        }
        return transform;
    }

    void Render() {
        // Render the node
        for (auto child : children) {
            child-&gt;Render();
        }
    }

private:
    SceneNode* parent;
    std::vector&lt;SceneNode*&gt; children;
    glm::mat4 transform;
};</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Hierarchy Management</strong>: Allows nodes to have children and manage their hierarchy.</li>
<li><strong>Transform Management</strong>: Manages the local and world transforms of nodes.</li>
<li><strong>Rendering</strong>: Recursively renders the node and its children.</li>
</ul>
</div><h1><ol start="5">
<li>Integrating Components</li>
</ol>
</h1>
<div class='content'><p>Finally, we need to integrate all the components into a cohesive graphics engine.</p>
</div><h2><p>5.1 Main Engine Class</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgR3JhcGhpY3NFbmdpbmUgewpwdWJsaWM6CiAgICBHcmFwaGljc0VuZ2luZSgpIDogcmVuZGVyZXIoKSwgcm9vdE5vZGUoKSB7fQoKICAgIHZvaWQgUnVuKCkgewogICAgICAgIHdoaWxlICghcmVuZGVyZXIuU2hvdWxkQ2xvc2UoKSkgewogICAgICAgICAgICByZW5kZXJlci5DbGVhcigpOwoKICAgICAgICAgICAgLy8gVXBkYXRlIGFuZCByZW5kZXIgdGhlIHNjZW5lCiAgICAgICAgICAgIHJvb3ROb2RlLlJlbmRlcigpOwoKICAgICAgICAgICAgcmVuZGVyZXIuU3dhcEJ1ZmZlcnMoKTsKICAgICAgICAgICAgcmVuZGVyZXIuUG9sbEV2ZW50cygpOwogICAgICAgIH0KICAgIH0KCiAgICBTY2VuZU5vZGUmIEdldFJvb3ROb2RlKCkgewogICAgICAgIHJldHVybiByb290Tm9kZTsKICAgIH0KCnByaXZhdGU6CiAgICBSZW5kZXJlciByZW5kZXJlcjsKICAgIFNjZW5lTm9kZSByb290Tm9kZTsKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class GraphicsEngine {
public:
    GraphicsEngine() : renderer(), rootNode() {}

    void Run() {
        while (!renderer.ShouldClose()) {
            renderer.Clear();

            // Update and render the scene
            rootNode.Render();

            renderer.SwapBuffers();
            renderer.PollEvents();
        }
    }

    SceneNode&amp; GetRootNode() {
        return rootNode;
    }

private:
    Renderer renderer;
    SceneNode rootNode;
};</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Main Loop</strong>: Runs the main loop, clearing the screen, updating and rendering the scene, and handling events.</li>
<li><strong>Root Node</strong>: Manages the root node of the scene graph.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we have covered the basics of developing a graphics engine using OpenGL. We discussed the architecture of a graphics engine, implemented a renderer, managed resources, organized the scene using a scene graph, and integrated all the components into a cohesive engine. This provides a solid foundation for further development and optimization of your graphics engine.</p>
<p>In the next section, we will explore integrating OpenGL with other libraries to enhance the functionality and capabilities of your graphics engine.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-02-3d-model-viewer' title="Creating a 3D Model Viewer">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-04-integrating-other-libraries' title="Integrating OpenGL with Other Libraries">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
