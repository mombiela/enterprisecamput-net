<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Particle Systems in OpenGL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/open_gl/particle-systems" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/open_gl/particle-systems" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/open_gl/particle-systems" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/open_gl/particle-systems" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/open_gl/particle-systems" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='post-processing-effects'>&#x25C4;Post-Processing Effects</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Particle Systems in OpenGL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='optimizing-rendering-performance'>Optimizing Rendering Performance &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Particle systems are a technique used in computer graphics to simulate fuzzy phenomena, which are otherwise very hard to reproduce with conventional rendering techniques. Examples include fire, smoke, rain, and explosions. This topic will guide you through the basics to advanced concepts of implementing particle systems in OpenGL.</p>
</div><h1>Introduction to Particle Systems</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: A particle system is a collection of many small particles that together represent a fuzzy object.</li>
<li><strong>Applications</strong>: Used to simulate natural phenomena like fire, smoke, rain, snow, and explosions.</li>
</ul>
</div><h1>Basic Concepts</h1>
<div class='content'></div><h2>Particles</h2>
<div class='content'><ul>
<li><strong>Particle</strong>: The smallest unit in a particle system. Each particle has properties such as position, velocity, color, and lifespan.</li>
<li><strong>Emitter</strong>: The source from which particles are generated. It controls the rate and initial properties of particles.</li>
</ul>
</div><h2>Properties of Particles</h2>
<div class='content'><ul>
<li><strong>Position</strong>: The location of the particle in the 3D space.</li>
<li><strong>Velocity</strong>: The speed and direction of the particle.</li>
<li><strong>Color</strong>: The color of the particle, which can change over time.</li>
<li><strong>Lifespan</strong>: The duration for which the particle exists before it disappears.</li>
</ul>
</div><h1>Setting Up a Basic Particle System</h1>
<div class='content'></div><h2>Initializing OpenGL</h2>
<div class='content'><p>Before creating a particle system, ensure you have a basic OpenGL setup. Hereâ€™s a simple initialization:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPEdML2dsZXcuaD4KI2luY2x1ZGUgPEdMRlcvZ2xmdzMuaD4KCmludCBtYWluKCkgewogICAgaWYgKCFnbGZ3SW5pdCgpKSB7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIEdMRld3aW5kb3cqIHdpbmRvdyA9IGdsZndDcmVhdGVXaW5kb3coODAwLCA2MDAsICJQYXJ0aWNsZSBTeXN0ZW0iLCBOVUxMLCBOVUxMKTsKICAgIGlmICghd2luZG93KSB7CiAgICAgICAgZ2xmd1Rlcm1pbmF0ZSgpOwogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBnbGZ3TWFrZUNvbnRleHRDdXJyZW50KHdpbmRvdyk7CiAgICBnbGV3SW5pdCgpOwoKICAgIHdoaWxlICghZ2xmd1dpbmRvd1Nob3VsZENsb3NlKHdpbmRvdykpIHsKICAgICAgICBnbENsZWFyKEdMX0NPTE9SX0JVRkZFUl9CSVQgfCBHTF9ERVBUSF9CVUZGRVJfQklUKTsKCiAgICAgICAgLy8gUmVuZGVyIHBhcnRpY2xlcyBoZXJlCgogICAgICAgIGdsZndTd2FwQnVmZmVycyh3aW5kb3cpOwogICAgICAgIGdsZndQb2xsRXZlbnRzKCk7CiAgICB9CgogICAgZ2xmd0Rlc3Ryb3lXaW5kb3cod2luZG93KTsKICAgIGdsZndUZXJtaW5hdGUoKTsKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;GL/glew.h&gt;
#include &lt;GLFW/glfw3.h&gt;

int main() {
    if (!glfwInit()) {
        return -1;
    }

    GLFWwindow* window = glfwCreateWindow(800, 600, &quot;Particle System&quot;, NULL, NULL);
    if (!window) {
        glfwTerminate();
        return -1;
    }

    glfwMakeContextCurrent(window);
    glewInit();

    while (!glfwWindowShouldClose(window)) {
        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

        // Render particles here

        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    glfwDestroyWindow(window);
    glfwTerminate();
    return 0;
}</pre></div><div class='content'></div><h2>Creating a Particle Structure</h2>
<div class='content'><p>Define a structure to hold particle properties:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RydWN0IFBhcnRpY2xlIHsKICAgIGZsb2F0IHBvc2l0aW9uWzNdOwogICAgZmxvYXQgdmVsb2NpdHlbM107CiAgICBmbG9hdCBjb2xvcls0XTsKICAgIGZsb2F0IGxpZmVzcGFuOwp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>struct Particle {
    float position[3];
    float velocity[3];
    float color[4];
    float lifespan;
};</pre></div><div class='content'></div><h2>Generating Particles</h2>
<div class='content'><p>Create an emitter function to generate particles:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGNzdGRsaWI+CgpzdGQ6OnZlY3RvcjxQYXJ0aWNsZT4gcGFydGljbGVzOwoKdm9pZCBlbWl0UGFydGljbGVzKGludCBjb3VudCkgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7CiAgICAgICAgUGFydGljbGUgcDsKICAgICAgICBwLnBvc2l0aW9uWzBdID0gMC4wZjsKICAgICAgICBwLnBvc2l0aW9uWzFdID0gMC4wZjsKICAgICAgICBwLnBvc2l0aW9uWzJdID0gMC4wZjsKICAgICAgICBwLnZlbG9jaXR5WzBdID0gKGZsb2F0KHJhbmQoKSkgLyBSQU5EX01BWCkgKiAyLjBmIC0gMS4wZjsKICAgICAgICBwLnZlbG9jaXR5WzFdID0gKGZsb2F0KHJhbmQoKSkgLyBSQU5EX01BWCkgKiAyLjBmIC0gMS4wZjsKICAgICAgICBwLnZlbG9jaXR5WzJdID0gKGZsb2F0KHJhbmQoKSkgLyBSQU5EX01BWCkgKiAyLjBmIC0gMS4wZjsKICAgICAgICBwLmNvbG9yWzBdID0gMS4wZjsKICAgICAgICBwLmNvbG9yWzFdID0gMS4wZjsKICAgICAgICBwLmNvbG9yWzJdID0gMS4wZjsKICAgICAgICBwLmNvbG9yWzNdID0gMS4wZjsKICAgICAgICBwLmxpZmVzcGFuID0gNS4wZjsKICAgICAgICBwYXJ0aWNsZXMucHVzaF9iYWNrKHApOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;vector&gt;
#include &lt;cstdlib&gt;

std::vector&lt;Particle&gt; particles;

void emitParticles(int count) {
    for (int i = 0; i &lt; count; ++i) {
        Particle p;
        p.position[0] = 0.0f;
        p.position[1] = 0.0f;
        p.position[2] = 0.0f;
        p.velocity[0] = (float(rand()) / RAND_MAX) * 2.0f - 1.0f;
        p.velocity[1] = (float(rand()) / RAND_MAX) * 2.0f - 1.0f;
        p.velocity[2] = (float(rand()) / RAND_MAX) * 2.0f - 1.0f;
        p.color[0] = 1.0f;
        p.color[1] = 1.0f;
        p.color[2] = 1.0f;
        p.color[3] = 1.0f;
        p.lifespan = 5.0f;
        particles.push_back(p);
    }
}</pre></div><div class='content'></div><h2>Updating Particles</h2>
<div class='content'><p>Update the particles' properties over time:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCB1cGRhdGVQYXJ0aWNsZXMoZmxvYXQgZGVsdGFUaW1lKSB7CiAgICBmb3IgKGF1dG8mIHAgOiBwYXJ0aWNsZXMpIHsKICAgICAgICBwLnBvc2l0aW9uWzBdICs9IHAudmVsb2NpdHlbMF0gKiBkZWx0YVRpbWU7CiAgICAgICAgcC5wb3NpdGlvblsxXSArPSBwLnZlbG9jaXR5WzFdICogZGVsdGFUaW1lOwogICAgICAgIHAucG9zaXRpb25bMl0gKz0gcC52ZWxvY2l0eVsyXSAqIGRlbHRhVGltZTsKICAgICAgICBwLmxpZmVzcGFuIC09IGRlbHRhVGltZTsKICAgIH0KCiAgICAvLyBSZW1vdmUgZGVhZCBwYXJ0aWNsZXMKICAgIHBhcnRpY2xlcy5lcmFzZShzdGQ6OnJlbW92ZV9pZihwYXJ0aWNsZXMuYmVnaW4oKSwgcGFydGljbGVzLmVuZCgpLAogICAgICAgIFtdKFBhcnRpY2xlJiBwKSB7IHJldHVybiBwLmxpZmVzcGFuIDw9IDAuMGY7IH0pLCBwYXJ0aWNsZXMuZW5kKCkpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void updateParticles(float deltaTime) {
    for (auto&amp; p : particles) {
        p.position[0] += p.velocity[0] * deltaTime;
        p.position[1] += p.velocity[1] * deltaTime;
        p.position[2] += p.velocity[2] * deltaTime;
        p.lifespan -= deltaTime;
    }

    // Remove dead particles
    particles.erase(std::remove_if(particles.begin(), particles.end(),
        [](Particle&amp; p) { return p.lifespan &lt;= 0.0f; }), particles.end());
}</pre></div><div class='content'></div><h2>Rendering Particles</h2>
<div class='content'><p>Render the particles using OpenGL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCByZW5kZXJQYXJ0aWNsZXMoKSB7CiAgICBnbEJlZ2luKEdMX1BPSU5UUyk7CiAgICBmb3IgKGNvbnN0IGF1dG8mIHAgOiBwYXJ0aWNsZXMpIHsKICAgICAgICBnbENvbG9yNGZ2KHAuY29sb3IpOwogICAgICAgIGdsVmVydGV4M2Z2KHAucG9zaXRpb24pOwogICAgfQogICAgZ2xFbmQoKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void renderParticles() {
    glBegin(GL_POINTS);
    for (const auto&amp; p : particles) {
        glColor4fv(p.color);
        glVertex3fv(p.position);
    }
    glEnd();
}</pre></div><div class='content'></div><h2>Main Loop Integration</h2>
<div class='content'><p>Integrate particle emission, updating, and rendering into the main loop:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IG1haW4oKSB7CiAgICAvLyBJbml0aWFsaXphdGlvbiBjb2RlLi4uCgogICAgd2hpbGUgKCFnbGZ3V2luZG93U2hvdWxkQ2xvc2Uod2luZG93KSkgewogICAgICAgIGZsb2F0IGRlbHRhVGltZSA9IDAuMDE2ZjsgLy8gQXNzdW1lIGEgZml4ZWQgdGltZSBzdGVwIGZvciBzaW1wbGljaXR5CgogICAgICAgIGdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCB8IEdMX0RFUFRIX0JVRkZFUl9CSVQpOwoKICAgICAgICBlbWl0UGFydGljbGVzKDEwKTsgLy8gRW1pdCAxMCBwYXJ0aWNsZXMgcGVyIGZyYW1lCiAgICAgICAgdXBkYXRlUGFydGljbGVzKGRlbHRhVGltZSk7CiAgICAgICAgcmVuZGVyUGFydGljbGVzKCk7CgogICAgICAgIGdsZndTd2FwQnVmZmVycyh3aW5kb3cpOwogICAgICAgIGdsZndQb2xsRXZlbnRzKCk7CiAgICB9CgogICAgLy8gQ2xlYW51cCBjb2RlLi4uCgogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int main() {
    // Initialization code...

    while (!glfwWindowShouldClose(window)) {
        float deltaTime = 0.016f; // Assume a fixed time step for simplicity

        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

        emitParticles(10); // Emit 10 particles per frame
        updateParticles(deltaTime);
        renderParticles();

        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    // Cleanup code...

    return 0;
}</pre></div><div class='content'></div><h1>Advanced Particle System Techniques</h1>
<div class='content'></div><h2>Textured Particles</h2>
<div class='content'><ul>
<li><strong>Texture Mapping</strong>: Apply textures to particles to create more realistic effects.</li>
<li><strong>Billboarding</strong>: Ensure particles always face the camera.</li>
</ul>
</div><h2>Physics Integration</h2>
<div class='content'><ul>
<li><strong>Gravity</strong>: Apply gravitational force to particles.</li>
<li><strong>Collision Detection</strong>: Detect and respond to collisions with other objects.</li>
</ul>
</div><h2>Shaders for Particle Systems</h2>
<div class='content'><ul>
<li><strong>Vertex Shaders</strong>: Handle particle transformations.</li>
<li><strong>Fragment Shaders</strong>: Handle particle coloring and texturing.</li>
</ul>
</div><h2>Performance Optimization</h2>
<div class='content'><ul>
<li><strong>Instancing</strong>: Use instanced rendering to draw many particles efficiently.</li>
<li><strong>GPU-Based Particle Systems</strong>: Offload particle calculations to the GPU for better performance.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Particle systems are a powerful tool in computer graphics for simulating complex, dynamic phenomena. By understanding the basic concepts and progressively integrating more advanced techniques, you can create visually stunning effects in your OpenGL applications. Practice by implementing different types of particle systems and experimenting with various properties and optimizations.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='post-processing-effects'>&#x25C4;Post-Processing Effects</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Particle Systems in OpenGL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='optimizing-rendering-performance'>Optimizing Rendering Performance &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiÃ¨ncia d'Ãºs i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
