<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interacting with the System</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bash/06-03-interacting-with-system" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bash/06-03-interacting-with-system" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bash/06-03-interacting-with-system" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/bash/06-03-interacting-with-system" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/bash/06-03-interacting-with-system" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-using-sed' title="Using sed">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Interacting with the System</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-networking-with-bash' title="Networking with Bash">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this module, we will explore how to interact with the system using Bash scripts. This includes executing system commands, managing system resources, and retrieving system information. By the end of this module, you will be able to write scripts that can perform various system-level tasks efficiently.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Executing System Commands</strong>: Learn how to run system commands from within a Bash script.</li>
<li><strong>Managing System Resources</strong>: Understand how to manage system resources like CPU, memory, and disk space.</li>
<li><strong>Retrieving System Information</strong>: Learn how to gather information about the system, such as uptime, user sessions, and hardware details.</li>
</ol>
</div><h1>Executing System Commands</h1>
<div class='content'></div><h2>Running Commands</h2>
<div class='content'><p>You can execute any system command from within a Bash script by simply writing the command as you would in the terminal.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNpbXBsZSBzY3JpcHQgdG8gZGlzcGxheSB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lCgplY2hvICJUaGUgY3VycmVudCBkYXRlIGFuZCB0aW1lIGlzOiIKZGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A simple script to display the current date and time

echo &quot;The current date and time is:&quot;
date</pre></div><div class='content'></div><h2>Capturing Command Output</h2>
<div class='content'><p>To capture the output of a command into a variable, use the <code>$(command)</code> syntax.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBjYXB0dXJlIHRoZSBjdXJyZW50IHVzZXIgYW5kIGRpc3BsYXkgYSBtZXNzYWdlCgpjdXJyZW50X3VzZXI9JCh3aG9hbWkpCmVjaG8gIkhlbGxvLCAkY3VycmVudF91c2VyISBXZWxjb21lIHRvIHRoZSBzeXN0ZW0uIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to capture the current user and display a message

current_user=$(whoami)
echo &quot;Hello, $current_user! Welcome to the system.&quot;</pre></div><div class='content'></div><h2>Practical Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBjaGVjayBkaXNrIHVzYWdlIGFuZCBhbGVydCBpZiB1c2FnZSBleGNlZWRzIGEgdGhyZXNob2xkCgp0aHJlc2hvbGQ9ODAKY3VycmVudF91c2FnZT0kKGRmIC8gfCBncmVwIC8gfCBhd2sgJ3sgcHJpbnQgJDUgfScgfCBzZWQgJ3MvJS8vZycpCgppZiBbICIkY3VycmVudF91c2FnZSIgLWd0ICIkdGhyZXNob2xkIiBdOyB0aGVuCiAgZWNobyAiV2FybmluZzogRGlzayB1c2FnZSBpcyBhYm92ZSAkdGhyZXNob2xkJS4gQ3VycmVudCB1c2FnZSBpcyAkY3VycmVudF91c2FnZSUuIgplbHNlCiAgZWNobyAiRGlzayB1c2FnZSBpcyB1bmRlciBjb250cm9sLiBDdXJyZW50IHVzYWdlIGlzICRjdXJyZW50X3VzYWdlJS4iCmZp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to check disk usage and alert if usage exceeds a threshold

threshold=80
current_usage=$(df / | grep / | awk '{ print $5 }' | sed 's/%//g')

if [ &quot;$current_usage&quot; -gt &quot;$threshold&quot; ]; then
  echo &quot;Warning: Disk usage is above $threshold%. Current usage is $current_usage%.&quot;
else
  echo &quot;Disk usage is under control. Current usage is $current_usage%.&quot;
fi</pre></div><div class='content'></div><h1>Managing System Resources</h1>
<div class='content'></div><h2>CPU and Memory Usage</h2>
<div class='content'><p>You can use commands like <code>top</code>, <code>htop</code>, <code>ps</code>, and <code>free</code> to monitor CPU and memory usage.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBkaXNwbGF5IENQVSBhbmQgbWVtb3J5IHVzYWdlCgplY2hvICJDUFUgVXNhZ2U6Igp0b3AgLWIgLW4xIHwgZ3JlcCAiQ3B1KHMpIgoKZWNobyAiTWVtb3J5IFVzYWdlOiIKZnJlZSAtaA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to display CPU and memory usage

echo &quot;CPU Usage:&quot;
top -b -n1 | grep &quot;Cpu(s)&quot;

echo &quot;Memory Usage:&quot;
free -h</pre></div><div class='content'></div><h2>Disk Space</h2>
<div class='content'><p>Use the <code>df</code> command to check disk space usage.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBkaXNwbGF5IGRpc2sgc3BhY2UgdXNhZ2UKCmVjaG8gIkRpc2sgU3BhY2UgVXNhZ2U6IgpkZiAtaA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to display disk space usage

echo &quot;Disk Space Usage:&quot;
df -h</pre></div><div class='content'></div><h1>Retrieving System Information</h1>
<div class='content'></div><h2>Uptime</h2>
<div class='content'><p>The <code>uptime</code> command provides information about how long the system has been running.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBkaXNwbGF5IHN5c3RlbSB1cHRpbWUKCmVjaG8gIlN5c3RlbSBVcHRpbWU6Igp1cHRpbWU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to display system uptime

echo &quot;System Uptime:&quot;
uptime</pre></div><div class='content'></div><h2>User Sessions</h2>
<div class='content'><p>The <code>who</code> command shows who is currently logged into the system.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBkaXNwbGF5IGN1cnJlbnQgdXNlciBzZXNzaW9ucwoKZWNobyAiQ3VycmVudCBVc2VyIFNlc3Npb25zOiIKd2hv"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to display current user sessions

echo &quot;Current User Sessions:&quot;
who</pre></div><div class='content'></div><h2>Hardware Information</h2>
<div class='content'><p>Commands like <code>lscpu</code>, <code>lsblk</code>, and <code>lshw</code> provide detailed information about the system's hardware.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBBIHNjcmlwdCB0byBkaXNwbGF5IENQVSBhbmQgYmxvY2sgZGV2aWNlIGluZm9ybWF0aW9uCgplY2hvICJDUFUgSW5mb3JtYXRpb246Igpsc2NwdQoKZWNobyAiQmxvY2sgRGV2aWNlczoiCmxzYmxr"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# A script to display CPU and block device information

echo &quot;CPU Information:&quot;
lscpu

echo &quot;Block Devices:&quot;
lsblk</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: System Health Check Script</h2>
<div class='content'><p><strong>Objective</strong>: Write a script that checks the system's health by displaying CPU usage, memory usage, disk space usage, and system uptime.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBTeXN0ZW0gSGVhbHRoIENoZWNrIFNjcmlwdAoKZWNobyAiU3lzdGVtIEhlYWx0aCBDaGVjayIKCmVjaG8gIkNQVSBVc2FnZToiCnRvcCAtYiAtbjEgfCBncmVwICJDcHUocykiCgplY2hvICJNZW1vcnkgVXNhZ2U6IgpmcmVlIC1oCgplY2hvICJEaXNrIFNwYWNlIFVzYWdlOiIKZGYgLWgKCmVjaG8gIlN5c3RlbSBVcHRpbWU6Igp1cHRpbWU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# System Health Check Script

echo &quot;System Health Check&quot;

echo &quot;CPU Usage:&quot;
top -b -n1 | grep &quot;Cpu(s)&quot;

echo &quot;Memory Usage:&quot;
free -h

echo &quot;Disk Space Usage:&quot;
df -h

echo &quot;System Uptime:&quot;
uptime</pre></div><div class='content'></div><h2>Exercise 2: User Session Monitor</h2>
<div class='content'><p><strong>Objective</strong>: Write a script that monitors user sessions and alerts if a specific user logs in.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKIyBVc2VyIFNlc3Npb24gTW9uaXRvciBTY3JpcHQKCnRhcmdldF91c2VyPSJqb2huX2RvZSIKY3VycmVudF91c2Vycz0kKHdobyB8IGF3ayAneyBwcmludCAkMSB9JykKCmlmIGVjaG8gIiRjdXJyZW50X3VzZXJzIiB8IGdyZXAgLXEgIiR0YXJnZXRfdXNlciI7IHRoZW4KICBlY2hvICJBbGVydDogJHRhcmdldF91c2VyIGhhcyBsb2dnZWQgaW4uIgplbHNlCiAgZWNobyAiJHRhcmdldF91c2VyIGlzIG5vdCBsb2dnZWQgaW4uIgpmaQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
# User Session Monitor Script

target_user=&quot;john_doe&quot;
current_users=$(who | awk '{ print $1 }')

if echo &quot;$current_users&quot; | grep -q &quot;$target_user&quot;; then
  echo &quot;Alert: $target_user has logged in.&quot;
else
  echo &quot;$target_user is not logged in.&quot;
fi</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Mistake</strong>: Forgetting to make the script executable.
<ul>
<li><strong>Tip</strong>: Use <code>chmod +x script_name.sh</code> to make your script executable.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Not handling command errors.
<ul>
<li><strong>Tip</strong>: Use conditional statements to check the success or failure of commands.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Hardcoding values that may change.
<ul>
<li><strong>Tip</strong>: Use variables and configuration files to make your scripts more flexible.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this module, you learned how to interact with the system using Bash scripts. You can now execute system commands, manage system resources, and retrieve system information. These skills are essential for writing effective and efficient Bash scripts that can automate various system-level tasks. In the next module, we will explore automation and scheduling with cron jobs.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-using-sed' title="Using sed">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-networking-with-bash' title="Networking with Bash">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
