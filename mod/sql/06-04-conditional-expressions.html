<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conditional Expressions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/sql/06-04-conditional-expressions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/sql/06-04-conditional-expressions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/sql/06-04-conditional-expressions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/sql/06-04-conditional-expressions" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/sql/06-04-conditional-expressions" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-03-date-time-functions' title="Date and Time Functions">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Conditional Expressions</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-01-introduction-subqueries' title="Introduction to Subqueries">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Conditional expressions in SQL allow you to perform different actions based on certain conditions. They are essential for writing complex queries that require decision-making logic. In this section, we will cover the following key concepts:</p>
<ol>
<li><strong>CASE Statement</strong></li>
<li><strong>IF Statement</strong></li>
<li><strong>COALESCE Function</strong></li>
<li><strong>NULLIF Function</strong></li>
</ol>
</div><h1><ol>
<li>CASE Statement</li>
</ol>
</h1>
<div class='content'><p>The <code>CASE</code> statement is a powerful tool for adding conditional logic to your SQL queries. It allows you to return different values based on specified conditions.</p>
</div><h2><p>Syntax</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q0FTRQogICAgV0hFTiBjb25kaXRpb24xIFRIRU4gcmVzdWx0MQogICAgV0hFTiBjb25kaXRpb24yIFRIRU4gcmVzdWx0MgogICAgLi4uCiAgICBFTFNFIGRlZmF1bHRfcmVzdWx0CkVORA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CASE
    WHEN condition1 THEN result1
    WHEN condition2 THEN result2
    ...
    ELSE default_result
END</pre></div><div class='content'></div><h2><p>Example</p>
</h2>
<div class='content'><p>Let's consider a table <code>employees</code> with the following structure:</p>
<table>
<thead>
<tr>
<th>employee_id</th>
<th>name</th>
<th>salary</th>
<th>department</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Alice</td>
<td>50000</td>
<td>HR</td>
</tr>
<tr>
<td>2</td>
<td>Bob</td>
<td>60000</td>
<td>IT</td>
</tr>
<tr>
<td>3</td>
<td>Charlie</td>
<td>55000</td>
<td>HR</td>
</tr>
<tr>
<td>4</td>
<td>David</td>
<td>70000</td>
<td>IT</td>
</tr>
<tr>
<td>5</td>
<td>Eve</td>
<td>65000</td>
<td>Finance</td>
</tr>
</tbody>
</table>
<p>We want to categorize employees based on their salary:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG5hbWUsCiAgICAgICBzYWxhcnksCiAgICAgICBDQVNFCiAgICAgICAgICAgV0hFTiBzYWxhcnkgPCA1NTAwMCBUSEVOICdMb3cnCiAgICAgICAgICAgV0hFTiBzYWxhcnkgQkVUV0VFTiA1NTAwMCBBTkQgNjUwMDAgVEhFTiAnTWVkaXVtJwogICAgICAgICAgIEVMU0UgJ0hpZ2gnCiAgICAgICBFTkQgQVMgc2FsYXJ5X2NhdGVnb3J5CkZST00gZW1wbG95ZWVzOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT name,
       salary,
       CASE
           WHEN salary &lt; 55000 THEN 'Low'
           WHEN salary BETWEEN 55000 AND 65000 THEN 'Medium'
           ELSE 'High'
       END AS salary_category
FROM employees;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>WHEN salary &lt; 55000 THEN 'Low'</strong>: If the salary is less than 55000, the category is 'Low'.</li>
<li><strong>WHEN salary BETWEEN 55000 AND 65000 THEN 'Medium'</strong>: If the salary is between 55000 and 65000, the category is 'Medium'.</li>
<li><strong>ELSE 'High'</strong>: For all other cases, the category is 'High'.</li>
</ul>
</div><h2><p>Result</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>name</th>
<th>salary</th>
<th>salary_category</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alice</td>
<td>50000</td>
<td>Low</td>
</tr>
<tr>
<td>Bob</td>
<td>60000</td>
<td>Medium</td>
</tr>
<tr>
<td>Charlie</td>
<td>55000</td>
<td>Medium</td>
</tr>
<tr>
<td>David</td>
<td>70000</td>
<td>High</td>
</tr>
<tr>
<td>Eve</td>
<td>65000</td>
<td>Medium</td>
</tr>
</tbody>
</table>
</div><h1><ol start="2">
<li>IF Statement</li>
</ol>
</h1>
<div class='content'><p>The <code>IF</code> statement is another way to add conditional logic, but it is less commonly used in standard SQL and more often found in specific SQL dialects like MySQL.</p>
</div><h2><p>Syntax</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUYoY29uZGl0aW9uLCB0cnVlX3Jlc3VsdCwgZmFsc2VfcmVzdWx0KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IF(condition, true_result, false_result)</pre></div><div class='content'></div><h2><p>Example</p>
</h2>
<div class='content'><p>Using the same <code>employees</code> table, we can categorize employees based on their department:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG5hbWUsCiAgICAgICBkZXBhcnRtZW50LAogICAgICAgSUYoZGVwYXJ0bWVudCA9ICdJVCcsICdUZWNoJywgJ05vbi1UZWNoJykgQVMgZGVwYXJ0bWVudF9jYXRlZ29yeQpGUk9NIGVtcGxveWVlczs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT name,
       department,
       IF(department = 'IT', 'Tech', 'Non-Tech') AS department_category
FROM employees;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>IF(department = 'IT', 'Tech', 'Non-Tech')</strong>: If the department is 'IT', the category is 'Tech'. Otherwise, it is 'Non-Tech'.</li>
</ul>
</div><h2><p>Result</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>name</th>
<th>department</th>
<th>department_category</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alice</td>
<td>HR</td>
<td>Non-Tech</td>
</tr>
<tr>
<td>Bob</td>
<td>IT</td>
<td>Tech</td>
</tr>
<tr>
<td>Charlie</td>
<td>HR</td>
<td>Non-Tech</td>
</tr>
<tr>
<td>David</td>
<td>IT</td>
<td>Tech</td>
</tr>
<tr>
<td>Eve</td>
<td>Finance</td>
<td>Non-Tech</td>
</tr>
</tbody>
</table>
</div><h1><ol start="3">
<li>COALESCE Function</li>
</ol>
</h1>
<div class='content'><p>The <code>COALESCE</code> function returns the first non-null value in a list of expressions. It is useful for handling null values.</p>
</div><h2><p>Syntax</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q09BTEVTQ0UoZXhwcmVzc2lvbjEsIGV4cHJlc3Npb24yLCAuLi4sIGV4cHJlc3Npb25OKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>COALESCE(expression1, expression2, ..., expressionN)</pre></div><div class='content'></div><h2><p>Example</p>
</h2>
<div class='content'><p>Consider a table <code>orders</code> with the following structure:</p>
<table>
<thead>
<tr>
<th>order_id</th>
<th>customer_id</th>
<th>discount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101</td>
<td>NULL</td>
</tr>
<tr>
<td>2</td>
<td>102</td>
<td>10</td>
</tr>
<tr>
<td>3</td>
<td>103</td>
<td>NULL</td>
</tr>
<tr>
<td>4</td>
<td>104</td>
<td>5</td>
</tr>
</tbody>
</table>
<p>We want to ensure that all null discounts are treated as zero:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG9yZGVyX2lkLAogICAgICAgY3VzdG9tZXJfaWQsCiAgICAgICBDT0FMRVNDRShkaXNjb3VudCwgMCkgQVMgZGlzY291bnQKRlJPTSBvcmRlcnM7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT order_id,
       customer_id,
       COALESCE(discount, 0) AS discount
FROM orders;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>COALESCE(discount, 0)</strong>: If the discount is null, it returns 0. Otherwise, it returns the discount value.</li>
</ul>
</div><h2><p>Result</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>order_id</th>
<th>customer_id</th>
<th>discount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>102</td>
<td>10</td>
</tr>
<tr>
<td>3</td>
<td>103</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>104</td>
<td>5</td>
</tr>
</tbody>
</table>
</div><h1><ol start="4">
<li>NULLIF Function</li>
</ol>
</h1>
<div class='content'><p>The <code>NULLIF</code> function returns null if the two specified expressions are equal. Otherwise, it returns the first expression.</p>
</div><h2><p>Syntax</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TlVMTElGKGV4cHJlc3Npb24xLCBleHByZXNzaW9uMik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NULLIF(expression1, expression2)</pre></div><div class='content'></div><h2><p>Example</p>
</h2>
<div class='content'><p>Using the same <code>orders</code> table, we want to set the discount to null if it is zero:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG9yZGVyX2lkLAogICAgICAgY3VzdG9tZXJfaWQsCiAgICAgICBOVUxMSUYoZGlzY291bnQsIDApIEFTIGRpc2NvdW50CkZST00gb3JkZXJzOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT order_id,
       customer_id,
       NULLIF(discount, 0) AS discount
FROM orders;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>NULLIF(discount, 0)</strong>: If the discount is 0, it returns null. Otherwise, it returns the discount value.</li>
</ul>
</div><h2><p>Result</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>order_id</th>
<th>customer_id</th>
<th>discount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101</td>
<td>NULL</td>
</tr>
<tr>
<td>2</td>
<td>102</td>
<td>10</td>
</tr>
<tr>
<td>3</td>
<td>103</td>
<td>NULL</td>
</tr>
<tr>
<td>4</td>
<td>104</td>
<td>5</td>
</tr>
</tbody>
</table>
</div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1</p>
</h2>
<div class='content'><p>Using the <code>employees</code> table, write a query to categorize employees based on their department and salary. If the department is 'IT' and the salary is greater than 60000, the category should be 'Senior Tech'. Otherwise, it should be 'Other'.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG5hbWUsCiAgICAgICBkZXBhcnRtZW50LAogICAgICAgc2FsYXJ5LAogICAgICAgQ0FTRQogICAgICAgICAgIFdIRU4gZGVwYXJ0bWVudCA9ICdJVCcgQU5EIHNhbGFyeSA+IDYwMDAwIFRIRU4gJ1NlbmlvciBUZWNoJwogICAgICAgICAgIEVMU0UgJ090aGVyJwogICAgICAgRU5EIEFTIGNhdGVnb3J5CkZST00gZW1wbG95ZWVzOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT name,
       department,
       salary,
       CASE
           WHEN department = 'IT' AND salary &gt; 60000 THEN 'Senior Tech'
           ELSE 'Other'
       END AS category
FROM employees;</pre></div><div class='content'></div><h2><p>Exercise 2</p>
</h2>
<div class='content'><p>Using the <code>orders</code> table, write a query to ensure that all null discounts are treated as zero and all zero discounts are treated as null.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG9yZGVyX2lkLAogICAgICAgY3VzdG9tZXJfaWQsCiAgICAgICBOVUxMSUYoQ09BTEVTQ0UoZGlzY291bnQsIDApLCAwKSBBUyBkaXNjb3VudApGUk9NIG9yZGVyczs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT order_id,
       customer_id,
       NULLIF(COALESCE(discount, 0), 0) AS discount
FROM orders;</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered the following conditional expressions in SQL:</p>
<ul>
<li><strong>CASE Statement</strong>: Allows for complex conditional logic.</li>
<li><strong>IF Statement</strong>: Provides a simple conditional check (specific to certain SQL dialects).</li>
<li><strong>COALESCE Function</strong>: Returns the first non-null value in a list.</li>
<li><strong>NULLIF Function</strong>: Returns null if two expressions are equal.</li>
</ul>
<p>These tools are essential for writing flexible and powerful SQL queries. In the next section, we will explore subqueries and nested queries, which allow for even more complex data retrieval.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-03-date-time-functions' title="Date and Time Functions">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-01-introduction-subqueries' title="Introduction to Subqueries">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
