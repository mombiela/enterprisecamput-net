<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Transaction Control Statements</title>

    <link rel="alternate" href="https://campusempresa.com/mod/sql/09-03-transaction-control-statements" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/sql/09-03-transaction-control-statements" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/sql/09-03-transaction-control-statements" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/sql/09-03-transaction-control-statements" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/sql/09-03-transaction-control-statements" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-acid-properties' title="ACID Properties">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Transaction Control Statements</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-handling-concurrency' title="Handling Concurrency">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the various SQL statements used to control transactions. Transactions are a fundamental concept in database management systems, ensuring data integrity and consistency. By the end of this section, you will understand how to manage transactions using SQL.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Transaction</strong>: A sequence of one or more SQL operations treated as a single unit of work.</li>
<li><strong>ACID Properties</strong>: Transactions must adhere to Atomicity, Consistency, Isolation, and Durability.</li>
<li><strong>Transaction Control Statements</strong>: Commands used to manage transactions.</li>
</ol>
</div><h1>Transaction Control Statements</h1>
<div class='content'></div><h2><ol>
<li>BEGIN TRANSACTION / START TRANSACTION</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Marks the beginning of a transaction.</li>
<li><strong>Syntax</strong>:
<pre><code class="language-sql">BEGIN TRANSACTION;
-- or
START TRANSACTION;
</code></pre>
</li>
</ul>
</div><h2><ol start="2">
<li>COMMIT</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Saves all changes made during the transaction to the database.</li>
<li><strong>Syntax</strong>:
<pre><code class="language-sql">COMMIT;
</code></pre>
</li>
</ul>
</div><h2><ol start="3">
<li>ROLLBACK</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Undoes all changes made during the transaction.</li>
<li><strong>Syntax</strong>:
<pre><code class="language-sql">ROLLBACK;
</code></pre>
</li>
</ul>
</div><h2><ol start="4">
<li>SAVEPOINT</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Sets a point within a transaction to which you can later roll back.</li>
<li><strong>Syntax</strong>:
<pre><code class="language-sql">SAVEPOINT savepoint_name;
</code></pre>
</li>
</ul>
</div><h2><ol start="5">
<li>ROLLBACK TO SAVEPOINT</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Rolls back the transaction to a specified savepoint.</li>
<li><strong>Syntax</strong>:
<pre><code class="language-sql">ROLLBACK TO SAVEPOINT savepoint_name;
</code></pre>
</li>
</ul>
</div><h2><ol start="6">
<li>RELEASE SAVEPOINT</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: Removes a savepoint, making it no longer available for rollback.</li>
<li><strong>Syntax</strong>:
<pre><code class="language-sql">RELEASE SAVEPOINT savepoint_name;
</code></pre>
</li>
</ul>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Example 1: Basic Transaction</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047CgpJTlNFUlQgSU5UTyBlbXBsb3llZXMgKG5hbWUsIHBvc2l0aW9uLCBzYWxhcnkpIFZBTFVFUyAoJ0pvaG4gRG9lJywgJ0RldmVsb3BlcicsIDYwMDAwKTsKVVBEQVRFIGVtcGxveWVlcyBTRVQgc2FsYXJ5ID0gNjUwMDAgV0hFUkUgbmFtZSA9ICdKb2huIERvZSc7CgpDT01NSVQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;

INSERT INTO employees (name, position, salary) VALUES ('John Doe', 'Developer', 60000);
UPDATE employees SET salary = 65000 WHERE name = 'John Doe';

COMMIT;</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The transaction starts with <code>BEGIN TRANSACTION</code>.</li>
<li>An employee is inserted into the <code>employees</code> table.</li>
<li>The salary of the newly inserted employee is updated.</li>
<li>The transaction is committed, saving the changes to the database.</li>
</ul>
</div><h2>Example 2: Using ROLLBACK</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047CgpJTlNFUlQgSU5UTyBlbXBsb3llZXMgKG5hbWUsIHBvc2l0aW9uLCBzYWxhcnkpIFZBTFVFUyAoJ0phbmUgU21pdGgnLCAnTWFuYWdlcicsIDgwMDAwKTsKVVBEQVRFIGVtcGxveWVlcyBTRVQgc2FsYXJ5ID0gODUwMDAgV0hFUkUgbmFtZSA9ICdKYW5lIFNtaXRoJzsKClJPTExCQUNLOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;

INSERT INTO employees (name, position, salary) VALUES ('Jane Smith', 'Manager', 80000);
UPDATE employees SET salary = 85000 WHERE name = 'Jane Smith';

ROLLBACK;</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The transaction starts with <code>BEGIN TRANSACTION</code>.</li>
<li>An employee is inserted into the <code>employees</code> table.</li>
<li>The salary of the newly inserted employee is updated.</li>
<li>The transaction is rolled back, undoing all changes.</li>
</ul>
</div><h2>Example 3: Using SAVEPOINT</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047CgpJTlNFUlQgSU5UTyBlbXBsb3llZXMgKG5hbWUsIHBvc2l0aW9uLCBzYWxhcnkpIFZBTFVFUyAoJ0FsaWNlIEJyb3duJywgJ0FuYWx5c3QnLCA3MDAwMCk7ClNBVkVQT0lOVCBzYXZlcG9pbnQxOwoKVVBEQVRFIGVtcGxveWVlcyBTRVQgc2FsYXJ5ID0gNzUwMDAgV0hFUkUgbmFtZSA9ICdBbGljZSBCcm93bic7ClNBVkVQT0lOVCBzYXZlcG9pbnQyOwoKREVMRVRFIEZST00gZW1wbG95ZWVzIFdIRVJFIG5hbWUgPSAnQWxpY2UgQnJvd24nOwoKUk9MTEJBQ0sgVE8gU0FWRVBPSU5UIHNhdmVwb2ludDE7CkNPTU1JVDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;

INSERT INTO employees (name, position, salary) VALUES ('Alice Brown', 'Analyst', 70000);
SAVEPOINT savepoint1;

UPDATE employees SET salary = 75000 WHERE name = 'Alice Brown';
SAVEPOINT savepoint2;

DELETE FROM employees WHERE name = 'Alice Brown';

ROLLBACK TO SAVEPOINT savepoint1;
COMMIT;</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The transaction starts with <code>BEGIN TRANSACTION</code>.</li>
<li>An employee is inserted into the <code>employees</code> table.</li>
<li>A savepoint <code>savepoint1</code> is created.</li>
<li>The salary of the newly inserted employee is updated.</li>
<li>A second savepoint <code>savepoint2</code> is created.</li>
<li>The employee is deleted.</li>
<li>The transaction is rolled back to <code>savepoint1</code>, undoing the update and delete operations.</li>
<li>The transaction is committed, saving the insertion of the employee.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise 1: Transaction Control</h2>
<div class='content'><ol>
<li>Start a transaction.</li>
<li>Insert a new product into the <code>products</code> table.</li>
<li>Update the price of the newly inserted product.</li>
<li>Create a savepoint.</li>
<li>Delete the newly inserted product.</li>
<li>Roll back to the savepoint.</li>
<li>Commit the transaction.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047CgpJTlNFUlQgSU5UTyBwcm9kdWN0cyAobmFtZSwgcHJpY2UpIFZBTFVFUyAoJ05ldyBQcm9kdWN0JywgMTAwKTsKVVBEQVRFIHByb2R1Y3RzIFNFVCBwcmljZSA9IDEyMCBXSEVSRSBuYW1lID0gJ05ldyBQcm9kdWN0JzsKClNBVkVQT0lOVCBwcm9kdWN0X3NhdmVwb2ludDsKCkRFTEVURSBGUk9NIHByb2R1Y3RzIFdIRVJFIG5hbWUgPSAnTmV3IFByb2R1Y3QnOwoKUk9MTEJBQ0sgVE8gU0FWRVBPSU5UIHByb2R1Y3Rfc2F2ZXBvaW50OwpDT01NSVQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;

INSERT INTO products (name, price) VALUES ('New Product', 100);
UPDATE products SET price = 120 WHERE name = 'New Product';

SAVEPOINT product_savepoint;

DELETE FROM products WHERE name = 'New Product';

ROLLBACK TO SAVEPOINT product_savepoint;
COMMIT;</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The transaction starts with <code>BEGIN TRANSACTION</code>.</li>
<li>A new product is inserted into the <code>products</code> table.</li>
<li>The price of the newly inserted product is updated.</li>
<li>A savepoint <code>product_savepoint</code> is created.</li>
<li>The newly inserted product is deleted.</li>
<li>The transaction is rolled back to <code>product_savepoint</code>, undoing the delete operation.</li>
<li>The transaction is committed, saving the insertion and update of the product.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to Commit</strong>: Always remember to commit your transaction to save changes.</li>
<li><strong>Misusing Savepoints</strong>: Ensure savepoints are used logically within transactions to avoid unnecessary complexity.</li>
<li><strong>Nested Transactions</strong>: Be cautious with nested transactions as not all databases support them.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the essential transaction control statements in SQL. Understanding how to manage transactions is crucial for maintaining data integrity and consistency. Practice using these statements to become proficient in handling transactions in your SQL databases. In the next section, we will delve into handling concurrency in SQL.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-acid-properties' title="ACID Properties">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-handling-concurrency' title="Handling Concurrency">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
