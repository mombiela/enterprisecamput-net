<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GROUP BY Clause</title>

    <link rel="alternate" href="https://campusempresa.com/mod/sql/group-by-clause" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/sql/group-by-clause" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/sql/group-by-clause" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/sql/group-by-clause" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/sql/group-by-clause" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='aggregate-functions'>&#x25C4;Aggregate Functions (COUNT, SUM, AVG, MAX, MIN)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">GROUP BY Clause</a>
	</div>
	<div class='col-4 text-end'>
					<a href='having-clause'>HAVING Clause &#x25BA;</a>
			</div>
</div>
<div class='content'><p>The <code>GROUP BY</code> clause in SQL is used to arrange identical data into groups. This is particularly useful when combined with aggregate functions like <code>COUNT()</code>, <code>SUM()</code>, <code>AVG()</code>, <code>MAX()</code>, and <code>MIN()</code>. In this section, we will explore the <code>GROUP BY</code> clause from a beginner to an advanced level.</p>
</div><h1>Introduction to GROUP BY</h1>
<div class='content'><p>The <code>GROUP BY</code> clause is used to group rows that have the same values in specified columns into summary rows. It is often used with aggregate functions to perform calculations on each group of data.</p>
</div><h2>Basic Syntax</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIGNvbHVtbjEsIGFnZ3JlZ2F0ZV9mdW5jdGlvbihjb2x1bW4yKQpGUk9NIHRhYmxlX25hbWUKR1JPVVAgQlkgY29sdW1uMTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT column1, aggregate_function(column2)
FROM table_name
GROUP BY column1;</pre></div><div class='content'><ul>
<li><code>column1</code>: The column by which you want to group the data.</li>
<li><code>aggregate_function(column2)</code>: The aggregate function to apply to each group.</li>
</ul>
</div><h2>Example</h2>
<div class='content'><p>Consider a table <code>Sales</code> with the following data:</p>
<p>| SaleID | Product | Quantity | Price |
|--------|---------|----------|-------|
| 1      | Apple   | 10       | 1.00  |
| 2      | Orange  | 5        | 0.80  |
| 3      | Apple   | 7        | 1.00  |
| 4      | Banana  | 3        | 0.50  |
| 5      | Orange  | 10       | 0.80  |</p>
<p>To find the total quantity sold for each product, you can use the <code>GROUP BY</code> clause:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIFByb2R1Y3QsIFNVTShRdWFudGl0eSkgQVMgVG90YWxRdWFudGl0eQpGUk9NIFNhbGVzCkdST1VQIEJZIFByb2R1Y3Q7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT Product, SUM(Quantity) AS TotalQuantity
FROM Sales
GROUP BY Product;</pre></div><div class='content'><p>This will produce the following result:</p>
<p>| Product | TotalQuantity |
|---------|---------------|
| Apple   | 17            |
| Orange  | 15            |
| Banana  | 3             |</p>
</div><h1>Using GROUP BY with Multiple Columns</h1>
<div class='content'><p>You can group by multiple columns to get more granular results.</p>
</div><h2>Example</h2>
<div class='content'><p>Consider the same <code>Sales</code> table. To find the total quantity sold for each product at each price point:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIFByb2R1Y3QsIFByaWNlLCBTVU0oUXVhbnRpdHkpIEFTIFRvdGFsUXVhbnRpdHkKRlJPTSBTYWxlcwpHUk9VUCBCWSBQcm9kdWN0LCBQcmljZTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT Product, Price, SUM(Quantity) AS TotalQuantity
FROM Sales
GROUP BY Product, Price;</pre></div><div class='content'><p>This will produce the following result:</p>
<p>| Product | Price | TotalQuantity |
|---------|-------|---------------|
| Apple   | 1.00  | 17            |
| Orange  | 0.80  | 15            |
| Banana  | 0.50  | 3             |</p>
</div><h1>Filtering Groups with HAVING</h1>
<div class='content'><p>The <code>HAVING</code> clause is used to filter groups based on a condition. It is similar to the <code>WHERE</code> clause but is used for groups.</p>
</div><h2>Example</h2>
<div class='content'><p>To find products with a total quantity sold greater than 10:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIFByb2R1Y3QsIFNVTShRdWFudGl0eSkgQVMgVG90YWxRdWFudGl0eQpGUk9NIFNhbGVzCkdST1VQIEJZIFByb2R1Y3QKSEFWSU5HIFNVTShRdWFudGl0eSkgPiAxMDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT Product, SUM(Quantity) AS TotalQuantity
FROM Sales
GROUP BY Product
HAVING SUM(Quantity) &gt; 10;</pre></div><div class='content'><p>This will produce the following result:</p>
<p>| Product | TotalQuantity |
|---------|---------------|
| Apple   | 17            |
| Orange  | 15            |</p>
</div><h1>Advanced GROUP BY Techniques</h1>
<div class='content'></div><h2>Grouping Sets</h2>
<div class='content'><p><code>GROUPING SETS</code> allow you to define multiple groupings in the same query.</p>
</div><h2>Example</h2>
<div class='content'><p>To get the total quantity sold for each product, each price, and the overall total:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIFByb2R1Y3QsIFByaWNlLCBTVU0oUXVhbnRpdHkpIEFTIFRvdGFsUXVhbnRpdHkKRlJPTSBTYWxlcwpHUk9VUCBCWSBHUk9VUElORyBTRVRTICgoUHJvZHVjdCksIChQcmljZSksICgpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT Product, Price, SUM(Quantity) AS TotalQuantity
FROM Sales
GROUP BY GROUPING SETS ((Product), (Price), ());</pre></div><div class='content'><p>This will produce the following result:</p>
<p>| Product | Price | TotalQuantity |
|---------|-------|---------------|
| Apple   | NULL  | 17            |
| Orange  | NULL  | 15            |
| Banana  | NULL  | 3             |
| NULL    | 1.00  | 17            |
| NULL    | 0.80  | 15            |
| NULL    | 0.50  | 3             |
| NULL    | NULL  | 35            |</p>
</div><h2>Rollup</h2>
<div class='content'><p><code>ROLLUP</code> is used to create subtotals and a grand total.</p>
</div><h2>Example</h2>
<div class='content'><p>To get subtotals for each product and a grand total:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIFByb2R1Y3QsIFNVTShRdWFudGl0eSkgQVMgVG90YWxRdWFudGl0eQpGUk9NIFNhbGVzCkdST1VQIEJZIFJPTExVUChQcm9kdWN0KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT Product, SUM(Quantity) AS TotalQuantity
FROM Sales
GROUP BY ROLLUP(Product);</pre></div><div class='content'><p>This will produce the following result:</p>
<p>| Product | TotalQuantity |
|---------|---------------|
| Apple   | 17            |
| Orange  | 15            |
| Banana  | 3             |
| NULL    | 35            |</p>
</div><h2>Cube</h2>
<div class='content'><p><code>CUBE</code> generates a result set that shows aggregates for all combinations of values in the selected columns.</p>
</div><h2>Example</h2>
<div class='content'><p>To get all possible subtotals and a grand total:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIFByb2R1Y3QsIFByaWNlLCBTVU0oUXVhbnRpdHkpIEFTIFRvdGFsUXVhbnRpdHkKRlJPTSBTYWxlcwpHUk9VUCBCWSBDVUJFKFByb2R1Y3QsIFByaWNlKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT Product, Price, SUM(Quantity) AS TotalQuantity
FROM Sales
GROUP BY CUBE(Product, Price);</pre></div><div class='content'><p>This will produce the following result:</p>
<p>| Product | Price | TotalQuantity |
|---------|-------|---------------|
| Apple   | 1.00  | 17            |
| Orange  | 0.80  | 15            |
| Banana  | 0.50  | 3             |
| Apple   | NULL  | 17            |
| Orange  | NULL  | 15            |
| Banana  | NULL  | 3             |
| NULL    | 1.00  | 17            |
| NULL    | 0.80  | 15            |
| NULL    | 0.50  | 3             |
| NULL    | NULL  | 35            |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>The <code>GROUP BY</code> clause is a powerful tool in SQL that allows you to summarize and aggregate data in meaningful ways. By mastering <code>GROUP BY</code>, <code>HAVING</code>, and advanced techniques like <code>GROUPING SETS</code>, <code>ROLLUP</code>, and <code>CUBE</code>, you can perform complex data analysis and reporting. Practice these concepts with various datasets to become proficient in using the <code>GROUP BY</code> clause effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='aggregate-functions'>&#x25C4;Aggregate Functions (COUNT, SUM, AVG, MAX, MIN)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">GROUP BY Clause</a>
	</div>
	<div class='col-4 text-end'>
					<a href='having-clause'>HAVING Clause &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
