<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Introduction to Transactions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/sql/09-01-introduction-transactions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/sql/09-01-introduction-transactions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/sql/09-01-introduction-transactions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/sql/09-01-introduction-transactions" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/sql/09-01-introduction-transactions" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-analyzing-query-performance' title="Analyzing Query Performance">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Introduction to Transactions</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-acid-properties' title="ACID Properties">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the concept of transactions in SQL, which is crucial for ensuring data integrity and consistency in database operations. Transactions allow you to group multiple SQL statements into a single unit of work, which can be committed or rolled back as a whole.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Transaction</strong>: A sequence of one or more SQL operations treated as a single unit.</li>
<li><strong>Commit</strong>: Finalizes the transaction, making all changes permanent.</li>
<li><strong>Rollback</strong>: Reverts all changes made during the transaction, restoring the database to its previous state.</li>
<li><strong>Atomicity</strong>: Ensures that all operations within a transaction are completed successfully. If any operation fails, the entire transaction is rolled back.</li>
<li><strong>Consistency</strong>: Ensures that a transaction brings the database from one valid state to another.</li>
<li><strong>Isolation</strong>: Ensures that transactions are executed in isolation from one another.</li>
<li><strong>Durability</strong>: Ensures that once a transaction is committed, the changes are permanent, even in the event of a system failure.</li>
</ol>
</div><h1>Basic Transaction Commands</h1>
<div class='content'></div><h2>Starting a Transaction</h2>
<div class='content'><p>To start a transaction, you use the <code>BEGIN TRANSACTION</code> or <code>START TRANSACTION</code> command.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047Ci0tIG9yClNUQVJUIFRSQU5TQUNUSU9OOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;
-- or
START TRANSACTION;</pre></div><div class='content'></div><h2>Committing a Transaction</h2>
<div class='content'><p>To commit a transaction, making all changes permanent, you use the <code>COMMIT</code> command.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q09NTUlUOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>COMMIT;</pre></div><div class='content'></div><h2>Rolling Back a Transaction</h2>
<div class='content'><p>To roll back a transaction, undoing all changes made during the transaction, you use the <code>ROLLBACK</code> command.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Uk9MTEJBQ0s7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ROLLBACK;</pre></div><div class='content'></div><h1>Practical Example</h1>
<div class='content'><p>Let's consider a scenario where you need to transfer money from one bank account to another. This operation involves two steps: debiting one account and crediting another. Both steps must succeed or fail together to maintain data integrity.</p>
</div><h2>Step-by-Step Example</h2>
<div class='content'><ol>
<li>
<p><strong>Start the Transaction</strong>:</p>
<pre><code class="language-sql">BEGIN TRANSACTION;
</code></pre>
</li>
<li>
<p><strong>Debit the Source Account</strong>:</p>
<pre><code class="language-sql">UPDATE accounts
SET balance = balance - 100
WHERE account_id = 1;
</code></pre>
</li>
<li>
<p><strong>Credit the Destination Account</strong>:</p>
<pre><code class="language-sql">UPDATE accounts
SET balance = balance + 100
WHERE account_id = 2;
</code></pre>
</li>
<li>
<p><strong>Commit the Transaction</strong>:</p>
<pre><code class="language-sql">COMMIT;
</code></pre>
</li>
</ol>
<p>If any of the steps fail, you can roll back the transaction to ensure that no partial updates are made.</p>
</div><h2>Handling Errors</h2>
<div class='content'><p>To handle errors, you can use a conditional structure to roll back the transaction if any operation fails.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047CgpVUERBVEUgYWNjb3VudHMKU0VUIGJhbGFuY2UgPSBiYWxhbmNlIC0gMTAwCldIRVJFIGFjY291bnRfaWQgPSAxOwoKSUYgQEBFUlJPUiA8PiAwCkJFR0lOCiAgICBST0xMQkFDSzsKICAgIFJFVFVSTjsKRU5ECgpVUERBVEUgYWNjb3VudHMKU0VUIGJhbGFuY2UgPSBiYWxhbmNlICsgMTAwCldIRVJFIGFjY291bnRfaWQgPSAyOwoKSUYgQEBFUlJPUiA8PiAwCkJFR0lOCiAgICBST0xMQkFDSzsKICAgIFJFVFVSTjsKRU5ECgpDT01NSVQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;

UPDATE accounts
SET balance = balance - 100
WHERE account_id = 1;

IF @@ERROR &lt;&gt; 0
BEGIN
    ROLLBACK;
    RETURN;
END

UPDATE accounts
SET balance = balance + 100
WHERE account_id = 2;

IF @@ERROR &lt;&gt; 0
BEGIN
    ROLLBACK;
    RETURN;
END

COMMIT;</pre></div><div class='content'></div><h1>Exercise</h1>
<div class='content'></div><h2>Task</h2>
<div class='content'><p>Write a transaction that performs the following operations:</p>
<ol>
<li>Insert a new record into the <code>employees</code> table.</li>
<li>Update the <code>departments</code> table to increase the employee count for the relevant department.</li>
<li>If any operation fails, roll back the transaction.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4gVFJBTlNBQ1RJT047CgotLSBJbnNlcnQgYSBuZXcgZW1wbG95ZWUKSU5TRVJUIElOVE8gZW1wbG95ZWVzIChlbXBsb3llZV9pZCwgbmFtZSwgZGVwYXJ0bWVudF9pZCwgc2FsYXJ5KQpWQUxVRVMgKDEwMSwgJ0pvaG4gRG9lJywgMywgNjAwMDApOwoKLS0gQ2hlY2sgZm9yIGVycm9ycwpJRiBAQEVSUk9SIDw+IDAKQkVHSU4KICAgIFJPTExCQUNLOwogICAgUkVUVVJOOwpFTkQKCi0tIFVwZGF0ZSB0aGUgZGVwYXJ0bWVudCdzIGVtcGxveWVlIGNvdW50ClVQREFURSBkZXBhcnRtZW50cwpTRVQgZW1wbG95ZWVfY291bnQgPSBlbXBsb3llZV9jb3VudCArIDEKV0hFUkUgZGVwYXJ0bWVudF9pZCA9IDM7CgotLSBDaGVjayBmb3IgZXJyb3JzCklGIEBARVJST1IgPD4gMApCRUdJTgogICAgUk9MTEJBQ0s7CiAgICBSRVRVUk47CkVORAoKLS0gQ29tbWl0IHRoZSB0cmFuc2FjdGlvbgpDT01NSVQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN TRANSACTION;

-- Insert a new employee
INSERT INTO employees (employee_id, name, department_id, salary)
VALUES (101, 'John Doe', 3, 60000);

-- Check for errors
IF @@ERROR &lt;&gt; 0
BEGIN
    ROLLBACK;
    RETURN;
END

-- Update the department's employee count
UPDATE departments
SET employee_count = employee_count + 1
WHERE department_id = 3;

-- Check for errors
IF @@ERROR &lt;&gt; 0
BEGIN
    ROLLBACK;
    RETURN;
END

-- Commit the transaction
COMMIT;</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>In this section, we covered the basics of transactions in SQL, including how to start, commit, and roll back transactions. We also discussed the importance of transactions in maintaining data integrity and consistency. By using transactions, you can ensure that a series of operations are executed as a single unit, providing a robust mechanism for error handling and data management.</p>
<p>Next, we will delve into the ACID properties that underpin the reliability of transactions in SQL.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-analyzing-query-performance' title="Analyzing Query Performance">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-acid-properties' title="ACID Properties">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>SQL Course</h1>
<h2>Module 1: Introduction to SQL</h2>
<ul>
<li><a href="01-01-what-is-sql">What is SQL?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up Your SQL Environment</a></li>
<li><a href="01-03-basic-sql-syntax">Basic SQL Syntax</a></li>
<li><a href="01-04-understanding-databases-tables">Understanding Databases and Tables</a></li>
</ul>
<h2>Module 2: Basic SQL Queries</h2>
<ul>
<li><a href="02-01-select-statement">SELECT Statement</a></li>
<li><a href="02-02-filtering-data-where">Filtering Data with WHERE</a></li>
<li><a href="02-03-sorting-data-order-by">Sorting Data with ORDER BY</a></li>
<li><a href="02-04-limiting-results-limit">Limiting Results with LIMIT</a></li>
</ul>
<h2>Module 3: Working with Multiple Tables</h2>
<ul>
<li><a href="03-01-join-operations">JOIN Operations</a></li>
<li><a href="03-02-inner-join">INNER JOIN</a></li>
<li><a href="03-03-left-join">LEFT JOIN</a></li>
<li><a href="03-04-right-join">RIGHT JOIN</a></li>
<li><a href="03-05-full-outer-join">FULL OUTER JOIN</a></li>
</ul>
<h2>Module 4: Advanced Data Filtering</h2>
<ul>
<li><a href="04-01-using-like-pattern-matching">Using LIKE for Pattern Matching</a></li>
<li><a href="04-02-in-between-operators">IN and BETWEEN Operators</a></li>
<li><a href="04-03-null-values-is-null">NULL Values and IS NULL</a></li>
<li><a href="04-04-aggregating-data-group-by">Aggregating Data with GROUP BY</a></li>
<li><a href="04-05-having-clause">HAVING Clause</a></li>
</ul>
<h2>Module 5: Data Manipulation</h2>
<ul>
<li><a href="05-01-insert-statement">INSERT Statement</a></li>
<li><a href="05-02-update-statement">UPDATE Statement</a></li>
<li><a href="05-03-delete-statement">DELETE Statement</a></li>
<li><a href="05-04-upsert-merge-statement">UPSERT (MERGE) Statement</a></li>
</ul>
<h2>Module 6: Advanced SQL Functions</h2>
<ul>
<li><a href="06-01-string-functions">String Functions</a></li>
<li><a href="06-02-numeric-functions">Numeric Functions</a></li>
<li><a href="06-03-date-time-functions">Date and Time Functions</a></li>
<li><a href="06-04-conditional-expressions">Conditional Expressions</a></li>
</ul>
<h2>Module 7: Subqueries and Nested Queries</h2>
<ul>
<li><a href="07-01-introduction-subqueries">Introduction to Subqueries</a></li>
<li><a href="07-02-correlated-subqueries">Correlated Subqueries</a></li>
<li><a href="07-03-exists-not-exists">EXISTS and NOT EXISTS</a></li>
<li><a href="07-04-using-subqueries-select-from-where">Using Subqueries in SELECT, FROM, and WHERE Clauses</a></li>
</ul>
<h2>Module 8: Indexes and Performance Optimization</h2>
<ul>
<li><a href="08-01-understanding-indexes">Understanding Indexes</a></li>
<li><a href="08-02-creating-managing-indexes">Creating and Managing Indexes</a></li>
<li><a href="08-03-query-optimization-techniques">Query Optimization Techniques</a></li>
<li><a href="08-04-analyzing-query-performance">Analyzing Query Performance</a></li>
</ul>
<h2>Module 9: Transactions and Concurrency</h2>
<ul>
<li><a href="09-01-introduction-transactions">Introduction to Transactions</a></li>
<li><a href="09-02-acid-properties">ACID Properties</a></li>
<li><a href="09-03-transaction-control-statements">Transaction Control Statements</a></li>
<li><a href="09-04-handling-concurrency">Handling Concurrency</a></li>
</ul>
<h2>Module 10: Advanced Topics</h2>
<ul>
<li><a href="10-01-stored-procedures">Stored Procedures</a></li>
<li><a href="10-02-triggers">Triggers</a></li>
<li><a href="10-03-views">Views</a></li>
<li><a href="10-04-common-table-expressions">Common Table Expressions (CTEs)</a></li>
<li><a href="10-05-window-functions">Window Functions</a></li>
</ul>
<h2>Module 11: SQL in Practice</h2>
<ul>
<li><a href="11-01-real-world-use-cases">Real-World Use Cases</a></li>
<li><a href="11-02-best-practices">Best Practices</a></li>
<li><a href="11-03-sql-data-analysis">SQL for Data Analysis</a></li>
<li><a href="11-04-sql-web-development">SQL in Web Development</a></li>
</ul>
<h2>Module 12: Final Project</h2>
<ul>
<li><a href="12-01-project-overview">Project Overview</a></li>
<li><a href="12-02-project-requirements">Project Requirements</a></li>
<li><a href="12-03-project-implementation">Project Implementation</a></li>
<li><a href="12-04-project-presentation">Project Presentation</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
