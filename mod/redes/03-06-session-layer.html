<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Session Layer</title>

    <link rel="alternate" href="https://campusempresa.com/mod/redes/03-06-capa-sesion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/redes/03-06-capa-sessio" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/redes/03-06-session-layer" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/redes/03-06-capa-sesion" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/redes/03-06-capa-sessio" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-05-transport-layer' title="Transport Layer">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Session Layer</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-07-presentation-layer' title="Presentation Layer">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>The Session Layer is the fifth layer in the OSI (Open Systems Interconnection) model. It is responsible for establishing, managing, and terminating sessions between two communicating end systems. This layer ensures that the data exchange between systems is organized and synchronized, providing mechanisms for dialog control, token management, and synchronization.</p>
</div><h1>Key Concepts</h1>
<div class='content'></div><h2><ol>
<li>Establishing Sessions</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Session Initiation</strong>: The process of starting a session between two devices.</li>
<li><strong>Authentication</strong>: Verifying the identity of the communicating devices.</li>
<li><strong>Authorization</strong>: Ensuring that the devices have the right to establish a session.</li>
</ul>
</div><h2><ol start="2">
<li>Managing Sessions</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Dialog Control</strong>: Managing the dialog between two devices, which can be either half-duplex (one direction at a time) or full-duplex (both directions simultaneously).</li>
<li><strong>Token Management</strong>: Controlling access to the session by using tokens to prevent conflicts and ensure orderly communication.</li>
<li><strong>Synchronization</strong>: Using checkpoints to ensure that data can be recovered and retransmitted in case of a failure.</li>
</ul>
</div><h2><ol start="3">
<li>Terminating Sessions</li>
</ol></h2>
<div class='content'><ul>
<li><strong>Graceful Termination</strong>: Properly closing a session to ensure that all data has been transmitted and received.</li>
<li><strong>Abortive Termination</strong>: Forcibly closing a session in case of errors or unexpected issues.</li>
</ul>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's consider a practical example of a session layer protocol: <strong>Remote Procedure Call (RPC)</strong>.</p>
</div><h2>Remote Procedure Call (RPC)</h2>
<div class='content'><p>RPC allows a program to cause a procedure to execute on another address space (commonly on another physical machine). This is useful for client-server applications.</p>
<h4>Example Code: Simple RPC in Python</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJ2ZXIucHkKaW1wb3J0IHNvY2tldAoKZGVmIGhhbmRsZV9jbGllbnQoY2xpZW50X3NvY2tldCk6CiAgICByZXF1ZXN0ID0gY2xpZW50X3NvY2tldC5yZWN2KDEwMjQpLmRlY29kZSgpCiAgICBwcmludChmIlJlY2VpdmVkOiB7cmVxdWVzdH0iKQogICAgcmVzcG9uc2UgPSBmIkVjaG86IHtyZXF1ZXN0fSIKICAgIGNsaWVudF9zb2NrZXQuc2VuZChyZXNwb25zZS5lbmNvZGUoKSkKICAgIGNsaWVudF9zb2NrZXQuY2xvc2UoKQoKZGVmIG1haW4oKToKICAgIHNlcnZlciA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgIHNlcnZlci5iaW5kKCgiMC4wLjAuMCIsIDk5OTkpKQogICAgc2VydmVyLmxpc3Rlbig1KQogICAgcHJpbnQoIlNlcnZlciBsaXN0ZW5pbmcgb24gcG9ydCA5OTk5IikKICAgIAogICAgd2hpbGUgVHJ1ZToKICAgICAgICBjbGllbnRfc29ja2V0LCBhZGRyID0gc2VydmVyLmFjY2VwdCgpCiAgICAgICAgcHJpbnQoZiJBY2NlcHRlZCBjb25uZWN0aW9uIGZyb20ge2FkZHJ9IikKICAgICAgICBoYW5kbGVfY2xpZW50KGNsaWVudF9zb2NrZXQpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># server.py
import socket

def handle_client(client_socket):
    request = client_socket.recv(1024).decode()
    print(f&quot;Received: {request}&quot;)
    response = f&quot;Echo: {request}&quot;
    client_socket.send(response.encode())
    client_socket.close()

def main():
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    server.bind((&quot;0.0.0.0&quot;, 9999))
    server.listen(5)
    print(&quot;Server listening on port 9999&quot;)
    
    while True:
        client_socket, addr = server.accept()
        print(f&quot;Accepted connection from {addr}&quot;)
        handle_client(client_socket)

if __name__ == &quot;__main__&quot;:
    main()</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBjbGllbnQucHkKaW1wb3J0IHNvY2tldAoKZGVmIG1haW4oKToKICAgIGNsaWVudCA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgIGNsaWVudC5jb25uZWN0KCgiMTI3LjAuMC4xIiwgOTk5OSkpCiAgICBjbGllbnQuc2VuZCgiSGVsbG8sIFNlcnZlciEiLmVuY29kZSgpKQogICAgcmVzcG9uc2UgPSBjbGllbnQucmVjdig0MDk2KS5kZWNvZGUoKQogICAgcHJpbnQoZiJSZWNlaXZlZDoge3Jlc3BvbnNlfSIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># client.py
import socket

def main():
    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.connect((&quot;127.0.0.1&quot;, 9999))
    client.send(&quot;Hello, Server!&quot;.encode())
    response = client.recv(4096).decode()
    print(f&quot;Received: {response}&quot;)

if __name__ == &quot;__main__&quot;:
    main()</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Server</strong>: Listens for incoming connections on port 9999. When a connection is accepted, it receives a message, processes it, and sends a response back to the client.</li>
<li><strong>Client</strong>: Connects to the server on port 9999, sends a message, and waits for a response.</li>
</ul>
<p>This simple example demonstrates the session layer's role in establishing, managing, and terminating a session between a client and a server.</p>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Implement a Simple Chat Application</h2>
<div class='content'><p><strong>Objective</strong>: Create a simple chat application using Python sockets that allows two users to communicate.</p>
<p><strong>Requirements</strong>:</p>
<ol>
<li>Implement a server that can handle multiple clients.</li>
<li>Implement a client that can connect to the server and send/receive messages.</li>
<li>Ensure that the session is properly managed and terminated.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><h4>Server Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBjaGF0X3NlcnZlci5weQppbXBvcnQgc29ja2V0CmltcG9ydCB0aHJlYWRpbmcKCmNsaWVudHMgPSBbXQoKZGVmIGJyb2FkY2FzdChtZXNzYWdlLCBjbGllbnRfc29ja2V0KToKICAgIGZvciBjbGllbnQgaW4gY2xpZW50czoKICAgICAgICBpZiBjbGllbnQgIT0gY2xpZW50X3NvY2tldDoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgY2xpZW50LnNlbmQobWVzc2FnZSkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgY2xpZW50LmNsb3NlKCkKICAgICAgICAgICAgICAgIGNsaWVudHMucmVtb3ZlKGNsaWVudCkKCmRlZiBoYW5kbGVfY2xpZW50KGNsaWVudF9zb2NrZXQpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG1lc3NhZ2UgPSBjbGllbnRfc29ja2V0LnJlY3YoMTAyNCkKICAgICAgICAgICAgaWYgbWVzc2FnZToKICAgICAgICAgICAgICAgIGJyb2FkY2FzdChtZXNzYWdlLCBjbGllbnRfc29ja2V0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY2xpZW50X3NvY2tldC5jbG9zZSgpCiAgICAgICAgICAgICAgICBjbGllbnRzLnJlbW92ZShjbGllbnRfc29ja2V0KQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGNsaWVudF9zb2NrZXQuY2xvc2UoKQogICAgICAgICAgICBjbGllbnRzLnJlbW92ZShjbGllbnRfc29ja2V0KQogICAgICAgICAgICBicmVhawoKZGVmIG1haW4oKToKICAgIHNlcnZlciA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgIHNlcnZlci5iaW5kKCgiMC4wLjAuMCIsIDk5OTkpKQogICAgc2VydmVyLmxpc3Rlbig1KQogICAgcHJpbnQoIlNlcnZlciBsaXN0ZW5pbmcgb24gcG9ydCA5OTk5IikKICAgIAogICAgd2hpbGUgVHJ1ZToKICAgICAgICBjbGllbnRfc29ja2V0LCBhZGRyID0gc2VydmVyLmFjY2VwdCgpCiAgICAgICAgcHJpbnQoZiJBY2NlcHRlZCBjb25uZWN0aW9uIGZyb20ge2FkZHJ9IikKICAgICAgICBjbGllbnRzLmFwcGVuZChjbGllbnRfc29ja2V0KQogICAgICAgIGNsaWVudF9oYW5kbGVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9aGFuZGxlX2NsaWVudCwgYXJncz0oY2xpZW50X3NvY2tldCwpKQogICAgICAgIGNsaWVudF9oYW5kbGVyLnN0YXJ0KCkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># chat_server.py
import socket
import threading

clients = []

def broadcast(message, client_socket):
    for client in clients:
        if client != client_socket:
            try:
                client.send(message)
            except:
                client.close()
                clients.remove(client)

def handle_client(client_socket):
    while True:
        try:
            message = client_socket.recv(1024)
            if message:
                broadcast(message, client_socket)
            else:
                client_socket.close()
                clients.remove(client_socket)
                break
        except:
            client_socket.close()
            clients.remove(client_socket)
            break

def main():
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    server.bind((&quot;0.0.0.0&quot;, 9999))
    server.listen(5)
    print(&quot;Server listening on port 9999&quot;)
    
    while True:
        client_socket, addr = server.accept()
        print(f&quot;Accepted connection from {addr}&quot;)
        clients.append(client_socket)
        client_handler = threading.Thread(target=handle_client, args=(client_socket,))
        client_handler.start()

if __name__ == &quot;__main__&quot;:
    main()</pre></div><div class='content'><h4>Client Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBjaGF0X2NsaWVudC5weQppbXBvcnQgc29ja2V0CmltcG9ydCB0aHJlYWRpbmcKCmRlZiByZWNlaXZlX21lc3NhZ2VzKGNsaWVudF9zb2NrZXQpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG1lc3NhZ2UgPSBjbGllbnRfc29ja2V0LnJlY3YoMTAyNCkuZGVjb2RlKCkKICAgICAgICAgICAgaWYgbWVzc2FnZToKICAgICAgICAgICAgICAgIHByaW50KG1lc3NhZ2UpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjbGllbnRfc29ja2V0LmNsb3NlKCkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBjbGllbnRfc29ja2V0LmNsb3NlKCkKICAgICAgICAgICAgYnJlYWsKCmRlZiBtYWluKCk6CiAgICBjbGllbnQgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICBjbGllbnQuY29ubmVjdCgoIjEyNy4wLjAuMSIsIDk5OTkpKQogICAgCiAgICByZWNlaXZlX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXJlY2VpdmVfbWVzc2FnZXMsIGFyZ3M9KGNsaWVudCwpKQogICAgcmVjZWl2ZV90aHJlYWQuc3RhcnQoKQogICAgCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG1lc3NhZ2UgPSBpbnB1dCgpCiAgICAgICAgY2xpZW50LnNlbmQobWVzc2FnZS5lbmNvZGUoKSkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># chat_client.py
import socket
import threading

def receive_messages(client_socket):
    while True:
        try:
            message = client_socket.recv(1024).decode()
            if message:
                print(message)
            else:
                client_socket.close()
                break
        except:
            client_socket.close()
            break

def main():
    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.connect((&quot;127.0.0.1&quot;, 9999))
    
    receive_thread = threading.Thread(target=receive_messages, args=(client,))
    receive_thread.start()
    
    while True:
        message = input()
        client.send(message.encode())

if __name__ == &quot;__main__&quot;:
    main()</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Server</strong>: Handles multiple clients using threading. It broadcasts messages received from one client to all other connected clients.</li>
<li><strong>Client</strong>: Connects to the server, sends messages, and receives messages from other clients.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Handling Disconnections</strong>: Ensure that your server can handle client disconnections gracefully without crashing.</li>
<li><strong>Thread Safety</strong>: When using threads, ensure that shared resources are accessed in a thread-safe manner to avoid race conditions.</li>
<li><strong>Error Handling</strong>: Implement proper error handling to manage unexpected issues during communication.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>The Session Layer plays a crucial role in managing the communication sessions between devices. It ensures that sessions are established, managed, and terminated properly, providing a reliable communication environment. Understanding the Session Layer is essential for developing robust network applications that require synchronized and orderly data exchange.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-05-transport-layer' title="Transport Layer">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-07-presentation-layer' title="Presentation Layer">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
