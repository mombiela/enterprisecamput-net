<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Best Practices</title>

    <link rel="alternate" href="https://campusempresa.com/mod/django/05-02-security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/django/05-02-security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/django/05-02-security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/django/05-02-security-best-practices" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/django/05-02-security-best-practices" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-deploying-django-applications' title="Deploying Django Applications">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Security Best Practices</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-using-docker-with-django' title="Using Docker with Django">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover essential security practices to ensure your Django application is secure. Security is a critical aspect of web development, and Django provides several built-in features to help you protect your application from common vulnerabilities.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Cross-Site Scripting (XSS)</strong></li>
<li><strong>Cross-Site Request Forgery (CSRF)</strong></li>
<li><strong>SQL Injection</strong></li>
<li><strong>Clickjacking</strong></li>
<li><strong>Secure Password Storage</strong></li>
<li><strong>HTTPS</strong></li>
<li><strong>Security Middleware</strong></li>
<li><strong>User Authentication and Authorization</strong></li>
<li><strong>Security Settings in Django</strong></li>
</ol>
</div><h1><ol>
<li>Cross-Site Scripting (XSS)</li>
</ol>
</h1>
<div class='content'><p>XSS attacks occur when an attacker injects malicious scripts into content from otherwise trusted websites. Django provides built-in protection against XSS by escaping data in templates.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBUZW1wbGF0ZTogZXhhbXBsZS5odG1sIC0tPgo8cD57eyB1c2VyX2lucHV0IH19PC9wPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- Template: example.html --&gt;
&lt;p&gt;{{ user_input }}&lt;/p&gt;</pre></div><div class='content'><p>If <code>user_input</code> contains <code>&lt;script&gt;alert('XSS');&lt;/script&gt;</code>, Django will escape it to <code>&amp;lt;script&amp;gt;alert('XSS');&amp;lt;/script&amp;gt;</code>, preventing the script from executing.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Always use Django's template system to render user-generated content.</li>
<li>Avoid using <code>mark_safe</code> unless absolutely necessary and you are sure the content is safe.</li>
</ul>
</div><h1><ol start="2">
<li>Cross-Site Request Forgery (CSRF)</li>
</ol>
</h1>
<div class='content'><p>CSRF attacks trick a user into submitting a request that they did not intend to make. Django includes CSRF protection by default.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBUZW1wbGF0ZTogZm9ybS5odG1sIC0tPgo8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgeyUgY3NyZl90b2tlbiAlfQogICAgPCEtLSBmb3JtIGZpZWxkcyAtLT4KICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5TdWJtaXQ8L2J1dHRvbj4KPC9mb3JtPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- Template: form.html --&gt;
&lt;form method=&quot;post&quot;&gt;
    {% csrf_token %}
    &lt;!-- form fields --&gt;
    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;</pre></div><div class='content'></div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Always include <code>{% csrf_token %}</code> in your forms.</li>
<li>Use the <code>@csrf_protect</code> decorator on views that handle form submissions.</li>
</ul>
</div><h1><ol start="3">
<li>SQL Injection</li>
</ol>
</h1>
<div class='content'><p>SQL injection attacks occur when an attacker is able to execute arbitrary SQL code on your database. Django's ORM automatically escapes parameters to prevent SQL injection.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTYWZlIHF1ZXJ5IHVzaW5nIERqYW5nbyBPUk0KdXNlciA9IFVzZXIub2JqZWN0cy5nZXQodXNlcm5hbWU9dXNlcm5hbWUp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Safe query using Django ORM
user = User.objects.get(username=username)</pre></div><div class='content'></div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Always use Django's ORM to interact with the database.</li>
<li>Avoid executing raw SQL queries. If necessary, use parameterized queries.</li>
</ul>
</div><h1><ol start="4">
<li>Clickjacking</li>
</ol>
</h1>
<div class='content'><p>Clickjacking is an attack that tricks a user into clicking something different from what the user perceives, potentially revealing confidential information or taking control of their computer.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Use Django's <code>X-Frame-Options</code> middleware to prevent your site from being framed.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQpNSURETEVXQVJFID0gWwogICAgLi4uCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuY2xpY2tqYWNraW5nLlhGcmFtZU9wdGlvbnNNaWRkbGV3YXJlJywKXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py
MIDDLEWARE = [
    ...
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]</pre></div><div class='content'></div><h1><ol start="5">
<li>Secure Password Storage</li>
</ol>
</h1>
<div class='content'><p>Django uses PBKDF2 by default to hash passwords, which is a secure method.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Ensure you are using a strong password hashing algorithm.</li>
<li>Regularly update your password hashing algorithm as new, more secure methods become available.</li>
</ul>
</div><h1><ol start="6">
<li>HTTPS</li>
</ol>
</h1>
<div class='content'><p>HTTPS ensures that data sent between the client and server is encrypted.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Always use HTTPS in production.</li>
<li>Redirect HTTP traffic to HTTPS.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQpTRUNVUkVfU1NMX1JFRElSRUNUID0gVHJ1ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py
SECURE_SSL_REDIRECT = True</pre></div><div class='content'></div><h1><ol start="7">
<li>Security Middleware</li>
</ol>
</h1>
<div class='content'><p>Django provides several middleware classes to enhance security.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Use <code>SecurityMiddleware</code> to enforce security-related settings.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQpNSURETEVXQVJFID0gWwogICAgLi4uCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuc2VjdXJpdHkuU2VjdXJpdHlNaWRkbGV3YXJlJywKXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py
MIDDLEWARE = [
    ...
    'django.middleware.security.SecurityMiddleware',
]</pre></div><div class='content'></div><h1><ol start="8">
<li>User Authentication and Authorization</li>
</ol>
</h1>
<div class='content'><p>Properly managing user authentication and authorization is crucial for security.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Use Django's built-in authentication system.</li>
<li>Implement proper permission checks in your views.</li>
</ul>
</div><h1><ol start="9">
<li>Security Settings in Django</li>
</ol>
</h1>
<div class='content'><p>Django provides several settings to enhance security.</p>
</div><h2><p>Best Practice</p>
</h2>
<div class='content'><ul>
<li>Set <code>SECURE_BROWSER_XSS_FILTER</code> to <code>True</code> to enable the browser's XSS filtering.</li>
<li>Set <code>SECURE_CONTENT_TYPE_NOSNIFF</code> to <code>True</code> to prevent the browser from guessing the content type.</li>
<li>Set <code>SECURE_HSTS_SECONDS</code> to a positive integer to enable HTTP Strict Transport Security (HSTS).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQpTRUNVUkVfQlJPV1NFUl9YU1NfRklMVEVSID0gVHJ1ZQpTRUNVUkVfQ09OVEVOVF9UWVBFX05PU05JRkYgPSBUcnVlClNFQ1VSRV9IU1RTX1NFQ09ORFMgPSAzNjAw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py
SECURE_BROWSER_XSS_FILTER = True
SECURE_CONTENT_TYPE_NOSNIFF = True
SECURE_HSTS_SECONDS = 3600</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Create a Django form and ensure it is protected against CSRF.</li>
<li>Implement a view that handles form submission and ensure it is protected against SQL injection.</li>
<li>Add security middleware to your Django project.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li><strong>Form with CSRF Protection</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBUZW1wbGF0ZTogZm9ybS5odG1sIC0tPgo8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgeyUgY3NyZl90b2tlbiAlfQogICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InVzZXJuYW1lIj4KICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5TdWJtaXQ8L2J1dHRvbj4KPC9mb3JtPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- Template: form.html --&gt;
&lt;form method=&quot;post&quot;&gt;
    {% csrf_token %}
    &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;
    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;</pre></div><div class='content'><ol start="2">
<li><strong>View with SQL Injection Protection</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIGRqYW5nby5zaG9ydGN1dHMgaW1wb3J0IHJlbmRlcgpmcm9tIGRqYW5nby5odHRwIGltcG9ydCBIdHRwUmVzcG9uc2UKZnJvbSAubW9kZWxzIGltcG9ydCBVc2VyCgpkZWYgc3VibWl0X2Zvcm0ocmVxdWVzdCk6CiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgdXNlcm5hbWUgPSByZXF1ZXN0LlBPU1QuZ2V0KCd1c2VybmFtZScpCiAgICAgICAgdXNlciA9IFVzZXIub2JqZWN0cy5nZXQodXNlcm5hbWU9dXNlcm5hbWUpCiAgICAgICAgcmV0dXJuIEh0dHBSZXNwb25zZShmIkhlbGxvLCB7dXNlci51c2VybmFtZX0iKQogICAgcmV0dXJuIHJlbmRlcihyZXF1ZXN0LCAnZm9ybS5odG1sJyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from django.shortcuts import render
from django.http import HttpResponse
from .models import User

def submit_form(request):
    if request.method == 'POST':
        username = request.POST.get('username')
        user = User.objects.get(username=username)
        return HttpResponse(f&quot;Hello, {user.username}&quot;)
    return render(request, 'form.html')</pre></div><div class='content'><ol start="3">
<li><strong>Adding Security Middleware</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXR0aW5ncy5weQpNSURETEVXQVJFID0gWwogICAgLi4uCiAgICAnZGphbmdvLm1pZGRsZXdhcmUuc2VjdXJpdHkuU2VjdXJpdHlNaWRkbGV3YXJlJywKICAgICdkamFuZ28ubWlkZGxld2FyZS5jbGlja2phY2tpbmcuWEZyYW1lT3B0aW9uc01pZGRsZXdhcmUnLApd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># settings.py
MIDDLEWARE = [
    ...
    'django.middleware.security.SecurityMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered essential security practices for Django applications, including protection against XSS, CSRF, SQL injection, and clickjacking. We also discussed secure password storage, the importance of HTTPS, and various security settings and middleware provided by Django. By following these best practices, you can significantly enhance the security of your Django applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-deploying-django-applications' title="Deploying Django Applications">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-using-docker-with-django' title="Using Docker with Django">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
