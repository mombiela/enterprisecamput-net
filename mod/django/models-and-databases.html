<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Models and Databases</title>

    <link rel="alternate" href="https://campusempresa.com/mod/django/models-and-databases" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/django/models-and-databases" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/django/models-and-databases" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/django/models-and-databases" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/django/models-and-databases" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='templates-and-static-files'>&#x25C4;Templates and Static Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Models and Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='defining-models'>Defining Models &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Models and Databases</h1>
<div class='content'><p>In Django, models are Python classes that represent database tables. Each attribute of the model corresponds to a database field. Django's Object-Relational Mapping (ORM) allows you to interact with the database using Python code instead of writing SQL queries.</p>
</div><h1>Creating Models</h1>
<div class='content'><p>To define a model, you create a class that inherits from <code>django.db.models.Model</code>. Each attribute of the class represents a database field.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQXV0aG9yKG1vZGVscy5Nb2RlbCk6CiAgICBuYW1lID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGJpcnRoX2RhdGUgPSBtb2RlbHMuRGF0ZUZpZWxkKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class Author(models.Model):
    name = models.CharField(max_length=100)
    birth_date = models.DateField()</pre></div><div class='content'></div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Model Class</strong>: A Python class that represents a database table.</li>
<li><strong>Field Types</strong>: Django provides various field types like <code>CharField</code>, <code>DateField</code>, <code>IntegerField</code>, etc.</li>
<li><strong>Meta Class</strong>: Used to define metadata for the model, such as ordering and verbose names.</li>
</ul>
</div><h1>Field Types</h1>
<div class='content'><p>Django offers a variety of field types to match different kinds of data.</p>
<table>
<thead>
<tr>
<th>Field Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CharField</td>
<td>For small to large-sized strings</td>
</tr>
<tr>
<td>TextField</td>
<td>For large text fields</td>
</tr>
<tr>
<td>IntegerField</td>
<td>For integer values</td>
</tr>
<tr>
<td>FloatField</td>
<td>For floating-point numbers</td>
</tr>
<tr>
<td>DateField</td>
<td>For date values</td>
</tr>
<tr>
<td>DateTimeField</td>
<td>For date and time values</td>
</tr>
<tr>
<td>BooleanField</td>
<td>For true/false values</td>
</tr>
<tr>
<td>ForeignKey</td>
<td>For creating many-to-one relationships</td>
</tr>
</tbody>
</table>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQm9vayhtb2RlbHMuTW9kZWwpOgogICAgdGl0bGUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjAwKQogICAgYXV0aG9yID0gbW9kZWxzLkZvcmVpZ25LZXkoQXV0aG9yLCBvbl9kZWxldGU9bW9kZWxzLkNBU0NBREUpCiAgICBwdWJsaXNoZWRfZGF0ZSA9IG1vZGVscy5EYXRlRmllbGQoKQogICAgcHJpY2UgPSBtb2RlbHMuRmxvYXRGaWVsZCgpCiAgICBpbl9zdG9jayA9IG1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1UcnVlKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Book(models.Model):
    title = models.CharField(max_length=200)
    author = models.ForeignKey(Author, on_delete=models.CASCADE)
    published_date = models.DateField()
    price = models.FloatField()
    in_stock = models.BooleanField(default=True)</pre></div><div class='content'></div><h1>Migrations</h1>
<div class='content'><p>Migrations are Django's way of propagating changes you make to your models into your database schema.</p>
</div><h2>Creating and Applying Migrations</h2>
<div class='content'><ol>
<li><strong>Create Migrations</strong>: Generate migration files based on the changes in your models.
<pre><code class="language-bash">python manage.py makemigrations
</code></pre>
</li>
<li><strong>Apply Migrations</strong>: Apply the generated migrations to the database.
<pre><code class="language-bash">python manage.py migrate
</code></pre>
</li>
</ol>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhdGUgYSBuZXcgbWlncmF0aW9uIGJhc2VkIG9uIHRoZSBjaGFuZ2VzIGRldGVjdGVkIHRvIHlvdXIgbW9kZWxzCnB5dGhvbiBtYW5hZ2UucHkgbWFrZW1pZ3JhdGlvbnMKCiMgQXBwbHkgdGhlIG1pZ3JhdGlvbiB0byB0aGUgZGF0YWJhc2UKcHl0aG9uIG1hbmFnZS5weSBtaWdyYXRl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Create a new migration based on the changes detected to your models
python manage.py makemigrations

# Apply the migration to the database
python manage.py migrate</pre></div><div class='content'></div><h1>Querying the Database</h1>
<div class='content'><p>Django ORM provides a powerful API to query the database.</p>
</div><h2>Basic Queries</h2>
<div class='content'><ul>
<li><strong>All Objects</strong>: Retrieve all objects from a model.
<pre><code class="language-python">books = Book.objects.all()
</code></pre>
</li>
<li><strong>Filter Objects</strong>: Retrieve objects that match certain criteria.
<pre><code class="language-python">books = Book.objects.filter(author__name='John Doe')
</code></pre>
</li>
<li><strong>Get Single Object</strong>: Retrieve a single object that matches the criteria.
<pre><code class="language-python">book = Book.objects.get(id=1)
</code></pre>
</li>
</ul>
</div><h2>Advanced Queries</h2>
<div class='content'><ul>
<li><strong>Chaining Filters</strong>: Combine multiple filters.
<pre><code class="language-python">books = Book.objects.filter(author__name='John Doe').filter(in_stock=True)
</code></pre>
</li>
<li><strong>Excluding Objects</strong>: Exclude objects that match certain criteria.
<pre><code class="language-python">books = Book.objects.exclude(price__gt=20.00)
</code></pre>
</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBSZXRyaWV2ZSBhbGwgYm9va3MKYWxsX2Jvb2tzID0gQm9vay5vYmplY3RzLmFsbCgpCgojIFJldHJpZXZlIGJvb2tzIGJ5IGEgc3BlY2lmaWMgYXV0aG9yCmpvaG5fZG9lX2Jvb2tzID0gQm9vay5vYmplY3RzLmZpbHRlcihhdXRob3JfX25hbWU9J0pvaG4gRG9lJykKCiMgUmV0cmlldmUgYSBzaW5nbGUgYm9vayBieSBpdHMgSUQKYm9vayA9IEJvb2sub2JqZWN0cy5nZXQoaWQ9MSkKCiMgUmV0cmlldmUgYm9va3MgdGhhdCBhcmUgaW4gc3RvY2sgYW5kIGF1dGhvcmVkIGJ5IEpvaG4gRG9lCmluX3N0b2NrX2Jvb2tzID0gQm9vay5vYmplY3RzLmZpbHRlcihhdXRob3JfX25hbWU9J0pvaG4gRG9lJywgaW5fc3RvY2s9VHJ1ZSkKCiMgRXhjbHVkZSBib29rcyB0aGF0IGFyZSBwcmljZWQgYWJvdmUgJDIwCmFmZm9yZGFibGVfYm9va3MgPSBCb29rLm9iamVjdHMuZXhjbHVkZShwcmljZV9fZ3Q9MjAuMDAp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Retrieve all books
all_books = Book.objects.all()

# Retrieve books by a specific author
john_doe_books = Book.objects.filter(author__name='John Doe')

# Retrieve a single book by its ID
book = Book.objects.get(id=1)

# Retrieve books that are in stock and authored by John Doe
in_stock_books = Book.objects.filter(author__name='John Doe', in_stock=True)

# Exclude books that are priced above $20
affordable_books = Book.objects.exclude(price__gt=20.00)</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of Django models and databases. You learned how to create models, define fields, and perform basic and advanced queries using Django ORM. Understanding these concepts is crucial for building robust and scalable web applications with Django.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='templates-and-static-files'>&#x25C4;Templates and Static Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Models and Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='defining-models'>Defining Models &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
