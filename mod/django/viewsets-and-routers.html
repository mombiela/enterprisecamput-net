<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViewSets and Routers</title>

    <link rel="alternate" href="https://campusempresa.com/mod/django/viewsets-and-routers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/django/viewsets-and-routers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/django/viewsets-and-routers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/django/viewsets-and-routers" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/django/viewsets-and-routers" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='serializers'>&#x25C4;Serializers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ViewSets and Routers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='authentication-and-permissions'>Authentication and Permissions &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will explore Django's ViewSets and Routers, which are powerful tools provided by the Django REST framework (DRF) to simplify the creation of RESTful APIs. By the end of this section, you will understand how to use ViewSets and Routers to streamline your API development process.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>ViewSets</strong>: A ViewSet is a class that combines the logic for multiple views into a single class. This helps to reduce redundancy and makes the code more maintainable.</li>
<li><strong>Routers</strong>: Routers automatically generate URL patterns for ViewSets, reducing the need to manually define URL configurations.</li>
</ul>
</div><h1>ViewSets</h1>
<div class='content'></div><h2>What is a ViewSet?</h2>
<div class='content'><p>A ViewSet is a type of class-based view that provides actions like <code>list</code>, <code>create</code>, <code>retrieve</code>, <code>update</code>, and <code>destroy</code>. Instead of defining these actions separately, you can define them in a single class.</p>
</div><h2>Example of a Simple ViewSet</h2>
<div class='content'><p>Let's create a simple ViewSet for a <code>Book</code> model.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb2RlbHMucHkKZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQm9vayhtb2RlbHMuTW9kZWwpOgogICAgdGl0bGUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MTAwKQogICAgYXV0aG9yID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIHB1Ymxpc2hlZF9kYXRlID0gbW9kZWxzLkRhdGVGaWVsZCgpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYudGl0bGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># models.py
from django.db import models

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.CharField(max_length=100)
    published_date = models.DateField()

    def __str__(self):
        return self.title</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJpYWxpemVycy5weQpmcm9tIHJlc3RfZnJhbWV3b3JrIGltcG9ydCBzZXJpYWxpemVycwpmcm9tIC5tb2RlbHMgaW1wb3J0IEJvb2sKCmNsYXNzIEJvb2tTZXJpYWxpemVyKHNlcmlhbGl6ZXJzLk1vZGVsU2VyaWFsaXplcik6CiAgICBjbGFzcyBNZXRhOgogICAgICAgIG1vZGVsID0gQm9vawogICAgICAgIGZpZWxkcyA9ICdfX2FsbF9fJw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># serializers.py
from rest_framework import serializers
from .models import Book

class BookSerializer(serializers.ModelSerializer):
    class Meta:
        model = Book
        fields = '__all__'</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIHJlc3RfZnJhbWV3b3JrIGltcG9ydCB2aWV3c2V0cwpmcm9tIC5tb2RlbHMgaW1wb3J0IEJvb2sKZnJvbSAuc2VyaWFsaXplcnMgaW1wb3J0IEJvb2tTZXJpYWxpemVyCgpjbGFzcyBCb29rVmlld1NldCh2aWV3c2V0cy5Nb2RlbFZpZXdTZXQpOgogICAgcXVlcnlzZXQgPSBCb29rLm9iamVjdHMuYWxsKCkKICAgIHNlcmlhbGl6ZXJfY2xhc3MgPSBCb29rU2VyaWFsaXplcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from rest_framework import viewsets
from .models import Book
from .serializers import BookSerializer

class BookViewSet(viewsets.ModelViewSet):
    queryset = Book.objects.all()
    serializer_class = BookSerializer</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Model</strong>: Defines the <code>Book</code> model with fields <code>title</code>, <code>author</code>, and <code>published_date</code>.</li>
<li><strong>Serializer</strong>: Converts the <code>Book</code> model instances to JSON and vice versa.</li>
<li><strong>ViewSet</strong>: Combines the logic for listing, creating, retrieving, updating, and deleting <code>Book</code> instances.</li>
</ul>
</div><h1>Routers</h1>
<div class='content'></div><h2>What is a Router?</h2>
<div class='content'><p>A Router automatically generates URL patterns for ViewSets. This eliminates the need to manually define URL configurations for each view.</p>
</div><h2>Example of a Simple Router</h2>
<div class='content'><p>Let's set up a router for our <code>BookViewSet</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB1cmxzLnB5CmZyb20gZGphbmdvLnVybHMgaW1wb3J0IHBhdGgsIGluY2x1ZGUKZnJvbSByZXN0X2ZyYW1ld29yay5yb3V0ZXJzIGltcG9ydCBEZWZhdWx0Um91dGVyCmZyb20gLnZpZXdzIGltcG9ydCBCb29rVmlld1NldAoKcm91dGVyID0gRGVmYXVsdFJvdXRlcigpCnJvdXRlci5yZWdpc3RlcihyJ2Jvb2tzJywgQm9va1ZpZXdTZXQpCgp1cmxwYXR0ZXJucyA9IFsKICAgIHBhdGgoJycsIGluY2x1ZGUocm91dGVyLnVybHMpKSwKXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import BookViewSet

router = DefaultRouter()
router.register(r'books', BookViewSet)

urlpatterns = [
    path('', include(router.urls)),
]</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>DefaultRouter</strong>: A built-in router that automatically generates URL patterns.</li>
<li><strong>register</strong>: Registers the <code>BookViewSet</code> with the router, associating it with the URL prefix <code>books</code>.</li>
<li><strong>urlpatterns</strong>: Includes the router-generated URLs in the project's URL configuration.</li>
</ul>
</div><h1>Advanced Usage</h1>
<div class='content'></div><h2>Customizing ViewSets</h2>
<div class='content'><p>You can customize the behavior of ViewSets by overriding methods or adding new ones.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIHJlc3RfZnJhbWV3b3JrIGltcG9ydCB2aWV3c2V0cwpmcm9tIHJlc3RfZnJhbWV3b3JrLnJlc3BvbnNlIGltcG9ydCBSZXNwb25zZQpmcm9tIC5tb2RlbHMgaW1wb3J0IEJvb2sKZnJvbSAuc2VyaWFsaXplcnMgaW1wb3J0IEJvb2tTZXJpYWxpemVyCgpjbGFzcyBCb29rVmlld1NldCh2aWV3c2V0cy5Nb2RlbFZpZXdTZXQpOgogICAgcXVlcnlzZXQgPSBCb29rLm9iamVjdHMuYWxsKCkKICAgIHNlcmlhbGl6ZXJfY2xhc3MgPSBCb29rU2VyaWFsaXplcgoKICAgIGRlZiBsaXN0KHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHF1ZXJ5c2V0ID0gQm9vay5vYmplY3RzLmZpbHRlcihwdWJsaXNoZWRfZGF0ZV9feWVhcj0yMDIzKQogICAgICAgIHNlcmlhbGl6ZXIgPSBCb29rU2VyaWFsaXplcihxdWVyeXNldCwgbWFueT1UcnVlKQogICAgICAgIHJldHVybiBSZXNwb25zZShzZXJpYWxpemVyLmRhdGEp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from rest_framework import viewsets
from rest_framework.response import Response
from .models import Book
from .serializers import BookSerializer

class BookViewSet(viewsets.ModelViewSet):
    queryset = Book.objects.all()
    serializer_class = BookSerializer

    def list(self, request):
        queryset = Book.objects.filter(published_date__year=2023)
        serializer = BookSerializer(queryset, many=True)
        return Response(serializer.data)</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Overriding <code>list</code> method</strong>: Customizes the <code>list</code> action to filter books published in the year 2023.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we have covered the basics and advanced usage of ViewSets and Routers in Django REST framework. ViewSets help to consolidate view logic, making the code more maintainable, while Routers automate URL pattern generation, simplifying the URL configuration process. By mastering these tools, you can significantly streamline your API development workflow in Django.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='serializers'>&#x25C4;Serializers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ViewSets and Routers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='authentication-and-permissions'>Authentication and Permissions &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
