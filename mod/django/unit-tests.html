<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Tests in Django</title>

    <link rel="alternate" href="https://campusempresa.com/mod/django/unit-tests" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/django/unit-tests" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/django/unit-tests" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/django/unit-tests" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/django/unit-tests" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-testing'>&#x25C4;Introduction to Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Tests in Django</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-tests'>Integration Tests &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Unit testing is a crucial part of developing robust and reliable Django applications. This section will guide you from the basics of unit testing in Django to more advanced techniques.</p>
</div><h1>Introduction to Unit Testing</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Unit testing involves testing individual components of your application to ensure they work as expected.</li>
<li><strong>Importance</strong>: Helps catch bugs early, ensures code reliability, and facilitates refactoring.</li>
</ul>
</div><h1>Setting Up Unit Tests in Django</h1>
<div class='content'><ul>
<li><strong>Django's Test Framework</strong>: Django comes with a built-in test framework based on Python's <code>unittest</code> module.</li>
<li><strong>Creating Test Files</strong>: By convention, test files are named <code>test_*.py</code> and are placed in the same directory as the module they are testing.</li>
</ul>
</div><h2>Example: Basic Test Case</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB0ZXN0cy5weQpmcm9tIGRqYW5nby50ZXN0IGltcG9ydCBUZXN0Q2FzZQpmcm9tIC5tb2RlbHMgaW1wb3J0IE15TW9kZWwKCmNsYXNzIE15TW9kZWxUZXN0Q2FzZShUZXN0Q2FzZSk6CiAgICBkZWYgc2V0VXAoc2VsZik6CiAgICAgICAgTXlNb2RlbC5vYmplY3RzLmNyZWF0ZShuYW1lPSJ0ZXN0MSIsIHZhbHVlPTEwKQogICAgICAgIE15TW9kZWwub2JqZWN0cy5jcmVhdGUobmFtZT0idGVzdDIiLCB2YWx1ZT0yMCkKCiAgICBkZWYgdGVzdF9teV9tb2RlbF92YWx1ZXMoc2VsZik6CiAgICAgICAgIiIiTXlNb2RlbCB2YWx1ZXMgYXJlIGNvcnJlY3RseSBpZGVudGlmaWVkIiIiCiAgICAgICAgdGVzdDEgPSBNeU1vZGVsLm9iamVjdHMuZ2V0KG5hbWU9InRlc3QxIikKICAgICAgICB0ZXN0MiA9IE15TW9kZWwub2JqZWN0cy5nZXQobmFtZT0idGVzdDIiKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwodGVzdDEudmFsdWUsIDEwKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwodGVzdDIudmFsdWUsIDIwKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># tests.py
from django.test import TestCase
from .models import MyModel

class MyModelTestCase(TestCase):
    def setUp(self):
        MyModel.objects.create(name=&quot;test1&quot;, value=10)
        MyModel.objects.create(name=&quot;test2&quot;, value=20)

    def test_my_model_values(self):
        &quot;&quot;&quot;MyModel values are correctly identified&quot;&quot;&quot;
        test1 = MyModel.objects.get(name=&quot;test1&quot;)
        test2 = MyModel.objects.get(name=&quot;test2&quot;)
        self.assertEqual(test1.value, 10)
        self.assertEqual(test2.value, 20)</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>TestCase</code> is a class from <code>django.test</code> that provides a framework for writing tests.</li>
<li><code>setUp</code> method is used to create initial data.</li>
<li><code>test_my_model_values</code> is a test method that checks if the values are correctly assigned.</li>
</ul>
</li>
</ul>
</div><h1>Running Tests</h1>
<div class='content'><ul>
<li><strong>Command</strong>: Use <code>python manage.py test</code> to run all tests in your Django project.</li>
<li><strong>Output</strong>: The command will output the results of the tests, indicating which tests passed and which failed.</li>
</ul>
</div><h1>Writing More Complex Tests</h1>
<div class='content'><ul>
<li><strong>Testing Views</strong>: You can test views by simulating HTTP requests.</li>
<li><strong>Testing Forms</strong>: Ensure that forms validate and process data correctly.</li>
<li><strong>Testing Models</strong>: Check model methods and properties.</li>
</ul>
</div><h2>Example: Testing a View</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB0ZXN0cy5weQpmcm9tIGRqYW5nby50ZXN0IGltcG9ydCBUZXN0Q2FzZSwgQ2xpZW50CmZyb20gZGphbmdvLnVybHMgaW1wb3J0IHJldmVyc2UKCmNsYXNzIE15Vmlld1Rlc3RDYXNlKFRlc3RDYXNlKToKICAgIGRlZiBzZXRVcChzZWxmKToKICAgICAgICBzZWxmLmNsaWVudCA9IENsaWVudCgpCgogICAgZGVmIHRlc3RfbXlfdmlldyhzZWxmKToKICAgICAgICByZXNwb25zZSA9IHNlbGYuY2xpZW50LmdldChyZXZlcnNlKCdteV92aWV3JykpCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNwb25zZS5zdGF0dXNfY29kZSwgMjAwKQogICAgICAgIHNlbGYuYXNzZXJ0Q29udGFpbnMocmVzcG9uc2UsICJFeHBlY3RlZCBDb250ZW50Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># tests.py
from django.test import TestCase, Client
from django.urls import reverse

class MyViewTestCase(TestCase):
    def setUp(self):
        self.client = Client()

    def test_my_view(self):
        response = self.client.get(reverse('my_view'))
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, &quot;Expected Content&quot;)</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>Client</code> is used to simulate a web browser.</li>
<li><code>reverse</code> is used to get the URL for a view by its name.</li>
<li><code>assertContains</code> checks if the response contains the expected content.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Testing Techniques</h1>
<div class='content'><ul>
<li><strong>Mocking</strong>: Use the <code>unittest.mock</code> library to mock external dependencies.</li>
<li><strong>Fixtures</strong>: Predefined data sets that can be loaded into the database for testing.</li>
<li><strong>Test Coverage</strong>: Measure how much of your code is tested using tools like <code>coverage.py</code>.</li>
</ul>
</div><h2>Example: Using Mocking</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB0ZXN0cy5weQpmcm9tIGRqYW5nby50ZXN0IGltcG9ydCBUZXN0Q2FzZQpmcm9tIHVuaXR0ZXN0Lm1vY2sgaW1wb3J0IHBhdGNoCmZyb20gLmV4dGVybmFsX3NlcnZpY2UgaW1wb3J0IEV4dGVybmFsU2VydmljZQoKY2xhc3MgRXh0ZXJuYWxTZXJ2aWNlVGVzdENhc2UoVGVzdENhc2UpOgogICAgQHBhdGNoKCdteWFwcC5leHRlcm5hbF9zZXJ2aWNlLkV4dGVybmFsU2VydmljZS5nZXRfZGF0YScpCiAgICBkZWYgdGVzdF9leHRlcm5hbF9zZXJ2aWNlKHNlbGYsIG1vY2tfZ2V0X2RhdGEpOgogICAgICAgIG1vY2tfZ2V0X2RhdGEucmV0dXJuX3ZhbHVlID0geydrZXknOiAndmFsdWUnfQogICAgICAgIHJlc3BvbnNlID0gRXh0ZXJuYWxTZXJ2aWNlKCkuZ2V0X2RhdGEoKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmVzcG9uc2UsIHsna2V5JzogJ3ZhbHVlJ30p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># tests.py
from django.test import TestCase
from unittest.mock import patch
from .external_service import ExternalService

class ExternalServiceTestCase(TestCase):
    @patch('myapp.external_service.ExternalService.get_data')
    def test_external_service(self, mock_get_data):
        mock_get_data.return_value = {'key': 'value'}
        response = ExternalService().get_data()
        self.assertEqual(response, {'key': 'value'})</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>patch</code> is used to replace the <code>get_data</code> method of <code>ExternalService</code> with a mock.</li>
<li><code>mock_get_data.return_value</code> sets the return value of the mocked method.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Unit testing is an essential practice for maintaining the quality and reliability of your Django applications. By starting with basic tests and gradually incorporating more complex scenarios, you can ensure that your codebase remains robust and maintainable. Remember to run your tests frequently and aim for high test coverage to catch issues early in the development process.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-testing'>&#x25C4;Introduction to Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Tests in Django</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-tests'>Integration Tests &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
