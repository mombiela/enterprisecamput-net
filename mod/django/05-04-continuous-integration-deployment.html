<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Continuous Integration and Deployment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/django/05-04-continuous-integration-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/django/05-04-continuous-integration-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/django/05-04-continuous-integration-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/django/05-04-continuous-integration-deployment" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/django/05-04-continuous-integration-deployment" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-03-using-docker-with-django' title="Using Docker with Django">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Continuous Integration and Deployment</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-05-maintaining-scaling-django-applications' title="Maintaining and Scaling Django Applications">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Continuous Integration (CI) and Continuous Deployment (CD) are essential practices in modern software development. They help ensure that your code is always in a deployable state, and they automate the process of deploying your application to production. In this section, we will cover the following topics:</p>
<ol>
<li><strong>Introduction to CI/CD</strong></li>
<li><strong>Setting Up a CI/CD Pipeline</strong></li>
<li><strong>Using GitHub Actions for CI/CD</strong></li>
<li><strong>Deploying to Heroku</strong></li>
<li><strong>Best Practices for CI/CD</strong></li>
</ol>
</div><h1><ol>
<li>Introduction to CI/CD</li>
</ol></h1>
<div class='content'></div><h2>What is Continuous Integration (CI)?</h2>
<div class='content'><p>Continuous Integration is a development practice where developers integrate code into a shared repository frequently. Each integration is verified by an automated build and automated tests to detect integration errors as quickly as possible.</p>
</div><h2>What is Continuous Deployment (CD)?</h2>
<div class='content'><p>Continuous Deployment is a software release process that uses automated testing to validate if changes to a codebase are correct and stable enough to be automatically deployed to a production environment.</p>
</div><h2>Benefits of CI/CD</h2>
<div class='content'><ul>
<li><strong>Early Detection of Errors:</strong> Automated tests run on every commit, catching errors early.</li>
<li><strong>Faster Release Cycles:</strong> Automating the deployment process allows for more frequent releases.</li>
<li><strong>Improved Collaboration:</strong> CI/CD encourages smaller, more frequent commits, making it easier for teams to collaborate.</li>
</ul>
</div><h1><ol start="2">
<li>Setting Up a CI/CD Pipeline</li>
</ol></h1>
<div class='content'><p>A CI/CD pipeline automates the process of building, testing, and deploying your application. Here’s a high-level overview of the steps involved:</p>
<ol>
<li><strong>Code Commit:</strong> Developers commit code to a version control system (e.g., Git).</li>
<li><strong>Build:</strong> The CI server builds the application.</li>
<li><strong>Test:</strong> Automated tests are run to ensure the code is working as expected.</li>
<li><strong>Deploy:</strong> The application is deployed to a staging or production environment.</li>
</ol>
</div><h1><ol start="3">
<li>Using GitHub Actions for CI/CD</li>
</ol></h1>
<div class='content'><p>GitHub Actions is a powerful tool for automating workflows directly from your GitHub repository. Here’s how to set up a basic CI/CD pipeline for a Django application using GitHub Actions.</p>
</div><h2>Step 1: Create a GitHub Repository</h2>
<div class='content'><p>Create a new repository on GitHub and push your Django project to it.</p>
</div><h2>Step 2: Add a GitHub Actions Workflow</h2>
<div class='content'><p>Create a <code>.github/workflows/ci-cd.yml</code> file in your repository with the following content:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCiAgcHVsbF9yZXF1ZXN0OgogICAgYnJhbmNoZXM6CiAgICAgIC0gbWFpbgoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKCiAgICBzZXJ2aWNlczoKICAgICAgcG9zdGdyZXM6CiAgICAgICAgaW1hZ2U6IHBvc3RncmVzOmxhdGVzdAogICAgICAgIGVudjoKICAgICAgICAgIFBPU1RHUkVTX1VTRVI6IHBvc3RncmVzCiAgICAgICAgICBQT1NUR1JFU19QQVNTV09SRDogcG9zdGdyZXMKICAgICAgICAgIFBPU1RHUkVTX0RCOiBteWRhdGFiYXNlCiAgICAgICAgcG9ydHM6CiAgICAgICAgICAtIDU0MzI6NTQzMgogICAgICAgIG9wdGlvbnM6ID4tCiAgICAgICAgICAtLWhlYWx0aC1jbWQgcGdfaXNyZWFkeQogICAgICAgICAgLS1oZWFsdGgtaW50ZXJ2YWwgMTBzCiAgICAgICAgICAtLWhlYWx0aC10aW1lb3V0IDVzCiAgICAgICAgICAtLWhlYWx0aC1yZXRyaWVzIDUKCiAgICBzdGVwczoKICAgIC0gbmFtZTogQ2hlY2tvdXQgY29kZQogICAgICB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCgogICAgLSBuYW1lOiBTZXQgdXAgUHl0aG9uCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtcHl0aG9uQHYyCiAgICAgIHdpdGg6CiAgICAgICAgcHl0aG9uLXZlcnNpb246ICczLjgnCgogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IHwKICAgICAgICBweXRob24gLW0gcGlwIGluc3RhbGwgLS11cGdyYWRlIHBpcAogICAgICAgIHBpcCBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQKCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBlbnY6CiAgICAgICAgREFUQUJBU0VfVVJMOiBwb3N0Z3JlczovL3Bvc3RncmVzOnBvc3RncmVzQGxvY2FsaG9zdDo1NDMyL215ZGF0YWJhc2UKICAgICAgcnVuOiB8CiAgICAgICAgcHl0aG9uIG1hbmFnZS5weSBtaWdyYXRlCiAgICAgICAgcHl0aG9uIG1hbmFnZS5weSB0ZXN0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    services:
      postgres:
        image: postgres:latest
        env:
          POSTGRES_USER: postgres
          POSTGRES_PASSWORD: postgres
          POSTGRES_DB: mydatabase
        ports:
          - 5432:5432
        options: &gt;-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.8'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    - name: Run tests
      env:
        DATABASE_URL: postgres://postgres:postgres@localhost:5432/mydatabase
      run: |
        python manage.py migrate
        python manage.py test</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>on:</strong> Specifies the events that trigger the workflow (push and pull requests to the main branch).</li>
<li><strong>jobs:</strong> Defines the jobs to be run (in this case, a build job).</li>
<li><strong>services:</strong> Sets up a PostgreSQL service for the database.</li>
<li><strong>steps:</strong> Lists the steps to be executed in the job, including checking out the code, setting up Python, installing dependencies, and running tests.</li>
</ul>
</div><h1><ol start="4">
<li>Deploying to Heroku</li>
</ol></h1>
<div class='content'><p>Heroku is a popular platform for deploying web applications. Here’s how to deploy your Django application to Heroku using GitHub Actions.</p>
</div><h2>Step 1: Install the Heroku CLI</h2>
<div class='content'><p>Install the Heroku CLI on your local machine and log in to your Heroku account.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBjdXJsIGh0dHBzOi8vY2xpLWFzc2V0cy5oZXJva3UuY29tL2luc3RhbGwuc2ggfCBzaAokIGhlcm9rdSBsb2dpbg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ curl https://cli-assets.heroku.com/install.sh | sh
$ heroku login</pre></div><div class='content'></div><h2>Step 2: Create a Heroku App</h2>
<div class='content'><p>Create a new Heroku app from the Heroku dashboard or using the Heroku CLI.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBoZXJva3UgY3JlYXRlIG15LWRqYW5nby1hcHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ heroku create my-django-app</pre></div><div class='content'></div><h2>Step 3: Add Heroku Deployment to GitHub Actions</h2>
<div class='content'><p>Update your <code>.github/workflows/ci-cd.yml</code> file to include a deployment step:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCiAgcHVsbF9yZXF1ZXN0OgogICAgYnJhbmNoZXM6CiAgICAgIC0gbWFpbgoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKCiAgICBzZXJ2aWNlczoKICAgICAgcG9zdGdyZXM6CiAgICAgICAgaW1hZ2U6IHBvc3RncmVzOmxhdGVzdAogICAgICAgIGVudjoKICAgICAgICAgIFBPU1RHUkVTX1VTRVI6IHBvc3RncmVzCiAgICAgICAgICBQT1NUR1JFU19QQVNTV09SRDogcG9zdGdyZXMKICAgICAgICAgIFBPU1RHUkVTX0RCOiBteWRhdGFiYXNlCiAgICAgICAgcG9ydHM6CiAgICAgICAgICAtIDU0MzI6NTQzMgogICAgICAgIG9wdGlvbnM6ID4tCiAgICAgICAgICAtLWhlYWx0aC1jbWQgcGdfaXNyZWFkeQogICAgICAgICAgLS1oZWFsdGgtaW50ZXJ2YWwgMTBzCiAgICAgICAgICAtLWhlYWx0aC10aW1lb3V0IDVzCiAgICAgICAgICAtLWhlYWx0aC1yZXRyaWVzIDUKCiAgICBzdGVwczoKICAgIC0gbmFtZTogQ2hlY2tvdXQgY29kZQogICAgICB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCgogICAgLSBuYW1lOiBTZXQgdXAgUHl0aG9uCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtcHl0aG9uQHYyCiAgICAgIHdpdGg6CiAgICAgICAgcHl0aG9uLXZlcnNpb246ICczLjgnCgogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IHwKICAgICAgICBweXRob24gLW0gcGlwIGluc3RhbGwgLS11cGdyYWRlIHBpcAogICAgICAgIHBpcCBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQKCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBlbnY6CiAgICAgICAgREFUQUJBU0VfVVJMOiBwb3N0Z3JlczovL3Bvc3RncmVzOnBvc3RncmVzQGxvY2FsaG9zdDo1NDMyL215ZGF0YWJhc2UKICAgICAgcnVuOiB8CiAgICAgICAgcHl0aG9uIG1hbmFnZS5weSBtaWdyYXRlCiAgICAgICAgcHl0aG9uIG1hbmFnZS5weSB0ZXN0CgogICAgLSBuYW1lOiBEZXBsb3kgdG8gSGVyb2t1CiAgICAgIGVudjoKICAgICAgICBIRVJPS1VfQVBJX0tFWTogJHt7IHNlY3JldHMuSEVST0tVX0FQSV9LRVkgfX0KICAgICAgcnVuOiB8CiAgICAgICAgZ2l0IHJlbW90ZSBhZGQgaGVyb2t1IGh0dHBzOi8vZ2l0Lmhlcm9rdS5jb20vbXktZGphbmdvLWFwcC5naXQKICAgICAgICBnaXQgcHVzaCBoZXJva3UgbWFpbg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    services:
      postgres:
        image: postgres:latest
        env:
          POSTGRES_USER: postgres
          POSTGRES_PASSWORD: postgres
          POSTGRES_DB: mydatabase
        ports:
          - 5432:5432
        options: &gt;-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.8'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    - name: Run tests
      env:
        DATABASE_URL: postgres://postgres:postgres@localhost:5432/mydatabase
      run: |
        python manage.py migrate
        python manage.py test

    - name: Deploy to Heroku
      env:
        HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
      run: |
        git remote add heroku https://git.heroku.com/my-django-app.git
        git push heroku main</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>Deploy to Heroku:</strong> This step uses the Heroku API key stored in GitHub Secrets to authenticate and deploy the application to Heroku.</li>
</ul>
</div><h1><ol start="5">
<li>Best Practices for CI/CD</li>
</ol></h1>
<div class='content'><ul>
<li><strong>Use Environment Variables:</strong> Store sensitive information like API keys and database credentials in environment variables.</li>
<li><strong>Automate Tests:</strong> Ensure that all tests are automated and run on every commit.</li>
<li><strong>Monitor Deployments:</strong> Use monitoring tools to keep track of your deployments and quickly identify any issues.</li>
<li><strong>Rollback Strategy:</strong> Have a rollback strategy in place in case a deployment fails.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of Continuous Integration and Deployment, set up a CI/CD pipeline using GitHub Actions, and deployed a Django application to Heroku. By following these practices, you can ensure that your code is always in a deployable state and that deployments are automated and reliable. In the next section, we will discuss maintaining and scaling Django applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-03-using-docker-with-django' title="Using Docker with Django">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-05-maintaining-scaling-django-applications' title="Maintaining and Scaling Django Applications">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
