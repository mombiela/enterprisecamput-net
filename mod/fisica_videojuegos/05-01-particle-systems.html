<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Particle Systems</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fisica_videojuegos/05-01-sistemas-particulas" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fisica_videojuegos/05-01-sistemes-particules" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fisica_videojuegos/05-01-particle-systems" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/fisica_videojuegos/05-01-sistemas-particulas" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/fisica_videojuegos/05-01-sistemes-particules" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-04-constraints-joints' title="Constraints and Joints">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Particle Systems</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-02-fluid-simulation' title="Fluid Simulation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Particle systems are a crucial aspect of video game physics, used to simulate a wide range of phenomena such as fire, smoke, rain, explosions, and more. This module will cover the fundamental concepts, practical examples, and exercises to help you understand and implement particle systems in video games.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Particles</strong>: The basic unit of a particle system, representing a small, simple object.</li>
<li><strong>Emitters</strong>: Sources that generate particles.</li>
<li><strong>Particle Properties</strong>: Attributes such as position, velocity, lifespan, color, and size.</li>
<li><strong>Forces</strong>: External influences like gravity, wind, and drag that affect particle behavior.</li>
<li><strong>Update Loop</strong>: The process of updating particle properties over time.</li>
</ol>
</div><h1><p>Particle System Components</p>
</h1>
<div class='content'></div><h2><p>Particles</p>
</h2>
<div class='content'><p>Particles are the smallest units in a particle system. They are typically simple objects with properties such as:</p>
<ul>
<li><strong>Position</strong>: The location of the particle in the game world.</li>
<li><strong>Velocity</strong>: The speed and direction of the particle's movement.</li>
<li><strong>Lifespan</strong>: The duration for which the particle exists.</li>
<li><strong>Color</strong>: The color of the particle, which can change over its lifespan.</li>
<li><strong>Size</strong>: The size of the particle, which can also change over time.</li>
</ul>
</div><h2><p>Emitters</p>
</h2>
<div class='content'><p>Emitters are responsible for generating particles. They define:</p>
<ul>
<li><strong>Emission Rate</strong>: The number of particles generated per unit of time.</li>
<li><strong>Emission Shape</strong>: The geometric shape from which particles are emitted (e.g., point, line, circle, sphere).</li>
<li><strong>Initial Properties</strong>: The initial values for particle properties such as position, velocity, and color.</li>
</ul>
</div><h2><p>Forces</p>
</h2>
<div class='content'><p>Forces influence the behavior of particles. Common forces include:</p>
<ul>
<li><strong>Gravity</strong>: Pulls particles downward.</li>
<li><strong>Wind</strong>: Applies a directional force to particles.</li>
<li><strong>Drag</strong>: Slows down particles over time.</li>
</ul>
</div><h2><p>Update Loop</p>
</h2>
<div class='content'><p>The update loop is the core of a particle system, responsible for updating the properties of each particle over time. This typically involves:</p>
<ol>
<li><strong>Updating Position</strong>: Based on the particle's velocity and any applied forces.</li>
<li><strong>Updating Velocity</strong>: Considering forces like gravity and drag.</li>
<li><strong>Updating Lifespan</strong>: Reducing the remaining lifespan of the particle.</li>
<li><strong>Removing Dead Particles</strong>: Removing particles that have exceeded their lifespan.</li>
</ol>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a simple particle system in pseudocode to simulate a fountain of particles.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGFydGljbGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcG9zaXRpb24sIHZlbG9jaXR5LCBsaWZlc3BhbiwgY29sb3IsIHNpemUpOgogICAgICAgIHNlbGYucG9zaXRpb24gPSBwb3NpdGlvbgogICAgICAgIHNlbGYudmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgIHNlbGYubGlmZXNwYW4gPSBsaWZlc3BhbgogICAgICAgIHNlbGYuY29sb3IgPSBjb2xvcgogICAgICAgIHNlbGYuc2l6ZSA9IHNpemUKCiAgICBkZWYgdXBkYXRlKHNlbGYsIGRlbHRhX3RpbWUpOgogICAgICAgICMgVXBkYXRlIHBvc2l0aW9uIGJhc2VkIG9uIHZlbG9jaXR5CiAgICAgICAgc2VsZi5wb3NpdGlvbiArPSBzZWxmLnZlbG9jaXR5ICogZGVsdGFfdGltZQogICAgICAgICMgQXBwbHkgZ3Jhdml0eQogICAgICAgIHNlbGYudmVsb2NpdHkueSAtPSA5LjgxICogZGVsdGFfdGltZQogICAgICAgICMgUmVkdWNlIGxpZmVzcGFuCiAgICAgICAgc2VsZi5saWZlc3BhbiAtPSBkZWx0YV90aW1lCgpjbGFzcyBFbWl0dGVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBvc2l0aW9uLCBlbWlzc2lvbl9yYXRlKToKICAgICAgICBzZWxmLnBvc2l0aW9uID0gcG9zaXRpb24KICAgICAgICBzZWxmLmVtaXNzaW9uX3JhdGUgPSBlbWlzc2lvbl9yYXRlCiAgICAgICAgc2VsZi5wYXJ0aWNsZXMgPSBbXQoKICAgIGRlZiBlbWl0KHNlbGYsIGRlbHRhX3RpbWUpOgogICAgICAgIG51bV9wYXJ0aWNsZXMgPSBpbnQoc2VsZi5lbWlzc2lvbl9yYXRlICogZGVsdGFfdGltZSkKICAgICAgICBmb3IgXyBpbiByYW5nZShudW1fcGFydGljbGVzKToKICAgICAgICAgICAgdmVsb2NpdHkgPSBWZWN0b3IocmFuZG9tLnVuaWZvcm0oLTEsIDEpLCByYW5kb20udW5pZm9ybSg1LCAxMCkpCiAgICAgICAgICAgIHBhcnRpY2xlID0gUGFydGljbGUoc2VsZi5wb3NpdGlvbiwgdmVsb2NpdHksIDIuMCwgQ29sb3IoMjU1LCAyNTUsIDI1NSksIDEuMCkKICAgICAgICAgICAgc2VsZi5wYXJ0aWNsZXMuYXBwZW5kKHBhcnRpY2xlKQoKICAgIGRlZiB1cGRhdGUoc2VsZiwgZGVsdGFfdGltZSk6CiAgICAgICAgc2VsZi5lbWl0KGRlbHRhX3RpbWUpCiAgICAgICAgZm9yIHBhcnRpY2xlIGluIHNlbGYucGFydGljbGVzOgogICAgICAgICAgICBwYXJ0aWNsZS51cGRhdGUoZGVsdGFfdGltZSkKICAgICAgICAjIFJlbW92ZSBkZWFkIHBhcnRpY2xlcwogICAgICAgIHNlbGYucGFydGljbGVzID0gW3AgZm9yIHAgaW4gc2VsZi5wYXJ0aWNsZXMgaWYgcC5saWZlc3BhbiA+IDBdCgojIEV4YW1wbGUgdXNhZ2UKZW1pdHRlciA9IEVtaXR0ZXIoVmVjdG9yKDAsIDApLCAxMCkgICMgRW1pdCAxMCBwYXJ0aWNsZXMgcGVyIHNlY29uZApkZWx0YV90aW1lID0gMC4wMTYgICMgQXNzdW1pbmcgNjAgRlBTCgp3aGlsZSBUcnVlOgogICAgZW1pdHRlci51cGRhdGUoZGVsdGFfdGltZSkKICAgIHJlbmRlcihlbWl0dGVyLnBhcnRpY2xlcykgICMgUmVuZGVyIHBhcnRpY2xlcyBvbiB0aGUgc2NyZWVu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Particle:
    def __init__(self, position, velocity, lifespan, color, size):
        self.position = position
        self.velocity = velocity
        self.lifespan = lifespan
        self.color = color
        self.size = size

    def update(self, delta_time):
        # Update position based on velocity
        self.position += self.velocity * delta_time
        # Apply gravity
        self.velocity.y -= 9.81 * delta_time
        # Reduce lifespan
        self.lifespan -= delta_time

class Emitter:
    def __init__(self, position, emission_rate):
        self.position = position
        self.emission_rate = emission_rate
        self.particles = []

    def emit(self, delta_time):
        num_particles = int(self.emission_rate * delta_time)
        for _ in range(num_particles):
            velocity = Vector(random.uniform(-1, 1), random.uniform(5, 10))
            particle = Particle(self.position, velocity, 2.0, Color(255, 255, 255), 1.0)
            self.particles.append(particle)

    def update(self, delta_time):
        self.emit(delta_time)
        for particle in self.particles:
            particle.update(delta_time)
        # Remove dead particles
        self.particles = [p for p in self.particles if p.lifespan &gt; 0]

# Example usage
emitter = Emitter(Vector(0, 0), 10)  # Emit 10 particles per second
delta_time = 0.016  # Assuming 60 FPS

while True:
    emitter.update(delta_time)
    render(emitter.particles)  # Render particles on the screen</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Particle Class</strong>: Defines the properties and update method for individual particles.</li>
<li><strong>Emitter Class</strong>: Manages the emission of particles and updates them over time.</li>
<li><strong>Example Usage</strong>: Demonstrates how to create an emitter and update it in a game loop.</li>
</ul>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Modify Particle Properties</p>
</h2>
<div class='content'><p>Modify the particle system to include color changes over the particle's lifespan. Implement a gradient effect where particles start as white and gradually turn to red as they age.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGFydGljbGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcG9zaXRpb24sIHZlbG9jaXR5LCBsaWZlc3BhbiwgY29sb3IsIHNpemUpOgogICAgICAgIHNlbGYucG9zaXRpb24gPSBwb3NpdGlvbgogICAgICAgIHNlbGYudmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgIHNlbGYubGlmZXNwYW4gPSBsaWZlc3BhbgogICAgICAgIHNlbGYuY29sb3IgPSBjb2xvcgogICAgICAgIHNlbGYuc2l6ZSA9IHNpemUKICAgICAgICBzZWxmLmluaXRpYWxfbGlmZXNwYW4gPSBsaWZlc3BhbgoKICAgIGRlZiB1cGRhdGUoc2VsZiwgZGVsdGFfdGltZSk6CiAgICAgICAgc2VsZi5wb3NpdGlvbiArPSBzZWxmLnZlbG9jaXR5ICogZGVsdGFfdGltZQogICAgICAgIHNlbGYudmVsb2NpdHkueSAtPSA5LjgxICogZGVsdGFfdGltZQogICAgICAgIHNlbGYubGlmZXNwYW4gLT0gZGVsdGFfdGltZQogICAgICAgICMgVXBkYXRlIGNvbG9yIGJhc2VkIG9uIHJlbWFpbmluZyBsaWZlc3BhbgogICAgICAgIHQgPSBzZWxmLmxpZmVzcGFuIC8gc2VsZi5pbml0aWFsX2xpZmVzcGFuCiAgICAgICAgc2VsZi5jb2xvciA9IENvbG9yKDI1NSwgaW50KDI1NSAqIHQpLCBpbnQoMjU1ICogdCkpCgojIE5vIGNoYW5nZXMgbmVlZGVkIGluIHRoZSBFbWl0dGVyIGNsYXNz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Particle:
    def __init__(self, position, velocity, lifespan, color, size):
        self.position = position
        self.velocity = velocity
        self.lifespan = lifespan
        self.color = color
        self.size = size
        self.initial_lifespan = lifespan

    def update(self, delta_time):
        self.position += self.velocity * delta_time
        self.velocity.y -= 9.81 * delta_time
        self.lifespan -= delta_time
        # Update color based on remaining lifespan
        t = self.lifespan / self.initial_lifespan
        self.color = Color(255, int(255 * t), int(255 * t))

# No changes needed in the Emitter class</pre></div><div class='content'></div><h2><p>Exercise 2: Implement Wind Force</p>
</h2>
<div class='content'><p>Add a wind force to the particle system that pushes particles to the right.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGFydGljbGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcG9zaXRpb24sIHZlbG9jaXR5LCBsaWZlc3BhbiwgY29sb3IsIHNpemUpOgogICAgICAgIHNlbGYucG9zaXRpb24gPSBwb3NpdGlvbgogICAgICAgIHNlbGYudmVsb2NpdHkgPSB2ZWxvY2l0eQogICAgICAgIHNlbGYubGlmZXNwYW4gPSBsaWZlc3BhbgogICAgICAgIHNlbGYuY29sb3IgPSBjb2xvcgogICAgICAgIHNlbGYuc2l6ZSA9IHNpemUKCiAgICBkZWYgdXBkYXRlKHNlbGYsIGRlbHRhX3RpbWUpOgogICAgICAgIHNlbGYucG9zaXRpb24gKz0gc2VsZi52ZWxvY2l0eSAqIGRlbHRhX3RpbWUKICAgICAgICBzZWxmLnZlbG9jaXR5LnkgLT0gOS44MSAqIGRlbHRhX3RpbWUKICAgICAgICBzZWxmLnZlbG9jaXR5LnggKz0gMS4wICogZGVsdGFfdGltZSAgIyBBcHBseSB3aW5kIGZvcmNlCiAgICAgICAgc2VsZi5saWZlc3BhbiAtPSBkZWx0YV90aW1lCgojIE5vIGNoYW5nZXMgbmVlZGVkIGluIHRoZSBFbWl0dGVyIGNsYXNz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Particle:
    def __init__(self, position, velocity, lifespan, color, size):
        self.position = position
        self.velocity = velocity
        self.lifespan = lifespan
        self.color = color
        self.size = size

    def update(self, delta_time):
        self.position += self.velocity * delta_time
        self.velocity.y -= 9.81 * delta_time
        self.velocity.x += 1.0 * delta_time  # Apply wind force
        self.lifespan -= delta_time

# No changes needed in the Emitter class</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this module, we covered the basics of particle systems, including particles, emitters, forces, and the update loop. We also provided practical examples and exercises to help you implement and modify particle systems in your games. Understanding these concepts will allow you to create visually appealing and dynamic effects, enhancing the overall gaming experience.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-04-constraints-joints' title="Constraints and Joints">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-02-fluid-simulation' title="Fluid Simulation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
