<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ragdoll Physics</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fisica_videojuegos/06-02-ragdoll-physics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fisica_videojuegos/06-02-ragdoll-physics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fisica_videojuegos/06-02-ragdoll-physics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/fisica_videojuegos/06-02-ragdoll-physics" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/fisica_videojuegos/06-02-ragdoll-physics" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-soft-bodies' title="Soft Bodies">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Ragdoll Physics</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-destruction-deformation' title="Destruction and Deformation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Ragdoll physics is a procedural animation technique used in video games to simulate the realistic movement of a character's body when it is no longer under the player's control, such as when the character is knocked out or killed. This technique allows for dynamic and believable animations that respond to the environment and interactions within the game.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'></div><h2><ol>
<li>Ragdoll Structure</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Skeleton</strong>: The character's skeleton is represented by a hierarchy of bones connected by joints.</li>
<li><strong>Rigid Bodies</strong>: Each bone is treated as a rigid body, which means it has mass, velocity, and can collide with other objects.</li>
<li><strong>Joints</strong>: Joints connect the rigid bodies, allowing for realistic movement and constraints.</li>
</ul>
</div><h2><ol start="2">
<li>Physics Simulation</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Gravity</strong>: The force that pulls the ragdoll towards the ground.</li>
<li><strong>Collisions</strong>: Detection and response to collisions with other objects in the environment.</li>
<li><strong>Constraints</strong>: Limits on the movement of joints to prevent unnatural poses.</li>
</ul>
</div><h2><ol start="3">
<li>Transition from Animation to Ragdoll</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Blending</strong>: Smoothly transitioning from a pre-defined animation to ragdoll physics.</li>
<li><strong>Triggers</strong>: Events that cause the transition, such as character death or impact.</li>
</ul>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'></div><h2><p>Setting Up a Ragdoll in Unity</p>
</h2>
<div class='content'><ol>
<li><strong>Create a Character Model</strong>: Import or create a character model with a rigged skeleton.</li>
<li><strong>Add Rigid Bodies</strong>: Attach Rigidbody components to each bone in the skeleton.</li>
<li><strong>Configure Joints</strong>: Add and configure joints (e.g., HingeJoint, ConfigurableJoint) to connect the rigid bodies.</li>
<li><strong>Apply Physics Materials</strong>: Assign physics materials to control friction and bounciness.</li>
</ol>
<h4>Example Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgUmFnZG9sbENvbnRyb2xsZXIgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBSaWdpZGJvZHlbXSByaWdpZEJvZGllczsKICAgIHB1YmxpYyBBbmltYXRvciBhbmltYXRvcjsKCiAgICB2b2lkIFN0YXJ0KCkKICAgIHsKICAgICAgICAvLyBEaXNhYmxlIGFsbCByaWdpZCBib2RpZXMgYXQgdGhlIHN0YXJ0CiAgICAgICAgZm9yZWFjaCAoUmlnaWRib2R5IHJiIGluIHJpZ2lkQm9kaWVzKQogICAgICAgIHsKICAgICAgICAgICAgcmIuaXNLaW5lbWF0aWMgPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBBY3RpdmF0ZVJhZ2RvbGwoKQogICAgewogICAgICAgIC8vIERpc2FibGUgdGhlIGFuaW1hdG9yCiAgICAgICAgYW5pbWF0b3IuZW5hYmxlZCA9IGZhbHNlOwoKICAgICAgICAvLyBFbmFibGUgYWxsIHJpZ2lkIGJvZGllcwogICAgICAgIGZvcmVhY2ggKFJpZ2lkYm9keSByYiBpbiByaWdpZEJvZGllcykKICAgICAgICB7CiAgICAgICAgICAgIHJiLmlzS2luZW1hdGljID0gZmFsc2U7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class RagdollController : MonoBehaviour
{
    public Rigidbody[] rigidBodies;
    public Animator animator;

    void Start()
    {
        // Disable all rigid bodies at the start
        foreach (Rigidbody rb in rigidBodies)
        {
            rb.isKinematic = true;
        }
    }

    public void ActivateRagdoll()
    {
        // Disable the animator
        animator.enabled = false;

        // Enable all rigid bodies
        foreach (Rigidbody rb in rigidBodies)
        {
            rb.isKinematic = false;
        }
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>rigidBodies</strong>: An array of Rigidbody components attached to the bones.</li>
<li><strong>animator</strong>: The Animator component controlling the character's animations.</li>
<li><strong>Start()</strong>: Disables all rigid bodies at the start to allow normal animations.</li>
<li><strong>ActivateRagdoll()</strong>: Disables the Animator and enables all rigid bodies to switch to ragdoll physics.</li>
</ul>
</div><h2><p>Practical Exercise</p>
</h2>
<div class='content'><p><strong>Exercise</strong>: Implement a ragdoll system for a character in Unity.</p>
<ol>
<li><strong>Setup</strong>: Import a character model with a rigged skeleton.</li>
<li><strong>Add Components</strong>: Attach Rigidbody and Collider components to each bone.</li>
<li><strong>Configure Joints</strong>: Add and configure joints to connect the bones.</li>
<li><strong>Script</strong>: Write a script to transition from animation to ragdoll physics.</li>
</ol>
<p><strong>Solution</strong>:</p>
<ol>
<li>Import the character model.</li>
<li>Add Rigidbody components to each bone.</li>
<li>Add Collider components to each bone.</li>
<li>Configure joints to connect the bones.</li>
<li>Write a script similar to the example provided above.</li>
</ol>
</div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Incorrect Joint Configuration</strong>: Ensure joints are correctly configured to avoid unnatural poses.</li>
<li><strong>Performance Issues</strong>: Optimize the number of rigid bodies and colliders to maintain performance.</li>
<li><strong>Smooth Transitions</strong>: Use blending techniques to smoothly transition from animation to ragdoll physics.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Ragdoll physics is a powerful technique for creating realistic and dynamic character animations in video games. By understanding the structure of ragdolls, configuring physics simulations, and implementing transitions, developers can enhance the believability and immersion of their games. In the next section, we will explore the concept of destruction and deformation, further expanding on the principles of advanced physics in video games.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-soft-bodies' title="Soft Bodies">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-destruction-deformation' title="Destruction and Deformation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
