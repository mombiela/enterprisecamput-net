<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rigid Bodies Simulation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fisica_videojuegos/04-02-simulacion-rigid-bodies" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fisica_videojuegos/04-02-simulacio-rigid-bodies" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fisica_videojuegos/04-02-rigid-bodies-simulation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/fisica_videojuegos/04-02-simulacion-rigid-bodies" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/fisica_videojuegos/04-02-simulacio-rigid-bodies" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-introduction-rigid-bodies' title="Introduction to Rigid Bodies">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Rigid Bodies Simulation</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-interactions-rigid-bodies' title="Interactions between Rigid Bodies">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the simulation of rigid bodies in video games. Rigid bodies are objects that do not deform under force, making them ideal for simulating solid objects like boxes, balls, and characters in a game environment. Understanding how to simulate rigid bodies accurately is crucial for creating realistic and engaging gameplay experiences.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Rigid Body Definition</strong>:</p>
<ul>
<li>A rigid body is an object with a fixed shape and size that does not change regardless of the forces applied to it.</li>
<li>In simulations, rigid bodies are often represented by their mass, center of mass, and moments of inertia.</li>
</ul>
</li>
<li>
<p><strong>Forces and Torques</strong>:</p>
<ul>
<li>Forces cause linear acceleration of the rigid body.</li>
<li>Torques cause angular acceleration, leading to rotational motion.</li>
</ul>
</li>
<li>
<p><strong>Equations of Motion</strong>:</p>
<ul>
<li>Linear motion: \( F = ma \)</li>
<li>Rotational motion: \( \tau = I \alpha \)</li>
<li>Where \( F \) is force, \( m \) is mass, \( a \) is acceleration, \( \tau \) is torque, \( I \) is the moment of inertia, and \( \alpha \) is angular acceleration.</li>
</ul>
</li>
<li>
<p><strong>Integration Methods</strong>:</p>
<ul>
<li>Numerical integration methods like Euler, Semi-Implicit Euler, and Runge-Kutta are used to update the position and orientation of rigid bodies over time.</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Example: Simulating a Falling Box</p>
</h1>
<div class='content'><p>Let's simulate a simple scenario where a box falls under gravity and collides with the ground.</p>
</div><h2><p>Step-by-Step Implementation</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Define the Rigid Body Properties</strong>:</p>
<ul>
<li>Mass: \( m = 1 , \text{kg} \)</li>
<li>Initial Position: \( \mathbf{p} = (0, 10, 0) \)</li>
<li>Initial Velocity: \( \mathbf{v} = (0, 0, 0) \)</li>
<li>Gravity: \( \mathbf{g} = (0, -9.81, 0) , \text{m/s}^2 \)</li>
</ul>
</li>
<li>
<p><strong>Initialize the Simulation</strong>:</p>
<pre><code class="language-python">class RigidBody:
    def __init__(self, mass, position, velocity):
        self.mass = mass
        self.position = position
        self.velocity = velocity
        self.force = (0, 0, 0)

    def apply_force(self, force):
        self.force = force

    def update(self, dt):
        # Update velocity
        acceleration = (self.force[0] / self.mass, self.force[1] / self.mass, self.force[2] / self.mass)
        self.velocity = (self.velocity[0] + acceleration[0] * dt, self.velocity[1] + acceleration[1] * dt, self.velocity[2] + acceleration[2] * dt)

        # Update position
        self.position = (self.position[0] + self.velocity[0] * dt, self.position[1] + self.velocity[1] * dt, self.position[2] + self.velocity[2] * dt)

        # Reset force
        self.force = (0, 0, 0)

# Initialize the box
box = RigidBody(1, (0, 10, 0), (0, 0, 0))
</code></pre>
</li>
<li>
<p><strong>Simulate the Falling Motion</strong>:</p>
<pre><code class="language-python">import time

dt = 0.01  # Time step
gravity = (0, -9.81, 0)

for _ in range(1000):
    box.apply_force(gravity)
    box.update(dt)
    print(f&quot;Position: {box.position}, Velocity: {box.velocity}&quot;)
    time.sleep(dt)
</code></pre>
</li>
</ol>
</div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Initialization</strong>: We define a <code>RigidBody</code> class with properties for mass, position, velocity, and force. The <code>apply_force</code> method allows us to apply forces to the rigid body, and the <code>update</code> method updates its position and velocity based on the applied forces.</li>
<li><strong>Simulation Loop</strong>: We simulate the motion by applying gravity as a constant force and updating the box's state in small time steps (<code>dt</code>). The position and velocity are printed at each step to observe the motion.</li>
</ul>
</div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Ignoring Time Step Size</strong>: Using a large time step can lead to inaccurate simulations. Always choose a small enough <code>dt</code> to ensure stability.</li>
<li><strong>Forgetting to Reset Forces</strong>: After each update, reset the forces to avoid accumulating forces over multiple frames.</li>
<li><strong>Not Handling Collisions</strong>: In a real game, you need to detect and handle collisions to prevent objects from passing through each other.</li>
</ul>
</div><h1><p>Exercises</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Exercise 1: Add Air Resistance</strong></p>
<ul>
<li>Modify the simulation to include air resistance proportional to the velocity.</li>
<li>Solution:
<pre><code class="language-python">def apply_air_resistance(self, drag_coefficient):
    drag_force = (-drag_coefficient * self.velocity[0], -drag_coefficient * self.velocity[1], -drag_coefficient * self.velocity[2])
    self.apply_force(drag_force)

# In the simulation loop
drag_coefficient = 0.1
for _ in range(1000):
    box.apply_force(gravity)
    box.apply_air_resistance(drag_coefficient)
    box.update(dt)
    print(f&quot;Position: {box.position}, Velocity: {box.velocity}&quot;)
    time.sleep(dt)
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Exercise 2: Implement Collision with Ground</strong></p>
<ul>
<li>Detect when the box hits the ground (y = 0) and make it bounce.</li>
<li>Solution:
<pre><code class="language-python">for _ in range(1000):
    box.apply_force(gravity)
    box.update(dt)
    if box.position[1] &lt;= 0:
        box.position = (box.position[0], 0, box.position[2])
        box.velocity = (box.velocity[0], -box.velocity[1], box.velocity[2])  # Simple bounce
    print(f&quot;Position: {box.position}, Velocity: {box.velocity}&quot;)
    time.sleep(dt)
</code></pre>
</li>
</ul>
</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of rigid body simulation, including defining rigid bodies, applying forces, and updating their state using numerical integration. We also implemented a simple example of a falling box and explored common issues and solutions. This foundation prepares you for more complex simulations involving multiple rigid bodies and interactions in the next sections.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-introduction-rigid-bodies' title="Introduction to Rigid Bodies">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-interactions-rigid-bodies' title="Interactions between Rigid Bodies">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
