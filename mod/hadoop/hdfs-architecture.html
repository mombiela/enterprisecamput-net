<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HDFS Architecture</title>

    <link rel="alternate" href="https://campusempresa.com/mod/hadoop/hdfs-architecture" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/hadoop/hdfs-architecture" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/hadoop/hdfs-architecture" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/hadoop/hdfs-architecture" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/hadoop/hdfs-architecture" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='running-a-hadoop-cluster'>&#x25C4;Running a Hadoop Cluster</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">HDFS Architecture</a>
	</div>
	<div class='col-4 text-end'>
					<a href='hdfs-commands'>HDFS Commands &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to HDFS</h1>
<div class='content'><p>Hadoop Distributed File System (HDFS) is the primary storage system used by Hadoop applications. It is designed to store large datasets reliably and to stream those data sets at high bandwidth to user applications.</p>
</div><h1>Key Concepts of HDFS</h1>
<div class='content'><ul>
<li><strong>Blocks</strong>: The smallest unit of data storage in HDFS. Default block size is 128 MB.</li>
<li><strong>Namenode</strong>: The master server that manages the file system namespace and regulates access to files by clients.</li>
<li><strong>Datanode</strong>: The worker nodes that store and retrieve blocks when they are told to (by the Namenode).</li>
<li><strong>Replication</strong>: HDFS stores multiple copies of data blocks to ensure reliability and fault tolerance. Default replication factor is 3.</li>
<li><strong>Rack Awareness</strong>: HDFS is aware of the rack topology of the cluster and tries to place replicas of data blocks on different racks to improve fault tolerance and data availability.</li>
</ul>
</div><h1>HDFS Architecture Components</h1>
<h2>Namenode</h2>
<div class='content'><ul>
<li><strong>Responsibilities</strong>:
<ul>
<li>Manages the file system namespace.</li>
<li>Maintains the file system tree and the metadata for all the files and directories.</li>
<li>Regulates access to files by clients.</li>
</ul>
</li>
<li><strong>Metadata Storage</strong>:
<ul>
<li>Stores metadata in memory for fast access.</li>
<li>Metadata includes information like file permissions, modification and access times, and block locations.</li>
</ul>
</li>
</ul>
</div><h2>Datanode</h2>
<div class='content'><ul>
<li><strong>Responsibilities</strong>:
<ul>
<li>Stores actual data blocks.</li>
<li>Serves read and write requests from clients.</li>
<li>Periodically reports the list of blocks it stores to the Namenode.</li>
</ul>
</li>
<li><strong>Block Storage</strong>:
<ul>
<li>Each block is stored as a separate file in the local file system of the Datanode.</li>
<li>Datanodes perform block creation, deletion, and replication upon instruction from the Namenode.</li>
</ul>
</li>
</ul>
</div><h2>Secondary Namenode</h2>
<div class='content'><ul>
<li><strong>Responsibilities</strong>:
<ul>
<li>Periodically merges the namespace image with the edit log to prevent the edit log from becoming too large.</li>
<li>Acts as a checkpointing mechanism but is not a backup Namenode.</li>
</ul>
</li>
</ul>
</div><h1>HDFS Data Flow</h1>
<h2>Write Operation</h2>
<div class='content'><ol>
<li><strong>Client Request</strong>: The client requests the Namenode to create a new file.</li>
<li><strong>Block Allocation</strong>: Namenode allocates a block and returns the list of Datanodes where the client should write the data.</li>
<li><strong>Data Writing</strong>: The client writes data to the first Datanode, which then replicates the data to the next Datanode in the pipeline, and so on.</li>
<li><strong>Acknowledgement</strong>: Once all replicas are written, an acknowledgment is sent back to the client.</li>
</ol>
</div><h2>Read Operation</h2>
<div class='content'><ol>
<li><strong>Client Request</strong>: The client requests the Namenode to read a file.</li>
<li><strong>Block Location</strong>: Namenode returns the list of Datanodes that have the requested blocks.</li>
<li><strong>Data Reading</strong>: The client reads the data directly from the Datanodes.</li>
</ol>
</div><h1>HDFS Fault Tolerance</h1>
<div class='content'><ul>
<li><strong>Replication</strong>: Ensures data availability even if some Datanodes fail.</li>
<li><strong>Heartbeat and Block Reports</strong>: Datanodes send heartbeats and block reports to the Namenode to confirm their status and the blocks they store.</li>
<li><strong>Automatic Re-replication</strong>: If a block replica is lost, the Namenode automatically initiates the creation of a new replica.</li>
</ul>
</div><h1>Example: Writing and Reading Files in HDFS</h1>
<div class='content'></div><h2>Writing a File to HDFS</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb21tYW5kIHRvIGNvcHkgYSBsb2NhbCBmaWxlIHRvIEhERlMKaGFkb29wIGZzIC1wdXQgL2xvY2FsL3BhdGgvdG8vZmlsZSAvaGRmcy9wYXRoL3RvL2Rlc3RpbmF0aW9u"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Command to copy a local file to HDFS
hadoop fs -put /local/path/to/file /hdfs/path/to/destination</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>hadoop fs -put</code>: Command to copy a file from the local file system to HDFS.</li>
<li><code>/local/path/to/file</code>: Path to the local file.</li>
<li><code>/hdfs/path/to/destination</code>: Destination path in HDFS.</li>
</ul>
</div><h2>Reading a File from HDFS</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb21tYW5kIHRvIHJlYWQgYSBmaWxlIGZyb20gSERGUwpoYWRvb3AgZnMgLWNhdCAvaGRmcy9wYXRoL3RvL2ZpbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Command to read a file from HDFS
hadoop fs -cat /hdfs/path/to/file</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>hadoop fs -cat</code>: Command to display the contents of a file in HDFS.</li>
<li><code>/hdfs/path/to/file</code>: Path to the file in HDFS.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>HDFS is a distributed file system designed to run on commodity hardware. It is highly fault-tolerant and designed to be deployed on low-cost hardware. HDFS provides high throughput access to application data and is suitable for applications that have large data sets. Understanding the architecture of HDFS, including its components like Namenode, Datanode, and Secondary Namenode, as well as its data flow and fault tolerance mechanisms, is crucial for effectively working with Hadoop.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='running-a-hadoop-cluster'>&#x25C4;Running a Hadoop Cluster</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">HDFS Architecture</a>
	</div>
	<div class='col-4 text-end'>
					<a href='hdfs-commands'>HDFS Commands &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
