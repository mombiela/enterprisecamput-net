<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Hive</title>

    <link rel="alternate" href="https://campusempresa.com/mod/hadoop/05-02-apache-hive" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/hadoop/05-02-apache-hive" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/hadoop/05-02-apache-hive" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/hadoop/05-02-apache-hive" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/hadoop/05-02-apache-hive" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-apache-pig' title="Apache Pig">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Apache Hive</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-apache-hbase' title="Apache HBase">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction to Apache Hive</p>
</h1>
<div class='content'><p>Apache Hive is a data warehouse infrastructure built on top of Hadoop for providing data summarization, query, and analysis. Hive allows users to read, write, and manage large datasets residing in distributed storage using SQL. It abstracts the complexity of Hadoop's MapReduce framework and provides a simple SQL-like interface called HiveQL.</p>
</div><h2><p>Key Concepts</p>
</h2>
<div class='content'><ol>
<li><strong>HiveQL (Hive Query Language)</strong>: A SQL-like language for querying data stored in Hadoop.</li>
<li><strong>Tables</strong>: Structured data storage in Hive, similar to tables in a relational database.</li>
<li><strong>Partitions</strong>: A way to divide tables into parts based on the values of a particular column.</li>
<li><strong>Buckets</strong>: Further division of data in a table into more manageable parts.</li>
<li><strong>Metastore</strong>: A central repository that stores metadata about the tables, partitions, and other data structures.</li>
</ol>
</div><h1><p>Hive Architecture</p>
</h1>
<div class='content'><p>Hive architecture consists of the following main components:</p>
<ol>
<li><strong>User Interface (UI)</strong>: Allows users to submit queries and other operations to the system.</li>
<li><strong>Driver</strong>: Manages the lifecycle of a HiveQL statement, including query compilation, optimization, and execution.</li>
<li><strong>Compiler</strong>: Converts HiveQL statements into a directed acyclic graph (DAG) of MapReduce jobs.</li>
<li><strong>Metastore</strong>: Stores metadata about the tables, columns, partitions, and data types.</li>
<li><strong>Execution Engine</strong>: Executes the compiled query using Hadoop's MapReduce framework.</li>
</ol>
</div><h2><p>Hive Architecture Diagram</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>User Interface</td>
<td>Provides an interface for users to interact with Hive.</td>
</tr>
<tr>
<td>Driver</td>
<td>Manages the lifecycle of a HiveQL statement.</td>
</tr>
<tr>
<td>Compiler</td>
<td>Converts HiveQL into a DAG of MapReduce jobs.</td>
</tr>
<tr>
<td>Metastore</td>
<td>Stores metadata about Hive tables, columns, and partitions.</td>
</tr>
<tr>
<td>Execution Engine</td>
<td>Executes the compiled query using Hadoop's MapReduce framework.</td>
</tr>
</tbody>
</table>
</div><h1><p>Setting Up Hive</p>
</h1>
<div class='content'></div><h2><p>Prerequisites</p>
</h2>
<div class='content'><ul>
<li>Hadoop cluster (single-node or multi-node)</li>
<li>Java Development Kit (JDK)</li>
<li>Apache Hive binaries</li>
</ul>
</div><h2><p>Installation Steps</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Download Apache Hive</strong>:</p>
<pre><code class="language-sh">wget https://downloads.apache.org/hive/hive-3.1.2/apache-hive-3.1.2-bin.tar.gz
tar -xzvf apache-hive-3.1.2-bin.tar.gz
</code></pre>
</li>
<li>
<p><strong>Set Environment Variables</strong>:</p>
<pre><code class="language-sh">export HIVE_HOME=/path/to/apache-hive-3.1.2-bin
export PATH=$PATH:$HIVE_HOME/bin
</code></pre>
</li>
<li>
<p><strong>Configure Hive</strong>:
Create a <code>hive-site.xml</code> file in the <code>$HIVE_HOME/conf</code> directory with the following basic configuration:</p>
<pre><code class="language-xml">&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;
        &lt;value&gt;jdbc:derby:;databaseName=metastore_db;create=true&lt;/value&gt;
        &lt;description&gt;JDBC connect string for a JDBC metastore&lt;/description&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;
        &lt;value&gt;org.apache.derby.jdbc.EmbeddedDriver&lt;/value&gt;
        &lt;description&gt;Driver class name for a JDBC metastore&lt;/description&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;
        &lt;value&gt;/user/hive/warehouse&lt;/value&gt;
        &lt;description&gt;location of default database for the warehouse&lt;/description&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
</li>
<li>
<p><strong>Initialize the Metastore</strong>:</p>
<pre><code class="language-sh">schematool -initSchema -dbType derby
</code></pre>
</li>
<li>
<p><strong>Start Hive</strong>:</p>
<pre><code class="language-sh">hive
</code></pre>
</li>
</ol>
</div><h1><p>Basic HiveQL Commands</p>
</h1>
<div class='content'></div><h2><p>Creating a Database</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIERBVEFCQVNFIG15ZGF0YWJhc2U7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE DATABASE mydatabase;</pre></div><div class='content'></div><h2><p>Using a Database</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VVNFIG15ZGF0YWJhc2U7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>USE mydatabase;</pre></div><div class='content'></div><h2><p>Creating a Table</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGVtcGxveWVlcyAoCiAgICBpZCBJTlQsCiAgICBuYW1lIFNUUklORywKICAgIGFnZSBJTlQsCiAgICBkZXBhcnRtZW50IFNUUklORwopClJPVyBGT1JNQVQgREVMSU1JVEVECkZJRUxEUyBURVJNSU5BVEVEIEJZICcsJwpTVE9SRUQgQVMgVEVYVEZJTEU7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE employees (
    id INT,
    name STRING,
    age INT,
    department STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ','
STORED AS TEXTFILE;</pre></div><div class='content'></div><h2><p>Loading Data into a Table</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TE9BRCBEQVRBIExPQ0FMIElOUEFUSCAnL3BhdGgvdG8vZW1wbG95ZWVzLmNzdicgSU5UTyBUQUJMRSBlbXBsb3llZXM7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>LOAD DATA LOCAL INPATH '/path/to/employees.csv' INTO TABLE employees;</pre></div><div class='content'></div><h2><p>Querying Data</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBlbXBsb3llZXMgV0hFUkUgYWdlID4gMzA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM employees WHERE age &gt; 30;</pre></div><div class='content'></div><h2><p>Practical Exercise</p>
</h2>
<div class='content'><p><strong>Exercise</strong>: Create a Hive table to store information about books and perform some basic queries.</p>
<ol>
<li>
<p><strong>Create a Database</strong>:</p>
<pre><code class="language-sql">CREATE DATABASE library;
</code></pre>
</li>
<li>
<p><strong>Use the Database</strong>:</p>
<pre><code class="language-sql">USE library;
</code></pre>
</li>
<li>
<p><strong>Create a Table</strong>:</p>
<pre><code class="language-sql">CREATE TABLE books (
    id INT,
    title STRING,
    author STRING,
    year INT,
    genre STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ','
STORED AS TEXTFILE;
</code></pre>
</li>
<li>
<p><strong>Load Data into the Table</strong>:</p>
<pre><code class="language-sql">LOAD DATA LOCAL INPATH '/path/to/books.csv' INTO TABLE books;
</code></pre>
</li>
<li>
<p><strong>Query the Data</strong>:</p>
<pre><code class="language-sql">SELECT * FROM books WHERE year &gt; 2000;
</code></pre>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Database</strong>:</p>
<pre><code class="language-sql">CREATE DATABASE library;
</code></pre>
</li>
<li>
<p><strong>Use the Database</strong>:</p>
<pre><code class="language-sql">USE library;
</code></pre>
</li>
<li>
<p><strong>Create a Table</strong>:</p>
<pre><code class="language-sql">CREATE TABLE books (
    id INT,
    title STRING,
    author STRING,
    year INT,
    genre STRING
)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ','
STORED AS TEXTFILE;
</code></pre>
</li>
<li>
<p><strong>Load Data into the Table</strong>:</p>
<pre><code class="language-sql">LOAD DATA LOCAL INPATH '/path/to/books.csv' INTO TABLE books;
</code></pre>
</li>
<li>
<p><strong>Query the Data</strong>:</p>
<pre><code class="language-sql">SELECT * FROM books WHERE year &gt; 2000;
</code></pre>
</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of Apache Hive, including its architecture, setup, and basic HiveQL commands. We also provided a practical exercise to reinforce the learned concepts. In the next module, we will explore Apache HBase, another important tool in the Hadoop ecosystem.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-apache-pig' title="Apache Pig">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-apache-hbase' title="Apache HBase">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
