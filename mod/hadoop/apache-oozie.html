<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Oozie</title>

    <link rel="alternate" href="https://campusempresa.com/mod/hadoop/apache-oozie" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/hadoop/apache-oozie" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/hadoop/apache-oozie" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/hadoop/apache-oozie" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/hadoop/apache-oozie" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='apache-flume'>&#x25C4;Apache Flume</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Apache Oozie</a>
	</div>
	<div class='col-4 text-end'>
					<a href='apache-zookeeper'>Apache Zookeeper &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Apache Oozie</h1>
<div class='content'><p>Apache Oozie is a workflow scheduler system to manage Hadoop jobs. It allows users to define a sequence of actions to be executed in a specific order, making it easier to manage complex data processing pipelines.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Workflow</strong>: A collection of actions arranged in a Directed Acyclic Graph (DAG).</li>
<li><strong>Coordinator</strong>: Manages workflows based on time and data availability.</li>
<li><strong>Bundle</strong>: A higher-level abstraction that groups multiple coordinators.</li>
<li><strong>Action</strong>: A single unit of work in a workflow (e.g., MapReduce job, Pig script, Hive query).</li>
</ul>
</div><h1>Setting Up Apache Oozie</h1>
<h2>Prerequisites</h2>
<div class='content'><ul>
<li>Hadoop cluster setup</li>
<li>Java Development Kit (JDK) installed</li>
<li>Apache Oozie binaries</li>
</ul>
</div><h2>Installation Steps</h2>
<div class='content'><ol>
<li>
<p><strong>Download Apache Oozie</strong>:</p>
<pre><code class="language-bash">wget http://apache.mirrors.tds.net/oozie/5.2.0/oozie-5.2.0.tar.gz
tar -xzf oozie-5.2.0.tar.gz
cd oozie-5.2.0
</code></pre>
</li>
<li>
<p><strong>Configure Oozie</strong>:</p>
<ul>
<li>Edit <code>oozie-site.xml</code> to configure the database and Hadoop settings.</li>
<li>Example configuration:
<pre><code class="language-xml">&lt;property&gt;
  &lt;name&gt;oozie.service.JPAService.jdbc.url&lt;/name&gt;
  &lt;value&gt;jdbc:mysql://localhost:3306/oozie&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;oozie.service.JPAService.jdbc.username&lt;/name&gt;
  &lt;value&gt;oozie&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;oozie.service.JPAService.jdbc.password&lt;/name&gt;
  &lt;value&gt;password&lt;/value&gt;
&lt;/property&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Deploy Oozie</strong>:</p>
<pre><code class="language-bash">bin/oozie-setup.sh prepare-war
bin/oozie-setup.sh db-schema
</code></pre>
</li>
<li>
<p><strong>Start Oozie</strong>:</p>
<pre><code class="language-bash">bin/oozied.sh start
</code></pre>
</li>
</ol>
</div><h1>Creating and Running Workflows</h1>
<h2>Workflow Definition</h2>
<div class='content'><p>Workflows are defined using XML. Below is an example of a simple workflow that runs a shell script.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHdvcmtmbG93LWFwcCBuYW1lPSJleGFtcGxlLXdmIiB4bWxucz0idXJpOm9vemllOndvcmtmbG93OjAuNSI+CiAgICA8c3RhcnQgdG89InNoZWxsLW5vZGUiLz4KICAgIAogICAgPGFjdGlvbiBuYW1lPSJzaGVsbC1ub2RlIj4KICAgICAgICA8c2hlbGwgeG1sbnM9InVyaTpvb3ppZTpzaGVsbC1hY3Rpb246MC4yIj4KICAgICAgICAgICAgPGpvYi10cmFja2VyPiR7am9iVHJhY2tlcn08L2pvYi10cmFja2VyPgogICAgICAgICAgICA8bmFtZS1ub2RlPiR7bmFtZU5vZGV9PC9uYW1lLW5vZGU+CiAgICAgICAgICAgIDxleGVjPmV4YW1wbGUuc2g8L2V4ZWM+CiAgICAgICAgPC9zaGVsbD4KICAgICAgICA8b2sgdG89ImVuZCIvPgogICAgICAgIDxlcnJvciB0bz0iZmFpbCIvPgogICAgPC9hY3Rpb24+CiAgICAKICAgIDxraWxsIG5hbWU9ImZhaWwiPgogICAgICAgIDxtZXNzYWdlPldvcmtmbG93IGZhaWxlZCwgZXJyb3IgbWVzc2FnZVske3dmOmVycm9yTWVzc2FnZSh3ZjpsYXN0RXJyb3JOb2RlKCkpfV08L21lc3NhZ2U+CiAgICA8L2tpbGw+CiAgICAKICAgIDxlbmQgbmFtZT0iZW5kIi8+Cjwvd29ya2Zsb3ctYXBwPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;workflow-app name=&quot;example-wf&quot; xmlns=&quot;uri:oozie:workflow:0.5&quot;&gt;
    &lt;start to=&quot;shell-node&quot;/&gt;
    
    &lt;action name=&quot;shell-node&quot;&gt;
        &lt;shell xmlns=&quot;uri:oozie:shell-action:0.2&quot;&gt;
            &lt;job-tracker&gt;${jobTracker}&lt;/job-tracker&gt;
            &lt;name-node&gt;${nameNode}&lt;/name-node&gt;
            &lt;exec&gt;example.sh&lt;/exec&gt;
        &lt;/shell&gt;
        &lt;ok to=&quot;end&quot;/&gt;
        &lt;error to=&quot;fail&quot;/&gt;
    &lt;/action&gt;
    
    &lt;kill name=&quot;fail&quot;&gt;
        &lt;message&gt;Workflow failed, error message[${wf:errorMessage(wf:lastErrorNode())}]&lt;/message&gt;
    &lt;/kill&gt;
    
    &lt;end name=&quot;end&quot;/&gt;
&lt;/workflow-app&gt;</pre></div><div class='content'></div><h2>Running the Workflow</h2>
<div class='content'><ol>
<li>
<p><strong>Upload Workflow to HDFS</strong>:</p>
<pre><code class="language-bash">hdfs dfs -put workflow.xml /user/oozie/workflows/example-wf/
</code></pre>
</li>
<li>
<p><strong>Submit Workflow</strong>:</p>
<pre><code class="language-bash">oozie job -oozie http://localhost:11000/oozie -config job.properties -run
</code></pre>
</li>
</ol>
</div><h2>Monitoring and Managing Workflows</h2>
<div class='content'><ul>
<li>Use the Oozie web console to monitor the status of workflows.</li>
<li>Commands to manage workflows:
<pre><code class="language-bash">oozie job -info &lt;job-id&gt;
oozie job -kill &lt;job-id&gt;
</code></pre>
</li>
</ul>
</div><h1>Advanced Features</h1>
<h2>Coordinators</h2>
<div class='content'><p>Coordinators trigger workflows based on time or data availability.</p>
<p>Example coordinator definition:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGNvb3JkaW5hdG9yLWFwcCBuYW1lPSJleGFtcGxlLWNvb3JkIiBmcmVxdWVuY3k9IjUiIHN0YXJ0PSIyMDIzLTAxLTAxVDAwOjAwWiIgZW5kPSIyMDIzLTEyLTMxVDAwOjAwWiIgdGltZXpvbmU9IlVUQyIgeG1sbnM9InVyaTpvb3ppZTpjb29yZGluYXRvcjowLjQiPgogICAgPGNvbnRyb2xzPgogICAgICAgIDx0aW1lb3V0PjEwPC90aW1lb3V0PgogICAgPC9jb250cm9scz4KICAgIDxkYXRhc2V0cz4KICAgICAgICA8ZGF0YXNldCBuYW1lPSJleGFtcGxlLWRhdGFzZXQiIGZyZXF1ZW5jeT0iNSIgaW5pdGlhbC1pbnN0YW5jZT0iMjAyMy0wMS0wMVQwMDowMFoiIHRpbWV6b25lPSJVVEMiPgogICAgICAgICAgICA8dXJpLXRlbXBsYXRlPmhkZnM6Ly9sb2NhbGhvc3Q6OTAwMC91c2VyL29vemllL2RhdGEvJHtZRUFSfS8ke01PTlRIfS8ke0RBWX0vJHtIT1VSfTwvdXJpLXRlbXBsYXRlPgogICAgICAgIDwvZGF0YXNldD4KICAgIDwvZGF0YXNldHM+CiAgICA8aW5wdXQtZXZlbnRzPgogICAgICAgIDxkYXRhLWluIG5hbWU9ImlucHV0IiBkYXRhc2V0PSJleGFtcGxlLWRhdGFzZXQiLz4KICAgIDwvaW5wdXQtZXZlbnRzPgogICAgPGFjdGlvbj4KICAgICAgICA8d29ya2Zsb3c+CiAgICAgICAgICAgIDxhcHAtcGF0aD5oZGZzOi8vbG9jYWxob3N0OjkwMDAvdXNlci9vb3ppZS93b3JrZmxvd3MvZXhhbXBsZS13ZjwvYXBwLXBhdGg+CiAgICAgICAgPC93b3JrZmxvdz4KICAgIDwvYWN0aW9uPgo8L2Nvb3JkaW5hdG9yLWFwcD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;coordinator-app name=&quot;example-coord&quot; frequency=&quot;5&quot; start=&quot;2023-01-01T00:00Z&quot; end=&quot;2023-12-31T00:00Z&quot; timezone=&quot;UTC&quot; xmlns=&quot;uri:oozie:coordinator:0.4&quot;&gt;
    &lt;controls&gt;
        &lt;timeout&gt;10&lt;/timeout&gt;
    &lt;/controls&gt;
    &lt;datasets&gt;
        &lt;dataset name=&quot;example-dataset&quot; frequency=&quot;5&quot; initial-instance=&quot;2023-01-01T00:00Z&quot; timezone=&quot;UTC&quot;&gt;
            &lt;uri-template&gt;hdfs://localhost:9000/user/oozie/data/${YEAR}/${MONTH}/${DAY}/${HOUR}&lt;/uri-template&gt;
        &lt;/dataset&gt;
    &lt;/datasets&gt;
    &lt;input-events&gt;
        &lt;data-in name=&quot;input&quot; dataset=&quot;example-dataset&quot;/&gt;
    &lt;/input-events&gt;
    &lt;action&gt;
        &lt;workflow&gt;
            &lt;app-path&gt;hdfs://localhost:9000/user/oozie/workflows/example-wf&lt;/app-path&gt;
        &lt;/workflow&gt;
    &lt;/action&gt;
&lt;/coordinator-app&gt;</pre></div><div class='content'></div><h2>Bundles</h2>
<div class='content'><p>Bundles group multiple coordinators for easier management.</p>
<p>Example bundle definition:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGJ1bmRsZS1hcHAgbmFtZT0iZXhhbXBsZS1idW5kbGUiIHhtbG5zPSJ1cmk6b296aWU6YnVuZGxlOjAuMiI+CiAgICA8Y29vcmRpbmF0b3IgbmFtZT0iY29vcmQxIj4KICAgICAgICA8YXBwLXBhdGg+aGRmczovL2xvY2FsaG9zdDo5MDAwL3VzZXIvb296aWUvY29vcmRpbmF0b3JzL2V4YW1wbGUtY29vcmQ8L2FwcC1wYXRoPgogICAgPC9jb29yZGluYXRvcj4KICAgIDxjb29yZGluYXRvciBuYW1lPSJjb29yZDIiPgogICAgICAgIDxhcHAtcGF0aD5oZGZzOi8vbG9jYWxob3N0OjkwMDAvdXNlci9vb3ppZS9jb29yZGluYXRvcnMvYW5vdGhlci1jb29yZDwvYXBwLXBhdGg+CiAgICA8L2Nvb3JkaW5hdG9yPgo8L2J1bmRsZS1hcHA+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;bundle-app name=&quot;example-bundle&quot; xmlns=&quot;uri:oozie:bundle:0.2&quot;&gt;
    &lt;coordinator name=&quot;coord1&quot;&gt;
        &lt;app-path&gt;hdfs://localhost:9000/user/oozie/coordinators/example-coord&lt;/app-path&gt;
    &lt;/coordinator&gt;
    &lt;coordinator name=&quot;coord2&quot;&gt;
        &lt;app-path&gt;hdfs://localhost:9000/user/oozie/coordinators/another-coord&lt;/app-path&gt;
    &lt;/coordinator&gt;
&lt;/bundle-app&gt;</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Apache Oozie is a powerful tool for managing Hadoop workflows, coordinators, and bundles. It simplifies the scheduling and execution of complex data processing pipelines. By understanding the basics of workflow definitions, setup, and advanced features like coordinators and bundles, you can effectively manage and automate your Hadoop jobs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='apache-flume'>&#x25C4;Apache Flume</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Apache Oozie</a>
	</div>
	<div class='col-4 text-end'>
					<a href='apache-zookeeper'>Apache Zookeeper &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
