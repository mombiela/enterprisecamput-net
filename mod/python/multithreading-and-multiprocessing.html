<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multithreading and Multiprocessing in Python</title>

    <link rel="alternate" href="https://campusempresa.com/mod/python/multithreading-and-multiprocessing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/python/multithreading-and-multiprocessing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/python/multithreading-and-multiprocessing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/python/multithreading-and-multiprocessing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/python/multithreading-and-multiprocessing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='context-managers'>&#x25C4;Context Managers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Multithreading and Multiprocessing in Python</a>
	</div>
	<div class='col-4 text-end'>
					<a href='asyncio-for-asynchronous-programming'>Asyncio for Asynchronous Programming &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will explore the concepts of multithreading and multiprocessing in Python. These techniques are essential for improving the performance of your programs by allowing them to perform multiple tasks concurrently.</p>
</div><h1>Multithreading</h1>
<div class='content'><p>Multithreading allows a program to run multiple threads (smaller units of a process) simultaneously. This is particularly useful for I/O-bound tasks.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Thread</strong>: The smallest unit of a process that can be scheduled for execution.</li>
<li><strong>GIL (Global Interpreter Lock)</strong>: A mutex that protects access to Python objects, preventing multiple threads from executing Python bytecodes at once.</li>
<li><strong>Thread Safety</strong>: Ensuring that shared data is accessed by only one thread at a time.</li>
</ul>
</div><h2>Basic Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwoKZGVmIHByaW50X251bWJlcnMoKToKICAgIGZvciBpIGluIHJhbmdlKDUpOgogICAgICAgIHByaW50KGkpCgpkZWYgcHJpbnRfbGV0dGVycygpOgogICAgZm9yIGxldHRlciBpbiAnYWJjZGUnOgogICAgICAgIHByaW50KGxldHRlcikKCiMgQ3JlYXRpbmcgdGhyZWFkcwp0aHJlYWQxID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cHJpbnRfbnVtYmVycykKdGhyZWFkMiA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXByaW50X2xldHRlcnMpCgojIFN0YXJ0aW5nIHRocmVhZHMKdGhyZWFkMS5zdGFydCgpCnRocmVhZDIuc3RhcnQoKQoKIyBXYWl0aW5nIGZvciB0aHJlYWRzIHRvIGNvbXBsZXRlCnRocmVhZDEuam9pbigpCnRocmVhZDIuam9pbigpCgpwcmludCgiRG9uZSEiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading

def print_numbers():
    for i in range(5):
        print(i)

def print_letters():
    for letter in 'abcde':
        print(letter)

# Creating threads
thread1 = threading.Thread(target=print_numbers)
thread2 = threading.Thread(target=print_letters)

# Starting threads
thread1.start()
thread2.start()

# Waiting for threads to complete
thread1.join()
thread2.join()

print(&quot;Done!&quot;)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We define two functions: <code>print_numbers</code> and <code>print_letters</code>.</li>
<li>We create two threads, each targeting one of the functions.</li>
<li>We start both threads and wait for them to complete using <code>join()</code>.</li>
</ul>
</div><h2>Thread Safety Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwoKY291bnRlciA9IDAKbG9jayA9IHRocmVhZGluZy5Mb2NrKCkKCmRlZiBpbmNyZW1lbnRfY291bnRlcigpOgogICAgZ2xvYmFsIGNvdW50ZXIKICAgIGZvciBfIGluIHJhbmdlKDEwMDApOgogICAgICAgIHdpdGggbG9jazoKICAgICAgICAgICAgY291bnRlciArPSAxCgp0aHJlYWRzID0gW10KZm9yIF8gaW4gcmFuZ2UoMTApOgogICAgdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9aW5jcmVtZW50X2NvdW50ZXIpCiAgICB0aHJlYWRzLmFwcGVuZCh0aHJlYWQpCiAgICB0aHJlYWQuc3RhcnQoKQoKZm9yIHRocmVhZCBpbiB0aHJlYWRzOgogICAgdGhyZWFkLmpvaW4oKQoKcHJpbnQoZiJGaW5hbCBjb3VudGVyIHZhbHVlOiB7Y291bnRlcn0iKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading

counter = 0
lock = threading.Lock()

def increment_counter():
    global counter
    for _ in range(1000):
        with lock:
            counter += 1

threads = []
for _ in range(10):
    thread = threading.Thread(target=increment_counter)
    threads.append(thread)
    thread.start()

for thread in threads:
    thread.join()

print(f&quot;Final counter value: {counter}&quot;)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We use a <code>Lock</code> to ensure that only one thread can increment the counter at a time, preventing race conditions.</li>
</ul>
</div><h1>Multiprocessing</h1>
<div class='content'><p>Multiprocessing involves using multiple processes, each with its own Python interpreter and memory space. This is useful for CPU-bound tasks.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Process</strong>: An independent program in execution.</li>
<li><strong>IPC (Inter-Process Communication)</strong>: Mechanisms for processes to communicate and synchronize their actions.</li>
<li><strong>Shared Memory</strong>: Memory that can be accessed by multiple processes.</li>
</ul>
</div><h2>Basic Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG11bHRpcHJvY2Vzc2luZwoKZGVmIHByaW50X251bWJlcnMoKToKICAgIGZvciBpIGluIHJhbmdlKDUpOgogICAgICAgIHByaW50KGkpCgpkZWYgcHJpbnRfbGV0dGVycygpOgogICAgZm9yIGxldHRlciBpbiAnYWJjZGUnOgogICAgICAgIHByaW50KGxldHRlcikKCiMgQ3JlYXRpbmcgcHJvY2Vzc2VzCnByb2Nlc3MxID0gbXVsdGlwcm9jZXNzaW5nLlByb2Nlc3ModGFyZ2V0PXByaW50X251bWJlcnMpCnByb2Nlc3MyID0gbXVsdGlwcm9jZXNzaW5nLlByb2Nlc3ModGFyZ2V0PXByaW50X2xldHRlcnMpCgojIFN0YXJ0aW5nIHByb2Nlc3Nlcwpwcm9jZXNzMS5zdGFydCgpCnByb2Nlc3MyLnN0YXJ0KCkKCiMgV2FpdGluZyBmb3IgcHJvY2Vzc2VzIHRvIGNvbXBsZXRlCnByb2Nlc3MxLmpvaW4oKQpwcm9jZXNzMi5qb2luKCkKCnByaW50KCJEb25lISIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import multiprocessing

def print_numbers():
    for i in range(5):
        print(i)

def print_letters():
    for letter in 'abcde':
        print(letter)

# Creating processes
process1 = multiprocessing.Process(target=print_numbers)
process2 = multiprocessing.Process(target=print_letters)

# Starting processes
process1.start()
process2.start()

# Waiting for processes to complete
process1.join()
process2.join()

print(&quot;Done!&quot;)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>Similar to the threading example, but using <code>multiprocessing.Process</code> instead of <code>threading.Thread</code>.</li>
</ul>
</div><h2>Shared Memory Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG11bHRpcHJvY2Vzc2luZwoKZGVmIGluY3JlbWVudF9jb3VudGVyKGNvdW50ZXIpOgogICAgZm9yIF8gaW4gcmFuZ2UoMTAwMCk6CiAgICAgICAgY291bnRlci52YWx1ZSArPSAxCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgY291bnRlciA9IG11bHRpcHJvY2Vzc2luZy5WYWx1ZSgnaScsIDApCiAgICBwcm9jZXNzZXMgPSBbXQogICAgCiAgICBmb3IgXyBpbiByYW5nZSgxMCk6CiAgICAgICAgcHJvY2VzcyA9IG11bHRpcHJvY2Vzc2luZy5Qcm9jZXNzKHRhcmdldD1pbmNyZW1lbnRfY291bnRlciwgYXJncz0oY291bnRlciwpKQogICAgICAgIHByb2Nlc3Nlcy5hcHBlbmQocHJvY2VzcykKICAgICAgICBwcm9jZXNzLnN0YXJ0KCkKICAgIAogICAgZm9yIHByb2Nlc3MgaW4gcHJvY2Vzc2VzOgogICAgICAgIHByb2Nlc3Muam9pbigpCiAgICAKICAgIHByaW50KGYiRmluYWwgY291bnRlciB2YWx1ZToge2NvdW50ZXIudmFsdWV9Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import multiprocessing

def increment_counter(counter):
    for _ in range(1000):
        counter.value += 1

if __name__ == &quot;__main__&quot;:
    counter = multiprocessing.Value('i', 0)
    processes = []
    
    for _ in range(10):
        process = multiprocessing.Process(target=increment_counter, args=(counter,))
        processes.append(process)
        process.start()
    
    for process in processes:
        process.join()
    
    print(f&quot;Final counter value: {counter.value}&quot;)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We use <code>multiprocessing.Value</code> to create a shared integer (<code>'i'</code> stands for integer) that can be safely modified by multiple processes.</li>
</ul>
</div><h1>Comparison Table</h1>
<div class='content'><p>| Feature          | Multithreading                          | Multiprocessing                         |
|------------------|-----------------------------------------|-----------------------------------------|
| Concurrency Type | Thread-level                            | Process-level                           |
| Memory Space     | Shared                                  | Separate                                |
| Suitable For     | I/O-bound tasks                         | CPU-bound tasks                         |
| GIL Impact       | Affected by GIL                         | Not affected by GIL                     |
| Communication    | Easier (shared memory)                  | More complex (IPC mechanisms)           |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Multithreading and multiprocessing are powerful tools for improving the performance of Python programs. Multithreading is suitable for I/O-bound tasks, while multiprocessing is better for CPU-bound tasks. Understanding the differences and appropriate use cases for each can help you write more efficient and effective Python code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='context-managers'>&#x25C4;Context Managers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Multithreading and Multiprocessing in Python</a>
	</div>
	<div class='col-4 text-end'>
					<a href='asyncio-for-asynchronous-programming'>Asyncio for Asynchronous Programming &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
