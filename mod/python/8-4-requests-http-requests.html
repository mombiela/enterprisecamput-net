<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 8: Working with Libraries</title>

    <link rel="alternate" href="https://campusempresa.com/mod/python/8-4-requests-http-requests" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/python/8-4-requests-http-requests" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/python/8-4-requests-http-requests" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/python/8-4-requests-http-requests" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/python/8-4-requests-http-requests" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='8-3-matplotlib-data-visualization'>&#x25C4;Matplotlib for Data Visualization</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 8: Working with Libraries</a>
	</div>
	<div class='col-4 text-end'>
					<a href='9-1-introduction-flask'>Introduction to Flask &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>8-4: Requests for HTTP Requests</h1>
<div class='content'></div><h2>Introduction</h2>
<div class='content'><p>The <code>requests</code> library in Python is a powerful and user-friendly library for making HTTP requests. It abstracts the complexities of making requests behind a simple API, allowing you to send HTTP requests with ease. This module will cover the basics of using the <code>requests</code> library, including how to make GET and POST requests, handle responses, and manage common tasks such as authentication and session management.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>HTTP Methods</strong>: Understand the different types of HTTP methods (GET, POST, PUT, DELETE, etc.).</li>
<li><strong>Making Requests</strong>: Learn how to make HTTP requests using the <code>requests</code> library.</li>
<li><strong>Handling Responses</strong>: Learn how to handle and process the responses returned by the server.</li>
<li><strong>Error Handling</strong>: Understand how to handle errors and exceptions.</li>
<li><strong>Authentication</strong>: Learn how to handle authentication using the <code>requests</code> library.</li>
<li><strong>Session Management</strong>: Understand how to manage sessions to persist certain parameters across requests.</li>
</ol>
</div><h2>Making HTTP Requests</h2>
<div class='content'><h4>GET Request</h4>
<p>A GET request is used to retrieve data from a server. Here is a simple example of making a GET request using the <code>requests</code> library:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgpyZXNwb25zZSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJykKcHJpbnQocmVzcG9uc2Uuc3RhdHVzX2NvZGUpICAjIFByaW50IHRoZSBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UKcHJpbnQocmVzcG9uc2UuanNvbigpKSAgICAgICAjIFByaW50IHRoZSBKU09OIGNvbnRlbnQgb2YgdGhlIHJlc3BvbnNl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

response = requests.get('https://jsonplaceholder.typicode.com/posts')
print(response.status_code)  # Print the status code of the response
print(response.json())       # Print the JSON content of the response</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>requests.get(url)</code>: Sends a GET request to the specified URL.</li>
<li><code>response.status_code</code>: Returns the HTTP status code of the response.</li>
<li><code>response.json()</code>: Parses the response content as JSON.</li>
</ul>
<h4>POST Request</h4>
<p>A POST request is used to send data to a server. Here is an example of making a POST request:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgpkYXRhID0gewogICAgJ3RpdGxlJzogJ2ZvbycsCiAgICAnYm9keSc6ICdiYXInLAogICAgJ3VzZXJJZCc6IDEKfQoKcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnLCBqc29uPWRhdGEpCnByaW50KHJlc3BvbnNlLnN0YXR1c19jb2RlKSAgIyBQcmludCB0aGUgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlCnByaW50KHJlc3BvbnNlLmpzb24oKSkgICAgICAgIyBQcmludCB0aGUgSlNPTiBjb250ZW50IG9mIHRoZSByZXNwb25zZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

data = {
    'title': 'foo',
    'body': 'bar',
    'userId': 1
}

response = requests.post('https://jsonplaceholder.typicode.com/posts', json=data)
print(response.status_code)  # Print the status code of the response
print(response.json())       # Print the JSON content of the response</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>requests.post(url, json=data)</code>: Sends a POST request to the specified URL with the provided JSON data.</li>
<li><code>response.status_code</code>: Returns the HTTP status code of the response.</li>
<li><code>response.json()</code>: Parses the response content as JSON.</li>
</ul>
</div><h2>Handling Responses</h2>
<div class='content'><p>The <code>requests</code> library provides several methods to handle responses:</p>
<ul>
<li><code>response.text</code>: Returns the response content as a string.</li>
<li><code>response.content</code>: Returns the response content in bytes.</li>
<li><code>response.json()</code>: Parses the response content as JSON.</li>
<li><code>response.headers</code>: Returns the response headers.</li>
</ul>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgpyZXNwb25zZSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLzEnKQpwcmludChyZXNwb25zZS50ZXh0KSAgICAgICAgICMgUHJpbnQgdGhlIHJlc3BvbnNlIGNvbnRlbnQgYXMgYSBzdHJpbmcKcHJpbnQocmVzcG9uc2UuY29udGVudCkgICAgICAjIFByaW50IHRoZSByZXNwb25zZSBjb250ZW50IGluIGJ5dGVzCnByaW50KHJlc3BvbnNlLmpzb24oKSkgICAgICAgIyBQcmludCB0aGUgcmVzcG9uc2UgY29udGVudCBhcyBKU09OCnByaW50KHJlc3BvbnNlLmhlYWRlcnMpICAgICAgIyBQcmludCB0aGUgcmVzcG9uc2UgaGVhZGVycw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

response = requests.get('https://jsonplaceholder.typicode.com/posts/1')
print(response.text)         # Print the response content as a string
print(response.content)      # Print the response content in bytes
print(response.json())       # Print the response content as JSON
print(response.headers)      # Print the response headers</pre></div><div class='content'></div><h2>Error Handling</h2>
<div class='content'><p>The <code>requests</code> library provides a way to handle errors and exceptions:</p>
<ul>
<li><code>requests.exceptions.RequestException</code>: Base class for all exceptions.</li>
<li><code>requests.exceptions.HTTPError</code>: Raised for HTTP errors.</li>
<li><code>requests.exceptions.ConnectionError</code>: Raised for connection errors.</li>
<li><code>requests.exceptions.Timeout</code>: Raised when a request times out.</li>
</ul>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgp0cnk6CiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL2ludmFsaWQtdXJsJykKICAgIHJlc3BvbnNlLnJhaXNlX2Zvcl9zdGF0dXMoKSAgIyBSYWlzZSBhbiBIVFRQRXJyb3IgZm9yIGJhZCByZXNwb25zZXMKZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuSFRUUEVycm9yIGFzIGVycjoKICAgIHByaW50KGYnSFRUUCBlcnJvciBvY2N1cnJlZDoge2Vycn0nKQpleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGVycjoKICAgIHByaW50KGYnRXJyb3Igb2NjdXJyZWQ6IHtlcnJ9Jyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

try:
    response = requests.get('https://jsonplaceholder.typicode.com/invalid-url')
    response.raise_for_status()  # Raise an HTTPError for bad responses
except requests.exceptions.HTTPError as err:
    print(f'HTTP error occurred: {err}')
except requests.exceptions.RequestException as err:
    print(f'Error occurred: {err}')</pre></div><div class='content'></div><h2>Authentication</h2>
<div class='content'><p>The <code>requests</code> library supports various types of authentication, including Basic Authentication and OAuth.</p>
<h4>Basic Authentication</h4>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCmZyb20gcmVxdWVzdHMuYXV0aCBpbXBvcnQgSFRUUEJhc2ljQXV0aAoKcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcicsIGF1dGg9SFRUUEJhc2ljQXV0aCgndXNlcm5hbWUnLCAncGFzc3dvcmQnKSkKcHJpbnQocmVzcG9uc2Uuc3RhdHVzX2NvZGUpCnByaW50KHJlc3BvbnNlLmpzb24oKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests
from requests.auth import HTTPBasicAuth

response = requests.get('https://api.github.com/user', auth=HTTPBasicAuth('username', 'password'))
print(response.status_code)
print(response.json())</pre></div><div class='content'></div><h2>Session Management</h2>
<div class='content'><p>A session object allows you to persist certain parameters across requests. It also persists cookies across all requests made from the session instance.</p>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgpzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCnNlc3Npb24uYXV0aCA9ICgndXNlcm5hbWUnLCAncGFzc3dvcmQnKQoKcmVzcG9uc2UgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2VyJykKcHJpbnQocmVzcG9uc2Uuc3RhdHVzX2NvZGUpCnByaW50KHJlc3BvbnNlLmpzb24oKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

session = requests.Session()
session.auth = ('username', 'password')

response = session.get('https://api.github.com/user')
print(response.status_code)
print(response.json())</pre></div><div class='content'></div><h2>Practical Exercises</h2>
<div class='content'><h4>Exercise 1: Making a GET Request</h4>
<p><strong>Task</strong>: Write a Python script to make a GET request to the URL <code>https://jsonplaceholder.typicode.com/posts</code> and print the titles of all posts.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgpyZXNwb25zZSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJykKcG9zdHMgPSByZXNwb25zZS5qc29uKCkKCmZvciBwb3N0IGluIHBvc3RzOgogICAgcHJpbnQocG9zdFsndGl0bGUnXSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

response = requests.get('https://jsonplaceholder.typicode.com/posts')
posts = response.json()

for post in posts:
    print(post['title'])</pre></div><div class='content'><h4>Exercise 2: Making a POST Request</h4>
<p><strong>Task</strong>: Write a Python script to make a POST request to the URL <code>https://jsonplaceholder.typicode.com/posts</code> with the following data:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICAgInRpdGxlIjogImZvbyIsCiAgICAiYm9keSI6ICJiYXIiLAogICAgInVzZXJJZCI6IDEKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
    &quot;title&quot;: &quot;foo&quot;,
    &quot;body&quot;: &quot;bar&quot;,
    &quot;userId&quot;: 1
}</pre></div><div class='content'><p>Print the response status code and the response content.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlcXVlc3RzCgpkYXRhID0gewogICAgJ3RpdGxlJzogJ2ZvbycsCiAgICAnYm9keSc6ICdiYXInLAogICAgJ3VzZXJJZCc6IDEKfQoKcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnLCBqc29uPWRhdGEpCnByaW50KHJlc3BvbnNlLnN0YXR1c19jb2RlKQpwcmludChyZXNwb25zZS5qc29uKCkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import requests

data = {
    'title': 'foo',
    'body': 'bar',
    'userId': 1
}

response = requests.post('https://jsonplaceholder.typicode.com/posts', json=data)
print(response.status_code)
print(response.json())</pre></div><div class='content'></div><h2>Summary</h2>
<div class='content'><p>In this section, you learned how to use the <code>requests</code> library to make HTTP requests in Python. You covered the basics of making GET and POST requests, handling responses, error handling, authentication, and session management. These skills are essential for interacting with web APIs and performing web scraping tasks. In the next module, you will learn about web development with Flask, where you can apply these skills to create web applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='8-3-matplotlib-data-visualization'>&#x25C4;Matplotlib for Data Visualization</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 8: Working with Libraries</a>
	</div>
	<div class='col-4 text-end'>
					<a href='9-1-introduction-flask'>Introduction to Flask &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
