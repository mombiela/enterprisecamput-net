<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setting Up the Spark Environment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/apachespark/01-02-setting-up-spark-environment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/apachespark/01-02-setting-up-spark-environment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/apachespark/01-02-setting-up-spark-environment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/apachespark/01-02-setting-up-spark-environment" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/apachespark/01-02-setting-up-spark-environment" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='01-01-what-is-apache-spark' title="What is Apache Spark?">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Setting Up the Spark Environment</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='01-03-spark-architecture' title="Spark Architecture">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Setting up the Apache Spark environment is a crucial step to start working with Spark. This module will guide you through the process of installing and configuring Spark on your local machine. We will cover the following steps:</p>
<ol>
<li><strong>Prerequisites</strong></li>
<li><strong>Downloading and Installing Apache Spark</strong></li>
<li><strong>Setting Up Environment Variables</strong></li>
<li><strong>Verifying the Installation</strong></li>
<li><strong>Running Spark in Standalone Mode</strong></li>
</ol>
</div><h1>1. Prerequisites</h1>
<div class='content'><p>Before you begin, ensure you have the following software installed on your machine:</p>
<ul>
<li><strong>Java Development Kit (JDK):</strong> Apache Spark requires Java 8 or later. You can download it from the <a href="https://www.oracle.com/java/technologies/javase-downloads.html">Oracle website</a> or use OpenJDK.</li>
<li><strong>Scala (Optional):</strong> If you plan to use Scala with Spark, you need to install Scala. You can download it from the <a href="https://www.scala-lang.org/download/">Scala website</a>.</li>
<li><strong>Python (Optional):</strong> If you plan to use Python with Spark, ensure you have Python 3.x installed. You can download it from the <a href="https://www.python.org/downloads/">Python website</a>.</li>
</ul>
</div><h1>2. Downloading and Installing Apache Spark</h1>
<div class='content'><p>Follow these steps to download and install Apache Spark:</p>
<ol>
<li>
<p><strong>Download Spark:</strong></p>
<ul>
<li>Go to the <a href="https://spark.apache.org/downloads.html">Apache Spark download page</a>.</li>
<li>Select the latest version of Spark.</li>
<li>Choose a pre-built package for Hadoop (e.g., &quot;Pre-built for Apache Hadoop 2.7 and later&quot;).</li>
<li>Click on the &quot;Download Spark&quot; link to download the package.</li>
</ul>
</li>
<li>
<p><strong>Extract the Spark Package:</strong></p>
<ul>
<li>Extract the downloaded tarball file to a directory of your choice. For example, you can extract it to <code>/usr/local/spark</code> on Unix-based systems or <code>C:\spark</code> on Windows.</li>
</ul>
<pre><code class="language-sh">tar -xvf spark-&lt;version&gt;-bin-hadoop2.7.tgz -C /usr/local/
mv /usr/local/spark-&lt;version&gt;-bin-hadoop2.7 /usr/local/spark
</code></pre>
</li>
</ol>
</div><h1>3. Setting Up Environment Variables</h1>
<div class='content'><p>To make Spark commands accessible from any directory, you need to set up environment variables.</p>
</div><h2>On Unix-based Systems (Linux/MacOS):</h2>
<div class='content'><ol>
<li>
<p>Open your <code>.bashrc</code> or <code>.zshrc</code> file in a text editor:</p>
<pre><code class="language-sh">nano ~/.bashrc
</code></pre>
</li>
<li>
<p>Add the following lines to the file:</p>
<pre><code class="language-sh">export SPARK_HOME=/usr/local/spark
export PATH=$PATH:$SPARK_HOME/bin
</code></pre>
</li>
<li>
<p>Save the file and reload the shell configuration:</p>
<pre><code class="language-sh">source ~/.bashrc
</code></pre>
</li>
</ol>
</div><h2>On Windows:</h2>
<div class='content'><ol>
<li>Open the System Properties dialog (Right-click on &quot;This PC&quot; &gt; Properties &gt; Advanced system settings).</li>
<li>Click on the &quot;Environment Variables&quot; button.</li>
<li>Under &quot;System variables,&quot; click &quot;New&quot; and add the following:
<ul>
<li>Variable name: <code>SPARK_HOME</code></li>
<li>Variable value: <code>C:\spark</code></li>
</ul>
</li>
<li>Find the <code>Path</code> variable, click &quot;Edit,&quot; and add <code>%SPARK_HOME%\bin</code> to the list.</li>
</ol>
</div><h1>4. Verifying the Installation</h1>
<div class='content'><p>To verify that Spark is installed correctly, open a terminal or command prompt and run the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3Bhcmstc2hlbGw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spark-shell</pre></div><div class='content'><p>You should see the Spark shell starting up, which indicates that Spark is installed and configured correctly.</p>
</div><h1>5. Running Spark in Standalone Mode</h1>
<div class='content'><p>To run Spark in standalone mode, you can use the <code>spark-submit</code> command to submit a Spark application. Here is a simple example:</p>
<ol>
<li>
<p>Create a simple Spark application in Python (e.g., <code>simple_app.py</code>):</p>
<pre><code class="language-python">from pyspark.sql import SparkSession

spark = SparkSession.builder.appName(&quot;SimpleApp&quot;).getOrCreate()
data = [(&quot;Alice&quot;, 1), (&quot;Bob&quot;, 2), (&quot;Cathy&quot;, 3)]
df = spark.createDataFrame(data, [&quot;Name&quot;, &quot;Value&quot;])
df.show()
spark.stop()
</code></pre>
</li>
<li>
<p>Run the application using <code>spark-submit</code>:</p>
<pre><code class="language-sh">spark-submit simple_app.py
</code></pre>
</li>
</ol>
<p>You should see the output of the DataFrame displayed in the terminal.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you have learned how to set up the Apache Spark environment on your local machine. You installed the necessary prerequisites, downloaded and installed Spark, set up environment variables, verified the installation, and ran a simple Spark application in standalone mode. This setup will serve as the foundation for running and developing Spark applications in the subsequent modules.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='01-01-what-is-apache-spark' title="What is Apache Spark?">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='01-03-spark-architecture' title="Spark Architecture">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
