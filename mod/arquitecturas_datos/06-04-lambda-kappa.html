<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lambda and Kappa Architectures</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitecturas_datos/06-04-lambda-kappa" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitecturas_datos/06-04-lambda-kappa" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitecturas_datos/06-04-lambda-kappa" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/arquitecturas_datos/06-04-lambda-kappa" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/arquitecturas_datos/06-04-lambda-kappa" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-data-warehouses' title="Data Warehouses">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Lambda and Kappa Architectures</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-implementation-planning' title="Implementation Planning">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this module, we will explore two modern data processing architectures: Lambda and Kappa. These architectures are designed to handle large-scale data processing and are particularly useful in big data environments. Understanding these architectures will help you design systems that can efficiently process and analyze data in real-time and batch modes.</p>
</div><h1><p>Overview</p>
</h1>
<div class='content'></div><h2><p>Lambda Architecture</p>
</h2>
<div class='content'><p>Lambda Architecture is a data-processing architecture designed to handle massive quantities of data by taking advantage of both batch and stream-processing methods. It is composed of three layers:</p>
<ol>
<li><strong>Batch Layer</strong>: Manages the master dataset (an immutable, append-only set of raw data) and pre-computes batch views.</li>
<li><strong>Speed Layer</strong>: Deals with real-time data processing and provides low-latency updates.</li>
<li><strong>Serving Layer</strong>: Merges results from the batch and speed layers to provide a comprehensive view.</li>
</ol>
</div><h2><p>Kappa Architecture</p>
</h2>
<div class='content'><p>Kappa Architecture is a simplification of the Lambda Architecture, designed to handle both real-time and batch processing using a single stream-processing engine. It eliminates the batch layer and focuses solely on stream processing.</p>
</div><h1><p>Key Components</p>
</h1>
<div class='content'></div><h2><p>Lambda Architecture Components</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Batch Layer</strong>:</p>
<ul>
<li>Stores the raw data.</li>
<li>Performs batch processing to create batch views.</li>
<li>Technologies: Hadoop, Spark.</li>
</ul>
</li>
<li>
<p><strong>Speed Layer</strong>:</p>
<ul>
<li>Processes data in real-time.</li>
<li>Provides low-latency updates.</li>
<li>Technologies: Apache Storm, Apache Kafka Streams.</li>
</ul>
</li>
<li>
<p><strong>Serving Layer</strong>:</p>
<ul>
<li>Indexes and stores the results from the batch and speed layers.</li>
<li>Serves queries.</li>
<li>Technologies: HBase, Cassandra.</li>
</ul>
</li>
</ol>
</div><h2><p>Kappa Architecture Components</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Stream Processing Engine</strong>:</p>
<ul>
<li>Handles both real-time and historical data processing.</li>
<li>Technologies: Apache Kafka, Apache Flink, Apache Samza.</li>
</ul>
</li>
<li>
<p><strong>Data Storage</strong>:</p>
<ul>
<li>Stores the raw data and processed results.</li>
<li>Technologies: HDFS, S3, Kafka.</li>
</ul>
</li>
</ol>
</div><h1><p>Comparison of Lambda and Kappa Architectures</p>
</h1>
<div class='content'><table>
<thead>
<tr>
<th>Feature</th>
<th>Lambda Architecture</th>
<th>Kappa Architecture</th>
</tr>
</thead>
<tbody>
<tr>
<td>Processing Layers</td>
<td>Batch Layer, Speed Layer, Serving Layer</td>
<td>Single Stream Processing Layer</td>
</tr>
<tr>
<td>Complexity</td>
<td>Higher due to multiple layers</td>
<td>Lower due to single processing layer</td>
</tr>
<tr>
<td>Latency</td>
<td>Higher for batch processing, lower for speed layer</td>
<td>Lower, as it focuses on real-time processing</td>
</tr>
<tr>
<td>Use Cases</td>
<td>Suitable for both historical and real-time data</td>
<td>Best for real-time data processing</td>
</tr>
<tr>
<td>Maintenance</td>
<td>More complex due to multiple layers</td>
<td>Easier due to single layer</td>
</tr>
</tbody>
</table>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'></div><h2><p>Lambda Architecture Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBCYXRjaCBMYXllcjogVXNpbmcgQXBhY2hlIFNwYXJrIGZvciBiYXRjaCBwcm9jZXNzaW5nCmZyb20gcHlzcGFyay5zcWwgaW1wb3J0IFNwYXJrU2Vzc2lvbgoKc3BhcmsgPSBTcGFya1Nlc3Npb24uYnVpbGRlci5hcHBOYW1lKCJCYXRjaFByb2Nlc3NpbmciKS5nZXRPckNyZWF0ZSgpCmRhdGEgPSBzcGFyay5yZWFkLmNzdigiaGRmczovL3BhdGgvdG8vcmF3L2RhdGEuY3N2IikKYmF0Y2hfdmlldyA9IGRhdGEuZ3JvdXBCeSgiY2F0ZWdvcnkiKS5jb3VudCgpCmJhdGNoX3ZpZXcud3JpdGUubW9kZSgib3ZlcndyaXRlIikucGFycXVldCgiaGRmczovL3BhdGgvdG8vYmF0Y2gvdmlldyIpCgojIFNwZWVkIExheWVyOiBVc2luZyBBcGFjaGUgS2Fma2EgU3RyZWFtcyBmb3IgcmVhbC10aW1lIHByb2Nlc3NpbmcKZnJvbSBrYWZrYSBpbXBvcnQgS2Fma2FDb25zdW1lcgoKY29uc3VtZXIgPSBLYWZrYUNvbnN1bWVyKCdyZWFsLXRpbWUtdG9waWMnLCBib290c3RyYXBfc2VydmVycz1bJ2xvY2FsaG9zdDo5MDkyJ10pCmZvciBtZXNzYWdlIGluIGNvbnN1bWVyOgogICAgcHJvY2Vzc19yZWFsX3RpbWVfZGF0YShtZXNzYWdlLnZhbHVlKQoKIyBTZXJ2aW5nIExheWVyOiBDb21iaW5pbmcgYmF0Y2ggYW5kIHJlYWwtdGltZSB2aWV3cwpiYXRjaF92aWV3ID0gc3BhcmsucmVhZC5wYXJxdWV0KCJoZGZzOi8vcGF0aC90by9iYXRjaC92aWV3IikKcmVhbF90aW1lX3ZpZXcgPSBnZXRfcmVhbF90aW1lX3ZpZXcoKQpjb21iaW5lZF92aWV3ID0gYmF0Y2hfdmlldy51bmlvbihyZWFsX3RpbWVfdmlldykKY29tYmluZWRfdmlldy5zaG93KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Batch Layer: Using Apache Spark for batch processing
from pyspark.sql import SparkSession

spark = SparkSession.builder.appName(&quot;BatchProcessing&quot;).getOrCreate()
data = spark.read.csv(&quot;hdfs://path/to/raw/data.csv&quot;)
batch_view = data.groupBy(&quot;category&quot;).count()
batch_view.write.mode(&quot;overwrite&quot;).parquet(&quot;hdfs://path/to/batch/view&quot;)

# Speed Layer: Using Apache Kafka Streams for real-time processing
from kafka import KafkaConsumer

consumer = KafkaConsumer('real-time-topic', bootstrap_servers=['localhost:9092'])
for message in consumer:
    process_real_time_data(message.value)

# Serving Layer: Combining batch and real-time views
batch_view = spark.read.parquet(&quot;hdfs://path/to/batch/view&quot;)
real_time_view = get_real_time_view()
combined_view = batch_view.union(real_time_view)
combined_view.show()</pre></div><div class='content'></div><h2><p>Kappa Architecture Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBBcGFjaGUgS2Fma2EgYW5kIEFwYWNoZSBGbGluayBmb3Igc3RyZWFtIHByb2Nlc3NpbmcKZnJvbSBweWZsaW5rLmRhdGFzdHJlYW0gaW1wb3J0IFN0cmVhbUV4ZWN1dGlvbkVudmlyb25tZW50CmZyb20gcHlmbGluay5kYXRhc3RyZWFtLmZ1bmN0aW9ucyBpbXBvcnQgTWFwRnVuY3Rpb24KCmVudiA9IFN0cmVhbUV4ZWN1dGlvbkVudmlyb25tZW50LmdldF9leGVjdXRpb25fZW52aXJvbm1lbnQoKQprYWZrYV9zb3VyY2UgPSBLYWZrYVNvdXJjZS5idWlsZGVyKCkuc2V0X2Jvb3RzdHJhcF9zZXJ2ZXJzKCJsb2NhbGhvc3Q6OTA5MiIpLnNldF90b3BpY3MoImRhdGEtdG9waWMiKS5idWlsZCgpCnN0cmVhbSA9IGVudi5hZGRfc291cmNlKGthZmthX3NvdXJjZSkKCmNsYXNzIFByb2Nlc3NEYXRhKE1hcEZ1bmN0aW9uKToKICAgIGRlZiBtYXAoc2VsZiwgdmFsdWUpOgogICAgICAgICMgUHJvY2VzcyB0aGUgZGF0YQogICAgICAgIHJldHVybiBwcm9jZXNzZWRfdmFsdWUKCnByb2Nlc3NlZF9zdHJlYW0gPSBzdHJlYW0ubWFwKFByb2Nlc3NEYXRhKCkpCnByb2Nlc3NlZF9zdHJlYW0ucHJpbnQoKQoKZW52LmV4ZWN1dGUoIkthcHBhIEFyY2hpdGVjdHVyZSBTdHJlYW0gUHJvY2Vzc2luZyIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using Apache Kafka and Apache Flink for stream processing
from pyflink.datastream import StreamExecutionEnvironment
from pyflink.datastream.functions import MapFunction

env = StreamExecutionEnvironment.get_execution_environment()
kafka_source = KafkaSource.builder().set_bootstrap_servers(&quot;localhost:9092&quot;).set_topics(&quot;data-topic&quot;).build()
stream = env.add_source(kafka_source)

class ProcessData(MapFunction):
    def map(self, value):
        # Process the data
        return processed_value

processed_stream = stream.map(ProcessData())
processed_stream.print()

env.execute(&quot;Kappa Architecture Stream Processing&quot;)</pre></div><div class='content'></div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Design a Lambda Architecture</p>
</h2>
<div class='content'><p>Design a Lambda Architecture for a retail company that needs to process sales data in real-time and generate daily sales reports.</p>
<p><strong>Solution:</strong></p>
<ol>
<li><strong>Batch Layer</strong>: Use Apache Spark to process daily sales data and generate batch views.</li>
<li><strong>Speed Layer</strong>: Use Apache Kafka Streams to process real-time sales transactions.</li>
<li><strong>Serving Layer</strong>: Use HBase to store and serve the combined batch and real-time views.</li>
</ol>
</div><h2><p>Exercise 2: Implement a Kappa Architecture</p>
</h2>
<div class='content'><p>Implement a Kappa Architecture for a social media platform that needs to process user activity streams in real-time.</p>
<p><strong>Solution:</strong></p>
<ol>
<li><strong>Stream Processing Engine</strong>: Use Apache Flink to process user activity streams.</li>
<li><strong>Data Storage</strong>: Use Apache Kafka to store raw data and processed results.</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this module, we explored the Lambda and Kappa architectures, their components, and their use cases. We also compared the two architectures and provided practical examples and exercises to help you understand how to implement them. Understanding these architectures will enable you to design efficient data processing systems that can handle both real-time and batch data.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-data-warehouses' title="Data Warehouses">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-implementation-planning' title="Implementation Planning">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
