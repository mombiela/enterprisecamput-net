<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decorator</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/03-05-decorator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/03-05-decorator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/03-05-decorator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/03-05-decorator" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/03-05-decorator" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-composite' title="Composite">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Decorator</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-06-facade' title="Facade">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>The Decorator pattern is a structural design pattern that allows behavior to be added to individual objects, either statically or dynamically, without affecting the behavior of other objects from the same class. This pattern is particularly useful for adhering to the Single Responsibility Principle by allowing functionality to be divided between classes with unique areas of concern.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ul>
<li><strong>Component</strong>: The interface or abstract class defining the methods that will be implemented.</li>
<li><strong>Concrete Component</strong>: The class that implements the Component interface.</li>
<li><strong>Decorator</strong>: An abstract class that implements the Component interface and contains a reference to a Component object.</li>
<li><strong>Concrete Decorators</strong>: Classes that extend the Decorator class and add functionalities to the Component.</li>
</ul>
</div><h1><p>Structure</p>
</h1>
<div class='content'><p>The Decorator pattern can be visualized with the following UML diagram:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q29tcG9uZW50CiAgKyBvcGVyYXRpb24oKQogICAgfApDb25jcmV0ZUNvbXBvbmVudAogICsgb3BlcmF0aW9uKCkKICAgIHwKRGVjb3JhdG9yCiAgLSBjb21wb25lbnQ6IENvbXBvbmVudAogICsgb3BlcmF0aW9uKCkKICAgIHwKQ29uY3JldGVEZWNvcmF0b3JBCiAgLSBhZGRlZFN0YXRlOiBUeXBlCiAgKyBvcGVyYXRpb24oKQogICsgYWRkZWRCZWhhdmlvcigpCiAgICB8CkNvbmNyZXRlRGVjb3JhdG9yQgogIC0gYWRkZWRTdGF0ZTogVHlwZQogICsgb3BlcmF0aW9uKCkKICArIGFkZGVkQmVoYXZpb3IoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Component
  + operation()
    |
ConcreteComponent
  + operation()
    |
Decorator
  - component: Component
  + operation()
    |
ConcreteDecoratorA
  - addedState: Type
  + operation()
  + addedBehavior()
    |
ConcreteDecoratorB
  - addedState: Type
  + operation()
  + addedBehavior()</pre></div><div class='content'></div><h1><p>Example</p>
</h1>
<div class='content'><p>Let's consider a simple example where we have a <code>Coffee</code> interface and we want to add different types of condiments to the coffee dynamically.</p>
</div><h2><p>Step 1: Define the Component Interface</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBDb2ZmZWUgewogICAgZG91YmxlIGNvc3QoKTsKICAgIFN0cmluZyBkZXNjcmlwdGlvbigpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface Coffee {
    double cost();
    String description();
}</pre></div><div class='content'></div><h2><p>Step 2: Create a Concrete Component</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFNpbXBsZUNvZmZlZSBpbXBsZW1lbnRzIENvZmZlZSB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBkb3VibGUgY29zdCgpIHsKICAgICAgICByZXR1cm4gNS4wOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyBkZXNjcmlwdGlvbigpIHsKICAgICAgICByZXR1cm4gIlNpbXBsZSBDb2ZmZWUiOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class SimpleCoffee implements Coffee {
    @Override
    public double cost() {
        return 5.0;
    }

    @Override
    public String description() {
        return &quot;Simple Coffee&quot;;
    }
}</pre></div><div class='content'></div><h2><p>Step 3: Create the Decorator Abstract Class</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGFic3RyYWN0IGNsYXNzIENvZmZlZURlY29yYXRvciBpbXBsZW1lbnRzIENvZmZlZSB7CiAgICBwcm90ZWN0ZWQgQ29mZmVlIGRlY29yYXRlZENvZmZlZTsKCiAgICBwdWJsaWMgQ29mZmVlRGVjb3JhdG9yKENvZmZlZSBjb2ZmZWUpIHsKICAgICAgICB0aGlzLmRlY29yYXRlZENvZmZlZSA9IGNvZmZlZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBkb3VibGUgY29zdCgpIHsKICAgICAgICByZXR1cm4gZGVjb3JhdGVkQ29mZmVlLmNvc3QoKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgZGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIGRlY29yYXRlZENvZmZlZS5kZXNjcmlwdGlvbigpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public abstract class CoffeeDecorator implements Coffee {
    protected Coffee decoratedCoffee;

    public CoffeeDecorator(Coffee coffee) {
        this.decoratedCoffee = coffee;
    }

    @Override
    public double cost() {
        return decoratedCoffee.cost();
    }

    @Override
    public String description() {
        return decoratedCoffee.description();
    }
}</pre></div><div class='content'></div><h2><p>Step 4: Create Concrete Decorators</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1pbGtEZWNvcmF0b3IgZXh0ZW5kcyBDb2ZmZWVEZWNvcmF0b3IgewogICAgcHVibGljIE1pbGtEZWNvcmF0b3IoQ29mZmVlIGNvZmZlZSkgewogICAgICAgIHN1cGVyKGNvZmZlZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgZG91YmxlIGNvc3QoKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLmNvc3QoKSArIDEuNTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgZGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLmRlc2NyaXB0aW9uKCkgKyAiLCBNaWxrIjsKICAgIH0KfQoKcHVibGljIGNsYXNzIFN1Z2FyRGVjb3JhdG9yIGV4dGVuZHMgQ29mZmVlRGVjb3JhdG9yIHsKICAgIHB1YmxpYyBTdWdhckRlY29yYXRvcihDb2ZmZWUgY29mZmVlKSB7CiAgICAgICAgc3VwZXIoY29mZmVlKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBkb3VibGUgY29zdCgpIHsKICAgICAgICByZXR1cm4gc3VwZXIuY29zdCgpICsgMC41OwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyBkZXNjcmlwdGlvbigpIHsKICAgICAgICByZXR1cm4gc3VwZXIuZGVzY3JpcHRpb24oKSArICIsIFN1Z2FyIjsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MilkDecorator extends CoffeeDecorator {
    public MilkDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public double cost() {
        return super.cost() + 1.5;
    }

    @Override
    public String description() {
        return super.description() + &quot;, Milk&quot;;
    }
}

public class SugarDecorator extends CoffeeDecorator {
    public SugarDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public double cost() {
        return super.cost() + 0.5;
    }

    @Override
    public String description() {
        return super.description() + &quot;, Sugar&quot;;
    }
}</pre></div><div class='content'></div><h2><p>Step 5: Use the Decorators</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1haW4gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIENvZmZlZSBjb2ZmZWUgPSBuZXcgU2ltcGxlQ29mZmVlKCk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGNvZmZlZS5kZXNjcmlwdGlvbigpICsgIiAkIiArIGNvZmZlZS5jb3N0KCkpOwoKICAgICAgICBjb2ZmZWUgPSBuZXcgTWlsa0RlY29yYXRvcihjb2ZmZWUpOwogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihjb2ZmZWUuZGVzY3JpcHRpb24oKSArICIgJCIgKyBjb2ZmZWUuY29zdCgpKTsKCiAgICAgICAgY29mZmVlID0gbmV3IFN1Z2FyRGVjb3JhdG9yKGNvZmZlZSk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGNvZmZlZS5kZXNjcmlwdGlvbigpICsgIiAkIiArIGNvZmZlZS5jb3N0KCkpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Main {
    public static void main(String[] args) {
        Coffee coffee = new SimpleCoffee();
        System.out.println(coffee.description() + &quot; $&quot; + coffee.cost());

        coffee = new MilkDecorator(coffee);
        System.out.println(coffee.description() + &quot; $&quot; + coffee.cost());

        coffee = new SugarDecorator(coffee);
        System.out.println(coffee.description() + &quot; $&quot; + coffee.cost());
    }
}</pre></div><div class='content'></div><h2><p>Output</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U2ltcGxlIENvZmZlZSAkNS4wClNpbXBsZSBDb2ZmZWUsIE1pbGsgJDYuNQpTaW1wbGUgQ29mZmVlLCBNaWxrLCBTdWdhciAkNy4w"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Simple Coffee $5.0
Simple Coffee, Milk $6.5
Simple Coffee, Milk, Sugar $7.0</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Implement a Decorator</p>
</h2>
<div class='content'><p><strong>Task</strong>: Implement a <code>WhippedCreamDecorator</code> that adds whipped cream to the coffee.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFdoaXBwZWRDcmVhbURlY29yYXRvciBleHRlbmRzIENvZmZlZURlY29yYXRvciB7CiAgICBwdWJsaWMgV2hpcHBlZENyZWFtRGVjb3JhdG9yKENvZmZlZSBjb2ZmZWUpIHsKICAgICAgICBzdXBlcihjb2ZmZWUpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGRvdWJsZSBjb3N0KCkgewogICAgICAgIHJldHVybiBzdXBlci5jb3N0KCkgKyAyLjA7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGRlc2NyaXB0aW9uKCkgewogICAgICAgIHJldHVybiBzdXBlci5kZXNjcmlwdGlvbigpICsgIiwgV2hpcHBlZCBDcmVhbSI7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class WhippedCreamDecorator extends CoffeeDecorator {
    public WhippedCreamDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public double cost() {
        return super.cost() + 2.0;
    }

    @Override
    public String description() {
        return super.description() + &quot;, Whipped Cream&quot;;
    }
}</pre></div><div class='content'></div><h2><p>Exercise 2: Chain Multiple Decorators</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create a <code>SimpleCoffee</code> and add <code>Milk</code>, <code>Sugar</code>, and <code>WhippedCream</code> to it. Print the final description and cost.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1haW4gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIENvZmZlZSBjb2ZmZWUgPSBuZXcgU2ltcGxlQ29mZmVlKCk7CiAgICAgICAgY29mZmVlID0gbmV3IE1pbGtEZWNvcmF0b3IoY29mZmVlKTsKICAgICAgICBjb2ZmZWUgPSBuZXcgU3VnYXJEZWNvcmF0b3IoY29mZmVlKTsKICAgICAgICBjb2ZmZWUgPSBuZXcgV2hpcHBlZENyZWFtRGVjb3JhdG9yKGNvZmZlZSk7CgogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihjb2ZmZWUuZGVzY3JpcHRpb24oKSArICIgJCIgKyBjb2ZmZWUuY29zdCgpKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Main {
    public static void main(String[] args) {
        Coffee coffee = new SimpleCoffee();
        coffee = new MilkDecorator(coffee);
        coffee = new SugarDecorator(coffee);
        coffee = new WhippedCreamDecorator(coffee);

        System.out.println(coffee.description() + &quot; $&quot; + coffee.cost());
    }
}</pre></div><div class='content'></div><h2><p>Output</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U2ltcGxlIENvZmZlZSwgTWlsaywgU3VnYXIsIFdoaXBwZWQgQ3JlYW0gJDkuMA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Simple Coffee, Milk, Sugar, Whipped Cream $9.0</pre></div><div class='content'></div><h1><p>Common Mistakes</p>
</h1>
<div class='content'><ul>
<li><strong>Not using the Decorator pattern correctly</strong>: Ensure that the decorators are extending the abstract decorator class and not the concrete component directly.</li>
<li><strong>Forgetting to call the super methods</strong>: When overriding methods in the decorator, always call the corresponding method of the decorated component to maintain the chain of responsibility.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>The Decorator pattern is a powerful tool for extending the functionality of objects dynamically. It promotes code reusability and adheres to the Single Responsibility Principle by allowing functionalities to be divided among different classes. By practicing the exercises and understanding the examples, you should now have a solid grasp of how to implement and use the Decorator pattern in your projects.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-composite' title="Composite">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-06-facade' title="Facade">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
