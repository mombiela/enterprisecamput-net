<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4: Behavioral Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-9-state" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-9-state" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-9-state" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-9-state" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/4-9-state" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-8-observer'>&#x25C4;Observer</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 4: Behavioral Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-10-strategy'>Strategy &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Topic 4-9: State Pattern</h1>
<div class='content'></div><h2>What is the State Pattern?</h2>
<div class='content'><p>The State Pattern is a behavioral design pattern that allows an object to change its behavior when its internal state changes. This pattern is particularly useful when an object must change its behavior at runtime depending on its state.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Context</strong>: The class that contains the state and delegates state-specific behavior to the current state object.</li>
<li><strong>State</strong>: An interface or abstract class that defines the behavior associated with a particular state of the Context.</li>
<li><strong>Concrete States</strong>: Classes that implement the State interface and define the behavior for a specific state of the Context.</li>
</ol>
</div><h2>Structure</h2>
<div class='content'><p>The State Pattern can be visualized with the following UML diagram:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSsKfCAgICBDb250ZXh0ICAgICB8ICAgICAgICAgIHwgICAgIFN0YXRlICAgICAgIHwKfC0tLS0tLS0tLS0tLS0tLS18ICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLXwKfCAtIHN0YXRlOiBTdGF0ZSB8PD4tLS0tLS0tPnwgKyBoYW5kbGUoKTogdm9pZHwKfCArIHJlcXVlc3QoKTogdm9pZCB8ICAgICAgICstLS0tLS0tLS0tLS0tLS0tLSsKKy0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgICAvXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwKICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgIHwKICAgICAgICArLS0tLS0tLS0tLS0tLS0tLSsgICstLS0tLS0tLS0tLS0tLS0tKyAgKy0tLS0tLS0tLS0tLS0tLS0rCiAgICAgICAgfCBDb25jcmV0ZVN0YXRlQSB8ICB8IENvbmNyZXRlU3RhdGVCIHwgIHwgQ29uY3JldGVTdGF0ZUMgfAogICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tfCAgfC0tLS0tLS0tLS0tLS0tLS18ICB8LS0tLS0tLS0tLS0tLS0tLXwKICAgICAgICB8ICsgaGFuZGxlKCk6IHZvaWQgfCAgfCArIGhhbmRsZSgpOiB2b2lkIHwgIHwgKyBoYW5kbGUoKTogdm9pZCB8CiAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0rICArLS0tLS0tLS0tLS0tLS0tLSsgICstLS0tLS0tLS0tLS0tLS0tKw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+----------------+          +-----------------+
|    Context     |          |     State       |
|----------------|          |-----------------|
| - state: State |&lt;&gt;-------&gt;| + handle(): void|
| + request(): void |       +-----------------+
+----------------+                 /\
                                   ||
                                   ||
                  +----------------+----------------+
                  |                |                |
        +----------------+  +----------------+  +----------------+
        | ConcreteStateA |  | ConcreteStateB |  | ConcreteStateC |
        |----------------|  |----------------|  |----------------|
        | + handle(): void |  | + handle(): void |  | + handle(): void |
        +----------------+  +----------------+  +----------------+</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'><p>Let's consider a simple example of a <code>Document</code> that can be in different states: <code>Draft</code>, <code>Moderation</code>, and <code>Published</code>.</p>
<h4>Step 1: Define the State Interface</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBTdGF0ZSB7CiAgICB2b2lkIGhhbmRsZVJlcXVlc3QoKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface State {
    void handleRequest();
}</pre></div><div class='content'><h4>Step 2: Create Concrete State Classes</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIERyYWZ0U3RhdGUgaW1wbGVtZW50cyBTdGF0ZSB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlcXVlc3QoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEb2N1bWVudCBpcyBpbiBEcmFmdCBzdGF0ZS4iKTsKICAgIH0KfQoKcHVibGljIGNsYXNzIE1vZGVyYXRpb25TdGF0ZSBpbXBsZW1lbnRzIFN0YXRlIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgaGFuZGxlUmVxdWVzdCgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRvY3VtZW50IGlzIGluIE1vZGVyYXRpb24gc3RhdGUuIik7CiAgICB9Cn0KCnB1YmxpYyBjbGFzcyBQdWJsaXNoZWRTdGF0ZSBpbXBsZW1lbnRzIFN0YXRlIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgaGFuZGxlUmVxdWVzdCgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRvY3VtZW50IGlzIFB1Ymxpc2hlZC4iKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class DraftState implements State {
    @Override
    public void handleRequest() {
        System.out.println(&quot;Document is in Draft state.&quot;);
    }
}

public class ModerationState implements State {
    @Override
    public void handleRequest() {
        System.out.println(&quot;Document is in Moderation state.&quot;);
    }
}

public class PublishedState implements State {
    @Override
    public void handleRequest() {
        System.out.println(&quot;Document is Published.&quot;);
    }
}</pre></div><div class='content'><h4>Step 3: Create the Context Class</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIERvY3VtZW50IHsKICAgIHByaXZhdGUgU3RhdGUgc3RhdGU7CgogICAgcHVibGljIERvY3VtZW50KFN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0YXRlKFN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFwcGx5U3RhdGUoKSB7CiAgICAgICAgc3RhdGUuaGFuZGxlUmVxdWVzdCgpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Document {
    private State state;

    public Document(State state) {
        this.state = state;
    }

    public void setState(State state) {
        this.state = state;
    }

    public void applyState() {
        state.handleRequest();
    }
}</pre></div><div class='content'><h4>Step 4: Use the State Pattern</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFN0YXRlUGF0dGVybkRlbW8gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIERvY3VtZW50IGRvY3VtZW50ID0gbmV3IERvY3VtZW50KG5ldyBEcmFmdFN0YXRlKCkpOwogICAgICAgIGRvY3VtZW50LmFwcGx5U3RhdGUoKTsKCiAgICAgICAgZG9jdW1lbnQuc2V0U3RhdGUobmV3IE1vZGVyYXRpb25TdGF0ZSgpKTsKICAgICAgICBkb2N1bWVudC5hcHBseVN0YXRlKCk7CgogICAgICAgIGRvY3VtZW50LnNldFN0YXRlKG5ldyBQdWJsaXNoZWRTdGF0ZSgpKTsKICAgICAgICBkb2N1bWVudC5hcHBseVN0YXRlKCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class StatePatternDemo {
    public static void main(String[] args) {
        Document document = new Document(new DraftState());
        document.applyState();

        document.setState(new ModerationState());
        document.applyState();

        document.setState(new PublishedState());
        document.applyState();
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li><strong>State Interface</strong>: Defines the method <code>handleRequest()</code> that each state must implement.</li>
<li><strong>Concrete States</strong>: Implement the <code>handleRequest()</code> method to define behavior specific to that state.</li>
<li><strong>Context Class</strong>: Maintains an instance of a Concrete State and delegates state-specific behavior to this instance.</li>
</ol>
</div><h2>Advantages and Disadvantages</h2>
<div class='content'><h4>Advantages</h4>
<ul>
<li><strong>Simplifies Complex State Transitions</strong>: Encapsulates state-specific behavior, making it easier to manage complex state transitions.</li>
<li><strong>Encapsulation</strong>: State-specific behavior is encapsulated within state classes, promoting single responsibility.</li>
<li><strong>Flexibility</strong>: New states can be added without modifying existing state classes or the context.</li>
</ul>
<h4>Disadvantages</h4>
<ul>
<li><strong>Increased Number of Classes</strong>: Can lead to an increase in the number of classes, making the system more complex.</li>
<li><strong>Overhead</strong>: May introduce overhead if the state transitions are simple and do not require extensive state-specific behavior.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>The State Pattern is a powerful tool for managing state-specific behavior in an object-oriented way. By encapsulating state-specific behavior within state classes, it promotes cleaner, more maintainable code. However, it is essential to weigh the benefits against the potential increase in complexity and overhead. Understanding when and how to apply the State Pattern can significantly enhance the flexibility and robustness of your software design.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-8-observer'>&#x25C4;Observer</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 4: Behavioral Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-10-strategy'>Strategy &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
