<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4: Behavioral Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-6-mediator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-6-mediator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-6-mediator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-6-mediator" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/4-6-mediator" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-5-iterator'>&#x25C4;Iterator</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 4: Behavioral Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-7-memento'>Memento &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Topic 4-6: Mediator Pattern</h1>
<div class='content'></div><h2>What is the Mediator Pattern?</h2>
<div class='content'><p>The Mediator Pattern is a behavioral design pattern that defines an object (the mediator) that encapsulates how a set of objects interact. This pattern promotes loose coupling by preventing objects from referring to each other explicitly and allows their interaction to be varied independently.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Mediator</strong>: The central object that controls and coordinates the interactions between other objects.</li>
<li><strong>Colleague Objects</strong>: The objects that communicate with each other through the mediator.</li>
</ol>
</div><h2>When to Use the Mediator Pattern</h2>
<div class='content'><ul>
<li>When a set of objects communicate in complex but well-defined ways.</li>
<li>When reusing an object is difficult because it refers to and communicates with many other objects.</li>
<li>When you want to centralize complex communication and control logic.</li>
</ul>
</div><h2>Structure</h2>
<div class='content'><p>The Mediator Pattern typically involves the following components:</p>
<ul>
<li><strong>Mediator Interface</strong>: Declares a method for communication between colleague objects.</li>
<li><strong>Concrete Mediator</strong>: Implements the mediator interface and coordinates communication between colleague objects.</li>
<li><strong>Colleague Class</strong>: Each colleague class knows its mediator object and communicates with it whenever it would have otherwise communicated with another colleague.</li>
</ul>
</div><h2>Example</h2>
<div class='content'><p>Let's consider a chat room scenario where users (colleagues) send messages to each other through a chat room (mediator).</p>
<h4>Mediator Interface</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBDaGF0TWVkaWF0b3IgewogICAgdm9pZCBzZW5kTWVzc2FnZShTdHJpbmcgbWVzc2FnZSwgVXNlciB1c2VyKTsKICAgIHZvaWQgYWRkVXNlcihVc2VyIHVzZXIpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface ChatMediator {
    void sendMessage(String message, User user);
    void addUser(User user);
}</pre></div><div class='content'><h4>Concrete Mediator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBDaGF0Um9vbSBpbXBsZW1lbnRzIENoYXRNZWRpYXRvciB7CiAgICBwcml2YXRlIExpc3Q8VXNlcj4gdXNlcnM7CgogICAgcHVibGljIENoYXRSb29tKCkgewogICAgICAgIHRoaXMudXNlcnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGFkZFVzZXIoVXNlciB1c2VyKSB7CiAgICAgICAgdGhpcy51c2Vycy5hZGQodXNlcik7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzZW5kTWVzc2FnZShTdHJpbmcgbWVzc2FnZSwgVXNlciB1c2VyKSB7CiAgICAgICAgZm9yIChVc2VyIHUgOiB0aGlzLnVzZXJzKSB7CiAgICAgICAgICAgIC8vIE1lc3NhZ2Ugc2hvdWxkIG5vdCBiZSByZWNlaXZlZCBieSB0aGUgdXNlciBzZW5kaW5nIGl0CiAgICAgICAgICAgIGlmICh1ICE9IHVzZXIpIHsKICAgICAgICAgICAgICAgIHUucmVjZWl2ZShtZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.ArrayList;
import java.util.List;

public class ChatRoom implements ChatMediator {
    private List&lt;User&gt; users;

    public ChatRoom() {
        this.users = new ArrayList&lt;&gt;();
    }

    @Override
    public void addUser(User user) {
        this.users.add(user);
    }

    @Override
    public void sendMessage(String message, User user) {
        for (User u : this.users) {
            // Message should not be received by the user sending it
            if (u != user) {
                u.receive(message);
            }
        }
    }
}</pre></div><div class='content'><h4>Colleague Class</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGFic3RyYWN0IGNsYXNzIFVzZXIgewogICAgcHJvdGVjdGVkIENoYXRNZWRpYXRvciBtZWRpYXRvcjsKICAgIHByb3RlY3RlZCBTdHJpbmcgbmFtZTsKCiAgICBwdWJsaWMgVXNlcihDaGF0TWVkaWF0b3IgbWVkaWF0b3IsIFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5tZWRpYXRvciA9IG1lZGlhdG9yOwogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB9CgogICAgcHVibGljIGFic3RyYWN0IHZvaWQgc2VuZChTdHJpbmcgbWVzc2FnZSk7CiAgICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCByZWNlaXZlKFN0cmluZyBtZXNzYWdlKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public abstract class User {
    protected ChatMediator mediator;
    protected String name;

    public User(ChatMediator mediator, String name) {
        this.mediator = mediator;
        this.name = name;
    }

    public abstract void send(String message);
    public abstract void receive(String message);
}</pre></div><div class='content'><h4>Concrete Colleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENoYXRVc2VyIGV4dGVuZHMgVXNlciB7CgogICAgcHVibGljIENoYXRVc2VyKENoYXRNZWRpYXRvciBtZWRpYXRvciwgU3RyaW5nIG5hbWUpIHsKICAgICAgICBzdXBlcihtZWRpYXRvciwgbmFtZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzZW5kKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRoaXMubmFtZSArICIgU2VuZGluZyBNZXNzYWdlOiAiICsgbWVzc2FnZSk7CiAgICAgICAgbWVkaWF0b3Iuc2VuZE1lc3NhZ2UobWVzc2FnZSwgdGhpcyk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCByZWNlaXZlKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRoaXMubmFtZSArICIgUmVjZWl2ZWQgTWVzc2FnZTogIiArIG1lc3NhZ2UpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ChatUser extends User {

    public ChatUser(ChatMediator mediator, String name) {
        super(mediator, name);
    }

    @Override
    public void send(String message) {
        System.out.println(this.name + &quot; Sending Message: &quot; + message);
        mediator.sendMessage(message, this);
    }

    @Override
    public void receive(String message) {
        System.out.println(this.name + &quot; Received Message: &quot; + message);
    }
}</pre></div><div class='content'><h4>Client Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1lZGlhdG9yUGF0dGVybkRlbW8gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIENoYXRNZWRpYXRvciBtZWRpYXRvciA9IG5ldyBDaGF0Um9vbSgpOwoKICAgICAgICBVc2VyIHVzZXIxID0gbmV3IENoYXRVc2VyKG1lZGlhdG9yLCAiQWxpY2UiKTsKICAgICAgICBVc2VyIHVzZXIyID0gbmV3IENoYXRVc2VyKG1lZGlhdG9yLCAiQm9iIik7CiAgICAgICAgVXNlciB1c2VyMyA9IG5ldyBDaGF0VXNlcihtZWRpYXRvciwgIkNoYXJsaWUiKTsKICAgICAgICBVc2VyIHVzZXI0ID0gbmV3IENoYXRVc2VyKG1lZGlhdG9yLCAiRGlhbmEiKTsKCiAgICAgICAgbWVkaWF0b3IuYWRkVXNlcih1c2VyMSk7CiAgICAgICAgbWVkaWF0b3IuYWRkVXNlcih1c2VyMik7CiAgICAgICAgbWVkaWF0b3IuYWRkVXNlcih1c2VyMyk7CiAgICAgICAgbWVkaWF0b3IuYWRkVXNlcih1c2VyNCk7CgogICAgICAgIHVzZXIxLnNlbmQoIkhlbGxvLCBldmVyeW9uZSEiKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MediatorPatternDemo {
    public static void main(String[] args) {
        ChatMediator mediator = new ChatRoom();

        User user1 = new ChatUser(mediator, &quot;Alice&quot;);
        User user2 = new ChatUser(mediator, &quot;Bob&quot;);
        User user3 = new ChatUser(mediator, &quot;Charlie&quot;);
        User user4 = new ChatUser(mediator, &quot;Diana&quot;);

        mediator.addUser(user1);
        mediator.addUser(user2);
        mediator.addUser(user3);
        mediator.addUser(user4);

        user1.send(&quot;Hello, everyone!&quot;);
    }
}</pre></div><div class='content'></div><h2>Advantages of the Mediator Pattern</h2>
<div class='content'><ul>
<li><strong>Reduces Complexity</strong>: Simplifies object communication by centralizing control logic.</li>
<li><strong>Loose Coupling</strong>: Colleague objects are decoupled from each other and only know about the mediator.</li>
<li><strong>Single Responsibility Principle</strong>: The mediator handles the communication, allowing colleague objects to focus on their primary responsibilities.</li>
</ul>
</div><h2>Disadvantages of the Mediator Pattern</h2>
<div class='content'><ul>
<li><strong>Mediator Complexity</strong>: The mediator can become complex if it handles many interactions.</li>
<li><strong>Single Point of Failure</strong>: The mediator is a central point, and if it fails, the entire communication system can be affected.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>The Mediator Pattern is a powerful tool for managing complex communications between objects. By centralizing interaction logic in a mediator, it promotes loose coupling and simplifies maintenance. However, care must be taken to manage the complexity of the mediator itself. Understanding when and how to apply this pattern can significantly enhance the design and scalability of your software systems.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-5-iterator'>&#x25C4;Iterator</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 4: Behavioral Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-7-memento'>Memento &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
