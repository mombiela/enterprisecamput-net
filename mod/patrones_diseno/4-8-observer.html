<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4: Behavioral Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-8-observer" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-8-observer" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-8-observer" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/4-8-observer" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/4-8-observer" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-7-memento'>&#x25C4;Memento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 4: Behavioral Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-9-state'>State &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Topic 4-8: Observer Pattern</h1>
<div class='content'></div><h2>What is the Observer Pattern?</h2>
<div class='content'><p>The Observer Pattern is a behavioral design pattern that defines a one-to-many dependency between objects. When one object (the subject) changes state, all its dependents (observers) are notified and updated automatically. This pattern is particularly useful for implementing distributed event-handling systems.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Subject</strong>: The object that holds the state and notifies observers of changes.</li>
<li><strong>Observer</strong>: The objects that need to be notified when the subject's state changes.</li>
<li><strong>Subscription Mechanism</strong>: The method by which observers register and unregister themselves with the subject.</li>
</ul>
</div><h2>Structure</h2>
<div class='content'><p>The Observer Pattern involves the following components:</p>
<ol>
<li><strong>Subject Interface</strong>: Declares methods for attaching and detaching observer objects.</li>
<li><strong>Concrete Subject</strong>: Stores state and notifies observers of state changes.</li>
<li><strong>Observer Interface</strong>: Declares the update method, used by the subject to notify observers.</li>
<li><strong>Concrete Observer</strong>: Implements the update method to keep its state consistent with the subject's state.</li>
</ol>
</div><h2>UML Diagram</h2>
<div class='content'><table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Subject</td>
<td>Interface with methods to attach/detach observers</td>
</tr>
<tr>
<td>ConcreteSubject</td>
<td>Implements Subject, maintains state</td>
</tr>
<tr>
<td>Observer</td>
<td>Interface with update method</td>
</tr>
<tr>
<td>ConcreteObserver</td>
<td>Implements Observer, updates state</td>
</tr>
</tbody>
</table>
</div><h2>Example in Python</h2>
<div class='content'><p>Let's implement a simple example of the Observer Pattern in Python.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCiMgU3ViamVjdCBJbnRlcmZhY2UKY2xhc3MgU3ViamVjdChBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgYXR0YWNoKHNlbGYsIG9ic2VydmVyKToKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgZGV0YWNoKHNlbGYsIG9ic2VydmVyKToKICAgICAgICBwYXNzCgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgbm90aWZ5KHNlbGYpOgogICAgICAgIHBhc3MKCiMgQ29uY3JldGUgU3ViamVjdApjbGFzcyBDb25jcmV0ZVN1YmplY3QoU3ViamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5fb2JzZXJ2ZXJzID0gW10KICAgICAgICBzZWxmLl9zdGF0ZSA9IE5vbmUKCiAgICBkZWYgYXR0YWNoKHNlbGYsIG9ic2VydmVyKToKICAgICAgICBzZWxmLl9vYnNlcnZlcnMuYXBwZW5kKG9ic2VydmVyKQoKICAgIGRlZiBkZXRhY2goc2VsZiwgb2JzZXJ2ZXIpOgogICAgICAgIHNlbGYuX29ic2VydmVycy5yZW1vdmUob2JzZXJ2ZXIpCgogICAgZGVmIG5vdGlmeShzZWxmKToKICAgICAgICBmb3Igb2JzZXJ2ZXIgaW4gc2VsZi5fb2JzZXJ2ZXJzOgogICAgICAgICAgICBvYnNlcnZlci51cGRhdGUoc2VsZi5fc3RhdGUpCgogICAgZGVmIHNldF9zdGF0ZShzZWxmLCBzdGF0ZSk6CiAgICAgICAgc2VsZi5fc3RhdGUgPSBzdGF0ZQogICAgICAgIHNlbGYubm90aWZ5KCkKCiMgT2JzZXJ2ZXIgSW50ZXJmYWNlCmNsYXNzIE9ic2VydmVyKEFCQyk6CiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiB1cGRhdGUoc2VsZiwgc3RhdGUpOgogICAgICAgIHBhc3MKCiMgQ29uY3JldGUgT2JzZXJ2ZXIKY2xhc3MgQ29uY3JldGVPYnNlcnZlcihPYnNlcnZlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSk6CiAgICAgICAgc2VsZi5fbmFtZSA9IG5hbWUKICAgICAgICBzZWxmLl9zdGF0ZSA9IE5vbmUKCiAgICBkZWYgdXBkYXRlKHNlbGYsIHN0YXRlKToKICAgICAgICBzZWxmLl9zdGF0ZSA9IHN0YXRlCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5fbmFtZX0gcmVjZWl2ZWQgc3RhdGUgdXBkYXRlOiB7c2VsZi5fc3RhdGV9IikKCiMgVXNhZ2UKc3ViamVjdCA9IENvbmNyZXRlU3ViamVjdCgpCgpvYnNlcnZlcjEgPSBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZlciAxIikKb2JzZXJ2ZXIyID0gQ29uY3JldGVPYnNlcnZlcigiT2JzZXJ2ZXIgMiIpCgpzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjEpCnN1YmplY3QuYXR0YWNoKG9ic2VydmVyMikKCnN1YmplY3Quc2V0X3N0YXRlKCJTdGF0ZSAxIikKc3ViamVjdC5zZXRfc3RhdGUoIlN0YXRlIDIiKQoKc3ViamVjdC5kZXRhY2gob2JzZXJ2ZXIxKQpzdWJqZWN0LnNldF9zdGF0ZSgiU3RhdGUgMyIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

# Subject Interface
class Subject(ABC):
    @abstractmethod
    def attach(self, observer):
        pass

    @abstractmethod
    def detach(self, observer):
        pass

    @abstractmethod
    def notify(self):
        pass

# Concrete Subject
class ConcreteSubject(Subject):
    def __init__(self):
        self._observers = []
        self._state = None

    def attach(self, observer):
        self._observers.append(observer)

    def detach(self, observer):
        self._observers.remove(observer)

    def notify(self):
        for observer in self._observers:
            observer.update(self._state)

    def set_state(self, state):
        self._state = state
        self.notify()

# Observer Interface
class Observer(ABC):
    @abstractmethod
    def update(self, state):
        pass

# Concrete Observer
class ConcreteObserver(Observer):
    def __init__(self, name):
        self._name = name
        self._state = None

    def update(self, state):
        self._state = state
        print(f&quot;{self._name} received state update: {self._state}&quot;)

# Usage
subject = ConcreteSubject()

observer1 = ConcreteObserver(&quot;Observer 1&quot;)
observer2 = ConcreteObserver(&quot;Observer 2&quot;)

subject.attach(observer1)
subject.attach(observer2)

subject.set_state(&quot;State 1&quot;)
subject.set_state(&quot;State 2&quot;)

subject.detach(observer1)
subject.set_state(&quot;State 3&quot;)</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li><strong>Subject Interface</strong>: Defines <code>attach</code>, <code>detach</code>, and <code>notify</code> methods.</li>
<li><strong>ConcreteSubject</strong>: Implements the Subject interface, maintains a list of observers, and notifies them of state changes.</li>
<li><strong>Observer Interface</strong>: Defines the <code>update</code> method.</li>
<li><strong>ConcreteObserver</strong>: Implements the Observer interface and updates its state when notified by the subject.</li>
</ol>
</div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Loose Coupling</strong>: The subject and observers are loosely coupled, allowing for flexibility and scalability.</li>
<li><strong>Dynamic Relationships</strong>: Observers can be added or removed at runtime.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Memory Leaks</strong>: If observers are not properly detached, it can lead to memory leaks.</li>
<li><strong>Complexity</strong>: Managing multiple observers can become complex in large systems.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>The Observer Pattern is a powerful tool for creating systems where objects need to be notified of changes in other objects. It promotes loose coupling and enhances the flexibility and scalability of the system. However, it requires careful management of observer subscriptions to avoid potential issues like memory leaks. Understanding and implementing the Observer Pattern can significantly improve the design and functionality of your software systems.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-7-memento'>&#x25C4;Memento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 4: Behavioral Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-9-state'>State &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
