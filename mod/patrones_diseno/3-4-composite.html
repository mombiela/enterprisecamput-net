<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Structural Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/3-4-composite" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/3-4-composite" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/3-4-composite" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/3-4-composite" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/3-4-composite" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='3-3-bridge'>&#x25C4;Bridge</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 3: Structural Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='3-5-decorator'>Decorator &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Topic: Composite Pattern</h1>
<div class='content'></div><h2>Introduction to Composite Pattern</h2>
<div class='content'><p>The Composite Pattern is a structural design pattern that allows you to compose objects into tree structures to represent part-whole hierarchies. This pattern lets clients treat individual objects and compositions of objects uniformly.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Component</strong>: An abstract class or interface that declares operations common to both simple and complex objects of the composition.</li>
<li><strong>Leaf</strong>: A class that represents the end objects of a composition. A leaf canâ€™t have any children.</li>
<li><strong>Composite</strong>: A class that represents complex components that may have children. This class implements methods to add and remove child components.</li>
<li><strong>Client</strong>: The class that manipulates objects in the composition through the component interface.</li>
</ol>
</div><h2>Structure</h2>
<div class='content'><table>
<thead>
<tr>
<th>Component</th>
<th>Leaf</th>
<th>Composite</th>
<th>Client</th>
</tr>
</thead>
<tbody>
<tr>
<td>Declares interface for objects in the composition.</td>
<td>Represents leaf objects in the composition.</td>
<td>Represents composite objects that may have children.</td>
<td>Uses the component interface to interact with objects in the composition.</td>
</tr>
</tbody>
</table>
</div><h2>Example</h2>
<div class='content'><p>Let's consider a file system where files and directories are represented. A directory can contain files or other directories.</p>
<h4>Component Interface</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29tcG9uZW50CnB1YmxpYyBpbnRlcmZhY2UgRmlsZVN5c3RlbUNvbXBvbmVudCB7CiAgICB2b2lkIHNob3dEZXRhaWxzKCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Component
public interface FileSystemComponent {
    void showDetails();
}</pre></div><div class='content'><h4>Leaf Class</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTGVhZgpwdWJsaWMgY2xhc3MgRmlsZSBpbXBsZW1lbnRzIEZpbGVTeXN0ZW1Db21wb25lbnQgewogICAgcHJpdmF0ZSBTdHJpbmcgbmFtZTsKCiAgICBwdWJsaWMgRmlsZShTdHJpbmcgbmFtZSkgewogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzaG93RGV0YWlscygpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkZpbGU6ICIgKyBuYW1lKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Leaf
public class File implements FileSystemComponent {
    private String name;

    public File(String name) {
        this.name = name;
    }

    @Override
    public void showDetails() {
        System.out.println(&quot;File: &quot; + name);
    }
}</pre></div><div class='content'><h4>Composite Class</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29tcG9zaXRlCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgpwdWJsaWMgY2xhc3MgRGlyZWN0b3J5IGltcGxlbWVudHMgRmlsZVN5c3RlbUNvbXBvbmVudCB7CiAgICBwcml2YXRlIFN0cmluZyBuYW1lOwogICAgcHJpdmF0ZSBMaXN0PEZpbGVTeXN0ZW1Db21wb25lbnQ+IGNvbXBvbmVudHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKCiAgICBwdWJsaWMgRGlyZWN0b3J5KFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRDb21wb25lbnQoRmlsZVN5c3RlbUNvbXBvbmVudCBjb21wb25lbnQpIHsKICAgICAgICBjb21wb25lbnRzLmFkZChjb21wb25lbnQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZUNvbXBvbmVudChGaWxlU3lzdGVtQ29tcG9uZW50IGNvbXBvbmVudCkgewogICAgICAgIGNvbXBvbmVudHMucmVtb3ZlKGNvbXBvbmVudCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzaG93RGV0YWlscygpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRpcmVjdG9yeTogIiArIG5hbWUpOwogICAgICAgIGZvciAoRmlsZVN5c3RlbUNvbXBvbmVudCBjb21wb25lbnQgOiBjb21wb25lbnRzKSB7CiAgICAgICAgICAgIGNvbXBvbmVudC5zaG93RGV0YWlscygpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Composite
import java.util.ArrayList;
import java.util.List;

public class Directory implements FileSystemComponent {
    private String name;
    private List&lt;FileSystemComponent&gt; components = new ArrayList&lt;&gt;();

    public Directory(String name) {
        this.name = name;
    }

    public void addComponent(FileSystemComponent component) {
        components.add(component);
    }

    public void removeComponent(FileSystemComponent component) {
        components.remove(component);
    }

    @Override
    public void showDetails() {
        System.out.println(&quot;Directory: &quot; + name);
        for (FileSystemComponent component : components) {
            component.showDetails();
        }
    }
}</pre></div><div class='content'><h4>Client Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENsaWVudCB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgRmlsZVN5c3RlbUNvbXBvbmVudCBmaWxlMSA9IG5ldyBGaWxlKCJmaWxlMS50eHQiKTsKICAgICAgICBGaWxlU3lzdGVtQ29tcG9uZW50IGZpbGUyID0gbmV3IEZpbGUoImZpbGUyLnR4dCIpOwoKICAgICAgICBEaXJlY3RvcnkgZGlyZWN0b3J5MSA9IG5ldyBEaXJlY3RvcnkoImRpcjEiKTsKICAgICAgICBkaXJlY3RvcnkxLmFkZENvbXBvbmVudChmaWxlMSk7CgogICAgICAgIERpcmVjdG9yeSBkaXJlY3RvcnkyID0gbmV3IERpcmVjdG9yeSgiZGlyMiIpOwogICAgICAgIGRpcmVjdG9yeTIuYWRkQ29tcG9uZW50KGZpbGUyKTsKICAgICAgICBkaXJlY3RvcnkyLmFkZENvbXBvbmVudChkaXJlY3RvcnkxKTsKCiAgICAgICAgZGlyZWN0b3J5Mi5zaG93RGV0YWlscygpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Client {
    public static void main(String[] args) {
        FileSystemComponent file1 = new File(&quot;file1.txt&quot;);
        FileSystemComponent file2 = new File(&quot;file2.txt&quot;);

        Directory directory1 = new Directory(&quot;dir1&quot;);
        directory1.addComponent(file1);

        Directory directory2 = new Directory(&quot;dir2&quot;);
        directory2.addComponent(file2);
        directory2.addComponent(directory1);

        directory2.showDetails();
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li><strong>Component Interface</strong>: <code>FileSystemComponent</code> declares the <code>showDetails</code> method that both <code>File</code> and <code>Directory</code> classes implement.</li>
<li><strong>Leaf Class</strong>: <code>File</code> class implements the <code>showDetails</code> method to print the file name.</li>
<li><strong>Composite Class</strong>: <code>Directory</code> class maintains a list of <code>FileSystemComponent</code> objects and implements the <code>showDetails</code> method to print its name and the details of its children.</li>
<li><strong>Client Code</strong>: The client creates files and directories, adds files to directories, and prints the details of the directory structure.</li>
</ol>
</div><h2>Advantages and Disadvantages</h2>
<div class='content'><h4>Advantages</h4>
<ul>
<li><strong>Simplifies Client Code</strong>: Clients can treat individual objects and compositions uniformly.</li>
<li><strong>Easier to Add New Components</strong>: New leaf or composite classes can be added without changing the existing code.</li>
</ul>
<h4>Disadvantages</h4>
<ul>
<li><strong>Can Be Over-Engineered</strong>: The pattern can introduce complexity if the part-whole hierarchy is simple.</li>
<li><strong>Difficult to Restrict Component Types</strong>: It can be challenging to enforce certain constraints on the components.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>The Composite Pattern is a powerful tool for building part-whole hierarchies, allowing clients to treat individual objects and compositions uniformly. It is particularly useful in scenarios where you need to work with tree structures, such as file systems, organizational hierarchies, or graphical user interfaces. Understanding the Composite Pattern can help you design more flexible and maintainable software systems.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='3-3-bridge'>&#x25C4;Bridge</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 3: Structural Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='3-5-decorator'>Decorator &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiÃ¨ncia d'Ãºs i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
