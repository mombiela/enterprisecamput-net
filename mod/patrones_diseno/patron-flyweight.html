<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flyweight Pattern</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/patron-flyweight" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/patron-flyweight" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/patron-flyweight" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/patron-flyweight" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/patron-flyweight" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Attention!</b> There has been an error in the course generation, and it may contain translation errors.We are working to resolve this issue, so please use the content with caution.You can check the correct content in another language at the following link:<br>
						<a href="https://campusempresa.com/mod/patrones_diseno/patron-flyweight">https://campusempresa.com/mod/patrones_diseno/patron-flyweight</a></p>
					</div>
								<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>The Flyweight pattern is a structural design pattern that allows reducing memory usage by sharing as much data as possible among similar objects. This pattern is especially useful when a large number of similar objects need to be created.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Data Sharing</strong>: The Flyweight pattern allows sharing parts of the state among multiple objects to reduce memory consumption.</li>
<li><strong>Intrinsic State</strong>: Part of the state that is shared among several objects and does not change.</li>
<li><strong>Extrinsic State</strong>: Part of the state that can vary and is not shared among objects.</li>
</ul>
</div><h1>Flyweight Pattern Structure</h1>
<div class='content'><p>The Flyweight pattern consists of the following components:</p>
<ol>
<li><strong>Flyweight</strong>: Interface or abstract class that defines the operations that can be performed by Flyweight objects.</li>
<li><strong>ConcreteFlyweight</strong>: Concrete implementation of the Flyweight interface that shares the intrinsic state.</li>
<li><strong>FlyweightFactory</strong>: Class that creates and manages Flyweight objects. Ensures that shared objects are reused appropriately.</li>
<li><strong>Client</strong>: Class that uses Flyweight objects and handles the extrinsic state.</li>
</ol>
</div><h1>Code Example</h1>
<div class='content'><p>Below is an example in Python to illustrate the use of the Flyweight pattern:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRmx5d2VpZ2h0OgogICAgZGVmIG9wZXJhdGlvbihzZWxmLCBleHRyaW5zaWNfc3RhdGUpOgogICAgICAgIHBhc3MKCmNsYXNzIENvbmNyZXRlRmx5d2VpZ2h0KEZseXdlaWdodCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaW50cmluc2ljX3N0YXRlKToKICAgICAgICBzZWxmLmludHJpbnNpY19zdGF0ZSA9IGludHJpbnNpY19zdGF0ZQoKICAgIGRlZiBvcGVyYXRpb24oc2VsZiwgZXh0cmluc2ljX3N0YXRlKToKICAgICAgICBwcmludChmIkludHJpbnNpYyBTdGF0ZToge3NlbGYuaW50cmluc2ljX3N0YXRlfSwgRXh0cmluc2ljIFN0YXRlOiB7ZXh0cmluc2ljX3N0YXRlfSIpCgpjbGFzcyBGbHl3ZWlnaHRGYWN0b3J5OgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuZmx5d2VpZ2h0cyA9IHt9CgogICAgZGVmIGdldF9mbHl3ZWlnaHQoc2VsZiwga2V5KToKICAgICAgICBpZiBrZXkgbm90IGluIHNlbGYuZmx5d2VpZ2h0czoKICAgICAgICAgICAgc2VsZi5mbHl3ZWlnaHRzW2tleV0gPSBDb25jcmV0ZUZseXdlaWdodChrZXkpCiAgICAgICAgcmV0dXJuIHNlbGYuZmx5d2VpZ2h0c1trZXldCgojIENsaWVudApmYWN0b3J5ID0gRmx5d2VpZ2h0RmFjdG9yeSgpCgpmbHl3ZWlnaHQxID0gZmFjdG9yeS5nZXRfZmx5d2VpZ2h0KCJBIikKZmx5d2VpZ2h0MS5vcGVyYXRpb24oIkZpcnN0IENhbGwiKQoKZmx5d2VpZ2h0MiA9IGZhY3RvcnkuZ2V0X2ZseXdlaWdodCgiQSIpCmZseXdlaWdodDIub3BlcmF0aW9uKCJTZWNvbmQgQ2FsbCIpCgpmbHl3ZWlnaHQzID0gZmFjdG9yeS5nZXRfZmx5d2VpZ2h0KCJCIikKZmx5d2VpZ2h0My5vcGVyYXRpb24oIkZpcnN0IENhbGwiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Flyweight:
    def operation(self, extrinsic_state):
        pass

class ConcreteFlyweight(Flyweight):
    def __init__(self, intrinsic_state):
        self.intrinsic_state = intrinsic_state

    def operation(self, extrinsic_state):
        print(f&quot;Intrinsic State: {self.intrinsic_state}, Extrinsic State: {extrinsic_state}&quot;)

class FlyweightFactory:
    def __init__(self):
        self.flyweights = {}

    def get_flyweight(self, key):
        if key not in self.flyweights:
            self.flyweights[key] = ConcreteFlyweight(key)
        return self.flyweights[key]

# Client
factory = FlyweightFactory()

flyweight1 = factory.get_flyweight(&quot;A&quot;)
flyweight1.operation(&quot;First Call&quot;)

flyweight2 = factory.get_flyweight(&quot;A&quot;)
flyweight2.operation(&quot;Second Call&quot;)

flyweight3 = factory.get_flyweight(&quot;B&quot;)
flyweight3.operation(&quot;First Call&quot;)</pre></div><div class='content'></div><h2>Code Explanation</h2>
<div class='content'><ul>
<li><strong>Flyweight</strong>: Defines the <code>operation</code> interface that will be implemented by <code>ConcreteFlyweight</code>.</li>
<li><strong>ConcreteFlyweight</strong>: Implements the <code>Flyweight</code> interface and contains the intrinsic state.</li>
<li><strong>FlyweightFactory</strong>: Manages the creation and reuse of <code>ConcreteFlyweight</code> objects.</li>
<li><strong>Client</strong>: Uses the <code>FlyweightFactory</code> to obtain instances of <code>ConcreteFlyweight</code> and calls their methods with the extrinsic state.</li>
</ul>
</div><h1>State Comparison</h1>
<div class='content'><p>| Intrinsic State | Extrinsic State |
|-----------------|-----------------|
| Shared among objects | Specific to each object |
| Does not change | Can change |
| Stored in the Flyweight | Provided by the client |</p>
</div><h1>Advantages and Disadvantages</h1>
<div class='content'></div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Memory Reduction</strong>: By sharing the intrinsic state, memory consumption is reduced.</li>
<li><strong>Performance Improvement</strong>: Fewer objects created can improve performance.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Complexity</strong>: Adds complexity to the system design due to the management of intrinsic and extrinsic state.</li>
<li><strong>Management Cost</strong>: Managing shared objects can have an additional cost.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>The Flyweight pattern is a powerful technique for optimizing memory usage in applications that require the creation of a large number of similar objects. By sharing the intrinsic state among multiple objects, significant resource consumption reduction can be achieved. However, it is important to balance the added complexity with the benefits obtained to determine if this pattern is suitable for a specific situation.</p>
</div>
			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
