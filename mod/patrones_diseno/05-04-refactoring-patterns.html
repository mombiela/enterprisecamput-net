<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refactoring Using Design Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/05-04-refactorizacion-patrones" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/05-04-refactoritzacio-patrons" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/05-04-refactoring-patterns" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/patrones_diseno/05-04-refactorizacion-patrones" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/patrones_diseno/05-04-refactoritzacio-patrons" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-03-patterns-real-projects' title="Design Patterns in Real Projects">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Refactoring Using Design Patterns</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-01-patterns-modern-architectures' title="Design Patterns in Modern Architectures">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Refactoring is the process of restructuring existing computer code without changing its external behavior. The main goal of refactoring is to improve the nonfunctional attributes of the software. Design patterns can play a crucial role in this process by providing tested, proven development paradigms that can be used to solve common problems in software design.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'></div><h2><p>What is Refactoring?</p>
</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: Refactoring is the process of improving the design of existing code without altering its functionality.</li>
<li><strong>Goals</strong>:
<ul>
<li>Improve code readability.</li>
<li>Reduce complexity.</li>
<li>Improve maintainability.</li>
<li>Enhance performance.</li>
</ul>
</li>
</ul>
</div><h2><p>Why Use Design Patterns in Refactoring?</p>
</h2>
<div class='content'><ul>
<li><strong>Reusability</strong>: Design patterns provide reusable solutions to common problems.</li>
<li><strong>Consistency</strong>: They promote a consistent approach to solving problems.</li>
<li><strong>Efficiency</strong>: Patterns can make the refactoring process more efficient by providing a clear path to follow.</li>
</ul>
</div><h1><p>Common Refactoring Techniques Using Design Patterns</p>
</h1>
<div class='content'></div><h2><ol>
<li>Replace Conditional Logic with Strategy Pattern</li>
</ol>
</h2>
<div class='content'><p><strong>Problem</strong>: Complex conditional logic scattered throughout the code.
<strong>Solution</strong>: Use the Strategy pattern to encapsulate algorithms or behaviors.</p>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBCZWZvcmUgUmVmYWN0b3JpbmcKY2xhc3MgUGF5bWVudFByb2Nlc3NvcjoKICAgIGRlZiBwcm9jZXNzX3BheW1lbnQoc2VsZiwgcGF5bWVudF90eXBlKToKICAgICAgICBpZiBwYXltZW50X3R5cGUgPT0gImNyZWRpdF9jYXJkIjoKICAgICAgICAgICAgc2VsZi5wcm9jZXNzX2NyZWRpdF9jYXJkKCkKICAgICAgICBlbGlmIHBheW1lbnRfdHlwZSA9PSAicGF5cGFsIjoKICAgICAgICAgICAgc2VsZi5wcm9jZXNzX3BheXBhbCgpCiAgICAgICAgIyBNb3JlIHBheW1lbnQgdHlwZXMuLi4KCiAgICBkZWYgcHJvY2Vzc19jcmVkaXRfY2FyZChzZWxmKToKICAgICAgICAjIENyZWRpdCBjYXJkIHByb2Nlc3NpbmcgbG9naWMKICAgICAgICBwYXNzCgogICAgZGVmIHByb2Nlc3NfcGF5cGFsKHNlbGYpOgogICAgICAgICMgUGF5UGFsIHByb2Nlc3NpbmcgbG9naWMKICAgICAgICBwYXNzCgojIEFmdGVyIFJlZmFjdG9yaW5nIHVzaW5nIFN0cmF0ZWd5IFBhdHRlcm4KY2xhc3MgUGF5bWVudFByb2Nlc3NvcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdHJhdGVneSk6CiAgICAgICAgc2VsZi5zdHJhdGVneSA9IHN0cmF0ZWd5CgogICAgZGVmIHByb2Nlc3NfcGF5bWVudChzZWxmKToKICAgICAgICBzZWxmLnN0cmF0ZWd5LnByb2Nlc3MoKQoKY2xhc3MgQ3JlZGl0Q2FyZFN0cmF0ZWd5OgogICAgZGVmIHByb2Nlc3Moc2VsZik6CiAgICAgICAgIyBDcmVkaXQgY2FyZCBwcm9jZXNzaW5nIGxvZ2ljCiAgICAgICAgcGFzcwoKY2xhc3MgUGF5UGFsU3RyYXRlZ3k6CiAgICBkZWYgcHJvY2VzcyhzZWxmKToKICAgICAgICAjIFBheVBhbCBwcm9jZXNzaW5nIGxvZ2ljCiAgICAgICAgcGFzcwoKIyBVc2FnZQpwcm9jZXNzb3IgPSBQYXltZW50UHJvY2Vzc29yKENyZWRpdENhcmRTdHJhdGVneSgpKQpwcm9jZXNzb3IucHJvY2Vzc19wYXltZW50KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Before Refactoring
class PaymentProcessor:
    def process_payment(self, payment_type):
        if payment_type == &quot;credit_card&quot;:
            self.process_credit_card()
        elif payment_type == &quot;paypal&quot;:
            self.process_paypal()
        # More payment types...

    def process_credit_card(self):
        # Credit card processing logic
        pass

    def process_paypal(self):
        # PayPal processing logic
        pass

# After Refactoring using Strategy Pattern
class PaymentProcessor:
    def __init__(self, strategy):
        self.strategy = strategy

    def process_payment(self):
        self.strategy.process()

class CreditCardStrategy:
    def process(self):
        # Credit card processing logic
        pass

class PayPalStrategy:
    def process(self):
        # PayPal processing logic
        pass

# Usage
processor = PaymentProcessor(CreditCardStrategy())
processor.process_payment()</pre></div><div class='content'></div><h2><ol start="2">
<li>Replace Constructors with Factory Method</li>
</ol>
</h2>
<div class='content'><p><strong>Problem</strong>: Complex object creation logic scattered throughout the code.
<strong>Solution</strong>: Use the Factory Method pattern to encapsulate object creation.</p>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBCZWZvcmUgUmVmYWN0b3JpbmcKY2xhc3MgQ2FyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHR5cGUpOgogICAgICAgIGlmIHR5cGUgPT0gInNlZGFuIjoKICAgICAgICAgICAgc2VsZi5jYXIgPSBTZWRhbigpCiAgICAgICAgZWxpZiB0eXBlID09ICJzdXYiOgogICAgICAgICAgICBzZWxmLmNhciA9IFNVVigpCiAgICAgICAgIyBNb3JlIGNhciB0eXBlcy4uLgoKIyBBZnRlciBSZWZhY3RvcmluZyB1c2luZyBGYWN0b3J5IE1ldGhvZApjbGFzcyBDYXJGYWN0b3J5OgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGNyZWF0ZV9jYXIodHlwZSk6CiAgICAgICAgaWYgdHlwZSA9PSAic2VkYW4iOgogICAgICAgICAgICByZXR1cm4gU2VkYW4oKQogICAgICAgIGVsaWYgdHlwZSA9PSAic3V2IjoKICAgICAgICAgICAgcmV0dXJuIFNVVigpCiAgICAgICAgIyBNb3JlIGNhciB0eXBlcy4uLgoKIyBVc2FnZQpjYXIgPSBDYXJGYWN0b3J5LmNyZWF0ZV9jYXIoInNlZGFuIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Before Refactoring
class Car:
    def __init__(self, type):
        if type == &quot;sedan&quot;:
            self.car = Sedan()
        elif type == &quot;suv&quot;:
            self.car = SUV()
        # More car types...

# After Refactoring using Factory Method
class CarFactory:
    @staticmethod
    def create_car(type):
        if type == &quot;sedan&quot;:
            return Sedan()
        elif type == &quot;suv&quot;:
            return SUV()
        # More car types...

# Usage
car = CarFactory.create_car(&quot;sedan&quot;)</pre></div><div class='content'></div><h2><ol start="3">
<li>Simplify Complex Interfaces with Facade Pattern</li>
</ol>
</h2>
<div class='content'><p><strong>Problem</strong>: Complex subsystem interfaces that are difficult to use.
<strong>Solution</strong>: Use the Facade pattern to provide a simplified interface.</p>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBCZWZvcmUgUmVmYWN0b3JpbmcKY2xhc3MgU3Vic3lzdGVtQToKICAgIGRlZiBvcGVyYXRpb25fYTEoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBvcGVyYXRpb25fYTIoc2VsZik6CiAgICAgICAgcGFzcwoKY2xhc3MgU3Vic3lzdGVtQjoKICAgIGRlZiBvcGVyYXRpb25fYjEoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBvcGVyYXRpb25fYjIoc2VsZik6CiAgICAgICAgcGFzcwoKIyBBZnRlciBSZWZhY3RvcmluZyB1c2luZyBGYWNhZGUgUGF0dGVybgpjbGFzcyBGYWNhZGU6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5zdWJzeXN0ZW1fYSA9IFN1YnN5c3RlbUEoKQogICAgICAgIHNlbGYuc3Vic3lzdGVtX2IgPSBTdWJzeXN0ZW1CKCkKCiAgICBkZWYgc2ltcGxpZmllZF9vcGVyYXRpb24oc2VsZik6CiAgICAgICAgc2VsZi5zdWJzeXN0ZW1fYS5vcGVyYXRpb25fYTEoKQogICAgICAgIHNlbGYuc3Vic3lzdGVtX2Iub3BlcmF0aW9uX2IxKCkKICAgICAgICAjIE1vcmUgb3BlcmF0aW9ucy4uLgoKIyBVc2FnZQpmYWNhZGUgPSBGYWNhZGUoKQpmYWNhZGUuc2ltcGxpZmllZF9vcGVyYXRpb24oKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Before Refactoring
class SubsystemA:
    def operation_a1(self):
        pass

    def operation_a2(self):
        pass

class SubsystemB:
    def operation_b1(self):
        pass

    def operation_b2(self):
        pass

# After Refactoring using Facade Pattern
class Facade:
    def __init__(self):
        self.subsystem_a = SubsystemA()
        self.subsystem_b = SubsystemB()

    def simplified_operation(self):
        self.subsystem_a.operation_a1()
        self.subsystem_b.operation_b1()
        # More operations...

# Usage
facade = Facade()
facade.simplified_operation()</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Refactor Using Strategy Pattern</p>
</h2>
<div class='content'><p><strong>Task</strong>: Refactor the following code to use the Strategy pattern.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU2hpcHBpbmdDb3N0Q2FsY3VsYXRvcjoKICAgIGRlZiBjYWxjdWxhdGUoc2VsZiwgc2hpcHBpbmdfdHlwZSk6CiAgICAgICAgaWYgc2hpcHBpbmdfdHlwZSA9PSAic3RhbmRhcmQiOgogICAgICAgICAgICByZXR1cm4gNS4wMAogICAgICAgIGVsaWYgc2hpcHBpbmdfdHlwZSA9PSAiZXhwcmVzcyI6CiAgICAgICAgICAgIHJldHVybiAxMC4wMAogICAgICAgIGVsaWYgc2hpcHBpbmdfdHlwZSA9PSAib3Zlcm5pZ2h0IjoKICAgICAgICAgICAgcmV0dXJuIDIwLjAw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ShippingCostCalculator:
    def calculate(self, shipping_type):
        if shipping_type == &quot;standard&quot;:
            return 5.00
        elif shipping_type == &quot;express&quot;:
            return 10.00
        elif shipping_type == &quot;overnight&quot;:
            return 20.00</pre></div><div class='content'><p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU2hpcHBpbmdDb3N0Q2FsY3VsYXRvcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdHJhdGVneSk6CiAgICAgICAgc2VsZi5zdHJhdGVneSA9IHN0cmF0ZWd5CgogICAgZGVmIGNhbGN1bGF0ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5zdHJhdGVneS5jYWxjdWxhdGUoKQoKY2xhc3MgU3RhbmRhcmRTaGlwcGluZzoKICAgIGRlZiBjYWxjdWxhdGUoc2VsZik6CiAgICAgICAgcmV0dXJuIDUuMDAKCmNsYXNzIEV4cHJlc3NTaGlwcGluZzoKICAgIGRlZiBjYWxjdWxhdGUoc2VsZik6CiAgICAgICAgcmV0dXJuIDEwLjAwCgpjbGFzcyBPdmVybmlnaHRTaGlwcGluZzoKICAgIGRlZiBjYWxjdWxhdGUoc2VsZik6CiAgICAgICAgcmV0dXJuIDIwLjAwCgojIFVzYWdlCmNhbGN1bGF0b3IgPSBTaGlwcGluZ0Nvc3RDYWxjdWxhdG9yKFN0YW5kYXJkU2hpcHBpbmcoKSkKcHJpbnQoY2FsY3VsYXRvci5jYWxjdWxhdGUoKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ShippingCostCalculator:
    def __init__(self, strategy):
        self.strategy = strategy

    def calculate(self):
        return self.strategy.calculate()

class StandardShipping:
    def calculate(self):
        return 5.00

class ExpressShipping:
    def calculate(self):
        return 10.00

class OvernightShipping:
    def calculate(self):
        return 20.00

# Usage
calculator = ShippingCostCalculator(StandardShipping())
print(calculator.calculate())</pre></div><div class='content'></div><h2><p>Exercise 2: Refactor Using Factory Method</p>
</h2>
<div class='content'><p><strong>Task</strong>: Refactor the following code to use the Factory Method pattern.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRG9jdW1lbnQ6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdHlwZSk6CiAgICAgICAgaWYgdHlwZSA9PSAicGRmIjoKICAgICAgICAgICAgc2VsZi5kb2MgPSBQREZEb2N1bWVudCgpCiAgICAgICAgZWxpZiB0eXBlID09ICJ3b3JkIjoKICAgICAgICAgICAgc2VsZi5kb2MgPSBXb3JkRG9jdW1lbnQoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Document:
    def __init__(self, type):
        if type == &quot;pdf&quot;:
            self.doc = PDFDocument()
        elif type == &quot;word&quot;:
            self.doc = WordDocument()</pre></div><div class='content'><p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRG9jdW1lbnRGYWN0b3J5OgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGNyZWF0ZV9kb2N1bWVudCh0eXBlKToKICAgICAgICBpZiB0eXBlID09ICJwZGYiOgogICAgICAgICAgICByZXR1cm4gUERGRG9jdW1lbnQoKQogICAgICAgIGVsaWYgdHlwZSA9PSAid29yZCI6CiAgICAgICAgICAgIHJldHVybiBXb3JkRG9jdW1lbnQoKQoKIyBVc2FnZQpkb2N1bWVudCA9IERvY3VtZW50RmFjdG9yeS5jcmVhdGVfZG9jdW1lbnQoInBkZiIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DocumentFactory:
    @staticmethod
    def create_document(type):
        if type == &quot;pdf&quot;:
            return PDFDocument()
        elif type == &quot;word&quot;:
            return WordDocument()

# Usage
document = DocumentFactory.create_document(&quot;pdf&quot;)</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Overusing Patterns</strong>: Not every problem requires a design pattern. Use them judiciously.</li>
<li><strong>Ignoring Simplicity</strong>: Sometimes simpler solutions are better. Don't complicate the code unnecessarily.</li>
<li><strong>Lack of Understanding</strong>: Ensure you understand the pattern fully before applying it.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Refactoring using design patterns can significantly improve the quality of your code. By understanding and applying these patterns, you can create more maintainable, readable, and efficient software. In the next module, we will explore how to select the right pattern for your specific needs.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-03-patterns-real-projects' title="Design Patterns in Real Projects">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-01-patterns-modern-architectures' title="Design Patterns in Modern Architectures">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
