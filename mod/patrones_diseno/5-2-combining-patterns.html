<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combining Design Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/5-2-combining-patterns" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/5-2-combining-patterns" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/5-2-combining-patterns" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/5-2-combining-patterns" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/5-2-combining-patterns" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='5-1-select-pattern'>&#x25C4;How to Select the Right Pattern</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Combining Design Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='5-3-patterns-modern-architectures'>Design Patterns in Modern Architectures &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Combining design patterns involves using multiple design patterns together to solve complex software design problems. This approach leverages the strengths of individual patterns to create more robust, flexible, and maintainable systems. Understanding how to combine patterns effectively is crucial for advanced software design.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Complementary Patterns</strong>: Patterns that naturally fit together to solve different aspects of a problem.</li>
<li><strong>Pattern Sequences</strong>: Using patterns in a specific order to address evolving requirements.</li>
<li><strong>Pattern Integration</strong>: Merging patterns to create a new, cohesive solution.</li>
<li><strong>Pattern Conflicts</strong>: Identifying and resolving conflicts that arise when combining patterns.</li>
</ol>
</div><h1>Examples of Combining Patterns</h1>
<div class='content'></div><h2>Example 1: Singleton and Factory Method</h2>
<div class='content'><p><strong>Scenario</strong>: You need a single instance of a class, but the creation logic is complex and may vary.</p>
<p><strong>Combination</strong>:</p>
<ul>
<li><strong>Singleton</strong> ensures that a class has only one instance and provides a global point of access to it.</li>
<li><strong>Factory Method</strong> defines an interface for creating an object but lets subclasses alter the type of objects that will be created.</li>
</ul>
<p><strong>Implementation</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU2luZ2xldG9uRmFjdG9yeToKICAgIF9pbnN0YW5jZSA9IE5vbmUKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgZ2V0X2luc3RhbmNlKCk6CiAgICAgICAgaWYgU2luZ2xldG9uRmFjdG9yeS5faW5zdGFuY2UgaXMgTm9uZToKICAgICAgICAgICAgU2luZ2xldG9uRmFjdG9yeS5faW5zdGFuY2UgPSBDb25jcmV0ZUZhY3RvcnkoKQogICAgICAgIHJldHVybiBTaW5nbGV0b25GYWN0b3J5Ll9pbnN0YW5jZQoKY2xhc3MgRmFjdG9yeToKICAgIGRlZiBjcmVhdGVfcHJvZHVjdChzZWxmKToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yCgpjbGFzcyBDb25jcmV0ZUZhY3RvcnkoRmFjdG9yeSk6CiAgICBkZWYgY3JlYXRlX3Byb2R1Y3Qoc2VsZik6CiAgICAgICAgcmV0dXJuIENvbmNyZXRlUHJvZHVjdCgpCgpjbGFzcyBQcm9kdWN0OgogICAgcGFzcwoKY2xhc3MgQ29uY3JldGVQcm9kdWN0KFByb2R1Y3QpOgogICAgcGFzcwoKIyBVc2FnZQpmYWN0b3J5ID0gU2luZ2xldG9uRmFjdG9yeS5nZXRfaW5zdGFuY2UoKQpwcm9kdWN0ID0gZmFjdG9yeS5jcmVhdGVfcHJvZHVjdCgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class SingletonFactory:
    _instance = None

    @staticmethod
    def get_instance():
        if SingletonFactory._instance is None:
            SingletonFactory._instance = ConcreteFactory()
        return SingletonFactory._instance

class Factory:
    def create_product(self):
        raise NotImplementedError

class ConcreteFactory(Factory):
    def create_product(self):
        return ConcreteProduct()

class Product:
    pass

class ConcreteProduct(Product):
    pass

# Usage
factory = SingletonFactory.get_instance()
product = factory.create_product()</pre></div><div class='content'></div><h2>Example 2: Adapter and Facade</h2>
<div class='content'><p><strong>Scenario</strong>: You need to integrate a complex subsystem with an existing system, but the interfaces are incompatible.</p>
<p><strong>Combination</strong>:</p>
<ul>
<li><strong>Adapter</strong> converts the interface of a class into another interface that a client expects.</li>
<li><strong>Facade</strong> provides a simplified interface to a complex subsystem.</li>
</ul>
<p><strong>Implementation</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdWJzeXN0ZW0gY2xhc3NlcwpjbGFzcyBDb21wbGV4U3Vic3lzdGVtQToKICAgIGRlZiBvcGVyYXRpb25fYTEoc2VsZik6CiAgICAgICAgcmV0dXJuICJTdWJzeXN0ZW0gQSwgTWV0aG9kIEExIgoKY2xhc3MgQ29tcGxleFN1YnN5c3RlbUI6CiAgICBkZWYgb3BlcmF0aW9uX2IxKHNlbGYpOgogICAgICAgIHJldHVybiAiU3Vic3lzdGVtIEIsIE1ldGhvZCBCMSIKCiMgRmFjYWRlCmNsYXNzIEZhY2FkZToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLl9zdWJzeXN0ZW1fYSA9IENvbXBsZXhTdWJzeXN0ZW1BKCkKICAgICAgICBzZWxmLl9zdWJzeXN0ZW1fYiA9IENvbXBsZXhTdWJzeXN0ZW1CKCkKCiAgICBkZWYgc2ltcGxlX29wZXJhdGlvbihzZWxmKToKICAgICAgICByZXN1bHRfYSA9IHNlbGYuX3N1YnN5c3RlbV9hLm9wZXJhdGlvbl9hMSgpCiAgICAgICAgcmVzdWx0X2IgPSBzZWxmLl9zdWJzeXN0ZW1fYi5vcGVyYXRpb25fYjEoKQogICAgICAgIHJldHVybiBmIkZhY2FkZToge3Jlc3VsdF9hfSwge3Jlc3VsdF9ifSIKCiMgQWRhcHRlcgpjbGFzcyBBZGFwdGVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGZhY2FkZSk6CiAgICAgICAgc2VsZi5fZmFjYWRlID0gZmFjYWRlCgogICAgZGVmIHJlcXVlc3Qoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX2ZhY2FkZS5zaW1wbGVfb3BlcmF0aW9uKCkKCiMgVXNhZ2UKZmFjYWRlID0gRmFjYWRlKCkKYWRhcHRlciA9IEFkYXB0ZXIoZmFjYWRlKQpwcmludChhZGFwdGVyLnJlcXVlc3QoKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Subsystem classes
class ComplexSubsystemA:
    def operation_a1(self):
        return &quot;Subsystem A, Method A1&quot;

class ComplexSubsystemB:
    def operation_b1(self):
        return &quot;Subsystem B, Method B1&quot;

# Facade
class Facade:
    def __init__(self):
        self._subsystem_a = ComplexSubsystemA()
        self._subsystem_b = ComplexSubsystemB()

    def simple_operation(self):
        result_a = self._subsystem_a.operation_a1()
        result_b = self._subsystem_b.operation_b1()
        return f&quot;Facade: {result_a}, {result_b}&quot;

# Adapter
class Adapter:
    def __init__(self, facade):
        self._facade = facade

    def request(self):
        return self._facade.simple_operation()

# Usage
facade = Facade()
adapter = Adapter(facade)
print(adapter.request())</pre></div><div class='content'></div><h2>Example 3: Composite and Decorator</h2>
<div class='content'><p><strong>Scenario</strong>: You need to manage a hierarchy of objects and add responsibilities to objects dynamically.</p>
<p><strong>Combination</strong>:</p>
<ul>
<li><strong>Composite</strong> allows you to compose objects into tree structures to represent part-whole hierarchies.</li>
<li><strong>Decorator</strong> adds responsibilities to objects dynamically.</li>
</ul>
<p><strong>Implementation</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb21wb25lbnQKY2xhc3MgQ29tcG9uZW50OgogICAgZGVmIG9wZXJhdGlvbihzZWxmKToKICAgICAgICBwYXNzCgojIExlYWYKY2xhc3MgTGVhZihDb21wb25lbnQpOgogICAgZGVmIG9wZXJhdGlvbihzZWxmKToKICAgICAgICByZXR1cm4gIkxlYWYiCgojIENvbXBvc2l0ZQpjbGFzcyBDb21wb3NpdGUoQ29tcG9uZW50KToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLl9jaGlsZHJlbiA9IFtdCgogICAgZGVmIGFkZChzZWxmLCBjb21wb25lbnQpOgogICAgICAgIHNlbGYuX2NoaWxkcmVuLmFwcGVuZChjb21wb25lbnQpCgogICAgZGVmIG9wZXJhdGlvbihzZWxmKToKICAgICAgICByZXN1bHRzID0gW10KICAgICAgICBmb3IgY2hpbGQgaW4gc2VsZi5fY2hpbGRyZW46CiAgICAgICAgICAgIHJlc3VsdHMuYXBwZW5kKGNoaWxkLm9wZXJhdGlvbigpKQogICAgICAgIHJldHVybiBmIkNvbXBvc2l0ZSh7JysnLmpvaW4ocmVzdWx0cyl9KSIKCiMgRGVjb3JhdG9yCmNsYXNzIERlY29yYXRvcihDb21wb25lbnQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGNvbXBvbmVudCk6CiAgICAgICAgc2VsZi5fY29tcG9uZW50ID0gY29tcG9uZW50CgogICAgZGVmIG9wZXJhdGlvbihzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fY29tcG9uZW50Lm9wZXJhdGlvbigpCgojIENvbmNyZXRlIERlY29yYXRvcnMKY2xhc3MgQ29uY3JldGVEZWNvcmF0b3JBKERlY29yYXRvcik6CiAgICBkZWYgb3BlcmF0aW9uKHNlbGYpOgogICAgICAgIHJldHVybiBmIkNvbmNyZXRlRGVjb3JhdG9yQSh7c2VsZi5fY29tcG9uZW50Lm9wZXJhdGlvbigpfSkiCgpjbGFzcyBDb25jcmV0ZURlY29yYXRvckIoRGVjb3JhdG9yKToKICAgIGRlZiBvcGVyYXRpb24oc2VsZik6CiAgICAgICAgcmV0dXJuIGYiQ29uY3JldGVEZWNvcmF0b3JCKHtzZWxmLl9jb21wb25lbnQub3BlcmF0aW9uKCl9KSIKCiMgVXNhZ2UKbGVhZiA9IExlYWYoKQpjb21wb3NpdGUgPSBDb21wb3NpdGUoKQpjb21wb3NpdGUuYWRkKGxlYWYpCmRlY29yYXRlZCA9IENvbmNyZXRlRGVjb3JhdG9yQShjb21wb3NpdGUpCnByaW50KGRlY29yYXRlZC5vcGVyYXRpb24oKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Component
class Component:
    def operation(self):
        pass

# Leaf
class Leaf(Component):
    def operation(self):
        return &quot;Leaf&quot;

# Composite
class Composite(Component):
    def __init__(self):
        self._children = []

    def add(self, component):
        self._children.append(component)

    def operation(self):
        results = []
        for child in self._children:
            results.append(child.operation())
        return f&quot;Composite({'+'.join(results)})&quot;

# Decorator
class Decorator(Component):
    def __init__(self, component):
        self._component = component

    def operation(self):
        return self._component.operation()

# Concrete Decorators
class ConcreteDecoratorA(Decorator):
    def operation(self):
        return f&quot;ConcreteDecoratorA({self._component.operation()})&quot;

class ConcreteDecoratorB(Decorator):
    def operation(self):
        return f&quot;ConcreteDecoratorB({self._component.operation()})&quot;

# Usage
leaf = Leaf()
composite = Composite()
composite.add(leaf)
decorated = ConcreteDecoratorA(composite)
print(decorated.operation())</pre></div><div class='content'></div><h1>Pattern Conflicts and Resolutions</h1>
<div class='content'><p>When combining patterns, conflicts may arise. Here are some common conflicts and their resolutions:</p>
<ol>
<li><strong>Interface Clashes</strong>: Different patterns may require different interfaces. Use adapters to resolve these clashes.</li>
<li><strong>Responsibility Overlap</strong>: Multiple patterns may try to handle the same responsibility. Clearly define the boundaries and responsibilities of each pattern.</li>
<li><strong>Increased Complexity</strong>: Combining patterns can make the design more complex. Ensure that the benefits outweigh the added complexity.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Combining design patterns is a powerful technique to solve complex software design problems. By understanding how patterns complement each other, you can create more flexible and maintainable systems. Always be mindful of potential conflicts and strive to keep the design as simple as possible while meeting the requirements.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='5-1-select-pattern'>&#x25C4;How to Select the Right Pattern</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Combining Design Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='5-3-patterns-modern-architectures'>Design Patterns in Modern Architectures &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
