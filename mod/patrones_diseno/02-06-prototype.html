<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/02-06-prototype" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/02-06-prototype" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/02-06-prototype" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/02-06-prototype" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/02-06-prototype" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-builder' title="Builder">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Prototype</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-introduction-structural' title="Introduction to Structural Patterns">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>The Prototype design pattern is a creational pattern that allows you to create new objects by copying an existing object, known as the prototype. This pattern is particularly useful when the cost of creating a new object is more expensive than copying an existing one.</p>
</div><h2><p>Key Concepts</p>
</h2>
<div class='content'><ul>
<li><strong>Prototype</strong>: The original object that is cloned to create new objects.</li>
<li><strong>Cloning</strong>: The process of creating a new object by copying the prototype.</li>
<li><strong>Shallow Copy vs. Deep Copy</strong>:
<ul>
<li><strong>Shallow Copy</strong>: Copies the object's structure but not the objects it references.</li>
<li><strong>Deep Copy</strong>: Copies the object and the objects it references.</li>
</ul>
</li>
</ul>
</div><h1><p>When to Use the Prototype Pattern</p>
</h1>
<div class='content'><ul>
<li>When the cost of creating a new object is high.</li>
<li>When you need to avoid subclasses of an object creator in the client application.</li>
<li>When you need to keep the number of classes in a system to a minimum.</li>
</ul>
</div><h1><p>Structure</p>
</h1>
<div class='content'><p>The Prototype pattern involves the following participants:</p>
<ol>
<li><strong>Prototype</strong>: Declares an interface for cloning itself.</li>
<li><strong>ConcretePrototype</strong>: Implements the cloning method.</li>
<li><strong>Client</strong>: Creates a new object by asking a prototype to clone itself.</li>
</ol>
</div><h2><p>UML Diagram</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCAgICBDbGllbnQgICAgICAgICB8ICAgICAgICAgIHwgICAgUHJvdG90eXBlICAgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCAtIHByb3RvdHlwZTogUHJvdG90eXBlICAgICAgIHwgKyBjbG9uZSgpOiBQcm90b3R5cGUgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CiAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgICAgICAgdiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYKKy0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCBDb25jcmV0ZVByb3RvdHlwZSB8ICAgICAgICAgIHwgQ29uY3JldGVQcm90b3R5cGUgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCArIGNsb25lKCk6IFByb3RvdHlwZSAgICAgICAgIHwgKyBjbG9uZSgpOiBQcm90b3R5cGUgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+-------------------+          +-----------------------+
|    Client         |          |    Prototype          |
+-------------------+          +-----------------------+
| - prototype: Prototype       | + clone(): Prototype  |
+-------------------+          +-----------------------+
          |                                    |
          |                                    |
          v                                    v
+-------------------+          +-----------------------+
| ConcretePrototype |          | ConcretePrototype     |
+-------------------+          +-----------------------+
| + clone(): Prototype         | + clone(): Prototype  |
+-------------------+          +-----------------------+</pre></div><div class='content'></div><h1><p>Implementation</p>
</h1>
<div class='content'></div><h2><p>Example in Python</p>
</h2>
<div class='content'><p>Let's implement the Prototype pattern in Python.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvcHkKCmNsYXNzIFByb3RvdHlwZToKICAgIGRlZiBjbG9uZShzZWxmKToKICAgICAgICBwYXNzCgpjbGFzcyBDb25jcmV0ZVByb3RvdHlwZTEoUHJvdG90eXBlKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB2YWx1ZSk6CiAgICAgICAgc2VsZi52YWx1ZSA9IHZhbHVlCgogICAgZGVmIGNsb25lKHNlbGYpOgogICAgICAgIHJldHVybiBjb3B5LmRlZXBjb3B5KHNlbGYpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYiQ29uY3JldGVQcm90b3R5cGUxIHdpdGggdmFsdWU6IHtzZWxmLnZhbHVlfSIKCmNsYXNzIENvbmNyZXRlUHJvdG90eXBlMihQcm90b3R5cGUpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHZhbHVlKToKICAgICAgICBzZWxmLnZhbHVlID0gdmFsdWUKCiAgICBkZWYgY2xvbmUoc2VsZik6CiAgICAgICAgcmV0dXJuIGNvcHkuZGVlcGNvcHkoc2VsZikKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZiJDb25jcmV0ZVByb3RvdHlwZTIgd2l0aCB2YWx1ZToge3NlbGYudmFsdWV9IgoKIyBDbGllbnQgY29kZQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgcHJvdG90eXBlMSA9IENvbmNyZXRlUHJvdG90eXBlMSgxMCkKICAgIHByb3RvdHlwZTIgPSBDb25jcmV0ZVByb3RvdHlwZTIoMjApCgogICAgY2xvbmUxID0gcHJvdG90eXBlMS5jbG9uZSgpCiAgICBjbG9uZTIgPSBwcm90b3R5cGUyLmNsb25lKCkKCiAgICBwcmludChjbG9uZTEpCiAgICBwcmludChjbG9uZTIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import copy

class Prototype:
    def clone(self):
        pass

class ConcretePrototype1(Prototype):
    def __init__(self, value):
        self.value = value

    def clone(self):
        return copy.deepcopy(self)

    def __str__(self):
        return f&quot;ConcretePrototype1 with value: {self.value}&quot;

class ConcretePrototype2(Prototype):
    def __init__(self, value):
        self.value = value

    def clone(self):
        return copy.deepcopy(self)

    def __str__(self):
        return f&quot;ConcretePrototype2 with value: {self.value}&quot;

# Client code
if __name__ == &quot;__main__&quot;:
    prototype1 = ConcretePrototype1(10)
    prototype2 = ConcretePrototype2(20)

    clone1 = prototype1.clone()
    clone2 = prototype2.clone()

    print(clone1)
    print(clone2)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ol>
<li><strong>Prototype Class</strong>: Defines the <code>clone</code> method that will be implemented by concrete prototypes.</li>
<li><strong>ConcretePrototype1 and ConcretePrototype2</strong>: Implement the <code>clone</code> method using <code>copy.deepcopy</code> to create a deep copy of the object.</li>
<li><strong>Client Code</strong>: Demonstrates the creation of clones from the prototypes.</li>
</ol>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Create a <code>Shape</code> class that implements the Prototype pattern.</li>
<li>Implement two concrete classes: <code>Circle</code> and <code>Rectangle</code>.</li>
<li>Each class should have a <code>clone</code> method and a method to display its properties.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvcHkKCmNsYXNzIFNoYXBlOgogICAgZGVmIGNsb25lKHNlbGYpOgogICAgICAgIHBhc3MKCmNsYXNzIENpcmNsZShTaGFwZSk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcmFkaXVzKToKICAgICAgICBzZWxmLnJhZGl1cyA9IHJhZGl1cwoKICAgIGRlZiBjbG9uZShzZWxmKToKICAgICAgICByZXR1cm4gY29weS5kZWVwY29weShzZWxmKQoKICAgIGRlZiBkaXNwbGF5KHNlbGYpOgogICAgICAgIHByaW50KGYiQ2lyY2xlIHdpdGggcmFkaXVzOiB7c2VsZi5yYWRpdXN9IikKCmNsYXNzIFJlY3RhbmdsZShTaGFwZSk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgd2lkdGgsIGhlaWdodCk6CiAgICAgICAgc2VsZi53aWR0aCA9IHdpZHRoCiAgICAgICAgc2VsZi5oZWlnaHQgPSBoZWlnaHQKCiAgICBkZWYgY2xvbmUoc2VsZik6CiAgICAgICAgcmV0dXJuIGNvcHkuZGVlcGNvcHkoc2VsZikKCiAgICBkZWYgZGlzcGxheShzZWxmKToKICAgICAgICBwcmludChmIlJlY3RhbmdsZSB3aXRoIHdpZHRoOiB7c2VsZi53aWR0aH0gYW5kIGhlaWdodDoge3NlbGYuaGVpZ2h0fSIpCgojIENsaWVudCBjb2RlCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBjaXJjbGUgPSBDaXJjbGUoNSkKICAgIHJlY3RhbmdsZSA9IFJlY3RhbmdsZSgxMCwgMjApCgogICAgY2lyY2xlX2Nsb25lID0gY2lyY2xlLmNsb25lKCkKICAgIHJlY3RhbmdsZV9jbG9uZSA9IHJlY3RhbmdsZS5jbG9uZSgpCgogICAgY2lyY2xlLmRpc3BsYXkoKQogICAgY2lyY2xlX2Nsb25lLmRpc3BsYXkoKQoKICAgIHJlY3RhbmdsZS5kaXNwbGF5KCkKICAgIHJlY3RhbmdsZV9jbG9uZS5kaXNwbGF5KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import copy

class Shape:
    def clone(self):
        pass

class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius

    def clone(self):
        return copy.deepcopy(self)

    def display(self):
        print(f&quot;Circle with radius: {self.radius}&quot;)

class Rectangle(Shape):
    def __init__(self, width, height):
        self.width = width
        self.height = height

    def clone(self):
        return copy.deepcopy(self)

    def display(self):
        print(f&quot;Rectangle with width: {self.width} and height: {self.height}&quot;)

# Client code
if __name__ == &quot;__main__&quot;:
    circle = Circle(5)
    rectangle = Rectangle(10, 20)

    circle_clone = circle.clone()
    rectangle_clone = rectangle.clone()

    circle.display()
    circle_clone.display()

    rectangle.display()
    rectangle_clone.display()</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ol>
<li><strong>Shape Class</strong>: Defines the <code>clone</code> method.</li>
<li><strong>Circle and Rectangle Classes</strong>: Implement the <code>clone</code> method and a <code>display</code> method to show their properties.</li>
<li><strong>Client Code</strong>: Creates clones of <code>Circle</code> and <code>Rectangle</code> objects and displays their properties.</li>
</ol>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'></div><h2><p>Common Mistakes</p>
</h2>
<div class='content'><ul>
<li><strong>Not Implementing Deep Copy</strong>: Failing to implement a deep copy when necessary can lead to shared references and unintended side effects.</li>
<li><strong>Ignoring Prototype Interface</strong>: Not following the prototype interface can lead to inconsistent cloning methods.</li>
</ul>
</div><h2><p>Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Use Libraries</strong>: Utilize libraries like <code>copy</code> in Python to simplify the cloning process.</li>
<li><strong>Test Clones</strong>: Always test cloned objects to ensure they behave as expected and do not share references with the original object.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>The Prototype pattern is a powerful tool for creating new objects by cloning existing ones. It is particularly useful when object creation is costly or complex. By understanding and implementing this pattern, you can improve the efficiency and flexibility of your software design.</p>
<p>In the next module, we will explore Structural Patterns, starting with an introduction to their concepts and applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-builder' title="Builder">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-introduction-structural' title="Introduction to Structural Patterns">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
