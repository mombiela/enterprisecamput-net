<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2: Creational Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/2-2-singleton" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/2-2-singleton" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/2-2-singleton" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/patrones_diseno/2-2-singleton" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/2-2-singleton" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='2-1-introduction-creational'>&#x25C4;Introduction to Creational Patterns</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 2: Creational Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='2-3-factory-method'>Factory Method &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Singleton</h1>
<div class='content'></div><h2>What is the Singleton Pattern?</h2>
<div class='content'><p>The Singleton pattern ensures that a class has only one instance and provides a global point of access to that instance. This is useful when exactly one object is needed to coordinate actions across the system.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li><strong>Single Instance</strong>: Only one instance of the class is created.</li>
<li><strong>Global Access</strong>: The instance is globally accessible.</li>
<li><strong>Controlled Instantiation</strong>: The class controls the instantiation process.</li>
</ol>
</div><h2>When to Use Singleton</h2>
<div class='content'><ul>
<li>When exactly one instance of a class is required.</li>
<li>When the single instance should be accessible by multiple parts of the application.</li>
<li>When you need to control access to shared resources, such as a configuration object or a connection pool.</li>
</ul>
</div><h2>Implementation</h2>
<div class='content'><h4>Basic Singleton Implementation in Python</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU2luZ2xldG9uOgogICAgX2luc3RhbmNlID0gTm9uZQoKICAgIGRlZiBfX25ld19fKGNscyk6CiAgICAgICAgaWYgY2xzLl9pbnN0YW5jZSBpcyBOb25lOgogICAgICAgICAgICBjbHMuX2luc3RhbmNlID0gc3VwZXIoU2luZ2xldG9uLCBjbHMpLl9fbmV3X18oY2xzKQogICAgICAgIHJldHVybiBjbHMuX2luc3RhbmNlCgojIFVzYWdlCnNpbmdsZXRvbjEgPSBTaW5nbGV0b24oKQpzaW5nbGV0b24yID0gU2luZ2xldG9uKCkKCnByaW50KHNpbmdsZXRvbjEgaXMgc2luZ2xldG9uMikgICMgT3V0cHV0OiBUcnVl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Singleton:
    _instance = None

    def __new__(cls):
        if cls._instance is None:
            cls._instance = super(Singleton, cls).__new__(cls)
        return cls._instance

# Usage
singleton1 = Singleton()
singleton2 = Singleton()

print(singleton1 is singleton2)  # Output: True</pre></div><div class='content'><h4>Explanation</h4>
<ol>
<li><strong>Class Variable <code>_instance</code></strong>: This variable holds the single instance of the class.</li>
<li><strong><code>__new__</code> Method</strong>: This method is overridden to control the instantiation process. It checks if an instance already exists; if not, it creates one.</li>
</ol>
</div><h2>Thread-Safe Singleton</h2>
<div class='content'><p>In a multi-threaded environment, the basic implementation may lead to multiple instances. To make it thread-safe:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwoKY2xhc3MgU2luZ2xldG9uOgogICAgX2luc3RhbmNlID0gTm9uZQogICAgX2xvY2sgPSB0aHJlYWRpbmcuTG9jaygpCgogICAgZGVmIF9fbmV3X18oY2xzKToKICAgICAgICB3aXRoIGNscy5fbG9jazoKICAgICAgICAgICAgaWYgY2xzLl9pbnN0YW5jZSBpcyBOb25lOgogICAgICAgICAgICAgICAgY2xzLl9pbnN0YW5jZSA9IHN1cGVyKFNpbmdsZXRvbiwgY2xzKS5fX25ld19fKGNscykKICAgICAgICByZXR1cm4gY2xzLl9pbnN0YW5jZQoKIyBVc2FnZQpzaW5nbGV0b24xID0gU2luZ2xldG9uKCkKc2luZ2xldG9uMiA9IFNpbmdsZXRvbigpCgpwcmludChzaW5nbGV0b24xIGlzIHNpbmdsZXRvbjIpICAjIE91dHB1dDogVHJ1ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading

class Singleton:
    _instance = None
    _lock = threading.Lock()

    def __new__(cls):
        with cls._lock:
            if cls._instance is None:
                cls._instance = super(Singleton, cls).__new__(cls)
        return cls._instance

# Usage
singleton1 = Singleton()
singleton2 = Singleton()

print(singleton1 is singleton2)  # Output: True</pre></div><div class='content'><h4>Explanation</h4>
<ol>
<li><strong>Lock Object</strong>: A lock object is used to ensure that only one thread can execute the instance creation code at a time.</li>
<li><strong><code>with cls._lock</code></strong>: This ensures that the block of code is executed by only one thread at a time.</li>
</ol>
</div><h2>Singleton in Different Languages</h2>
<div class='content'><h4>Java</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFNpbmdsZXRvbiB7CiAgICBwcml2YXRlIHN0YXRpYyBTaW5nbGV0b24gaW5zdGFuY2U7CgogICAgcHJpdmF0ZSBTaW5nbGV0b24oKSB7fQoKICAgIHB1YmxpYyBzdGF0aWMgc3luY2hyb25pemVkIFNpbmdsZXRvbiBnZXRJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkgewogICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBTaW5nbGV0b24oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluc3RhbmNlOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Singleton {
    private static Singleton instance;

    private Singleton() {}

    public static synchronized Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}</pre></div><div class='content'><h4>C#</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHNlYWxlZCBjbGFzcyBTaW5nbGV0b24gewogICAgcHJpdmF0ZSBzdGF0aWMgU2luZ2xldG9uIGluc3RhbmNlID0gbnVsbDsKICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IG9iamVjdCBwYWRsb2NrID0gbmV3IG9iamVjdCgpOwoKICAgIFNpbmdsZXRvbigpIHt9CgogICAgcHVibGljIHN0YXRpYyBTaW5nbGV0b24gSW5zdGFuY2UgewogICAgICAgIGdldCB7CiAgICAgICAgICAgIGxvY2sgKHBhZGxvY2spIHsKICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgU2luZ2xldG9uKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public sealed class Singleton {
    private static Singleton instance = null;
    private static readonly object padlock = new object();

    Singleton() {}

    public static Singleton Instance {
        get {
            lock (padlock) {
                if (instance == null) {
                    instance = new Singleton();
                }
                return instance;
            }
        }
    }
}</pre></div><div class='content'></div><h2>Advantages and Disadvantages</h2>
<div class='content'><h4>Advantages</h4>
<ul>
<li><strong>Controlled Access</strong>: Ensures that only one instance is created.</li>
<li><strong>Reduced Namespace Pollution</strong>: Avoids global variables.</li>
<li><strong>Lazy Initialization</strong>: The instance is created only when it is needed.</li>
</ul>
<h4>Disadvantages</h4>
<ul>
<li><strong>Global State</strong>: Can lead to issues if the global state is modified unexpectedly.</li>
<li><strong>Testing Difficulties</strong>: Singleton can make unit testing difficult due to its global state.</li>
<li><strong>Concurrency Issues</strong>: Requires careful implementation to be thread-safe.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='content'><p>The Singleton pattern is a powerful tool in software design, ensuring that a class has only one instance and providing a global point of access to it. While it offers controlled access and lazy initialization, it also comes with challenges such as potential global state issues and testing difficulties. Understanding when and how to use the Singleton pattern effectively is crucial for creating robust and maintainable software.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='2-1-introduction-creational'>&#x25C4;Introduction to Creational Patterns</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Module 2: Creational Patterns</a>
	</div>
	<div class='col-4 text-end'>
					<a href='2-3-factory-method'>Factory Method &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
