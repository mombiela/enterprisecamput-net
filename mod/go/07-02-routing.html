<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Routing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/07-02-routing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/07-02-routing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/07-02-routing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/go/07-02-routing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/go/07-02-routing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-building-a-simple-web-server' title="Building a Simple Web Server">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Routing</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-middleware' title="Middleware">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Routing is a fundamental concept in web development that involves directing incoming HTTP requests to the appropriate handler functions based on the URL and HTTP method. In Go, routing is typically handled using third-party packages like <code>gorilla/mux</code> or the built-in <code>net/http</code> package. This section will cover the basics of routing, how to set up routes, and how to handle different HTTP methods.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Router</strong>: A router is responsible for matching incoming requests to the appropriate handler functions.</li>
<li><strong>Route</strong>: A route defines a specific URL pattern and the handler function that should be executed when a request matches that pattern.</li>
<li><strong>Handler Function</strong>: A function that processes an HTTP request and generates a response.</li>
</ol>
</div><h1>Setting Up a Router</h1>
<div class='content'></div><h2>Using `net/http`</h2>
<div class='content'><p>The <code>net/http</code> package provides basic routing capabilities. Here's how you can set up a simple router using <code>net/http</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJuZXQvaHR0cCIKKQoKZnVuYyBob21lSGFuZGxlcih3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewogICAgZm10LkZwcmludGYodywgIldlbGNvbWUgdG8gdGhlIEhvbWUgUGFnZSEiKQp9CgpmdW5jIGFib3V0SGFuZGxlcih3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewogICAgZm10LkZwcmludGYodywgIlRoaXMgaXMgdGhlIEFib3V0IFBhZ2UuIikKfQoKZnVuYyBtYWluKCkgewogICAgaHR0cC5IYW5kbGVGdW5jKCIvIiwgaG9tZUhhbmRsZXIpCiAgICBodHRwLkhhbmRsZUZ1bmMoIi9hYm91dCIsIGFib3V0SGFuZGxlcikKCiAgICBmbXQuUHJpbnRsbigiU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydCA4MDgwIikKICAgIGh0dHAuTGlzdGVuQW5kU2VydmUoIjo4MDgwIiwgbmlsKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
)

func homeHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;Welcome to the Home Page!&quot;)
}

func aboutHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;This is the About Page.&quot;)
}

func main() {
    http.HandleFunc(&quot;/&quot;, homeHandler)
    http.HandleFunc(&quot;/about&quot;, aboutHandler)

    fmt.Println(&quot;Server is running on port 8080&quot;)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>http.HandleFunc(&quot;/&quot;, homeHandler)</code>: This line registers the <code>homeHandler</code> function to handle requests to the root URL (<code>/</code>).</li>
<li><code>http.HandleFunc(&quot;/about&quot;, aboutHandler)</code>: This line registers the <code>aboutHandler</code> function to handle requests to the <code>/about</code> URL.</li>
<li><code>http.ListenAndServe(&quot;:8080&quot;, nil)</code>: This line starts the HTTP server on port 8080.</li>
</ul>
</div><h2>Using `gorilla/mux`</h2>
<div class='content'><p><code>gorilla/mux</code> is a powerful routing package that provides more advanced routing capabilities. Here's how you can set up a router using <code>gorilla/mux</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJuZXQvaHR0cCIKICAgICJnaXRodWIuY29tL2dvcmlsbGEvbXV4IgopCgpmdW5jIGhvbWVIYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CiAgICBmbXQuRnByaW50Zih3LCAiV2VsY29tZSB0byB0aGUgSG9tZSBQYWdlISIpCn0KCmZ1bmMgYWJvdXRIYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CiAgICBmbXQuRnByaW50Zih3LCAiVGhpcyBpcyB0aGUgQWJvdXQgUGFnZS4iKQp9CgpmdW5jIG1haW4oKSB7CiAgICByIDo9IG11eC5OZXdSb3V0ZXIoKQogICAgci5IYW5kbGVGdW5jKCIvIiwgaG9tZUhhbmRsZXIpLk1ldGhvZHMoIkdFVCIpCiAgICByLkhhbmRsZUZ1bmMoIi9hYm91dCIsIGFib3V0SGFuZGxlcikuTWV0aG9kcygiR0VUIikKCiAgICBmbXQuUHJpbnRsbigiU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydCA4MDgwIikKICAgIGh0dHAuTGlzdGVuQW5kU2VydmUoIjo4MDgwIiwgcikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
    &quot;github.com/gorilla/mux&quot;
)

func homeHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;Welcome to the Home Page!&quot;)
}

func aboutHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;This is the About Page.&quot;)
}

func main() {
    r := mux.NewRouter()
    r.HandleFunc(&quot;/&quot;, homeHandler).Methods(&quot;GET&quot;)
    r.HandleFunc(&quot;/about&quot;, aboutHandler).Methods(&quot;GET&quot;)

    fmt.Println(&quot;Server is running on port 8080&quot;)
    http.ListenAndServe(&quot;:8080&quot;, r)
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>r := mux.NewRouter()</code>: This line creates a new router using <code>gorilla/mux</code>.</li>
<li><code>r.HandleFunc(&quot;/&quot;, homeHandler).Methods(&quot;GET&quot;)</code>: This line registers the <code>homeHandler</code> function to handle GET requests to the root URL (<code>/</code>).</li>
<li><code>r.HandleFunc(&quot;/about&quot;, aboutHandler).Methods(&quot;GET&quot;)</code>: This line registers the <code>aboutHandler</code> function to handle GET requests to the <code>/about</code> URL.</li>
<li><code>http.ListenAndServe(&quot;:8080&quot;, r)</code>: This line starts the HTTP server on port 8080, using the <code>gorilla/mux</code> router.</li>
</ul>
</div><h1>Handling Different HTTP Methods</h1>
<div class='content'><p>In web development, different HTTP methods (GET, POST, PUT, DELETE) are used to perform different actions. Here's how you can handle different HTTP methods using <code>gorilla/mux</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJuZXQvaHR0cCIKICAgICJnaXRodWIuY29tL2dvcmlsbGEvbXV4IgopCgpmdW5jIGdldEhhbmRsZXIodyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKICAgIGZtdC5GcHJpbnRmKHcsICJHRVQgcmVxdWVzdCByZWNlaXZlZCIpCn0KCmZ1bmMgcG9zdEhhbmRsZXIodyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKICAgIGZtdC5GcHJpbnRmKHcsICJQT1NUIHJlcXVlc3QgcmVjZWl2ZWQiKQp9CgpmdW5jIHB1dEhhbmRsZXIodyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKICAgIGZtdC5GcHJpbnRmKHcsICJQVVQgcmVxdWVzdCByZWNlaXZlZCIpCn0KCmZ1bmMgZGVsZXRlSGFuZGxlcih3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewogICAgZm10LkZwcmludGYodywgIkRFTEVURSByZXF1ZXN0IHJlY2VpdmVkIikKfQoKZnVuYyBtYWluKCkgewogICAgciA6PSBtdXguTmV3Um91dGVyKCkKICAgIHIuSGFuZGxlRnVuYygiL3Jlc291cmNlIiwgZ2V0SGFuZGxlcikuTWV0aG9kcygiR0VUIikKICAgIHIuSGFuZGxlRnVuYygiL3Jlc291cmNlIiwgcG9zdEhhbmRsZXIpLk1ldGhvZHMoIlBPU1QiKQogICAgci5IYW5kbGVGdW5jKCIvcmVzb3VyY2UiLCBwdXRIYW5kbGVyKS5NZXRob2RzKCJQVVQiKQogICAgci5IYW5kbGVGdW5jKCIvcmVzb3VyY2UiLCBkZWxldGVIYW5kbGVyKS5NZXRob2RzKCJERUxFVEUiKQoKICAgIGZtdC5QcmludGxuKCJTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0IDgwODAiKQogICAgaHR0cC5MaXN0ZW5BbmRTZXJ2ZSgiOjgwODAiLCByKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
    &quot;github.com/gorilla/mux&quot;
)

func getHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;GET request received&quot;)
}

func postHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;POST request received&quot;)
}

func putHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;PUT request received&quot;)
}

func deleteHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;DELETE request received&quot;)
}

func main() {
    r := mux.NewRouter()
    r.HandleFunc(&quot;/resource&quot;, getHandler).Methods(&quot;GET&quot;)
    r.HandleFunc(&quot;/resource&quot;, postHandler).Methods(&quot;POST&quot;)
    r.HandleFunc(&quot;/resource&quot;, putHandler).Methods(&quot;PUT&quot;)
    r.HandleFunc(&quot;/resource&quot;, deleteHandler).Methods(&quot;DELETE&quot;)

    fmt.Println(&quot;Server is running on port 8080&quot;)
    http.ListenAndServe(&quot;:8080&quot;, r)
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>r.HandleFunc(&quot;/resource&quot;, getHandler).Methods(&quot;GET&quot;)</code>: This line registers the <code>getHandler</code> function to handle GET requests to the <code>/resource</code> URL.</li>
<li><code>r.HandleFunc(&quot;/resource&quot;, postHandler).Methods(&quot;POST&quot;)</code>: This line registers the <code>postHandler</code> function to handle POST requests to the <code>/resource</code> URL.</li>
<li><code>r.HandleFunc(&quot;/resource&quot;, putHandler).Methods(&quot;PUT&quot;)</code>: This line registers the <code>putHandler</code> function to handle PUT requests to the <code>/resource</code> URL.</li>
<li><code>r.HandleFunc(&quot;/resource&quot;, deleteHandler).Methods(&quot;DELETE&quot;)</code>: This line registers the <code>deleteHandler</code> function to handle DELETE requests to the <code>/resource</code> URL.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task</h2>
<div class='content'><ol>
<li>Create a new Go project.</li>
<li>Set up a router using <code>gorilla/mux</code>.</li>
<li>Create handler functions for the following routes:
<ul>
<li><code>/</code>: Should return &quot;Welcome to the Home Page!&quot;</li>
<li><code>/about</code>: Should return &quot;This is the About Page.&quot;</li>
<li><code>/contact</code>: Should return &quot;Contact us at contact@example.com&quot;</li>
</ul>
</li>
<li>Start the server on port 8080.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJuZXQvaHR0cCIKICAgICJnaXRodWIuY29tL2dvcmlsbGEvbXV4IgopCgpmdW5jIGhvbWVIYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CiAgICBmbXQuRnByaW50Zih3LCAiV2VsY29tZSB0byB0aGUgSG9tZSBQYWdlISIpCn0KCmZ1bmMgYWJvdXRIYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CiAgICBmbXQuRnByaW50Zih3LCAiVGhpcyBpcyB0aGUgQWJvdXQgUGFnZS4iKQp9CgpmdW5jIGNvbnRhY3RIYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CiAgICBmbXQuRnByaW50Zih3LCAiQ29udGFjdCB1cyBhdCBjb250YWN0QGV4YW1wbGUuY29tIikKfQoKZnVuYyBtYWluKCkgewogICAgciA6PSBtdXguTmV3Um91dGVyKCkKICAgIHIuSGFuZGxlRnVuYygiLyIsIGhvbWVIYW5kbGVyKS5NZXRob2RzKCJHRVQiKQogICAgci5IYW5kbGVGdW5jKCIvYWJvdXQiLCBhYm91dEhhbmRsZXIpLk1ldGhvZHMoIkdFVCIpCiAgICByLkhhbmRsZUZ1bmMoIi9jb250YWN0IiwgY29udGFjdEhhbmRsZXIpLk1ldGhvZHMoIkdFVCIpCgogICAgZm10LlByaW50bG4oIlNlcnZlciBpcyBydW5uaW5nIG9uIHBvcnQgODA4MCIpCiAgICBodHRwLkxpc3RlbkFuZFNlcnZlKCI6ODA4MCIsIHIpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
    &quot;github.com/gorilla/mux&quot;
)

func homeHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;Welcome to the Home Page!&quot;)
}

func aboutHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;This is the About Page.&quot;)
}

func contactHandler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;Contact us at contact@example.com&quot;)
}

func main() {
    r := mux.NewRouter()
    r.HandleFunc(&quot;/&quot;, homeHandler).Methods(&quot;GET&quot;)
    r.HandleFunc(&quot;/about&quot;, aboutHandler).Methods(&quot;GET&quot;)
    r.HandleFunc(&quot;/contact&quot;, contactHandler).Methods(&quot;GET&quot;)

    fmt.Println(&quot;Server is running on port 8080&quot;)
    http.ListenAndServe(&quot;:8080&quot;, r)
}</pre></div><div class='content'></div><h2>Common Mistakes</h2>
<div class='content'><ol>
<li><strong>Not Specifying HTTP Methods</strong>: Always specify the HTTP methods for your routes to avoid unexpected behavior.</li>
<li><strong>Incorrect URL Patterns</strong>: Ensure that your URL patterns are correctly defined to match the incoming requests.</li>
<li><strong>Not Handling Errors</strong>: Always handle potential errors, such as failing to start the server.</li>
</ol>
</div><h2>Additional Tips</h2>
<div class='content'><ul>
<li>Use meaningful names for your handler functions to make your code more readable.</li>
<li>Organize your routes logically, grouping related routes together.</li>
<li>Consider using middleware for common tasks like logging, authentication, and error handling.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you learned about routing in Go, how to set up a router using both <code>net/http</code> and <code>gorilla/mux</code>, and how to handle different HTTP methods. You also completed a practical exercise to reinforce these concepts. In the next section, you will learn about middleware and how to use it to enhance your web applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-building-a-simple-web-server' title="Building a Simple Web Server">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-middleware' title="Middleware">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
