<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing in Go</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/testing-in-go" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/testing-in-go" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/testing-in-go" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/go/testing-in-go" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/go/testing-in-go" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='reflection'>&#x25C4;Reflection</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing in Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-go-applications'>Building and Deploying Go Applications &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Testing in Go</h1>
<div class='content'><p>Testing is a crucial part of software development, ensuring that your code behaves as expected. Go provides a robust testing framework as part of its standard library, making it easy to write and run tests.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Test Functions</strong>: Functions that test your code, typically named with the prefix <code>Test</code>.</li>
<li><strong>Test Files</strong>: Files that contain test functions, usually ending with <code>_test.go</code>.</li>
<li><strong>Test Packages</strong>: Packages that include test files and functions.</li>
<li><strong>Assertions</strong>: Statements that check if a condition is true, used to validate test results.</li>
<li><strong>Test Coverage</strong>: A measure of how much of your code is tested.</li>
</ul>
</div><h1>Writing Basic Tests</h1>
<div class='content'><p>In Go, tests are written in files ending with <code>_test.go</code> and use the <code>testing</code> package.</p>
</div><h2>Example: Basic Test Function</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWF0aF90ZXN0LmdvCnBhY2thZ2UgbWF0aAoKaW1wb3J0ICJ0ZXN0aW5nIgoKZnVuYyBUZXN0QWRkKHQgKnRlc3RpbmcuVCkgewogICAgcmVzdWx0IDo9IEFkZCgyLCAzKQogICAgaWYgcmVzdWx0ICE9IDUgewogICAgICAgIHQuRXJyb3JmKCJBZGQoMiwgMykgPSAlZDsgd2FudCA1IiwgcmVzdWx0KQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// math_test.go
package math

import &quot;testing&quot;

func TestAdd(t *testing.T) {
    result := Add(2, 3)
    if result != 5 {
        t.Errorf(&quot;Add(2, 3) = %d; want 5&quot;, result)
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li>The test function <code>TestAdd</code> checks if the <code>Add</code> function returns the correct result.</li>
<li><code>t.Errorf</code> is used to report an error if the result is not as expected.</li>
</ul>
</li>
</ul>
</div><h1>Running Tests</h1>
<div class='content'><p>To run tests, use the <code>go test</code> command in the terminal.</p>
</div><h2>Example: Running Tests</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBnbyB0ZXN0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ go test</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li>This command runs all tests in the current package.</li>
</ul>
</li>
</ul>
</div><h1>Table of Common Testing Functions</h1>
<div class='content'><p>| Function          | Description                                      |
|-------------------|--------------------------------------------------|
| <code>t.Error</code>         | Logs an error message but continues execution.   |
| <code>t.Errorf</code>        | Logs a formatted error message but continues execution. |
| <code>t.Fail</code>          | Marks the test as failed but continues execution.|
| <code>t.FailNow</code>       | Marks the test as failed and stops execution.    |
| <code>t.Fatal</code>         | Logs an error message and stops execution.       |
| <code>t.Fatalf</code>        | Logs a formatted error message and stops execution.|</p>
</div><h1>Advanced Testing Techniques</h1>
<div class='content'><p>As you become more comfortable with basic tests, you can explore more advanced techniques.</p>
</div><h2>Table-Driven Tests</h2>
<div class='content'><p>Table-driven tests use tables (slices) to test multiple cases in a single function.</p>
</div><h2>Example: Table-Driven Test</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBUZXN0QWRkKHQgKnRlc3RpbmcuVCkgewogICAgdGVzdHMgOj0gW11zdHJ1Y3QgewogICAgICAgIGEsIGIsIHdhbnQgaW50CiAgICB9ewogICAgICAgIHsxLCAxLCAyfSwKICAgICAgICB7MiwgMiwgNH0sCiAgICAgICAgezIsIC0yLCAwfSwKICAgIH0KCiAgICBmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewogICAgICAgIHQuUnVuKGZtdC5TcHJpbnRmKCIlZCslZCIsIHR0LmEsIHR0LmIpLCBmdW5jKHQgKnRlc3RpbmcuVCkgewogICAgICAgICAgICBnb3QgOj0gQWRkKHR0LmEsIHR0LmIpCiAgICAgICAgICAgIGlmIGdvdCAhPSB0dC53YW50IHsKICAgICAgICAgICAgICAgIHQuRXJyb3JmKCJBZGQoJWQsICVkKSA9ICVkOyB3YW50ICVkIiwgdHQuYSwgdHQuYiwgZ290LCB0dC53YW50KQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func TestAdd(t *testing.T) {
    tests := []struct {
        a, b, want int
    }{
        {1, 1, 2},
        {2, 2, 4},
        {2, -2, 0},
    }

    for _, tt := range tests {
        t.Run(fmt.Sprintf(&quot;%d+%d&quot;, tt.a, tt.b), func(t *testing.T) {
            got := Add(tt.a, tt.b)
            if got != tt.want {
                t.Errorf(&quot;Add(%d, %d) = %d; want %d&quot;, tt.a, tt.b, got, tt.want)
            }
        })
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li>The <code>tests</code> slice contains multiple test cases.</li>
<li><code>t.Run</code> is used to run each test case as a subtest.</li>
</ul>
</li>
</ul>
</div><h2>Benchmarking</h2>
<div class='content'><p>Go also supports benchmarking to measure the performance of your code.</p>
</div><h2>Example: Benchmark Function</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBCZW5jaG1hcmtBZGQoYiAqdGVzdGluZy5CKSB7CiAgICBmb3IgaSA6PSAwOyBpIDwgYi5OOyBpKysgewogICAgICAgIEFkZCgxLCAyKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func BenchmarkAdd(b *testing.B) {
    for i := 0; i &lt; b.N; i++ {
        Add(1, 2)
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li>The benchmark function <code>BenchmarkAdd</code> measures how many times <code>Add</code> can be executed in a given period.</li>
</ul>
</li>
</ul>
</div><h1>Mocking and Stubbing</h1>
<div class='content'><p>For more complex tests, you might need to mock or stub dependencies.</p>
</div><h2>Example: Mocking a Dependency</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBNb2NrRGF0YWJhc2Ugc3RydWN0e30KCmZ1bmMgKG0gKk1vY2tEYXRhYmFzZSkgR2V0VXNlcihpZCBpbnQpIFVzZXIgewogICAgcmV0dXJuIFVzZXJ7SUQ6IGlkLCBOYW1lOiAiTW9jayBVc2VyIn0KfQoKZnVuYyBUZXN0R2V0VXNlcih0ICp0ZXN0aW5nLlQpIHsKICAgIGRiIDo9ICZNb2NrRGF0YWJhc2V7fQogICAgdXNlciA6PSBkYi5HZXRVc2VyKDEpCiAgICBpZiB1c2VyLk5hbWUgIT0gIk1vY2sgVXNlciIgewogICAgICAgIHQuRXJyb3JmKCJFeHBlY3RlZCAnTW9jayBVc2VyJywgZ290ICVzIiwgdXNlci5OYW1lKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type MockDatabase struct{}

func (m *MockDatabase) GetUser(id int) User {
    return User{ID: id, Name: &quot;Mock User&quot;}
}

func TestGetUser(t *testing.T) {
    db := &amp;MockDatabase{}
    user := db.GetUser(1)
    if user.Name != &quot;Mock User&quot; {
        t.Errorf(&quot;Expected 'Mock User', got %s&quot;, user.Name)
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>MockDatabase</code> is a mock implementation of a database.</li>
<li>The test checks if <code>GetUser</code> returns the expected mock user.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Testing in Go is straightforward and powerful, thanks to its built-in testing framework. By mastering basic tests, table-driven tests, benchmarking, and mocking, you can ensure your Go code is reliable and performant. Regular testing helps catch bugs early and improves code quality, making it an essential skill for any Go developer.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='reflection'>&#x25C4;Reflection</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing in Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-go-applications'>Building and Deploying Go Applications &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
