<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrating with Databases</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/integrating-with-databases" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/integrating-with-databases" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/integrating-with-databases" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/go/integrating-with-databases" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/go/integrating-with-databases" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='microservices-with-go'>&#x25C4;Microservices with Go</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integrating with Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-overview'>Project Overview &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Integrating with databases is a crucial skill for any Go developer. This section will cover how to connect to databases, perform CRUD (Create, Read, Update, Delete) operations, and use ORM (Object-Relational Mapping) tools in Go. By the end of this section, you will be able to efficiently interact with databases in your Go applications.</p>
</div><h1>Connecting to a Database</h1>
<div class='content'><p>To interact with a database in Go, you typically use the <code>database/sql</code> package along with a database driver.</p>
</div><h2>Installing a Database Driver</h2>
<div class='content'><p>First, you need to install a database driver. For example, to connect to a MySQL database, you can use the <code>go-sql-driver/mysql</code> package.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z28gZ2V0IC11IGdpdGh1Yi5jb20vZ28tc3FsLWRyaXZlci9teXNxbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>go get -u github.com/go-sql-driver/mysql</pre></div><div class='content'></div><h2>Establishing a Connection</h2>
<div class='content'><p>Here’s how you can establish a connection to a MySQL database:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImRhdGFiYXNlL3NxbCIKICAgICJmbXQiCiAgICBfICJnaXRodWIuY29tL2dvLXNxbC1kcml2ZXIvbXlzcWwiCikKCmZ1bmMgbWFpbigpIHsKICAgIGRzbiA6PSAidXNlcm5hbWU6cGFzc3dvcmRAdGNwKDEyNy4wLjAuMTozMzA2KS9kYm5hbWUiCiAgICBkYiwgZXJyIDo9IHNxbC5PcGVuKCJteXNxbCIsIGRzbikKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHBhbmljKGVycikKICAgIH0KICAgIGRlZmVyIGRiLkNsb3NlKCkKCiAgICAvLyBDaGVjayBpZiB0aGUgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsCiAgICBlcnIgPSBkYi5QaW5nKCkKICAgIGlmIGVyciAhPSBuaWwgewogICAgICAgIHBhbmljKGVycikKICAgIH0KCiAgICBmbXQuUHJpbnRsbigiQ29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZSBzdWNjZXNzZnVsbHkhIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;database/sql&quot;
    &quot;fmt&quot;
    _ &quot;github.com/go-sql-driver/mysql&quot;
)

func main() {
    dsn := &quot;username:password@tcp(127.0.0.1:3306)/dbname&quot;
    db, err := sql.Open(&quot;mysql&quot;, dsn)
    if err != nil {
        panic(err)
    }
    defer db.Close()

    // Check if the connection is successful
    err = db.Ping()
    if err != nil {
        panic(err)
    }

    fmt.Println(&quot;Connected to the database successfully!&quot;)
}</pre></div><div class='content'><ul>
<li><strong>dsn</strong>: Data Source Name, which includes the username, password, host, port, and database name.</li>
<li><strong>sql.Open</strong>: Opens a database connection.</li>
<li><strong>db.Ping</strong>: Verifies the connection to the database.</li>
</ul>
</div><h1>Performing CRUD Operations</h1>
<div class='content'><p>CRUD operations are fundamental when working with databases. Let's explore how to perform these operations in Go.</p>
</div><h2>Create</h2>
<div class='content'><p>To insert data into a database, you use the <code>Exec</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBjcmVhdGVVc2VyKGRiICpzcWwuREIsIG5hbWUgc3RyaW5nLCBhZ2UgaW50KSBlcnJvciB7CiAgICBxdWVyeSA6PSAiSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGFnZSkgVkFMVUVTICg/LCA/KSIKICAgIF8sIGVyciA6PSBkYi5FeGVjKHF1ZXJ5LCBuYW1lLCBhZ2UpCiAgICByZXR1cm4gZXJyCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func createUser(db *sql.DB, name string, age int) error {
    query := &quot;INSERT INTO users (name, age) VALUES (?, ?)&quot;
    _, err := db.Exec(query, name, age)
    return err
}</pre></div><div class='content'></div><h2>Read</h2>
<div class='content'><p>To read data from a database, you use the <code>Query</code> or <code>QueryRow</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBnZXRVc2VyKGRiICpzcWwuREIsIGlkIGludCkgKHN0cmluZywgaW50LCBlcnJvcikgewogICAgdmFyIG5hbWUgc3RyaW5nCiAgICB2YXIgYWdlIGludAogICAgcXVlcnkgOj0gIlNFTEVDVCBuYW1lLCBhZ2UgRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8iCiAgICBlcnIgOj0gZGIuUXVlcnlSb3cocXVlcnksIGlkKS5TY2FuKCZuYW1lLCAmYWdlKQogICAgcmV0dXJuIG5hbWUsIGFnZSwgZXJyCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func getUser(db *sql.DB, id int) (string, int, error) {
    var name string
    var age int
    query := &quot;SELECT name, age FROM users WHERE id = ?&quot;
    err := db.QueryRow(query, id).Scan(&amp;name, &amp;age)
    return name, age, err
}</pre></div><div class='content'></div><h2>Update</h2>
<div class='content'><p>To update existing data, you use the <code>Exec</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyB1cGRhdGVVc2VyKGRiICpzcWwuREIsIGlkIGludCwgbmFtZSBzdHJpbmcsIGFnZSBpbnQpIGVycm9yIHsKICAgIHF1ZXJ5IDo9ICJVUERBVEUgdXNlcnMgU0VUIG5hbWUgPSA/LCBhZ2UgPSA/IFdIRVJFIGlkID0gPyIKICAgIF8sIGVyciA6PSBkYi5FeGVjKHF1ZXJ5LCBuYW1lLCBhZ2UsIGlkKQogICAgcmV0dXJuIGVycgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func updateUser(db *sql.DB, id int, name string, age int) error {
    query := &quot;UPDATE users SET name = ?, age = ? WHERE id = ?&quot;
    _, err := db.Exec(query, name, age, id)
    return err
}</pre></div><div class='content'></div><h2>Delete</h2>
<div class='content'><p>To delete data, you also use the <code>Exec</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBkZWxldGVVc2VyKGRiICpzcWwuREIsIGlkIGludCkgZXJyb3IgewogICAgcXVlcnkgOj0gIkRFTEVURSBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPyIKICAgIF8sIGVyciA6PSBkYi5FeGVjKHF1ZXJ5LCBpZCkKICAgIHJldHVybiBlcnIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func deleteUser(db *sql.DB, id int) error {
    query := &quot;DELETE FROM users WHERE id = ?&quot;
    _, err := db.Exec(query, id)
    return err
}</pre></div><div class='content'></div><h1>Using ORM with Go</h1>
<div class='content'><p>Object-Relational Mapping (ORM) tools can simplify database interactions by allowing you to work with objects instead of raw SQL queries. One popular ORM for Go is GORM.</p>
</div><h2>Installing GORM</h2>
<div class='content'><p>First, install GORM and the database driver.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z28gZ2V0IC11IGdvcm0uaW8vZ29ybQpnbyBnZXQgLXUgZ29ybS5pby9kcml2ZXIvbXlzcWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>go get -u gorm.io/gorm
go get -u gorm.io/driver/mysql</pre></div><div class='content'></div><h2>Connecting with GORM</h2>
<div class='content'><p>Here’s how to establish a connection using GORM:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImdvcm0uaW8vZHJpdmVyL215c3FsIgogICAgImdvcm0uaW8vZ29ybSIKICAgICJmbXQiCikKCmZ1bmMgbWFpbigpIHsKICAgIGRzbiA6PSAidXNlcm5hbWU6cGFzc3dvcmRAdGNwKDEyNy4wLjAuMTozMzA2KS9kYm5hbWUiCiAgICBkYiwgZXJyIDo9IGdvcm0uT3BlbihteXNxbC5PcGVuKGRzbiksICZnb3JtLkNvbmZpZ3t9KQogICAgaWYgZXJyICE9IG5pbCB7CiAgICAgICAgcGFuaWMoZXJyKQogICAgfQoKICAgIGZtdC5QcmludGxuKCJDb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlIHN1Y2Nlc3NmdWxseSB3aXRoIEdPUk0hIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;gorm.io/driver/mysql&quot;
    &quot;gorm.io/gorm&quot;
    &quot;fmt&quot;
)

func main() {
    dsn := &quot;username:password@tcp(127.0.0.1:3306)/dbname&quot;
    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})
    if err != nil {
        panic(err)
    }

    fmt.Println(&quot;Connected to the database successfully with GORM!&quot;)
}</pre></div><div class='content'></div><h2>Defining Models</h2>
<div class='content'><p>Define a model to represent a table in the database.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBVc2VyIHN0cnVjdCB7CiAgICBJRCAgIHVpbnQgICBgZ29ybToicHJpbWFyeUtleSJgCiAgICBOYW1lIHN0cmluZwogICAgQWdlICBpbnQKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type User struct {
    ID   uint   `gorm:&quot;primaryKey&quot;`
    Name string
    Age  int
}</pre></div><div class='content'></div><h2>Performing CRUD Operations with GORM</h2>
<div class='content'><p>GORM makes CRUD operations straightforward.</p>
<h4>Create</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBjcmVhdGVVc2VyKGRiICpnb3JtLkRCLCB1c2VyIFVzZXIpIGVycm9yIHsKICAgIHJldHVybiBkYi5DcmVhdGUoJnVzZXIpLkVycm9yCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func createUser(db *gorm.DB, user User) error {
    return db.Create(&amp;user).Error
}</pre></div><div class='content'><h4>Read</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBnZXRVc2VyKGRiICpnb3JtLkRCLCBpZCB1aW50KSAoVXNlciwgZXJyb3IpIHsKICAgIHZhciB1c2VyIFVzZXIKICAgIGVyciA6PSBkYi5GaXJzdCgmdXNlciwgaWQpLkVycm9yCiAgICByZXR1cm4gdXNlciwgZXJyCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func getUser(db *gorm.DB, id uint) (User, error) {
    var user User
    err := db.First(&amp;user, id).Error
    return user, err
}</pre></div><div class='content'><h4>Update</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyB1cGRhdGVVc2VyKGRiICpnb3JtLkRCLCB1c2VyIFVzZXIpIGVycm9yIHsKICAgIHJldHVybiBkYi5TYXZlKCZ1c2VyKS5FcnJvcgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func updateUser(db *gorm.DB, user User) error {
    return db.Save(&amp;user).Error
}</pre></div><div class='content'><h4>Delete</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBkZWxldGVVc2VyKGRiICpnb3JtLkRCLCBpZCB1aW50KSBlcnJvciB7CiAgICByZXR1cm4gZGIuRGVsZXRlKCZVc2Vye30sIGlkKS5FcnJvcgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func deleteUser(db *gorm.DB, id uint) error {
    return db.Delete(&amp;User{}, id).Error
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Integrating with databases in Go involves understanding how to connect to a database, perform CRUD operations, and optionally use an ORM for more complex applications. With the <code>database/sql</code> package and tools like GORM, you can efficiently manage database interactions in your Go applications. Practice these concepts with different databases and scenarios to solidify your understanding and become proficient in database integration with Go.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='microservices-with-go'>&#x25C4;Microservices with Go</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integrating with Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-overview'>Project Overview &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
