<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goroutines</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/goroutines" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/goroutines" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/goroutines" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/go/goroutines" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/go/goroutines" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='panic-and-recover'>&#x25C4;Panic and Recover</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Goroutines</a>
	</div>
	<div class='col-4 text-end'>
					<a href='channels'>Channels &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Goroutines are a fundamental concept in Go that allow you to run functions concurrently. They are lightweight and managed by the Go runtime, making them an efficient way to handle multiple tasks simultaneously.</p>
</div><h1>What is a Goroutine?</h1>
<div class='content'><ul>
<li>A goroutine is a function that is capable of running concurrently with other functions.</li>
<li>Goroutines are managed by the Go runtime, which handles their scheduling and execution.</li>
<li>They are much lighter than traditional threads, allowing you to run thousands of goroutines without significant overhead.</li>
</ul>
</div><h1>Creating a Goroutine</h1>
<div class='content'><p>To create a goroutine, you simply use the <code>go</code> keyword followed by the function call.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJ0aW1lIgopCgpmdW5jIHNheUhlbGxvKCkgewogICAgZm10LlByaW50bG4oIkhlbGxvLCBXb3JsZCEiKQp9CgpmdW5jIG1haW4oKSB7CiAgICBnbyBzYXlIZWxsbygpIC8vIFRoaXMgc3RhcnRzIGEgbmV3IGdvcm91dGluZQogICAgdGltZS5TbGVlcCgxICogdGltZS5TZWNvbmQpIC8vIFdhaXQgZm9yIHRoZSBnb3JvdXRpbmUgdG8gZmluaXNoCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;time&quot;
)

func sayHello() {
    fmt.Println(&quot;Hello, World!&quot;)
}

func main() {
    go sayHello() // This starts a new goroutine
    time.Sleep(1 * time.Second) // Wait for the goroutine to finish
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>go sayHello()</code> starts a new goroutine that runs the <code>sayHello</code> function.</li>
<li><code>time.Sleep(1 * time.Second)</code> is used to give the goroutine time to complete before the main function exits.</li>
</ul>
</div><h1>Synchronization</h1>
<div class='content'><p>Goroutines run concurrently, which means they can execute at the same time. This can lead to race conditions if they access shared resources. To handle this, Go provides several synchronization mechanisms.</p>
</div><h2>WaitGroup</h2>
<div class='content'><p>A <code>WaitGroup</code> waits for a collection of goroutines to finish.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJzeW5jIgopCgpmdW5jIHNheUhlbGxvKHdnICpzeW5jLldhaXRHcm91cCkgewogICAgZGVmZXIgd2cuRG9uZSgpIC8vIE5vdGlmeSB0aGUgV2FpdEdyb3VwIHRoYXQgdGhpcyBnb3JvdXRpbmUgaXMgZG9uZQogICAgZm10LlByaW50bG4oIkhlbGxvLCBXb3JsZCEiKQp9CgpmdW5jIG1haW4oKSB7CiAgICB2YXIgd2cgc3luYy5XYWl0R3JvdXAKICAgIHdnLkFkZCgxKSAvLyBBZGQgYSBnb3JvdXRpbmUgdG8gdGhlIFdhaXRHcm91cAogICAgZ28gc2F5SGVsbG8oJndnKQogICAgd2cuV2FpdCgpIC8vIFdhaXQgZm9yIGFsbCBnb3JvdXRpbmVzIGluIHRoZSBXYWl0R3JvdXAgdG8gZmluaXNoCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;sync&quot;
)

func sayHello(wg *sync.WaitGroup) {
    defer wg.Done() // Notify the WaitGroup that this goroutine is done
    fmt.Println(&quot;Hello, World!&quot;)
}

func main() {
    var wg sync.WaitGroup
    wg.Add(1) // Add a goroutine to the WaitGroup
    go sayHello(&amp;wg)
    wg.Wait() // Wait for all goroutines in the WaitGroup to finish
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>wg.Add(1)</code> increments the WaitGroup counter.</li>
<li><code>wg.Done()</code> decrements the counter when the goroutine finishes.</li>
<li><code>wg.Wait()</code> blocks until the counter is zero.</li>
</ul>
</div><h2>Channels</h2>
<div class='content'><p>Channels provide a way for goroutines to communicate with each other and synchronize their execution.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKKQoKZnVuYyBzYXlIZWxsbyhjaCBjaGFuIHN0cmluZykgewogICAgY2ggPC0gIkhlbGxvLCBXb3JsZCEiIC8vIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBjaGFubmVsCn0KCmZ1bmMgbWFpbigpIHsKICAgIGNoIDo9IG1ha2UoY2hhbiBzdHJpbmcpCiAgICBnbyBzYXlIZWxsbyhjaCkKICAgIG1zZyA6PSA8LWNoIC8vIFJlY2VpdmUgdGhlIG1lc3NhZ2UgZnJvbSB0aGUgY2hhbm5lbAogICAgZm10LlByaW50bG4obXNnKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
)

func sayHello(ch chan string) {
    ch &lt;- &quot;Hello, World!&quot; // Send a message to the channel
}

func main() {
    ch := make(chan string)
    go sayHello(ch)
    msg := &lt;-ch // Receive the message from the channel
    fmt.Println(msg)
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>ch := make(chan string)</code> creates a new channel.</li>
<li><code>ch &lt;- &quot;Hello, World!&quot;</code> sends a message to the channel.</li>
<li><code>msg := &lt;-ch</code> receives the message from the channel.</li>
</ul>
</div><h1>Buffered Channels</h1>
<div class='content'><p>Buffered channels allow you to specify the capacity of the channel, which can store multiple values before blocking.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKKQoKZnVuYyBtYWluKCkgewogICAgY2ggOj0gbWFrZShjaGFuIHN0cmluZywgMikgLy8gQ3JlYXRlIGEgYnVmZmVyZWQgY2hhbm5lbCB3aXRoIGNhcGFjaXR5IDIKICAgIGNoIDwtICJIZWxsbyIKICAgIGNoIDwtICJXb3JsZCIKICAgIGZtdC5QcmludGxuKDwtY2gpIC8vIFJlY2VpdmUgdGhlIGZpcnN0IG1lc3NhZ2UKICAgIGZtdC5QcmludGxuKDwtY2gpIC8vIFJlY2VpdmUgdGhlIHNlY29uZCBtZXNzYWdlCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
)

func main() {
    ch := make(chan string, 2) // Create a buffered channel with capacity 2
    ch &lt;- &quot;Hello&quot;
    ch &lt;- &quot;World&quot;
    fmt.Println(&lt;-ch) // Receive the first message
    fmt.Println(&lt;-ch) // Receive the second message
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>ch := make(chan string, 2)</code> creates a buffered channel with a capacity of 2.</li>
<li>The channel can store two messages before blocking.</li>
</ul>
</div><h1>Select Statement</h1>
<div class='content'><p>The <code>select</code> statement lets you wait on multiple channel operations.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJ0aW1lIgopCgpmdW5jIG1haW4oKSB7CiAgICBjaDEgOj0gbWFrZShjaGFuIHN0cmluZykKICAgIGNoMiA6PSBtYWtlKGNoYW4gc3RyaW5nKQoKICAgIGdvIGZ1bmMoKSB7CiAgICAgICAgdGltZS5TbGVlcCgxICogdGltZS5TZWNvbmQpCiAgICAgICAgY2gxIDwtICJvbmUiCiAgICB9KCkKCiAgICBnbyBmdW5jKCkgewogICAgICAgIHRpbWUuU2xlZXAoMiAqIHRpbWUuU2Vjb25kKQogICAgICAgIGNoMiA8LSAidHdvIgogICAgfSgpCgogICAgZm9yIGkgOj0gMDsgaSA8IDI7IGkrKyB7CiAgICAgICAgc2VsZWN0IHsKICAgICAgICBjYXNlIG1zZzEgOj0gPC1jaDE6CiAgICAgICAgICAgIGZtdC5QcmludGxuKCJSZWNlaXZlZCIsIG1zZzEpCiAgICAgICAgY2FzZSBtc2cyIDo9IDwtY2gyOgogICAgICAgICAgICBmbXQuUHJpbnRsbigiUmVjZWl2ZWQiLCBtc2cyKQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;time&quot;
)

func main() {
    ch1 := make(chan string)
    ch2 := make(chan string)

    go func() {
        time.Sleep(1 * time.Second)
        ch1 &lt;- &quot;one&quot;
    }()

    go func() {
        time.Sleep(2 * time.Second)
        ch2 &lt;- &quot;two&quot;
    }()

    for i := 0; i &lt; 2; i++ {
        select {
        case msg1 := &lt;-ch1:
            fmt.Println(&quot;Received&quot;, msg1)
        case msg2 := &lt;-ch2:
            fmt.Println(&quot;Received&quot;, msg2)
        }
    }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>select</code> waits for either <code>ch1</code> or <code>ch2</code> to receive a message.</li>
<li>The first message received is printed, and the loop continues until both messages are received.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Goroutines are a powerful feature in Go that enable concurrent programming with ease. By understanding how to create and manage goroutines, use synchronization mechanisms like <code>WaitGroup</code> and channels, and handle multiple channel operations with the <code>select</code> statement, you can write efficient and concurrent Go programs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='panic-and-recover'>&#x25C4;Panic and Recover</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Goroutines</a>
	</div>
	<div class='col-4 text-end'>
					<a href='channels'>Channels &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
