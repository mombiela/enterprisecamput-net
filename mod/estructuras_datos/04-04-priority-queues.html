<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Priority Queues</title>

    <link rel="alternate" href="https://campusempresa.com/mod/estructuras_datos/04-04-colas-prioridad" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/estructuras_datos/04-04-cues-prioritat" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/estructuras_datos/04-04-priority-queues" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/estructuras_datos/04-04-colas-prioridad" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/estructuras_datos/04-04-cues-prioritat" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-03-circular-queues' title="Circular Queues">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Priority Queues</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-05-exercises-queues' title="Exercises with Queues">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>A priority queue is a special type of queue in which each element is associated with a priority. Elements are served based on their priority rather than their order in the queue. The element with the highest priority is served before the elements with lower priority.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Priority</strong>: Each element in the priority queue has a priority level.</li>
<li><strong>Order of Service</strong>: Elements are dequeued based on their priority, not their insertion order.</li>
<li><strong>Implementation</strong>: Priority queues can be implemented using various data structures such as arrays, linked lists, heaps, and binary search trees.</li>
</ul>
</div><h1>Types of Priority Queues</h1>
<div class='content'><ol>
<li><strong>Max-Priority Queue</strong>: The element with the highest priority is dequeued first.</li>
<li><strong>Min-Priority Queue</strong>: The element with the lowest priority is dequeued first.</li>
</ol>
</div><h1>Use Cases</h1>
<div class='content'><ul>
<li><strong>Task Scheduling</strong>: Operating systems use priority queues to manage tasks.</li>
<li><strong>Dijkstra's Algorithm</strong>: Used in graph algorithms to find the shortest path.</li>
<li><strong>Event Simulation</strong>: Managing events in simulations where events have different priorities.</li>
</ul>
</div><h1>Implementation</h1>
<div class='content'></div><h2>Using a Heap</h2>
<div class='content'><p>A common and efficient way to implement a priority queue is using a binary heap. A binary heap is a complete binary tree that satisfies the heap property.</p>
<h4>Max-Heap Property</h4>
<p>In a max-heap, for any given node <code>i</code>, the value of <code>i</code> is greater than or equal to the values of its children.</p>
<h4>Min-Heap Property</h4>
<p>In a min-heap, for any given node <code>i</code>, the value of <code>i</code> is less than or equal to the values of its children.</p>
</div><h2>Python Implementation</h2>
<div class='content'><p>Let's implement a priority queue using a min-heap in Python.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGhlYXBxCgpjbGFzcyBQcmlvcml0eVF1ZXVlOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuaGVhcCA9IFtdCgogICAgZGVmIHB1c2goc2VsZiwgaXRlbSwgcHJpb3JpdHkpOgogICAgICAgIGhlYXBxLmhlYXBwdXNoKHNlbGYuaGVhcCwgKHByaW9yaXR5LCBpdGVtKSkKCiAgICBkZWYgcG9wKHNlbGYpOgogICAgICAgIHJldHVybiBoZWFwcS5oZWFwcG9wKHNlbGYuaGVhcClbMV0KCiAgICBkZWYgaXNfZW1wdHkoc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmhlYXApID09IDAKCiMgRXhhbXBsZSB1c2FnZQpwcSA9IFByaW9yaXR5UXVldWUoKQpwcS5wdXNoKCJ0YXNrMSIsIDMpCnBxLnB1c2goInRhc2syIiwgMSkKcHEucHVzaCgidGFzazMiLCAyKQoKd2hpbGUgbm90IHBxLmlzX2VtcHR5KCk6CiAgICBwcmludChwcS5wb3AoKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import heapq

class PriorityQueue:
    def __init__(self):
        self.heap = []

    def push(self, item, priority):
        heapq.heappush(self.heap, (priority, item))

    def pop(self):
        return heapq.heappop(self.heap)[1]

    def is_empty(self):
        return len(self.heap) == 0

# Example usage
pq = PriorityQueue()
pq.push(&quot;task1&quot;, 3)
pq.push(&quot;task2&quot;, 1)
pq.push(&quot;task3&quot;, 2)

while not pq.is_empty():
    print(pq.pop())</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li><strong>Initialization</strong>: We initialize an empty list <code>self.heap</code> to store the heap elements.</li>
<li><strong>Push Method</strong>: The <code>push</code> method uses <code>heapq.heappush</code> to add an element to the heap. The element is a tuple <code>(priority, item)</code>.</li>
<li><strong>Pop Method</strong>: The <code>pop</code> method uses <code>heapq.heappop</code> to remove and return the element with the highest priority (lowest value in a min-heap).</li>
<li><strong>Is_Empty Method</strong>: The <code>is_empty</code> method checks if the heap is empty.</li>
</ol>
</div><h2>Practical Exercise</h2>
<div class='content'><h4>Exercise 1: Implement a Max-Priority Queue</h4>
<p>Modify the above implementation to create a max-priority queue.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGhlYXBxCgpjbGFzcyBNYXhQcmlvcml0eVF1ZXVlOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuaGVhcCA9IFtdCgogICAgZGVmIHB1c2goc2VsZiwgaXRlbSwgcHJpb3JpdHkpOgogICAgICAgIGhlYXBxLmhlYXBwdXNoKHNlbGYuaGVhcCwgKC1wcmlvcml0eSwgaXRlbSkpCgogICAgZGVmIHBvcChzZWxmKToKICAgICAgICByZXR1cm4gaGVhcHEuaGVhcHBvcChzZWxmLmhlYXApWzFdCgogICAgZGVmIGlzX2VtcHR5KHNlbGYpOgogICAgICAgIHJldHVybiBsZW4oc2VsZi5oZWFwKSA9PSAwCgojIEV4YW1wbGUgdXNhZ2UKcHEgPSBNYXhQcmlvcml0eVF1ZXVlKCkKcHEucHVzaCgidGFzazEiLCAzKQpwcS5wdXNoKCJ0YXNrMiIsIDEpCnBxLnB1c2goInRhc2szIiwgMikKCndoaWxlIG5vdCBwcS5pc19lbXB0eSgpOgogICAgcHJpbnQocHEucG9wKCkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import heapq

class MaxPriorityQueue:
    def __init__(self):
        self.heap = []

    def push(self, item, priority):
        heapq.heappush(self.heap, (-priority, item))

    def pop(self):
        return heapq.heappop(self.heap)[1]

    def is_empty(self):
        return len(self.heap) == 0

# Example usage
pq = MaxPriorityQueue()
pq.push(&quot;task1&quot;, 3)
pq.push(&quot;task2&quot;, 1)
pq.push(&quot;task3&quot;, 2)

while not pq.is_empty():
    print(pq.pop())</pre></div><div class='content'></div><h2>Solution Explanation</h2>
<div class='content'><ol>
<li><strong>Push Method</strong>: We negate the priority value when pushing to the heap to simulate a max-heap using Python's min-heap.</li>
<li><strong>Pop Method</strong>: The <code>pop</code> method remains the same, as the negated priority ensures the correct element is returned.</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Neglecting Priority</strong>: Ensure that the priority is correctly handled when pushing and popping elements.</li>
<li><strong>Heap Property</strong>: Always maintain the heap property after each insertion and deletion.</li>
<li><strong>Edge Cases</strong>: Handle edge cases such as popping from an empty queue.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Priority queues are a powerful data structure that allows elements to be processed based on their priority. They are widely used in various applications, from task scheduling to graph algorithms. Understanding how to implement and use priority queues efficiently is essential for any programmer.</p>
<p>In the next section, we will explore exercises to reinforce the concepts learned in this module.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-03-circular-queues' title="Circular Queues">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-05-exercises-queues' title="Exercises with Queues">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
