<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>B Trees</title>

    <link rel="alternate" href="https://campusempresa.com/mod/estructuras_datos/05-05-arboles-b" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/estructuras_datos/05-05-arbres-b" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/estructuras_datos/05-05-b-trees" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/estructuras_datos/05-05-arboles-b" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/estructuras_datos/05-05-arbres-b" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-avl-trees' title="AVL Trees">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">B Trees</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-06-exercises-trees' title="Exercises with Trees">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to B Trees</h1>
<div class='content'><p>B Trees are a type of self-balancing search tree in which nodes can have multiple children. They are designed to work well on systems that read and write large blocks of data, such as databases and file systems. B Trees maintain sorted data and allow searches, sequential access, insertions, and deletions in logarithmic time.</p>
</div><h2>Key Characteristics of B Trees</h2>
<div class='content'><ul>
<li><strong>Balanced Tree</strong>: B Trees are balanced, meaning that the path from the root to any leaf is of the same length.</li>
<li><strong>Multiple Children</strong>: Each node can have more than two children.</li>
<li><strong>Sorted Order</strong>: The keys within a node are sorted.</li>
<li><strong>Node Capacity</strong>: Each node can contain a certain number of keys, typically defined by a parameter called the minimum degree (t).</li>
</ul>
</div><h2>Structure of a B Tree</h2>
<div class='content'><p>A B Tree of minimum degree <code>t</code> has the following properties:</p>
<ul>
<li>Every node has at most <code>2t - 1</code> keys.</li>
<li>Every node (except root) has at least <code>t - 1</code> keys.</li>
<li>The root has at least one key.</li>
<li>All leaves appear on the same level.</li>
<li>A non-leaf node with <code>k</code> keys has <code>k + 1</code> children.</li>
</ul>
</div><h2>Example of a B Tree</h2>
<div class='content'><p>Consider a B Tree of minimum degree <code>t = 3</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgICAgICAgIFsxMCB8IDIwXQogICAgICAgICAvICAgIHwgICAgXAogIFsxIHwgNSB8IDhdIFsxMiB8IDE1IHwgMThdIFsyMiB8IDI1IHwgMzBd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>          [10 | 20]
         /    |    \
  [1 | 5 | 8] [12 | 15 | 18] [22 | 25 | 30]</pre></div><div class='content'></div><h1>Basic Operations on B Trees</h1>
<div class='content'></div><h2><ol>
<li>Search</li>
</ol></h2>
<div class='content'><p>Searching in a B Tree is similar to searching in a binary search tree but involves more comparisons due to multiple keys per node.</p>
<p><strong>Algorithm</strong>:</p>
<ol>
<li>Start at the root node.</li>
<li>Perform a binary search within the node.</li>
<li>If the key is found, return it.</li>
<li>If the key is not found and the node is a leaf, return null.</li>
<li>If the key is not found and the node is not a leaf, recursively search the appropriate child.</li>
</ol>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQlRyZWVOb2RlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHQsIGxlYWY9RmFsc2UpOgogICAgICAgIHNlbGYudCA9IHQgICMgTWluaW11bSBkZWdyZWUKICAgICAgICBzZWxmLmxlYWYgPSBsZWFmCiAgICAgICAgc2VsZi5rZXlzID0gW10KICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KCmRlZiBzZWFyY2gobm9kZSwga2V5KToKICAgIGkgPSAwCiAgICB3aGlsZSBpIDwgbGVuKG5vZGUua2V5cykgYW5kIGtleSA+IG5vZGUua2V5c1tpXToKICAgICAgICBpICs9IDEKICAgIGlmIGkgPCBsZW4obm9kZS5rZXlzKSBhbmQga2V5ID09IG5vZGUua2V5c1tpXToKICAgICAgICByZXR1cm4gbm9kZQogICAgaWYgbm9kZS5sZWFmOgogICAgICAgIHJldHVybiBOb25lCiAgICByZXR1cm4gc2VhcmNoKG5vZGUuY2hpbGRyZW5baV0sIGtleSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class BTreeNode:
    def __init__(self, t, leaf=False):
        self.t = t  # Minimum degree
        self.leaf = leaf
        self.keys = []
        self.children = []

def search(node, key):
    i = 0
    while i &lt; len(node.keys) and key &gt; node.keys[i]:
        i += 1
    if i &lt; len(node.keys) and key == node.keys[i]:
        return node
    if node.leaf:
        return None
    return search(node.children[i], key)</pre></div><div class='content'></div><h2><ol start="2">
<li>Insertion</li>
</ol></h2>
<div class='content'><p>Insertion in a B Tree involves finding the appropriate leaf node and inserting the key while maintaining the B Tree properties. If a node overflows (i.e., exceeds <code>2t - 1</code> keys), it is split.</p>
<p><strong>Algorithm</strong>:</p>
<ol>
<li>Start at the root.</li>
<li>If the root is full, split it and adjust the tree.</li>
<li>Traverse to the appropriate child node.</li>
<li>Insert the key in the appropriate position in the leaf node.</li>
<li>If the leaf node overflows, split it and propagate the split upwards if necessary.</li>
</ol>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGluc2VydF9ub25fZnVsbChub2RlLCBrZXkpOgogICAgaSA9IGxlbihub2RlLmtleXMpIC0gMQogICAgaWYgbm9kZS5sZWFmOgogICAgICAgIG5vZGUua2V5cy5hcHBlbmQoMCkKICAgICAgICB3aGlsZSBpID49IDAgYW5kIGtleSA8IG5vZGUua2V5c1tpXToKICAgICAgICAgICAgbm9kZS5rZXlzW2kgKyAxXSA9IG5vZGUua2V5c1tpXQogICAgICAgICAgICBpIC09IDEKICAgICAgICBub2RlLmtleXNbaSArIDFdID0ga2V5CiAgICBlbHNlOgogICAgICAgIHdoaWxlIGkgPj0gMCBhbmQga2V5IDwgbm9kZS5rZXlzW2ldOgogICAgICAgICAgICBpIC09IDEKICAgICAgICBpICs9IDEKICAgICAgICBpZiBsZW4obm9kZS5jaGlsZHJlbltpXS5rZXlzKSA9PSAyICogbm9kZS50IC0gMToKICAgICAgICAgICAgc3BsaXRfY2hpbGQobm9kZSwgaSkKICAgICAgICAgICAgaWYga2V5ID4gbm9kZS5rZXlzW2ldOgogICAgICAgICAgICAgICAgaSArPSAxCiAgICAgICAgaW5zZXJ0X25vbl9mdWxsKG5vZGUuY2hpbGRyZW5baV0sIGtleSkKCmRlZiBzcGxpdF9jaGlsZChwYXJlbnQsIGkpOgogICAgdCA9IHBhcmVudC5jaGlsZHJlbltpXS50CiAgICBuZXdfbm9kZSA9IEJUcmVlTm9kZSh0LCBwYXJlbnQuY2hpbGRyZW5baV0ubGVhZikKICAgIHBhcmVudC5jaGlsZHJlbltpXS5rZXlzLCBuZXdfbm9kZS5rZXlzID0gcGFyZW50LmNoaWxkcmVuW2ldLmtleXNbOnQtMV0sIHBhcmVudC5jaGlsZHJlbltpXS5rZXlzW3Q6XQogICAgaWYgbm90IHBhcmVudC5jaGlsZHJlbltpXS5sZWFmOgogICAgICAgIHBhcmVudC5jaGlsZHJlbltpXS5jaGlsZHJlbiwgbmV3X25vZGUuY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGRyZW5baV0uY2hpbGRyZW5bOnRdLCBwYXJlbnQuY2hpbGRyZW5baV0uY2hpbGRyZW5bdDpdCiAgICBwYXJlbnQuY2hpbGRyZW4uaW5zZXJ0KGkgKyAxLCBuZXdfbm9kZSkKICAgIHBhcmVudC5rZXlzLmluc2VydChpLCBwYXJlbnQuY2hpbGRyZW5baV0ua2V5cy5wb3AodC0xKSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def insert_non_full(node, key):
    i = len(node.keys) - 1
    if node.leaf:
        node.keys.append(0)
        while i &gt;= 0 and key &lt; node.keys[i]:
            node.keys[i + 1] = node.keys[i]
            i -= 1
        node.keys[i + 1] = key
    else:
        while i &gt;= 0 and key &lt; node.keys[i]:
            i -= 1
        i += 1
        if len(node.children[i].keys) == 2 * node.t - 1:
            split_child(node, i)
            if key &gt; node.keys[i]:
                i += 1
        insert_non_full(node.children[i], key)

def split_child(parent, i):
    t = parent.children[i].t
    new_node = BTreeNode(t, parent.children[i].leaf)
    parent.children[i].keys, new_node.keys = parent.children[i].keys[:t-1], parent.children[i].keys[t:]
    if not parent.children[i].leaf:
        parent.children[i].children, new_node.children = parent.children[i].children[:t], parent.children[i].children[t:]
    parent.children.insert(i + 1, new_node)
    parent.keys.insert(i, parent.children[i].keys.pop(t-1))</pre></div><div class='content'></div><h2><ol start="3">
<li>Deletion</li>
</ol></h2>
<div class='content'><p>Deletion in a B Tree is more complex than insertion and involves several cases to ensure the tree remains balanced.</p>
<p><strong>Algorithm</strong>:</p>
<ol>
<li>If the key is in a leaf node, remove it directly.</li>
<li>If the key is in an internal node:
<ul>
<li>If the child preceding the key has at least <code>t</code> keys, replace the key with the predecessor.</li>
<li>If the child following the key has at least <code>t</code> keys, replace the key with the successor.</li>
<li>If both children have fewer than <code>t</code> keys, merge the key and the two children.</li>
</ul>
</li>
<li>If the key is not in the node, ensure the appropriate child has at least <code>t</code> keys before descending.</li>
</ol>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRlbGV0ZShub2RlLCBrZXkpOgogICAgdCA9IG5vZGUudAogICAgaSA9IDAKICAgIHdoaWxlIGkgPCBsZW4obm9kZS5rZXlzKSBhbmQga2V5ID4gbm9kZS5rZXlzW2ldOgogICAgICAgIGkgKz0gMQogICAgaWYgaSA8IGxlbihub2RlLmtleXMpIGFuZCBrZXkgPT0gbm9kZS5rZXlzW2ldOgogICAgICAgIGlmIG5vZGUubGVhZjoKICAgICAgICAgICAgbm9kZS5rZXlzLnBvcChpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGxlbihub2RlLmNoaWxkcmVuW2ldLmtleXMpID49IHQ6CiAgICAgICAgICAgICAgICBub2RlLmtleXNbaV0gPSBnZXRfcHJlZGVjZXNzb3Iobm9kZSwgaSkKICAgICAgICAgICAgICAgIGRlbGV0ZShub2RlLmNoaWxkcmVuW2ldLCBub2RlLmtleXNbaV0pCiAgICAgICAgICAgIGVsaWYgbGVuKG5vZGUuY2hpbGRyZW5baSArIDFdLmtleXMpID49IHQ6CiAgICAgICAgICAgICAgICBub2RlLmtleXNbaV0gPSBnZXRfc3VjY2Vzc29yKG5vZGUsIGkpCiAgICAgICAgICAgICAgICBkZWxldGUobm9kZS5jaGlsZHJlbltpICsgMV0sIG5vZGUua2V5c1tpXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG1lcmdlKG5vZGUsIGkpCiAgICAgICAgICAgICAgICBkZWxldGUobm9kZS5jaGlsZHJlbltpXSwga2V5KQogICAgZWxzZToKICAgICAgICBpZiBub2RlLmxlYWY6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGxlbihub2RlLmNoaWxkcmVuW2ldLmtleXMpIDwgdDoKICAgICAgICAgICAgZmlsbChub2RlLCBpKQogICAgICAgIGRlbGV0ZShub2RlLmNoaWxkcmVuW2ldLCBrZXkpCgpkZWYgZ2V0X3ByZWRlY2Vzc29yKG5vZGUsIGkpOgogICAgY3VycmVudCA9IG5vZGUuY2hpbGRyZW5baV0KICAgIHdoaWxlIG5vdCBjdXJyZW50LmxlYWY6CiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2hpbGRyZW5bLTFdCiAgICByZXR1cm4gY3VycmVudC5rZXlzWy0xXQoKZGVmIGdldF9zdWNjZXNzb3Iobm9kZSwgaSk6CiAgICBjdXJyZW50ID0gbm9kZS5jaGlsZHJlbltpICsgMV0KICAgIHdoaWxlIG5vdCBjdXJyZW50LmxlYWY6CiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2hpbGRyZW5bMF0KICAgIHJldHVybiBjdXJyZW50LmtleXNbMF0KCmRlZiBtZXJnZShub2RlLCBpKToKICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXQogICAgc2libGluZyA9IG5vZGUuY2hpbGRyZW5baSArIDFdCiAgICBjaGlsZC5rZXlzLmFwcGVuZChub2RlLmtleXMucG9wKGkpKQogICAgY2hpbGQua2V5cy5leHRlbmQoc2libGluZy5rZXlzKQogICAgaWYgbm90IGNoaWxkLmxlYWY6CiAgICAgICAgY2hpbGQuY2hpbGRyZW4uZXh0ZW5kKHNpYmxpbmcuY2hpbGRyZW4pCiAgICBub2RlLmNoaWxkcmVuLnBvcChpICsgMSkKCmRlZiBmaWxsKG5vZGUsIGkpOgogICAgdCA9IG5vZGUudAogICAgaWYgaSAhPSAwIGFuZCBsZW4obm9kZS5jaGlsZHJlbltpIC0gMV0ua2V5cykgPj0gdDoKICAgICAgICBib3Jyb3dfZnJvbV9wcmV2KG5vZGUsIGkpCiAgICBlbGlmIGkgIT0gbGVuKG5vZGUuY2hpbGRyZW4pIC0gMSBhbmQgbGVuKG5vZGUuY2hpbGRyZW5baSArIDFdLmtleXMpID49IHQ6CiAgICAgICAgYm9ycm93X2Zyb21fbmV4dChub2RlLCBpKQogICAgZWxzZToKICAgICAgICBpZiBpICE9IGxlbihub2RlLmNoaWxkcmVuKSAtIDE6CiAgICAgICAgICAgIG1lcmdlKG5vZGUsIGkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWVyZ2Uobm9kZSwgaSAtIDEpCgpkZWYgYm9ycm93X2Zyb21fcHJldihub2RlLCBpKToKICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXQogICAgc2libGluZyA9IG5vZGUuY2hpbGRyZW5baSAtIDFdCiAgICBjaGlsZC5rZXlzLmluc2VydCgwLCBub2RlLmtleXNbaSAtIDFdKQogICAgaWYgbm90IGNoaWxkLmxlYWY6CiAgICAgICAgY2hpbGQuY2hpbGRyZW4uaW5zZXJ0KDAsIHNpYmxpbmcuY2hpbGRyZW4ucG9wKCkpCiAgICBub2RlLmtleXNbaSAtIDFdID0gc2libGluZy5rZXlzLnBvcCgpCgpkZWYgYm9ycm93X2Zyb21fbmV4dChub2RlLCBpKToKICAgIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXQogICAgc2libGluZyA9IG5vZGUuY2hpbGRyZW5baSArIDFdCiAgICBjaGlsZC5rZXlzLmFwcGVuZChub2RlLmtleXNbaV0pCiAgICBpZiBub3QgY2hpbGQubGVhZjoKICAgICAgICBjaGlsZC5jaGlsZHJlbi5hcHBlbmQoc2libGluZy5jaGlsZHJlbi5wb3AoMCkpCiAgICBub2RlLmtleXNbaV0gPSBzaWJsaW5nLmtleXMucG9wKDAp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def delete(node, key):
    t = node.t
    i = 0
    while i &lt; len(node.keys) and key &gt; node.keys[i]:
        i += 1
    if i &lt; len(node.keys) and key == node.keys[i]:
        if node.leaf:
            node.keys.pop(i)
        else:
            if len(node.children[i].keys) &gt;= t:
                node.keys[i] = get_predecessor(node, i)
                delete(node.children[i], node.keys[i])
            elif len(node.children[i + 1].keys) &gt;= t:
                node.keys[i] = get_successor(node, i)
                delete(node.children[i + 1], node.keys[i])
            else:
                merge(node, i)
                delete(node.children[i], key)
    else:
        if node.leaf:
            return
        if len(node.children[i].keys) &lt; t:
            fill(node, i)
        delete(node.children[i], key)

def get_predecessor(node, i):
    current = node.children[i]
    while not current.leaf:
        current = current.children[-1]
    return current.keys[-1]

def get_successor(node, i):
    current = node.children[i + 1]
    while not current.leaf:
        current = current.children[0]
    return current.keys[0]

def merge(node, i):
    child = node.children[i]
    sibling = node.children[i + 1]
    child.keys.append(node.keys.pop(i))
    child.keys.extend(sibling.keys)
    if not child.leaf:
        child.children.extend(sibling.children)
    node.children.pop(i + 1)

def fill(node, i):
    t = node.t
    if i != 0 and len(node.children[i - 1].keys) &gt;= t:
        borrow_from_prev(node, i)
    elif i != len(node.children) - 1 and len(node.children[i + 1].keys) &gt;= t:
        borrow_from_next(node, i)
    else:
        if i != len(node.children) - 1:
            merge(node, i)
        else:
            merge(node, i - 1)

def borrow_from_prev(node, i):
    child = node.children[i]
    sibling = node.children[i - 1]
    child.keys.insert(0, node.keys[i - 1])
    if not child.leaf:
        child.children.insert(0, sibling.children.pop())
    node.keys[i - 1] = sibling.keys.pop()

def borrow_from_next(node, i):
    child = node.children[i]
    sibling = node.children[i + 1]
    child.keys.append(node.keys[i])
    if not child.leaf:
        child.children.append(sibling.children.pop(0))
    node.keys[i] = sibling.keys.pop(0)</pre></div><div class='content'></div><h1>Practical Exercises with B Trees</h1>
<div class='content'></div><h2>Exercise 1: Implement a B Tree Insertion</h2>
<div class='content'><p><strong>Task</strong>: Implement the <code>insert</code> function for a B Tree.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQlRyZWU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdCk6CiAgICAgICAgc2VsZi5yb290ID0gQlRyZWVOb2RlKHQsIFRydWUpCiAgICAgICAgc2VsZi50ID0gdAoKICAgIGRlZiBpbnNlcnQoc2VsZiwga2V5KToKICAgICAgICByb290ID0gc2VsZi5yb290CiAgICAgICAgaWYgbGVuKHJvb3Qua2V5cykgPT0gMiAqIHNlbGYudCAtIDE6CiAgICAgICAgICAgIG5ld19yb290ID0gQlRyZWVOb2RlKHNlbGYudCwgRmFsc2UpCiAgICAgICAgICAgIG5ld19yb290LmNoaWxkcmVuLmFwcGVuZChzZWxmLnJvb3QpCiAgICAgICAgICAgIHNwbGl0X2NoaWxkKG5ld19yb290LCAwKQogICAgICAgICAgICBzZWxmLnJvb3QgPSBuZXdfcm9vdAogICAgICAgIGluc2VydF9ub25fZnVsbChzZWxmLnJvb3QsIGtleSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class BTree:
    def __init__(self, t):
        self.root = BTreeNode(t, True)
        self.t = t

    def insert(self, key):
        root = self.root
        if len(root.keys) == 2 * self.t - 1:
            new_root = BTreeNode(self.t, False)
            new_root.children.append(self.root)
            split_child(new_root, 0)
            self.root = new_root
        insert_non_full(self.root, key)</pre></div><div class='content'></div><h2>Exercise 2: Implement a B Tree Search</h2>
<div class='content'><p><strong>Task</strong>: Implement the <code>search</code> function for a B Tree.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHNlYXJjaChub2RlLCBrZXkpOgogICAgaSA9IDAKICAgIHdoaWxlIGkgPCBsZW4obm9kZS5rZXlzKSBhbmQga2V5ID4gbm9kZS5rZXlzW2ldOgogICAgICAgIGkgKz0gMQogICAgaWYgaSA8IGxlbihub2RlLmtleXMpIGFuZCBrZXkgPT0gbm9kZS5rZXlzW2ldOgogICAgICAgIHJldHVybiBub2RlCiAgICBpZiBub2RlLmxlYWY6CiAgICAgICAgcmV0dXJuIE5vbmUKICAgIHJldHVybiBzZWFyY2gobm9kZS5jaGlsZHJlbltpXSwga2V5KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def search(node, key):
    i = 0
    while i &lt; len(node.keys) and key &gt; node.keys[i]:
        i += 1
    if i &lt; len(node.keys) and key == node.keys[i]:
        return node
    if node.leaf:
        return None
    return search(node.children[i], key)</pre></div><div class='content'></div><h2>Exercise 3: Implement a B Tree Deletion</h2>
<div class='content'><p><strong>Task</strong>: Implement the <code>delete</code> function for a B Tree.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRlbGV0ZShub2RlLCBrZXkpOgogICAgdCA9IG5vZGUudAogICAgaSA9IDAKICAgIHdoaWxlIGkgPCBsZW4obm9kZS5rZXlzKSBhbmQga2V5ID4gbm9kZS5rZXlzW2ldOgogICAgICAgIGkgKz0gMQogICAgaWYgaSA8IGxlbihub2RlLmtleXMpIGFuZCBrZXkgPT0gbm9kZS5rZXlzW2ldOgogICAgICAgIGlmIG5vZGUubGVhZjoKICAgICAgICAgICAgbm9kZS5rZXlzLnBvcChpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGxlbihub2RlLmNoaWxkcmVuW2ldLmtleXMpID49IHQ6CiAgICAgICAgICAgICAgICBub2RlLmtleXNbaV0gPSBnZXRfcHJlZGVjZXNzb3Iobm9kZSwgaSkKICAgICAgICAgICAgICAgIGRlbGV0ZShub2RlLmNoaWxkcmVuW2ldLCBub2RlLmtleXNbaV0pCiAgICAgICAgICAgIGVsaWYgbGVuKG5vZGUuY2hpbGRyZW5baSArIDFdLmtleXMpID49IHQ6CiAgICAgICAgICAgICAgICBub2RlLmtleXNbaV0gPSBnZXRfc3VjY2Vzc29yKG5vZGUsIGkpCiAgICAgICAgICAgICAgICBkZWxldGUobm9kZS5jaGlsZHJlbltpICsgMV0sIG5vZGUua2V5c1tpXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG1lcmdlKG5vZGUsIGkpCiAgICAgICAgICAgICAgICBkZWxldGUobm9kZS5jaGlsZHJlbltpXSwga2V5KQogICAgZWxzZToKICAgICAgICBpZiBub2RlLmxlYWY6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGxlbihub2RlLmNoaWxkcmVuW2ldLmtleXMpIDwgdDoKICAgICAgICAgICAgZmlsbChub2RlLCBpKQogICAgICAgIGRlbGV0ZShub2RlLmNoaWxkcmVuW2ldLCBrZXkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def delete(node, key):
    t = node.t
    i = 0
    while i &lt; len(node.keys) and key &gt; node.keys[i]:
        i += 1
    if i &lt; len(node.keys) and key == node.keys[i]:
        if node.leaf:
            node.keys.pop(i)
        else:
            if len(node.children[i].keys) &gt;= t:
                node.keys[i] = get_predecessor(node, i)
                delete(node.children[i], node.keys[i])
            elif len(node.children[i + 1].keys) &gt;= t:
                node.keys[i] = get_successor(node, i)
                delete(node.children[i + 1], node.keys[i])
            else:
                merge(node, i)
                delete(node.children[i], key)
    else:
        if node.leaf:
            return
        if len(node.children[i].keys) &lt; t:
            fill(node, i)
        delete(node.children[i], key)</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>B Trees are powerful data structures that provide efficient insertion, deletion, and search operations. They are particularly useful in database and file system implementations due to their ability to handle large blocks of data efficiently. Understanding B Trees and their operations is crucial for any programmer working with large datasets or developing systems that require efficient data retrieval and storage.</p>
<p>In the next module, we will explore Graphs, another fundamental data structure with wide-ranging applications in computer science.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-avl-trees' title="AVL Trees">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-06-exercises-trees' title="Exercises with Trees">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
