<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing to Files</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fortran/06-02-writing-to-files" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fortran/06-02-writing-to-files" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fortran/06-02-writing-to-files" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/fortran/06-02-writing-to-files" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/fortran/06-02-writing-to-files" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-reading-from-files' title="Reading from Files">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Writing to Files</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-file-positioning' title="File Positioning">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to write data to files in Fortran. File handling is a crucial aspect of programming, especially when dealing with large datasets or when you need to save the output of your programs for later use. We will cover the following topics:</p>
<ol>
<li><strong>Opening a File for Writing</strong></li>
<li><strong>Writing Data to a File</strong></li>
<li><strong>Closing a File</strong></li>
<li><strong>Practical Examples</strong></li>
<li><strong>Exercises</strong></li>
</ol>
</div><h1><ol>
<li>Opening a File for Writing</li>
</ol>
</h1>
<div class='content'><p>To write data to a file in Fortran, you first need to open the file using the <code>OPEN</code> statement. The <code>OPEN</code> statement associates a file with a unit number, which is used to refer to the file in subsequent operations.</p>
</div><h2><p>Syntax:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("T1BFTih1bml0PXVuaXRfbnVtYmVyLCBmaWxlPSdmaWxlbmFtZScsIHN0YXR1cz0nc3RhdHVzJywgYWN0aW9uPSdhY3Rpb24nKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>OPEN(unit=unit_number, file='filename', status='status', action='action')</pre></div><div class='content'><ul>
<li><code>unit_number</code>: An integer that uniquely identifies the file.</li>
<li><code>filename</code>: The name of the file.</li>
<li><code>status</code>: Specifies the status of the file. Common values are <code>'new'</code> (create a new file) and <code>'replace'</code> (overwrite an existing file).</li>
<li><code>action</code>: Specifies the action to be performed. For writing, use <code>'write'</code>.</li>
</ul>
</div><h2><p>Example:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("T1BFTih1bml0PTEwLCBmaWxlPSdvdXRwdXQudHh0Jywgc3RhdHVzPSdyZXBsYWNlJywgYWN0aW9uPSd3cml0ZScp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>OPEN(unit=10, file='output.txt', status='replace', action='write')</pre></div><div class='content'></div><h1><ol start="2">
<li>Writing Data to a File</li>
</ol>
</h1>
<div class='content'><p>Once the file is opened, you can write data to it using the <code>WRITE</code> statement. The <code>WRITE</code> statement sends data to the file associated with the specified unit number.</p>
</div><h2><p>Syntax:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V1JJVEUodW5pdF9udW1iZXIsIGZvcm1hdCkgdmFyaWFibGVfbGlzdA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WRITE(unit_number, format) variable_list</pre></div><div class='content'><ul>
<li><code>unit_number</code>: The unit number associated with the file.</li>
<li><code>format</code>: Specifies the format of the output. It can be a format label or an asterisk (<code>*</code>) for default formatting.</li>
<li><code>variable_list</code>: A list of variables to be written to the file.</li>
</ul>
</div><h2><p>Example:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5URUdFUiA6OiBpClJFQUwgOjogeAoKaSA9IDEwCnggPSAzLjE0CgpXUklURSgxMCwgKikgJ0ludGVnZXI6JywgaSwgJ1JlYWw6JywgeA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INTEGER :: i
REAL :: x

i = 10
x = 3.14

WRITE(10, *) 'Integer:', i, 'Real:', x</pre></div><div class='content'></div><h1><ol start="3">
<li>Closing a File</li>
</ol>
</h1>
<div class='content'><p>After writing data to a file, it is important to close the file using the <code>CLOSE</code> statement. This ensures that all data is properly saved and resources are released.</p>
</div><h2><p>Syntax:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q0xPU0UodW5pdD11bml0X251bWJlcik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CLOSE(unit=unit_number)</pre></div><div class='content'><ul>
<li><code>unit_number</code>: The unit number associated with the file.</li>
</ul>
</div><h2><p>Example:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q0xPU0UodW5pdD0xMCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CLOSE(unit=10)</pre></div><div class='content'></div><h1><ol start="4">
<li>Practical Examples</li>
</ol>
</h1>
<div class='content'></div><h2><p>Example 1: Writing Simple Data to a File</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBXcml0ZVNpbXBsZURhdGEKICBJTlRFR0VSIDo6IHVuaXRfbnVtYmVyCiAgSU5URUdFUiA6OiBpCiAgUkVBTCA6OiB4CgogIHVuaXRfbnVtYmVyID0gMTAKICBpID0gNDIKICB4ID0gMi43MTgKCiAgISBPcGVuIHRoZSBmaWxlIGZvciB3cml0aW5nCiAgT1BFTih1bml0PXVuaXRfbnVtYmVyLCBmaWxlPSdzaW1wbGVfZGF0YS50eHQnLCBzdGF0dXM9J3JlcGxhY2UnLCBhY3Rpb249J3dyaXRlJykKCiAgISBXcml0ZSBkYXRhIHRvIHRoZSBmaWxlCiAgV1JJVEUodW5pdF9udW1iZXIsICopICdJbnRlZ2VyOicsIGkKICBXUklURSh1bml0X251bWJlciwgKikgJ1JlYWw6JywgeAoKICAhIENsb3NlIHRoZSBmaWxlCiAgQ0xPU0UodW5pdD11bml0X251bWJlcikKRU5EIFBST0dSQU0gV3JpdGVTaW1wbGVEYXRh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM WriteSimpleData
  INTEGER :: unit_number
  INTEGER :: i
  REAL :: x

  unit_number = 10
  i = 42
  x = 2.718

  ! Open the file for writing
  OPEN(unit=unit_number, file='simple_data.txt', status='replace', action='write')

  ! Write data to the file
  WRITE(unit_number, *) 'Integer:', i
  WRITE(unit_number, *) 'Real:', x

  ! Close the file
  CLOSE(unit=unit_number)
END PROGRAM WriteSimpleData</pre></div><div class='content'></div><h2><p>Example 2: Writing an Array to a File</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBXcml0ZUFycmF5RGF0YQogIElOVEVHRVIgOjogdW5pdF9udW1iZXIKICBJTlRFR0VSLCBESU1FTlNJT04oNSkgOjogYXJyYXkgPSAoLzEsIDIsIDMsIDQsIDUvKQogIElOVEVHRVIgOjogaQoKICB1bml0X251bWJlciA9IDIwCgogICEgT3BlbiB0aGUgZmlsZSBmb3Igd3JpdGluZwogIE9QRU4odW5pdD11bml0X251bWJlciwgZmlsZT0nYXJyYXlfZGF0YS50eHQnLCBzdGF0dXM9J3JlcGxhY2UnLCBhY3Rpb249J3dyaXRlJykKCiAgISBXcml0ZSBhcnJheSBkYXRhIHRvIHRoZSBmaWxlCiAgRE8gaSA9IDEsIDUKICAgIFdSSVRFKHVuaXRfbnVtYmVyLCAqKSAnRWxlbWVudCcsIGksICc6JywgYXJyYXkoaSkKICBFTkQgRE8KCiAgISBDbG9zZSB0aGUgZmlsZQogIENMT1NFKHVuaXQ9dW5pdF9udW1iZXIpCkVORCBQUk9HUkFNIFdyaXRlQXJyYXlEYXRh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM WriteArrayData
  INTEGER :: unit_number
  INTEGER, DIMENSION(5) :: array = (/1, 2, 3, 4, 5/)
  INTEGER :: i

  unit_number = 20

  ! Open the file for writing
  OPEN(unit=unit_number, file='array_data.txt', status='replace', action='write')

  ! Write array data to the file
  DO i = 1, 5
    WRITE(unit_number, *) 'Element', i, ':', array(i)
  END DO

  ! Close the file
  CLOSE(unit=unit_number)
END PROGRAM WriteArrayData</pre></div><div class='content'></div><h1><ol start="5">
<li>Exercises</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercise 1: Write a Program to Save User Input to a File</p>
</h2>
<div class='content'><p>Write a Fortran program that prompts the user to enter their name and age, and then saves this information to a file named <code>user_info.txt</code>.</p>
<h4>Solution:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBTYXZlVXNlckluZm8KICBJTlRFR0VSIDo6IHVuaXRfbnVtYmVyCiAgQ0hBUkFDVEVSKExFTj01MCkgOjogbmFtZQogIElOVEVHRVIgOjogYWdlCgogIHVuaXRfbnVtYmVyID0gMzAKCiAgISBQcm9tcHQgdGhlIHVzZXIgZm9yIGlucHV0CiAgUFJJTlQgKiwgJ0VudGVyIHlvdXIgbmFtZTonCiAgUkVBRCAqLCBuYW1lCiAgUFJJTlQgKiwgJ0VudGVyIHlvdXIgYWdlOicKICBSRUFEICosIGFnZQoKICAhIE9wZW4gdGhlIGZpbGUgZm9yIHdyaXRpbmcKICBPUEVOKHVuaXQ9dW5pdF9udW1iZXIsIGZpbGU9J3VzZXJfaW5mby50eHQnLCBzdGF0dXM9J3JlcGxhY2UnLCBhY3Rpb249J3dyaXRlJykKCiAgISBXcml0ZSB1c2VyIGluZm9ybWF0aW9uIHRvIHRoZSBmaWxlCiAgV1JJVEUodW5pdF9udW1iZXIsICopICdOYW1lOicsIG5hbWUKICBXUklURSh1bml0X251bWJlciwgKikgJ0FnZTonLCBhZ2UKCiAgISBDbG9zZSB0aGUgZmlsZQogIENMT1NFKHVuaXQ9dW5pdF9udW1iZXIpCkVORCBQUk9HUkFNIFNhdmVVc2VySW5mbw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM SaveUserInfo
  INTEGER :: unit_number
  CHARACTER(LEN=50) :: name
  INTEGER :: age

  unit_number = 30

  ! Prompt the user for input
  PRINT *, 'Enter your name:'
  READ *, name
  PRINT *, 'Enter your age:'
  READ *, age

  ! Open the file for writing
  OPEN(unit=unit_number, file='user_info.txt', status='replace', action='write')

  ! Write user information to the file
  WRITE(unit_number, *) 'Name:', name
  WRITE(unit_number, *) 'Age:', age

  ! Close the file
  CLOSE(unit=unit_number)
END PROGRAM SaveUserInfo</pre></div><div class='content'></div><h2><p>Exercise 2: Write a Program to Save a Matrix to a File</p>
</h2>
<div class='content'><p>Write a Fortran program that creates a 3x3 matrix and saves its elements to a file named <code>matrix_data.txt</code>.</p>
<h4>Solution:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBTYXZlTWF0cml4RGF0YQogIElOVEVHRVIgOjogdW5pdF9udW1iZXIKICBSRUFMLCBESU1FTlNJT04oMywzKSA6OiBtYXRyaXgKICBJTlRFR0VSIDo6IGksIGoKCiAgdW5pdF9udW1iZXIgPSA0MAoKICAhIEluaXRpYWxpemUgdGhlIG1hdHJpeAogIG1hdHJpeCA9IFJFU0hBUEUoKC8xLjAsIDIuMCwgMy4wLCA0LjAsIDUuMCwgNi4wLCA3LjAsIDguMCwgOS4wLyksICgvMywgMy8pKQoKICAhIE9wZW4gdGhlIGZpbGUgZm9yIHdyaXRpbmcKICBPUEVOKHVuaXQ9dW5pdF9udW1iZXIsIGZpbGU9J21hdHJpeF9kYXRhLnR4dCcsIHN0YXR1cz0ncmVwbGFjZScsIGFjdGlvbj0nd3JpdGUnKQoKICAhIFdyaXRlIG1hdHJpeCBkYXRhIHRvIHRoZSBmaWxlCiAgRE8gaSA9IDEsIDMKICAgIERPIGogPSAxLCAzCiAgICAgIFdSSVRFKHVuaXRfbnVtYmVyLCAnKEY2LjIpJywgQURWQU5DRT0nTk8nKSBtYXRyaXgoaSwgaikKICAgICAgSUYgKGogPCAzKSBXUklURSh1bml0X251bWJlciwgJyhBKScsIEFEVkFOQ0U9J05PJykgJywgJwogICAgRU5EIERPCiAgICBXUklURSh1bml0X251bWJlciwgKikKICBFTkQgRE8KCiAgISBDbG9zZSB0aGUgZmlsZQogIENMT1NFKHVuaXQ9dW5pdF9udW1iZXIpCkVORCBQUk9HUkFNIFNhdmVNYXRyaXhEYXRh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM SaveMatrixData
  INTEGER :: unit_number
  REAL, DIMENSION(3,3) :: matrix
  INTEGER :: i, j

  unit_number = 40

  ! Initialize the matrix
  matrix = RESHAPE((/1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0/), (/3, 3/))

  ! Open the file for writing
  OPEN(unit=unit_number, file='matrix_data.txt', status='replace', action='write')

  ! Write matrix data to the file
  DO i = 1, 3
    DO j = 1, 3
      WRITE(unit_number, '(F6.2)', ADVANCE='NO') matrix(i, j)
      IF (j &lt; 3) WRITE(unit_number, '(A)', ADVANCE='NO') ', '
    END DO
    WRITE(unit_number, *)
  END DO

  ! Close the file
  CLOSE(unit=unit_number)
END PROGRAM SaveMatrixData</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we learned how to write data to files in Fortran. We covered the basics of opening a file for writing, writing data to the file, and closing the file. We also provided practical examples and exercises to reinforce the concepts. In the next section, we will explore file positioning and how to manipulate the file pointer for more advanced file operations.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-reading-from-files' title="Reading from Files">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-file-positioning' title="File Positioning">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
