<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Dynamic Memory Allocation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fortran/05-03-dynamic-memory-allocation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fortran/05-03-dynamic-memory-allocation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fortran/05-03-dynamic-memory-allocation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/fortran/05-03-dynamic-memory-allocation" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/fortran/05-03-dynamic-memory-allocation" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-pointers' title="Pointers">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Dynamic Memory Allocation</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-linked-lists' title="Linked Lists">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Dynamic memory allocation is a crucial concept in Fortran, especially when dealing with data structures whose size cannot be determined at compile time. This topic will cover the basics of dynamic memory allocation, including how to allocate and deallocate memory, and practical examples to illustrate these concepts.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Dynamic Memory Allocation</strong>:</p>
<ul>
<li>Allows the program to request memory during runtime.</li>
<li>Useful for handling data structures with sizes that are not known until the program is running.</li>
</ul>
</li>
<li>
<p><strong>ALLOCATE Statement</strong>:</p>
<ul>
<li>Used to allocate memory for variables.</li>
<li>Syntax: <code>ALLOCATE(variable_name(size))</code></li>
</ul>
</li>
<li>
<p><strong>DEALLOCATE Statement</strong>:</p>
<ul>
<li>Used to free the allocated memory.</li>
<li>Syntax: <code>DEALLOCATE(variable_name)</code></li>
</ul>
</li>
<li>
<p><strong>Automatic Arrays</strong>:</p>
<ul>
<li>Arrays whose size is determined at runtime but are automatically deallocated when they go out of scope.</li>
</ul>
</li>
</ol>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Example 1: Allocating and Deallocating a Simple Array</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBEeW5hbWljQXJyYXlFeGFtcGxlCiAgSU1QTElDSVQgTk9ORQogIElOVEVHRVIsIEFMTE9DQVRBQkxFIDo6IGFycmF5KDopCiAgSU5URUdFUiA6OiBuLCBpCgogICEgQXNrIHRoZSB1c2VyIGZvciB0aGUgc2l6ZSBvZiB0aGUgYXJyYXkKICBQUklOVCAqLCAnRW50ZXIgdGhlIHNpemUgb2YgdGhlIGFycmF5OicKICBSRUFEICosIG4KCiAgISBBbGxvY2F0ZSBtZW1vcnkgZm9yIHRoZSBhcnJheQogIEFMTE9DQVRFKGFycmF5KG4pKQoKICAhIEluaXRpYWxpemUgdGhlIGFycmF5CiAgRE8gaSA9IDEsIG4KICAgIGFycmF5KGkpID0gaSAqIDIKICBFTkQgRE8KCiAgISBQcmludCB0aGUgYXJyYXkKICBQUklOVCAqLCAnQXJyYXkgZWxlbWVudHM6JwogIERPIGkgPSAxLCBuCiAgICBQUklOVCAqLCBhcnJheShpKQogIEVORCBETwoKICAhIERlYWxsb2NhdGUgdGhlIG1lbW9yeQogIERFQUxMT0NBVEUoYXJyYXkpCkVORCBQUk9HUkFNIER5bmFtaWNBcnJheUV4YW1wbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM DynamicArrayExample
  IMPLICIT NONE
  INTEGER, ALLOCATABLE :: array(:)
  INTEGER :: n, i

  ! Ask the user for the size of the array
  PRINT *, 'Enter the size of the array:'
  READ *, n

  ! Allocate memory for the array
  ALLOCATE(array(n))

  ! Initialize the array
  DO i = 1, n
    array(i) = i * 2
  END DO

  ! Print the array
  PRINT *, 'Array elements:'
  DO i = 1, n
    PRINT *, array(i)
  END DO

  ! Deallocate the memory
  DEALLOCATE(array)
END PROGRAM DynamicArrayExample</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The program prompts the user to enter the size of the array.</li>
<li>The <code>ALLOCATE</code> statement is used to allocate memory for the array based on the user input.</li>
<li>The array is initialized and printed.</li>
<li>Finally, the <code>DEALLOCATE</code> statement is used to free the allocated memory.</li>
</ul>
</div><h2>Example 2: Using Automatic Arrays</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBBdXRvbWF0aWNBcnJheUV4YW1wbGUKICBJTVBMSUNJVCBOT05FCiAgQ0FMTCBQcm9jZXNzQXJyYXkoNSkKRU5EIFBST0dSQU0gQXV0b21hdGljQXJyYXlFeGFtcGxlCgpTVUJST1VUSU5FIFByb2Nlc3NBcnJheShuKQogIElNUExJQ0lUIE5PTkUKICBJTlRFR0VSLCBJTlRFTlQoSU4pIDo6IG4KICBJTlRFR0VSIDo6IGkKICBSRUFMIDo6IGFycmF5KG4pCgogICEgSW5pdGlhbGl6ZSB0aGUgYXJyYXkKICBETyBpID0gMSwgbgogICAgYXJyYXkoaSkgPSBpICogMS41CiAgRU5EIERPCgogICEgUHJpbnQgdGhlIGFycmF5CiAgUFJJTlQgKiwgJ0FycmF5IGVsZW1lbnRzOicKICBETyBpID0gMSwgbgogICAgUFJJTlQgKiwgYXJyYXkoaSkKICBFTkQgRE8KRU5EIFNVQlJPVVRJTkUgUHJvY2Vzc0FycmF5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM AutomaticArrayExample
  IMPLICIT NONE
  CALL ProcessArray(5)
END PROGRAM AutomaticArrayExample

SUBROUTINE ProcessArray(n)
  IMPLICIT NONE
  INTEGER, INTENT(IN) :: n
  INTEGER :: i
  REAL :: array(n)

  ! Initialize the array
  DO i = 1, n
    array(i) = i * 1.5
  END DO

  ! Print the array
  PRINT *, 'Array elements:'
  DO i = 1, n
    PRINT *, array(i)
  END DO
END SUBROUTINE ProcessArray</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The subroutine <code>ProcessArray</code> takes an integer <code>n</code> as an argument.</li>
<li>An automatic array <code>array</code> is declared with size <code>n</code>.</li>
<li>The array is initialized and printed.</li>
<li>The array is automatically deallocated when the subroutine exits.</li>
</ul>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Dynamic Matrix Allocation</h2>
<div class='content'><p><strong>Task</strong>: Write a program that dynamically allocates a 2D matrix based on user input, initializes it with random numbers, prints the matrix, and then deallocates the memory.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBEeW5hbWljTWF0cml4RXhhbXBsZQogIElNUExJQ0lUIE5PTkUKICBSRUFMLCBBTExPQ0FUQUJMRSA6OiBtYXRyaXgoOiw6KQogIElOVEVHRVIgOjogcm93cywgY29scywgaSwgagoKICAhIEFzayB0aGUgdXNlciBmb3IgdGhlIHNpemUgb2YgdGhlIG1hdHJpeAogIFBSSU5UICosICdFbnRlciB0aGUgbnVtYmVyIG9mIHJvd3M6JwogIFJFQUQgKiwgcm93cwogIFBSSU5UICosICdFbnRlciB0aGUgbnVtYmVyIG9mIGNvbHVtbnM6JwogIFJFQUQgKiwgY29scwoKICAhIEFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlIG1hdHJpeAogIEFMTE9DQVRFKG1hdHJpeChyb3dzLCBjb2xzKSkKCiAgISBJbml0aWFsaXplIHRoZSBtYXRyaXggd2l0aCByYW5kb20gbnVtYmVycwogIENBTEwgUkFORE9NX1NFRUQoKQogIERPIGkgPSAxLCByb3dzCiAgICBETyBqID0gMSwgY29scwogICAgICBDQUxMIFJBTkRPTV9OVU1CRVIobWF0cml4KGksIGopKQogICAgRU5EIERPCiAgRU5EIERPCgogICEgUHJpbnQgdGhlIG1hdHJpeAogIFBSSU5UICosICdNYXRyaXggZWxlbWVudHM6JwogIERPIGkgPSAxLCByb3dzCiAgICBQUklOVCAqLCAobWF0cml4KGksIGopLCBqID0gMSwgY29scykKICBFTkQgRE8KCiAgISBEZWFsbG9jYXRlIHRoZSBtZW1vcnkKICBERUFMTE9DQVRFKG1hdHJpeCkKRU5EIFBST0dSQU0gRHluYW1pY01hdHJpeEV4YW1wbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM DynamicMatrixExample
  IMPLICIT NONE
  REAL, ALLOCATABLE :: matrix(:,:)
  INTEGER :: rows, cols, i, j

  ! Ask the user for the size of the matrix
  PRINT *, 'Enter the number of rows:'
  READ *, rows
  PRINT *, 'Enter the number of columns:'
  READ *, cols

  ! Allocate memory for the matrix
  ALLOCATE(matrix(rows, cols))

  ! Initialize the matrix with random numbers
  CALL RANDOM_SEED()
  DO i = 1, rows
    DO j = 1, cols
      CALL RANDOM_NUMBER(matrix(i, j))
    END DO
  END DO

  ! Print the matrix
  PRINT *, 'Matrix elements:'
  DO i = 1, rows
    PRINT *, (matrix(i, j), j = 1, cols)
  END DO

  ! Deallocate the memory
  DEALLOCATE(matrix)
END PROGRAM DynamicMatrixExample</pre></div><div class='content'></div><h2>Exercise 2: Dynamic Array of Structures</h2>
<div class='content'><p><strong>Task</strong>: Create a program that dynamically allocates an array of structures to store student information (name and grade), initializes the array, prints the information, and deallocates the memory.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBEeW5hbWljU3RydWN0QXJyYXlFeGFtcGxlCiAgSU1QTElDSVQgTk9ORQogIFRZUEUgOjogU3R1ZGVudAogICAgQ0hBUkFDVEVSKExFTj01MCkgOjogbmFtZQogICAgUkVBTCA6OiBncmFkZQogIEVORCBUWVBFIFN0dWRlbnQKCiAgVFlQRShTdHVkZW50KSwgQUxMT0NBVEFCTEUgOjogc3R1ZGVudHMoOikKICBJTlRFR0VSIDo6IG4sIGkKCiAgISBBc2sgdGhlIHVzZXIgZm9yIHRoZSBudW1iZXIgb2Ygc3R1ZGVudHMKICBQUklOVCAqLCAnRW50ZXIgdGhlIG51bWJlciBvZiBzdHVkZW50czonCiAgUkVBRCAqLCBuCgogICEgQWxsb2NhdGUgbWVtb3J5IGZvciB0aGUgYXJyYXkgb2Ygc3R1ZGVudHMKICBBTExPQ0FURShzdHVkZW50cyhuKSkKCiAgISBJbml0aWFsaXplIHRoZSBhcnJheQogIERPIGkgPSAxLCBuCiAgICBQUklOVCAqLCAnRW50ZXIgbmFtZSBmb3Igc3R1ZGVudCAnLCBpLCAnOicKICAgIFJFQUQgKiwgc3R1ZGVudHMoaSklbmFtZQogICAgUFJJTlQgKiwgJ0VudGVyIGdyYWRlIGZvciBzdHVkZW50ICcsIGksICc6JwogICAgUkVBRCAqLCBzdHVkZW50cyhpKSVncmFkZQogIEVORCBETwoKICAhIFByaW50IHRoZSBzdHVkZW50IGluZm9ybWF0aW9uCiAgUFJJTlQgKiwgJ1N0dWRlbnQgSW5mb3JtYXRpb246JwogIERPIGkgPSAxLCBuCiAgICBQUklOVCAqLCAnTmFtZTogJywgc3R1ZGVudHMoaSklbmFtZSwgJywgR3JhZGU6ICcsIHN0dWRlbnRzKGkpJWdyYWRlCiAgRU5EIERPCgogICEgRGVhbGxvY2F0ZSB0aGUgbWVtb3J5CiAgREVBTExPQ0FURShzdHVkZW50cykKRU5EIFBST0dSQU0gRHluYW1pY1N0cnVjdEFycmF5RXhhbXBsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM DynamicStructArrayExample
  IMPLICIT NONE
  TYPE :: Student
    CHARACTER(LEN=50) :: name
    REAL :: grade
  END TYPE Student

  TYPE(Student), ALLOCATABLE :: students(:)
  INTEGER :: n, i

  ! Ask the user for the number of students
  PRINT *, 'Enter the number of students:'
  READ *, n

  ! Allocate memory for the array of students
  ALLOCATE(students(n))

  ! Initialize the array
  DO i = 1, n
    PRINT *, 'Enter name for student ', i, ':'
    READ *, students(i)%name
    PRINT *, 'Enter grade for student ', i, ':'
    READ *, students(i)%grade
  END DO

  ! Print the student information
  PRINT *, 'Student Information:'
  DO i = 1, n
    PRINT *, 'Name: ', students(i)%name, ', Grade: ', students(i)%grade
  END DO

  ! Deallocate the memory
  DEALLOCATE(students)
END PROGRAM DynamicStructArrayExample</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to Deallocate Memory</strong>: Always ensure that you deallocate memory to avoid memory leaks.</li>
<li><strong>Incorrect Allocation Size</strong>: Double-check the size of the allocation to ensure it matches the intended dimensions.</li>
<li><strong>Using Uninitialized Memory</strong>: Always initialize allocated memory before using it to avoid undefined behavior.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Dynamic memory allocation in Fortran allows for flexible and efficient use of memory, especially when dealing with data structures whose size is not known at compile time. By mastering the <code>ALLOCATE</code> and <code>DEALLOCATE</code> statements, you can create more dynamic and adaptable programs. Practice with the provided examples and exercises to solidify your understanding of these concepts.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-pointers' title="Pointers">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-linked-lists' title="Linked Lists">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
