<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary File Operations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fortran/06-04-binary-file-operations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fortran/06-04-binary-file-operations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fortran/06-04-binary-file-operations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/fortran/06-04-binary-file-operations" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/fortran/06-04-binary-file-operations" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-file-positioning' title="File Positioning">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Binary File Operations</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-modules-interfaces' title="Modules and Interfaces">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Binary file operations in Fortran allow you to read from and write to files in binary format. This is particularly useful for handling non-text data, such as images, audio files, or any other data that is not easily represented as text. In this section, we will cover the basics of binary file operations, including opening files, reading from files, writing to files, and closing files.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Binary Files vs. Text Files</strong>:</p>
<ul>
<li><strong>Text Files</strong>: Store data in a human-readable format using characters.</li>
<li><strong>Binary Files</strong>: Store data in a binary format, which is not human-readable but more efficient for certain types of data.</li>
</ul>
</li>
<li>
<p><strong>File Handling Statements</strong>:</p>
<ul>
<li><code>OPEN</code>: Opens a file for reading or writing.</li>
<li><code>READ</code>: Reads data from a file.</li>
<li><code>WRITE</code>: Writes data to a file.</li>
<li><code>CLOSE</code>: Closes an open file.</li>
</ul>
</li>
<li>
<p><strong>File Access Modes</strong>:</p>
<ul>
<li><code>FORM='BINARY'</code>: Specifies that the file is a binary file.</li>
<li><code>ACCESS='STREAM'</code>: Allows for unformatted, direct access to the file.</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Opening a Binary File</p>
</h2>
<div class='content'><p>To open a binary file for reading or writing, you use the <code>OPEN</code> statement with the appropriate parameters.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBPcGVuQmluYXJ5RmlsZQogIElOVEVHRVIgOjogdW5pdF9udW1iZXIKICBDSEFSQUNURVIoTEVOPTIwKSA6OiBmaWxlbmFtZQoKICB1bml0X251bWJlciA9IDEwCiAgZmlsZW5hbWUgPSAnZGF0YS5iaW4nCgogIE9QRU4oVU5JVD11bml0X251bWJlciwgRklMRT1maWxlbmFtZSwgRk9STT0nQklOQVJZJywgQUNDRVNTPSdTVFJFQU0nLCBTVEFUVVM9J1JFUExBQ0UnKQogICEgVGhlIGZpbGUgaXMgbm93IG9wZW4gZm9yIGJpbmFyeSBvcGVyYXRpb25zCiAgQ0xPU0UoVU5JVD11bml0X251bWJlcikKRU5EIFBST0dSQU0gT3BlbkJpbmFyeUZpbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM OpenBinaryFile
  INTEGER :: unit_number
  CHARACTER(LEN=20) :: filename

  unit_number = 10
  filename = 'data.bin'

  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='REPLACE')
  ! The file is now open for binary operations
  CLOSE(UNIT=unit_number)
END PROGRAM OpenBinaryFile</pre></div><div class='content'></div><h2><p>Writing to a Binary File</p>
</h2>
<div class='content'><p>To write data to a binary file, you use the <code>WRITE</code> statement.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBXcml0ZUJpbmFyeUZpbGUKICBJTlRFR0VSIDo6IHVuaXRfbnVtYmVyCiAgQ0hBUkFDVEVSKExFTj0yMCkgOjogZmlsZW5hbWUKICBJTlRFR0VSIDo6IGRhdGEoNSkgPSBbMSwgMiwgMywgNCwgNV0KCiAgdW5pdF9udW1iZXIgPSAxMAogIGZpbGVuYW1lID0gJ2RhdGEuYmluJwoKICBPUEVOKFVOSVQ9dW5pdF9udW1iZXIsIEZJTEU9ZmlsZW5hbWUsIEZPUk09J0JJTkFSWScsIEFDQ0VTUz0nU1RSRUFNJywgU1RBVFVTPSdSRVBMQUNFJykKICBXUklURShVTklUPXVuaXRfbnVtYmVyKSBkYXRhCiAgQ0xPU0UoVU5JVD11bml0X251bWJlcikKRU5EIFBST0dSQU0gV3JpdGVCaW5hcnlGaWxl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM WriteBinaryFile
  INTEGER :: unit_number
  CHARACTER(LEN=20) :: filename
  INTEGER :: data(5) = [1, 2, 3, 4, 5]

  unit_number = 10
  filename = 'data.bin'

  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='REPLACE')
  WRITE(UNIT=unit_number) data
  CLOSE(UNIT=unit_number)
END PROGRAM WriteBinaryFile</pre></div><div class='content'></div><h2><p>Reading from a Binary File</p>
</h2>
<div class='content'><p>To read data from a binary file, you use the <code>READ</code> statement.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBSZWFkQmluYXJ5RmlsZQogIElOVEVHRVIgOjogdW5pdF9udW1iZXIKICBDSEFSQUNURVIoTEVOPTIwKSA6OiBmaWxlbmFtZQogIElOVEVHRVIgOjogZGF0YSg1KQoKICB1bml0X251bWJlciA9IDEwCiAgZmlsZW5hbWUgPSAnZGF0YS5iaW4nCgogIE9QRU4oVU5JVD11bml0X251bWJlciwgRklMRT1maWxlbmFtZSwgRk9STT0nQklOQVJZJywgQUNDRVNTPSdTVFJFQU0nLCBTVEFUVVM9J09MRCcpCiAgUkVBRChVTklUPXVuaXRfbnVtYmVyKSBkYXRhCiAgQ0xPU0UoVU5JVD11bml0X251bWJlcikKCiAgUFJJTlQgKiwgJ0RhdGEgcmVhZCBmcm9tIGZpbGU6JywgZGF0YQpFTkQgUFJPR1JBTSBSZWFkQmluYXJ5RmlsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM ReadBinaryFile
  INTEGER :: unit_number
  CHARACTER(LEN=20) :: filename
  INTEGER :: data(5)

  unit_number = 10
  filename = 'data.bin'

  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='OLD')
  READ(UNIT=unit_number) data
  CLOSE(UNIT=unit_number)

  PRINT *, 'Data read from file:', data
END PROGRAM ReadBinaryFile</pre></div><div class='content'></div><h2><p>Closing a Binary File</p>
</h2>
<div class='content'><p>Always ensure to close the file after completing the read or write operations to free up system resources.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q0xPU0UoVU5JVD11bml0X251bWJlcik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CLOSE(UNIT=unit_number)</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Write and Read an Array</p>
</h2>
<div class='content'><p><strong>Task</strong>: Write a program that writes an array of real numbers to a binary file and then reads the array back from the file.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBXcml0ZVJlYWRBcnJheQogIElOVEVHRVIgOjogdW5pdF9udW1iZXIKICBDSEFSQUNURVIoTEVOPTIwKSA6OiBmaWxlbmFtZQogIFJFQUwgOjogZGF0YV93cml0ZSg1KSA9IFsxLjEsIDIuMiwgMy4zLCA0LjQsIDUuNV0KICBSRUFMIDo6IGRhdGFfcmVhZCg1KQoKICB1bml0X251bWJlciA9IDEwCiAgZmlsZW5hbWUgPSAncmVhbF9kYXRhLmJpbicKCiAgISBXcml0ZSBkYXRhIHRvIGJpbmFyeSBmaWxlCiAgT1BFTihVTklUPXVuaXRfbnVtYmVyLCBGSUxFPWZpbGVuYW1lLCBGT1JNPSdCSU5BUlknLCBBQ0NFU1M9J1NUUkVBTScsIFNUQVRVUz0nUkVQTEFDRScpCiAgV1JJVEUoVU5JVD11bml0X251bWJlcikgZGF0YV93cml0ZQogIENMT1NFKFVOSVQ9dW5pdF9udW1iZXIpCgogICEgUmVhZCBkYXRhIGZyb20gYmluYXJ5IGZpbGUKICBPUEVOKFVOSVQ9dW5pdF9udW1iZXIsIEZJTEU9ZmlsZW5hbWUsIEZPUk09J0JJTkFSWScsIEFDQ0VTUz0nU1RSRUFNJywgU1RBVFVTPSdPTEQnKQogIFJFQUQoVU5JVD11bml0X251bWJlcikgZGF0YV9yZWFkCiAgQ0xPU0UoVU5JVD11bml0X251bWJlcikKCiAgUFJJTlQgKiwgJ0RhdGEgcmVhZCBmcm9tIGZpbGU6JywgZGF0YV9yZWFkCkVORCBQUk9HUkFNIFdyaXRlUmVhZEFycmF5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM WriteReadArray
  INTEGER :: unit_number
  CHARACTER(LEN=20) :: filename
  REAL :: data_write(5) = [1.1, 2.2, 3.3, 4.4, 5.5]
  REAL :: data_read(5)

  unit_number = 10
  filename = 'real_data.bin'

  ! Write data to binary file
  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='REPLACE')
  WRITE(UNIT=unit_number) data_write
  CLOSE(UNIT=unit_number)

  ! Read data from binary file
  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='OLD')
  READ(UNIT=unit_number) data_read
  CLOSE(UNIT=unit_number)

  PRINT *, 'Data read from file:', data_read
END PROGRAM WriteReadArray</pre></div><div class='content'></div><h2><p>Exercise 2: Binary File with Mixed Data Types</p>
</h2>
<div class='content'><p><strong>Task</strong>: Write a program that writes an integer, a real number, and a character to a binary file and then reads them back.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBXcml0ZVJlYWRNaXhlZERhdGEKICBJTlRFR0VSIDo6IHVuaXRfbnVtYmVyCiAgQ0hBUkFDVEVSKExFTj0yMCkgOjogZmlsZW5hbWUKICBJTlRFR0VSIDo6IGludF9kYXRhID0gNDIKICBSRUFMIDo6IHJlYWxfZGF0YSA9IDMuMTQKICBDSEFSQUNURVIoTEVOPTEpIDo6IGNoYXJfZGF0YSA9ICdBJwogIElOVEVHRVIgOjogaW50X3JlYWQKICBSRUFMIDo6IHJlYWxfcmVhZAogIENIQVJBQ1RFUihMRU49MSkgOjogY2hhcl9yZWFkCgogIHVuaXRfbnVtYmVyID0gMTAKICBmaWxlbmFtZSA9ICdtaXhlZF9kYXRhLmJpbicKCiAgISBXcml0ZSBkYXRhIHRvIGJpbmFyeSBmaWxlCiAgT1BFTihVTklUPXVuaXRfbnVtYmVyLCBGSUxFPWZpbGVuYW1lLCBGT1JNPSdCSU5BUlknLCBBQ0NFU1M9J1NUUkVBTScsIFNUQVRVUz0nUkVQTEFDRScpCiAgV1JJVEUoVU5JVD11bml0X251bWJlcikgaW50X2RhdGEsIHJlYWxfZGF0YSwgY2hhcl9kYXRhCiAgQ0xPU0UoVU5JVD11bml0X251bWJlcikKCiAgISBSZWFkIGRhdGEgZnJvbSBiaW5hcnkgZmlsZQogIE9QRU4oVU5JVD11bml0X251bWJlciwgRklMRT1maWxlbmFtZSwgRk9STT0nQklOQVJZJywgQUNDRVNTPSdTVFJFQU0nLCBTVEFUVVM9J09MRCcpCiAgUkVBRChVTklUPXVuaXRfbnVtYmVyKSBpbnRfcmVhZCwgcmVhbF9yZWFkLCBjaGFyX3JlYWQKICBDTE9TRShVTklUPXVuaXRfbnVtYmVyKQoKICBQUklOVCAqLCAnSW50ZWdlciByZWFkIGZyb20gZmlsZTonLCBpbnRfcmVhZAogIFBSSU5UICosICdSZWFsIG51bWJlciByZWFkIGZyb20gZmlsZTonLCByZWFsX3JlYWQKICBQUklOVCAqLCAnQ2hhcmFjdGVyIHJlYWQgZnJvbSBmaWxlOicsIGNoYXJfcmVhZApFTkQgUFJPR1JBTSBXcml0ZVJlYWRNaXhlZERhdGE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM WriteReadMixedData
  INTEGER :: unit_number
  CHARACTER(LEN=20) :: filename
  INTEGER :: int_data = 42
  REAL :: real_data = 3.14
  CHARACTER(LEN=1) :: char_data = 'A'
  INTEGER :: int_read
  REAL :: real_read
  CHARACTER(LEN=1) :: char_read

  unit_number = 10
  filename = 'mixed_data.bin'

  ! Write data to binary file
  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='REPLACE')
  WRITE(UNIT=unit_number) int_data, real_data, char_data
  CLOSE(UNIT=unit_number)

  ! Read data from binary file
  OPEN(UNIT=unit_number, FILE=filename, FORM='BINARY', ACCESS='STREAM', STATUS='OLD')
  READ(UNIT=unit_number) int_read, real_read, char_read
  CLOSE(UNIT=unit_number)

  PRINT *, 'Integer read from file:', int_read
  PRINT *, 'Real number read from file:', real_read
  PRINT *, 'Character read from file:', char_read
END PROGRAM WriteReadMixedData</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Forgetting to Close Files</strong>: Always close files after operations to avoid resource leaks.</li>
<li><strong>Incorrect File Access Mode</strong>: Ensure you use <code>FORM='BINARY'</code> and <code>ACCESS='STREAM'</code> for binary files.</li>
<li><strong>Data Type Mismatch</strong>: Ensure the data types used in <code>WRITE</code> and <code>READ</code> statements match the data being written and read.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned how to perform binary file operations in Fortran, including opening, reading, writing, and closing binary files. These skills are essential for handling non-text data efficiently. Practice the exercises provided to reinforce your understanding and prepare for more advanced file handling techniques.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-03-file-positioning' title="File Positioning">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-modules-interfaces' title="Modules and Interfaces">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
