<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PL/SQL Block Structure</title>

    <link rel="alternate" href="https://campusempresa.com/mod/plsql/plsql-block-structure" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/plsql/plsql-block-structure" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/plsql/plsql-block-structure" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/plsql/plsql-block-structure" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/plsql/plsql-block-structure" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='hello-world-plsql'>&#x25C4;Hello World in PL/SQL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">PL/SQL Block Structure</a>
	</div>
	<div class='col-4 text-end'>
					<a href='variables-data-types'>Variables and Data Types &#x25BA;</a>
			</div>
</div>
<div class='content'><p>PL/SQL (Procedural Language/Structured Query Language) is Oracle Corporation's procedural extension for SQL and the Oracle relational database. Understanding the block structure of PL/SQL is fundamental for writing efficient and organized code. This topic will cover the basic structure of a PL/SQL block, its components, and how to use them effectively.</p>
</div><h1>Basic Structure of a PL/SQL Block</h1>
<div class='content'><p>A PL/SQL block is the basic unit of a PL/SQL program. It consists of three main sections:</p>
<ol>
<li><strong>Declaration Section</strong>: Used to declare variables, constants, cursors, and exceptions.</li>
<li><strong>Execution Section</strong>: Contains the code that performs the desired operations.</li>
<li><strong>Exception Handling Section</strong>: Handles exceptions or errors that occur during the execution.</li>
</ol>
</div><h2>Example of a Simple PL/SQL Block</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogICAtLSBEZWNsYXJhdGlvbiBTZWN0aW9uCiAgIHZfbWVzc2FnZSBWQVJDSEFSMig1MCk7CkJFR0lOCiAgIC0tIEV4ZWN1dGlvbiBTZWN0aW9uCiAgIHZfbWVzc2FnZSA6PSAnSGVsbG8sIFBML1NRTCEnOwogICBEQk1TX09VVFBVVC5QVVRfTElORSh2X21lc3NhZ2UpOwpFWENFUFRJT04KICAgLS0gRXhjZXB0aW9uIEhhbmRsaW5nIFNlY3Rpb24KICAgV0hFTiBPVEhFUlMgVEhFTgogICAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnQW4gZXJyb3Igb2NjdXJyZWQuJyk7CkVORDsKLw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
   -- Declaration Section
   v_message VARCHAR2(50);
BEGIN
   -- Execution Section
   v_message := 'Hello, PL/SQL!';
   DBMS_OUTPUT.PUT_LINE(v_message);
EXCEPTION
   -- Exception Handling Section
   WHEN OTHERS THEN
      DBMS_OUTPUT.PUT_LINE('An error occurred.');
END;
/</pre></div><div class='content'></div><h2>Explanation of the Example</h2>
<div class='content'><ul>
<li><strong>DECLARE</strong>: This keyword starts the declaration section where variables and other elements are declared.</li>
<li><strong>BEGIN</strong>: This keyword starts the execution section where the main logic of the PL/SQL block is written.</li>
<li><strong>EXCEPTION</strong>: This keyword starts the exception handling section where errors are managed.</li>
<li><strong>END</strong>: This keyword marks the end of the PL/SQL block.</li>
<li><strong>DBMS_OUTPUT.PUT_LINE</strong>: This is a built-in procedure to display output to the console.</li>
</ul>
</div><h1>Components of a PL/SQL Block</h1>
<div class='content'></div><h2>Declaration Section</h2>
<div class='content'><ul>
<li><strong>Variables</strong>: Used to store data that can change during the execution of the block.</li>
<li><strong>Constants</strong>: Used to store data that does not change.</li>
<li><strong>Cursors</strong>: Used to retrieve multiple rows from a query.</li>
<li><strong>Exceptions</strong>: Used to handle runtime errors.</li>
</ul>
</div><h2>Execution Section</h2>
<div class='content'><ul>
<li><strong>Control Structures</strong>: Includes loops (FOR, WHILE), conditional statements (IF, CASE), and sequential statements.</li>
<li><strong>SQL Statements</strong>: Includes SELECT, INSERT, UPDATE, DELETE operations.</li>
<li><strong>PL/SQL Statements</strong>: Includes assignments, procedure calls, and other PL/SQL-specific operations.</li>
</ul>
</div><h2>Exception Handling Section</h2>
<div class='content'><ul>
<li><strong>Predefined Exceptions</strong>: These are exceptions that are automatically raised by the Oracle database.</li>
<li><strong>User-defined Exceptions</strong>: These are exceptions defined by the programmer to handle specific error conditions.</li>
</ul>
</div><h1>Example with All Sections</h1>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogICAtLSBEZWNsYXJhdGlvbiBTZWN0aW9uCiAgIHZfZW1wbG95ZWVfbmFtZSBWQVJDSEFSMig1MCk7CiAgIHZfZW1wbG95ZWVfaWQgTlVNQkVSIDo9IDEwMDE7CiAgIGVfaW52YWxpZF9pZCBFWENFUFRJT047CkJFR0lOCiAgIC0tIEV4ZWN1dGlvbiBTZWN0aW9uCiAgIFNFTEVDVCBlbXBsb3llZV9uYW1lIElOVE8gdl9lbXBsb3llZV9uYW1lCiAgIEZST00gZW1wbG95ZWVzCiAgIFdIRVJFIGVtcGxveWVlX2lkID0gdl9lbXBsb3llZV9pZDsKICAgCiAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFbXBsb3llZSBOYW1lOiAnIHx8IHZfZW1wbG95ZWVfbmFtZSk7CiAgIAogICAtLSBSYWlzZSBhIHVzZXItZGVmaW5lZCBleGNlcHRpb24KICAgSUYgdl9lbXBsb3llZV9pZCA8IDEwMDAgVEhFTgogICAgICBSQUlTRSBlX2ludmFsaWRfaWQ7CiAgIEVORCBJRjsKRVhDRVBUSU9OCiAgIC0tIEV4Y2VwdGlvbiBIYW5kbGluZyBTZWN0aW9uCiAgIFdIRU4gTk9fREFUQV9GT1VORCBUSEVOCiAgICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdObyBlbXBsb3llZSBmb3VuZCB3aXRoIHRoZSBnaXZlbiBJRC4nKTsKICAgV0hFTiBlX2ludmFsaWRfaWQgVEhFTgogICAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnSW52YWxpZCBlbXBsb3llZSBJRC4nKTsKICAgV0hFTiBPVEhFUlMgVEhFTgogICAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4nKTsKRU5EOwov"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
   -- Declaration Section
   v_employee_name VARCHAR2(50);
   v_employee_id NUMBER := 1001;
   e_invalid_id EXCEPTION;
BEGIN
   -- Execution Section
   SELECT employee_name INTO v_employee_name
   FROM employees
   WHERE employee_id = v_employee_id;
   
   DBMS_OUTPUT.PUT_LINE('Employee Name: ' || v_employee_name);
   
   -- Raise a user-defined exception
   IF v_employee_id &lt; 1000 THEN
      RAISE e_invalid_id;
   END IF;
EXCEPTION
   -- Exception Handling Section
   WHEN NO_DATA_FOUND THEN
      DBMS_OUTPUT.PUT_LINE('No employee found with the given ID.');
   WHEN e_invalid_id THEN
      DBMS_OUTPUT.PUT_LINE('Invalid employee ID.');
   WHEN OTHERS THEN
      DBMS_OUTPUT.PUT_LINE('An unexpected error occurred.');
END;
/</pre></div><div class='content'></div><h2>Explanation of the Example</h2>
<div class='content'><ul>
<li><strong>v_employee_name</strong>: A variable to store the employee's name.</li>
<li><strong>v_employee_id</strong>: A variable initialized with an employee ID.</li>
<li><strong>e_invalid_id</strong>: A user-defined exception.</li>
<li><strong>SELECT INTO</strong>: A SQL statement to fetch the employee's name based on the employee ID.</li>
<li><strong>RAISE</strong>: A statement to raise a user-defined exception.</li>
<li><strong>WHEN NO_DATA_FOUND</strong>: A predefined exception for handling cases where no data is found.</li>
<li><strong>WHEN OTHERS</strong>: A catch-all exception handler for any unexpected errors.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding the structure of a PL/SQL block is crucial for writing effective PL/SQL programs. Each section of the block serves a specific purpose, and knowing how to use them correctly will help you handle data manipulation and error management efficiently. Practice writing PL/SQL blocks with different scenarios to become proficient in using this powerful language.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='hello-world-plsql'>&#x25C4;Hello World in PL/SQL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">PL/SQL Block Structure</a>
	</div>
	<div class='col-4 text-end'>
					<a href='variables-data-types'>Variables and Data Types &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
