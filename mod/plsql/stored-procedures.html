<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stored Procedures in PL/SQL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/plsql/stored-procedures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/plsql/stored-procedures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/plsql/stored-procedures" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/plsql/stored-procedures" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/plsql/stored-procedures" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='transaction-control'>&#x25C4;Transaction Control</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Stored Procedures in PL/SQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='functions'>Functions &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Stored procedures are a powerful feature in PL/SQL that allow you to encapsulate and reuse code. This topic will guide you from the basics to advanced concepts of stored procedures in PL/SQL.</p>
</div><h1>Introduction to Stored Procedures</h1>
<div class='content'><p>Stored procedures are subprograms stored in the database that can be executed to perform a specific task. They help in improving performance, maintaining consistency, and enhancing security.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A stored procedure is a named PL/SQL block that can accept parameters and be invoked to perform a specific task.</li>
<li><strong>Advantages</strong>:
<ul>
<li><strong>Performance</strong>: Reduced network traffic and better execution speed.</li>
<li><strong>Reusability</strong>: Code can be reused across multiple applications.</li>
<li><strong>Security</strong>: Access can be controlled through permissions.</li>
<li><strong>Maintainability</strong>: Easier to manage and update code.</li>
</ul>
</li>
</ul>
</div><h1>Creating Stored Procedures</h1>
<div class='content'><p>To create a stored procedure, you use the <code>CREATE PROCEDURE</code> statement. Here is the basic syntax:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFtPUiBSRVBMQUNFXSBQUk9DRURVUkUgcHJvY2VkdXJlX25hbWUgCiAgWyAocGFyYW1ldGVyX25hbWUgW0lOIHwgT1VUIHwgSU4gT1VUXSBkYXRhX3R5cGUgWywgLi4uXSkgXQpJUwogIC0tIERlY2xhcmF0aW9ucwpCRUdJTgogIC0tIEV4ZWN1dGFibGUgc3RhdGVtZW50cwpFWENFUFRJT04KICAtLSBFeGNlcHRpb24gaGFuZGxpbmcKRU5EIHByb2NlZHVyZV9uYW1lOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE [OR REPLACE] PROCEDURE procedure_name 
  [ (parameter_name [IN | OUT | IN OUT] data_type [, ...]) ]
IS
  -- Declarations
BEGIN
  -- Executable statements
EXCEPTION
  -- Exception handling
END procedure_name;</pre></div><div class='content'></div><h2>Example: Simple Stored Procedure</h2>
<div class='content'><p>Let's create a simple stored procedure that prints &quot;Hello, World!&quot;.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIHNheV9oZWxsbyBJUwpCRUdJTgogIERCTVNfT1VUUFVULlBVVF9MSU5FKCdIZWxsbywgV29ybGQhJyk7CkVORCBzYXlfaGVsbG87"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE say_hello IS
BEGIN
  DBMS_OUTPUT.PUT_LINE('Hello, World!');
END say_hello;</pre></div><div class='content'><p>To execute this procedure, you can use:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICBzYXlfaGVsbG87CkVORDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
  say_hello;
END;</pre></div><div class='content'></div><h1>Parameters in Stored Procedures</h1>
<div class='content'><p>Stored procedures can accept parameters to make them more flexible and dynamic. There are three types of parameters:</p>
<ul>
<li><strong>IN</strong>: Passes a value into the procedure.</li>
<li><strong>OUT</strong>: Returns a value from the procedure.</li>
<li><strong>IN OUT</strong>: Passes a value into the procedure and returns an updated value.</li>
</ul>
</div><h2>Example: Procedure with Parameters</h2>
<div class='content'><p>Here is an example of a stored procedure with IN and OUT parameters:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGdyZWV0X3VzZXIgKAogIHBfbmFtZSBJTiBWQVJDSEFSMiwKICBwX2dyZWV0aW5nIE9VVCBWQVJDSEFSMgopIElTCkJFR0lOCiAgcF9ncmVldGluZyA6PSAnSGVsbG8sICcgfHwgcF9uYW1lIHx8ICchJzsKRU5EIGdyZWV0X3VzZXI7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE greet_user (
  p_name IN VARCHAR2,
  p_greeting OUT VARCHAR2
) IS
BEGIN
  p_greeting := 'Hello, ' || p_name || '!';
END greet_user;</pre></div><div class='content'><p>To execute this procedure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogIHZfZ3JlZXRpbmcgVkFSQ0hBUjIoNTApOwpCRUdJTgogIGdyZWV0X3VzZXIoJ0FsaWNlJywgdl9ncmVldGluZyk7CiAgREJNU19PVVRQVVQuUFVUX0xJTkUodl9ncmVldGluZyk7CkVORDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
  v_greeting VARCHAR2(50);
BEGIN
  greet_user('Alice', v_greeting);
  DBMS_OUTPUT.PUT_LINE(v_greeting);
END;</pre></div><div class='content'></div><h1>Handling Exceptions in Stored Procedures</h1>
<div class='content'><p>Exception handling is crucial for managing errors and ensuring the robustness of your stored procedures.</p>
</div><h2>Example: Procedure with Exception Handling</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGRpdmlkZV9udW1iZXJzICgKICBwX251bTEgSU4gTlVNQkVSLAogIHBfbnVtMiBJTiBOVU1CRVIsCiAgcF9yZXN1bHQgT1VUIE5VTUJFUgopIElTCkJFR0lOCiAgcF9yZXN1bHQgOj0gcF9udW0xIC8gcF9udW0yOwpFWENFUFRJT04KICBXSEVOIFpFUk9fRElWSURFIFRIRU4KICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFcnJvcjogRGl2aXNpb24gYnkgemVyby4nKTsKICAgIHBfcmVzdWx0IDo9IE5VTEw7CkVORCBkaXZpZGVfbnVtYmVyczs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE divide_numbers (
  p_num1 IN NUMBER,
  p_num2 IN NUMBER,
  p_result OUT NUMBER
) IS
BEGIN
  p_result := p_num1 / p_num2;
EXCEPTION
  WHEN ZERO_DIVIDE THEN
    DBMS_OUTPUT.PUT_LINE('Error: Division by zero.');
    p_result := NULL;
END divide_numbers;</pre></div><div class='content'><p>To execute this procedure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogIHZfcmVzdWx0IE5VTUJFUjsKQkVHSU4KICBkaXZpZGVfbnVtYmVycygxMCwgMCwgdl9yZXN1bHQpOwogIERCTVNfT1VUUFVULlBVVF9MSU5FKCdSZXN1bHQ6ICcgfHwgdl9yZXN1bHQpOwpFTkQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
  v_result NUMBER;
BEGIN
  divide_numbers(10, 0, v_result);
  DBMS_OUTPUT.PUT_LINE('Result: ' || v_result);
END;</pre></div><div class='content'></div><h1>Advanced Topics</h1>
<div class='content'></div><h2>Using Cursors in Stored Procedures</h2>
<div class='content'><p>Cursors allow you to fetch and manipulate data row-by-row.</p>
<h4>Example: Procedure with Cursor</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGxpc3RfZW1wbG95ZWVzIElTCiAgQ1VSU09SIGVtcF9jdXJzb3IgSVMKICAgIFNFTEVDVCBmaXJzdF9uYW1lLCBsYXN0X25hbWUgRlJPTSBlbXBsb3llZXM7CiAgdl9maXJzdF9uYW1lIGVtcGxveWVlcy5maXJzdF9uYW1lJVRZUEU7CiAgdl9sYXN0X25hbWUgZW1wbG95ZWVzLmxhc3RfbmFtZSVUWVBFOwpCRUdJTgogIE9QRU4gZW1wX2N1cnNvcjsKICBMT09QCiAgICBGRVRDSCBlbXBfY3Vyc29yIElOVE8gdl9maXJzdF9uYW1lLCB2X2xhc3RfbmFtZTsKICAgIEVYSVQgV0hFTiBlbXBfY3Vyc29yJU5PVEZPVU5EOwogICAgREJNU19PVVRQVVQuUFVUX0xJTkUodl9maXJzdF9uYW1lIHx8ICcgJyB8fCB2X2xhc3RfbmFtZSk7CiAgRU5EIExPT1A7CiAgQ0xPU0UgZW1wX2N1cnNvcjsKRU5EIGxpc3RfZW1wbG95ZWVzOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE list_employees IS
  CURSOR emp_cursor IS
    SELECT first_name, last_name FROM employees;
  v_first_name employees.first_name%TYPE;
  v_last_name employees.last_name%TYPE;
BEGIN
  OPEN emp_cursor;
  LOOP
    FETCH emp_cursor INTO v_first_name, v_last_name;
    EXIT WHEN emp_cursor%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE(v_first_name || ' ' || v_last_name);
  END LOOP;
  CLOSE emp_cursor;
END list_employees;</pre></div><div class='content'></div><h2>Dynamic SQL in Stored Procedures</h2>
<div class='content'><p>Dynamic SQL allows you to build and execute SQL statements dynamically at runtime.</p>
<h4>Example: Procedure with Dynamic SQL</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGV4ZWN1dGVfZHluYW1pY19zcWwgKAogIHBfdGFibGVfbmFtZSBJTiBWQVJDSEFSMgopIElTCiAgdl9zcWwgVkFSQ0hBUjIoMjAwKTsKQkVHSU4KICB2X3NxbCA6PSAnU0VMRUNUIENPVU5UKCopIEZST00gJyB8fCBwX3RhYmxlX25hbWU7CiAgRVhFQ1VURSBJTU1FRElBVEUgdl9zcWwgSU5UTyB2X2NvdW50OwogIERCTVNfT1VUUFVULlBVVF9MSU5FKCdDb3VudDogJyB8fCB2X2NvdW50KTsKRU5EIGV4ZWN1dGVfZHluYW1pY19zcWw7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE execute_dynamic_sql (
  p_table_name IN VARCHAR2
) IS
  v_sql VARCHAR2(200);
BEGIN
  v_sql := 'SELECT COUNT(*) FROM ' || p_table_name;
  EXECUTE IMMEDIATE v_sql INTO v_count;
  DBMS_OUTPUT.PUT_LINE('Count: ' || v_count);
END execute_dynamic_sql;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Stored procedures in PL/SQL are a powerful tool for encapsulating and reusing code. They enhance performance, security, and maintainability. By understanding how to create, use parameters, handle exceptions, and implement advanced features like cursors and dynamic SQL, you can leverage stored procedures to build robust and efficient database applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='transaction-control'>&#x25C4;Transaction Control</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Stored Procedures in PL/SQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='functions'>Functions &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
