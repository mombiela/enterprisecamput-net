<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Statements in PL/SQL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/plsql/03-01-sql-statements" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/plsql/03-01-sql-statements" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/plsql/03-01-sql-statements" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/plsql/03-01-sql-statements" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/plsql/03-01-sql-statements" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-exception-handling' title="Exception Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">SQL Statements in PL/SQL</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-implicit-explicit-cursors' title="Implicit and Explicit Cursors">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use SQL statements within PL/SQL. This is a fundamental skill, as PL/SQL is designed to extend SQL's capabilities by adding procedural constructs. By the end of this section, you will be able to embed SQL statements in your PL/SQL code to interact with the database effectively.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Embedding SQL in PL/SQL</strong>: Learn how to include SQL statements within PL/SQL blocks.</li>
<li><strong>Data Manipulation Language (DML)</strong>: Understand how to use INSERT, UPDATE, DELETE, and SELECT statements.</li>
<li><strong>Transaction Control</strong>: Learn how to manage transactions using COMMIT, ROLLBACK, and SAVEPOINT.</li>
<li><strong>Data Definition Language (DDL)</strong>: Understand how to execute DDL statements like CREATE, ALTER, and DROP within PL/SQL.</li>
</ol>
</div><h1>Embedding SQL in PL/SQL</h1>
<div class='content'><p>PL/SQL allows you to embed SQL statements directly within its blocks. Here’s a simple example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIC0tIFNRTCBzdGF0ZW1lbnQgZW1iZWRkZWQgaW4gUEwvU1FMCiAgICBJTlNFUlQgSU5UTyBlbXBsb3llZXMgKGVtcGxveWVlX2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsLCBoaXJlX2RhdGUsIGpvYl9pZCkKICAgIFZBTFVFUyAoMTAwMSwgJ0pvaG4nLCAnRG9lJywgJ2pvaG4uZG9lQGV4YW1wbGUuY29tJywgU1lTREFURSwgJ0lUX1BST0cnKTsKRU5EOwov"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    -- SQL statement embedded in PL/SQL
    INSERT INTO employees (employee_id, first_name, last_name, email, hire_date, job_id)
    VALUES (1001, 'John', 'Doe', 'john.doe@example.com', SYSDATE, 'IT_PROG');
END;
/</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>BEGIN...END</strong>: This marks the start and end of a PL/SQL block.</li>
<li><strong>INSERT INTO</strong>: This is a SQL statement that inserts a new row into the <code>employees</code> table.</li>
</ul>
</div><h1>Data Manipulation Language (DML)</h1>
<div class='content'></div><h2>INSERT Statement</h2>
<div class='content'><p>The <code>INSERT</code> statement is used to add new rows to a table.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIElOU0VSVCBJTlRPIGVtcGxveWVlcyAoZW1wbG95ZWVfaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIGhpcmVfZGF0ZSwgam9iX2lkKQogICAgVkFMVUVTICgxMDAyLCAnSmFuZScsICdTbWl0aCcsICdqYW5lLnNtaXRoQGV4YW1wbGUuY29tJywgU1lTREFURSwgJ0hSX1JFUCcpOwpFTkQ7Ci8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    INSERT INTO employees (employee_id, first_name, last_name, email, hire_date, job_id)
    VALUES (1002, 'Jane', 'Smith', 'jane.smith@example.com', SYSDATE, 'HR_REP');
END;
/</pre></div><div class='content'></div><h2>UPDATE Statement</h2>
<div class='content'><p>The <code>UPDATE</code> statement modifies existing rows in a table.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMKICAgIFNFVCBlbWFpbCA9ICdqYW5lLnNtaXRoQG5ld2RvbWFpbi5jb20nCiAgICBXSEVSRSBlbXBsb3llZV9pZCA9IDEwMDI7CkVORDsKLw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    UPDATE employees
    SET email = 'jane.smith@newdomain.com'
    WHERE employee_id = 1002;
END;
/</pre></div><div class='content'></div><h2>DELETE Statement</h2>
<div class='content'><p>The <code>DELETE</code> statement removes rows from a table.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIERFTEVURSBGUk9NIGVtcGxveWVlcwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAxMDAyOwpFTkQ7Ci8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    DELETE FROM employees
    WHERE employee_id = 1002;
END;
/</pre></div><div class='content'></div><h2>SELECT INTO Statement</h2>
<div class='content'><p>The <code>SELECT INTO</code> statement retrieves data from the database and stores it into PL/SQL variables.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogICAgdl9maXJzdF9uYW1lIGVtcGxveWVlcy5maXJzdF9uYW1lJVRZUEU7CiAgICB2X2xhc3RfbmFtZSBlbXBsb3llZXMubGFzdF9uYW1lJVRZUEU7CkJFR0lOCiAgICBTRUxFQ1QgZmlyc3RfbmFtZSwgbGFzdF9uYW1lCiAgICBJTlRPIHZfZmlyc3RfbmFtZSwgdl9sYXN0X25hbWUKICAgIEZST00gZW1wbG95ZWVzCiAgICBXSEVSRSBlbXBsb3llZV9pZCA9IDEwMDE7CiAgICAKICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFbXBsb3llZSBOYW1lOiAnIHx8IHZfZmlyc3RfbmFtZSB8fCAnICcgfHwgdl9sYXN0X25hbWUpOwpFTkQ7Ci8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
    v_first_name employees.first_name%TYPE;
    v_last_name employees.last_name%TYPE;
BEGIN
    SELECT first_name, last_name
    INTO v_first_name, v_last_name
    FROM employees
    WHERE employee_id = 1001;
    
    DBMS_OUTPUT.PUT_LINE('Employee Name: ' || v_first_name || ' ' || v_last_name);
END;
/</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><strong>DECLARE</strong>: This section is used to declare variables.</li>
<li><strong>v_first_name, v_last_name</strong>: Variables to store the retrieved data.</li>
<li><strong>SELECT INTO</strong>: Retrieves data from the <code>employees</code> table and stores it in the declared variables.</li>
<li><strong>DBMS_OUTPUT.PUT_LINE</strong>: Outputs the retrieved data.</li>
</ul>
</div><h1>Transaction Control</h1>
<div class='content'></div><h2>COMMIT</h2>
<div class='content'><p>The <code>COMMIT</code> statement saves all changes made during the current transaction.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMKICAgIFNFVCBqb2JfaWQgPSAnU0FfUkVQJwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAxMDAxOwogICAgCiAgICBDT01NSVQ7CkVORDsKLw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    UPDATE employees
    SET job_id = 'SA_REP'
    WHERE employee_id = 1001;
    
    COMMIT;
END;
/</pre></div><div class='content'></div><h2>ROLLBACK</h2>
<div class='content'><p>The <code>ROLLBACK</code> statement undoes all changes made during the current transaction.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMKICAgIFNFVCBqb2JfaWQgPSAnU0FfUkVQJwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAxMDAxOwogICAgCiAgICBST0xMQkFDSzsKRU5EOwov"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    UPDATE employees
    SET job_id = 'SA_REP'
    WHERE employee_id = 1001;
    
    ROLLBACK;
END;
/</pre></div><div class='content'></div><h2>SAVEPOINT</h2>
<div class='content'><p>The <code>SAVEPOINT</code> statement sets a point within a transaction to which you can later roll back.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFNBVkVQT0lOVCBiZWZvcmVfdXBkYXRlOwogICAgCiAgICBVUERBVEUgZW1wbG95ZWVzCiAgICBTRVQgam9iX2lkID0gJ1NBX1JFUCcKICAgIFdIRVJFIGVtcGxveWVlX2lkID0gMTAwMTsKICAgIAogICAgLS0gUm9sbGJhY2sgdG8gdGhlIHNhdmVwb2ludAogICAgUk9MTEJBQ0sgVE8gYmVmb3JlX3VwZGF0ZTsKRU5EOwov"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    SAVEPOINT before_update;
    
    UPDATE employees
    SET job_id = 'SA_REP'
    WHERE employee_id = 1001;
    
    -- Rollback to the savepoint
    ROLLBACK TO before_update;
END;
/</pre></div><div class='content'></div><h1>Data Definition Language (DDL)</h1>
<div class='content'><p>DDL statements can also be executed within PL/SQL using the <code>EXECUTE IMMEDIATE</code> statement.</p>
</div><h2>CREATE TABLE</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIEVYRUNVVEUgSU1NRURJQVRFICdDUkVBVEUgVEFCTEUgdGVzdF90YWJsZSAoaWQgTlVNQkVSLCBuYW1lIFZBUkNIQVIyKDUwKSknOwpFTkQ7Ci8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    EXECUTE IMMEDIATE 'CREATE TABLE test_table (id NUMBER, name VARCHAR2(50))';
END;
/</pre></div><div class='content'></div><h2>ALTER TABLE</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIEVYRUNVVEUgSU1NRURJQVRFICdBTFRFUiBUQUJMRSB0ZXN0X3RhYmxlIEFERCAoZW1haWwgVkFSQ0hBUjIoMTAwKSknOwpFTkQ7Ci8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    EXECUTE IMMEDIATE 'ALTER TABLE test_table ADD (email VARCHAR2(100))';
END;
/</pre></div><div class='content'></div><h2>DROP TABLE</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIEVYRUNVVEUgSU1NRURJQVRFICdEUk9QIFRBQkxFIHRlc3RfdGFibGUnOwpFTkQ7Ci8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    EXECUTE IMMEDIATE 'DROP TABLE test_table';
END;
/</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Insert and Select</h2>
<div class='content'><ol>
<li><strong>Task</strong>: Insert a new employee into the <code>employees</code> table and then retrieve and display the employee's name.</li>
<li><strong>Solution</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVDTEFSRQogICAgdl9maXJzdF9uYW1lIGVtcGxveWVlcy5maXJzdF9uYW1lJVRZUEU7CiAgICB2X2xhc3RfbmFtZSBlbXBsb3llZXMubGFzdF9uYW1lJVRZUEU7CkJFR0lOCiAgICBJTlNFUlQgSU5UTyBlbXBsb3llZXMgKGVtcGxveWVlX2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsLCBoaXJlX2RhdGUsIGpvYl9pZCkKICAgIFZBTFVFUyAoMTAwMywgJ0FsaWNlJywgJ0pvaG5zb24nLCAnYWxpY2Uuam9obnNvbkBleGFtcGxlLmNvbScsIFNZU0RBVEUsICdJVF9QUk9HJyk7CiAgICAKICAgIFNFTEVDVCBmaXJzdF9uYW1lLCBsYXN0X25hbWUKICAgIElOVE8gdl9maXJzdF9uYW1lLCB2X2xhc3RfbmFtZQogICAgRlJPTSBlbXBsb3llZXMKICAgIFdIRVJFIGVtcGxveWVlX2lkID0gMTAwMzsKICAgIAogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ0VtcGxveWVlIE5hbWU6ICcgfHwgdl9maXJzdF9uYW1lIHx8ICcgJyB8fCB2X2xhc3RfbmFtZSk7CkVORDsKLw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DECLARE
    v_first_name employees.first_name%TYPE;
    v_last_name employees.last_name%TYPE;
BEGIN
    INSERT INTO employees (employee_id, first_name, last_name, email, hire_date, job_id)
    VALUES (1003, 'Alice', 'Johnson', 'alice.johnson@example.com', SYSDATE, 'IT_PROG');
    
    SELECT first_name, last_name
    INTO v_first_name, v_last_name
    FROM employees
    WHERE employee_id = 1003;
    
    DBMS_OUTPUT.PUT_LINE('Employee Name: ' || v_first_name || ' ' || v_last_name);
END;
/</pre></div><div class='content'></div><h2>Exercise 2: Update and Rollback</h2>
<div class='content'><ol>
<li><strong>Task</strong>: Update an employee's job ID and then roll back the change.</li>
<li><strong>Solution</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMKICAgIFNFVCBqb2JfaWQgPSAnU0FfUkVQJwogICAgV0hFUkUgZW1wbG95ZWVfaWQgPSAxMDAzOwogICAgCiAgICBST0xMQkFDSzsKRU5EOwov"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN
    UPDATE employees
    SET job_id = 'SA_REP'
    WHERE employee_id = 1003;
    
    ROLLBACK;
END;
/</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to COMMIT</strong>: Always remember to commit your changes if you want them to be permanent.</li>
<li><strong>Incorrect Data Types</strong>: Ensure that the data types of your variables match the columns in the database.</li>
<li><strong>Handling NULL Values</strong>: Be cautious when dealing with NULL values in your SQL statements.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you learned how to embed SQL statements within PL/SQL blocks, manipulate data using DML statements, control transactions, and execute DDL statements. These skills are essential for interacting with the database effectively using PL/SQL. In the next section, we will delve deeper into cursors, which are crucial for handling query results in PL/SQL.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-exception-handling' title="Exception Handling">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-implicit-explicit-cursors' title="Implicit and Explicit Cursors">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
