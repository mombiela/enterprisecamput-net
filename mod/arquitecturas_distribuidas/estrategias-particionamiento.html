<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Partitioning Strategies</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitecturas_distribuidas/estrategias-particionamiento" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitecturas_distribuidas/estrategias-particionamiento" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitecturas_distribuidas/estrategias-particionamiento" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/arquitecturas_distribuidas/estrategias-particionamiento" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/arquitecturas_distribuidas/estrategias-particionamiento" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>In the context of distributed architectures, partitioning is a crucial technique to improve scalability, availability, and system performance. This topic will address the different partitioning strategies, their advantages and disadvantages, and how to implement them effectively.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Horizontal Partitioning (Sharding)</strong>: Dividing data into rows, distributing different rows across different nodes.</li>
<li><strong>Vertical Partitioning</strong>: Dividing data into columns, distributing different columns across different nodes.</li>
<li><strong>Range-Based Partitioning</strong>: Dividing data into ranges of values.</li>
<li><strong>Hash-Based Partitioning</strong>: Using a hash function to distribute data uniformly.</li>
<li><strong>Composite Partitioning</strong>: Combining multiple partitioning strategies.</li>
</ul>
</div><h1>Horizontal Partitioning (Sharding)</h1>
<div class='content'><p>Horizontal partitioning, also known as sharding, involves dividing a table into several smaller tables, called shards, which contain a subset of the original rows.</p>
</div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Scalability</strong>: Allows distributing the workload across multiple nodes.</li>
<li><strong>Availability</strong>: If one shard fails, the others can continue functioning.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Complexity</strong>: Requires additional logic to manage data distribution.</li>
<li><strong>Rebalancing</strong>: Moving data between shards can be costly.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG9mIGhvcml6b250YWwgcGFydGl0aW9uaW5nIGluIGEgTm9TUUwgZGF0YWJhc2UKZnJvbSBweW1vbmdvIGltcG9ydCBNb25nb0NsaWVudAoKY2xpZW50ID0gTW9uZ29DbGllbnQoJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvJykKZGIgPSBjbGllbnRbJ215X2RhdGFiYXNlJ10KCiMgSW5zZXJ0IGRvY3VtZW50cyBpbnRvIGRpZmZlcmVudCBzaGFyZHMKc2hhcmRfa2V5ID0gJ3VzZXJfaWQnCmZvciBpIGluIHJhbmdlKDEwMDApOgogICAgc2hhcmQgPSBpICUgNCAgIyBBc3NpZ24gc2hhcmQgYmFzZWQgb24gdXNlcl9pZAogICAgZGJbZidzaGFyZF97c2hhcmR9J10uaW5zZXJ0X29uZSh7J3VzZXJfaWQnOiBpLCAnZGF0YSc6IGYnZGF0YV97aX0nfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example of horizontal partitioning in a NoSQL database
from pymongo import MongoClient

client = MongoClient('mongodb://localhost:27017/')
db = client['my_database']

# Insert documents into different shards
shard_key = 'user_id'
for i in range(1000):
    shard = i % 4  # Assign shard based on user_id
    db[f'shard_{shard}'].insert_one({'user_id': i, 'data': f'data_{i}'})</pre></div><div class='content'></div><h1>Vertical Partitioning</h1>
<div class='content'><p>Vertical partitioning involves dividing a table into several smaller tables, each containing a subset of the original columns.</p>
</div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Query Optimization</strong>: Queries can be faster if they only access the necessary columns.</li>
<li><strong>Security</strong>: Allows isolating sensitive data in separate tables.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Complexity</strong>: Requires joins to reconstruct the original table.</li>
<li><strong>Maintenance</strong>: More difficult to maintain and update.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRXhhbXBsZSBvZiB2ZXJ0aWNhbCBwYXJ0aXRpb25pbmcgaW4gU1FMCkNSRUFURSBUQUJMRSB1c2VycyAoCiAgICB1c2VyX2lkIElOVCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVkFSQ0hBUigxMDApLAogICAgZW1haWwgVkFSQ0hBUigxMDApCik7CgpDUkVBVEUgVEFCTEUgdXNlcl9kYXRhICgKICAgIHVzZXJfaWQgSU5UIFBSSU1BUlkgS0VZLAogICAgYWRkcmVzcyBWQVJDSEFSKDI1NSksCiAgICBwaG9uZSBWQVJDSEFSKDIwKSwKICAgIEZPUkVJR04gS0VZICh1c2VyX2lkKSBSRUZFUkVOQ0VTIHVzZXJzKHVzZXJfaWQpCik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Example of vertical partitioning in SQL
CREATE TABLE users (
    user_id INT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);

CREATE TABLE user_data (
    user_id INT PRIMARY KEY,
    address VARCHAR(255),
    phone VARCHAR(20),
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);</pre></div><div class='content'></div><h1>Range-Based Partitioning</h1>
<div class='content'><p>Range-based partitioning divides data into ranges of values, assigning each range to a different node.</p>
</div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Simplicity</strong>: Easy to understand and implement.</li>
<li><strong>Query Optimization</strong>: Queries searching for specific ranges can be faster.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Imbalance</strong>: Can lead to load imbalance if data is not uniformly distributed.</li>
<li><strong>Rebalancing</strong>: Moving data between ranges can be costly.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRXhhbXBsZSBvZiByYW5nZS1iYXNlZCBwYXJ0aXRpb25pbmcgaW4gU1FMCkNSRUFURSBUQUJMRSBzYWxlcyAoCiAgICBzYWxlX2lkIElOVCwKICAgIGRhdGUgREFURSwKICAgIGFtb3VudCBERUNJTUFMKDEwLCAyKQopIFBBUlRJVElPTiBCWSBSQU5HRSAoWUVBUihkYXRlKSkgKAogICAgUEFSVElUSU9OIHAwIFZBTFVFUyBMRVNTIFRIQU4gKDIwMjApLAogICAgUEFSVElUSU9OIHAxIFZBTFVFUyBMRVNTIFRIQU4gKDIwMjEpLAogICAgUEFSVElUSU9OIHAyIFZBTFVFUyBMRVNTIFRIQU4gKDIwMjIpLAogICAgUEFSVElUSU9OIHAzIFZBTFVFUyBMRVNTIFRIQU4gKDIwMjMpCik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Example of range-based partitioning in SQL
CREATE TABLE sales (
    sale_id INT,
    date DATE,
    amount DECIMAL(10, 2)
) PARTITION BY RANGE (YEAR(date)) (
    PARTITION p0 VALUES LESS THAN (2020),
    PARTITION p1 VALUES LESS THAN (2021),
    PARTITION p2 VALUES LESS THAN (2022),
    PARTITION p3 VALUES LESS THAN (2023)
);</pre></div><div class='content'></div><h1>Hash-Based Partitioning</h1>
<div class='content'><p>Hash-based partitioning uses a hash function to distribute data uniformly across nodes.</p>
</div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Uniformity</strong>: Distributes data uniformly, avoiding imbalances.</li>
<li><strong>Scalability</strong>: Easy to scale by adding more nodes.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Complexity</strong>: Requires an appropriate hash function.</li>
<li><strong>Rebalancing</strong>: Moving data between nodes can be costly.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG9mIGhhc2gtYmFzZWQgcGFydGl0aW9uaW5nIGluIFB5dGhvbgppbXBvcnQgaGFzaGxpYgoKZGVmIGdldF9zaGFyZChrZXksIG51bV9zaGFyZHMpOgogICAgaGFzaF92YWx1ZSA9IGludChoYXNobGliLm1kNShrZXkuZW5jb2RlKCkpLmhleGRpZ2VzdCgpLCAxNikKICAgIHJldHVybiBoYXNoX3ZhbHVlICUgbnVtX3NoYXJkcwoKbnVtX3NoYXJkcyA9IDQKZm9yIGkgaW4gcmFuZ2UoMTAwMCk6CiAgICBzaGFyZCA9IGdldF9zaGFyZChzdHIoaSksIG51bV9zaGFyZHMpCiAgICBwcmludChmJ0tleSB7aX0gYXNzaWduZWQgdG8gc2hhcmQge3NoYXJkfScp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example of hash-based partitioning in Python
import hashlib

def get_shard(key, num_shards):
    hash_value = int(hashlib.md5(key.encode()).hexdigest(), 16)
    return hash_value % num_shards

num_shards = 4
for i in range(1000):
    shard = get_shard(str(i), num_shards)
    print(f'Key {i} assigned to shard {shard}')</pre></div><div class='content'></div><h1>Composite Partitioning</h1>
<div class='content'><p>Composite partitioning combines multiple partitioning strategies to leverage the advantages of each.</p>
</div><h2>Advantages</h2>
<div class='content'><ul>
<li><strong>Flexibility</strong>: Allows optimizing different types of queries and workloads.</li>
<li><strong>Scalability</strong>: Improves scalability by combining different techniques.</li>
</ul>
</div><h2>Disadvantages</h2>
<div class='content'><ul>
<li><strong>Complexity</strong>: More difficult to implement and maintain.</li>
<li><strong>Rebalancing</strong>: Moving data between nodes can be costly.</li>
</ul>
</div><h2>Code Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRXhhbXBsZSBvZiBjb21wb3NpdGUgcGFydGl0aW9uaW5nIGluIFNRTApDUkVBVEUgVEFCTEUgb3JkZXJzICgKICAgIG9yZGVyX2lkIElOVCwKICAgIGN1c3RvbWVyX2lkIElOVCwKICAgIGRhdGUgREFURSwKICAgIGFtb3VudCBERUNJTUFMKDEwLCAyKQopIFBBUlRJVElPTiBCWSBSQU5HRSAoWUVBUihkYXRlKSkgU1VCUEFSVElUSU9OIEJZIEhBU0ggKGN1c3RvbWVyX2lkKSAoCiAgICBQQVJUSVRJT04gcDAgVkFMVUVTIExFU1MgVEhBTiAoMjAyMCkgKAogICAgICAgIFNVQlBBUlRJVElPTiBzMCwKICAgICAgICBTVUJQQVJUSVRJT04gczEsCiAgICAgICAgU1VCUEFSVElUSU9OIHMyLAogICAgICAgIFNVQlBBUlRJVElPTiBzMwogICAgKSwKICAgIFBBUlRJVElPTiBwMSBWQUxVRVMgTEVTUyBUSEFOICgyMDIxKSAoCiAgICAgICAgU1VCUEFSVElUSU9OIHMwLAogICAgICAgIFNVQlBBUlRJVElPTiBzMSwKICAgICAgICBTVUJQQVJUSVRJT04gczIsCiAgICAgICAgU1VCUEFSVElUSU9OIHMzCiAgICApCik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Example of composite partitioning in SQL
CREATE TABLE orders (
    order_id INT,
    customer_id INT,
    date DATE,
    amount DECIMAL(10, 2)
) PARTITION BY RANGE (YEAR(date)) SUBPARTITION BY HASH (customer_id) (
    PARTITION p0 VALUES LESS THAN (2020) (
        SUBPARTITION s0,
        SUBPARTITION s1,
        SUBPARTITION s2,
        SUBPARTITION s3
    ),
    PARTITION p1 VALUES LESS THAN (2021) (
        SUBPARTITION s0,
        SUBPARTITION s1,
        SUBPARTITION s2,
        SUBPARTITION s3
    )
);</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Partitioning is an essential technique in distributed architectures to improve scalability, availability, and performance. Each partitioning strategy has its own advantages and disadvantages, and the choice of the appropriate strategy depends on the specific system requirements and data characteristics. By understanding and applying these strategies, professionals can design more efficient and robust systems.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
