<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distributed Databases</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitecturas_distribuidas/04-02-bases-datos" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitecturas_distribuidas/04-02-bases-dades" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitecturas_distribuidas/04-02-databases" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/arquitecturas_distribuidas/04-02-bases-datos" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/arquitecturas_distribuidas/04-02-bases-dades" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-file-systems' title="Distributed File Systems">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Distributed Databases</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-caches' title="Distributed Caches">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Distributed databases are databases that are spread across multiple physical locations, which can be on different servers or even in different geographical areas. They are designed to improve data availability, fault tolerance, and performance by distributing the data and the workload across multiple nodes.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'></div><h2><ol>
<li>Types of Distributed Databases</li>
</ol>
</h2>
<div class='content'><p>Distributed databases can be categorized based on their architecture and data distribution methods:</p>
<ul>
<li><strong>Homogeneous Distributed Databases</strong>: All physical locations use the same DBMS and operating system.</li>
<li><strong>Heterogeneous Distributed Databases</strong>: Different locations may use different DBMSs and operating systems.</li>
<li><strong>Federated Databases</strong>: A type of heterogeneous database where each database remains autonomous but can be queried as a single entity.</li>
</ul>
</div><h2><ol start="2">
<li>Data Distribution Strategies</li>
</ol>
</h2>
<div class='content'><p>Data in distributed databases can be distributed using various strategies:</p>
<ul>
<li><strong>Replication</strong>: Copies of the same data are stored on multiple nodes to ensure high availability and fault tolerance.</li>
<li><strong>Partitioning (Sharding)</strong>: Data is divided into distinct subsets, each stored on different nodes to balance the load and improve performance.</li>
</ul>
</div><h2><ol start="3">
<li>Consistency Models</li>
</ol>
</h2>
<div class='content'><p>Distributed databases must ensure data consistency across nodes. Common consistency models include:</p>
<ul>
<li><strong>Strong Consistency</strong>: Ensures that all nodes see the same data at the same time.</li>
<li><strong>Eventual Consistency</strong>: Guarantees that, given enough time, all nodes will converge to the same value.</li>
<li><strong>Causal Consistency</strong>: Ensures that operations that are causally related are seen by all nodes in the same order.</li>
</ul>
</div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Example 1: Setting Up a Distributed Database with MongoDB</p>
</h2>
<div class='content'><p>MongoDB is a popular NoSQL database that supports distributed data storage through sharding and replication.</p>
<h4>Step-by-Step Guide</h4>
<ol>
<li>
<p><strong>Install MongoDB on Multiple Servers</strong>:</p>
<pre><code class="language-bash">sudo apt-get install -y mongodb
</code></pre>
</li>
<li>
<p><strong>Configure Sharding</strong>:</p>
<ul>
<li><strong>Start Config Servers</strong>:
<pre><code class="language-bash">mongod --configsvr --replSet configReplSet --dbpath /data/configdb --port 27019
</code></pre>
</li>
<li><strong>Start Shard Servers</strong>:
<pre><code class="language-bash">mongod --shardsvr --replSet shardReplSet1 --dbpath /data/shard1 --port 27018
mongod --shardsvr --replSet shardReplSet2 --dbpath /data/shard2 --port 27018
</code></pre>
</li>
<li><strong>Start a Mongos Router</strong>:
<pre><code class="language-bash">mongos --configdb configReplSet/localhost:27019 --port 27017
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Connect to the Mongos Router and Add Shards</strong>:</p>
<pre><code class="language-javascript">mongo --port 27017
sh.addShard(&quot;shardReplSet1/localhost:27018&quot;)
sh.addShard(&quot;shardReplSet2/localhost:27018&quot;)
</code></pre>
</li>
<li>
<p><strong>Enable Sharding for a Database</strong>:</p>
<pre><code class="language-javascript">sh.enableSharding(&quot;myDatabase&quot;)
</code></pre>
</li>
<li>
<p><strong>Shard a Collection</strong>:</p>
<pre><code class="language-javascript">sh.shardCollection(&quot;myDatabase.myCollection&quot;, { &quot;shardKey&quot;: 1 })
</code></pre>
</li>
</ol>
</div><h2><p>Example 2: Using Apache Cassandra for Distributed Data Storage</p>
</h2>
<div class='content'><p>Apache Cassandra is a distributed NoSQL database designed for handling large amounts of data across many commodity servers.</p>
<h4>Step-by-Step Guide</h4>
<ol>
<li>
<p><strong>Install Cassandra on Multiple Nodes</strong>:</p>
<pre><code class="language-bash">sudo apt-get install cassandra
</code></pre>
</li>
<li>
<p><strong>Configure Cassandra Cluster</strong>:</p>
<ul>
<li><strong>Edit <code>cassandra.yaml</code></strong>:
<pre><code class="language-yaml">cluster_name: 'MyCluster'
seeds: '192.168.1.1,192.168.1.2'
listen_address: '192.168.1.x'
rpc_address: '192.168.1.x'
</code></pre>
</li>
<li><strong>Start Cassandra</strong>:
<pre><code class="language-bash">sudo service cassandra start
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Create a Keyspace and Table</strong>:</p>
<pre><code class="language-sql">CREATE KEYSPACE myKeyspace WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 3};
USE myKeyspace;
CREATE TABLE myTable (id UUID PRIMARY KEY, name text, value text);
</code></pre>
</li>
</ol>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Setting Up a Simple Distributed Database with MongoDB</p>
</h2>
<div class='content'><p><strong>Task</strong>: Set up a simple MongoDB sharded cluster with two shards and a single config server.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Install MongoDB on three servers.</li>
<li>Configure one server as the config server.</li>
<li>Configure the other two servers as shard servers.</li>
<li>Start a mongos router and add the shards.</li>
<li>Enable sharding for a database and shard a collection.</li>
</ol>
<p><strong>Solution</strong>:
Follow the step-by-step guide provided in Example 1.</p>
</div><h2><p>Exercise 2: Configuring a Cassandra Cluster</p>
</h2>
<div class='content'><p><strong>Task</strong>: Configure a Cassandra cluster with three nodes and create a keyspace with a replication factor of 3.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Install Cassandra on three nodes.</li>
<li>Configure the <code>cassandra.yaml</code> file on each node to join the same cluster.</li>
<li>Start Cassandra on each node.</li>
<li>Create a keyspace and a table.</li>
</ol>
<p><strong>Solution</strong>:
Follow the step-by-step guide provided in Example 2.</p>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Network Configuration</strong>: Ensure that all nodes can communicate with each other over the network. Firewalls and security groups should allow necessary ports.</li>
<li><strong>Consistency Trade-offs</strong>: Understand the trade-offs between consistency, availability, and partition tolerance (CAP theorem) when designing your distributed database.</li>
<li><strong>Monitoring and Maintenance</strong>: Regularly monitor the health of your distributed database and perform maintenance tasks such as backups and updates.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we explored the fundamental concepts of distributed databases, including their types, data distribution strategies, and consistency models. We also provided practical examples using MongoDB and Apache Cassandra, along with exercises to reinforce the concepts. Understanding distributed databases is crucial for managing and processing data on a large scale efficiently and securely. In the next module, we will delve into distributed computing frameworks like MapReduce and Hadoop.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-file-systems' title="Distributed File Systems">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-caches' title="Distributed Caches">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
