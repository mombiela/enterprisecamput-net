<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messaging and Queues</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitecturas_distribuidas/mensajeria-colas" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitecturas_distribuidas/mensajeria-colas" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitecturas_distribuidas/mensajeria-colas" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/arquitecturas_distribuidas/mensajeria-colas" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/arquitecturas_distribuidas/mensajeria-colas" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In distributed architectures, messaging and queues play a crucial role in ensuring efficient communication and coordination between different components of the system. This topic covers fundamental concepts, advantages and disadvantages, and provides practical examples to illustrate their use.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Asynchronous Messaging</strong>: Allows system components to communicate without needing to wait for an immediate response.</li>
<li><strong>Message Queues</strong>: Structures that store messages until the recipient is ready to process them.</li>
<li><strong>Producers and Consumers</strong>: Producers send messages to the queue, and consumers receive and process them.</li>
<li><strong>Durability</strong>: The ability of a message queue to retain messages even if the system fails.</li>
<li><strong>Scalability</strong>: The ability to handle an increase in workload by distributing messages among multiple consumers.</li>
</ul>
</div><h1>Advantages and Disadvantages</h1>
<div class='content'><p>| Advantages | Disadvantages |
|------------|---------------|
| Decoupling of components | Additional complexity in queue management |
| Fault tolerance | Latency in message delivery |
| Scalability | Resource overhead |
| Flexibility in communication | Need for monitoring and maintenance |</p>
</div><h1>Usage Examples</h1>
<div class='content'></div><h2>Example 1: Basic Implementation with RabbitMQ</h2>
<div class='content'><p>RabbitMQ is a popular messaging system that implements the AMQP (Advanced Message Queuing Protocol).</p>
<h4>Producer</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHBpa2EKCiMgQ29ubmVjdGlvbiB0byBSYWJiaXRNUSBzZXJ2ZXIKY29ubmVjdGlvbiA9IHBpa2EuQmxvY2tpbmdDb25uZWN0aW9uKHBpa2EuQ29ubmVjdGlvblBhcmFtZXRlcnMoJ2xvY2FsaG9zdCcpKQpjaGFubmVsID0gY29ubmVjdGlvbi5jaGFubmVsKCkKCiMgUXVldWUgZGVjbGFyYXRpb24KY2hhbm5lbC5xdWV1ZV9kZWNsYXJlKHF1ZXVlPSdoZWxsbycpCgojIFNlbmRpbmcgYSBtZXNzYWdlCmNoYW5uZWwuYmFzaWNfcHVibGlzaChleGNoYW5nZT0nJywgcm91dGluZ19rZXk9J2hlbGxvJywgYm9keT0nSGVsbG8gV29ybGQhJykKcHJpbnQoIiBbeF0gU2VudCAnSGVsbG8gV29ybGQhJyIpCgojIENsb3NpbmcgdGhlIGNvbm5lY3Rpb24KY29ubmVjdGlvbi5jbG9zZSgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import pika

# Connection to RabbitMQ server
connection = pika.BlockingConnection(pika.ConnectionParameters('localhost'))
channel = connection.channel()

# Queue declaration
channel.queue_declare(queue='hello')

# Sending a message
channel.basic_publish(exchange='', routing_key='hello', body='Hello World!')
print(&quot; [x] Sent 'Hello World!'&quot;)

# Closing the connection
connection.close()</pre></div><div class='content'><h4>Consumer</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHBpa2EKCiMgQ29ubmVjdGlvbiB0byBSYWJiaXRNUSBzZXJ2ZXIKY29ubmVjdGlvbiA9IHBpa2EuQmxvY2tpbmdDb25uZWN0aW9uKHBpa2EuQ29ubmVjdGlvblBhcmFtZXRlcnMoJ2xvY2FsaG9zdCcpKQpjaGFubmVsID0gY29ubmVjdGlvbi5jaGFubmVsKCkKCiMgUXVldWUgZGVjbGFyYXRpb24KY2hhbm5lbC5xdWV1ZV9kZWNsYXJlKHF1ZXVlPSdoZWxsbycpCgojIERlZmluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbgpkZWYgY2FsbGJhY2soY2gsIG1ldGhvZCwgcHJvcGVydGllcywgYm9keSk6CiAgICBwcmludChmIiBbeF0gUmVjZWl2ZWQge2JvZHl9IikKCiMgQ29uc3VtZXIgY29uZmlndXJhdGlvbgpjaGFubmVsLmJhc2ljX2NvbnN1bWUocXVldWU9J2hlbGxvJywgb25fbWVzc2FnZV9jYWxsYmFjaz1jYWxsYmFjaywgYXV0b19hY2s9VHJ1ZSkKCnByaW50KCcgWypdIFdhaXRpbmcgZm9yIG1lc3NhZ2VzLiBUbyBleGl0IHByZXNzIENUUkwrQycpCmNoYW5uZWwuc3RhcnRfY29uc3VtaW5nKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import pika

# Connection to RabbitMQ server
connection = pika.BlockingConnection(pika.ConnectionParameters('localhost'))
channel = connection.channel()

# Queue declaration
channel.queue_declare(queue='hello')

# Defining the callback function
def callback(ch, method, properties, body):
    print(f&quot; [x] Received {body}&quot;)

# Consumer configuration
channel.basic_consume(queue='hello', on_message_callback=callback, auto_ack=True)

print(' [*] Waiting for messages. To exit press CTRL+C')
channel.start_consuming()</pre></div><div class='content'></div><h2>Example 2: Using Amazon SQS</h2>
<div class='content'><p>Amazon Simple Queue Service (SQS) is a fully managed message queue service that facilitates the decoupling of components.</p>
<h4>Sending a Message</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGJvdG8zCgojIENyZWF0ZSB0aGUgU1FTIGNsaWVudApzcXMgPSBib3RvMy5jbGllbnQoJ3NxcycpCgojIFF1ZXVlIFVSTApxdWV1ZV91cmwgPSAnaHR0cHM6Ly9zcXMudXMtZWFzdC0xLmFtYXpvbmF3cy5jb20vMTIzNDU2Nzg5MDEyL015UXVldWUnCgojIFNlbmQgbWVzc2FnZQpyZXNwb25zZSA9IHNxcy5zZW5kX21lc3NhZ2UoCiAgICBRdWV1ZVVybD1xdWV1ZV91cmwsCiAgICBNZXNzYWdlQm9keT0nSGVsbG8gV29ybGQhJwopCgpwcmludChmIk1lc3NhZ2UgSUQ6IHtyZXNwb25zZVsnTWVzc2FnZUlkJ119Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import boto3

# Create the SQS client
sqs = boto3.client('sqs')

# Queue URL
queue_url = 'https://sqs.us-east-1.amazonaws.com/123456789012/MyQueue'

# Send message
response = sqs.send_message(
    QueueUrl=queue_url,
    MessageBody='Hello World!'
)

print(f&quot;Message ID: {response['MessageId']}&quot;)</pre></div><div class='content'><h4>Receiving a Message</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGJvdG8zCgojIENyZWF0ZSB0aGUgU1FTIGNsaWVudApzcXMgPSBib3RvMy5jbGllbnQoJ3NxcycpCgojIFF1ZXVlIFVSTApxdWV1ZV91cmwgPSAnaHR0cHM6Ly9zcXMudXMtZWFzdC0xLmFtYXpvbmF3cy5jb20vMTIzNDU2Nzg5MDEyL015UXVldWUnCgojIFJlY2VpdmUgbWVzc2FnZQpyZXNwb25zZSA9IHNxcy5yZWNlaXZlX21lc3NhZ2UoCiAgICBRdWV1ZVVybD1xdWV1ZV91cmwsCiAgICBNYXhOdW1iZXJPZk1lc3NhZ2VzPTEsCiAgICBXYWl0VGltZVNlY29uZHM9MTAKKQoKbWVzc2FnZXMgPSByZXNwb25zZS5nZXQoJ01lc3NhZ2VzJywgW10pCmlmIG1lc3NhZ2VzOgogICAgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXM6CiAgICAgICAgcHJpbnQoZiJNZXNzYWdlOiB7bWVzc2FnZVsnQm9keSddfSIpCiAgICAgICAgIyBEZWxldGUgdGhlIG1lc3NhZ2UgYWZ0ZXIgcHJvY2Vzc2luZyBpdAogICAgICAgIHNxcy5kZWxldGVfbWVzc2FnZSgKICAgICAgICAgICAgUXVldWVVcmw9cXVldWVfdXJsLAogICAgICAgICAgICBSZWNlaXB0SGFuZGxlPW1lc3NhZ2VbJ1JlY2VpcHRIYW5kbGUnXQogICAgICAgICkKZWxzZToKICAgIHByaW50KCJObyBtZXNzYWdlcyByZWNlaXZlZCIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import boto3

# Create the SQS client
sqs = boto3.client('sqs')

# Queue URL
queue_url = 'https://sqs.us-east-1.amazonaws.com/123456789012/MyQueue'

# Receive message
response = sqs.receive_message(
    QueueUrl=queue_url,
    MaxNumberOfMessages=1,
    WaitTimeSeconds=10
)

messages = response.get('Messages', [])
if messages:
    for message in messages:
        print(f&quot;Message: {message['Body']}&quot;)
        # Delete the message after processing it
        sqs.delete_message(
            QueueUrl=queue_url,
            ReceiptHandle=message['ReceiptHandle']
        )
else:
    print(&quot;No messages received&quot;)</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Messaging and queues are essential components in distributed architectures, providing an efficient and scalable way of communication between different parts of the system. Understanding how to implement and manage these mechanisms is crucial for designing robust and flexible systems. Through practical examples with RabbitMQ and Amazon SQS, we have illustrated how these tools can be used in real-world applications.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
