<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule Systems</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ia_videojuegos/sistemas-de-reglas" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ia_videojuegos/sistemas-de-reglas" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ia_videojuegos/sistemas-de-reglas" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ia_videojuegos/sistemas-de-reglas" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ia_videojuegos/sistemas-de-reglas" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Rule systems are a fundamental technique in artificial intelligence for video games. They allow defining behaviors and decisions of non-player characters (NPCs) through a set of predefined rules. This approach is especially useful for creating predictable and controllable behaviors, which is essential in many video game genres.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Rule</strong>: A conditional instruction that defines an action to take when a specific condition is met.</li>
<li><strong>Rule Engine</strong>: The component that evaluates the rules and executes the corresponding actions.</li>
<li><strong>Condition</strong>: An expression that evaluates to true or false.</li>
<li><strong>Action</strong>: The operation performed when a condition is met.</li>
</ul>
</div><h1>Structure of a Rule</h1>
<div class='content'><p>A typical rule in a rule system can be expressed as follows:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUYgPGNvbmRpdGlvbj4gVEhFTiA8YWN0aW9uPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IF &lt;condition&gt; THEN &lt;action&gt;</pre></div><div class='content'><p>For example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUYgdGhlIHBsYXllcidzIGhlYWx0aCBpcyBsZXNzIHRoYW4gMjAlIFRIRU4gdGhlIE5QQyBzaG91bGQgbG9vayBmb3IgYSBtZWRraXQu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IF the player's health is less than 20% THEN the NPC should look for a medkit.</pre></div><div class='content'></div><h1>Implementation of Rule Systems</h1>
<div class='content'></div><h2>Example in Pseudocode</h2>
<div class='content'><p>Below is a basic example of how a rule system can be implemented in pseudocode:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cnVsZXMgPSBbCiAgICB7Y29uZGl0aW9uOiAicGxheWVyLmhlYWx0aCA8IDIwIiwgYWN0aW9uOiAiTlBDLmxvb2tGb3JNZWRraXQoKSJ9LAogICAge2NvbmRpdGlvbjogInBsYXllci5uZWFyKE5QQykiLCBhY3Rpb246ICJOUEMuYXR0YWNrKCkifSwKICAgIHtjb25kaXRpb246ICJwbGF5ZXIuZmFyKE5QQykiLCBhY3Rpb246ICJOUEMucGF0cm9sKCkifQpdCgpydWxlRW5naW5lID0gbmV3IFJ1bGVFbmdpbmUocnVsZXMpCgpydWxlRW5naW5lLmV2YWx1YXRlKHBsYXllciwgTlBDKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rules = [
    {condition: &quot;player.health &lt; 20&quot;, action: &quot;NPC.lookForMedkit()&quot;},
    {condition: &quot;player.near(NPC)&quot;, action: &quot;NPC.attack()&quot;},
    {condition: &quot;player.far(NPC)&quot;, action: &quot;NPC.patrol()&quot;}
]

ruleEngine = new RuleEngine(rules)

ruleEngine.evaluate(player, NPC)</pre></div><div class='content'></div><h2>Example in Python</h2>
<div class='content'><p>Below is an example of how a simple rule system can be implemented in Python:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUnVsZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjb25kaXRpb24sIGFjdGlvbik6CiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBjb25kaXRpb24KICAgICAgICBzZWxmLmFjdGlvbiA9IGFjdGlvbgoKY2xhc3MgUnVsZUVuZ2luZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBydWxlcyk6CiAgICAgICAgc2VsZi5ydWxlcyA9IHJ1bGVzCgogICAgZGVmIGV2YWx1YXRlKHNlbGYsIGNvbnRleHQpOgogICAgICAgIGZvciBydWxlIGluIHNlbGYucnVsZXM6CiAgICAgICAgICAgIGlmIGV2YWwocnVsZS5jb25kaXRpb24sIHt9LCBjb250ZXh0KToKICAgICAgICAgICAgICAgIGV4ZWMocnVsZS5hY3Rpb24sIHt9LCBjb250ZXh0KQoKIyBEZWZpbmUgdGhlIHJ1bGVzCnJ1bGVzID0gWwogICAgUnVsZSgicGxheWVyWydoZWFsdGgnXSA8IDIwIiwgIk5QQ1snYWN0aW9uJ10gPSAnbG9va0Zvck1lZGtpdCciKSwKICAgIFJ1bGUoInBsYXllclsnZGlzdGFuY2UnXSA8IDUiLCAiTlBDWydhY3Rpb24nXSA9ICdhdHRhY2snIiksCiAgICBSdWxlKCJwbGF5ZXJbJ2Rpc3RhbmNlJ10gPj0gNSIsICJOUENbJ2FjdGlvbiddID0gJ3BhdHJvbCciKQpdCgojIENyZWF0ZSB0aGUgcnVsZSBlbmdpbmUKZW5naW5lID0gUnVsZUVuZ2luZShydWxlcykKCiMgRGVmaW5lIHRoZSBjb250ZXh0CmNvbnRleHQgPSB7CiAgICAncGxheWVyJzogeydoZWFsdGgnOiAxNSwgJ2Rpc3RhbmNlJzogM30sCiAgICAnTlBDJzogeydhY3Rpb24nOiAnJ30KfQoKIyBFdmFsdWF0ZSB0aGUgcnVsZXMKZW5naW5lLmV2YWx1YXRlKGNvbnRleHQpCgojIFNlZSB0aGUgTlBDJ3MgYWN0aW9uCnByaW50KGNvbnRleHRbJ05QQyddWydhY3Rpb24nXSkgICMgT3V0cHV0OiAnbG9va0Zvck1lZGtpdCc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Rule:
    def __init__(self, condition, action):
        self.condition = condition
        self.action = action

class RuleEngine:
    def __init__(self, rules):
        self.rules = rules

    def evaluate(self, context):
        for rule in self.rules:
            if eval(rule.condition, {}, context):
                exec(rule.action, {}, context)

# Define the rules
rules = [
    Rule(&quot;player['health'] &lt; 20&quot;, &quot;NPC['action'] = 'lookForMedkit'&quot;),
    Rule(&quot;player['distance'] &lt; 5&quot;, &quot;NPC['action'] = 'attack'&quot;),
    Rule(&quot;player['distance'] &gt;= 5&quot;, &quot;NPC['action'] = 'patrol'&quot;)
]

# Create the rule engine
engine = RuleEngine(rules)

# Define the context
context = {
    'player': {'health': 15, 'distance': 3},
    'NPC': {'action': ''}
}

# Evaluate the rules
engine.evaluate(context)

# See the NPC's action
print(context['NPC']['action'])  # Output: 'lookForMedkit'</pre></div><div class='content'></div><h1>Comparison with Other Approaches</h1>
<div class='content'><p>| Feature                | Rule Systems                 | Finite State Machines (FSM)      | Neural Networks         |
|------------------------|------------------------------|----------------------------------|-------------------------|
| Ease of Implementation | High                         | Medium                           | Low                     |
| Flexibility            | Medium                       | Low                              | High                    |
| Developer Control      | High                         | Medium                           | Low                     |
| Performance            | High                         | High                             | Variable                |</p>
</div><h1>Practical Exercises</h1>
<div class='content'><ol>
<li><strong>Exercise 1</strong>: Implement a rule system that allows an NPC to decide between attacking, defending, or fleeing based on the player's health and the distance to the NPC.</li>
<li><strong>Exercise 2</strong>: Modify the Python example to include a new rule that makes the NPC seek cover if there is a nearby obstacle.</li>
<li><strong>Exercise 3</strong>: Compare the performance of a rule system with a finite state machine for a combat scenario in a video game.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Rule systems are a powerful and flexible tool for defining behaviors in video games. They allow developers to create NPCs with complex behaviors in a controlled and predictable manner. Although they have their limitations, their ease of implementation and control make them a popular choice in video game development.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
