<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Behavior Systems</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ia_videojuegos/sistemas-de-comportamiento" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ia_videojuegos/sistemas-de-comportamiento" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ia_videojuegos/sistemas-de-comportamiento" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ia_videojuegos/sistemas-de-comportamiento" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ia_videojuegos/sistemas-de-comportamiento" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Attention!</b> There has been an error in the course generation, and it may contain translation errors.We are working to resolve this issue, so please use the content with caution.You can check the correct content in another language at the following link:<br>
						<a href="https://campusempresa.com/mod/ia_videojuegos/sistemas-de-comportamiento">https://campusempresa.com/mod/ia_videojuegos/sistemas-de-comportamiento</a></p>
					</div>
								<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In video game development, behavior systems are fundamental for creating non-playable characters (NPCs) that act realistically and convincingly. These systems allow NPCs to make decisions and respond to their environment autonomously, enhancing immersion and gameplay.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Artificial Intelligence (AI):</strong> A branch of computer science that deals with creating systems capable of performing tasks that typically require human intelligence.</li>
<li><strong>NPC (Non-Player Character):</strong> Characters controlled by the game rather than by human players.</li>
<li><strong>Behavior Trees:</strong> Hierarchical structures that define a series of actions and decisions an NPC can take.</li>
<li><strong>Finite State Machines (FSM):</strong> Mathematical models that represent states and transitions between them, used to manage behaviors.</li>
<li><strong>Planning:</strong> Algorithms that allow NPCs to plan a series of actions to achieve a goal.</li>
</ul>
</div><h1>Behavior Trees</h1>
<div class='content'><p>Behavior trees are a powerful tool for defining complex NPC behaviors. They consist of nodes that represent actions or decisions and are organized in a hierarchical structure.</p>
</div><h2>Behavior Tree Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTm9kZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lKToKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IFtdCgogICAgZGVmIGFkZF9jaGlsZChzZWxmLCBjaGlsZCk6CiAgICAgICAgc2VsZi5jaGlsZHJlbi5hcHBlbmQoY2hpbGQpCgogICAgZGVmIGV4ZWN1dGUoc2VsZik6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4uIikKCmNsYXNzIEFjdGlvbk5vZGUoTm9kZSk6CiAgICBkZWYgZXhlY3V0ZShzZWxmKToKICAgICAgICBwcmludChmIkV4ZWN1dGluZyBhY3Rpb246IHtzZWxmLm5hbWV9IikKCmNsYXNzIFNlbGVjdG9yTm9kZShOb2RlKToKICAgIGRlZiBleGVjdXRlKHNlbGYpOgogICAgICAgIGZvciBjaGlsZCBpbiBzZWxmLmNoaWxkcmVuOgogICAgICAgICAgICBpZiBjaGlsZC5leGVjdXRlKCk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKY2xhc3MgU2VxdWVuY2VOb2RlKE5vZGUpOgogICAgZGVmIGV4ZWN1dGUoc2VsZik6CiAgICAgICAgZm9yIGNoaWxkIGluIHNlbGYuY2hpbGRyZW46CiAgICAgICAgICAgIGlmIG5vdCBjaGlsZC5leGVjdXRlKCk6CiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gVHJ1ZQoKIyBVc2FnZSBleGFtcGxlCnJvb3QgPSBTZWxlY3Rvck5vZGUoIlJvb3QiKQpzZXF1ZW5jZSA9IFNlcXVlbmNlTm9kZSgiU2VxdWVuY2UiKQphY3Rpb24xID0gQWN0aW9uTm9kZSgiQWN0aW9uIDEiKQphY3Rpb24yID0gQWN0aW9uTm9kZSgiQWN0aW9uIDIiKQoKc2VxdWVuY2UuYWRkX2NoaWxkKGFjdGlvbjEpCnNlcXVlbmNlLmFkZF9jaGlsZChhY3Rpb24yKQpyb290LmFkZF9jaGlsZChzZXF1ZW5jZSkKCnJvb3QuZXhlY3V0ZSgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Node:
    def __init__(self, name):
        self.name = name
        self.children = []

    def add_child(self, child):
        self.children.append(child)

    def execute(self):
        raise NotImplementedError(&quot;This method should be overridden.&quot;)

class ActionNode(Node):
    def execute(self):
        print(f&quot;Executing action: {self.name}&quot;)

class SelectorNode(Node):
    def execute(self):
        for child in self.children:
            if child.execute():
                return True
        return False

class SequenceNode(Node):
    def execute(self):
        for child in self.children:
            if not child.execute():
                return False
        return True

# Usage example
root = SelectorNode(&quot;Root&quot;)
sequence = SequenceNode(&quot;Sequence&quot;)
action1 = ActionNode(&quot;Action 1&quot;)
action2 = ActionNode(&quot;Action 2&quot;)

sequence.add_child(action1)
sequence.add_child(action2)
root.add_child(sequence)

root.execute()</pre></div><div class='content'><p>In this example, the <code>SelectorNode</code> tries to execute each of its children until one succeeds, while the <code>SequenceNode</code> executes all its children in sequence and only succeeds if all children succeed.</p>
</div><h1>Finite State Machines (FSM)</h1>
<div class='content'><p>FSMs are another common technique for managing NPC behaviors. In an FSM, an NPC can be in a specific state and change to another state based on events or conditions.</p>
</div><h2>FSM Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU3RhdGU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSk6CiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQoKICAgIGRlZiBvbl9lbnRlcihzZWxmKToKICAgICAgICBwcmludChmIkVudGVyaW5nIHN0YXRlOiB7c2VsZi5uYW1lfSIpCgogICAgZGVmIG9uX2V4aXQoc2VsZik6CiAgICAgICAgcHJpbnQoZiJFeGl0aW5nIHN0YXRlOiB7c2VsZi5uYW1lfSIpCgpjbGFzcyBGU006CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5zdGF0ZXMgPSB7fQogICAgICAgIHNlbGYuY3VycmVudF9zdGF0ZSA9IE5vbmUKCiAgICBkZWYgYWRkX3N0YXRlKHNlbGYsIHN0YXRlKToKICAgICAgICBzZWxmLnN0YXRlc1tzdGF0ZS5uYW1lXSA9IHN0YXRlCgogICAgZGVmIHNldF9zdGF0ZShzZWxmLCBzdGF0ZV9uYW1lKToKICAgICAgICBpZiBzZWxmLmN1cnJlbnRfc3RhdGU6CiAgICAgICAgICAgIHNlbGYuY3VycmVudF9zdGF0ZS5vbl9leGl0KCkKICAgICAgICBzZWxmLmN1cnJlbnRfc3RhdGUgPSBzZWxmLnN0YXRlc1tzdGF0ZV9uYW1lXQogICAgICAgIHNlbGYuY3VycmVudF9zdGF0ZS5vbl9lbnRlcigpCgojIFVzYWdlIGV4YW1wbGUKaWRsZSA9IFN0YXRlKCJJZGxlIikKd2Fsa2luZyA9IFN0YXRlKCJXYWxraW5nIikKCmZzbSA9IEZTTSgpCmZzbS5hZGRfc3RhdGUoaWRsZSkKZnNtLmFkZF9zdGF0ZSh3YWxraW5nKQoKZnNtLnNldF9zdGF0ZSgiSWRsZSIpCmZzbS5zZXRfc3RhdGUoIldhbGtpbmciKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class State:
    def __init__(self, name):
        self.name = name

    def on_enter(self):
        print(f&quot;Entering state: {self.name}&quot;)

    def on_exit(self):
        print(f&quot;Exiting state: {self.name}&quot;)

class FSM:
    def __init__(self):
        self.states = {}
        self.current_state = None

    def add_state(self, state):
        self.states[state.name] = state

    def set_state(self, state_name):
        if self.current_state:
            self.current_state.on_exit()
        self.current_state = self.states[state_name]
        self.current_state.on_enter()

# Usage example
idle = State(&quot;Idle&quot;)
walking = State(&quot;Walking&quot;)

fsm = FSM()
fsm.add_state(idle)
fsm.add_state(walking)

fsm.set_state(&quot;Idle&quot;)
fsm.set_state(&quot;Walking&quot;)</pre></div><div class='content'><p>In this example, the FSM switches between the &quot;Idle&quot; and &quot;Walking&quot; states, executing specific actions when entering and exiting each state.</p>
</div><h1>Planning</h1>
<div class='content'><p>Planning allows NPCs to make more complex and strategic decisions. Algorithms like A* and Dijkstra are common for path planning, while other algorithms can be used to plan sequences of actions.</p>
</div><h2>Planning Example with A*</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGhlYXBxCgpkZWYgYV9zdGFyKHN0YXJ0LCBnb2FsLCBncmFwaCk6CiAgICBvcGVuX3NldCA9IFtdCiAgICBoZWFwcS5oZWFwcHVzaChvcGVuX3NldCwgKDAsIHN0YXJ0KSkKICAgIGNhbWVfZnJvbSA9IHt9CiAgICBnX3Njb3JlID0ge3N0YXJ0OiAwfQogICAgZl9zY29yZSA9IHtzdGFydDogaGV1cmlzdGljKHN0YXJ0LCBnb2FsKX0KCiAgICB3aGlsZSBvcGVuX3NldDoKICAgICAgICBfLCBjdXJyZW50ID0gaGVhcHEuaGVhcHBvcChvcGVuX3NldCkKCiAgICAgICAgaWYgY3VycmVudCA9PSBnb2FsOgogICAgICAgICAgICByZXR1cm4gcmVjb25zdHJ1Y3RfcGF0aChjYW1lX2Zyb20sIGN1cnJlbnQpCgogICAgICAgIGZvciBuZWlnaGJvciBpbiBncmFwaFtjdXJyZW50XToKICAgICAgICAgICAgdGVudGF0aXZlX2dfc2NvcmUgPSBnX3Njb3JlW2N1cnJlbnRdICsgZ3JhcGhbY3VycmVudF1bbmVpZ2hib3JdCgogICAgICAgICAgICBpZiBuZWlnaGJvciBub3QgaW4gZ19zY29yZSBvciB0ZW50YXRpdmVfZ19zY29yZSA8IGdfc2NvcmVbbmVpZ2hib3JdOgogICAgICAgICAgICAgICAgY2FtZV9mcm9tW25laWdoYm9yXSA9IGN1cnJlbnQKICAgICAgICAgICAgICAgIGdfc2NvcmVbbmVpZ2hib3JdID0gdGVudGF0aXZlX2dfc2NvcmUKICAgICAgICAgICAgICAgIGZfc2NvcmVbbmVpZ2hib3JdID0gdGVudGF0aXZlX2dfc2NvcmUgKyBoZXVyaXN0aWMobmVpZ2hib3IsIGdvYWwpCiAgICAgICAgICAgICAgICBoZWFwcS5oZWFwcHVzaChvcGVuX3NldCwgKGZfc2NvcmVbbmVpZ2hib3JdLCBuZWlnaGJvcikpCgogICAgcmV0dXJuIE5vbmUKCmRlZiBoZXVyaXN0aWMoYSwgYik6CiAgICByZXR1cm4gYWJzKGFbMF0gLSBiWzBdKSArIGFicyhhWzFdIC0gYlsxXSkKCmRlZiByZWNvbnN0cnVjdF9wYXRoKGNhbWVfZnJvbSwgY3VycmVudCk6CiAgICB0b3RhbF9wYXRoID0gW2N1cnJlbnRdCiAgICB3aGlsZSBjdXJyZW50IGluIGNhbWVfZnJvbToKICAgICAgICBjdXJyZW50ID0gY2FtZV9mcm9tW2N1cnJlbnRdCiAgICAgICAgdG90YWxfcGF0aC5hcHBlbmQoY3VycmVudCkKICAgIHJldHVybiB0b3RhbF9wYXRoWzo6LTFdCgojIFVzYWdlIGV4YW1wbGUKZ3JhcGggPSB7CiAgICAoMCwgMCk6IHsoMSwgMCk6IDEsICgwLCAxKTogMX0sCiAgICAoMSwgMCk6IHsoMSwgMSk6IDF9LAogICAgKDAsIDEpOiB7KDEsIDEpOiAxfSwKICAgICgxLCAxKToge30KfQoKc3RhcnQgPSAoMCwgMCkKZ29hbCA9ICgxLCAxKQpwYXRoID0gYV9zdGFyKHN0YXJ0LCBnb2FsLCBncmFwaCkKcHJpbnQoIlBhdGg6IiwgcGF0aCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import heapq

def a_star(start, goal, graph):
    open_set = []
    heapq.heappush(open_set, (0, start))
    came_from = {}
    g_score = {start: 0}
    f_score = {start: heuristic(start, goal)}

    while open_set:
        _, current = heapq.heappop(open_set)

        if current == goal:
            return reconstruct_path(came_from, current)

        for neighbor in graph[current]:
            tentative_g_score = g_score[current] + graph[current][neighbor]

            if neighbor not in g_score or tentative_g_score &lt; g_score[neighbor]:
                came_from[neighbor] = current
                g_score[neighbor] = tentative_g_score
                f_score[neighbor] = tentative_g_score + heuristic(neighbor, goal)
                heapq.heappush(open_set, (f_score[neighbor], neighbor))

    return None

def heuristic(a, b):
    return abs(a[0] - b[0]) + abs(a[1] - b[1])

def reconstruct_path(came_from, current):
    total_path = [current]
    while current in came_from:
        current = came_from[current]
        total_path.append(current)
    return total_path[::-1]

# Usage example
graph = {
    (0, 0): {(1, 0): 1, (0, 1): 1},
    (1, 0): {(1, 1): 1},
    (0, 1): {(1, 1): 1},
    (1, 1): {}
}

start = (0, 0)
goal = (1, 1)
path = a_star(start, goal, graph)
print(&quot;Path:&quot;, path)</pre></div><div class='content'><p>In this example, the A* algorithm finds the shortest path from the start point to the goal in a graph.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Behavior systems are essential for creating realistic and convincing NPCs in video games. Behavior trees, finite state machines, and planning algorithms are powerful tools that allow developers to design complex and strategic behaviors. Understanding and applying these concepts is crucial for any professional looking to specialize in AI for video games.</p>
</div>
			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
