<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule-Based Systems</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ia_videojuegos/03-04-sistemas-reglas" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ia_videojuegos/03-04-sistemes-regles" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ia_videojuegos/03-04-rule-based-systems" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ia_videojuegos/03-04-sistemas-reglas" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ia_videojuegos/03-04-sistemes-regles" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-03-behavior-trees' title="Behavior Trees">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Rule-Based Systems</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-01-introduction-machine-learning' title="Introduction to Machine Learning">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Rule-based systems are a fundamental AI technique used to model decision-making processes. They consist of a set of &quot;if-then&quot; rules that define the behavior of game characters based on specific conditions. This approach is straightforward and highly interpretable, making it a popular choice for implementing AI in video games.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'></div><h2><ol>
<li>Rules</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A rule is a conditional statement that specifies an action to be taken when certain conditions are met.</li>
<li><strong>Structure</strong>: Typically follows an &quot;if-then&quot; format.
<ul>
<li><strong>Example</strong>: <code>if (enemy_in_sight) then (attack)</code></li>
</ul>
</li>
</ul>
</div><h2><ol start="2">
<li>Rule Base</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A collection of rules that define the behavior of the AI.</li>
<li><strong>Organization</strong>: Rules are often organized in a priority order to resolve conflicts when multiple rules are applicable.</li>
</ul>
</div><h2><ol start="3">
<li>Inference Engine</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: The component that applies the rules to the current state of the game to determine the actions to be taken.</li>
<li><strong>Types</strong>:
<ul>
<li><strong>Forward Chaining</strong>: Starts with the available data and applies rules to infer conclusions.</li>
<li><strong>Backward Chaining</strong>: Starts with a goal and works backward to determine the necessary conditions to achieve that goal.</li>
</ul>
</li>
</ul>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's implement a simple rule-based system for a game character that decides whether to attack, defend, or retreat based on the state of the game.</p>
</div><h2><p>Step-by-Step Implementation</p>
</h2>
<div class='content'><h4>1. Define the Rules</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cnVsZXMgPSBbCiAgICB7ImNvbmRpdGlvbiI6IGxhbWJkYSBzdGF0ZTogc3RhdGVbImVuZW15X2luX3NpZ2h0Il0gYW5kIHN0YXRlWyJoZWFsdGgiXSA+IDUwLCAiYWN0aW9uIjogImF0dGFjayJ9LAogICAgeyJjb25kaXRpb24iOiBsYW1iZGEgc3RhdGU6IHN0YXRlWyJlbmVteV9pbl9zaWdodCJdIGFuZCBzdGF0ZVsiaGVhbHRoIl0gPD0gNTAsICJhY3Rpb24iOiAiZGVmZW5kIn0sCiAgICB7ImNvbmRpdGlvbiI6IGxhbWJkYSBzdGF0ZTogbm90IHN0YXRlWyJlbmVteV9pbl9zaWdodCJdLCAiYWN0aW9uIjogInBhdHJvbCJ9LAogICAgeyJjb25kaXRpb24iOiBsYW1iZGEgc3RhdGU6IHN0YXRlWyJoZWFsdGgiXSA8PSAyMCwgImFjdGlvbiI6ICJyZXRyZWF0In0KXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rules = [
    {&quot;condition&quot;: lambda state: state[&quot;enemy_in_sight&quot;] and state[&quot;health&quot;] &gt; 50, &quot;action&quot;: &quot;attack&quot;},
    {&quot;condition&quot;: lambda state: state[&quot;enemy_in_sight&quot;] and state[&quot;health&quot;] &lt;= 50, &quot;action&quot;: &quot;defend&quot;},
    {&quot;condition&quot;: lambda state: not state[&quot;enemy_in_sight&quot;], &quot;action&quot;: &quot;patrol&quot;},
    {&quot;condition&quot;: lambda state: state[&quot;health&quot;] &lt;= 20, &quot;action&quot;: &quot;retreat&quot;}
]</pre></div><div class='content'><h4>2. Create the Inference Engine</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGluZmVyZW5jZV9lbmdpbmUoc3RhdGUsIHJ1bGVzKToKICAgIGZvciBydWxlIGluIHJ1bGVzOgogICAgICAgIGlmIHJ1bGVbImNvbmRpdGlvbiJdKHN0YXRlKToKICAgICAgICAgICAgcmV0dXJuIHJ1bGVbImFjdGlvbiJdCiAgICByZXR1cm4gImlkbGUiICAjIERlZmF1bHQgYWN0aW9uIGlmIG5vIHJ1bGVzIGFwcGx5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def inference_engine(state, rules):
    for rule in rules:
        if rule[&quot;condition&quot;](state):
            return rule[&quot;action&quot;]
    return &quot;idle&quot;  # Default action if no rules apply</pre></div><div class='content'><h4>3. Define the Game State</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2FtZV9zdGF0ZSA9IHsKICAgICJlbmVteV9pbl9zaWdodCI6IFRydWUsCiAgICAiaGVhbHRoIjogNDUKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>game_state = {
    &quot;enemy_in_sight&quot;: True,
    &quot;health&quot;: 45
}</pre></div><div class='content'><h4>4. Determine the Action</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWN0aW9uID0gaW5mZXJlbmNlX2VuZ2luZShnYW1lX3N0YXRlLCBydWxlcykKcHJpbnQoZiJUaGUgY2hhcmFjdGVyIHdpbGw6IHthY3Rpb259Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>action = inference_engine(game_state, rules)
print(f&quot;The character will: {action}&quot;)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Rules</strong>: We defined four rules that cover different scenarios based on the character's health and whether an enemy is in sight.</li>
<li><strong>Inference Engine</strong>: This function iterates through the rules and applies the first rule that matches the current state.</li>
<li><strong>Game State</strong>: Represents the current conditions of the game, such as the character's health and whether an enemy is visible.</li>
<li><strong>Action</strong>: The inference engine determines the appropriate action based on the game state and rules.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Extend the Rule-Based System</p>
</h2>
<div class='content'><p><strong>Task</strong>: Add a new rule to the system that makes the character seek health packs if their health is between 20 and 50 and no enemy is in sight.</p>
<p><strong>Solution</strong>:</p>
<ol>
<li>
<p><strong>Define the New Rule</strong>:</p>
<pre><code class="language-python">new_rule = {&quot;condition&quot;: lambda state: not state[&quot;enemy_in_sight&quot;] and 20 &lt; state[&quot;health&quot;] &lt;= 50, &quot;action&quot;: &quot;seek_health_pack&quot;}
</code></pre>
</li>
<li>
<p><strong>Add the New Rule to the Rule Base</strong>:</p>
<pre><code class="language-python">rules.append(new_rule)
</code></pre>
</li>
<li>
<p><strong>Test the Updated System</strong>:</p>
<pre><code class="language-python">game_state = {
    &quot;enemy_in_sight&quot;: False,
    &quot;health&quot;: 30
}
action = inference_engine(game_state, rules)
print(f&quot;The character will: {action}&quot;)
</code></pre>
</li>
</ol>
<p><strong>Expected Output</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VGhlIGNoYXJhY3RlciB3aWxsOiBzZWVrX2hlYWx0aF9wYWNr"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>The character will: seek_health_pack</pre></div><div class='content'></div><h2><p>Exercise 2: Implement Backward Chaining</p>
</h2>
<div class='content'><p><strong>Task</strong>: Modify the inference engine to use backward chaining to determine the actions needed to achieve a goal, such as &quot;survive&quot;.</p>
<p><strong>Solution</strong>:</p>
<ol>
<li>
<p><strong>Define the Goal</strong>:</p>
<pre><code class="language-python">goal = &quot;survive&quot;
</code></pre>
</li>
<li>
<p><strong>Modify the Inference Engine</strong>:</p>
<pre><code class="language-python">def backward_chaining(goal, state, rules):
    if goal == &quot;survive&quot;:
        if state[&quot;health&quot;] &gt; 20:
            return &quot;defend&quot; if state[&quot;enemy_in_sight&quot;] else &quot;patrol&quot;
        else:
            return &quot;retreat&quot;
    return &quot;idle&quot;
</code></pre>
</li>
<li>
<p><strong>Test the Backward Chaining System</strong>:</p>
<pre><code class="language-python">game_state = {
    &quot;enemy_in_sight&quot;: True,
    &quot;health&quot;: 15
}
action = backward_chaining(goal, game_state, rules)
print(f&quot;The character will: {action}&quot;)
</code></pre>
</li>
</ol>
<p><strong>Expected Output</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VGhlIGNoYXJhY3RlciB3aWxsOiByZXRyZWF0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>The character will: retreat</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Overlapping Rules</strong>: Ensure that rules are mutually exclusive or have a clear priority to avoid conflicts.</li>
<li><strong>Complex Conditions</strong>: Simplify conditions to make the rule base easier to manage and understand.</li>
<li><strong>Performance</strong>: Optimize the inference engine for performance, especially in complex games with many rules.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Rule-based systems provide a straightforward and interpretable method for implementing AI in video games. By defining clear rules and using an inference engine, game developers can create intelligent behaviors for game characters. This module covered the basics of rule-based systems, provided practical examples, and included exercises to reinforce the concepts. In the next module, we will explore more advanced decision-making techniques such as behavior trees.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-03-behavior-trees' title="Behavior Trees">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-01-introduction-machine-learning' title="Introduction to Machine Learning">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
