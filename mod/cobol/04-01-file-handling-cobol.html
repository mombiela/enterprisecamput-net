<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>File Handling in COBOL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cobol/04-01-file-handling-cobol" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cobol/04-01-file-handling-cobol" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cobol/04-01-file-handling-cobol" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/cobol/04-01-file-handling-cobol" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/cobol/04-01-file-handling-cobol" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-03-nested-control-structures' title="Nested Control Structures">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File Handling in COBOL</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-02-sequential-file-processing' title="Sequential File Processing">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>File handling is a crucial aspect of COBOL programming, especially given its extensive use in business, finance, and administrative systems for companies and governments. This section will cover the basics of file handling in COBOL, including how to define, open, read, write, and close files.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>File Control</strong>: Specifies the files used in the program.</li>
<li><strong>File Description</strong>: Describes the structure of the files.</li>
<li><strong>File Operations</strong>: Includes opening, reading, writing, and closing files.</li>
</ol>
</div><h1>File Control</h1>
<div class='content'><p>The <code>FILE-CONTROL</code> paragraph in the <code>ENVIRONMENT DIVISION</code> specifies the files that the program will use. Each file is associated with a file name and a device.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RU5WSVJPTk1FTlQgRElWSVNJT04uCklOUFVULU9VVFBVVCBTRUNUSU9OLgpGSUxFLUNPTlRST0wuCiAgICBTRUxFQ1QgSU5QVVQtRklMRSBBU1NJR04gVE8gJ2lucHV0LmRhdCcKICAgICAgICBPUkdBTklaQVRJT04gSVMgU0VRVUVOVElBTC4KICAgIFNFTEVDVCBPVVRQVVQtRklMRSBBU1NJR04gVE8gJ291dHB1dC5kYXQnCiAgICAgICAgT1JHQU5JWkFUSU9OIElTIFNFUVVFTlRJQUwu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT INPUT-FILE ASSIGN TO 'input.dat'
        ORGANIZATION IS SEQUENTIAL.
    SELECT OUTPUT-FILE ASSIGN TO 'output.dat'
        ORGANIZATION IS SEQUENTIAL.</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>SELECT INPUT-FILE ASSIGN TO 'input.dat'</code>: Associates the logical file name <code>INPUT-FILE</code> with the physical file <code>input.dat</code>.</li>
<li><code>ORGANIZATION IS SEQUENTIAL</code>: Specifies that the file is a sequential file.</li>
</ul>
</div><h1>File Description</h1>
<div class='content'><p>The <code>FILE SECTION</code> in the <code>DATA DIVISION</code> describes the structure of the files. Each file is defined with a <code>FD</code> (File Description) entry.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgSU5QVVQtRklMRS4KMDEgIElOUFVULVJFQ09SRC4KICAgIDA1ICBJTlBVVC1JRCAgICAgUElDIDkoNSkuCiAgICAwNSAgSU5QVVQtTkFNRSAgIFBJQyBYKDIwKS4KCkZEICBPVVRQVVQtRklMRS4KMDEgIE9VVFBVVC1SRUNPUkQuCiAgICAwNSAgT1VUUFVULUlEICAgIFBJQyA5KDUpLgogICAgMDUgIE9VVFBVVC1OQU1FICBQSUMgWCgyMCku"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DATA DIVISION.
FILE SECTION.
FD  INPUT-FILE.
01  INPUT-RECORD.
    05  INPUT-ID     PIC 9(5).
    05  INPUT-NAME   PIC X(20).

FD  OUTPUT-FILE.
01  OUTPUT-RECORD.
    05  OUTPUT-ID    PIC 9(5).
    05  OUTPUT-NAME  PIC X(20).</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>FD INPUT-FILE</code>: Defines the file <code>INPUT-FILE</code>.</li>
<li><code>01 INPUT-RECORD</code>: Describes the structure of each record in the file.</li>
<li><code>05 INPUT-ID PIC 9(5)</code>: Defines a field <code>INPUT-ID</code> with a picture clause <code>9(5)</code> (5-digit numeric).</li>
<li><code>05 INPUT-NAME PIC X(20)</code>: Defines a field <code>INPUT-NAME</code> with a picture clause <code>X(20)</code> (20-character alphanumeric).</li>
</ul>
</div><h1>File Operations</h1>
<div class='content'></div><h2>Opening Files</h2>
<div class='content'><p>Files must be opened before they can be read or written. The <code>OPEN</code> statement is used for this purpose.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJTlBVVCBJTlBVVC1GSUxFCiAgICBPUEVOIE9VVFBVVCBPVVRQVVQtRklMRQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROCEDURE DIVISION.
    OPEN INPUT INPUT-FILE
    OPEN OUTPUT OUTPUT-FILE</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>OPEN INPUT INPUT-FILE</code>: Opens the <code>INPUT-FILE</code> for reading.</li>
<li><code>OPEN OUTPUT OUTPUT-FILE</code>: Opens the <code>OUTPUT-FILE</code> for writing.</li>
</ul>
</div><h2>Reading Files</h2>
<div class='content'><p>The <code>READ</code> statement is used to read records from a file.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIFJFQUQgSU5QVVQtRklMRSBJTlRPIElOUFVULVJFQ09SRAogICAgICAgIEFUIEVORAogICAgICAgICAgICBNT1ZFICdZRVMnIFRPIEVORC1PRi1GSUxFCiAgICBFTkQtUkVBRA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    READ INPUT-FILE INTO INPUT-RECORD
        AT END
            MOVE 'YES' TO END-OF-FILE
    END-READ</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>READ INPUT-FILE INTO INPUT-RECORD</code>: Reads a record from <code>INPUT-FILE</code> into <code>INPUT-RECORD</code>.</li>
<li><code>AT END MOVE 'YES' TO END-OF-FILE</code>: Sets the <code>END-OF-FILE</code> flag to 'YES' if the end of the file is reached.</li>
</ul>
</div><h2>Writing Files</h2>
<div class='content'><p>The <code>WRITE</code> statement is used to write records to a file.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIE1PVkUgSU5QVVQtSUQgVE8gT1VUUFVULUlECiAgICBNT1ZFIElOUFVULU5BTUUgVE8gT1VUUFVULU5BTUUKICAgIFdSSVRFIE9VVFBVVC1SRUNPUkQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    MOVE INPUT-ID TO OUTPUT-ID
    MOVE INPUT-NAME TO OUTPUT-NAME
    WRITE OUTPUT-RECORD</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>MOVE INPUT-ID TO OUTPUT-ID</code>: Copies the value of <code>INPUT-ID</code> to <code>OUTPUT-ID</code>.</li>
<li><code>MOVE INPUT-NAME TO OUTPUT-NAME</code>: Copies the value of <code>INPUT-NAME</code> to <code>OUTPUT-NAME</code>.</li>
<li><code>WRITE OUTPUT-RECORD</code>: Writes the <code>OUTPUT-RECORD</code> to the <code>OUTPUT-FILE</code>.</li>
</ul>
</div><h2>Closing Files</h2>
<div class='content'><p>Files must be closed after all operations are completed. The <code>CLOSE</code> statement is used for this purpose.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ICAgIENMT1NFIElOUFVULUZJTEUKICAgIENMT1NFIE9VVFBVVC1GSUxF"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>    CLOSE INPUT-FILE
    CLOSE OUTPUT-FILE</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li><code>CLOSE INPUT-FILE</code>: Closes the <code>INPUT-FILE</code>.</li>
<li><code>CLOSE OUTPUT-FILE</code>: Closes the <code>OUTPUT-FILE</code>.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task:</h2>
<div class='content'><p>Write a COBOL program that reads records from an input file and writes them to an output file.</p>
</div><h2>Solution:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIEZpbGVIYW5kbGluZ0V4YW1wbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCBJTlBVVC1GSUxFIEFTU0lHTiBUTyAnaW5wdXQuZGF0JwogICAgICAgIE9SR0FOSVpBVElPTiBJUyBTRVFVRU5USUFMLgogICAgU0VMRUNUIE9VVFBVVC1GSUxFIEFTU0lHTiBUTyAnb3V0cHV0LmRhdCcKICAgICAgICBPUkdBTklaQVRJT04gSVMgU0VRVUVOVElBTC4KCkRBVEEgRElWSVNJT04uCkZJTEUgU0VDVElPTi4KRkQgIElOUFVULUZJTEUuCjAxICBJTlBVVC1SRUNPUkQuCiAgICAwNSAgSU5QVVQtSUQgICAgIFBJQyA5KDUpLgogICAgMDUgIElOUFVULU5BTUUgICBQSUMgWCgyMCkuCgpGRCAgT1VUUFVULUZJTEUuCjAxICBPVVRQVVQtUkVDT1JELgogICAgMDUgIE9VVFBVVC1JRCAgICBQSUMgOSg1KS4KICAgIDA1ICBPVVRQVVQtTkFNRSAgUElDIFgoMjApLgoKV09SS0lORy1TVE9SQUdFIFNFQ1RJT04uCjAxICBFTkQtT0YtRklMRSAgICAgUElDIFgoMykgVkFMVUUgJ05PJy4KClBST0NFRFVSRSBESVZJU0lPTi4KICAgIE9QRU4gSU5QVVQgSU5QVVQtRklMRQogICAgT1BFTiBPVVRQVVQgT1VUUFVULUZJTEUKCiAgICBQRVJGT1JNIFVOVElMIEVORC1PRi1GSUxFID0gJ1lFUycKICAgICAgICBSRUFEIElOUFVULUZJTEUgSU5UTyBJTlBVVC1SRUNPUkQKICAgICAgICAgICAgQVQgRU5ECiAgICAgICAgICAgICAgICBNT1ZFICdZRVMnIFRPIEVORC1PRi1GSUxFCiAgICAgICAgRU5ELVJFQUQKCiAgICAgICAgSUYgRU5ELU9GLUZJTEUgTk9UID0gJ1lFUycKICAgICAgICAgICAgTU9WRSBJTlBVVC1JRCBUTyBPVVRQVVQtSUQKICAgICAgICAgICAgTU9WRSBJTlBVVC1OQU1FIFRPIE9VVFBVVC1OQU1FCiAgICAgICAgICAgIFdSSVRFIE9VVFBVVC1SRUNPUkQKICAgICAgICBFTkQtSUYKICAgIEVORC1QRVJGT1JNCgogICAgQ0xPU0UgSU5QVVQtRklMRQogICAgQ0xPU0UgT1VUUFVULUZJTEUKCiAgICBTVE9QIFJVTi4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. FileHandlingExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT INPUT-FILE ASSIGN TO 'input.dat'
        ORGANIZATION IS SEQUENTIAL.
    SELECT OUTPUT-FILE ASSIGN TO 'output.dat'
        ORGANIZATION IS SEQUENTIAL.

DATA DIVISION.
FILE SECTION.
FD  INPUT-FILE.
01  INPUT-RECORD.
    05  INPUT-ID     PIC 9(5).
    05  INPUT-NAME   PIC X(20).

FD  OUTPUT-FILE.
01  OUTPUT-RECORD.
    05  OUTPUT-ID    PIC 9(5).
    05  OUTPUT-NAME  PIC X(20).

WORKING-STORAGE SECTION.
01  END-OF-FILE     PIC X(3) VALUE 'NO'.

PROCEDURE DIVISION.
    OPEN INPUT INPUT-FILE
    OPEN OUTPUT OUTPUT-FILE

    PERFORM UNTIL END-OF-FILE = 'YES'
        READ INPUT-FILE INTO INPUT-RECORD
            AT END
                MOVE 'YES' TO END-OF-FILE
        END-READ

        IF END-OF-FILE NOT = 'YES'
            MOVE INPUT-ID TO OUTPUT-ID
            MOVE INPUT-NAME TO OUTPUT-NAME
            WRITE OUTPUT-RECORD
        END-IF
    END-PERFORM

    CLOSE INPUT-FILE
    CLOSE OUTPUT-FILE

    STOP RUN.</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li>The program reads records from <code>input.dat</code> and writes them to <code>output.dat</code>.</li>
<li>The <code>PERFORM UNTIL</code> loop continues until the end of the input file is reached.</li>
<li>Each record is read from the input file, and if not at the end of the file, it is written to the output file.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ol>
<li><strong>Forgetting to Open or Close Files</strong>: Always ensure files are opened before any operations and closed after operations are completed.</li>
<li><strong>Incorrect File Assignments</strong>: Double-check file assignments in the <code>FILE-CONTROL</code> paragraph.</li>
<li><strong>Mismatched Record Descriptions</strong>: Ensure that the record descriptions in the <code>FILE SECTION</code> match the actual file structure.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you learned the basics of file handling in COBOL, including how to define, open, read, write, and close files. Understanding these concepts is essential for working with data in COBOL programs. In the next section, we will delve into sequential file processing, which builds on the concepts covered here.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-03-nested-control-structures' title="Nested Control Structures">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-02-sequential-file-processing' title="Sequential File Processing">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
