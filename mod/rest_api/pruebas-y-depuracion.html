<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing and Debugging</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rest_api/pruebas-y-depuracion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rest_api/pruebas-y-depuracion" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rest_api/pruebas-y-depuracion" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rest_api/pruebas-y-depuracion" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rest_api/pruebas-y-depuracion" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, you will learn how to perform testing and debugging of a REST API. Testing and debugging are essential to ensure that your API works correctly and is robust against errors and exceptions.</p>
</div><h1>Types of Tests</h1>
<div class='content'></div><h2>Unit Tests</h2>
<div class='content'><p>Unit tests focus on testing individual components of the API, such as functions or methods. These tests are crucial to ensure that each part of your API works as expected.</p>
<ul>
<li><strong>Objective</strong>: Verify that each unit of code works correctly.</li>
<li><strong>Common tools</strong>: Jest, Mocha, Chai (for Node.js), JUnit (for Java).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiBhIHVuaXQgdGVzdCB3aXRoIEplc3QKY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpOwpjb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTsKCmRlc2NyaWJlKCdHRVQgL2FwaS9yZXNvdXJjZScsICgpID0+IHsKICBpdCgnc2hvdWxkIHJldHVybiBhIGxpc3Qgb2YgcmVzb3VyY2VzJywgYXN5bmMgKCkgPT4gewogICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2FwaS9yZXNvdXJjZScpOwogICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50b0VxdWFsKDIwMCk7CiAgICBleHBlY3QocmVzLmJvZHkpLnRvSGF2ZVByb3BlcnR5KCdkYXRhJyk7CiAgfSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of a unit test with Jest
const request = require('supertest');
const app = require('../app');

describe('GET /api/resource', () =&gt; {
  it('should return a list of resources', async () =&gt; {
    const res = await request(app).get('/api/resource');
    expect(res.statusCode).toEqual(200);
    expect(res.body).toHaveProperty('data');
  });
});</pre></div><div class='content'></div><h2>Integration Tests</h2>
<div class='content'><p>Integration tests verify that different modules or services of your API work together correctly.</p>
<ul>
<li><strong>Objective</strong>: Ensure that the integrated components work as a whole.</li>
<li><strong>Common tools</strong>: Supertest, Postman, Newman.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiBhbiBpbnRlZ3JhdGlvbiB0ZXN0IHdpdGggU3VwZXJ0ZXN0CmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcnRlc3QnKTsKY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7CgpkZXNjcmliZSgnUE9TVCAvYXBpL3Jlc291cmNlJywgKCkgPT4gewogIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IHJlc291cmNlJywgYXN5bmMgKCkgPT4gewogICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChhcHApCiAgICAgIC5wb3N0KCcvYXBpL3Jlc291cmNlJykKICAgICAgLnNlbmQoewogICAgICAgIG5hbWU6ICdOZXcgUmVzb3VyY2UnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBpcyBhIG5ldyByZXNvdXJjZScKICAgICAgfSk7CiAgICBleHBlY3QocmVzLnN0YXR1c0NvZGUpLnRvRXF1YWwoMjAxKTsKICAgIGV4cGVjdChyZXMuYm9keSkudG9IYXZlUHJvcGVydHkoJ2lkJyk7CiAgfSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of an integration test with Supertest
const request = require('supertest');
const app = require('../app');

describe('POST /api/resource', () =&gt; {
  it('should create a new resource', async () =&gt; {
    const res = await request(app)
      .post('/api/resource')
      .send({
        name: 'New Resource',
        description: 'This is a new resource'
      });
    expect(res.statusCode).toEqual(201);
    expect(res.body).toHaveProperty('id');
  });
});</pre></div><div class='content'></div><h2>Functional Tests</h2>
<div class='content'><p>Functional tests focus on verifying that the API meets the specified functional requirements.</p>
<ul>
<li><strong>Objective</strong>: Validate that the API does what it is supposed to do.</li>
<li><strong>Common tools</strong>: Postman, Newman, SoapUI.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiBhIGZ1bmN0aW9uYWwgdGVzdCB3aXRoIFBvc3RtYW4KewogICJpbmZvIjogewogICAgIm5hbWUiOiAiQVBJIEZ1bmN0aW9uYWwgVGVzdCIsCiAgICAic2NoZW1hIjogImh0dHBzOi8vc2NoZW1hLmdldHBvc3RtYW4uY29tL2pzb24vY29sbGVjdGlvbi92Mi4xLjAvY29sbGVjdGlvbi5qc29uIgogIH0sCiAgIml0ZW0iOiBbCiAgICB7CiAgICAgICJuYW1lIjogIkdldCBSZXNvdXJjZXMiLAogICAgICAicmVxdWVzdCI6IHsKICAgICAgICAibWV0aG9kIjogIkdFVCIsCiAgICAgICAgImhlYWRlciI6IFtdLAogICAgICAgICJ1cmwiOiB7CiAgICAgICAgICAicmF3IjogImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcmVzb3VyY2UiLAogICAgICAgICAgInByb3RvY29sIjogImh0dHAiLAogICAgICAgICAgImhvc3QiOiBbImxvY2FsaG9zdCJdLAogICAgICAgICAgInBvcnQiOiAiMzAwMCIsCiAgICAgICAgICAicGF0aCI6IFsiYXBpIiwgInJlc291cmNlIl0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJyZXNwb25zZSI6IFtdCiAgICB9CiAgXQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of a functional test with Postman
{
  &quot;info&quot;: {
    &quot;name&quot;: &quot;API Functional Test&quot;,
    &quot;schema&quot;: &quot;https://schema.getpostman.com/json/collection/v2.1.0/collection.json&quot;
  },
  &quot;item&quot;: [
    {
      &quot;name&quot;: &quot;Get Resources&quot;,
      &quot;request&quot;: {
        &quot;method&quot;: &quot;GET&quot;,
        &quot;header&quot;: [],
        &quot;url&quot;: {
          &quot;raw&quot;: &quot;http://localhost:3000/api/resource&quot;,
          &quot;protocol&quot;: &quot;http&quot;,
          &quot;host&quot;: [&quot;localhost&quot;],
          &quot;port&quot;: &quot;3000&quot;,
          &quot;path&quot;: [&quot;api&quot;, &quot;resource&quot;]
        }
      },
      &quot;response&quot;: []
    }
  ]
}</pre></div><div class='content'></div><h1>Debugging Tools</h1>
<div class='content'></div><h2>Logs</h2>
<div class='content'><p>Logs are a fundamental tool for debugging. They allow you to record events and errors that occur during the execution of the API.</p>
<ul>
<li><strong>Common libraries</strong>: Winston, Morgan (for Node.js), Log4j (for Java).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiB1c2luZyBXaW5zdG9uIGZvciBsb2dnaW5nCmNvbnN0IHdpbnN0b24gPSByZXF1aXJlKCd3aW5zdG9uJyk7Cgpjb25zdCBsb2dnZXIgPSB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7CiAgbGV2ZWw6ICdpbmZvJywKICBmb3JtYXQ6IHdpbnN0b24uZm9ybWF0Lmpzb24oKSwKICB0cmFuc3BvcnRzOiBbCiAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkZpbGUoeyBmaWxlbmFtZTogJ2Vycm9yLmxvZycsIGxldmVsOiAnZXJyb3InIH0pLAogICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6ICdjb21iaW5lZC5sb2cnIH0pCiAgXQp9KTsKCmxvZ2dlci5pbmZvKCdUaGlzIGlzIGFuIGluZm9ybWF0aW9uYWwgbWVzc2FnZScpOwpsb2dnZXIuZXJyb3IoJ1RoaXMgaXMgYW4gZXJyb3IgbWVzc2FnZScpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of using Winston for logging
const winston = require('winston');

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

logger.info('This is an informational message');
logger.error('This is an error message');</pre></div><div class='content'></div><h2>Debuggers</h2>
<div class='content'><p>Debuggers allow you to pause the execution of the code and examine the state of the application in real-time.</p>
<ul>
<li><strong>Common tools</strong>: Node.js Debugger, Chrome DevTools, Visual Studio Code Debugger.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiB1c2luZyB0aGUgZGVidWdnZXIgaW4gTm9kZS5qcwpjb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpOwoKY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoKHJlcSwgcmVzKSA9PiB7CiAgZGVidWdnZXI7IC8vIEJyZWFrcG9pbnQKICByZXMuc3RhdHVzQ29kZSA9IDIwMDsKICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpOwogIHJlcy5lbmQoJ0hlbGxvIFdvcmxkXG4nKTsKfSk7CgpzZXJ2ZXIubGlzdGVuKDMwMDAsICcxMjcuMC4wLjEnLCAoKSA9PiB7CiAgY29uc29sZS5sb2coJ1NlcnZlciBydW5uaW5nIGF0IGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC8nKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of using the debugger in Node.js
const http = require('http');

const server = http.createServer((req, res) =&gt; {
  debugger; // Breakpoint
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello World\n');
});

server.listen(3000, '127.0.0.1', () =&gt; {
  console.log('Server running at http://127.0.0.1:3000/');
});</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'><ol>
<li><strong>Unit Test</strong>: Write a unit test for a function that adds two numbers.</li>
<li><strong>Integration Test</strong>: Create an integration test for an endpoint that creates a new user.</li>
<li><strong>Functional Test</strong>: Use Postman to create a collection of functional tests for your API.</li>
<li><strong>Debugging</strong>: Add logs to your API and use a debugger to identify and fix an error in a specific endpoint.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Testing and debugging are essential components in the development of a robust and reliable REST API. By implementing unit, integration, and functional tests, and using effective debugging tools, you can ensure that your API works correctly and is prepared to handle errors and exceptions.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
