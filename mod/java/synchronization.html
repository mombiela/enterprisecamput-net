<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synchronization in Java</title>

    <link rel="alternate" href="https://campusempresa.com/mod/java/synchronization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/java/synchronization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/java/synchronization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/java/synchronization" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/java/synchronization" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-managing-threads'>&#x25C4;Creating and Managing Threads</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Synchronization in Java</a>
	</div>
	<div class='col-4 text-end'>
					<a href='concurrency-utilities'>Concurrency Utilities &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Synchronization is a fundamental concept in Java that allows you to control the access of multiple threads to shared resources. This is crucial in a multi-threaded environment to prevent data inconsistency and ensure thread safety.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Thread Safety</strong>: Ensuring that shared data is accessed by only one thread at a time.</li>
<li><strong>Critical Section</strong>: A section of code that accesses shared resources and must not be executed by more than one thread at a time.</li>
<li><strong>Monitor</strong>: A synchronization mechanism that allows threads to have mutual exclusive access to shared resources.</li>
<li><strong>Intrinsic Locks</strong>: Built-in locks that every object in Java has, used to manage synchronized access to the object's methods and blocks.</li>
</ul>
</div><h1>Synchronized Methods</h1>
<div class='content'><p>A synchronized method ensures that only one thread can execute it at a time for a given instance.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENvdW50ZXIgewogICAgcHJpdmF0ZSBpbnQgY291bnQgPSAwOwoKICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9pZCBpbmNyZW1lbnQoKSB7CiAgICAgICAgY291bnQrKzsKICAgIH0KCiAgICBwdWJsaWMgc3luY2hyb25pemVkIGludCBnZXRDb3VudCgpIHsKICAgICAgICByZXR1cm4gY291bnQ7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Counter {
    private int count = 0;

    public synchronized void increment() {
        count++;
    }

    public synchronized int getCount() {
        return count;
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>synchronized</code> keyword ensures that the <code>increment</code> and <code>getCount</code> methods are accessed by only one thread at a time.</li>
<li>This prevents multiple threads from modifying the <code>count</code> variable simultaneously, ensuring data consistency.</li>
</ul>
</div><h1>Synchronized Blocks</h1>
<div class='content'><p>Synchronized blocks allow more fine-grained control over the synchronization process by locking only a specific section of code.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENvdW50ZXIgewogICAgcHJpdmF0ZSBpbnQgY291bnQgPSAwOwogICAgcHJpdmF0ZSBmaW5hbCBPYmplY3QgbG9jayA9IG5ldyBPYmplY3QoKTsKCiAgICBwdWJsaWMgdm9pZCBpbmNyZW1lbnQoKSB7CiAgICAgICAgc3luY2hyb25pemVkIChsb2NrKSB7CiAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0Q291bnQoKSB7CiAgICAgICAgc3luY2hyb25pemVkIChsb2NrKSB7CiAgICAgICAgICAgIHJldHVybiBjb3VudDsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Counter {
    private int count = 0;
    private final Object lock = new Object();

    public void increment() {
        synchronized (lock) {
            count++;
        }
    }

    public int getCount() {
        synchronized (lock) {
            return count;
        }
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>The <code>synchronized</code> block locks the specified object (<code>lock</code> in this case) rather than the entire method.</li>
<li>This can improve performance by reducing the scope of synchronization.</li>
</ul>
</div><h1>Static Synchronization</h1>
<div class='content'><p>Static methods can also be synchronized, which locks on the class object rather than an instance of the class.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFN0YXRpY0NvdW50ZXIgewogICAgcHJpdmF0ZSBzdGF0aWMgaW50IGNvdW50ID0gMDsKCiAgICBwdWJsaWMgc3RhdGljIHN5bmNocm9uaXplZCB2b2lkIGluY3JlbWVudCgpIHsKICAgICAgICBjb3VudCsrOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgc3luY2hyb25pemVkIGludCBnZXRDb3VudCgpIHsKICAgICAgICByZXR1cm4gY291bnQ7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class StaticCounter {
    private static int count = 0;

    public static synchronized void increment() {
        count++;
    }

    public static synchronized int getCount() {
        return count;
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>synchronized</code> keyword on a static method ensures that only one thread can execute any static synchronized method of the class at a time.</li>
<li>This is useful when you need to synchronize access to static variables.</li>
</ul>
</div><h1>Deadlock</h1>
<div class='content'><p>Deadlock occurs when two or more threads are blocked forever, waiting for each other to release the locks they need.</p>
</div><h2>Example of Deadlock</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIERlYWRsb2NrRXhhbXBsZSB7CiAgICBwcml2YXRlIGZpbmFsIE9iamVjdCBsb2NrMSA9IG5ldyBPYmplY3QoKTsKICAgIHByaXZhdGUgZmluYWwgT2JqZWN0IGxvY2syID0gbmV3IE9iamVjdCgpOwoKICAgIHB1YmxpYyB2b2lkIG1ldGhvZDEoKSB7CiAgICAgICAgc3luY2hyb25pemVkIChsb2NrMSkgewogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCAxOiBIb2xkaW5nIGxvY2sgMS4uLiIpOwogICAgICAgICAgICB0cnkgeyBUaHJlYWQuc2xlZXAoMTApOyB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7fQogICAgICAgICAgICBzeW5jaHJvbml6ZWQgKGxvY2syKSB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCAxOiBIb2xkaW5nIGxvY2sgMSAmIDIuLi4iKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBtZXRob2QyKCkgewogICAgICAgIHN5bmNocm9uaXplZCAobG9jazIpIHsKICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJUaHJlYWQgMjogSG9sZGluZyBsb2NrIDIuLi4iKTsKICAgICAgICAgICAgdHJ5IHsgVGhyZWFkLnNsZWVwKDEwKTsgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkge30KICAgICAgICAgICAgc3luY2hyb25pemVkIChsb2NrMSkgewogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJUaHJlYWQgMjogSG9sZGluZyBsb2NrIDIgJiAxLi4uIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class DeadlockExample {
    private final Object lock1 = new Object();
    private final Object lock2 = new Object();

    public void method1() {
        synchronized (lock1) {
            System.out.println(&quot;Thread 1: Holding lock 1...&quot;);
            try { Thread.sleep(10); } catch (InterruptedException e) {}
            synchronized (lock2) {
                System.out.println(&quot;Thread 1: Holding lock 1 &amp; 2...&quot;);
            }
        }
    }

    public void method2() {
        synchronized (lock2) {
            System.out.println(&quot;Thread 2: Holding lock 2...&quot;);
            try { Thread.sleep(10); } catch (InterruptedException e) {}
            synchronized (lock1) {
                System.out.println(&quot;Thread 2: Holding lock 2 &amp; 1...&quot;);
            }
        }
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>method1</code> locks <code>lock1</code> and then tries to lock <code>lock2</code>.</li>
<li><code>method2</code> locks <code>lock2</code> and then tries to lock <code>lock1</code>.</li>
<li>If <code>method1</code> and <code>method2</code> are called by different threads simultaneously, a deadlock can occur.</li>
</ul>
</div><h1>Avoiding Deadlock</h1>
<div class='content'><ul>
<li><strong>Lock Ordering</strong>: Always acquire locks in a consistent order.</li>
<li><strong>Timeouts</strong>: Use timeouts when attempting to acquire locks.</li>
<li><strong>Deadlock Detection</strong>: Implement deadlock detection algorithms.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Synchronization in Java is essential for ensuring thread safety in a multi-threaded environment. By using synchronized methods, synchronized blocks, and understanding the potential for deadlock, you can effectively manage concurrent access to shared resources. Always be mindful of the performance implications and strive to write efficient, deadlock-free code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-managing-threads'>&#x25C4;Creating and Managing Threads</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Synchronization in Java</a>
	</div>
	<div class='col-4 text-end'>
					<a href='concurrency-utilities'>Concurrency Utilities &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
