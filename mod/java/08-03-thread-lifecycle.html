<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thread Lifecycle</title>

    <link rel="alternate" href="https://campusempresa.com/mod/java/08-03-thread-lifecycle" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/java/08-03-thread-lifecycle" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/java/08-03-thread-lifecycle" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/java/08-03-thread-lifecycle" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/java/08-03-thread-lifecycle" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-02-creating-threads' title="Creating Threads">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Thread Lifecycle</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-04-synchronization' title="Synchronization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the lifecycle of a thread in Java. Understanding the thread lifecycle is crucial for managing threads effectively in a multithreaded environment. The lifecycle of a thread in Java can be broken down into several states:</p>
<ol>
<li><strong>New</strong></li>
<li><strong>Runnable</strong></li>
<li><strong>Blocked</strong></li>
<li><strong>Waiting</strong></li>
<li><strong>Timed Waiting</strong></li>
<li><strong>Terminated</strong></li>
</ol>
<p>Let's delve into each of these states in detail.</p>
</div><h1><ol>
<li>New</li>
</ol>
</h1>
<div class='content'><p>A thread is in the &quot;New&quot; state when it is created but not yet started. This is the initial state of a thread.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VGhyZWFkIHRocmVhZCA9IG5ldyBUaHJlYWQoKCkgLT4gewogICAgU3lzdGVtLm91dC5wcmludGxuKCJUaHJlYWQgaXMgcnVubmluZyIpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Thread thread = new Thread(() -&gt; {
    System.out.println(&quot;Thread is running&quot;);
});</pre></div><div class='content'><p>In the above code, the thread is created but not started, so it is in the &quot;New&quot; state.</p>
</div><h1><ol start="2">
<li>Runnable</li>
</ol>
</h1>
<div class='content'><p>A thread moves to the &quot;Runnable&quot; state when the <code>start()</code> method is called. In this state, the thread is ready to run and is waiting for the CPU to allocate time for execution.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGhyZWFkLnN0YXJ0KCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>thread.start();</pre></div><div class='content'><p>Once the <code>start()</code> method is called, the thread transitions from the &quot;New&quot; state to the &quot;Runnable&quot; state.</p>
</div><h1><ol start="3">
<li>Blocked</li>
</ol>
</h1>
<div class='content'><p>A thread enters the &quot;Blocked&quot; state when it is waiting to acquire a monitor lock to enter or re-enter a synchronized block/method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHN5bmNocm9uaXplZCB2b2lkIHN5bmNocm9uaXplZE1ldGhvZCgpIHsKICAgIC8vIGNyaXRpY2FsIHNlY3Rpb24KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public synchronized void synchronizedMethod() {
    // critical section
}</pre></div><div class='content'><p>If a thread tries to enter a synchronized method and the lock is already held by another thread, it will be blocked until the lock is released.</p>
</div><h1><ol start="4">
<li>Waiting</li>
</ol>
</h1>
<div class='content'><p>A thread is in the &quot;Waiting&quot; state when it is waiting indefinitely for another thread to perform a particular action. This can happen in several scenarios, such as when a thread calls <code>Object.wait()</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3luY2hyb25pemVkIChsb2NrKSB7CiAgICBsb2NrLndhaXQoKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>synchronized (lock) {
    lock.wait();
}</pre></div><div class='content'><p>In the above code, the thread will wait indefinitely until another thread calls <code>lock.notify()</code> or <code>lock.notifyAll()</code>.</p>
</div><h1><ol start="5">
<li>Timed Waiting</li>
</ol>
</h1>
<div class='content'><p>A thread is in the &quot;Timed Waiting&quot; state when it is waiting for another thread to perform an action for a specified waiting time. This can happen when a thread calls methods like <code>Thread.sleep(long millis)</code>, <code>Object.wait(long timeout)</code>, or <code>Thread.join(long millis)</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VGhyZWFkLnNsZWVwKDEwMDApOyAvLyBUaGUgdGhyZWFkIHdpbGwgYmUgaW4gVGltZWQgV2FpdGluZyBzdGF0ZSBmb3IgMSBzZWNvbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Thread.sleep(1000); // The thread will be in Timed Waiting state for 1 second</pre></div><div class='content'><p>In the above code, the thread will be in the &quot;Timed Waiting&quot; state for 1 second.</p>
</div><h1><ol start="6">
<li>Terminated</li>
</ol>
</h1>
<div class='content'><p>A thread is in the &quot;Terminated&quot; state when it has completed its execution. This can happen either because the thread has finished executing its <code>run()</code> method or because it was terminated by an exception.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHZvaWQgcnVuKCkgewogICAgU3lzdGVtLm91dC5wcmludGxuKCJUaHJlYWQgaXMgcnVubmluZyIpOwogICAgLy8gVGhyZWFkIGV4ZWN1dGlvbiBjb21wbGV0ZXMgaGVyZQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public void run() {
    System.out.println(&quot;Thread is running&quot;);
    // Thread execution completes here
}</pre></div><div class='content'><p>Once the <code>run()</code> method completes, the thread transitions to the &quot;Terminated&quot; state.</p>
</div><h1><p>Thread Lifecycle Diagram</p>
</h1>
<div class='content'><p>Here is a visual representation of the thread lifecycle:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TmV3IC0+IFJ1bm5hYmxlIC0+IFJ1bm5pbmcgLT4gKEJsb2NrZWQvV2FpdGluZy9UaW1lZCBXYWl0aW5nKSAtPiBSdW5uYWJsZSAtPiBUZXJtaW5hdGVk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>New -&gt; Runnable -&gt; Running -&gt; (Blocked/Waiting/Timed Waiting) -&gt; Runnable -&gt; Terminated</pre></div><div class='content'></div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's see a practical example that demonstrates the different states of a thread.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFRocmVhZExpZmVjeWNsZURlbW8gewoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBUaHJlYWQgdGhyZWFkID0gbmV3IFRocmVhZCgoKSAtPiB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCBpcyBpbiBSdW5uYWJsZSBzdGF0ZSIpOwogICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDEwMDApOyAvLyBUaW1lZCBXYWl0aW5nIHN0YXRlCiAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZWQgKFRocmVhZExpZmVjeWNsZURlbW8uY2xhc3MpIHsKICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCBpcyBpbiBCbG9ja2VkIHN0YXRlIik7CiAgICAgICAgICAgICAgICAgICAgVGhyZWFkTGlmZWN5Y2xlRGVtby5jbGFzcy53YWl0KCk7IC8vIFdhaXRpbmcgc3RhdGUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCBpcyBpbiBUZXJtaW5hdGVkIHN0YXRlIik7CiAgICAgICAgfSk7CgogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVGhyZWFkIGlzIGluIE5ldyBzdGF0ZSIpOwogICAgICAgIHRocmVhZC5zdGFydCgpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ThreadLifecycleDemo {

    public static void main(String[] args) {
        Thread thread = new Thread(() -&gt; {
            try {
                System.out.println(&quot;Thread is in Runnable state&quot;);
                Thread.sleep(1000); // Timed Waiting state
                synchronized (ThreadLifecycleDemo.class) {
                    System.out.println(&quot;Thread is in Blocked state&quot;);
                    ThreadLifecycleDemo.class.wait(); // Waiting state
                }
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println(&quot;Thread is in Terminated state&quot;);
        });

        System.out.println(&quot;Thread is in New state&quot;);
        thread.start();
    }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The thread starts in the &quot;New&quot; state.</li>
<li>When <code>start()</code> is called, it moves to the &quot;Runnable&quot; state.</li>
<li>It then enters the &quot;Timed Waiting&quot; state when <code>Thread.sleep(1000)</code> is called.</li>
<li>After waking up, it tries to enter a synchronized block, potentially moving to the &quot;Blocked&quot; state.</li>
<li>It then calls <code>wait()</code>, moving to the &quot;Waiting&quot; state.</li>
<li>Finally, it completes execution and moves to the &quot;Terminated&quot; state.</li>
</ul>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Thread States</p>
</h2>
<div class='content'><p>Create a Java program that demonstrates the transition of a thread through all the states: New, Runnable, Blocked, Waiting, Timed Waiting, and Terminated.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFRocmVhZFN0YXRlRGVtbyB7CgogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE9iamVjdCBsb2NrID0gbmV3IE9iamVjdCgpOwoKICAgICAgICBUaHJlYWQgdGhyZWFkID0gbmV3IFRocmVhZCgoKSAtPiB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCBpcyBpbiBSdW5uYWJsZSBzdGF0ZSIpOwogICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDUwMCk7IC8vIFRpbWVkIFdhaXRpbmcgc3RhdGUKICAgICAgICAgICAgICAgIHN5bmNocm9uaXplZCAobG9jaykgewogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVGhyZWFkIGlzIGluIEJsb2NrZWQgc3RhdGUiKTsKICAgICAgICAgICAgICAgICAgICBsb2NrLndhaXQoKTsgLy8gV2FpdGluZyBzdGF0ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVGhyZWFkIGlzIGluIFRlcm1pbmF0ZWQgc3RhdGUiKTsKICAgICAgICB9KTsKCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJUaHJlYWQgaXMgaW4gTmV3IHN0YXRlIik7CiAgICAgICAgdGhyZWFkLnN0YXJ0KCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIFRocmVhZC5zbGVlcCgxMDApOyAvLyBFbnN1cmUgdGhlIHRocmVhZCBlbnRlcnMgVGltZWQgV2FpdGluZyBzdGF0ZQogICAgICAgICAgICBzeW5jaHJvbml6ZWQgKGxvY2spIHsKICAgICAgICAgICAgICAgIGxvY2subm90aWZ5KCk7IC8vIE1vdmUgdGhyZWFkIGZyb20gV2FpdGluZyB0byBSdW5uYWJsZSBzdGF0ZQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgewogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ThreadStateDemo {

    public static void main(String[] args) {
        Object lock = new Object();

        Thread thread = new Thread(() -&gt; {
            try {
                System.out.println(&quot;Thread is in Runnable state&quot;);
                Thread.sleep(500); // Timed Waiting state
                synchronized (lock) {
                    System.out.println(&quot;Thread is in Blocked state&quot;);
                    lock.wait(); // Waiting state
                }
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println(&quot;Thread is in Terminated state&quot;);
        });

        System.out.println(&quot;Thread is in New state&quot;);
        thread.start();

        try {
            Thread.sleep(100); // Ensure the thread enters Timed Waiting state
            synchronized (lock) {
                lock.notify(); // Move thread from Waiting to Runnable state
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'></div><h2><p>Exercise 2: Thread Lifecycle Monitoring</p>
</h2>
<div class='content'><p>Write a Java program that monitors and prints the state of a thread at regular intervals until it terminates.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFRocmVhZExpZmVjeWNsZU1vbml0b3IgewoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBUaHJlYWQgdGhyZWFkID0gbmV3IFRocmVhZCgoKSAtPiB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBUaHJlYWQuc2xlZXAoMTAwMCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdGhyZWFkLnN0YXJ0KCk7CgogICAgICAgIHdoaWxlICh0aHJlYWQuZ2V0U3RhdGUoKSAhPSBUaHJlYWQuU3RhdGUuVEVSTUlOQVRFRCkgewogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCBzdGF0ZTogIiArIHRocmVhZC5nZXRTdGF0ZSgpKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIFRocmVhZC5zbGVlcCgyMDApOwogICAgICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlRocmVhZCBzdGF0ZTogIiArIHRocmVhZC5nZXRTdGF0ZSgpKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ThreadLifecycleMonitor {

    public static void main(String[] args) {
        Thread thread = new Thread(() -&gt; {
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        });

        thread.start();

        while (thread.getState() != Thread.State.TERMINATED) {
            System.out.println(&quot;Thread state: &quot; + thread.getState());
            try {
                Thread.sleep(200);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

        System.out.println(&quot;Thread state: &quot; + thread.getState());
    }
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Understanding the thread lifecycle is essential for effective multithreading in Java. By knowing the different states a thread can be in and how to manage transitions between these states, you can write more efficient and robust multithreaded applications. In the next section, we will explore synchronization mechanisms to manage thread interactions safely.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-02-creating-threads' title="Creating Threads">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-04-synchronization' title="Synchronization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
