<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Patterns</title>

    <link rel="alternate" href="https://campusempresa.com/mod/java/12-02-design-patterns" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/java/12-02-design-patterns" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/java/12-02-design-patterns" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/java/12-02-design-patterns" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/java/12-02-design-patterns" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='12-01-project-setup' title="Project Setup">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Design Patterns</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='12-03-developing-a-console-application' title="Developing a Console Application">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Design patterns are typical solutions to common problems in software design. They are like blueprints that can be customized to solve a particular design problem in your code. Understanding design patterns is crucial for building robust, maintainable, and scalable applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>What are Design Patterns?</strong></p>
<ul>
<li>Reusable solutions to common software design problems.</li>
<li>Not code, but templates for how to solve a problem in various situations.</li>
<li>Help in improving code readability and reusability.</li>
</ul>
</li>
<li>
<p><strong>Types of Design Patterns:</strong></p>
<ul>
<li><strong>Creational Patterns:</strong> Deal with object creation mechanisms.</li>
<li><strong>Structural Patterns:</strong> Deal with object composition or structure.</li>
<li><strong>Behavioral Patterns:</strong> Deal with object interaction and responsibility.</li>
</ul>
</li>
</ol>
</div><h1>Creational Patterns</h1>
<div class='content'></div><h2>Singleton Pattern</h2>
<div class='content'><p>Ensures a class has only one instance and provides a global point of access to it.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFNpbmdsZXRvbiB7CiAgICBwcml2YXRlIHN0YXRpYyBTaW5nbGV0b24gaW5zdGFuY2U7CgogICAgcHJpdmF0ZSBTaW5nbGV0b24oKSB7CiAgICAgICAgLy8gcHJpdmF0ZSBjb25zdHJ1Y3RvciB0byBwcmV2ZW50IGluc3RhbnRpYXRpb24KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIFNpbmdsZXRvbiBnZXRJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkgewogICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBTaW5nbGV0b24oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluc3RhbmNlOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Singleton {
    private static Singleton instance;

    private Singleton() {
        // private constructor to prevent instantiation
    }

    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li>The constructor is private to prevent instantiation from outside the class.</li>
<li>The <code>getInstance</code> method ensures that only one instance of the class is created.</li>
</ul>
</div><h2>Factory Pattern</h2>
<div class='content'><p>Creates objects without specifying the exact class of object that will be created.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBTaGFwZSB7CiAgICB2b2lkIGRyYXcoKTsKfQoKcHVibGljIGNsYXNzIENpcmNsZSBpbXBsZW1lbnRzIFNoYXBlIHsKICAgIHB1YmxpYyB2b2lkIGRyYXcoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEcmF3aW5nIENpcmNsZSIpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgU3F1YXJlIGltcGxlbWVudHMgU2hhcGUgewogICAgcHVibGljIHZvaWQgZHJhdygpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRyYXdpbmcgU3F1YXJlIik7CiAgICB9Cn0KCnB1YmxpYyBjbGFzcyBTaGFwZUZhY3RvcnkgewogICAgcHVibGljIFNoYXBlIGdldFNoYXBlKFN0cmluZyBzaGFwZVR5cGUpIHsKICAgICAgICBpZiAoc2hhcGVUeXBlID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIGlmIChzaGFwZVR5cGUuZXF1YWxzSWdub3JlQ2FzZSgiQ0lSQ0xFIikpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUoKTsKICAgICAgICB9IGVsc2UgaWYgKHNoYXBlVHlwZS5lcXVhbHNJZ25vcmVDYXNlKCJTUVVBUkUiKSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFNxdWFyZSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface Shape {
    void draw();
}

public class Circle implements Shape {
    public void draw() {
        System.out.println(&quot;Drawing Circle&quot;);
    }
}

public class Square implements Shape {
    public void draw() {
        System.out.println(&quot;Drawing Square&quot;);
    }
}

public class ShapeFactory {
    public Shape getShape(String shapeType) {
        if (shapeType == null) {
            return null;
        }
        if (shapeType.equalsIgnoreCase(&quot;CIRCLE&quot;)) {
            return new Circle();
        } else if (shapeType.equalsIgnoreCase(&quot;SQUARE&quot;)) {
            return new Square();
        }
        return null;
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li>The <code>ShapeFactory</code> class creates objects of <code>Circle</code> and <code>Square</code> without exposing the creation logic to the client.</li>
</ul>
</div><h1>Structural Patterns</h1>
<div class='content'></div><h2>Adapter Pattern</h2>
<div class='content'><p>Allows incompatible interfaces to work together.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBNZWRpYVBsYXllciB7CiAgICB2b2lkIHBsYXkoU3RyaW5nIGF1ZGlvVHlwZSwgU3RyaW5nIGZpbGVOYW1lKTsKfQoKcHVibGljIGNsYXNzIEF1ZGlvUGxheWVyIGltcGxlbWVudHMgTWVkaWFQbGF5ZXIgewogICAgcHVibGljIHZvaWQgcGxheShTdHJpbmcgYXVkaW9UeXBlLCBTdHJpbmcgZmlsZU5hbWUpIHsKICAgICAgICBpZiAoYXVkaW9UeXBlLmVxdWFsc0lnbm9yZUNhc2UoIm1wMyIpKSB7CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiUGxheWluZyBtcDMgZmlsZS4gTmFtZTogIiArIGZpbGVOYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkludmFsaWQgbWVkaWEuICIgKyBhdWRpb1R5cGUgKyAiIGZvcm1hdCBub3Qgc3VwcG9ydGVkIik7CiAgICAgICAgfQogICAgfQp9CgpwdWJsaWMgaW50ZXJmYWNlIEFkdmFuY2VkTWVkaWFQbGF5ZXIgewogICAgdm9pZCBwbGF5VmxjKFN0cmluZyBmaWxlTmFtZSk7CiAgICB2b2lkIHBsYXlNcDQoU3RyaW5nIGZpbGVOYW1lKTsKfQoKcHVibGljIGNsYXNzIFZsY1BsYXllciBpbXBsZW1lbnRzIEFkdmFuY2VkTWVkaWFQbGF5ZXIgewogICAgcHVibGljIHZvaWQgcGxheVZsYyhTdHJpbmcgZmlsZU5hbWUpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlBsYXlpbmcgdmxjIGZpbGUuIE5hbWU6ICIgKyBmaWxlTmFtZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcGxheU1wNChTdHJpbmcgZmlsZU5hbWUpIHsKICAgICAgICAvLyBkbyBub3RoaW5nCiAgICB9Cn0KCnB1YmxpYyBjbGFzcyBNcDRQbGF5ZXIgaW1wbGVtZW50cyBBZHZhbmNlZE1lZGlhUGxheWVyIHsKICAgIHB1YmxpYyB2b2lkIHBsYXlWbGMoU3RyaW5nIGZpbGVOYW1lKSB7CiAgICAgICAgLy8gZG8gbm90aGluZwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHBsYXlNcDQoU3RyaW5nIGZpbGVOYW1lKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJQbGF5aW5nIG1wNCBmaWxlLiBOYW1lOiAiICsgZmlsZU5hbWUpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgTWVkaWFBZGFwdGVyIGltcGxlbWVudHMgTWVkaWFQbGF5ZXIgewogICAgQWR2YW5jZWRNZWRpYVBsYXllciBhZHZhbmNlZE11c2ljUGxheWVyOwoKICAgIHB1YmxpYyBNZWRpYUFkYXB0ZXIoU3RyaW5nIGF1ZGlvVHlwZSkgewogICAgICAgIGlmIChhdWRpb1R5cGUuZXF1YWxzSWdub3JlQ2FzZSgidmxjIikpIHsKICAgICAgICAgICAgYWR2YW5jZWRNdXNpY1BsYXllciA9IG5ldyBWbGNQbGF5ZXIoKTsKICAgICAgICB9IGVsc2UgaWYgKGF1ZGlvVHlwZS5lcXVhbHNJZ25vcmVDYXNlKCJtcDQiKSkgewogICAgICAgICAgICBhZHZhbmNlZE11c2ljUGxheWVyID0gbmV3IE1wNFBsYXllcigpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwbGF5KFN0cmluZyBhdWRpb1R5cGUsIFN0cmluZyBmaWxlTmFtZSkgewogICAgICAgIGlmIChhdWRpb1R5cGUuZXF1YWxzSWdub3JlQ2FzZSgidmxjIikpIHsKICAgICAgICAgICAgYWR2YW5jZWRNdXNpY1BsYXllci5wbGF5VmxjKGZpbGVOYW1lKTsKICAgICAgICB9IGVsc2UgaWYgKGF1ZGlvVHlwZS5lcXVhbHNJZ25vcmVDYXNlKCJtcDQiKSkgewogICAgICAgICAgICBhZHZhbmNlZE11c2ljUGxheWVyLnBsYXlNcDQoZmlsZU5hbWUpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface MediaPlayer {
    void play(String audioType, String fileName);
}

public class AudioPlayer implements MediaPlayer {
    public void play(String audioType, String fileName) {
        if (audioType.equalsIgnoreCase(&quot;mp3&quot;)) {
            System.out.println(&quot;Playing mp3 file. Name: &quot; + fileName);
        } else {
            System.out.println(&quot;Invalid media. &quot; + audioType + &quot; format not supported&quot;);
        }
    }
}

public interface AdvancedMediaPlayer {
    void playVlc(String fileName);
    void playMp4(String fileName);
}

public class VlcPlayer implements AdvancedMediaPlayer {
    public void playVlc(String fileName) {
        System.out.println(&quot;Playing vlc file. Name: &quot; + fileName);
    }

    public void playMp4(String fileName) {
        // do nothing
    }
}

public class Mp4Player implements AdvancedMediaPlayer {
    public void playVlc(String fileName) {
        // do nothing
    }

    public void playMp4(String fileName) {
        System.out.println(&quot;Playing mp4 file. Name: &quot; + fileName);
    }
}

public class MediaAdapter implements MediaPlayer {
    AdvancedMediaPlayer advancedMusicPlayer;

    public MediaAdapter(String audioType) {
        if (audioType.equalsIgnoreCase(&quot;vlc&quot;)) {
            advancedMusicPlayer = new VlcPlayer();
        } else if (audioType.equalsIgnoreCase(&quot;mp4&quot;)) {
            advancedMusicPlayer = new Mp4Player();
        }
    }

    public void play(String audioType, String fileName) {
        if (audioType.equalsIgnoreCase(&quot;vlc&quot;)) {
            advancedMusicPlayer.playVlc(fileName);
        } else if (audioType.equalsIgnoreCase(&quot;mp4&quot;)) {
            advancedMusicPlayer.playMp4(fileName);
        }
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>MediaAdapter</code> allows <code>AudioPlayer</code> to play <code>vlc</code> and <code>mp4</code> files by adapting the <code>AdvancedMediaPlayer</code> interface.</li>
</ul>
</div><h1>Behavioral Patterns</h1>
<div class='content'></div><h2>Observer Pattern</h2>
<div class='content'><p>Defines a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically.</p>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBTdWJqZWN0IHsKICAgIHByaXZhdGUgTGlzdDxPYnNlcnZlcj4gb2JzZXJ2ZXJzID0gbmV3IEFycmF5TGlzdDw+KCk7CiAgICBwcml2YXRlIGludCBzdGF0ZTsKCiAgICBwdWJsaWMgaW50IGdldFN0YXRlKCkgewogICAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTdGF0ZShpbnQgc3RhdGUpIHsKICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7CiAgICAgICAgbm90aWZ5QWxsT2JzZXJ2ZXJzKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgYXR0YWNoKE9ic2VydmVyIG9ic2VydmVyKSB7CiAgICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgbm90aWZ5QWxsT2JzZXJ2ZXJzKCkgewogICAgICAgIGZvciAoT2JzZXJ2ZXIgb2JzZXJ2ZXIgOiBvYnNlcnZlcnMpIHsKICAgICAgICAgICAgb2JzZXJ2ZXIudXBkYXRlKCk7CiAgICAgICAgfQogICAgfQp9CgpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgT2JzZXJ2ZXIgewogICAgcHJvdGVjdGVkIFN1YmplY3Qgc3ViamVjdDsKICAgIHB1YmxpYyBhYnN0cmFjdCB2b2lkIHVwZGF0ZSgpOwp9CgpwdWJsaWMgY2xhc3MgQmluYXJ5T2JzZXJ2ZXIgZXh0ZW5kcyBPYnNlcnZlciB7CiAgICBwdWJsaWMgQmluYXJ5T2JzZXJ2ZXIoU3ViamVjdCBzdWJqZWN0KSB7CiAgICAgICAgdGhpcy5zdWJqZWN0ID0gc3ViamVjdDsKICAgICAgICB0aGlzLnN1YmplY3QuYXR0YWNoKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVwZGF0ZSgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkJpbmFyeSBTdHJpbmc6ICIgKyBJbnRlZ2VyLnRvQmluYXJ5U3RyaW5nKHN1YmplY3QuZ2V0U3RhdGUoKSkpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgSGV4T2JzZXJ2ZXIgZXh0ZW5kcyBPYnNlcnZlciB7CiAgICBwdWJsaWMgSGV4T2JzZXJ2ZXIoU3ViamVjdCBzdWJqZWN0KSB7CiAgICAgICAgdGhpcy5zdWJqZWN0ID0gc3ViamVjdDsKICAgICAgICB0aGlzLnN1YmplY3QuYXR0YWNoKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVwZGF0ZSgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkhleCBTdHJpbmc6ICIgKyBJbnRlZ2VyLnRvSGV4U3RyaW5nKHN1YmplY3QuZ2V0U3RhdGUoKSkpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgT2JzZXJ2ZXJQYXR0ZXJuRGVtbyB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3ViamVjdCBzdWJqZWN0ID0gbmV3IFN1YmplY3QoKTsKCiAgICAgICAgbmV3IEJpbmFyeU9ic2VydmVyKHN1YmplY3QpOwogICAgICAgIG5ldyBIZXhPYnNlcnZlcihzdWJqZWN0KTsKCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJGaXJzdCBzdGF0ZSBjaGFuZ2U6IDE1Iik7CiAgICAgICAgc3ViamVjdC5zZXRTdGF0ZSgxNSk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJTZWNvbmQgc3RhdGUgY2hhbmdlOiAxMCIpOwogICAgICAgIHN1YmplY3Quc2V0U3RhdGUoMTApOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.ArrayList;
import java.util.List;

public class Subject {
    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();
    private int state;

    public int getState() {
        return state;
    }

    public void setState(int state) {
        this.state = state;
        notifyAllObservers();
    }

    public void attach(Observer observer) {
        observers.add(observer);
    }

    public void notifyAllObservers() {
        for (Observer observer : observers) {
            observer.update();
        }
    }
}

public abstract class Observer {
    protected Subject subject;
    public abstract void update();
}

public class BinaryObserver extends Observer {
    public BinaryObserver(Subject subject) {
        this.subject = subject;
        this.subject.attach(this);
    }

    public void update() {
        System.out.println(&quot;Binary String: &quot; + Integer.toBinaryString(subject.getState()));
    }
}

public class HexObserver extends Observer {
    public HexObserver(Subject subject) {
        this.subject = subject;
        this.subject.attach(this);
    }

    public void update() {
        System.out.println(&quot;Hex String: &quot; + Integer.toHexString(subject.getState()));
    }
}

public class ObserverPatternDemo {
    public static void main(String[] args) {
        Subject subject = new Subject();

        new BinaryObserver(subject);
        new HexObserver(subject);

        System.out.println(&quot;First state change: 15&quot;);
        subject.setState(15);
        System.out.println(&quot;Second state change: 10&quot;);
        subject.setState(10);
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><code>Subject</code> maintains a list of observers and notifies them of any state changes.</li>
<li><code>Observer</code> is an abstract class that is extended by concrete observer classes like <code>BinaryObserver</code> and <code>HexObserver</code>.</li>
</ul>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Implement a Singleton Pattern</h2>
<div class='content'><p><strong>Task:</strong>
Create a singleton class <code>DatabaseConnection</code> that ensures only one instance of the connection is created.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIERhdGFiYXNlQ29ubmVjdGlvbiB7CiAgICBwcml2YXRlIHN0YXRpYyBEYXRhYmFzZUNvbm5lY3Rpb24gaW5zdGFuY2U7CgogICAgcHJpdmF0ZSBEYXRhYmFzZUNvbm5lY3Rpb24oKSB7CiAgICAgICAgLy8gcHJpdmF0ZSBjb25zdHJ1Y3RvciB0byBwcmV2ZW50IGluc3RhbnRpYXRpb24KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIERhdGFiYXNlQ29ubmVjdGlvbiBnZXRJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkgewogICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBEYXRhYmFzZUNvbm5lY3Rpb24oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluc3RhbmNlOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class DatabaseConnection {
    private static DatabaseConnection instance;

    private DatabaseConnection() {
        // private constructor to prevent instantiation
    }

    public static DatabaseConnection getInstance() {
        if (instance == null) {
            instance = new DatabaseConnection();
        }
        return instance;
    }
}</pre></div><div class='content'></div><h2>Exercise 2: Implement a Factory Pattern</h2>
<div class='content'><p><strong>Task:</strong>
Create a factory class <code>AnimalFactory</code> that creates objects of <code>Dog</code> and <code>Cat</code> classes.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBBbmltYWwgewogICAgdm9pZCBzcGVhaygpOwp9CgpwdWJsaWMgY2xhc3MgRG9nIGltcGxlbWVudHMgQW5pbWFsIHsKICAgIHB1YmxpYyB2b2lkIHNwZWFrKCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiV29vZiIpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgQ2F0IGltcGxlbWVudHMgQW5pbWFsIHsKICAgIHB1YmxpYyB2b2lkIHNwZWFrKCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiTWVvdyIpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgQW5pbWFsRmFjdG9yeSB7CiAgICBwdWJsaWMgQW5pbWFsIGdldEFuaW1hbChTdHJpbmcgYW5pbWFsVHlwZSkgewogICAgICAgIGlmIChhbmltYWxUeXBlID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIGlmIChhbmltYWxUeXBlLmVxdWFsc0lnbm9yZUNhc2UoIkRPRyIpKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgRG9nKCk7CiAgICAgICAgfSBlbHNlIGlmIChhbmltYWxUeXBlLmVxdWFsc0lnbm9yZUNhc2UoIkNBVCIpKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgQ2F0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface Animal {
    void speak();
}

public class Dog implements Animal {
    public void speak() {
        System.out.println(&quot;Woof&quot;);
    }
}

public class Cat implements Animal {
    public void speak() {
        System.out.println(&quot;Meow&quot;);
    }
}

public class AnimalFactory {
    public Animal getAnimal(String animalType) {
        if (animalType == null) {
            return null;
        }
        if (animalType.equalsIgnoreCase(&quot;DOG&quot;)) {
            return new Dog();
        } else if (animalType.equalsIgnoreCase(&quot;CAT&quot;)) {
            return new Cat();
        }
        return null;
    }
}</pre></div><div class='content'></div><h2>Exercise 3: Implement an Observer Pattern</h2>
<div class='content'><p><strong>Task:</strong>
Create a subject class <code>WeatherStation</code> and observer classes <code>TemperatureDisplay</code> and <code>PressureDisplay</code> that update their display when the weather station's state changes.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBXZWF0aGVyU3RhdGlvbiB7CiAgICBwcml2YXRlIExpc3Q8T2JzZXJ2ZXI+IG9ic2VydmVycyA9IG5ldyBBcnJheUxpc3Q8PigpOwogICAgcHJpdmF0ZSBpbnQgdGVtcGVyYXR1cmU7CiAgICBwcml2YXRlIGludCBwcmVzc3VyZTsKCiAgICBwdWJsaWMgaW50IGdldFRlbXBlcmF0dXJlKCkgewogICAgICAgIHJldHVybiB0ZW1wZXJhdHVyZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUZW1wZXJhdHVyZShpbnQgdGVtcGVyYXR1cmUpIHsKICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gdGVtcGVyYXR1cmU7CiAgICAgICAgbm90aWZ5QWxsT2JzZXJ2ZXJzKCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRQcmVzc3VyZSgpIHsKICAgICAgICByZXR1cm4gcHJlc3N1cmU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UHJlc3N1cmUoaW50IHByZXNzdXJlKSB7CiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IHByZXNzdXJlOwogICAgICAgIG5vdGlmeUFsbE9ic2VydmVycygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGF0dGFjaChPYnNlcnZlciBvYnNlcnZlcikgewogICAgICAgIG9ic2VydmVycy5hZGQob2JzZXJ2ZXIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIG5vdGlmeUFsbE9ic2VydmVycygpIHsKICAgICAgICBmb3IgKE9ic2VydmVyIG9ic2VydmVyIDogb2JzZXJ2ZXJzKSB7CiAgICAgICAgICAgIG9ic2VydmVyLnVwZGF0ZSgpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIGFic3RyYWN0IGNsYXNzIE9ic2VydmVyIHsKICAgIHByb3RlY3RlZCBXZWF0aGVyU3RhdGlvbiB3ZWF0aGVyU3RhdGlvbjsKICAgIHB1YmxpYyBhYnN0cmFjdCB2b2lkIHVwZGF0ZSgpOwp9CgpwdWJsaWMgY2xhc3MgVGVtcGVyYXR1cmVEaXNwbGF5IGV4dGVuZHMgT2JzZXJ2ZXIgewogICAgcHVibGljIFRlbXBlcmF0dXJlRGlzcGxheShXZWF0aGVyU3RhdGlvbiB3ZWF0aGVyU3RhdGlvbikgewogICAgICAgIHRoaXMud2VhdGhlclN0YXRpb24gPSB3ZWF0aGVyU3RhdGlvbjsKICAgICAgICB0aGlzLndlYXRoZXJTdGF0aW9uLmF0dGFjaCh0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1cGRhdGUoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJUZW1wZXJhdHVyZTogIiArIHdlYXRoZXJTdGF0aW9uLmdldFRlbXBlcmF0dXJlKCkpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgUHJlc3N1cmVEaXNwbGF5IGV4dGVuZHMgT2JzZXJ2ZXIgewogICAgcHVibGljIFByZXNzdXJlRGlzcGxheShXZWF0aGVyU3RhdGlvbiB3ZWF0aGVyU3RhdGlvbikgewogICAgICAgIHRoaXMud2VhdGhlclN0YXRpb24gPSB3ZWF0aGVyU3RhdGlvbjsKICAgICAgICB0aGlzLndlYXRoZXJTdGF0aW9uLmF0dGFjaCh0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1cGRhdGUoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJQcmVzc3VyZTogIiArIHdlYXRoZXJTdGF0aW9uLmdldFByZXNzdXJlKCkpOwogICAgfQp9CgpwdWJsaWMgY2xhc3MgT2JzZXJ2ZXJQYXR0ZXJuRGVtbyB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgV2VhdGhlclN0YXRpb24gd2VhdGhlclN0YXRpb24gPSBuZXcgV2VhdGhlclN0YXRpb24oKTsKCiAgICAgICAgbmV3IFRlbXBlcmF0dXJlRGlzcGxheSh3ZWF0aGVyU3RhdGlvbik7CiAgICAgICAgbmV3IFByZXNzdXJlRGlzcGxheSh3ZWF0aGVyU3RhdGlvbik7CgogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiRmlyc3Qgc3RhdGUgY2hhbmdlOiBUZW1wZXJhdHVyZSAzMCwgUHJlc3N1cmUgMTAwMCIpOwogICAgICAgIHdlYXRoZXJTdGF0aW9uLnNldFRlbXBlcmF0dXJlKDMwKTsKICAgICAgICB3ZWF0aGVyU3RhdGlvbi5zZXRQcmVzc3VyZSgxMDAwKTsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlNlY29uZCBzdGF0ZSBjaGFuZ2U6IFRlbXBlcmF0dXJlIDI1LCBQcmVzc3VyZSAxMDEwIik7CiAgICAgICAgd2VhdGhlclN0YXRpb24uc2V0VGVtcGVyYXR1cmUoMjUpOwogICAgICAgIHdlYXRoZXJTdGF0aW9uLnNldFByZXNzdXJlKDEwMTApOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.ArrayList;
import java.util.List;

public class WeatherStation {
    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();
    private int temperature;
    private int pressure;

    public int getTemperature() {
        return temperature;
    }

    public void setTemperature(int temperature) {
        this.temperature = temperature;
        notifyAllObservers();
    }

    public int getPressure() {
        return pressure;
    }

    public void setPressure(int pressure) {
        this.pressure = pressure;
        notifyAllObservers();
    }

    public void attach(Observer observer) {
        observers.add(observer);
    }

    public void notifyAllObservers() {
        for (Observer observer : observers) {
            observer.update();
        }
    }
}

public abstract class Observer {
    protected WeatherStation weatherStation;
    public abstract void update();
}

public class TemperatureDisplay extends Observer {
    public TemperatureDisplay(WeatherStation weatherStation) {
        this.weatherStation = weatherStation;
        this.weatherStation.attach(this);
    }

    public void update() {
        System.out.println(&quot;Temperature: &quot; + weatherStation.getTemperature());
    }
}

public class PressureDisplay extends Observer {
    public PressureDisplay(WeatherStation weatherStation) {
        this.weatherStation = weatherStation;
        this.weatherStation.attach(this);
    }

    public void update() {
        System.out.println(&quot;Pressure: &quot; + weatherStation.getPressure());
    }
}

public class ObserverPatternDemo {
    public static void main(String[] args) {
        WeatherStation weatherStation = new WeatherStation();

        new TemperatureDisplay(weatherStation);
        new PressureDisplay(weatherStation);

        System.out.println(&quot;First state change: Temperature 30, Pressure 1000&quot;);
        weatherStation.setTemperature(30);
        weatherStation.setPressure(1000);
        System.out.println(&quot;Second state change: Temperature 25, Pressure 1010&quot;);
        weatherStation.setTemperature(25);
        weatherStation.setPressure(1010);
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Design patterns are essential tools for any software developer. They provide proven solutions to common problems and help in writing code that is easier to understand, maintain, and extend. By mastering design patterns, you can significantly improve the quality of your software designs and become a more effective programmer.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='12-01-project-setup' title="Project Setup">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='12-03-developing-a-console-application' title="Developing a Console Application">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
