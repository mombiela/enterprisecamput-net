<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a Simple MVC Framework</title>

    <link rel="alternate" href="https://campusempresa.com/mod/php/building-simple-mvc-framework" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/php/building-simple-mvc-framework" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/php/building-simple-mvc-framework" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/php/building-simple-mvc-framework" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/php/building-simple-mvc-framework" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-apis'>&#x25C4;Working with APIs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Building a Simple MVC Framework</a>
	</div>
	<div class='col-4 text-end'>
					<a href='common-security-threats'>Common Security Threats &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we'll introduce the concept of the MVC (Model-View-Controller) architecture and explain why it's beneficial for building web applications. We'll also provide an overview of what you'll learn in this topic.</p>
<ul>
<li><strong>MVC Architecture</strong>: A design pattern that separates the application into three main components: Model, View, and Controller.</li>
<li><strong>Benefits</strong>: Improved code organization, easier maintenance, and better separation of concerns.</li>
</ul>
</div><h1>Setting Up the Environment</h1>
<div class='content'><p>Before we start building our MVC framework, we need to set up our development environment.</p>
<ul>
<li><strong>PHP Installation</strong>: Ensure PHP is installed on your system.</li>
<li><strong>Web Server</strong>: Use Apache or Nginx.</li>
<li><strong>Composer</strong>: PHP dependency manager.</li>
</ul>
</div><h2>Example: Installing Composer</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBPbiBXaW5kb3dzCnBocCAtciAiY29weSgnaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvaW5zdGFsbGVyJywgJ2NvbXBvc2VyLXNldHVwLnBocCcpOyIKcGhwIGNvbXBvc2VyLXNldHVwLnBocApwaHAgLXIgInVubGluaygnY29tcG9zZXItc2V0dXAucGhwJyk7IgojIE9uIG1hY09TL0xpbnV4CmN1cmwgLXNTIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2luc3RhbGxlciB8IHBocA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># On Windows
php -r &quot;copy('https://getcomposer.org/installer', 'composer-setup.php');&quot;
php composer-setup.php
php -r &quot;unlink('composer-setup.php');&quot;
# On macOS/Linux
curl -sS https://getcomposer.org/installer | php</pre></div><div class='content'></div><h1>Creating the Directory Structure</h1>
<div class='content'><p>We'll create a directory structure that follows the MVC pattern.</p>
<ul>
<li><strong>Root Directory</strong>: Contains the entry point and configuration files.</li>
<li><strong>App Directory</strong>: Contains the MVC components.
<ul>
<li><strong>Models</strong>: Business logic and data manipulation.</li>
<li><strong>Views</strong>: Presentation layer.</li>
<li><strong>Controllers</strong>: Handle user input and interactions.</li>
</ul>
</li>
</ul>
</div><h2>Example Directory Structure</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("L215X212Y19mcmFtZXdvcmsKICAgIC9hcHAKICAgICAgICAvY29udHJvbGxlcnMKICAgICAgICAvbW9kZWxzCiAgICAgICAgL3ZpZXdzCiAgICAvcHVibGljCiAgICAgICAgaW5kZXgucGhwCiAgICAvY29uZmlnCiAgICAgICAgY29uZmlnLnBocAogICAgL3ZlbmRvcgogICAgY29tcG9zZXIuanNvbg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/my_mvc_framework
    /app
        /controllers
        /models
        /views
    /public
        index.php
    /config
        config.php
    /vendor
    composer.json</pre></div><div class='content'></div><h1>Configuring the Application</h1>
<div class='content'><p>We'll set up configuration files to manage settings like database connections and application settings.</p>
</div><h2>Example: config/config.php</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKcmV0dXJuIFsKICAgICdkYicgPT4gWwogICAgICAgICdob3N0JyA9PiAnbG9jYWxob3N0JywKICAgICAgICAnZGJuYW1lJyA9PiAnbXlfZGF0YWJhc2UnLAogICAgICAgICd1c2VyJyA9PiAncm9vdCcsCiAgICAgICAgJ3Bhc3N3b3JkJyA9PiAnJywKICAgIF0sCl07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
return [
    'db' =&gt; [
        'host' =&gt; 'localhost',
        'dbname' =&gt; 'my_database',
        'user' =&gt; 'root',
        'password' =&gt; '',
    ],
];</pre></div><div class='content'></div><h1>Building the Model</h1>
<div class='content'><p>The Model represents the data and the business logic of the application.</p>
<ul>
<li><strong>Database Connection</strong>: Establish a connection to the database.</li>
<li><strong>CRUD Operations</strong>: Create, Read, Update, Delete operations.</li>
</ul>
</div><h2>Example: app/models/User.php</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKY2xhc3MgVXNlciB7CiAgICBwcml2YXRlICRkYjsKCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGRiKSB7CiAgICAgICAgJHRoaXMtPmRiID0gJGRiOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHsKICAgICAgICAkc3RtdCA9ICR0aGlzLT5kYi0+cXVlcnkoIlNFTEVDVCAqIEZST00gdXNlcnMiKTsKICAgICAgICByZXR1cm4gJHN0bXQtPmZldGNoQWxsKFBETzo6RkVUQ0hfQVNTT0MpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
class User {
    private $db;

    public function __construct($db) {
        $this-&gt;db = $db;
    }

    public function getAllUsers() {
        $stmt = $this-&gt;db-&gt;query(&quot;SELECT * FROM users&quot;);
        return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
    }
}</pre></div><div class='content'></div><h1>Building the View</h1>
<div class='content'><p>The View is responsible for rendering the user interface.</p>
<ul>
<li><strong>Templates</strong>: HTML files with embedded PHP for dynamic content.</li>
<li><strong>Separation of Logic</strong>: Keep business logic out of the views.</li>
</ul>
</div><h2>Example: app/views/users.php</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5Vc2VyczwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+VXNlcnMgTGlzdDwvaDE+CiAgICA8dWw+CiAgICAgICAgPD9waHAgZm9yZWFjaCAoJHVzZXJzIGFzICR1c2VyKTogPz4KICAgICAgICAgICAgPGxpPjw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkdXNlclsnbmFtZSddKTsgPz48L2xpPgogICAgICAgIDw/cGhwIGVuZGZvcmVhY2g7ID8+CiAgICA8L3VsPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Users&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Users List&lt;/h1&gt;
    &lt;ul&gt;
        &lt;?php foreach ($users as $user): ?&gt;
            &lt;li&gt;&lt;?php echo htmlspecialchars($user['name']); ?&gt;&lt;/li&gt;
        &lt;?php endforeach; ?&gt;
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Building the Controller</h1>
<div class='content'><p>The Controller handles user input and updates the Model and View accordingly.</p>
<ul>
<li><strong>Routing</strong>: Map URLs to specific controllers and actions.</li>
<li><strong>Handling Requests</strong>: Process user input and interact with the Model.</li>
</ul>
</div><h2>Example: app/controllers/UserController.php</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKY2xhc3MgVXNlckNvbnRyb2xsZXIgewogICAgcHJpdmF0ZSAkdXNlck1vZGVsOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdXNlck1vZGVsKSB7CiAgICAgICAgJHRoaXMtPnVzZXJNb2RlbCA9ICR1c2VyTW9kZWw7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkgewogICAgICAgICR1c2VycyA9ICR0aGlzLT51c2VyTW9kZWwtPmdldEFsbFVzZXJzKCk7CiAgICAgICAgaW5jbHVkZSAnLi4vYXBwL3ZpZXdzL3VzZXJzLnBocCc7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
class UserController {
    private $userModel;

    public function __construct($userModel) {
        $this-&gt;userModel = $userModel;
    }

    public function index() {
        $users = $this-&gt;userModel-&gt;getAllUsers();
        include '../app/views/users.php';
    }
}</pre></div><div class='content'></div><h1>Setting Up Routing</h1>
<div class='content'><p>Routing is essential for directing requests to the appropriate controller actions.</p>
</div><h2>Example: public/index.php</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKcmVxdWlyZSAnLi4vY29uZmlnL2NvbmZpZy5waHAnOwpyZXF1aXJlICcuLi9hcHAvbW9kZWxzL1VzZXIucGhwJzsKcmVxdWlyZSAnLi4vYXBwL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLnBocCc7CgokY29uZmlnID0gcmVxdWlyZSAnLi4vY29uZmlnL2NvbmZpZy5waHAnOwokZGIgPSBuZXcgUERPKCdteXNxbDpob3N0PScgLiAkY29uZmlnWydkYiddWydob3N0J10gLiAnO2RibmFtZT0nIC4gJGNvbmZpZ1snZGInXVsnZGJuYW1lJ10sICRjb25maWdbJ2RiJ11bJ3VzZXInXSwgJGNvbmZpZ1snZGInXVsncGFzc3dvcmQnXSk7CgokdXNlck1vZGVsID0gbmV3IFVzZXIoJGRiKTsKJHVzZXJDb250cm9sbGVyID0gbmV3IFVzZXJDb250cm9sbGVyKCR1c2VyTW9kZWwpOwoKaWYgKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddID09ICcvdXNlcnMnKSB7CiAgICAkdXNlckNvbnRyb2xsZXItPmluZGV4KCk7Cn0gZWxzZSB7CiAgICBlY2hvICI0MDQgTm90IEZvdW5kIjsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
require '../config/config.php';
require '../app/models/User.php';
require '../app/controllers/UserController.php';

$config = require '../config/config.php';
$db = new PDO('mysql:host=' . $config['db']['host'] . ';dbname=' . $config['db']['dbname'], $config['db']['user'], $config['db']['password']);

$userModel = new User($db);
$userController = new UserController($userModel);

if ($_SERVER['REQUEST_URI'] == '/users') {
    $userController-&gt;index();
} else {
    echo &quot;404 Not Found&quot;;
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this topic, we've built a simple MVC framework from scratch. We've covered the basics of setting up the environment, creating the directory structure, and implementing the Model, View, and Controller components. This framework can be expanded and customized to fit more complex requirements as you advance in your PHP programming skills.</p>
<ul>
<li><strong>Next Steps</strong>: Consider adding features like form handling, validation, and authentication to enhance your MVC framework.</li>
</ul>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-apis'>&#x25C4;Working with APIs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Building a Simple MVC Framework</a>
	</div>
	<div class='col-4 text-end'>
					<a href='common-security-threats'>Common Security Threats &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
