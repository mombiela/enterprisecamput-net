<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working with JSON and XML</title>

    <link rel="alternate" href="https://campusempresa.com/mod/php/09-04-json-xml" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/php/09-04-json-xml" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/php/09-04-json-xml" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/php/09-04-json-xml" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/php/09-04-json-xml" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-03-regular-expressions' title="Regular Expressions">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Working with JSON and XML</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-05-web-services' title="PHP and Web Services">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to work with JSON (JavaScript Object Notation) and XML (eXtensible Markup Language) in PHP. Both JSON and XML are widely used formats for data interchange, and understanding how to handle them in PHP is crucial for modern web development.</p>
</div><h1><p>JSON in PHP</p>
</h1>
<div class='content'></div><h2><p>What is JSON?</p>
</h2>
<div class='content'><p>JSON is a lightweight data interchange format that is easy for humans to read and write and easy for machines to parse and generate. It is often used to transmit data between a server and a web application.</p>
</div><h2><p>Encoding and Decoding JSON</p>
</h2>
<div class='content'><h4>Encoding Data to JSON</h4>
<p>To convert a PHP array or object into a JSON string, you use the <code>json_encode()</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJGRhdGEgPSBhcnJheSgKICAgICJuYW1lIiA9PiAiSm9obiBEb2UiLAogICAgImVtYWlsIiA9PiAiam9obi5kb2VAZXhhbXBsZS5jb20iLAogICAgImFnZSIgPT4gMzAKKTsKCiRqc29uRGF0YSA9IGpzb25fZW5jb2RlKCRkYXRhKTsKZWNobyAkanNvbkRhdGE7Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$data = array(
    &quot;name&quot; =&gt; &quot;John Doe&quot;,
    &quot;email&quot; =&gt; &quot;john.doe@example.com&quot;,
    &quot;age&quot; =&gt; 30
);

$jsonData = json_encode($data);
echo $jsonData;
?&gt;</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li>We create an associative array <code>$data</code>.</li>
<li>We use <code>json_encode($data)</code> to convert the array into a JSON string.</li>
<li>The <code>echo</code> statement outputs the JSON string.</li>
</ul>
<h4>Decoding JSON to Data</h4>
<p>To convert a JSON string back into a PHP array or object, you use the <code>json_decode()</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJGpzb25EYXRhID0gJ3sibmFtZSI6IkpvaG4gRG9lIiwiZW1haWwiOiJqb2huLmRvZUBleGFtcGxlLmNvbSIsImFnZSI6MzB9JzsKCiRkYXRhID0ganNvbl9kZWNvZGUoJGpzb25EYXRhLCB0cnVlKTsKcHJpbnRfcigkZGF0YSk7Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$jsonData = '{&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;john.doe@example.com&quot;,&quot;age&quot;:30}';

$data = json_decode($jsonData, true);
print_r($data);
?&gt;</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li>We have a JSON string <code>$jsonData</code>.</li>
<li>We use <code>json_decode($jsonData, true)</code> to convert the JSON string into a PHP associative array.</li>
<li>The <code>print_r</code> function outputs the array.</li>
</ul>
</div><h2><p>Practical Exercise: JSON</p>
</h2>
<div class='content'><p><strong>Exercise:</strong></p>
<ol>
<li>Create a PHP script that encodes an array of user data into JSON.</li>
<li>Decode the JSON back into a PHP array and print the result.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gU3RlcCAxOiBDcmVhdGUgYW4gYXJyYXkgb2YgdXNlciBkYXRhCiR1c2VycyA9IGFycmF5KAogICAgYXJyYXkoIm5hbWUiID0+ICJBbGljZSIsICJlbWFpbCIgPT4gImFsaWNlQGV4YW1wbGUuY29tIiwgImFnZSIgPT4gMjUpLAogICAgYXJyYXkoIm5hbWUiID0+ICJCb2IiLCAiZW1haWwiID0+ICJib2JAZXhhbXBsZS5jb20iLCAiYWdlIiA9PiAyOCksCiAgICBhcnJheSgibmFtZSIgPT4gIkNoYXJsaWUiLCAiZW1haWwiID0+ICJjaGFybGllQGV4YW1wbGUuY29tIiwgImFnZSIgPT4gMzIpCik7CgovLyBTdGVwIDI6IEVuY29kZSB0aGUgYXJyYXkgaW50byBKU09OCiRqc29uVXNlcnMgPSBqc29uX2VuY29kZSgkdXNlcnMpOwplY2hvICJKU09OIERhdGE6ICIgLiAkanNvblVzZXJzIC4gIlxuIjsKCi8vIFN0ZXAgMzogRGVjb2RlIHRoZSBKU09OIGJhY2sgaW50byBhIFBIUCBhcnJheQokZGVjb2RlZFVzZXJzID0ganNvbl9kZWNvZGUoJGpzb25Vc2VycywgdHJ1ZSk7CmVjaG8gIkRlY29kZWQgRGF0YTogIjsKcHJpbnRfcigkZGVjb2RlZFVzZXJzKTsKPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Step 1: Create an array of user data
$users = array(
    array(&quot;name&quot; =&gt; &quot;Alice&quot;, &quot;email&quot; =&gt; &quot;alice@example.com&quot;, &quot;age&quot; =&gt; 25),
    array(&quot;name&quot; =&gt; &quot;Bob&quot;, &quot;email&quot; =&gt; &quot;bob@example.com&quot;, &quot;age&quot; =&gt; 28),
    array(&quot;name&quot; =&gt; &quot;Charlie&quot;, &quot;email&quot; =&gt; &quot;charlie@example.com&quot;, &quot;age&quot; =&gt; 32)
);

// Step 2: Encode the array into JSON
$jsonUsers = json_encode($users);
echo &quot;JSON Data: &quot; . $jsonUsers . &quot;\n&quot;;

// Step 3: Decode the JSON back into a PHP array
$decodedUsers = json_decode($jsonUsers, true);
echo &quot;Decoded Data: &quot;;
print_r($decodedUsers);
?&gt;</pre></div><div class='content'></div><h1><p>XML in PHP</p>
</h1>
<div class='content'></div><h2><p>What is XML?</p>
</h2>
<div class='content'><p>XML is a markup language that defines a set of rules for encoding documents in a format that is both human-readable and machine-readable. It is often used for data interchange and storage.</p>
</div><h2><p>Parsing XML</p>
</h2>
<div class='content'><h4>SimpleXML</h4>
<p>PHP provides the SimpleXML extension to easily manipulate and get XML data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJHhtbFN0cmluZyA9IDw8PFhNTAo8dXNlcnM+CiAgICA8dXNlcj4KICAgICAgICA8bmFtZT5Kb2huIERvZTwvbmFtZT4KICAgICAgICA8ZW1haWw+am9obi5kb2VAZXhhbXBsZS5jb208L2VtYWlsPgogICAgICAgIDxhZ2U+MzA8L2FnZT4KICAgIDwvdXNlcj4KICAgIDx1c2VyPgogICAgICAgIDxuYW1lPkphbmUgU21pdGg8L25hbWU+CiAgICAgICAgPGVtYWlsPmphbmUuc21pdGhAZXhhbXBsZS5jb208L2VtYWlsPgogICAgICAgIDxhZ2U+MjU8L2FnZT4KICAgIDwvdXNlcj4KPC91c2Vycz4KWE1MOwoKJHhtbCA9IHNpbXBsZXhtbF9sb2FkX3N0cmluZygkeG1sU3RyaW5nKTsKZm9yZWFjaCAoJHhtbC0+dXNlciBhcyAkdXNlcikgewogICAgZWNobyAiTmFtZTogIiAuICR1c2VyLT5uYW1lIC4gIlxuIjsKICAgIGVjaG8gIkVtYWlsOiAiIC4gJHVzZXItPmVtYWlsIC4gIlxuIjsKICAgIGVjaG8gIkFnZTogIiAuICR1c2VyLT5hZ2UgLiAiXG4iOwp9Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$xmlString = &lt;&lt;&lt;XML
&lt;users&gt;
    &lt;user&gt;
        &lt;name&gt;John Doe&lt;/name&gt;
        &lt;email&gt;john.doe@example.com&lt;/email&gt;
        &lt;age&gt;30&lt;/age&gt;
    &lt;/user&gt;
    &lt;user&gt;
        &lt;name&gt;Jane Smith&lt;/name&gt;
        &lt;email&gt;jane.smith@example.com&lt;/email&gt;
        &lt;age&gt;25&lt;/age&gt;
    &lt;/user&gt;
&lt;/users&gt;
XML;

$xml = simplexml_load_string($xmlString);
foreach ($xml-&gt;user as $user) {
    echo &quot;Name: &quot; . $user-&gt;name . &quot;\n&quot;;
    echo &quot;Email: &quot; . $user-&gt;email . &quot;\n&quot;;
    echo &quot;Age: &quot; . $user-&gt;age . &quot;\n&quot;;
}
?&gt;</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li>We define an XML string <code>$xmlString</code>.</li>
<li>We use <code>simplexml_load_string($xmlString)</code> to parse the XML string into a SimpleXMLElement object.</li>
<li>We loop through each <code>&lt;user&gt;</code> element and print the details.</li>
</ul>
</div><h2><p>Creating XML</p>
</h2>
<div class='content'><h4>Using SimpleXML</h4>
<p>You can also create XML documents using SimpleXML.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJHhtbCA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCc8dXNlcnMvPicpOwoKJHVzZXIxID0gJHhtbC0+YWRkQ2hpbGQoJ3VzZXInKTsKJHVzZXIxLT5hZGRDaGlsZCgnbmFtZScsICdKb2huIERvZScpOwokdXNlcjEtPmFkZENoaWxkKCdlbWFpbCcsICdqb2huLmRvZUBleGFtcGxlLmNvbScpOwokdXNlcjEtPmFkZENoaWxkKCdhZ2UnLCAzMCk7CgokdXNlcjIgPSAkeG1sLT5hZGRDaGlsZCgndXNlcicpOwokdXNlcjItPmFkZENoaWxkKCduYW1lJywgJ0phbmUgU21pdGgnKTsKJHVzZXIyLT5hZGRDaGlsZCgnZW1haWwnLCAnamFuZS5zbWl0aEBleGFtcGxlLmNvbScpOwokdXNlcjItPmFkZENoaWxkKCdhZ2UnLCAyNSk7CgplY2hvICR4bWwtPmFzWE1MKCk7Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$xml = new SimpleXMLElement('&lt;users/&gt;');

$user1 = $xml-&gt;addChild('user');
$user1-&gt;addChild('name', 'John Doe');
$user1-&gt;addChild('email', 'john.doe@example.com');
$user1-&gt;addChild('age', 30);

$user2 = $xml-&gt;addChild('user');
$user2-&gt;addChild('name', 'Jane Smith');
$user2-&gt;addChild('email', 'jane.smith@example.com');
$user2-&gt;addChild('age', 25);

echo $xml-&gt;asXML();
?&gt;</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li>We create a new SimpleXMLElement object <code>$xml</code> with a root element <code>&lt;users&gt;</code>.</li>
<li>We add child elements <code>&lt;user&gt;</code>, <code>&lt;name&gt;</code>, <code>&lt;email&gt;</code>, and <code>&lt;age&gt;</code> to the XML.</li>
<li>The <code>asXML()</code> method outputs the XML string.</li>
</ul>
</div><h2><p>Practical Exercise: XML</p>
</h2>
<div class='content'><p><strong>Exercise:</strong></p>
<ol>
<li>Create a PHP script that generates an XML document with a list of products.</li>
<li>Parse the XML document and print the product details.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gU3RlcCAxOiBDcmVhdGUgYW4gWE1MIGRvY3VtZW50IHdpdGggYSBsaXN0IG9mIHByb2R1Y3RzCiR4bWwgPSBuZXcgU2ltcGxlWE1MRWxlbWVudCgnPHByb2R1Y3RzLz4nKTsKCiRwcm9kdWN0MSA9ICR4bWwtPmFkZENoaWxkKCdwcm9kdWN0Jyk7CiRwcm9kdWN0MS0+YWRkQ2hpbGQoJ25hbWUnLCAnTGFwdG9wJyk7CiRwcm9kdWN0MS0+YWRkQ2hpbGQoJ3ByaWNlJywgMTIwMCk7CiRwcm9kdWN0MS0+YWRkQ2hpbGQoJ3F1YW50aXR5JywgMTApOwoKJHByb2R1Y3QyID0gJHhtbC0+YWRkQ2hpbGQoJ3Byb2R1Y3QnKTsKJHByb2R1Y3QyLT5hZGRDaGlsZCgnbmFtZScsICdTbWFydHBob25lJyk7CiRwcm9kdWN0Mi0+YWRkQ2hpbGQoJ3ByaWNlJywgODAwKTsKJHByb2R1Y3QyLT5hZGRDaGlsZCgncXVhbnRpdHknLCAyMCk7CgplY2hvICJHZW5lcmF0ZWQgWE1MOlxuIiAuICR4bWwtPmFzWE1MKCkgLiAiXG4iOwoKLy8gU3RlcCAyOiBQYXJzZSB0aGUgWE1MIGRvY3VtZW50IGFuZCBwcmludCB0aGUgcHJvZHVjdCBkZXRhaWxzCiRwYXJzZWRYbWwgPSBzaW1wbGV4bWxfbG9hZF9zdHJpbmcoJHhtbC0+YXNYTUwoKSk7CmZvcmVhY2ggKCRwYXJzZWRYbWwtPnByb2R1Y3QgYXMgJHByb2R1Y3QpIHsKICAgIGVjaG8gIlByb2R1Y3QgTmFtZTogIiAuICRwcm9kdWN0LT5uYW1lIC4gIlxuIjsKICAgIGVjaG8gIlByaWNlOiAkIiAuICRwcm9kdWN0LT5wcmljZSAuICJcbiI7CiAgICBlY2hvICJRdWFudGl0eTogIiAuICRwcm9kdWN0LT5xdWFudGl0eSAuICJcbiI7Cn0KPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Step 1: Create an XML document with a list of products
$xml = new SimpleXMLElement('&lt;products/&gt;');

$product1 = $xml-&gt;addChild('product');
$product1-&gt;addChild('name', 'Laptop');
$product1-&gt;addChild('price', 1200);
$product1-&gt;addChild('quantity', 10);

$product2 = $xml-&gt;addChild('product');
$product2-&gt;addChild('name', 'Smartphone');
$product2-&gt;addChild('price', 800);
$product2-&gt;addChild('quantity', 20);

echo &quot;Generated XML:\n&quot; . $xml-&gt;asXML() . &quot;\n&quot;;

// Step 2: Parse the XML document and print the product details
$parsedXml = simplexml_load_string($xml-&gt;asXML());
foreach ($parsedXml-&gt;product as $product) {
    echo &quot;Product Name: &quot; . $product-&gt;name . &quot;\n&quot;;
    echo &quot;Price: $&quot; . $product-&gt;price . &quot;\n&quot;;
    echo &quot;Quantity: &quot; . $product-&gt;quantity . &quot;\n&quot;;
}
?&gt;</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered:</p>
<ul>
<li>How to encode and decode JSON in PHP using <code>json_encode()</code> and <code>json_decode()</code>.</li>
<li>How to parse and create XML documents using SimpleXML.</li>
<li>Practical exercises to reinforce the concepts.</li>
</ul>
<p>Understanding how to work with JSON and XML is essential for data interchange in web applications. In the next section, we will explore how to use PHP to interact with web services.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-03-regular-expressions' title="Regular Expressions">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-05-web-services' title="PHP and Web Services">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
