<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/php/05-02-form-validation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/php/05-02-form-validation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/php/05-02-form-validation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/php/05-02-form-validation" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/php/05-02-form-validation" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-handling-form-data' title="Handling Form Data">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Form Validation</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-file-uploads' title="File Uploads">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Form validation is a crucial aspect of web development. It ensures that the data submitted by users is accurate, complete, and in the correct format. In this section, we will cover the basics of form validation in PHP, including both client-side and server-side validation techniques.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Client-Side Validation</strong>: Performed in the user's browser before the form is submitted to the server. It provides immediate feedback to the user.</li>
<li><strong>Server-Side Validation</strong>: Performed on the server after the form is submitted. It ensures that the data is valid and secure before processing it.</li>
</ol>
</div><h1><p>Why Validate Forms?</p>
</h1>
<div class='content'><ul>
<li><strong>Security</strong>: Prevents malicious data from being submitted.</li>
<li><strong>Data Integrity</strong>: Ensures that the data is in the correct format and meets the required criteria.</li>
<li><strong>User Experience</strong>: Provides immediate feedback to users, helping them correct errors before submission.</li>
</ul>
</div><h1><p>Client-Side Validation</p>
</h1>
<div class='content'><p>Client-side validation is typically done using JavaScript. Here is a simple example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+Rm9ybSBWYWxpZGF0aW9uIEV4YW1wbGU8L3RpdGxlPgogICAgPHNjcmlwdD4KICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gZG9jdW1lbnQuZm9ybXNbIm15Rm9ybSJdWyJuYW1lIl0udmFsdWU7CiAgICAgICAgICAgIGlmIChuYW1lID09ICIiKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiTmFtZSBtdXN0IGJlIGZpbGxlZCBvdXQiKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5PgogICAgPGZvcm0gbmFtZT0ibXlGb3JtIiBvbnN1Ym1pdD0icmV0dXJuIHZhbGlkYXRlRm9ybSgpIiBtZXRob2Q9InBvc3QiIGFjdGlvbj0ic3VibWl0LnBocCI+CiAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5hbWUiPgogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTdWJtaXQiPgogICAgPC9mb3JtPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Form Validation Example&lt;/title&gt;
    &lt;script&gt;
        function validateForm() {
            var name = document.forms[&quot;myForm&quot;][&quot;name&quot;].value;
            if (name == &quot;&quot;) {
                alert(&quot;Name must be filled out&quot;);
                return false;
            }
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form name=&quot;myForm&quot; onsubmit=&quot;return validateForm()&quot; method=&quot;post&quot; action=&quot;submit.php&quot;&gt;
        Name: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>HTML Form</strong>: A simple form with a text input for the name and a submit button.</li>
<li><strong>JavaScript Function</strong>: The <code>validateForm</code> function checks if the name field is empty. If it is, an alert is shown, and the form is not submitted.</li>
</ul>
</div><h1><p>Server-Side Validation</p>
</h1>
<div class='content'><p>Server-side validation is done using PHP. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKaWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgJG5hbWUgPSB0ZXN0X2lucHV0KCRfUE9TVFsibmFtZSJdKTsKICAgIGlmIChlbXB0eSgkbmFtZSkpIHsKICAgICAgICAkbmFtZUVyciA9ICJOYW1lIGlzIHJlcXVpcmVkIjsKICAgIH0gZWxzZSB7CiAgICAgICAgLy8gRnVydGhlciB2YWxpZGF0aW9uIGNhbiBiZSBkb25lIGhlcmUKICAgIH0KfQoKZnVuY3Rpb24gdGVzdF9pbnB1dCgkZGF0YSkgewogICAgJGRhdGEgPSB0cmltKCRkYXRhKTsKICAgICRkYXRhID0gc3RyaXBzbGFzaGVzKCRkYXRhKTsKICAgICRkYXRhID0gaHRtbHNwZWNpYWxjaGFycygkZGF0YSk7CiAgICByZXR1cm4gJGRhdGE7Cn0KPz4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+Rm9ybSBWYWxpZGF0aW9uIEV4YW1wbGU8L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkX1NFUlZFUlsiUEhQX1NFTEYiXSk7Pz4iPgogICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJuYW1lIj4KICAgICAgICA8c3BhbiBjbGFzcz0iZXJyb3IiPjw/cGhwIGVjaG8gJG5hbWVFcnI7Pz48L3NwYW4+CiAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCI+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    $name = test_input($_POST[&quot;name&quot;]);
    if (empty($name)) {
        $nameErr = &quot;Name is required&quot;;
    } else {
        // Further validation can be done here
    }
}

function test_input($data) {
    $data = trim($data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
}
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Form Validation Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]);?&gt;&quot;&gt;
        Name: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;
        &lt;span class=&quot;error&quot;&gt;&lt;?php echo $nameErr;?&gt;&lt;/span&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>PHP Script</strong>: Checks if the form is submitted using the <code>$_SERVER[&quot;REQUEST_METHOD&quot;]</code> variable. If the form is submitted, it validates the name field.</li>
<li><strong>Validation Function</strong>: The <code>test_input</code> function trims, strips slashes, and converts special characters to HTML entities to prevent XSS attacks.</li>
<li><strong>Error Handling</strong>: If the name field is empty, an error message is stored in the <code>$nameErr</code> variable and displayed next to the input field.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><p>Create a form that collects a user's email address and validates it both on the client-side and server-side.</p>
</div><h2><p>Solution</p>
</h2>
<div class='content'><h4>HTML and JavaScript (Client-Side Validation)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+RW1haWwgVmFsaWRhdGlvbiBFeGFtcGxlPC90aXRsZT4KICAgIDxzY3JpcHQ+CiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCgpIHsKICAgICAgICAgICAgdmFyIGVtYWlsID0gZG9jdW1lbnQuZm9ybXNbImVtYWlsRm9ybSJdWyJlbWFpbCJdLnZhbHVlOwogICAgICAgICAgICB2YXIgcmVnZXggPSAvXlteXHNAXStAW15cc0BdK1wuW15cc0BdKyQvOwogICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoZW1haWwpKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiSW52YWxpZCBlbWFpbCBmb3JtYXQiKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5PgogICAgPGZvcm0gbmFtZT0iZW1haWxGb3JtIiBvbnN1Ym1pdD0icmV0dXJuIHZhbGlkYXRlRW1haWwoKSIgbWV0aG9kPSJwb3N0IiBhY3Rpb249ImVtYWlsX3N1Ym1pdC5waHAiPgogICAgICAgIEVtYWlsOiA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZW1haWwiPgogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTdWJtaXQiPgogICAgPC9mb3JtPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Email Validation Example&lt;/title&gt;
    &lt;script&gt;
        function validateEmail() {
            var email = document.forms[&quot;emailForm&quot;][&quot;email&quot;].value;
            var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!regex.test(email)) {
                alert(&quot;Invalid email format&quot;);
                return false;
            }
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form name=&quot;emailForm&quot; onsubmit=&quot;return validateEmail()&quot; method=&quot;post&quot; action=&quot;email_submit.php&quot;&gt;
        Email: &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><h4>PHP (Server-Side Validation)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJGVtYWlsRXJyID0gIiI7CiRlbWFpbCA9ICIiOwoKaWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgJGVtYWlsID0gdGVzdF9pbnB1dCgkX1BPU1RbImVtYWlsIl0pOwogICAgaWYgKCFmaWx0ZXJfdmFyKCRlbWFpbCwgRklMVEVSX1ZBTElEQVRFX0VNQUlMKSkgewogICAgICAgICRlbWFpbEVyciA9ICJJbnZhbGlkIGVtYWlsIGZvcm1hdCI7CiAgICB9Cn0KCmZ1bmN0aW9uIHRlc3RfaW5wdXQoJGRhdGEpIHsKICAgICRkYXRhID0gdHJpbSgkZGF0YSk7CiAgICAkZGF0YSA9IHN0cmlwc2xhc2hlcygkZGF0YSk7CiAgICAkZGF0YSA9IGh0bWxzcGVjaWFsY2hhcnMoJGRhdGEpOwogICAgcmV0dXJuICRkYXRhOwp9Cj8+CjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPHRpdGxlPkVtYWlsIFZhbGlkYXRpb24gRXhhbXBsZTwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRfU0VSVkVSWyJQSFBfU0VMRiJdKTs/PiI+CiAgICAgICAgRW1haWw6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJlbWFpbCI+CiAgICAgICAgPHNwYW4gY2xhc3M9ImVycm9yIj48P3BocCBlY2hvICRlbWFpbEVycjs/Pjwvc3Bhbj4KICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iU3VibWl0Ij4KICAgIDwvZm9ybT4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$emailErr = &quot;&quot;;
$email = &quot;&quot;;

if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    $email = test_input($_POST[&quot;email&quot;]);
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $emailErr = &quot;Invalid email format&quot;;
    }
}

function test_input($data) {
    $data = trim($data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
}
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Email Validation Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]);?&gt;&quot;&gt;
        Email: &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;
        &lt;span class=&quot;error&quot;&gt;&lt;?php echo $emailErr;?&gt;&lt;/span&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Client-Side</strong>: Uses a regular expression to validate the email format.</li>
<li><strong>Server-Side</strong>: Uses PHP's <code>filter_var</code> function with the <code>FILTER_VALIDATE_EMAIL</code> filter to validate the email format.</li>
</ul>
</div><h1><p>Common Mistakes</p>
</h1>
<div class='content'><ul>
<li><strong>Relying Only on Client-Side Validation</strong>: Always perform server-side validation to ensure data integrity and security.</li>
<li><strong>Not Sanitizing Input</strong>: Always sanitize user input to prevent XSS and other attacks.</li>
<li><strong>Poor Error Handling</strong>: Provide clear and specific error messages to help users correct their input.</li>
</ul>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered the importance of form validation and demonstrated how to implement both client-side and server-side validation. We also provided a practical exercise to reinforce the concepts learned. Proper form validation is essential for maintaining data integrity, security, and a good user experience.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-handling-form-data' title="Handling Form Data">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-file-uploads' title="File Uploads">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
