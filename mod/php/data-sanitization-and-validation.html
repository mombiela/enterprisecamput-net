<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Sanitization and Validation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/php/data-sanitization-and-validation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/php/data-sanitization-and-validation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/php/data-sanitization-and-validation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/php/data-sanitization-and-validation" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/php/data-sanitization-and-validation" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='common-security-threats'>&#x25C4;Common Security Threats</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Data Sanitization and Validation</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-https'>Using HTTPS &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Data sanitization and validation are crucial steps in web development to ensure that user input is clean, safe, and meets the required criteria. This section will cover the basics of sanitizing and validating data in PHP, progressing from beginner to advanced techniques.</p>
</div><h1>What is Data Sanitization?</h1>
<div class='content'><p>Data sanitization involves cleaning user input to remove any unwanted or harmful data. This is essential to prevent security vulnerabilities such as SQL injection and cross-site scripting (XSS).</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Removing Harmful Characters:</strong> Stripping out characters that could be used for malicious purposes.</li>
<li><strong>Encoding Data:</strong> Converting data into a safe format.</li>
<li><strong>Trimming Data:</strong> Removing unnecessary whitespace from user input.</li>
</ul>
</div><h2>Example: Basic Data Sanitization</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gVXNlciBpbnB1dAokdXNlcl9pbnB1dCA9ICI8c2NyaXB0PmFsZXJ0KCdIYWNrZWQhJyk7PC9zY3JpcHQ+IjsKCi8vIFNhbml0aXppbmcgdXNlciBpbnB1dAokc2FuaXRpemVkX2lucHV0ID0gaHRtbHNwZWNpYWxjaGFycygkdXNlcl9pbnB1dCwgRU5UX1FVT1RFUywgJ1VURi04Jyk7CgplY2hvICRzYW5pdGl6ZWRfaW5wdXQ7IC8vIE91dHB1dDogJmx0O3NjcmlwdCZndDthbGVydCgnSGFja2VkIScpOyZsdDsvc2NyaXB0Jmd0Owo/Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// User input
$user_input = &quot;&lt;script&gt;alert('Hacked!');&lt;/script&gt;&quot;;

// Sanitizing user input
$sanitized_input = htmlspecialchars($user_input, ENT_QUOTES, 'UTF-8');

echo $sanitized_input; // Output: &amp;lt;script&amp;gt;alert('Hacked!');&amp;lt;/script&amp;gt;
?&gt;</pre></div><div class='content'><ul>
<li><strong>htmlspecialchars:</strong> Converts special characters to HTML entities, preventing XSS attacks.</li>
</ul>
</div><h1>What is Data Validation?</h1>
<div class='content'><p>Data validation ensures that user input meets specific criteria before processing it. This can include checking for correct data types, formats, and value ranges.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Type Checking:</strong> Ensuring the data is of the expected type (e.g., string, integer).</li>
<li><strong>Format Checking:</strong> Ensuring the data follows a specific format (e.g., email addresses, phone numbers).</li>
<li><strong>Range Checking:</strong> Ensuring the data falls within a specified range (e.g., age between 18 and 99).</li>
</ul>
</div><h2>Example: Basic Data Validation</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gVXNlciBpbnB1dAokZW1haWwgPSAidXNlckBleGFtcGxlLmNvbSI7CgovLyBWYWxpZGF0aW5nIGVtYWlsCmlmIChmaWx0ZXJfdmFyKCRlbWFpbCwgRklMVEVSX1ZBTElEQVRFX0VNQUlMKSkgewogICAgZWNobyAiVmFsaWQgZW1haWwgYWRkcmVzcy4iOwp9IGVsc2UgewogICAgZWNobyAiSW52YWxpZCBlbWFpbCBhZGRyZXNzLiI7Cn0KPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// User input
$email = &quot;user@example.com&quot;;

// Validating email
if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
    echo &quot;Valid email address.&quot;;
} else {
    echo &quot;Invalid email address.&quot;;
}
?&gt;</pre></div><div class='content'><ul>
<li><strong>filter_var:</strong> Validates the email format using a built-in PHP filter.</li>
</ul>
</div><h1>Combining Sanitization and Validation</h1>
<div class='content'><p>It's often necessary to sanitize and validate data together to ensure both safety and correctness.</p>
</div><h2>Example: Sanitizing and Validating User Input</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gVXNlciBpbnB1dAokdXNlcl9pbnB1dCA9ICI8c2NyaXB0PmFsZXJ0KCdIYWNrZWQhJyk7PC9zY3JpcHQ+IjsKJGVtYWlsID0gInVzZXJAZXhhbXBsZS5jb20iOwoKLy8gU2FuaXRpemluZyB1c2VyIGlucHV0CiRzYW5pdGl6ZWRfaW5wdXQgPSBodG1sc3BlY2lhbGNoYXJzKCR1c2VyX2lucHV0LCBFTlRfUVVPVEVTLCAnVVRGLTgnKTsKCi8vIFZhbGlkYXRpbmcgZW1haWwKaWYgKGZpbHRlcl92YXIoJGVtYWlsLCBGSUxURVJfVkFMSURBVEVfRU1BSUwpKSB7CiAgICBlY2hvICJWYWxpZCBlbWFpbCBhZGRyZXNzLiI7Cn0gZWxzZSB7CiAgICBlY2hvICJJbnZhbGlkIGVtYWlsIGFkZHJlc3MuIjsKfQoKLy8gT3V0cHV0IHNhbml0aXplZCBpbnB1dAplY2hvICRzYW5pdGl6ZWRfaW5wdXQ7IC8vIE91dHB1dDogJmx0O3NjcmlwdCZndDthbGVydCgnSGFja2VkIScpOyZsdDsvc2NyaXB0Jmd0Owo/Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// User input
$user_input = &quot;&lt;script&gt;alert('Hacked!');&lt;/script&gt;&quot;;
$email = &quot;user@example.com&quot;;

// Sanitizing user input
$sanitized_input = htmlspecialchars($user_input, ENT_QUOTES, 'UTF-8');

// Validating email
if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
    echo &quot;Valid email address.&quot;;
} else {
    echo &quot;Invalid email address.&quot;;
}

// Output sanitized input
echo $sanitized_input; // Output: &amp;lt;script&amp;gt;alert('Hacked!');&amp;lt;/script&amp;gt;
?&gt;</pre></div><div class='content'></div><h1>Advanced Techniques</h1>
<h2>Custom Validation Functions</h2>
<div class='content'><p>For more complex validation rules, you can create custom validation functions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZnVuY3Rpb24gdmFsaWRhdGVfdXNlcm5hbWUoJHVzZXJuYW1lKSB7CiAgICAvLyBVc2VybmFtZSBtdXN0IGJlIGFscGhhbnVtZXJpYyBhbmQgYmV0d2VlbiA1IGFuZCAxNSBjaGFyYWN0ZXJzCiAgICByZXR1cm4gcHJlZ19tYXRjaCgnL15bYS16QS1aMC05XXs1LDE1fSQvJywgJHVzZXJuYW1lKTsKfQoKLy8gVXNlciBpbnB1dAokdXNlcm5hbWUgPSAidXNlcjEyMyI7CgovLyBWYWxpZGF0ZSB1c2VybmFtZQppZiAodmFsaWRhdGVfdXNlcm5hbWUoJHVzZXJuYW1lKSkgewogICAgZWNobyAiVmFsaWQgdXNlcm5hbWUuIjsKfSBlbHNlIHsKICAgIGVjaG8gIkludmFsaWQgdXNlcm5hbWUuIjsKfQo/Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
function validate_username($username) {
    // Username must be alphanumeric and between 5 and 15 characters
    return preg_match('/^[a-zA-Z0-9]{5,15}$/', $username);
}

// User input
$username = &quot;user123&quot;;

// Validate username
if (validate_username($username)) {
    echo &quot;Valid username.&quot;;
} else {
    echo &quot;Invalid username.&quot;;
}
?&gt;</pre></div><div class='content'><ul>
<li><strong>preg_match:</strong> Uses a regular expression to validate the username format.</li>
</ul>
</div><h2>Using Libraries for Validation</h2>
<div class='content'><p>PHP has libraries that can simplify validation, such as the Respect/Validation library.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKcmVxdWlyZSAndmVuZG9yL2F1dG9sb2FkLnBocCc7Cgp1c2UgUmVzcGVjdFxWYWxpZGF0aW9uXFZhbGlkYXRvciBhcyB2OwoKLy8gVXNlciBpbnB1dAokdXNlcm5hbWUgPSAidXNlcjEyMyI7CgovLyBWYWxpZGF0ZSB1c2VybmFtZQppZiAodjo6YWxudW0oKS0+bm9XaGl0ZXNwYWNlKCktPmxlbmd0aCg1LCAxNSktPnZhbGlkYXRlKCR1c2VybmFtZSkpIHsKICAgIGVjaG8gIlZhbGlkIHVzZXJuYW1lLiI7Cn0gZWxzZSB7CiAgICBlY2hvICJJbnZhbGlkIHVzZXJuYW1lLiI7Cn0KPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
require 'vendor/autoload.php';

use Respect\Validation\Validator as v;

// User input
$username = &quot;user123&quot;;

// Validate username
if (v::alnum()-&gt;noWhitespace()-&gt;length(5, 15)-&gt;validate($username)) {
    echo &quot;Valid username.&quot;;
} else {
    echo &quot;Invalid username.&quot;;
}
?&gt;</pre></div><div class='content'><ul>
<li><strong>Respect/Validation:</strong> A powerful validation library that provides a fluent interface for defining validation rules.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Data sanitization and validation are essential practices in PHP development to ensure that user input is safe and meets the required criteria. By understanding and implementing these techniques, you can protect your applications from common security vulnerabilities and ensure data integrity. Always remember to sanitize and validate user input to maintain a secure and robust application.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='common-security-threats'>&#x25C4;Common Security Threats</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Data Sanitization and Validation</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-https'>Using HTTPS &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
