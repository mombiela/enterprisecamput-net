<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Error and Exception Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/php/09-01-error-exception-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/php/09-01-error-exception-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/php/09-01-error-exception-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/php/09-01-error-exception-handling" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/php/09-01-error-exception-handling" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Building today's and tomorrow's society</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Languages</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Tools</a>
				 					<a href="/categ/foundations">Foundations</a>
				 					<a href="/categ/soft-skills">Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-05-database-security' title="Database Security">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Error and Exception Handling</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-sessions-cookies' title="Sessions and Cookies">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Error and exception handling is a crucial aspect of PHP programming. It helps in identifying, managing, and resolving errors that occur during the execution of a script. This module will cover the basics of error handling, different types of errors, and how to use exceptions to manage errors effectively.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Types of Errors in PHP</strong></p>
<ul>
<li><strong>Parse Errors</strong>: Syntax errors that occur during the parsing of the script.</li>
<li><strong>Fatal Errors</strong>: Critical errors that halt the execution of the script.</li>
<li><strong>Warning Errors</strong>: Non-critical errors that allow the script to continue running.</li>
<li><strong>Notice Errors</strong>: Minor errors that do not affect the script execution.</li>
</ul>
</li>
<li>
<p><strong>Error Reporting</strong></p>
<ul>
<li>Configuring error reporting levels.</li>
<li>Using <code>error_reporting()</code> function.</li>
</ul>
</li>
<li>
<p><strong>Handling Errors</strong></p>
<ul>
<li>Using <code>die()</code> and <code>exit()</code> functions.</li>
<li>Custom error handling with <code>set_error_handler()</code>.</li>
</ul>
</li>
<li>
<p><strong>Exception Handling</strong></p>
<ul>
<li>Understanding exceptions.</li>
<li>Using <code>try</code>, <code>catch</code>, and <code>finally</code> blocks.</li>
<li>Creating custom exceptions.</li>
</ul>
</li>
</ol>
</div><h1><p>Error Reporting</p>
</h1>
<div class='content'></div><h2><p>Configuring Error Reporting Levels</p>
</h2>
<div class='content'><p>PHP provides a way to control which errors are reported using the <code>error_reporting()</code> function. You can set different levels of error reporting based on your needs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gUmVwb3J0IGFsbCBlcnJvcnMKZXJyb3JfcmVwb3J0aW5nKEVfQUxMKTsKCi8vIFJlcG9ydCBhbGwgZXJyb3JzIGV4Y2VwdCBFX05PVElDRQplcnJvcl9yZXBvcnRpbmcoRV9BTEwgJiB+RV9OT1RJQ0UpOwoKLy8gVHVybiBvZmYgZXJyb3IgcmVwb3J0aW5nCmVycm9yX3JlcG9ydGluZygwKTsKPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Report all errors
error_reporting(E_ALL);

// Report all errors except E_NOTICE
error_reporting(E_ALL &amp; ~E_NOTICE);

// Turn off error reporting
error_reporting(0);
?&gt;</pre></div><div class='content'></div><h2><p>Practical Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gVHVybiBvbiBlcnJvciByZXBvcnRpbmcgZm9yIGFsbCBlcnJvcnMKZXJyb3JfcmVwb3J0aW5nKEVfQUxMKTsKCi8vIFRoaXMgd2lsbCBjYXVzZSBhIG5vdGljZSBlcnJvcgplY2hvICR1bmRlZmluZWRfdmFyaWFibGU7CgovLyBUaGlzIHdpbGwgY2F1c2UgYSB3YXJuaW5nIGVycm9yCmluY2x1ZGUoJ25vbl9leGlzdGVudF9maWxlLnBocCcpOwoKLy8gVGhpcyB3aWxsIGNhdXNlIGEgZmF0YWwgZXJyb3IKbm9uX2V4aXN0ZW50X2Z1bmN0aW9uKCk7Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Turn on error reporting for all errors
error_reporting(E_ALL);

// This will cause a notice error
echo $undefined_variable;

// This will cause a warning error
include('non_existent_file.php');

// This will cause a fatal error
non_existent_function();
?&gt;</pre></div><div class='content'></div><h1><p>Handling Errors</p>
</h1>
<div class='content'></div><h2><p>Using <code>die()</code> and <code>exit()</code></p>
</h2>
<div class='content'><p>The <code>die()</code> and <code>exit()</code> functions can be used to terminate the script execution when an error occurs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJGZpbGUgPSAnc29tZWZpbGUudHh0JzsKCmlmICghZmlsZV9leGlzdHMoJGZpbGUpKSB7CiAgICBkaWUoIkZpbGUgbm90IGZvdW5kIik7Cn0KCi8vIENvbnRpbnVlIHdpdGggdGhlIHNjcmlwdCBpZiB0aGUgZmlsZSBleGlzdHMKZWNobyAiRmlsZSBmb3VuZCI7Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$file = 'somefile.txt';

if (!file_exists($file)) {
    die(&quot;File not found&quot;);
}

// Continue with the script if the file exists
echo &quot;File found&quot;;
?&gt;</pre></div><div class='content'></div><h2><p>Custom Error Handling</p>
</h2>
<div class='content'><p>You can create a custom error handler using the <code>set_error_handler()</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZnVuY3Rpb24gY3VzdG9tRXJyb3JIYW5kbGVyKCRlcnJubywgJGVycnN0ciwgJGVycmZpbGUsICRlcnJsaW5lKSB7CiAgICBlY2hvICJFcnJvcjogWyRlcnJub10gJGVycnN0ciAtICRlcnJmaWxlOiRlcnJsaW5lIjsKICAgIC8vIFlvdSBjYW4gbG9nIHRoZSBlcnJvciBvciB0YWtlIG90aGVyIGFjdGlvbnMgaGVyZQp9CgovLyBTZXQgdGhlIGN1c3RvbSBlcnJvciBoYW5kbGVyCnNldF9lcnJvcl9oYW5kbGVyKCJjdXN0b21FcnJvckhhbmRsZXIiKTsKCi8vIFRyaWdnZXIgYW4gZXJyb3IKZWNobyAkdW5kZWZpbmVkX3ZhcmlhYmxlOwo/Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
function customErrorHandler($errno, $errstr, $errfile, $errline) {
    echo &quot;Error: [$errno] $errstr - $errfile:$errline&quot;;
    // You can log the error or take other actions here
}

// Set the custom error handler
set_error_handler(&quot;customErrorHandler&quot;);

// Trigger an error
echo $undefined_variable;
?&gt;</pre></div><div class='content'></div><h1><p>Exception Handling</p>
</h1>
<div class='content'></div><h2><p>Understanding Exceptions</p>
</h2>
<div class='content'><p>Exceptions provide a way to handle errors gracefully. They allow you to catch and manage errors without stopping the script execution.</p>
</div><h2><p>Using <code>try</code>, <code>catch</code>, and <code>finally</code> Blocks</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZnVuY3Rpb24gZGl2aWRlKCRkaXZpZGVuZCwgJGRpdmlzb3IpIHsKICAgIGlmICgkZGl2aXNvciA9PSAwKSB7CiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiRGl2aXNpb24gYnkgemVybyIpOwogICAgfQogICAgcmV0dXJuICRkaXZpZGVuZCAvICRkaXZpc29yOwp9Cgp0cnkgewogICAgZWNobyBkaXZpZGUoMTAsIDApOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgIGVjaG8gIkNhdWdodCBleGNlcHRpb246ICIgLiAkZS0+Z2V0TWVzc2FnZSgpOwp9IGZpbmFsbHkgewogICAgZWNobyAiVGhpcyBibG9jayBpcyBhbHdheXMgZXhlY3V0ZWQiOwp9Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
function divide($dividend, $divisor) {
    if ($divisor == 0) {
        throw new Exception(&quot;Division by zero&quot;);
    }
    return $dividend / $divisor;
}

try {
    echo divide(10, 0);
} catch (Exception $e) {
    echo &quot;Caught exception: &quot; . $e-&gt;getMessage();
} finally {
    echo &quot;This block is always executed&quot;;
}
?&gt;</pre></div><div class='content'></div><h2><p>Creating Custom Exceptions</p>
</h2>
<div class='content'><p>You can create your own exception classes by extending the <code>Exception</code> class.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKY2xhc3MgQ3VzdG9tRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9uIHsKICAgIHB1YmxpYyBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7CiAgICAgICAgcmV0dXJuICJFcnJvciBvbiBsaW5lICIgLiAkdGhpcy0+Z2V0TGluZSgpIC4gIiBpbiAiIC4gJHRoaXMtPmdldEZpbGUoKSAuICI6ICIgLiAkdGhpcy0+Z2V0TWVzc2FnZSgpOwogICAgfQp9Cgp0cnkgewogICAgdGhyb3cgbmV3IEN1c3RvbUV4Y2VwdGlvbigiQSBjdXN0b20gZXJyb3IgaGFzIG9jY3VycmVkIik7Cn0gY2F0Y2ggKEN1c3RvbUV4Y2VwdGlvbiAkZSkgewogICAgZWNobyAkZS0+ZXJyb3JNZXNzYWdlKCk7Cn0KPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
class CustomException extends Exception {
    public function errorMessage() {
        return &quot;Error on line &quot; . $this-&gt;getLine() . &quot; in &quot; . $this-&gt;getFile() . &quot;: &quot; . $this-&gt;getMessage();
    }
}

try {
    throw new CustomException(&quot;A custom error has occurred&quot;);
} catch (CustomException $e) {
    echo $e-&gt;errorMessage();
}
?&gt;</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Custom Error Handler</p>
</h2>
<div class='content'><p>Create a custom error handler that logs errors to a file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZnVuY3Rpb24gbG9nRXJyb3JIYW5kbGVyKCRlcnJubywgJGVycnN0ciwgJGVycmZpbGUsICRlcnJsaW5lKSB7CiAgICAkbG9nID0gIkVycm9yOiBbJGVycm5vXSAkZXJyc3RyIC0gJGVycmZpbGU6JGVycmxpbmVcbiI7CiAgICBmaWxlX3B1dF9jb250ZW50cygnZXJyb3JfbG9nLnR4dCcsICRsb2csIEZJTEVfQVBQRU5EKTsKfQoKLy8gU2V0IHRoZSBjdXN0b20gZXJyb3IgaGFuZGxlcgpzZXRfZXJyb3JfaGFuZGxlcigibG9nRXJyb3JIYW5kbGVyIik7CgovLyBUcmlnZ2VyIGFuIGVycm9yCmVjaG8gJHVuZGVmaW5lZF92YXJpYWJsZTsKPz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
function logErrorHandler($errno, $errstr, $errfile, $errline) {
    $log = &quot;Error: [$errno] $errstr - $errfile:$errline\n&quot;;
    file_put_contents('error_log.txt', $log, FILE_APPEND);
}

// Set the custom error handler
set_error_handler(&quot;logErrorHandler&quot;);

// Trigger an error
echo $undefined_variable;
?&gt;</pre></div><div class='content'></div><h2><p>Exercise 2: Exception Handling</p>
</h2>
<div class='content'><p>Write a function that reads a file and throws an exception if the file does not exist.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZnVuY3Rpb24gcmVhZEZpbGVDb250ZW50KCRmaWxlbmFtZSkgewogICAgaWYgKCFmaWxlX2V4aXN0cygkZmlsZW5hbWUpKSB7CiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiRmlsZSBub3QgZm91bmQiKTsKICAgIH0KICAgIHJldHVybiBmaWxlX2dldF9jb250ZW50cygkZmlsZW5hbWUpOwp9Cgp0cnkgewogICAgZWNobyByZWFkRmlsZUNvbnRlbnQoJ25vbl9leGlzdGVudF9maWxlLnR4dCcpOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgIGVjaG8gIkNhdWdodCBleGNlcHRpb246ICIgLiAkZS0+Z2V0TWVzc2FnZSgpOwp9Cj8+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
function readFileContent($filename) {
    if (!file_exists($filename)) {
        throw new Exception(&quot;File not found&quot;);
    }
    return file_get_contents($filename);
}

try {
    echo readFileContent('non_existent_file.txt');
} catch (Exception $e) {
    echo &quot;Caught exception: &quot; . $e-&gt;getMessage();
}
?&gt;</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this module, you learned about different types of errors in PHP, how to configure error reporting, and how to handle errors using built-in functions and custom error handlers. You also explored exception handling using <code>try</code>, <code>catch</code>, and <code>finally</code> blocks, and learned how to create custom exceptions. These techniques are essential for writing robust and maintainable PHP code.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-05-database-security' title="Database Security">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-02-sessions-cookies' title="Sessions and Cookies">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
