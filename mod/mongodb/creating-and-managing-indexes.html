<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating and Managing Indexes</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/creating-and-managing-indexes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/creating-and-managing-indexes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/creating-and-managing-indexes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/creating-and-managing-indexes" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/creating-and-managing-indexes" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='aggregation-performance-tips'>&#x25C4;Aggregation Performance Tips</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating and Managing Indexes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='index-types'>Index Types &#x25BA;</a>
			</div>
</div>
<div class='index'></div><h2>Introduction to Indexes</h2>
<div class='index'><p>Indexes are special data structures that store a small portion of the data set in an easy-to-traverse form. In MongoDB, indexes are used to improve the efficiency of search queries. Without indexes, MongoDB must perform a collection scan, i.e., scan every document in a collection, to select those documents that match the query statement.</p>
</div><h2>Why Use Indexes?</h2>
<div class='index'><ul>
<li><strong>Performance Improvement</strong>: Indexes significantly speed up query performance.</li>
<li><strong>Efficient Data Retrieval</strong>: They allow MongoDB to quickly locate and access the data.</li>
<li><strong>Reduced Resource Usage</strong>: By reducing the amount of data MongoDB needs to scan, indexes help in reducing CPU and memory usage.</li>
</ul>
</div><h2>Types of Indexes in MongoDB</h2>
<div class='index'><ul>
<li><strong>Single Field Index</strong>: Indexes on a single field.</li>
<li><strong>Compound Index</strong>: Indexes on multiple fields.</li>
<li><strong>Multikey Index</strong>: Indexes on array fields.</li>
<li><strong>Text Index</strong>: Indexes for text search.</li>
<li><strong>Geospatial Index</strong>: Indexes for location-based data.</li>
<li><strong>Hashed Index</strong>: Indexes that store the hash of the value of a field.</li>
</ul>
</div><h2>Creating Indexes</h2>
<h2>Single Field Index</h2>
<div class='index'><p>To create an index on a single field, use the <code>createIndex</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 })</pre></div><div class='index'><ul>
<li><code>1</code> specifies ascending order. Use <code>-1</code> for descending order.</li>
</ul>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyB1c2VybmFtZTogMSB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ username: 1 })</pre></div><div class='index'><p>This creates an ascending index on the <code>username</code> field in the <code>users</code> collection.</p>
</div><h2>Compound Index</h2>
<div class='index'><p>To create an index on multiple fields, specify multiple fields in the <code>createIndex</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkMTogMSwgZmllbGQyOiAtMSB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field1: 1, field2: -1 })</pre></div><div class='index'><ul>
<li><code>1</code> for ascending order and <code>-1</code> for descending order.</li>
</ul>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmNyZWF0ZUluZGV4KHsgY3VzdG9tZXJJZDogMSwgb3JkZXJEYXRlOiAtMSB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.createIndex({ customerId: 1, orderDate: -1 })</pre></div><div class='index'><p>This creates a compound index on <code>customerId</code> (ascending) and <code>orderDate</code> (descending) in the <code>orders</code> collection.</p>
</div><h2>Multikey Index</h2>
<div class='index'><p>MongoDB automatically creates a multikey index if the indexed field is an array.</p>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIucHJvZHVjdHMuY3JlYXRlSW5kZXgoeyB0YWdzOiAxIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.products.createIndex({ tags: 1 })</pre></div><div class='index'><p>If <code>tags</code> is an array, MongoDB will create a multikey index.</p>
</div><h2>Text Index</h2>
<div class='index'><p>To create a text index for text search, use the <code>text</code> option.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAidGV4dCIgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: &quot;text&quot; })</pre></div><div class='index'><p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuYXJ0aWNsZXMuY3JlYXRlSW5kZXgoeyBjb250ZW50OiAidGV4dCIgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.articles.createIndex({ content: &quot;text&quot; })</pre></div><div class='index'><p>This creates a text index on the <code>content</code> field in the <code>articles</code> collection.</p>
</div><h2>Geospatial Index</h2>
<div class='index'><p>For location-based data, use <code>2dsphere</code> or <code>2d</code> indexes.</p>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIucGxhY2VzLmNyZWF0ZUluZGV4KHsgbG9jYXRpb246ICIyZHNwaGVyZSIgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.places.createIndex({ location: &quot;2dsphere&quot; })</pre></div><div class='index'><p>This creates a geospatial index on the <code>location</code> field in the <code>places</code> collection.</p>
</div><h2>Hashed Index</h2>
<div class='index'><p>To create a hashed index, use the <code>hashed</code> option.</p>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyB1c2VySWQ6ICJoYXNoZWQiIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ userId: &quot;hashed&quot; })</pre></div><div class='index'><p>This creates a hashed index on the <code>userId</code> field in the <code>users</code> collection.</p>
</div><h2>Managing Indexes</h2>
<h2>Viewing Indexes</h2>
<div class='index'><p>To view all indexes on a collection, use the <code>getIndexes</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5nZXRJbmRleGVzKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.getIndexes()</pre></div><div class='index'><p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZ2V0SW5kZXhlcygp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.getIndexes()</pre></div><div class='index'><p>This returns all indexes on the <code>users</code> collection.</p>
</div><h2>Dropping Indexes</h2>
<div class='index'><p>To drop a specific index, use the <code>dropIndex</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXgoImluZGV4TmFtZSIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndex(&quot;indexName&quot;)</pre></div><div class='index'><p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4KCJ1c2VybmFtZV8xIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndex(&quot;username_1&quot;)</pre></div><div class='index'><p>This drops the index named <code>username_1</code> on the <code>users</code> collection.</p>
<p>To drop all indexes on a collection, use the <code>dropIndexes</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXhlcygp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndexes()</pre></div><div class='index'><p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4ZXMoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndexes()</pre></div><div class='index'><p>This drops all indexes on the <code>users</code> collection.</p>
</div><h2>Indexing Best Practices</h2>
<div class='index'><ul>
<li><strong>Limit the Number of Indexes</strong>: Each index consumes disk space and memory, and can impact write performance.</li>
<li><strong>Use Compound Indexes Wisely</strong>: Ensure the order of fields in compound indexes matches the query patterns.</li>
<li><strong>Monitor Index Usage</strong>: Use the <code>explain</code> method to understand how queries use indexes.</li>
<li><strong>Avoid Over-Indexing</strong>: Only create indexes that are necessary for your queries.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='index'><p>Indexes are a powerful tool in MongoDB that can significantly improve query performance. Understanding the different types of indexes and how to create and manage them is crucial for efficient database management. Always consider the trade-offs between read and write performance when designing your indexing strategy.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='aggregation-performance-tips'>&#x25C4;Aggregation Performance Tips</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating and Managing Indexes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='index-types'>Index Types &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
