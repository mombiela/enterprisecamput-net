<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyMongo for Python</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/pymongo-for-python" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/pymongo-for-python" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/pymongo-for-python" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/pymongo-for-python" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/pymongo-for-python" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='mongoose-for-nodejs'>&#x25C4;Mongoose for Node.js</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">PyMongo for Python</a>
	</div>
	<div class='col-4 text-end'>
					<a href='mongodb-with-java'>MongoDB with Java &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to PyMongo</h1>
<div class='content'><p>PyMongo is a Python distribution containing tools for working with MongoDB, a NoSQL database. This section will cover the basics of PyMongo, including installation and initial setup.</p>
</div><h2>Installation</h2>
<div class='content'><p>To install PyMongo, you can use pip, the Python package installer:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgcHltb25nbw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install pymongo</pre></div><div class='content'></div><h2>Connecting to MongoDB</h2>
<div class='content'><p>To connect to a MongoDB server, you need to create a <code>MongoClient</code> instance:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBweW1vbmdvIGltcG9ydCBNb25nb0NsaWVudAoKY2xpZW50ID0gTW9uZ29DbGllbnQoJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvJyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from pymongo import MongoClient

client = MongoClient('mongodb://localhost:27017/')</pre></div><div class='content'><ul>
<li><code>MongoClient</code> is the main entry point to the MongoDB server.</li>
<li>The connection string <code>'mongodb://localhost:27017/'</code> specifies that MongoDB is running on the local machine on the default port 27017.</li>
</ul>
</div><h1>Basic Operations</h1>
<div class='content'><p>This section will cover basic CRUD (Create, Read, Update, Delete) operations using PyMongo.</p>
</div><h2>Creating a Database and Collection</h2>
<div class='content'><p>In MongoDB, databases contain collections, and collections contain documents.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIgPSBjbGllbnRbJ215ZGF0YWJhc2UnXQpjb2xsZWN0aW9uID0gZGJbJ215Y29sbGVjdGlvbidd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db = client['mydatabase']
collection = db['mycollection']</pre></div><div class='content'><ul>
<li><code>db</code> is a reference to the database named <code>mydatabase</code>.</li>
<li><code>collection</code> is a reference to the collection named <code>mycollection</code>.</li>
</ul>
</div><h2>Inserting Documents</h2>
<div class='content'><p>You can insert documents into a collection using the <code>insert_one</code> or <code>insert_many</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQgPSB7Im5hbWUiOiAiQWxpY2UiLCAiYWdlIjogMjUsICJjaXR5IjogIk5ldyBZb3JrIn0KY29sbGVjdGlvbi5pbnNlcnRfb25lKGRvY3VtZW50KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document = {&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 25, &quot;city&quot;: &quot;New York&quot;}
collection.insert_one(document)</pre></div><div class='content'><ul>
<li><code>insert_one</code> inserts a single document.</li>
<li>The document is a Python dictionary.</li>
</ul>
</div><h2>Querying Documents</h2>
<div class='content'><p>To retrieve documents, use the <code>find</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm9yIGRvYyBpbiBjb2xsZWN0aW9uLmZpbmQoeyJuYW1lIjogIkFsaWNlIn0pOgogICAgcHJpbnQoZG9jKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>for doc in collection.find({&quot;name&quot;: &quot;Alice&quot;}):
    print(doc)</pre></div><div class='content'><ul>
<li><code>find</code> returns a cursor to the documents that match the query.</li>
<li>The query is a dictionary specifying the criteria.</li>
</ul>
</div><h2>Updating Documents</h2>
<div class='content'><p>To update documents, use the <code>update_one</code> or <code>update_many</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29sbGVjdGlvbi51cGRhdGVfb25lKHsibmFtZSI6ICJBbGljZSJ9LCB7IiRzZXQiOiB7ImFnZSI6IDI2fX0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>collection.update_one({&quot;name&quot;: &quot;Alice&quot;}, {&quot;$set&quot;: {&quot;age&quot;: 26}})</pre></div><div class='content'><ul>
<li>The first argument is the query to match documents.</li>
<li>The second argument specifies the update operation.</li>
</ul>
</div><h2>Deleting Documents</h2>
<div class='content'><p>To delete documents, use the <code>delete_one</code> or <code>delete_many</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29sbGVjdGlvbi5kZWxldGVfb25lKHsibmFtZSI6ICJBbGljZSJ9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>collection.delete_one({&quot;name&quot;: &quot;Alice&quot;})</pre></div><div class='content'><ul>
<li>The argument is the query to match documents to delete.</li>
</ul>
</div><h1>Advanced Operations</h1>
<div class='content'><p>This section will cover more advanced features of PyMongo, such as indexing, aggregation, and transactions.</p>
</div><h2>Indexing</h2>
<div class='content'><p>Indexes improve the performance of queries.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29sbGVjdGlvbi5jcmVhdGVfaW5kZXgoWygibmFtZSIsIHB5bW9uZ28uQVNDRU5ESU5HKV0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>collection.create_index([(&quot;name&quot;, pymongo.ASCENDING)])</pre></div><div class='content'><ul>
<li><code>create_index</code> creates an index on the specified field.</li>
<li><code>pymongo.ASCENDING</code> specifies the sort order.</li>
</ul>
</div><h2>Aggregation</h2>
<div class='content'><p>Aggregation operations process data records and return computed results.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgPSBbCiAgICB7IiRtYXRjaCI6IHsiY2l0eSI6ICJOZXcgWW9yayJ9fSwKICAgIHsiJGdyb3VwIjogeyJfaWQiOiAiJGNpdHkiLCAiYXZlcmFnZV9hZ2UiOiB7IiRhdmciOiAiJGFnZSJ9fX0KXQpyZXN1bHQgPSBjb2xsZWN0aW9uLmFnZ3JlZ2F0ZShwaXBlbGluZSkKZm9yIGRvYyBpbiByZXN1bHQ6CiAgICBwcmludChkb2Mp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline = [
    {&quot;$match&quot;: {&quot;city&quot;: &quot;New York&quot;}},
    {&quot;$group&quot;: {&quot;_id&quot;: &quot;$city&quot;, &quot;average_age&quot;: {&quot;$avg&quot;: &quot;$age&quot;}}}
]
result = collection.aggregate(pipeline)
for doc in result:
    print(doc)</pre></div><div class='content'><ul>
<li><code>pipeline</code> is a list of aggregation stages.</li>
<li><code>$match</code> filters documents.</li>
<li><code>$group</code> groups documents by a specified field and performs calculations.</li>
</ul>
</div><h2>Transactions</h2>
<div class='content'><p>Transactions allow multiple operations to be executed in an all-or-nothing manner.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2l0aCBjbGllbnQuc3RhcnRfc2Vzc2lvbigpIGFzIHNlc3Npb246CiAgICB3aXRoIHNlc3Npb24uc3RhcnRfdHJhbnNhY3Rpb24oKToKICAgICAgICBjb2xsZWN0aW9uLmluc2VydF9vbmUoeyJuYW1lIjogIkJvYiIsICJhZ2UiOiAzMH0sIHNlc3Npb249c2Vzc2lvbikKICAgICAgICBjb2xsZWN0aW9uLnVwZGF0ZV9vbmUoeyJuYW1lIjogIkJvYiJ9LCB7IiRzZXQiOiB7ImNpdHkiOiAiU2FuIEZyYW5jaXNjbyJ9fSwgc2Vzc2lvbj1zZXNzaW9uKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>with client.start_session() as session:
    with session.start_transaction():
        collection.insert_one({&quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: 30}, session=session)
        collection.update_one({&quot;name&quot;: &quot;Bob&quot;}, {&quot;$set&quot;: {&quot;city&quot;: &quot;San Francisco&quot;}}, session=session)</pre></div><div class='content'><ul>
<li><code>start_session</code> starts a new session.</li>
<li><code>start_transaction</code> starts a new transaction within the session.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>PyMongo is a powerful tool for interacting with MongoDB from Python. It supports a wide range of operations, from basic CRUD to advanced features like indexing, aggregation, and transactions. By mastering PyMongo, you can efficiently manage and manipulate your MongoDB databases within your Python applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='mongoose-for-nodejs'>&#x25C4;Mongoose for Node.js</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">PyMongo for Python</a>
	</div>
	<div class='col-4 text-end'>
					<a href='mongodb-with-java'>MongoDB with Java &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
