<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB with JavaScript (Node.js)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/07-01-mongodb-with-javascript" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/07-01-mongodb-with-javascript" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/07-01-mongodb-with-javascript" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/07-01-mongodb-with-javascript" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/07-01-mongodb-with-javascript" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-monitoring-and-alerts' title="Monitoring and Alerts">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">MongoDB with JavaScript (Node.js)</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-02-mongodb-with-python' title="MongoDB with Python">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use MongoDB with JavaScript, specifically using Node.js. Node.js is a popular runtime environment that allows you to run JavaScript on the server side. MongoDB, being a NoSQL database, pairs well with JavaScript due to its JSON-like document structure.</p>
</div><h1><p>Table of Contents</p>
</h1>
<div class='content'><ol>
<li><a href="#setting-up-the-environment">Setting Up the Environment</a></li>
<li><a href="#connecting-to-mongodb">Connecting to MongoDB</a></li>
<li><a href="#crud-operations">CRUD Operations</a>
<ul>
<li><a href="#create">Create</a></li>
<li><a href="#read">Read</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#delete">Delete</a></li>
</ul>
</li>
<li><a href="#practical-exercises">Practical Exercises</a></li>
<li><a href="#summary">Summary</a></li>
</ol>
</div><h1><p>Setting Up the Environment</p>
</h1>
<div class='content'><p>Before we start, ensure you have Node.js and npm (Node Package Manager) installed on your machine. You can download them from <a href="https://nodejs.org/">Node.js official website</a>.</p>
</div><h2><p>Step-by-Step Setup</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Initialize a new Node.js project:</strong></p>
<pre><code class="language-bash">mkdir mongodb-nodejs
cd mongodb-nodejs
npm init -y
</code></pre>
</li>
<li>
<p><strong>Install the MongoDB Node.js driver:</strong></p>
<pre><code class="language-bash">npm install mongodb
</code></pre>
</li>
<li>
<p><strong>Create a new JavaScript file:</strong></p>
<pre><code class="language-bash">touch index.js
</code></pre>
</li>
</ol>
</div><h1><p>Connecting to MongoDB</p>
</h1>
<div class='content'><p>To connect to MongoDB, you need to use the MongoDB Node.js driver. Hereâ€™s a basic example of how to connect to a MongoDB database:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwoKYXN5bmMgZnVuY3Rpb24gbWFpbigpIHsKICAgIGNvbnN0IHVyaSA9ICJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3IjsgLy8gQ29ubmVjdGlvbiBVUkkKICAgIGNvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSk7CgogICAgdHJ5IHsKICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpOwogICAgICAgIGNvbnNvbGUubG9nKCJDb25uZWN0ZWQgdG8gTW9uZ29EQiIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICB9IGZpbmFsbHkgewogICAgICAgIGF3YWl0IGNsaWVudC5jbG9zZSgpOwogICAgfQp9CgptYWluKCkuY2F0Y2goY29uc29sZS5lcnJvcik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient } = require('mongodb');

async function main() {
    const uri = &quot;mongodb://localhost:27017&quot;; // Connection URI
    const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true });

    try {
        await client.connect();
        console.log(&quot;Connected to MongoDB&quot;);
    } catch (e) {
        console.error(e);
    } finally {
        await client.close();
    }
}

main().catch(console.error);</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>MongoClient:</strong> This is the main class for connecting to a MongoDB server.</li>
<li><strong>uri:</strong> The connection string to your MongoDB server.</li>
<li><strong>client.connect():</strong> Establishes a connection to the MongoDB server.</li>
<li><strong>client.close():</strong> Closes the connection.</li>
</ul>
</div><h1><p>CRUD Operations</p>
</h1>
<div class='content'></div><h2><p>Create</p>
</h2>
<div class='content'><p>To insert documents into a MongoDB collection, you can use the <code>insertOne</code> or <code>insertMany</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnQoY2xpZW50KSB7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuZGIoInNhbXBsZURCIikuY29sbGVjdGlvbigic2FtcGxlQ29sbGVjdGlvbiIpLmluc2VydE9uZSh7CiAgICAgICAgbmFtZTogIkpvaG4gRG9lIiwKICAgICAgICBhZ2U6IDMwLAogICAgICAgIGFkZHJlc3M6ICIxMjMgTWFpbiBTdCIKICAgIH0pOwogICAgY29uc29sZS5sb2coYE5ldyBkb2N1bWVudCBjcmVhdGVkIHdpdGggdGhlIGZvbGxvd2luZyBpZDogJHtyZXN1bHQuaW5zZXJ0ZWRJZH1gKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function createDocument(client) {
    const result = await client.db(&quot;sampleDB&quot;).collection(&quot;sampleCollection&quot;).insertOne({
        name: &quot;John Doe&quot;,
        age: 30,
        address: &quot;123 Main St&quot;
    });
    console.log(`New document created with the following id: ${result.insertedId}`);
}</pre></div><div class='content'></div><h2><p>Read</p>
</h2>
<div class='content'><p>To read documents from a MongoDB collection, you can use the <code>findOne</code> or <code>find</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gcmVhZERvY3VtZW50KGNsaWVudCkgewogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LmRiKCJzYW1wbGVEQiIpLmNvbGxlY3Rpb24oInNhbXBsZUNvbGxlY3Rpb24iKS5maW5kT25lKHsgbmFtZTogIkpvaG4gRG9lIiB9KTsKICAgIGlmIChyZXN1bHQpIHsKICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgYSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiB3aXRoIHRoZSBuYW1lICdKb2huIERvZSc6YCwgcmVzdWx0KTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vIGRvY3VtZW50IGZvdW5kIHdpdGggdGhlIG5hbWUgJ0pvaG4gRG9lJyIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function readDocument(client) {
    const result = await client.db(&quot;sampleDB&quot;).collection(&quot;sampleCollection&quot;).findOne({ name: &quot;John Doe&quot; });
    if (result) {
        console.log(`Found a document in the collection with the name 'John Doe':`, result);
    } else {
        console.log(&quot;No document found with the name 'John Doe'&quot;);
    }
}</pre></div><div class='content'></div><h2><p>Update</p>
</h2>
<div class='content'><p>To update documents in a MongoDB collection, you can use the <code>updateOne</code> or <code>updateMany</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gdXBkYXRlRG9jdW1lbnQoY2xpZW50KSB7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuZGIoInNhbXBsZURCIikuY29sbGVjdGlvbigic2FtcGxlQ29sbGVjdGlvbiIpLnVwZGF0ZU9uZSgKICAgICAgICB7IG5hbWU6ICJKb2huIERvZSIgfSwKICAgICAgICB7ICRzZXQ6IHsgYWdlOiAzMSB9IH0KICAgICk7CiAgICBjb25zb2xlLmxvZyhgJHtyZXN1bHQubWF0Y2hlZENvdW50fSBkb2N1bWVudChzKSBtYXRjaGVkIHRoZSBmaWx0ZXIsIHVwZGF0ZWQgJHtyZXN1bHQubW9kaWZpZWRDb3VudH0gZG9jdW1lbnQocylgKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function updateDocument(client) {
    const result = await client.db(&quot;sampleDB&quot;).collection(&quot;sampleCollection&quot;).updateOne(
        { name: &quot;John Doe&quot; },
        { $set: { age: 31 } }
    );
    console.log(`${result.matchedCount} document(s) matched the filter, updated ${result.modifiedCount} document(s)`);
}</pre></div><div class='content'></div><h2><p>Delete</p>
</h2>
<div class='content'><p>To delete documents from a MongoDB collection, you can use the <code>deleteOne</code> or <code>deleteMany</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gZGVsZXRlRG9jdW1lbnQoY2xpZW50KSB7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuZGIoInNhbXBsZURCIikuY29sbGVjdGlvbigic2FtcGxlQ29sbGVjdGlvbiIpLmRlbGV0ZU9uZSh7IG5hbWU6ICJKb2huIERvZSIgfSk7CiAgICBjb25zb2xlLmxvZyhgJHtyZXN1bHQuZGVsZXRlZENvdW50fSBkb2N1bWVudChzKSB3YXMvd2VyZSBkZWxldGVkLmApOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function deleteDocument(client) {
    const result = await client.db(&quot;sampleDB&quot;).collection(&quot;sampleCollection&quot;).deleteOne({ name: &quot;John Doe&quot; });
    console.log(`${result.deletedCount} document(s) was/were deleted.`);
}</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Insert Multiple Documents</p>
</h2>
<div class='content'><p><strong>Task:</strong> Write a function to insert multiple documents into a collection.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gY3JlYXRlTXVsdGlwbGVEb2N1bWVudHMoY2xpZW50KSB7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuZGIoInNhbXBsZURCIikuY29sbGVjdGlvbigic2FtcGxlQ29sbGVjdGlvbiIpLmluc2VydE1hbnkoWwogICAgICAgIHsgbmFtZTogIkFsaWNlIiwgYWdlOiAyNSwgYWRkcmVzczogIjQ1NiBFbG0gU3QiIH0sCiAgICAgICAgeyBuYW1lOiAiQm9iIiwgYWdlOiAyOCwgYWRkcmVzczogIjc4OSBPYWsgU3QiIH0KICAgIF0pOwogICAgY29uc29sZS5sb2coYCR7cmVzdWx0Lmluc2VydGVkQ291bnR9IG5ldyBkb2N1bWVudChzKSBjcmVhdGVkIHdpdGggdGhlIGZvbGxvd2luZyBpZChzKTpgKTsKICAgIGNvbnNvbGUubG9nKHJlc3VsdC5pbnNlcnRlZElkcyk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function createMultipleDocuments(client) {
    const result = await client.db(&quot;sampleDB&quot;).collection(&quot;sampleCollection&quot;).insertMany([
        { name: &quot;Alice&quot;, age: 25, address: &quot;456 Elm St&quot; },
        { name: &quot;Bob&quot;, age: 28, address: &quot;789 Oak St&quot; }
    ]);
    console.log(`${result.insertedCount} new document(s) created with the following id(s):`);
    console.log(result.insertedIds);
}</pre></div><div class='content'></div><h2><p>Exercise 2: Find Multiple Documents</p>
</h2>
<div class='content'><p><strong>Task:</strong> Write a function to find all documents in a collection where the age is greater than 25.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gZmluZERvY3VtZW50cyhjbGllbnQpIHsKICAgIGNvbnN0IGN1cnNvciA9IGF3YWl0IGNsaWVudC5kYigic2FtcGxlREIiKS5jb2xsZWN0aW9uKCJzYW1wbGVDb2xsZWN0aW9uIikuZmluZCh7IGFnZTogeyAkZ3Q6IDI1IH0gfSk7CiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgY3Vyc29yLnRvQXJyYXkoKTsKICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zb2xlLmxvZygiRm91bmQgZG9jdW1lbnRzOiIpOwogICAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2kgKyAxfS4gbmFtZTogJHtyZXN1bHQubmFtZX1gKTsKICAgICAgICAgICAgY29uc29sZS5sb2coYCAgIGFnZTogJHtyZXN1bHQuYWdlfWApOwogICAgICAgICAgICBjb25zb2xlLmxvZyhgICAgYWRkcmVzczogJHtyZXN1bHQuYWRkcmVzc31gKTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vIGRvY3VtZW50cyBmb3VuZCIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function findDocuments(client) {
    const cursor = await client.db(&quot;sampleDB&quot;).collection(&quot;sampleCollection&quot;).find({ age: { $gt: 25 } });
    const results = await cursor.toArray();
    if (results.length &gt; 0) {
        console.log(&quot;Found documents:&quot;);
        results.forEach((result, i) =&gt; {
            console.log();
            console.log(`${i + 1}. name: ${result.name}`);
            console.log(`   age: ${result.age}`);
            console.log(`   address: ${result.address}`);
        });
    } else {
        console.log(&quot;No documents found&quot;);
    }
}</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered how to set up a Node.js environment to work with MongoDB, how to connect to a MongoDB database, and how to perform basic CRUD operations. We also provided practical exercises to reinforce the concepts learned.</p>
<p>By mastering these basics, you are now prepared to build more complex applications using MongoDB and Node.js. In the next sections, we will delve deeper into advanced MongoDB features and how to integrate them into your applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-monitoring-and-alerts' title="Monitoring and Alerts">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-02-mongodb-with-python' title="MongoDB with Python">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
