<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One-to-Many Relationships</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/one-to-many-relationships" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/one-to-many-relationships" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/one-to-many-relationships" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/one-to-many-relationships" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/one-to-many-relationships" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='one-to-one-relationships'>&#x25C4;One-to-One Relationships</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">One-to-Many Relationships</a>
	</div>
	<div class='col-4 text-end'>
					<a href='many-to-many-relationships'>Many-to-Many Relationships &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In MongoDB, a one-to-many relationship is a common database design pattern where a single document (the &quot;one&quot;) is related to multiple documents (the &quot;many&quot;). This pattern is essential for modeling real-world scenarios such as a blog post with multiple comments, a user with multiple orders, or a category with multiple products.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>One-to-Many Relationship</strong>: A single document in one collection is related to multiple documents in another collection.</li>
<li><strong>Embedding</strong>: Storing related documents within a single document.</li>
<li><strong>Referencing</strong>: Storing references to related documents in separate collections.</li>
</ul>
</div><h1>Embedding Documents</h1>
<div class='content'><p>Embedding is a method where related data is stored within the same document. This is useful when the related data is frequently accessed together.</p>
</div><h2>Example: Blog Post with Comments</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJ0aXRsZSI6ICJJbnRyb2R1Y3Rpb24gdG8gTW9uZ29EQiIsCiAgImNvbnRlbnQiOiAiTW9uZ29EQiBpcyBhIE5vU1FMIGRhdGFiYXNlLi4uIiwKICAiY29tbWVudHMiOiBbCiAgICB7CiAgICAgICJ1c2VyIjogIkFsaWNlIiwKICAgICAgImNvbW1lbnQiOiAiR3JlYXQgcG9zdCEiLAogICAgICAiZGF0ZSI6ICIyMDIzLTEwLTAxIgogICAgfSwKICAgIHsKICAgICAgInVzZXIiOiAiQm9iIiwKICAgICAgImNvbW1lbnQiOiAiVmVyeSBpbmZvcm1hdGl2ZS4iLAogICAgICAiZGF0ZSI6ICIyMDIzLTEwLTAyIgogICAgfQogIF0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;title&quot;: &quot;Introduction to MongoDB&quot;,
  &quot;content&quot;: &quot;MongoDB is a NoSQL database...&quot;,
  &quot;comments&quot;: [
    {
      &quot;user&quot;: &quot;Alice&quot;,
      &quot;comment&quot;: &quot;Great post!&quot;,
      &quot;date&quot;: &quot;2023-10-01&quot;
    },
    {
      &quot;user&quot;: &quot;Bob&quot;,
      &quot;comment&quot;: &quot;Very informative.&quot;,
      &quot;date&quot;: &quot;2023-10-02&quot;
    }
  ]
}</pre></div><div class='content'></div><h2>Advantages of Embedding</h2>
<div class='content'><ul>
<li><strong>Performance</strong>: Faster read operations since related data is in a single document.</li>
<li><strong>Atomicity</strong>: Updates to the document are atomic.</li>
</ul>
</div><h2>Disadvantages of Embedding</h2>
<div class='content'><ul>
<li><strong>Document Size</strong>: MongoDB documents have a size limit of 16MB. Embedding too much data can exceed this limit.</li>
<li><strong>Data Duplication</strong>: If the embedded data is used in multiple places, it can lead to duplication.</li>
</ul>
</div><h1>Referencing Documents</h1>
<div class='content'><p>Referencing is a method where related data is stored in separate documents, and references (usually ObjectIDs) are used to link them. This is useful when related data is large or frequently accessed independently.</p>
</div><h2>Example: Users and Orders</h2>
<div class='content'><h4>Users Collection</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJuYW1lIjogIkFsaWNlIiwKICAiZW1haWwiOiAiYWxpY2VAZXhhbXBsZS5jb20iLAogICJvcmRlcnMiOiBbMTAxLCAxMDJdCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;name&quot;: &quot;Alice&quot;,
  &quot;email&quot;: &quot;alice@example.com&quot;,
  &quot;orders&quot;: [101, 102]
}</pre></div><div class='content'><h4>Orders Collection</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxMDEsCiAgInByb2R1Y3QiOiAiTGFwdG9wIiwKICAicXVhbnRpdHkiOiAxLAogICJwcmljZSI6IDEyMDAKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 101,
  &quot;product&quot;: &quot;Laptop&quot;,
  &quot;quantity&quot;: 1,
  &quot;price&quot;: 1200
}</pre></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxMDIsCiAgInByb2R1Y3QiOiAiTW91c2UiLAogICJxdWFudGl0eSI6IDIsCiAgInByaWNlIjogNDAKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 102,
  &quot;product&quot;: &quot;Mouse&quot;,
  &quot;quantity&quot;: 2,
  &quot;price&quot;: 40
}</pre></div><div class='content'></div><h2>Advantages of Referencing</h2>
<div class='content'><ul>
<li><strong>Flexibility</strong>: Easier to manage large datasets and relationships.</li>
<li><strong>Normalization</strong>: Reduces data duplication.</li>
</ul>
</div><h2>Disadvantages of Referencing</h2>
<div class='content'><ul>
<li><strong>Performance</strong>: Requires additional queries to fetch related data.</li>
<li><strong>Complexity</strong>: More complex queries and data management.</li>
</ul>
</div><h1>Choosing Between Embedding and Referencing</h1>
<div class='content'><ul>
<li><strong>Use Embedding</strong> when:
<ul>
<li>The related data is frequently accessed together.</li>
<li>The related data is not large and does not grow indefinitely.</li>
</ul>
</li>
<li><strong>Use Referencing</strong> when:
<ul>
<li>The related data is large or grows indefinitely.</li>
<li>The related data is frequently accessed independently.</li>
</ul>
</li>
</ul>
</div><h1>Practical Exercises</h1>
<div class='content'><ol>
<li>
<p><strong>Embedding Exercise</strong>:</p>
<ul>
<li>Create a collection named <code>posts</code> and insert a document with embedded comments.</li>
<li>Query the <code>posts</code> collection to retrieve the post along with its comments.</li>
</ul>
</li>
<li>
<p><strong>Referencing Exercise</strong>:</p>
<ul>
<li>Create two collections named <code>users</code> and <code>orders</code>.</li>
<li>Insert documents into both collections and establish a reference between a user and their orders.</li>
<li>Query the <code>users</code> collection to retrieve a user and their orders using the references.</li>
</ul>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding one-to-many relationships in MongoDB is crucial for designing efficient and scalable databases. By choosing the appropriate method (embedding or referencing) based on your application's needs, you can optimize performance and maintainability. Practice with real-world examples to solidify your understanding and become proficient in modeling one-to-many relationships in MongoDB.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='one-to-one-relationships'>&#x25C4;One-to-One Relationships</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">One-to-Many Relationships</a>
	</div>
	<div class='col-4 text-end'>
					<a href='many-to-many-relationships'>Many-to-Many Relationships &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
