<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>MongoDB with Java</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/07-03-mongodb-with-java" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/07-03-mongodb-with-java" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/07-03-mongodb-with-java" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/mongodb/07-03-mongodb-with-java" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/mongodb/07-03-mongodb-with-java" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-mongodb-with-python' title="MongoDB with Python">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">MongoDB with Java</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-mongodb-with-csharp' title="MongoDB with C#">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to integrate MongoDB with Java. We will cover the following topics:</p>
<ol>
<li>Setting up the MongoDB Java Driver</li>
<li>Connecting to MongoDB</li>
<li>Performing CRUD Operations</li>
<li>Using Aggregation Framework</li>
<li>Practical Exercises</li>
</ol>
</div><h1><ol>
<li>Setting up the MongoDB Java Driver</li>
</ol></h1>
<div class='content'><p>To interact with MongoDB from a Java application, you need to include the MongoDB Java Driver in your project. We will use Maven for dependency management.</p>
</div><h2>Maven Dependency</h2>
<div class='content'><p>Add the following dependency to your <code>pom.xml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcubW9uZ29kYjwvZ3JvdXBJZD4KICAgIDxhcnRpZmFjdElkPm1vbmdvZGItZHJpdmVyLXN5bmM8L2FydGlmYWN0SWQ+CiAgICA8dmVyc2lvbj40LjQuMDwvdmVyc2lvbj4KPC9kZXBlbmRlbmN5Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;
    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;
    &lt;version&gt;4.4.0&lt;/version&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Gradle Dependency</h2>
<div class='content'><p>If you are using Gradle, add the following to your <code>build.gradle</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wbGVtZW50YXRpb24gJ29yZy5tb25nb2RiOm1vbmdvZGItZHJpdmVyLXN5bmM6NC40LjAn"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>implementation 'org.mongodb:mongodb-driver-sync:4.4.0'</pre></div><div class='content'></div><h1><ol start="2">
<li>Connecting to MongoDB</li>
</ol></h1>
<div class='content'><p>To connect to a MongoDB instance, you need to create a <code>MongoClient</code> object. Here is an example of how to connect to a local MongoDB instance:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NsaWVudDsKaW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NsaWVudHM7CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKCnB1YmxpYyBjbGFzcyBNb25nb0RCQ29ubmVjdGlvbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgLy8gQ3JlYXRlIGEgTW9uZ29DbGllbnQgb2JqZWN0CiAgICAgICAgTW9uZ29DbGllbnQgbW9uZ29DbGllbnQgPSBNb25nb0NsaWVudHMuY3JlYXRlKCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3Iik7CgogICAgICAgIC8vIEFjY2VzcyB0aGUgZGF0YWJhc2UKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoIm15ZGF0YWJhc2UiKTsKCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJDb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlIHN1Y2Nlc3NmdWxseSIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoDatabase;

public class MongoDBConnection {
    public static void main(String[] args) {
        // Create a MongoClient object
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);

        // Access the database
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);

        System.out.println(&quot;Connected to the database successfully&quot;);
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>MongoClients.create(&quot;mongodb://localhost:27017&quot;)</code>: Creates a new MongoClient instance connected to the MongoDB server running on <code>localhost</code> at port <code>27017</code>.</li>
<li><code>mongoClient.getDatabase(&quot;mydatabase&quot;)</code>: Accesses the database named <code>mydatabase</code>.</li>
</ul>
</div><h1><ol start="3">
<li>Performing CRUD Operations</li>
</ol></h1>
<div class='content'></div><h2>Creating Documents</h2>
<div class='content'><p>To insert a document into a collection, use the <code>insertOne</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwoKcHVibGljIGNsYXNzIENyZWF0ZURvY3VtZW50IHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBNb25nb0NsaWVudCBtb25nb0NsaWVudCA9IE1vbmdvQ2xpZW50cy5jcmVhdGUoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTciKTsKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoIm15ZGF0YWJhc2UiKTsKICAgICAgICBNb25nb0NvbGxlY3Rpb248RG9jdW1lbnQ+IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5nZXRDb2xsZWN0aW9uKCJteWNvbGxlY3Rpb24iKTsKCiAgICAgICAgRG9jdW1lbnQgZG9jdW1lbnQgPSBuZXcgRG9jdW1lbnQoIm5hbWUiLCAiSm9obiBEb2UiKQogICAgICAgICAgICAgICAgLmFwcGVuZCgiYWdlIiwgMzApCiAgICAgICAgICAgICAgICAuYXBwZW5kKCJjaXR5IiwgIk5ldyBZb3JrIik7CgogICAgICAgIGNvbGxlY3Rpb24uaW5zZXJ0T25lKGRvY3VtZW50KTsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRvY3VtZW50IGluc2VydGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

public class CreateDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        Document document = new Document(&quot;name&quot;, &quot;John Doe&quot;)
                .append(&quot;age&quot;, 30)
                .append(&quot;city&quot;, &quot;New York&quot;);

        collection.insertOne(document);
        System.out.println(&quot;Document inserted successfully&quot;);
    }
}</pre></div><div class='content'></div><h2>Reading Documents</h2>
<div class='content'><p>To read documents from a collection, use the <code>find</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5GaW5kSXRlcmFibGU7CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29Db2xsZWN0aW9uOwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lk1vbmdvRGF0YWJhc2U7CmltcG9ydCBvcmcuYnNvbi5Eb2N1bWVudDsKCnB1YmxpYyBjbGFzcyBSZWFkRG9jdW1lbnRzIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBNb25nb0NsaWVudCBtb25nb0NsaWVudCA9IE1vbmdvQ2xpZW50cy5jcmVhdGUoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTciKTsKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoIm15ZGF0YWJhc2UiKTsKICAgICAgICBNb25nb0NvbGxlY3Rpb248RG9jdW1lbnQ+IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5nZXRDb2xsZWN0aW9uKCJteWNvbGxlY3Rpb24iKTsKCiAgICAgICAgRmluZEl0ZXJhYmxlPERvY3VtZW50PiBkb2N1bWVudHMgPSBjb2xsZWN0aW9uLmZpbmQoKTsKICAgICAgICBmb3IgKERvY3VtZW50IGRvYyA6IGRvY3VtZW50cykgewogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZG9jLnRvSnNvbigpKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.FindIterable;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

public class ReadDocuments {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        FindIterable&lt;Document&gt; documents = collection.find();
        for (Document doc : documents) {
            System.out.println(doc.toJson());
        }
    }
}</pre></div><div class='content'></div><h2>Updating Documents</h2>
<div class='content'><p>To update a document, use the <code>updateOne</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lm1vZGVsLkZpbHRlcnM7CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQubW9kZWwuVXBkYXRlczsKCnB1YmxpYyBjbGFzcyBVcGRhdGVEb2N1bWVudCB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgTW9uZ29DbGllbnQgbW9uZ29DbGllbnQgPSBNb25nb0NsaWVudHMuY3JlYXRlKCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3Iik7CiAgICAgICAgTW9uZ29EYXRhYmFzZSBkYXRhYmFzZSA9IG1vbmdvQ2xpZW50LmdldERhdGFiYXNlKCJteWRhdGFiYXNlIik7CiAgICAgICAgTW9uZ29Db2xsZWN0aW9uPERvY3VtZW50PiBjb2xsZWN0aW9uID0gZGF0YWJhc2UuZ2V0Q29sbGVjdGlvbigibXljb2xsZWN0aW9uIik7CgogICAgICAgIGNvbGxlY3Rpb24udXBkYXRlT25lKEZpbHRlcnMuZXEoIm5hbWUiLCAiSm9obiBEb2UiKSwgVXBkYXRlcy5zZXQoImFnZSIsIDMxKSk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEb2N1bWVudCB1cGRhdGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.model.Filters;
import com.mongodb.client.model.Updates;

public class UpdateDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        collection.updateOne(Filters.eq(&quot;name&quot;, &quot;John Doe&quot;), Updates.set(&quot;age&quot;, 31));
        System.out.println(&quot;Document updated successfully&quot;);
    }
}</pre></div><div class='content'></div><h2>Deleting Documents</h2>
<div class='content'><p>To delete a document, use the <code>deleteOne</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lm1vZGVsLkZpbHRlcnM7CgpwdWJsaWMgY2xhc3MgRGVsZXRlRG9jdW1lbnQgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgIE1vbmdvRGF0YWJhc2UgZGF0YWJhc2UgPSBtb25nb0NsaWVudC5nZXREYXRhYmFzZSgibXlkYXRhYmFzZSIpOwogICAgICAgIE1vbmdvQ29sbGVjdGlvbjxEb2N1bWVudD4gY29sbGVjdGlvbiA9IGRhdGFiYXNlLmdldENvbGxlY3Rpb24oIm15Y29sbGVjdGlvbiIpOwoKICAgICAgICBjb2xsZWN0aW9uLmRlbGV0ZU9uZShGaWx0ZXJzLmVxKCJuYW1lIiwgIkpvaG4gRG9lIikpOwogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiRG9jdW1lbnQgZGVsZXRlZCBzdWNjZXNzZnVsbHkiKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.model.Filters;

public class DeleteDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        collection.deleteOne(Filters.eq(&quot;name&quot;, &quot;John Doe&quot;));
        System.out.println(&quot;Document deleted successfully&quot;);
    }
}</pre></div><div class='content'></div><h1><ol start="4">
<li>Using Aggregation Framework</li>
</ol></h1>
<div class='content'><p>The aggregation framework allows you to perform complex data processing and transformation operations.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5BZ2dyZWdhdGVJdGVyYWJsZTsKaW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CgpwdWJsaWMgY2xhc3MgQWdncmVnYXRpb25FeGFtcGxlIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBNb25nb0NsaWVudCBtb25nb0NsaWVudCA9IE1vbmdvQ2xpZW50cy5jcmVhdGUoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTciKTsKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoIm15ZGF0YWJhc2UiKTsKICAgICAgICBNb25nb0NvbGxlY3Rpb248RG9jdW1lbnQ+IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5nZXRDb2xsZWN0aW9uKCJteWNvbGxlY3Rpb24iKTsKCiAgICAgICAgQWdncmVnYXRlSXRlcmFibGU8RG9jdW1lbnQ+IHJlc3VsdCA9IGNvbGxlY3Rpb24uYWdncmVnYXRlKEFycmF5cy5hc0xpc3QoCiAgICAgICAgICAgICAgICBuZXcgRG9jdW1lbnQoIiRtYXRjaCIsIG5ldyBEb2N1bWVudCgiY2l0eSIsICJOZXcgWW9yayIpKSwKICAgICAgICAgICAgICAgIG5ldyBEb2N1bWVudCgiJGdyb3VwIiwgbmV3IERvY3VtZW50KCJfaWQiLCAiJGNpdHkiKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCJhdmVyYWdlQWdlIiwgbmV3IERvY3VtZW50KCIkYXZnIiwgIiRhZ2UiKSkpCiAgICAgICAgKSk7CgogICAgICAgIGZvciAoRG9jdW1lbnQgZG9jIDogcmVzdWx0KSB7CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihkb2MudG9Kc29uKCkpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.AggregateIterable;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

import java.util.Arrays;

public class AggregationExample {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        AggregateIterable&lt;Document&gt; result = collection.aggregate(Arrays.asList(
                new Document(&quot;$match&quot;, new Document(&quot;city&quot;, &quot;New York&quot;)),
                new Document(&quot;$group&quot;, new Document(&quot;_id&quot;, &quot;$city&quot;)
                        .append(&quot;averageAge&quot;, new Document(&quot;$avg&quot;, &quot;$age&quot;)))
        ));

        for (Document doc : result) {
            System.out.println(doc.toJson());
        }
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>$match</code>: Filters documents to include only those where the <code>city</code> is &quot;New York&quot;.</li>
<li><code>$group</code>: Groups the documents by <code>city</code> and calculates the average age.</li>
</ul>
</div><h1><ol start="5">
<li>Practical Exercises</li>
</ol></h1>
<div class='content'></div><h2>Exercise 1: Insert Multiple Documents</h2>
<div class='content'><p>Write a Java program to insert multiple documents into a MongoDB collection.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CgpwdWJsaWMgY2xhc3MgSW5zZXJ0TXVsdGlwbGVEb2N1bWVudHMgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgIE1vbmdvRGF0YWJhc2UgZGF0YWJhc2UgPSBtb25nb0NsaWVudC5nZXREYXRhYmFzZSgibXlkYXRhYmFzZSIpOwogICAgICAgIE1vbmdvQ29sbGVjdGlvbjxEb2N1bWVudD4gY29sbGVjdGlvbiA9IGRhdGFiYXNlLmdldENvbGxlY3Rpb24oIm15Y29sbGVjdGlvbiIpOwoKICAgICAgICBEb2N1bWVudCBkb2MxID0gbmV3IERvY3VtZW50KCJuYW1lIiwgIkFsaWNlIikuYXBwZW5kKCJhZ2UiLCAyNSkuYXBwZW5kKCJjaXR5IiwgIkxvcyBBbmdlbGVzIik7CiAgICAgICAgRG9jdW1lbnQgZG9jMiA9IG5ldyBEb2N1bWVudCgibmFtZSIsICJCb2IiKS5hcHBlbmQoImFnZSIsIDI4KS5hcHBlbmQoImNpdHkiLCAiQ2hpY2FnbyIpOwoKICAgICAgICBjb2xsZWN0aW9uLmluc2VydE1hbnkoQXJyYXlzLmFzTGlzdChkb2MxLCBkb2MyKSk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEb2N1bWVudHMgaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

import java.util.Arrays;

public class InsertMultipleDocuments {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        Document doc1 = new Document(&quot;name&quot;, &quot;Alice&quot;).append(&quot;age&quot;, 25).append(&quot;city&quot;, &quot;Los Angeles&quot;);
        Document doc2 = new Document(&quot;name&quot;, &quot;Bob&quot;).append(&quot;age&quot;, 28).append(&quot;city&quot;, &quot;Chicago&quot;);

        collection.insertMany(Arrays.asList(doc1, doc2));
        System.out.println(&quot;Documents inserted successfully&quot;);
    }
}</pre></div><div class='content'></div><h2>Exercise 2: Find Documents with a Specific Condition</h2>
<div class='content'><p>Write a Java program to find all documents where the age is greater than 25.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5GaW5kSXRlcmFibGU7CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29Db2xsZWN0aW9uOwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lk1vbmdvRGF0YWJhc2U7CmltcG9ydCBvcmcuYnNvbi5Eb2N1bWVudDsKaW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5tb2RlbC5GaWx0ZXJzOwoKcHVibGljIGNsYXNzIEZpbmREb2N1bWVudHMgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgIE1vbmdvRGF0YWJhc2UgZGF0YWJhc2UgPSBtb25nb0NsaWVudC5nZXREYXRhYmFzZSgibXlkYXRhYmFzZSIpOwogICAgICAgIE1vbmdvQ29sbGVjdGlvbjxEb2N1bWVudD4gY29sbGVjdGlvbiA9IGRhdGFiYXNlLmdldENvbGxlY3Rpb24oIm15Y29sbGVjdGlvbiIpOwoKICAgICAgICBGaW5kSXRlcmFibGU8RG9jdW1lbnQ+IGRvY3VtZW50cyA9IGNvbGxlY3Rpb24uZmluZChGaWx0ZXJzLmd0KCJhZ2UiLCAyNSkpOwogICAgICAgIGZvciAoRG9jdW1lbnQgZG9jIDogZG9jdW1lbnRzKSB7CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihkb2MudG9Kc29uKCkpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.FindIterable;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.model.Filters;

public class FindDocuments {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;mydatabase&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;mycollection&quot;);

        FindIterable&lt;Document&gt; documents = collection.find(Filters.gt(&quot;age&quot;, 25));
        for (Document doc : documents) {
            System.out.println(doc.toJson());
        }
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered how to set up the MongoDB Java Driver, connect to a MongoDB instance, and perform CRUD operations. We also explored the aggregation framework and provided practical exercises to reinforce the learned concepts. In the next module, we will delve into building real-world applications using MongoDB.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-mongodb-with-python' title="MongoDB with Python">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-mongodb-with-csharp' title="MongoDB with C#">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
