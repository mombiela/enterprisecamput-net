<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Updating Documents</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/02-03-updating-documents" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/02-03-updating-documents" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/02-03-updating-documents" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/02-03-updating-documents" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/02-03-updating-documents" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-reading-documents' title="Reading Documents">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Updating Documents</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-deleting-documents' title="Deleting Documents">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover how to update documents in MongoDB. Updating documents is a crucial part of working with any database, as it allows you to modify existing data to reflect changes over time.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Update Operations</strong>: Understanding the different types of update operations.</li>
<li><strong>Update Methods</strong>: Learning the methods provided by MongoDB for updating documents.</li>
<li><strong>Update Operators</strong>: Using operators to specify how documents should be updated.</li>
<li><strong>Practical Examples</strong>: Applying the concepts through practical code examples.</li>
<li><strong>Exercises</strong>: Reinforcing the learned concepts with exercises.</li>
</ol>
</div><h1>Update Operations</h1>
<div class='content'><p>MongoDB provides several ways to update documents:</p>
<ul>
<li><strong>Update a Single Document</strong>: Modify one document that matches a specified filter.</li>
<li><strong>Update Multiple Documents</strong>: Modify all documents that match a specified filter.</li>
<li><strong>Replace a Document</strong>: Replace an entire document with a new one.</li>
</ul>
</div><h1>Update Methods</h1>
<div class='content'><p>MongoDB offers the following methods to update documents:</p>
<ul>
<li><code>updateOne()</code>: Updates a single document.</li>
<li><code>updateMany()</code>: Updates multiple documents.</li>
<li><code>replaceOne()</code>: Replaces a single document.</li>
</ul>
</div><h2>Syntax</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi51cGRhdGVPbmUoCiAgIDxmaWx0ZXI+LAogICA8dXBkYXRlPiwKICAgPG9wdGlvbnM+Cik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.updateOne(
   &lt;filter&gt;,
   &lt;update&gt;,
   &lt;options&gt;
)</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi51cGRhdGVNYW55KAogICA8ZmlsdGVyPiwKICAgPHVwZGF0ZT4sCiAgIDxvcHRpb25zPgop"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.updateMany(
   &lt;filter&gt;,
   &lt;update&gt;,
   &lt;options&gt;
)</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5yZXBsYWNlT25lKAogICA8ZmlsdGVyPiwKICAgPHJlcGxhY2VtZW50PiwKICAgPG9wdGlvbnM+Cik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.replaceOne(
   &lt;filter&gt;,
   &lt;replacement&gt;,
   &lt;options&gt;
)</pre></div><div class='content'></div><h1>Update Operators</h1>
<div class='content'><p>Update operators are used to specify how the documents should be updated. Some common update operators include:</p>
<ul>
<li><code>$set</code>: Sets the value of a field.</li>
<li><code>$unset</code>: Removes a field from a document.</li>
<li><code>$inc</code>: Increments the value of a field by a specified amount.</li>
<li><code>$push</code>: Adds an item to an array.</li>
<li><code>$pull</code>: Removes an item from an array.</li>
</ul>
</div><h2>Example Table of Update Operators</h2>
<div class='content'><table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$set</code></td>
<td>Sets the value of a field</td>
<td><code>{ $set: { &quot;field&quot;: &quot;value&quot; } }</code></td>
</tr>
<tr>
<td><code>$unset</code></td>
<td>Removes a field</td>
<td><code>{ $unset: { &quot;field&quot;: &quot;&quot; } }</code></td>
</tr>
<tr>
<td><code>$inc</code></td>
<td>Increments the value of a field</td>
<td><code>{ $inc: { &quot;field&quot;: 1 } }</code></td>
</tr>
<tr>
<td><code>$push</code></td>
<td>Adds an item to an array</td>
<td><code>{ $push: { &quot;arrayField&quot;: &quot;item&quot; } }</code></td>
</tr>
<tr>
<td><code>$pull</code></td>
<td>Removes an item from an array</td>
<td><code>{ $pull: { &quot;arrayField&quot;: &quot;item&quot; } }</code></td>
</tr>
</tbody>
</table>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Example 1: Updating a Single Document</h2>
<div class='content'><p>Let's update a single document in the <code>users</code> collection to set the <code>age</code> field to 30.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMudXBkYXRlT25lKAogICB7ICJuYW1lIjogIkpvaG4gRG9lIiB9LAogICB7ICRzZXQ6IHsgImFnZSI6IDMwIH0gfQop"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.updateOne(
   { &quot;name&quot;: &quot;John Doe&quot; },
   { $set: { &quot;age&quot;: 30 } }
)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The filter <code>{ &quot;name&quot;: &quot;John Doe&quot; }</code> specifies the document to update.</li>
<li>The update <code>{ $set: { &quot;age&quot;: 30 } }</code> sets the <code>age</code> field to 30.</li>
</ul>
</div><h2>Example 2: Updating Multiple Documents</h2>
<div class='content'><p>Let's update all documents in the <code>users</code> collection to increment the <code>age</code> field by 1.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMudXBkYXRlTWFueSgKICAge30sCiAgIHsgJGluYzogeyAiYWdlIjogMSB9IH0KKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.updateMany(
   {},
   { $inc: { &quot;age&quot;: 1 } }
)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The filter <code>{}</code> matches all documents in the collection.</li>
<li>The update <code>{ $inc: { &quot;age&quot;: 1 } }</code> increments the <code>age</code> field by 1 for all matched documents.</li>
</ul>
</div><h2>Example 3: Replacing a Document</h2>
<div class='content'><p>Let's replace a document in the <code>users</code> collection with a new document.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMucmVwbGFjZU9uZSgKICAgeyAibmFtZSI6ICJKb2huIERvZSIgfSwKICAgeyAibmFtZSI6ICJKb2huIERvZSIsICJhZ2UiOiAzMCwgImVtYWlsIjogImpvaG4uZG9lQGV4YW1wbGUuY29tIiB9Cik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.replaceOne(
   { &quot;name&quot;: &quot;John Doe&quot; },
   { &quot;name&quot;: &quot;John Doe&quot;, &quot;age&quot;: 30, &quot;email&quot;: &quot;john.doe@example.com&quot; }
)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The filter <code>{ &quot;name&quot;: &quot;John Doe&quot; }</code> specifies the document to replace.</li>
<li>The replacement document <code>{ &quot;name&quot;: &quot;John Doe&quot;, &quot;age&quot;: 30, &quot;email&quot;: &quot;john.doe@example.com&quot; }</code> replaces the entire document.</li>
</ul>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Update a Single Document</h2>
<div class='content'><p>Update the <code>email</code> field of the user with the name &quot;Jane Doe&quot; to &quot;jane.doe@example.com&quot;.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMudXBkYXRlT25lKAogICB7ICJuYW1lIjogIkphbmUgRG9lIiB9LAogICB7ICRzZXQ6IHsgImVtYWlsIjogImphbmUuZG9lQGV4YW1wbGUuY29tIiB9IH0KKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.updateOne(
   { &quot;name&quot;: &quot;Jane Doe&quot; },
   { $set: { &quot;email&quot;: &quot;jane.doe@example.com&quot; } }
)</pre></div><div class='content'></div><h2>Exercise 2: Update Multiple Documents</h2>
<div class='content'><p>Increment the <code>score</code> field by 5 for all users who have a <code>score</code> field.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMudXBkYXRlTWFueSgKICAgeyAic2NvcmUiOiB7ICRleGlzdHM6IHRydWUgfSB9LAogICB7ICRpbmM6IHsgInNjb3JlIjogNSB9IH0KKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.updateMany(
   { &quot;score&quot;: { $exists: true } },
   { $inc: { &quot;score&quot;: 5 } }
)</pre></div><div class='content'></div><h2>Exercise 3: Remove a Field</h2>
<div class='content'><p>Remove the <code>address</code> field from all documents in the <code>users</code> collection.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMudXBkYXRlTWFueSgKICAge30sCiAgIHsgJHVuc2V0OiB7ICJhZGRyZXNzIjogIiIgfSB9Cik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.updateMany(
   {},
   { $unset: { &quot;address&quot;: &quot;&quot; } }
)</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Missing Filter</strong>: Always ensure you have a correct filter to avoid updating unintended documents.</li>
<li><strong>Operator Usage</strong>: Make sure to use the correct update operator for the desired operation.</li>
<li><strong>Atomicity</strong>: MongoDB update operations are atomic on a single document level, meaning the update will be applied fully or not at all.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of updating documents in MongoDB. We learned about different update operations, methods, and operators. We also practiced with practical examples and exercises. Understanding how to update documents is essential for maintaining and modifying data in your MongoDB collections. In the next section, we will explore data modeling in MongoDB.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-reading-documents' title="Reading Documents">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-deleting-documents' title="Deleting Documents">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
