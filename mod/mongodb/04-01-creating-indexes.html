<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Indexes</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/04-01-creating-indexes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/04-01-creating-indexes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/04-01-creating-indexes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/04-01-creating-indexes" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/04-01-creating-indexes" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-data-types' title="Data Types">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creating Indexes</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-types-of-indexes' title="Types of Indexes">Next &#x25BA;</a>
			</div>
</div>
<div class='index'><p>Indexes are a crucial part of optimizing query performance in MongoDB. They allow the database to quickly locate and access the data without having to scan every document in a collection. In this section, we will cover the basics of creating indexes, the different types of indexes available, and practical examples to help you understand how to use them effectively.</p>
</div><h2><p>What is an Index?</p>
</h2>
<div class='index'><p>An index is a data structure that improves the speed of data retrieval operations on a database table at the cost of additional writes and storage space. In MongoDB, indexes are created on collections and can be used to improve the performance of queries.</p>
</div><h2><p>Why Use Indexes?</p>
</h2>
<div class='index'><ul>
<li><strong>Improved Query Performance</strong>: Indexes can significantly speed up the execution of queries.</li>
<li><strong>Efficient Sorting</strong>: Indexes can be used to sort query results efficiently.</li>
<li><strong>Unique Constraints</strong>: Indexes can enforce unique constraints on the indexed fields.</li>
</ul>
</div><h2><p>Types of Indexes</p>
</h2>
<div class='index'><p>MongoDB supports several types of indexes, including:</p>
<ol>
<li><strong>Single Field Index</strong>: Indexes a single field of a document.</li>
<li><strong>Compound Index</strong>: Indexes multiple fields of a document.</li>
<li><strong>Multikey Index</strong>: Indexes array fields.</li>
<li><strong>Text Index</strong>: Supports text search queries.</li>
<li><strong>Geospatial Index</strong>: Supports queries for geospatial data.</li>
<li><strong>Hashed Index</strong>: Indexes the hash of the value of a field.</li>
</ol>
</div><h2><p>Creating Indexes</p>
</h2>
<div class='index'></div><h2><p>Single Field Index</p>
</h2>
<div class='index'><p>A single field index is the simplest type of index. It indexes a single field in a collection.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGFuIGluZGV4IG9uIHRoZSAibmFtZSIgZmllbGQgb2YgdGhlICJ1c2VycyIgY29sbGVjdGlvbgpkYi51c2Vycy5jcmVhdGVJbmRleCh7IG5hbWU6IDEgfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create an index on the &quot;name&quot; field of the &quot;users&quot; collection
db.users.createIndex({ name: 1 });</pre></div><div class='index'><ul>
<li><code>1</code> indicates ascending order.</li>
<li><code>-1</code> would indicate descending order.</li>
</ul>
</div><h2><p>Compound Index</p>
</h2>
<div class='index'><p>A compound index indexes multiple fields within a document. This can be useful for queries that filter on multiple fields.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGEgY29tcG91bmQgaW5kZXggb24gdGhlICJuYW1lIiBhbmQgImFnZSIgZmllbGRzIG9mIHRoZSAidXNlcnMiIGNvbGxlY3Rpb24KZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuYW1lOiAxLCBhZ2U6IC0xIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create a compound index on the &quot;name&quot; and &quot;age&quot; fields of the &quot;users&quot; collection
db.users.createIndex({ name: 1, age: -1 });</pre></div><div class='index'></div><h2><p>Multikey Index</p>
</h2>
<div class='index'><p>A multikey index is used to index array fields. MongoDB creates an index for each element in the array.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGEgbXVsdGlrZXkgaW5kZXggb24gdGhlICJ0YWdzIiBmaWVsZCBvZiB0aGUgInBvc3RzIiBjb2xsZWN0aW9uCmRiLnBvc3RzLmNyZWF0ZUluZGV4KHsgdGFnczogMSB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create a multikey index on the &quot;tags&quot; field of the &quot;posts&quot; collection
db.posts.createIndex({ tags: 1 });</pre></div><div class='index'></div><h2><p>Text Index</p>
</h2>
<div class='index'><p>A text index supports text search queries on string content.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGEgdGV4dCBpbmRleCBvbiB0aGUgImRlc2NyaXB0aW9uIiBmaWVsZCBvZiB0aGUgInByb2R1Y3RzIiBjb2xsZWN0aW9uCmRiLnByb2R1Y3RzLmNyZWF0ZUluZGV4KHsgZGVzY3JpcHRpb246ICJ0ZXh0IiB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create a text index on the &quot;description&quot; field of the &quot;products&quot; collection
db.products.createIndex({ description: &quot;text&quot; });</pre></div><div class='index'></div><h2><p>Geospatial Index</p>
</h2>
<div class='index'><p>A geospatial index supports queries for geospatial data, such as finding documents within a certain distance from a point.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGEgZ2Vvc3BhdGlhbCBpbmRleCBvbiB0aGUgImxvY2F0aW9uIiBmaWVsZCBvZiB0aGUgInBsYWNlcyIgY29sbGVjdGlvbgpkYi5wbGFjZXMuY3JlYXRlSW5kZXgoeyBsb2NhdGlvbjogIjJkc3BoZXJlIiB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create a geospatial index on the &quot;location&quot; field of the &quot;places&quot; collection
db.places.createIndex({ location: &quot;2dsphere&quot; });</pre></div><div class='index'></div><h2><p>Hashed Index</p>
</h2>
<div class='index'><p>A hashed index indexes the hash of the value of a field. This is useful for sharding.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGEgaGFzaGVkIGluZGV4IG9uIHRoZSAidXNlcl9pZCIgZmllbGQgb2YgdGhlICJzZXNzaW9ucyIgY29sbGVjdGlvbgpkYi5zZXNzaW9ucy5jcmVhdGVJbmRleCh7IHVzZXJfaWQ6ICJoYXNoZWQiIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create a hashed index on the &quot;user_id&quot; field of the &quot;sessions&quot; collection
db.sessions.createIndex({ user_id: &quot;hashed&quot; });</pre></div><div class='index'></div><h2><p>Practical Example</p>
</h2>
<div class='index'><p>Let's create a practical example to demonstrate the use of indexes. Suppose we have a collection of users, and we want to optimize queries that search for users by their name and age.</p>
</div><h2><p>Step 1: Insert Sample Data</p>
</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuaW5zZXJ0TWFueShbCiAgeyBuYW1lOiAiQWxpY2UiLCBhZ2U6IDI1LCBjaXR5OiAiTmV3IFlvcmsiIH0sCiAgeyBuYW1lOiAiQm9iIiwgYWdlOiAzMCwgY2l0eTogIlNhbiBGcmFuY2lzY28iIH0sCiAgeyBuYW1lOiAiQ2hhcmxpZSIsIGFnZTogMzUsIGNpdHk6ICJMb3MgQW5nZWxlcyIgfSwKICB7IG5hbWU6ICJEYXZpZCIsIGFnZTogNDAsIGNpdHk6ICJDaGljYWdvIiB9Cl0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.insertMany([
  { name: &quot;Alice&quot;, age: 25, city: &quot;New York&quot; },
  { name: &quot;Bob&quot;, age: 30, city: &quot;San Francisco&quot; },
  { name: &quot;Charlie&quot;, age: 35, city: &quot;Los Angeles&quot; },
  { name: &quot;David&quot;, age: 40, city: &quot;Chicago&quot; }
]);</pre></div><div class='index'></div><h2><p>Step 2: Create an Index</p>
</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRlIGEgY29tcG91bmQgaW5kZXggb24gdGhlICJuYW1lIiBhbmQgImFnZSIgZmllbGRzCmRiLnVzZXJzLmNyZWF0ZUluZGV4KHsgbmFtZTogMSwgYWdlOiAxIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Create a compound index on the &quot;name&quot; and &quot;age&quot; fields
db.users.createIndex({ name: 1, age: 1 });</pre></div><div class='index'></div><h2><p>Step 3: Query with Index</p>
</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUXVlcnkgdG8gZmluZCB1c2VycyBieSBuYW1lIGFuZCBhZ2UKZGIudXNlcnMuZmluZCh7IG5hbWU6ICJBbGljZSIsIGFnZTogMjUgfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Query to find users by name and age
db.users.find({ name: &quot;Alice&quot;, age: 25 });</pre></div><div class='index'><p>With the index in place, MongoDB can quickly locate the document without scanning the entire collection.</p>
</div><h2><p>Exercises</p>
</h2>
<div class='index'></div><h2><p>Exercise 1: Create a Single Field Index</p>
</h2>
<div class='index'><ol>
<li>Insert sample data into a collection named <code>products</code>.</li>
<li>Create a single field index on the <code>price</code> field.</li>
<li>Query the collection to find products with a specific price.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3RlcCAxOiBJbnNlcnQgc2FtcGxlIGRhdGEKZGIucHJvZHVjdHMuaW5zZXJ0TWFueShbCiAgeyBuYW1lOiAiTGFwdG9wIiwgcHJpY2U6IDEwMDAgfSwKICB7IG5hbWU6ICJQaG9uZSIsIHByaWNlOiA1MDAgfSwKICB7IG5hbWU6ICJUYWJsZXQiLCBwcmljZTogMzAwIH0KXSk7CgovLyBTdGVwIDI6IENyZWF0ZSBhIHNpbmdsZSBmaWVsZCBpbmRleCBvbiB0aGUgInByaWNlIiBmaWVsZApkYi5wcm9kdWN0cy5jcmVhdGVJbmRleCh7IHByaWNlOiAxIH0pOwoKLy8gU3RlcCAzOiBRdWVyeSB0byBmaW5kIHByb2R1Y3RzIHdpdGggYSBzcGVjaWZpYyBwcmljZQpkYi5wcm9kdWN0cy5maW5kKHsgcHJpY2U6IDUwMCB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Step 1: Insert sample data
db.products.insertMany([
  { name: &quot;Laptop&quot;, price: 1000 },
  { name: &quot;Phone&quot;, price: 500 },
  { name: &quot;Tablet&quot;, price: 300 }
]);

// Step 2: Create a single field index on the &quot;price&quot; field
db.products.createIndex({ price: 1 });

// Step 3: Query to find products with a specific price
db.products.find({ price: 500 });</pre></div><div class='index'></div><h2><p>Exercise 2: Create a Text Index</p>
</h2>
<div class='index'><ol>
<li>Insert sample data into a collection named <code>articles</code>.</li>
<li>Create a text index on the <code>content</code> field.</li>
<li>Perform a text search query to find articles containing a specific keyword.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3RlcCAxOiBJbnNlcnQgc2FtcGxlIGRhdGEKZGIuYXJ0aWNsZXMuaW5zZXJ0TWFueShbCiAgeyB0aXRsZTogIk1vbmdvREIgQmFzaWNzIiwgY29udGVudDogIkxlYXJuIHRoZSBiYXNpY3Mgb2YgTW9uZ29EQi4iIH0sCiAgeyB0aXRsZTogIkFkdmFuY2VkIE1vbmdvREIiLCBjb250ZW50OiAiRXhwbG9yZSBhZHZhbmNlZCBmZWF0dXJlcyBvZiBNb25nb0RCLiIgfSwKICB7IHRpdGxlOiAiTW9uZ29EQiBJbmRleGVzIiwgY29udGVudDogIlVuZGVyc3RhbmQgaG93IHRvIGNyZWF0ZSBhbmQgdXNlIGluZGV4ZXMgaW4gTW9uZ29EQi4iIH0KXSk7CgovLyBTdGVwIDI6IENyZWF0ZSBhIHRleHQgaW5kZXggb24gdGhlICJjb250ZW50IiBmaWVsZApkYi5hcnRpY2xlcy5jcmVhdGVJbmRleCh7IGNvbnRlbnQ6ICJ0ZXh0IiB9KTsKCi8vIFN0ZXAgMzogUGVyZm9ybSBhIHRleHQgc2VhcmNoIHF1ZXJ5CmRiLmFydGljbGVzLmZpbmQoeyAkdGV4dDogeyAkc2VhcmNoOiAiaW5kZXhlcyIgfSB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Step 1: Insert sample data
db.articles.insertMany([
  { title: &quot;MongoDB Basics&quot;, content: &quot;Learn the basics of MongoDB.&quot; },
  { title: &quot;Advanced MongoDB&quot;, content: &quot;Explore advanced features of MongoDB.&quot; },
  { title: &quot;MongoDB Indexes&quot;, content: &quot;Understand how to create and use indexes in MongoDB.&quot; }
]);

// Step 2: Create a text index on the &quot;content&quot; field
db.articles.createIndex({ content: &quot;text&quot; });

// Step 3: Perform a text search query
db.articles.find({ $text: { $search: &quot;indexes&quot; } });</pre></div><div class='index'></div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='index'><ul>
<li><strong>Over-indexing</strong>: Creating too many indexes can slow down write operations. Only create indexes that are necessary for your queries.</li>
<li><strong>Index Cardinality</strong>: Choose fields with high cardinality (many unique values) for indexing to improve query performance.</li>
<li><strong>Compound Index Order</strong>: The order of fields in a compound index matters. Place the most frequently queried fields first.</li>
</ul>
</div><h2><p>Conclusion</p>
</h2>
<div class='index'><p>In this section, we covered the basics of creating indexes in MongoDB, including different types of indexes and practical examples. Indexes are a powerful tool for optimizing query performance, but they should be used judiciously to balance read and write performance. In the next section, we will explore the different types of indexes in more detail.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-data-types' title="Data Types">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-types-of-indexes' title="Types of Indexes">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
