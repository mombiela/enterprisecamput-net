<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Replication</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/introduction-to-replication" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/introduction-to-replication" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/introduction-to-replication" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/introduction-to-replication" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/introduction-to-replication" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-and-profiling'>&#x25C4;Monitoring and Profiling</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Replication</a>
	</div>
	<div class='col-4 text-end'>
					<a href='setting-up-replica-sets'>Setting Up Replica Sets &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Replication in MongoDB is a key feature that ensures high availability and data redundancy. This topic will cover the basics of replication, its benefits, and how to set up replication in MongoDB.</p>
</div><h1>What is Replication?</h1>
<div class='content'><p>Replication is the process of synchronizing data across multiple servers. In MongoDB, replication is achieved through a replica set, which is a group of mongod instances that maintain the same data set.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Replica Set</strong>: A group of mongod instances that replicate data among each other.</li>
<li><strong>Primary Node</strong>: The node that receives all write operations.</li>
<li><strong>Secondary Nodes</strong>: Nodes that replicate the data from the primary node and can serve read operations.</li>
<li><strong>Arbiter</strong>: A node that participates in elections but does not hold data.</li>
</ul>
</div><h1>Benefits of Replication</h1>
<div class='content'><p>Replication provides several benefits:</p>
<ul>
<li><strong>High Availability</strong>: Ensures that data is available even if some nodes fail.</li>
<li><strong>Data Redundancy</strong>: Multiple copies of data are maintained to prevent data loss.</li>
<li><strong>Read Scalability</strong>: Secondary nodes can serve read operations, distributing the load.</li>
</ul>
</div><h1>Setting Up a Replica Set</h1>
<div class='content'><p>To set up a replica set in MongoDB, follow these steps:</p>
</div><h2>Step 1: Start MongoDB Instances</h2>
<div class='content'><p>Start multiple mongod instances on different ports or machines. For simplicity, we'll use three instances on the same machine with different ports.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdGFydCB0aGUgZmlyc3QgaW5zdGFuY2UKbW9uZ29kIC0tcG9ydCAyNzAxNyAtLWRicGF0aCAvZGF0YS9kYjEgLS1yZXBsU2V0IHJzMAoKIyBTdGFydCB0aGUgc2Vjb25kIGluc3RhbmNlCm1vbmdvZCAtLXBvcnQgMjcwMTggLS1kYnBhdGggL2RhdGEvZGIyIC0tcmVwbFNldCByczAKCiMgU3RhcnQgdGhlIHRoaXJkIGluc3RhbmNlCm1vbmdvZCAtLXBvcnQgMjcwMTkgLS1kYnBhdGggL2RhdGEvZGIzIC0tcmVwbFNldCByczA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Start the first instance
mongod --port 27017 --dbpath /data/db1 --replSet rs0

# Start the second instance
mongod --port 27018 --dbpath /data/db2 --replSet rs0

# Start the third instance
mongod --port 27019 --dbpath /data/db3 --replSet rs0</pre></div><div class='content'></div><h2>Step 2: Initialize the Replica Set</h2>
<div class='content'><p>Connect to one of the instances using the mongo shell and initialize the replica set.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29ubmVjdCB0byB0aGUgZmlyc3QgaW5zdGFuY2UKbW9uZ28gLS1wb3J0IDI3MDE3CgovLyBJbml0aWFsaXplIHRoZSByZXBsaWNhIHNldApycy5pbml0aWF0ZSh7CiAgX2lkOiAicnMwIiwKICBtZW1iZXJzOiBbCiAgICB7IF9pZDogMCwgaG9zdDogImxvY2FsaG9zdDoyNzAxNyIgfSwKICAgIHsgX2lkOiAxLCBob3N0OiAibG9jYWxob3N0OjI3MDE4IiB9LAogICAgeyBfaWQ6IDIsIGhvc3Q6ICJsb2NhbGhvc3Q6MjcwMTkiIH0KICBdCn0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Connect to the first instance
mongo --port 27017

// Initialize the replica set
rs.initiate({
  _id: &quot;rs0&quot;,
  members: [
    { _id: 0, host: &quot;localhost:27017&quot; },
    { _id: 1, host: &quot;localhost:27018&quot; },
    { _id: 2, host: &quot;localhost:27019&quot; }
  ]
})</pre></div><div class='content'></div><h2>Step 3: Verify the Replica Set</h2>
<div class='content'><p>Check the status of the replica set to ensure it is configured correctly.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cnMuc3RhdHVzKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>rs.status()</pre></div><div class='content'></div><h1>Example: Adding an Arbiter</h1>
<div class='content'><p>An arbiter can be added to the replica set to participate in elections without holding data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQWRkIGFuIGFyYml0ZXIgdG8gdGhlIHJlcGxpY2Egc2V0CnJzLmFkZEFyYigibG9jYWxob3N0OjI3MDIwIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Add an arbiter to the replica set
rs.addArb(&quot;localhost:27020&quot;)</pre></div><div class='content'></div><h2>Code Explanation</h2>
<div class='content'><ul>
<li><strong>rs.initiate()</strong>: Initializes the replica set with the specified configuration.</li>
<li><strong>rs.status()</strong>: Provides the current status of the replica set.</li>
<li><strong>rs.addArb()</strong>: Adds an arbiter to the replica set.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Replication is a fundamental feature in MongoDB that ensures high availability, data redundancy, and read scalability. By setting up a replica set, you can distribute data across multiple nodes, providing a robust and resilient database system. Understanding and implementing replication is crucial for maintaining a reliable MongoDB deployment.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-and-profiling'>&#x25C4;Monitoring and Profiling</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Replication</a>
	</div>
	<div class='col-4 text-end'>
					<a href='setting-up-replica-sets'>Setting Up Replica Sets &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
