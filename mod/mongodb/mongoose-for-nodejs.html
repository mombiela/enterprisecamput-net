<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mongoose for Node.js</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/mongoose-for-nodejs" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/mongoose-for-nodejs" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/mongoose-for-nodejs" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/mongoose-for-nodejs" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/mongoose-for-nodejs" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='mongodb-compass'>&#x25C4;MongoDB Compass</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mongoose for Node.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='pymongo-for-python'>PyMongo for Python &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Mongoose</h1>
<div class='content'><p>Mongoose is an Object Data Modeling (ODM) library for MongoDB and Node.js. It provides a straightforward, schema-based solution to model your application data. It includes built-in type casting, validation, query building, business logic hooks, and more.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>ODM (Object Data Modeling):</strong> Mongoose allows you to define schemas for your data, which can then be used to create models.</li>
<li><strong>Schema:</strong> A schema defines the structure of the documents within a collection.</li>
<li><strong>Model:</strong> A model is a compiled version of the schema, which provides an interface to interact with the database.</li>
</ul>
</div><h1>Setting Up Mongoose</h1>
<div class='content'><p>To get started with Mongoose, you need to install it via npm and connect it to your MongoDB database.</p>
</div><h2>Installation</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgbW9uZ29vc2U="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install mongoose</pre></div><div class='content'></div><h2>Connecting to MongoDB</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpOwoKbW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9teWRhdGFiYXNlJywgewogIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwKICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUKfSkKLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ01vbmdvREIgY29ubmVjdGVkJykpCi5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const mongoose = require('mongoose');

mongoose.connect('mongodb://localhost:27017/mydatabase', {
  useNewUrlParser: true,
  useUnifiedTopology: true
})
.then(() =&gt; console.log('MongoDB connected'))
.catch(err =&gt; console.log(err));</pre></div><div class='content'></div><h1>Defining Schemas and Models</h1>
<div class='content'><p>Schemas and models are the core of Mongoose. They define the structure and behavior of the data in your application.</p>
</div><h2>Creating a Schema</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpOwpjb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7Cgpjb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7CiAgbmFtZTogU3RyaW5nLAogIGFnZTogTnVtYmVyLAogIGVtYWlsOiBTdHJpbmcsCiAgY3JlYXRlZEF0OiB7CiAgICB0eXBlOiBEYXRlLAogICAgZGVmYXVsdDogRGF0ZS5ub3cKICB9Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const mongoose = require('mongoose');
const Schema = mongoose.Schema;

const userSchema = new Schema({
  name: String,
  age: Number,
  email: String,
  createdAt: {
    type: Date,
    default: Date.now
  }
});</pre></div><div class='content'></div><h2>Creating a Model</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const User = mongoose.model('User', userSchema);</pre></div><div class='content'></div><h1>CRUD Operations</h1>
<div class='content'><p>Mongoose makes it easy to perform CRUD (Create, Read, Update, Delete) operations.</p>
</div><h2>Create</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgbmV3VXNlciA9IG5ldyBVc2VyKHsKICBuYW1lOiAnSm9obiBEb2UnLAogIGFnZTogMzAsCiAgZW1haWw6ICdqb2huLmRvZUBleGFtcGxlLmNvbScKfSk7CgpuZXdVc2VyLnNhdmUoKQogIC50aGVuKHVzZXIgPT4gY29uc29sZS5sb2codXNlcikpCiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const newUser = new User({
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com'
});

newUser.save()
  .then(user =&gt; console.log(user))
  .catch(err =&gt; console.log(err));</pre></div><div class='content'></div><h2>Read</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VXNlci5maW5kKCkKICAudGhlbih1c2VycyA9PiBjb25zb2xlLmxvZyh1c2VycykpCiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>User.find()
  .then(users =&gt; console.log(users))
  .catch(err =&gt; console.log(err));</pre></div><div class='content'></div><h2>Update</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VXNlci5maW5kT25lQW5kVXBkYXRlKHsgbmFtZTogJ0pvaG4gRG9lJyB9LCB7IGFnZTogMzEgfSwgeyBuZXc6IHRydWUgfSkKICAudGhlbih1c2VyID0+IGNvbnNvbGUubG9nKHVzZXIpKQogIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>User.findOneAndUpdate({ name: 'John Doe' }, { age: 31 }, { new: true })
  .then(user =&gt; console.log(user))
  .catch(err =&gt; console.log(err));</pre></div><div class='content'></div><h2>Delete</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VXNlci5maW5kT25lQW5kRGVsZXRlKHsgbmFtZTogJ0pvaG4gRG9lJyB9KQogIC50aGVuKHVzZXIgPT4gY29uc29sZS5sb2codXNlcikpCiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>User.findOneAndDelete({ name: 'John Doe' })
  .then(user =&gt; console.log(user))
  .catch(err =&gt; console.log(err));</pre></div><div class='content'></div><h1>Advanced Features</h1>
<div class='content'><p>Mongoose offers several advanced features to enhance your application.</p>
</div><h2>Validation</h2>
<div class='content'><p>Mongoose provides built-in validators and the ability to create custom validation logic.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoewogIG5hbWU6IHsKICAgIHR5cGU6IFN0cmluZywKICAgIHJlcXVpcmVkOiB0cnVlCiAgfSwKICBhZ2U6IHsKICAgIHR5cGU6IE51bWJlciwKICAgIG1pbjogMCwKICAgIG1heDogMTIwCiAgfSwKICBlbWFpbDogewogICAgdHlwZTogU3RyaW5nLAogICAgbWF0Y2g6IC8uK1xALitcLi4rLwogIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const userSchema = new Schema({
  name: {
    type: String,
    required: true
  },
  age: {
    type: Number,
    min: 0,
    max: 120
  },
  email: {
    type: String,
    match: /.+\@.+\..+/
  }
});</pre></div><div class='content'></div><h2>Middleware (Hooks)</h2>
<div class='content'><p>Mongoose middleware (also known as hooks) are functions that run at specific stages of the lifecycle of a model.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7CiAgdGhpcy5jcmVhdGVkQXQgPSBEYXRlLm5vdygpOwogIG5leHQoKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>userSchema.pre('save', function(next) {
  this.createdAt = Date.now();
  next();
});</pre></div><div class='content'></div><h2>Population</h2>
<div class='content'><p>Population is the process of automatically replacing the specified paths in the document with document(s) from other collection(s).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcG9zdFNjaGVtYSA9IG5ldyBTY2hlbWEoewogIHRpdGxlOiBTdHJpbmcsCiAgYXV0aG9yOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicgfQp9KTsKCmNvbnN0IFBvc3QgPSBtb25nb29zZS5tb2RlbCgnUG9zdCcsIHBvc3RTY2hlbWEpOwoKUG9zdC5maW5kKCkKICAucG9wdWxhdGUoJ2F1dGhvcicpCiAgLnRoZW4ocG9zdHMgPT4gY29uc29sZS5sb2cocG9zdHMpKQogIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const postSchema = new Schema({
  title: String,
  author: { type: Schema.Types.ObjectId, ref: 'User' }
});

const Post = mongoose.model('Post', postSchema);

Post.find()
  .populate('author')
  .then(posts =&gt; console.log(posts))
  .catch(err =&gt; console.log(err));</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Mongoose is a powerful tool for working with MongoDB in Node.js. It simplifies the process of defining schemas, performing CRUD operations, and implementing advanced features like validation, middleware, and population. By mastering Mongoose, you can efficiently manage your application's data and ensure robust data handling and integrity.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='mongodb-compass'>&#x25C4;MongoDB Compass</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mongoose for Node.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='pymongo-for-python'>PyMongo for Python &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
