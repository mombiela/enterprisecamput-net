<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schema Design</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/03-01-schema-design" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/03-01-schema-design" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/03-01-schema-design" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/mongodb/03-01-schema-design" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/mongodb/03-01-schema-design" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-deleting-documents' title="Deleting Documents">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Schema Design</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-embedded-documents' title="Embedded Documents">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the fundamentals of schema design in MongoDB. Unlike traditional SQL databases, MongoDB is a NoSQL database that offers a flexible schema design, allowing for dynamic and hierarchical data structures. Understanding how to design an efficient schema is crucial for optimizing performance and ensuring data integrity.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Document Structure</strong>:</p>
<ul>
<li>MongoDB stores data in BSON (Binary JSON) format.</li>
<li>Each document is a set of key-value pairs, similar to JSON objects.</li>
<li>Documents can contain nested documents and arrays.</li>
</ul>
</li>
<li>
<p><strong>Collections</strong>:</p>
<ul>
<li>A collection is a group of MongoDB documents.</li>
<li>Collections are analogous to tables in SQL databases.</li>
<li>Collections do not enforce a schema, allowing for flexible document structures.</li>
</ul>
</li>
<li>
<p><strong>Schema Design Approaches</strong>:</p>
<ul>
<li><strong>Embedded Documents</strong>: Storing related data within a single document.</li>
<li><strong>References</strong>: Storing related data in separate documents and linking them using references.</li>
</ul>
</li>
</ol>
</div><h1><p>Embedded Documents</p>
</h1>
<div class='content'></div><h2><p>Advantages</p>
</h2>
<div class='content'><ul>
<li><strong>Atomic Operations</strong>: All related data is stored in a single document, making updates atomic.</li>
<li><strong>Read Performance</strong>: Fetching a single document is faster than performing multiple queries to fetch related data.</li>
</ul>
</div><h2><p>Disadvantages</p>
</h2>
<div class='content'><ul>
<li><strong>Document Size</strong>: MongoDB has a document size limit of 16MB. Large embedded documents can hit this limit.</li>
<li><strong>Data Duplication</strong>: Embedding can lead to data duplication if the same data is embedded in multiple documents.</li>
</ul>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJuYW1lIjogIkpvaG4gRG9lIiwKICAiYWRkcmVzcyI6IHsKICAgICJzdHJlZXQiOiAiMTIzIE1haW4gU3QiLAogICAgImNpdHkiOiAiQW55dG93biIsCiAgICAic3RhdGUiOiAiQ0EiLAogICAgInppcCI6ICIxMjM0NSIKICB9LAogICJvcmRlcnMiOiBbCiAgICB7CiAgICAgICJvcmRlcl9pZCI6IDEwMSwKICAgICAgInByb2R1Y3QiOiAiTGFwdG9wIiwKICAgICAgInF1YW50aXR5IjogMQogICAgfSwKICAgIHsKICAgICAgIm9yZGVyX2lkIjogMTAyLAogICAgICAicHJvZHVjdCI6ICJNb3VzZSIsCiAgICAgICJxdWFudGl0eSI6IDIKICAgIH0KICBdCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;address&quot;: {
    &quot;street&quot;: &quot;123 Main St&quot;,
    &quot;city&quot;: &quot;Anytown&quot;,
    &quot;state&quot;: &quot;CA&quot;,
    &quot;zip&quot;: &quot;12345&quot;
  },
  &quot;orders&quot;: [
    {
      &quot;order_id&quot;: 101,
      &quot;product&quot;: &quot;Laptop&quot;,
      &quot;quantity&quot;: 1
    },
    {
      &quot;order_id&quot;: 102,
      &quot;product&quot;: &quot;Mouse&quot;,
      &quot;quantity&quot;: 2
    }
  ]
}</pre></div><div class='content'><p>In this example, the <code>address</code> and <code>orders</code> are embedded within the user document.</p>
</div><h1><p>References</p>
</h1>
<div class='content'></div><h2><p>Advantages</p>
</h2>
<div class='content'><ul>
<li><strong>Normalized Data</strong>: Reduces data duplication by storing related data in separate documents.</li>
<li><strong>Flexibility</strong>: Easier to manage and update related data independently.</li>
</ul>
</div><h2><p>Disadvantages</p>
</h2>
<div class='content'><ul>
<li><strong>Join Operations</strong>: Requires multiple queries to fetch related data, which can impact read performance.</li>
<li><strong>Complexity</strong>: More complex to manage relationships between documents.</li>
</ul>
</div><h2><p>Example</p>
</h2>
<div class='content'><p><strong>User Document</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJuYW1lIjogIkpvaG4gRG9lIiwKICAiYWRkcmVzc19pZCI6IDEwMDEKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;address_id&quot;: 1001
}</pre></div><div class='content'><p><strong>Address Document</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxMDAxLAogICJzdHJlZXQiOiAiMTIzIE1haW4gU3QiLAogICJjaXR5IjogIkFueXRvd24iLAogICJzdGF0ZSI6ICJDQSIsCiAgInppcCI6ICIxMjM0NSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1001,
  &quot;street&quot;: &quot;123 Main St&quot;,
  &quot;city&quot;: &quot;Anytown&quot;,
  &quot;state&quot;: &quot;CA&quot;,
  &quot;zip&quot;: &quot;12345&quot;
}</pre></div><div class='content'><p>In this example, the <code>address_id</code> in the user document references the <code>_id</code> of the address document.</p>
</div><h1><p>Data Types</p>
</h1>
<div class='content'><p>MongoDB supports various data types, including:</p>
<ul>
<li><strong>String</strong>: Text data.</li>
<li><strong>Number</strong>: Integer, floating-point, and decimal numbers.</li>
<li><strong>Boolean</strong>: True or false values.</li>
<li><strong>Date</strong>: Date and time values.</li>
<li><strong>Array</strong>: Lists of values.</li>
<li><strong>Object</strong>: Nested documents.</li>
<li><strong>Binary Data</strong>: Binary data such as images or files.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><p>Design a schema for a blog application where each blog post contains the following information:</p>
<ul>
<li>Title</li>
<li>Content</li>
<li>Author (name and email)</li>
<li>Comments (each comment has a user name, comment text, and timestamp)</li>
</ul>
</div><h2><p>Solution</p>
</h2>
<div class='content'><p><strong>Blog Post Document</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJ0aXRsZSI6ICJJbnRyb2R1Y3Rpb24gdG8gTW9uZ29EQiIsCiAgImNvbnRlbnQiOiAiTW9uZ29EQiBpcyBhIE5vU1FMIGRhdGFiYXNlLi4uIiwKICAiYXV0aG9yIjogewogICAgIm5hbWUiOiAiSmFuZSBTbWl0aCIsCiAgICAiZW1haWwiOiAiamFuZS5zbWl0aEBleGFtcGxlLmNvbSIKICB9LAogICJjb21tZW50cyI6IFsKICAgIHsKICAgICAgInVzZXIiOiAiSm9obiBEb2UiLAogICAgICAiY29tbWVudCI6ICJHcmVhdCBwb3N0ISIsCiAgICAgICJ0aW1lc3RhbXAiOiAiMjAyMy0xMC0wMVQxMjozNDo1NloiCiAgICB9LAogICAgewogICAgICAidXNlciI6ICJBbGljZSBKb2huc29uIiwKICAgICAgImNvbW1lbnQiOiAiVmVyeSBpbmZvcm1hdGl2ZS4iLAogICAgICAidGltZXN0YW1wIjogIjIwMjMtMTAtMDJUMDg6MjI6NDVaIgogICAgfQogIF0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;title&quot;: &quot;Introduction to MongoDB&quot;,
  &quot;content&quot;: &quot;MongoDB is a NoSQL database...&quot;,
  &quot;author&quot;: {
    &quot;name&quot;: &quot;Jane Smith&quot;,
    &quot;email&quot;: &quot;jane.smith@example.com&quot;
  },
  &quot;comments&quot;: [
    {
      &quot;user&quot;: &quot;John Doe&quot;,
      &quot;comment&quot;: &quot;Great post!&quot;,
      &quot;timestamp&quot;: &quot;2023-10-01T12:34:56Z&quot;
    },
    {
      &quot;user&quot;: &quot;Alice Johnson&quot;,
      &quot;comment&quot;: &quot;Very informative.&quot;,
      &quot;timestamp&quot;: &quot;2023-10-02T08:22:45Z&quot;
    }
  ]
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The <code>author</code> and <code>comments</code> are embedded within the blog post document.</li>
<li>This design ensures that all related data for a blog post is stored in a single document, optimizing read performance.</li>
</ul>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered the basics of schema design in MongoDB, including the use of embedded documents and references. We also discussed the advantages and disadvantages of each approach and provided practical examples. Understanding these concepts is essential for designing efficient and scalable MongoDB schemas. In the next section, we will delve into embedded documents in more detail.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-deleting-documents' title="Deleting Documents">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-embedded-documents' title="Embedded Documents">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
