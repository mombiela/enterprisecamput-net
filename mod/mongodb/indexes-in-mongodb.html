<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indexes in MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/indexes-in-mongodb" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/indexes-in-mongodb" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/indexes-in-mongodb" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/indexes-in-mongodb" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/indexes-in-mongodb" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='bulk-write-operations'>&#x25C4;Bulk Write Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Indexes in MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='schema-design-best-practices'>Schema Design Best Practices &#x25BA;</a>
			</div>
</div>
<div class='index'></div><h2>Introduction to Indexes</h2>
<div class='index'><p>Indexes are special data structures that store a small portion of the collection's data set in an easy-to-traverse form. They are used to improve the speed of data retrieval operations on a database at the cost of additional space and write operations.</p>
</div><h2>Key Concepts</h2>
<div class='index'><ul>
<li><strong>Index</strong>: A data structure that improves the speed of data retrieval.</li>
<li><strong>Default Index</strong>: MongoDB automatically creates an index on the <code>_id</code> field.</li>
<li><strong>Compound Index</strong>: An index on multiple fields.</li>
<li><strong>Unique Index</strong>: Ensures that the indexed fields do not store duplicate values.</li>
<li><strong>Sparse Index</strong>: Only indexes documents that contain the indexed field.</li>
<li><strong>TTL Index</strong>: Automatically removes documents after a certain period.</li>
</ul>
</div><h2>Creating Indexes</h2>
<div class='index'><p>Creating indexes in MongoDB can be done using the <code>createIndex</code> method.</p>
</div><h2>Single Field Index</h2>
<div class='index'><p>A single field index is created on one field of the document.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 })</pre></div><div class='index'><ul>
<li><code>1</code> specifies ascending order.</li>
<li><code>-1</code> specifies descending order.</li>
</ul>
<p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuYW1lOiAxIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ name: 1 })</pre></div><div class='index'><p>This creates an ascending index on the <code>name</code> field in the <code>users</code> collection.</p>
</div><h2>Compound Index</h2>
<div class='index'><p>A compound index is created on multiple fields.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkMTogMSwgZmllbGQyOiAtMSB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field1: 1, field2: -1 })</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuYW1lOiAxLCBhZ2U6IC0xIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ name: 1, age: -1 })</pre></div><div class='index'><p>This creates an index on the <code>name</code> field in ascending order and the <code>age</code> field in descending order.</p>
</div><h2>Unique Index</h2>
<div class='index'><p>A unique index ensures that the indexed fields do not store duplicate values.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 }, { unique: true })</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBlbWFpbDogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ email: 1 }, { unique: true })</pre></div><div class='index'><p>This creates a unique index on the <code>email</code> field in the <code>users</code> collection.</p>
</div><h2>Sparse Index</h2>
<div class='index'><p>A sparse index only indexes documents that contain the indexed field.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0sIHsgc3BhcnNlOiB0cnVlIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 }, { sparse: true })</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuaWNrbmFtZTogMSB9LCB7IHNwYXJzZTogdHJ1ZSB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ nickname: 1 }, { sparse: true })</pre></div><div class='index'><p>This creates a sparse index on the <code>nickname</code> field in the <code>users</code> collection.</p>
</div><h2>TTL Index</h2>
<div class='index'><p>A TTL (Time-To-Live) index automatically removes documents after a certain period.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0sIHsgZXhwaXJlQWZ0ZXJTZWNvbmRzOiBzZWNvbmRzIH0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 }, { expireAfterSeconds: seconds })</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuc2Vzc2lvbnMuY3JlYXRlSW5kZXgoeyBjcmVhdGVkQXQ6IDEgfSwgeyBleHBpcmVBZnRlclNlY29uZHM6IDM2MDAgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.sessions.createIndex({ createdAt: 1 }, { expireAfterSeconds: 3600 })</pre></div><div class='index'><p>This creates a TTL index on the <code>createdAt</code> field in the <code>sessions</code> collection, removing documents 1 hour (3600 seconds) after their creation.</p>
</div><h2>Managing Indexes</h2>
<div class='index'><p>You can view, drop, and analyze indexes using various MongoDB commands.</p>
</div><h2>Viewing Indexes</h2>
<div class='index'><p>To list all indexes on a collection:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5nZXRJbmRleGVzKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.getIndexes()</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZ2V0SW5kZXhlcygp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.getIndexes()</pre></div><div class='index'><p>This lists all indexes on the <code>users</code> collection.</p>
</div><h2>Dropping Indexes</h2>
<div class='index'><p>To drop a specific index:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXgoImluZGV4TmFtZSIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndex(&quot;indexName&quot;)</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4KCJuYW1lXzEiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndex(&quot;name_1&quot;)</pre></div><div class='index'><p>This drops the index named <code>name_1</code> on the <code>users</code> collection.</p>
<p>To drop all indexes on a collection:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXhlcygp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndexes()</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4ZXMoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndexes()</pre></div><div class='index'><p>This drops all indexes on the <code>users</code> collection.</p>
</div><h2>Analyzing Indexes</h2>
<div class='index'><p>To get statistics about index usage:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5zdGF0cygp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.stats()</pre></div><div class='index'><p><strong>Example:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuc3RhdHMoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.stats()</pre></div><div class='index'><p>This provides statistics about the <code>users</code> collection, including index usage.</p>
</div><h2>Conclusion</h2>
<div class='index'><p>Indexes are a powerful tool in MongoDB that can significantly improve query performance. Understanding how to create and manage different types of indexes, such as single field, compound, unique, sparse, and TTL indexes, is crucial for optimizing your database operations. Always consider the trade-offs between read performance and write performance, as well as the additional storage requirements when using indexes.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='bulk-write-operations'>&#x25C4;Bulk Write Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Indexes in MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='schema-design-best-practices'>Schema Design Best Practices &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
