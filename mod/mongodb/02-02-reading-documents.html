<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Documents</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/02-02-reading-documents" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/02-02-reading-documents" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/02-02-reading-documents" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/mongodb/02-02-reading-documents" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/mongodb/02-02-reading-documents" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-01-creating-documents' title="Creating Documents">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Reading Documents</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-03-updating-documents' title="Updating Documents">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover how to read documents from a MongoDB collection. Reading documents is a fundamental operation in MongoDB, allowing you to retrieve and display data stored in your database.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Find Operation</strong>: The primary method to read documents.</li>
<li><strong>Query Filters</strong>: Criteria to select specific documents.</li>
<li><strong>Projection</strong>: Selecting specific fields to return.</li>
<li><strong>Cursor</strong>: Handling large sets of data.</li>
<li><strong>Sorting</strong>: Ordering the results.</li>
<li><strong>Limiting and Skipping</strong>: Controlling the number of documents returned.</li>
</ol>
</div><h1><ol>
<li>Find Operation</li>
</ol>
</h1>
<div class='content'><p>The <code>find</code> method is used to retrieve documents from a collection. By default, it returns all documents in the collection.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29ubmVjdCB0byB0aGUgTW9uZ29EQiBjbGllbnQKY29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwpjb25zdCB1cmkgPSAieW91cl9tb25nb2RiX2Nvbm5lY3Rpb25fc3RyaW5nIjsKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7Cgphc3luYyBmdW5jdGlvbiBydW4oKSB7CiAgICB0cnkgewogICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7CiAgICAgICAgY29uc3QgZGF0YWJhc2UgPSBjbGllbnQuZGIoJ3NhbXBsZV9kYXRhYmFzZScpOwogICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5jb2xsZWN0aW9uKCdzYW1wbGVfY29sbGVjdGlvbicpOwoKICAgICAgICAvLyBGaW5kIGFsbCBkb2N1bWVudHMKICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KCk7CiAgICAgICAgY29uc29sZS5sb2coZG9jdW1lbnRzKTsKICAgIH0gZmluYWxseSB7CiAgICAgICAgYXdhaXQgY2xpZW50LmNsb3NlKCk7CiAgICB9Cn0KCnJ1bigpLmNhdGNoKGNvbnNvbGUuZGlyKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Connect to the MongoDB client
const { MongoClient } = require('mongodb');
const uri = &quot;your_mongodb_connection_string&quot;;
const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        const database = client.db('sample_database');
        const collection = database.collection('sample_collection');

        // Find all documents
        const documents = await collection.find().toArray();
        console.log(documents);
    } finally {
        await client.close();
    }
}

run().catch(console.dir);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>MongoClient</strong>: Connects to the MongoDB server.</li>
<li><strong>database</strong>: Selects the database.</li>
<li><strong>collection</strong>: Selects the collection.</li>
<li><strong>find()</strong>: Retrieves all documents.</li>
<li><strong>toArray()</strong>: Converts the cursor to an array.</li>
</ul>
</div><h1><ol start="2">
<li>Query Filters</li>
</ol>
</h1>
<div class='content'><p>You can specify criteria to filter the documents returned by the <code>find</code> method.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmluZCBkb2N1bWVudHMgd2l0aCBhIHNwZWNpZmljIGZpZWxkIHZhbHVlCmNvbnN0IHF1ZXJ5ID0geyBhZ2U6IHsgJGd0OiAyNSB9IH07IC8vIEZpbmQgZG9jdW1lbnRzIHdoZXJlIGFnZSBpcyBncmVhdGVyIHRoYW4gMjUKY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHF1ZXJ5KS50b0FycmF5KCk7CmNvbnNvbGUubG9nKGRvY3VtZW50cyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Find documents with a specific field value
const query = { age: { $gt: 25 } }; // Find documents where age is greater than 25
const documents = await collection.find(query).toArray();
console.log(documents);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>query</strong>: Defines the filter criteria.</li>
<li><strong>$gt</strong>: A query operator that stands for &quot;greater than&quot;.</li>
</ul>
</div><h1><ol start="3">
<li>Projection</li>
</ol>
</h1>
<div class='content'><p>Projection allows you to specify which fields to include or exclude in the returned documents.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmluZCBkb2N1bWVudHMgYW5kIHByb2plY3Qgc3BlY2lmaWMgZmllbGRzCmNvbnN0IHF1ZXJ5ID0geyBhZ2U6IHsgJGd0OiAyNSB9IH07CmNvbnN0IG9wdGlvbnMgPSB7CiAgICBwcm9qZWN0aW9uOiB7IF9pZDogMCwgbmFtZTogMSwgYWdlOiAxIH0gLy8gSW5jbHVkZSAnbmFtZScgYW5kICdhZ2UnLCBleGNsdWRlICdfaWQnCn07CmNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZChxdWVyeSwgb3B0aW9ucykudG9BcnJheSgpOwpjb25zb2xlLmxvZyhkb2N1bWVudHMpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Find documents and project specific fields
const query = { age: { $gt: 25 } };
const options = {
    projection: { _id: 0, name: 1, age: 1 } // Include 'name' and 'age', exclude '_id'
};
const documents = await collection.find(query, options).toArray();
console.log(documents);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>options</strong>: Contains the projection settings.</li>
<li><strong>projection</strong>: Specifies fields to include (1) or exclude (0).</li>
</ul>
</div><h1><ol start="4">
<li>Cursor</li>
</ol>
</h1>
<div class='content'><p>A cursor is an object that allows you to iterate over the results of a query.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVXNpbmcgYSBjdXJzb3IgdG8gaXRlcmF0ZSBvdmVyIGRvY3VtZW50cwpjb25zdCBjdXJzb3IgPSBjb2xsZWN0aW9uLmZpbmQocXVlcnkpOwphd2FpdCBjdXJzb3IuZm9yRWFjaChkb2MgPT4gY29uc29sZS5sb2coZG9jKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Using a cursor to iterate over documents
const cursor = collection.find(query);
await cursor.forEach(doc =&gt; console.log(doc));</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>cursor</strong>: Represents the result set of a query.</li>
<li><strong>forEach</strong>: Iterates over each document in the cursor.</li>
</ul>
</div><h1><ol start="5">
<li>Sorting</li>
</ol>
</h1>
<div class='content'><p>You can sort the results of a query using the <code>sort</code> method.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU29ydCBkb2N1bWVudHMgYnkgYWdlIGluIGRlc2NlbmRpbmcgb3JkZXIKY29uc3QgcXVlcnkgPSB7IGFnZTogeyAkZ3Q6IDI1IH0gfTsKY29uc3Qgb3B0aW9ucyA9IHsKICAgIHNvcnQ6IHsgYWdlOiAtMSB9IC8vIC0xIGZvciBkZXNjZW5kaW5nLCAxIGZvciBhc2NlbmRpbmcKfTsKY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHF1ZXJ5LCBvcHRpb25zKS50b0FycmF5KCk7CmNvbnNvbGUubG9nKGRvY3VtZW50cyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Sort documents by age in descending order
const query = { age: { $gt: 25 } };
const options = {
    sort: { age: -1 } // -1 for descending, 1 for ascending
};
const documents = await collection.find(query, options).toArray();
console.log(documents);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>sort</strong>: Specifies the sort order for the results.</li>
</ul>
</div><h1><ol start="6">
<li>Limiting and Skipping</li>
</ol>
</h1>
<div class='content'><p>You can limit the number of documents returned and skip a certain number of documents.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTGltaXQgYW5kIHNraXAgZG9jdW1lbnRzCmNvbnN0IHF1ZXJ5ID0geyBhZ2U6IHsgJGd0OiAyNSB9IH07CmNvbnN0IG9wdGlvbnMgPSB7CiAgICBsaW1pdDogNSwgLy8gTGltaXQgdG8gNSBkb2N1bWVudHMKICAgIHNraXA6IDIgICAvLyBTa2lwIHRoZSBmaXJzdCAyIGRvY3VtZW50cwp9Owpjb25zdCBkb2N1bWVudHMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQocXVlcnksIG9wdGlvbnMpLnRvQXJyYXkoKTsKY29uc29sZS5sb2coZG9jdW1lbnRzKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Limit and skip documents
const query = { age: { $gt: 25 } };
const options = {
    limit: 5, // Limit to 5 documents
    skip: 2   // Skip the first 2 documents
};
const documents = await collection.find(query, options).toArray();
console.log(documents);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>limit</strong>: Restricts the number of documents returned.</li>
<li><strong>skip</strong>: Skips a specified number of documents.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><p>Write a script to find all documents in a collection where the <code>status</code> field is <code>&quot;active&quot;</code>, sort them by <code>createdAt</code> in ascending order, and project only the <code>name</code> and <code>status</code> fields.</p>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwpjb25zdCB1cmkgPSAieW91cl9tb25nb2RiX2Nvbm5lY3Rpb25fc3RyaW5nIjsKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7Cgphc3luYyBmdW5jdGlvbiBydW4oKSB7CiAgICB0cnkgewogICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7CiAgICAgICAgY29uc3QgZGF0YWJhc2UgPSBjbGllbnQuZGIoJ3NhbXBsZV9kYXRhYmFzZScpOwogICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5jb2xsZWN0aW9uKCdzYW1wbGVfY29sbGVjdGlvbicpOwoKICAgICAgICBjb25zdCBxdWVyeSA9IHsgc3RhdHVzOiAiYWN0aXZlIiB9OwogICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgICAgIHNvcnQ6IHsgY3JlYXRlZEF0OiAxIH0sCiAgICAgICAgICAgIHByb2plY3Rpb246IHsgX2lkOiAwLCBuYW1lOiAxLCBzdGF0dXM6IDEgfQogICAgICAgIH07CgogICAgICAgIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZChxdWVyeSwgb3B0aW9ucykudG9BcnJheSgpOwogICAgICAgIGNvbnNvbGUubG9nKGRvY3VtZW50cyk7CiAgICB9IGZpbmFsbHkgewogICAgICAgIGF3YWl0IGNsaWVudC5jbG9zZSgpOwogICAgfQp9CgpydW4oKS5jYXRjaChjb25zb2xlLmRpcik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient } = require('mongodb');
const uri = &quot;your_mongodb_connection_string&quot;;
const client = new MongoClient(uri);

async function run() {
    try {
        await client.connect();
        const database = client.db('sample_database');
        const collection = database.collection('sample_collection');

        const query = { status: &quot;active&quot; };
        const options = {
            sort: { createdAt: 1 },
            projection: { _id: 0, name: 1, status: 1 }
        };

        const documents = await collection.find(query, options).toArray();
        console.log(documents);
    } finally {
        await client.close();
    }
}

run().catch(console.dir);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>query</strong>: Filters documents where <code>status</code> is <code>&quot;active&quot;</code>.</li>
<li><strong>sort</strong>: Sorts by <code>createdAt</code> in ascending order.</li>
<li><strong>projection</strong>: Includes <code>name</code> and <code>status</code> fields, excludes <code>_id</code>.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Forgetting to close the client</strong>: Always ensure the MongoDB client is closed after operations to avoid memory leaks.</li>
<li><strong>Incorrect query syntax</strong>: Ensure the query object is correctly formatted.</li>
<li><strong>Projection errors</strong>: Remember that you cannot mix inclusion and exclusion in projections (except for <code>_id</code>).</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned how to read documents from a MongoDB collection using various techniques such as filtering, projection, sorting, and pagination. These skills are essential for efficiently retrieving and displaying data from your MongoDB database. In the next section, we will cover how to update documents in MongoDB.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-01-creating-documents' title="Creating Documents">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-03-updating-documents' title="Updating Documents">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
