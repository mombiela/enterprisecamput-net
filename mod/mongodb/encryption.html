<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encryption in MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/encryption" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/encryption" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/encryption" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mongodb/encryption" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/encryption" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='role-based-access-control'>&#x25C4;Role-Based Access Control (RBAC)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Encryption in MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='backup-and-restore'>Backup and Restore &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Encryption</h1>
<div class='content'><p>Encryption is a crucial aspect of securing data in any database system. In MongoDB, encryption ensures that data is protected both at rest and in transit. This section will cover the basics of encryption, its importance, and how MongoDB implements it.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Encryption</strong>: The process of converting plaintext data into a coded form to prevent unauthorized access.</li>
<li><strong>Decryption</strong>: The process of converting encrypted data back into its original form.</li>
<li><strong>Encryption at Rest</strong>: Protects data stored on disk.</li>
<li><strong>Encryption in Transit</strong>: Protects data as it moves between the client and the server.</li>
</ul>
</div><h1>Encryption at Rest</h1>
<div class='content'><p>Encryption at rest in MongoDB ensures that data stored on disk is encrypted, making it unreadable without the proper decryption key.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Storage Encryption</strong>: Encrypts data files on disk.</li>
<li><strong>Key Management</strong>: Manages encryption keys securely.</li>
</ul>
</div><h2>Implementation</h2>
<div class='content'><p>MongoDB provides encryption at rest through the WiredTiger storage engine. Here's how to enable it:</p>
<ol>
<li><strong>Enable Encryption</strong>: Modify the <code>mongod</code> configuration file to enable encryption.</li>
<li><strong>Specify a Key File</strong>: Provide a key file for encryption.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZgpzZWN1cml0eToKICBlbmFibGVFbmNyeXB0aW9uOiB0cnVlCiAgZW5jcnlwdGlvbktleUZpbGU6IC9wYXRoL3RvL2tleWZpbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile</pre></div><div class='content'><ol start="3">
<li><strong>Start MongoDB</strong>: Restart the MongoDB server to apply the changes.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9uZ29kIC0tY29uZmlnIC9wYXRoL3RvL21vbmdvZC5jb25m"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mongod --config /path/to/mongod.conf</pre></div><div class='content'></div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG1vbmdvZC5jb25mIHdpdGggZW5jcnlwdGlvbgpzdG9yYWdlOgogIGRiUGF0aDogL3Zhci9saWIvbW9uZ29kYgogIGpvdXJuYWw6CiAgICBlbmFibGVkOiB0cnVlCnNlY3VyaXR5OgogIGVuYWJsZUVuY3J5cHRpb246IHRydWUKICBlbmNyeXB0aW9uS2V5RmlsZTogL2V0Yy9tb25nb2RiLWtleWZpbGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example mongod.conf with encryption
storage:
  dbPath: /var/lib/mongodb
  journal:
    enabled: true
security:
  enableEncryption: true
  encryptionKeyFile: /etc/mongodb-keyfile</pre></div><div class='content'></div><h1>Encryption in Transit</h1>
<div class='content'><p>Encryption in transit ensures that data is encrypted as it travels between the client and the MongoDB server, preventing eavesdropping and man-in-the-middle attacks.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>TLS/SSL</strong>: Protocols used to encrypt data in transit.</li>
<li><strong>Certificates</strong>: Digital certificates used to establish a secure connection.</li>
</ul>
</div><h2>Implementation</h2>
<div class='content'><p>To enable encryption in transit, you need to configure MongoDB to use TLS/SSL.</p>
<ol>
<li><strong>Generate Certificates</strong>: Create a certificate authority (CA) and server certificates.</li>
<li><strong>Configure MongoDB</strong>: Update the <code>mongod</code> configuration file to use the certificates.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZgpuZXQ6CiAgc3NsOgogICAgbW9kZTogcmVxdWlyZVNTTAogICAgUEVNS2V5RmlsZTogL3BhdGgvdG8vc2VydmVyLnBlbQogICAgQ0FGaWxlOiAvcGF0aC90by9jYS5wZW0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf
net:
  ssl:
    mode: requireSSL
    PEMKeyFile: /path/to/server.pem
    CAFile: /path/to/ca.pem</pre></div><div class='content'><ol start="3">
<li><strong>Start MongoDB</strong>: Restart the MongoDB server with the updated configuration.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9uZ29kIC0tY29uZmlnIC9wYXRoL3RvL21vbmdvZC5jb25m"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mongod --config /path/to/mongod.conf</pre></div><div class='content'></div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG1vbmdvZC5jb25mIHdpdGggVExTL1NTTApuZXQ6CiAgcG9ydDogMjcwMTcKICBzc2w6CiAgICBtb2RlOiByZXF1aXJlU1NMCiAgICBQRU1LZXlGaWxlOiAvZXRjL3NzbC9tb25nb2RiLnBlbQogICAgQ0FGaWxlOiAvZXRjL3NzbC9jYS5wZW0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example mongod.conf with TLS/SSL
net:
  port: 27017
  ssl:
    mode: requireSSL
    PEMKeyFile: /etc/ssl/mongodb.pem
    CAFile: /etc/ssl/ca.pem</pre></div><div class='content'></div><h1>Advanced Encryption Techniques</h1>
<div class='content'><p>For advanced users, MongoDB offers additional features and configurations to enhance encryption.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Client-Side Field Level Encryption</strong>: Encrypts specific fields within documents before sending them to the server.</li>
<li><strong>External Key Management</strong>: Integrates with external key management systems (KMS) for enhanced security.</li>
</ul>
</div><h2>Implementation</h2>
<div class='content'><ol>
<li><strong>Client-Side Field Level Encryption</strong>: Use MongoDB drivers that support field-level encryption.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCwgQ2xpZW50RW5jcnlwdGlvbiB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwoKLy8gQ3JlYXRlIGEgTW9uZ29DbGllbnQgd2l0aCBlbmNyeXB0aW9uIG9wdGlvbnMKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KCdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3JywgewogIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwKICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsCiAgYXV0b0VuY3J5cHRpb246IHsKICAgIGtleVZhdWx0TmFtZXNwYWNlOiAnZW5jcnlwdGlvbi5fX2tleVZhdWx0JywKICAgIGttc1Byb3ZpZGVyczogewogICAgICBsb2NhbDogewogICAgICAgIGtleTogQnVmZmVyLmZyb20oJ01PTkdPQ1JZUFRfS0VZJywgJ2Jhc2U2NCcpCiAgICAgIH0KICAgIH0KICB9Cn0pOwoKLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2UKY2xpZW50LmNvbm5lY3QoKS50aGVuKCgpID0+IHsKICBjb25zdCBkYiA9IGNsaWVudC5kYigndGVzdCcpOwogIGNvbnN0IGNvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdlbmNyeXB0ZWREYXRhJyk7CgogIC8vIEluc2VydCBhbiBlbmNyeXB0ZWQgZG9jdW1lbnQKICBjb2xsZWN0aW9uLmluc2VydE9uZSh7CiAgICBuYW1lOiAnSm9obiBEb2UnLAogICAgc3NuOiAnMTIzLTQ1LTY3ODknCiAgfSk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient, ClientEncryption } = require('mongodb');

// Create a MongoClient with encryption options
const client = new MongoClient('mongodb://localhost:27017', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
  autoEncryption: {
    keyVaultNamespace: 'encryption.__keyVault',
    kmsProviders: {
      local: {
        key: Buffer.from('MONGOCRYPT_KEY', 'base64')
      }
    }
  }
});

// Connect to the database
client.connect().then(() =&gt; {
  const db = client.db('test');
  const collection = db.collection('encryptedData');

  // Insert an encrypted document
  collection.insertOne({
    name: 'John Doe',
    ssn: '123-45-6789'
  });
});</pre></div><div class='content'><ol start="2">
<li><strong>External Key Management</strong>: Configure MongoDB to use an external KMS, such as AWS KMS or Azure Key Vault.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZiB3aXRoIGV4dGVybmFsIEtNUwpzZWN1cml0eToKICBlbmFibGVFbmNyeXB0aW9uOiB0cnVlCiAgZW5jcnlwdGlvbktleUZpbGU6IC9wYXRoL3RvL2tleWZpbGUKICBrbWlwOgogICAgc2VydmVyTmFtZToga21pcC1zZXJ2ZXIuZXhhbXBsZS5jb20KICAgIHBvcnQ6IDU2OTY="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf with external KMS
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile
  kmip:
    serverName: kmip-server.example.com
    port: 5696</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Encryption is a vital part of securing your MongoDB data. By understanding and implementing encryption at rest and in transit, you can protect your data from unauthorized access. For advanced security, consider using client-side field-level encryption and integrating with external key management systems. Always ensure your encryption keys are managed securely and follow best practices for database security.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='role-based-access-control'>&#x25C4;Role-Based Access Control (RBAC)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Encryption in MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='backup-and-restore'>Backup and Restore &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
