<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB with Python</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/07-02-mongodb-with-python" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/07-02-mongodb-with-python" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/07-02-mongodb-with-python" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/mongodb/07-02-mongodb-with-python" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/mongodb/07-02-mongodb-with-python" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-mongodb-with-javascript' title="MongoDB with JavaScript (Node.js)">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">MongoDB with Python</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-mongodb-with-java' title="MongoDB with Java">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use MongoDB with Python. Python is a versatile and widely-used programming language, and integrating it with MongoDB allows developers to build powerful and scalable applications. We will cover the following topics:</p>
<ol>
<li><strong>Setting Up the Environment</strong></li>
<li><strong>Connecting to MongoDB</strong></li>
<li><strong>CRUD Operations with PyMongo</strong></li>
<li><strong>Using MongoEngine for Object-Document Mapping (ODM)</strong></li>
<li><strong>Practical Exercises</strong></li>
</ol>
</div><h1><ol>
<li>Setting Up the Environment</li>
</ol>
</h1>
<div class='content'><p>Before we start working with MongoDB in Python, we need to set up our environment.</p>
</div><h2><p>Installing MongoDB</p>
</h2>
<div class='content'><p>If you haven't installed MongoDB yet, refer to the &quot;Installing MongoDB&quot; section in Module 1.</p>
</div><h2><p>Installing PyMongo</p>
</h2>
<div class='content'><p>PyMongo is the official MongoDB driver for Python. You can install it using pip:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgcHltb25nbw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install pymongo</pre></div><div class='content'></div><h2><p>Installing MongoEngine (Optional)</p>
</h2>
<div class='content'><p>MongoEngine is an Object-Document Mapper (ODM) for MongoDB, similar to an ORM for SQL databases. You can install it using pip:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgbW9uZ29lbmdpbmU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install mongoengine</pre></div><div class='content'></div><h1><ol start="2">
<li>Connecting to MongoDB</li>
</ol>
</h1>
<div class='content'><p>Let's start by connecting to a MongoDB instance using PyMongo.</p>
</div><h2><p>Example Code</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBweW1vbmdvIGltcG9ydCBNb25nb0NsaWVudAoKIyBSZXBsYWNlIHRoZSBVUkkgc3RyaW5nIHdpdGggeW91ciBNb25nb0RCIGRlcGxveW1lbnQncyBjb25uZWN0aW9uIHN0cmluZy4KY2xpZW50ID0gTW9uZ29DbGllbnQoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvIikKCiMgQWNjZXNzIHRoZSAndGVzdCcgZGF0YWJhc2UKZGIgPSBjbGllbnQudGVzdAoKcHJpbnQoIkNvbm5lY3RlZCB0byBNb25nb0RCISIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from pymongo import MongoClient

# Replace the URI string with your MongoDB deployment's connection string.
client = MongoClient(&quot;mongodb://localhost:27017/&quot;)

# Access the 'test' database
db = client.test

print(&quot;Connected to MongoDB!&quot;)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>MongoClient</strong>: This class is used to connect to a MongoDB instance. The connection string specifies the address of the MongoDB server.</li>
<li><strong>db</strong>: This variable represents the 'test' database. If the database does not exist, MongoDB will create it when you first store data in it.</li>
</ul>
</div><h1><ol start="3">
<li>CRUD Operations with PyMongo</li>
</ol>
</h1>
<div class='content'></div><h2><p>Creating Documents</p>
</h2>
<div class='content'><p>To insert documents into a collection, use the <code>insert_one</code> or <code>insert_many</code> methods.</p>
<h4>Example Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBY2Nlc3MgdGhlICd1c2VycycgY29sbGVjdGlvbgp1c2Vyc19jb2xsZWN0aW9uID0gZGIudXNlcnMKCiMgSW5zZXJ0IGEgc2luZ2xlIGRvY3VtZW50CnVzZXIgPSB7Im5hbWUiOiAiQWxpY2UiLCAiYWdlIjogMjUsICJlbWFpbCI6ICJhbGljZUBleGFtcGxlLmNvbSJ9CnJlc3VsdCA9IHVzZXJzX2NvbGxlY3Rpb24uaW5zZXJ0X29uZSh1c2VyKQpwcmludChmIkluc2VydGVkIGRvY3VtZW50IHdpdGggX2lkOiB7cmVzdWx0Lmluc2VydGVkX2lkfSIpCgojIEluc2VydCBtdWx0aXBsZSBkb2N1bWVudHMKdXNlcnMgPSBbCiAgICB7Im5hbWUiOiAiQm9iIiwgImFnZSI6IDMwLCAiZW1haWwiOiAiYm9iQGV4YW1wbGUuY29tIn0sCiAgICB7Im5hbWUiOiAiQ2hhcmxpZSIsICJhZ2UiOiAzNSwgImVtYWlsIjogImNoYXJsaWVAZXhhbXBsZS5jb20ifQpdCnJlc3VsdCA9IHVzZXJzX2NvbGxlY3Rpb24uaW5zZXJ0X21hbnkodXNlcnMpCnByaW50KGYiSW5zZXJ0ZWQgZG9jdW1lbnRzIHdpdGggX2lkczoge3Jlc3VsdC5pbnNlcnRlZF9pZHN9Iik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Access the 'users' collection
users_collection = db.users

# Insert a single document
user = {&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 25, &quot;email&quot;: &quot;alice@example.com&quot;}
result = users_collection.insert_one(user)
print(f&quot;Inserted document with _id: {result.inserted_id}&quot;)

# Insert multiple documents
users = [
    {&quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: 30, &quot;email&quot;: &quot;bob@example.com&quot;},
    {&quot;name&quot;: &quot;Charlie&quot;, &quot;age&quot;: 35, &quot;email&quot;: &quot;charlie@example.com&quot;}
]
result = users_collection.insert_many(users)
print(f&quot;Inserted documents with _ids: {result.inserted_ids}&quot;)</pre></div><div class='content'></div><h2><p>Reading Documents</p>
</h2>
<div class='content'><p>To read documents from a collection, use the <code>find_one</code> or <code>find</code> methods.</p>
<h4>Example Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGaW5kIGEgc2luZ2xlIGRvY3VtZW50CnVzZXIgPSB1c2Vyc19jb2xsZWN0aW9uLmZpbmRfb25lKHsibmFtZSI6ICJBbGljZSJ9KQpwcmludCh1c2VyKQoKIyBGaW5kIG11bHRpcGxlIGRvY3VtZW50cwpmb3IgdXNlciBpbiB1c2Vyc19jb2xsZWN0aW9uLmZpbmQoeyJhZ2UiOiB7IiRndCI6IDI1fX0pOgogICAgcHJpbnQodXNlcik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Find a single document
user = users_collection.find_one({&quot;name&quot;: &quot;Alice&quot;})
print(user)

# Find multiple documents
for user in users_collection.find({&quot;age&quot;: {&quot;$gt&quot;: 25}}):
    print(user)</pre></div><div class='content'></div><h2><p>Updating Documents</p>
</h2>
<div class='content'><p>To update documents, use the <code>update_one</code> or <code>update_many</code> methods.</p>
<h4>Example Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVcGRhdGUgYSBzaW5nbGUgZG9jdW1lbnQKcmVzdWx0ID0gdXNlcnNfY29sbGVjdGlvbi51cGRhdGVfb25lKHsibmFtZSI6ICJBbGljZSJ9LCB7IiRzZXQiOiB7ImFnZSI6IDI2fX0pCnByaW50KGYiTWF0Y2hlZCB7cmVzdWx0Lm1hdGNoZWRfY291bnR9IGRvY3VtZW50KHMpIGFuZCBtb2RpZmllZCB7cmVzdWx0Lm1vZGlmaWVkX2NvdW50fSBkb2N1bWVudChzKSIpCgojIFVwZGF0ZSBtdWx0aXBsZSBkb2N1bWVudHMKcmVzdWx0ID0gdXNlcnNfY29sbGVjdGlvbi51cGRhdGVfbWFueSh7ImFnZSI6IHsiJGd0IjogMjV9fSwgeyIkc2V0IjogeyJzdGF0dXMiOiAiYWN0aXZlIn19KQpwcmludChmIk1hdGNoZWQge3Jlc3VsdC5tYXRjaGVkX2NvdW50fSBkb2N1bWVudChzKSBhbmQgbW9kaWZpZWQge3Jlc3VsdC5tb2RpZmllZF9jb3VudH0gZG9jdW1lbnQocykiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Update a single document
result = users_collection.update_one({&quot;name&quot;: &quot;Alice&quot;}, {&quot;$set&quot;: {&quot;age&quot;: 26}})
print(f&quot;Matched {result.matched_count} document(s) and modified {result.modified_count} document(s)&quot;)

# Update multiple documents
result = users_collection.update_many({&quot;age&quot;: {&quot;$gt&quot;: 25}}, {&quot;$set&quot;: {&quot;status&quot;: &quot;active&quot;}})
print(f&quot;Matched {result.matched_count} document(s) and modified {result.modified_count} document(s)&quot;)</pre></div><div class='content'></div><h2><p>Deleting Documents</p>
</h2>
<div class='content'><p>To delete documents, use the <code>delete_one</code> or <code>delete_many</code> methods.</p>
<h4>Example Code</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWxldGUgYSBzaW5nbGUgZG9jdW1lbnQKcmVzdWx0ID0gdXNlcnNfY29sbGVjdGlvbi5kZWxldGVfb25lKHsibmFtZSI6ICJBbGljZSJ9KQpwcmludChmIkRlbGV0ZWQge3Jlc3VsdC5kZWxldGVkX2NvdW50fSBkb2N1bWVudChzKSIpCgojIERlbGV0ZSBtdWx0aXBsZSBkb2N1bWVudHMKcmVzdWx0ID0gdXNlcnNfY29sbGVjdGlvbi5kZWxldGVfbWFueSh7ImFnZSI6IHsiJGx0IjogMzB9fSkKcHJpbnQoZiJEZWxldGVkIHtyZXN1bHQuZGVsZXRlZF9jb3VudH0gZG9jdW1lbnQocykiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Delete a single document
result = users_collection.delete_one({&quot;name&quot;: &quot;Alice&quot;})
print(f&quot;Deleted {result.deleted_count} document(s)&quot;)

# Delete multiple documents
result = users_collection.delete_many({&quot;age&quot;: {&quot;$lt&quot;: 30}})
print(f&quot;Deleted {result.deleted_count} document(s)&quot;)</pre></div><div class='content'></div><h1><ol start="4">
<li>Using MongoEngine for Object-Document Mapping (ODM)</li>
</ol>
</h1>
<div class='content'><p>MongoEngine provides a higher-level abstraction for working with MongoDB in Python.</p>
</div><h2><p>Example Code</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBtb25nb2VuZ2luZSBpbXBvcnQgY29ubmVjdCwgRG9jdW1lbnQsIFN0cmluZ0ZpZWxkLCBJbnRGaWVsZCwgRW1haWxGaWVsZAoKIyBDb25uZWN0IHRvIE1vbmdvREIKY29ubmVjdCgndGVzdCcpCgojIERlZmluZSBhIFVzZXIgZG9jdW1lbnQKY2xhc3MgVXNlcihEb2N1bWVudCk6CiAgICBuYW1lID0gU3RyaW5nRmllbGQocmVxdWlyZWQ9VHJ1ZSkKICAgIGFnZSA9IEludEZpZWxkKHJlcXVpcmVkPVRydWUpCiAgICBlbWFpbCA9IEVtYWlsRmllbGQocmVxdWlyZWQ9VHJ1ZSkKCiMgQ3JlYXRlIGEgbmV3IHVzZXIKdXNlciA9IFVzZXIobmFtZT0iQWxpY2UiLCBhZ2U9MjUsIGVtYWlsPSJhbGljZUBleGFtcGxlLmNvbSIpCnVzZXIuc2F2ZSgpCgojIFF1ZXJ5IHVzZXJzCmZvciB1c2VyIGluIFVzZXIub2JqZWN0cyhhZ2VfX2d0PTI1KToKICAgIHByaW50KHVzZXIubmFtZSwgdXNlci5hZ2UsIHVzZXIuZW1haWwp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from mongoengine import connect, Document, StringField, IntField, EmailField

# Connect to MongoDB
connect('test')

# Define a User document
class User(Document):
    name = StringField(required=True)
    age = IntField(required=True)
    email = EmailField(required=True)

# Create a new user
user = User(name=&quot;Alice&quot;, age=25, email=&quot;alice@example.com&quot;)
user.save()

# Query users
for user in User.objects(age__gt=25):
    print(user.name, user.age, user.email)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>connect</strong>: Connects to the specified MongoDB database.</li>
<li><strong>Document</strong>: Base class for defining documents.</li>
<li><strong>StringField, IntField, EmailField</strong>: Field types for the document schema.</li>
<li><strong>save</strong>: Saves the document to the database.</li>
<li><strong>objects</strong>: Query interface for retrieving documents.</li>
</ul>
</div><h1><ol start="5">
<li>Practical Exercises</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercise 1: Insert and Query Data</p>
</h2>
<div class='content'><ol>
<li>Insert three new users into the <code>users</code> collection.</li>
<li>Query and print all users who are older than 28.</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnNlcnQgbmV3IHVzZXJzCm5ld191c2VycyA9IFsKICAgIHsibmFtZSI6ICJEYXZpZCIsICJhZ2UiOiAyOCwgImVtYWlsIjogImRhdmlkQGV4YW1wbGUuY29tIn0sCiAgICB7Im5hbWUiOiAiRXZlIiwgImFnZSI6IDMyLCAiZW1haWwiOiAiZXZlQGV4YW1wbGUuY29tIn0sCiAgICB7Im5hbWUiOiAiRnJhbmsiLCAiYWdlIjogMjksICJlbWFpbCI6ICJmcmFua0BleGFtcGxlLmNvbSJ9Cl0KdXNlcnNfY29sbGVjdGlvbi5pbnNlcnRfbWFueShuZXdfdXNlcnMpCgojIFF1ZXJ5IGFuZCBwcmludCB1c2VycyBvbGRlciB0aGFuIDI4CmZvciB1c2VyIGluIHVzZXJzX2NvbGxlY3Rpb24uZmluZCh7ImFnZSI6IHsiJGd0IjogMjh9fSk6CiAgICBwcmludCh1c2VyKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Insert new users
new_users = [
    {&quot;name&quot;: &quot;David&quot;, &quot;age&quot;: 28, &quot;email&quot;: &quot;david@example.com&quot;},
    {&quot;name&quot;: &quot;Eve&quot;, &quot;age&quot;: 32, &quot;email&quot;: &quot;eve@example.com&quot;},
    {&quot;name&quot;: &quot;Frank&quot;, &quot;age&quot;: 29, &quot;email&quot;: &quot;frank@example.com&quot;}
]
users_collection.insert_many(new_users)

# Query and print users older than 28
for user in users_collection.find({&quot;age&quot;: {&quot;$gt&quot;: 28}}):
    print(user)</pre></div><div class='content'></div><h2><p>Exercise 2: Update and Delete Data</p>
</h2>
<div class='content'><ol>
<li>Update the email of the user named &quot;Bob&quot; to &quot;bob.new@example.com&quot;.</li>
<li>Delete all users who are younger than 30.</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVcGRhdGUgQm9iJ3MgZW1haWwKdXNlcnNfY29sbGVjdGlvbi51cGRhdGVfb25lKHsibmFtZSI6ICJCb2IifSwgeyIkc2V0IjogeyJlbWFpbCI6ICJib2IubmV3QGV4YW1wbGUuY29tIn19KQoKIyBEZWxldGUgdXNlcnMgeW91bmdlciB0aGFuIDMwCnVzZXJzX2NvbGxlY3Rpb24uZGVsZXRlX21hbnkoeyJhZ2UiOiB7IiRsdCI6IDMwfX0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Update Bob's email
users_collection.update_one({&quot;name&quot;: &quot;Bob&quot;}, {&quot;$set&quot;: {&quot;email&quot;: &quot;bob.new@example.com&quot;}})

# Delete users younger than 30
users_collection.delete_many({&quot;age&quot;: {&quot;$lt&quot;: 30}})</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we learned how to integrate MongoDB with Python using PyMongo and MongoEngine. We covered the basics of connecting to MongoDB, performing CRUD operations, and using an ODM for higher-level abstractions. These skills are essential for building robust and scalable applications with MongoDB and Python. In the next module, we will explore real-world applications of MongoDB.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-mongodb-with-javascript' title="MongoDB with JavaScript (Node.js)">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-mongodb-with-java' title="MongoDB with Java">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
