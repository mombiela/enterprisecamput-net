<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using the Camera Plugin</title>

    <link rel="alternate" href="https://campusempresa.com/mod/apache_cordova/using-the-camera-plugin" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/apache_cordova/using-the-camera-plugin" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/apache_cordova/using-the-camera-plugin" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/apache_cordova/using-the-camera-plugin" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/apache_cordova/using-the-camera-plugin" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-your-cordova-app'>&#x25C4;Debugging Your Cordova App</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using the Camera Plugin</a>
	</div>
	<div class='col-4 text-end'>
					<a href='accessing-geolocation'>Accessing Geolocation &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Apache Cordova allows developers to build mobile applications using HTML, CSS, and JavaScript. One of the powerful features of Cordova is its ability to access native device functionalities through plugins. In this section, we will explore how to use the Camera Plugin to capture photos and retrieve images from the device's gallery.</p>
</div><h1>Setting Up the Camera Plugin</h1>
<div class='content'></div><h2>Installing the Plugin</h2>
<div class='content'><p>To use the Camera Plugin, you first need to install it in your Cordova project. Open your terminal and navigate to your project directory, then run the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWNhbWVyYQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cordova plugin add cordova-plugin-camera</pre></div><div class='content'><p>This command will add the Camera Plugin to your project, allowing you to access the device's camera and photo library.</p>
</div><h2>Configuring Permissions</h2>
<div class='content'><p>For Android and iOS, you need to configure the necessary permissions in the respective configuration files.</p>
<ul>
<li><strong>Android</strong>: Ensure that the <code>AndroidManifest.xml</code> file includes the following permissions:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHVzZXMtcGVybWlzc2lvbiBhbmRyb2lkOm5hbWU9ImFuZHJvaWQucGVybWlzc2lvbi5DQU1FUkEiIC8+Cjx1c2VzLXBlcm1pc3Npb24gYW5kcm9pZDpuYW1lPSJhbmRyb2lkLnBlcm1pc3Npb24uV1JJVEVfRVhURVJOQUxfU1RPUkFHRSIgLz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;</pre></div><div class='content'><ul>
<li><strong>iOS</strong>: Update the <code>config.xml</code> file to include the following preferences:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGVkaXQtY29uZmlnIHRhcmdldD0iTlNDYW1lcmFVc2FnZURlc2NyaXB0aW9uIiBmaWxlPSIqLUluZm8ucGxpc3QiIG1vZGU9Im1lcmdlIj4KICAgIDxzdHJpbmc+V2UgbmVlZCBhY2Nlc3MgdG8geW91ciBjYW1lcmEgdG8gdGFrZSBwaG90b3MuPC9zdHJpbmc+CjwvZWRpdC1jb25maWc+CjxlZGl0LWNvbmZpZyB0YXJnZXQ9Ik5TUGhvdG9MaWJyYXJ5VXNhZ2VEZXNjcmlwdGlvbiIgZmlsZT0iKi1JbmZvLnBsaXN0IiBtb2RlPSJtZXJnZSI+CiAgICA8c3RyaW5nPldlIG5lZWQgYWNjZXNzIHRvIHlvdXIgcGhvdG8gbGlicmFyeSB0byBzZWxlY3QgcGhvdG9zLjwvc3RyaW5nPgo8L2VkaXQtY29uZmlnPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;edit-config target=&quot;NSCameraUsageDescription&quot; file=&quot;*-Info.plist&quot; mode=&quot;merge&quot;&gt;
    &lt;string&gt;We need access to your camera to take photos.&lt;/string&gt;
&lt;/edit-config&gt;
&lt;edit-config target=&quot;NSPhotoLibraryUsageDescription&quot; file=&quot;*-Info.plist&quot; mode=&quot;merge&quot;&gt;
    &lt;string&gt;We need access to your photo library to select photos.&lt;/string&gt;
&lt;/edit-config&gt;</pre></div><div class='content'></div><h1>Capturing Photos</h1>
<div class='content'></div><h2>Basic Usage</h2>
<div class='content'><p>To capture a photo using the Camera Plugin, you can use the <code>navigator.camera.getPicture</code> method. Here is a basic example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcHR1cmVQaG90bycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICBuYXZpZ2F0b3IuY2FtZXJhLmdldFBpY3R1cmUob25TdWNjZXNzLCBvbkZhaWwsIHsKICAgICAgICBxdWFsaXR5OiA1MCwKICAgICAgICBkZXN0aW5hdGlvblR5cGU6IENhbWVyYS5EZXN0aW5hdGlvblR5cGUuREFUQV9VUkwKICAgIH0pOwoKICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhpbWFnZURhdGEpIHsKICAgICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlJbWFnZScpOwogICAgICAgIGltYWdlLnNyYyA9ICJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIgKyBpbWFnZURhdGE7CiAgICB9CgogICAgZnVuY3Rpb24gb25GYWlsKG1lc3NhZ2UpIHsKICAgICAgICBhbGVydCgnRmFpbGVkIGJlY2F1c2U6ICcgKyBtZXNzYWdlKTsKICAgIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.getElementById('capturePhoto').addEventListener('click', function() {
    navigator.camera.getPicture(onSuccess, onFail, {
        quality: 50,
        destinationType: Camera.DestinationType.DATA_URL
    });

    function onSuccess(imageData) {
        var image = document.getElementById('myImage');
        image.src = &quot;data:image/jpeg;base64,&quot; + imageData;
    }

    function onFail(message) {
        alert('Failed because: ' + message);
    }
});</pre></div><div class='content'><ul>
<li><strong>Parameters</strong>:
<ul>
<li><code>quality</code>: Specifies the quality of the saved image (0-100).</li>
<li><code>destinationType</code>: Determines the format of the returned image (e.g., <code>DATA_URL</code> returns a base64-encoded string).</li>
</ul>
</li>
</ul>
</div><h2>Advanced Options</h2>
<div class='content'><p>The <code>navigator.camera.getPicture</code> method accepts several options to customize the camera behavior:</p>
<ul>
<li><strong>sourceType</strong>: Specifies the source of the picture (e.g., <code>Camera.PictureSourceType.CAMERA</code> or <code>Camera.PictureSourceType.PHOTOLIBRARY</code>).</li>
<li><strong>allowEdit</strong>: Allows simple editing of the image before selection.</li>
<li><strong>targetWidth</strong> and <strong>targetHeight</strong>: Specifies the width and height of the image.</li>
</ul>
<p>Example with advanced options:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcHR1cmVQaG90bycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICBuYXZpZ2F0b3IuY2FtZXJhLmdldFBpY3R1cmUob25TdWNjZXNzLCBvbkZhaWwsIHsKICAgICAgICBxdWFsaXR5OiA3NSwKICAgICAgICBkZXN0aW5hdGlvblR5cGU6IENhbWVyYS5EZXN0aW5hdGlvblR5cGUuRklMRV9VUkksCiAgICAgICAgc291cmNlVHlwZTogQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQSwKICAgICAgICBhbGxvd0VkaXQ6IHRydWUsCiAgICAgICAgdGFyZ2V0V2lkdGg6IDEwMDAsCiAgICAgICAgdGFyZ2V0SGVpZ2h0OiAxMDAwLAogICAgICAgIHNhdmVUb1Bob3RvQWxidW06IHRydWUKICAgIH0pOwoKICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhpbWFnZVVSSSkgewogICAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUltYWdlJyk7CiAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVUkk7CiAgICB9CgogICAgZnVuY3Rpb24gb25GYWlsKG1lc3NhZ2UpIHsKICAgICAgICBhbGVydCgnRmFpbGVkIGJlY2F1c2U6ICcgKyBtZXNzYWdlKTsKICAgIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.getElementById('capturePhoto').addEventListener('click', function() {
    navigator.camera.getPicture(onSuccess, onFail, {
        quality: 75,
        destinationType: Camera.DestinationType.FILE_URI,
        sourceType: Camera.PictureSourceType.CAMERA,
        allowEdit: true,
        targetWidth: 1000,
        targetHeight: 1000,
        saveToPhotoAlbum: true
    });

    function onSuccess(imageURI) {
        var image = document.getElementById('myImage');
        image.src = imageURI;
    }

    function onFail(message) {
        alert('Failed because: ' + message);
    }
});</pre></div><div class='content'></div><h1>Retrieving Images from the Gallery</h1>
<div class='content'><p>To retrieve images from the device's photo library, you can set the <code>sourceType</code> to <code>Camera.PictureSourceType.PHOTOLIBRARY</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dldFBob3RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgIG5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZShvblN1Y2Nlc3MsIG9uRmFpbCwgewogICAgICAgIHF1YWxpdHk6IDUwLAogICAgICAgIGRlc3RpbmF0aW9uVHlwZTogQ2FtZXJhLkRlc3RpbmF0aW9uVHlwZS5GSUxFX1VSSSwKICAgICAgICBzb3VyY2VUeXBlOiBDYW1lcmEuUGljdHVyZVNvdXJjZVR5cGUuUEhPVE9MSUJSQVJZCiAgICB9KTsKCiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoaW1hZ2VVUkkpIHsKICAgICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlJbWFnZScpOwogICAgICAgIGltYWdlLnNyYyA9IGltYWdlVVJJOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uRmFpbChtZXNzYWdlKSB7CiAgICAgICAgYWxlcnQoJ0ZhaWxlZCBiZWNhdXNlOiAnICsgbWVzc2FnZSk7CiAgICB9Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.getElementById('getPhoto').addEventListener('click', function() {
    navigator.camera.getPicture(onSuccess, onFail, {
        quality: 50,
        destinationType: Camera.DestinationType.FILE_URI,
        sourceType: Camera.PictureSourceType.PHOTOLIBRARY
    });

    function onSuccess(imageURI) {
        var image = document.getElementById('myImage');
        image.src = imageURI;
    }

    function onFail(message) {
        alert('Failed because: ' + message);
    }
});</pre></div><div class='content'></div><h1>Handling Errors</h1>
<div class='content'><p>It's important to handle errors gracefully. The <code>onFail</code> callback function provides an error message that can be used to inform the user of what went wrong.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gb25GYWlsKG1lc3NhZ2UpIHsKICAgIGFsZXJ0KCdGYWlsZWQgYmVjYXVzZTogJyArIG1lc3NhZ2UpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function onFail(message) {
    alert('Failed because: ' + message);
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>The Camera Plugin in Apache Cordova is a powerful tool that allows you to capture photos and retrieve images from the device's gallery. By understanding the basic and advanced options available, you can create a rich user experience in your mobile applications. Always remember to handle errors gracefully to ensure a smooth user experience.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-your-cordova-app'>&#x25C4;Debugging Your Cordova App</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using the Camera Plugin</a>
	</div>
	<div class='col-4 text-end'>
					<a href='accessing-geolocation'>Accessing Geolocation &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
