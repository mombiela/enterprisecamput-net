<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging Native Code</title>

    <link rel="alternate" href="https://campusempresa.com/mod/apache_cordova/debugging-native-code" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/apache_cordova/debugging-native-code" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/apache_cordova/debugging-native-code" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/apache_cordova/debugging-native-code" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/apache_cordova/debugging-native-code" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-third-party-native-libraries'>&#x25C4;Using Third-Party Native Libraries</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Debugging Native Code</a>
	</div>
	<div class='col-4 text-end'>
					<a href='unit-testing-cordova-apps'>Unit Testing Cordova Apps &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Debugging native code in Apache Cordova applications can be challenging but is crucial for ensuring your app runs smoothly across different platforms. This topic will guide you through the process of debugging native code, from beginner to advanced levels.</p>
</div><h1>Introduction to Native Code in Cordova</h1>
<div class='content'><ul>
<li><strong>Native Code</strong>: Code written in the native language of the platform (Java for Android, Swift/Objective-C for iOS).</li>
<li><strong>Cordova Plugins</strong>: Allow you to write native code that can be invoked from JavaScript.</li>
</ul>
</div><h1>Setting Up Your Environment</h1>
<div class='content'><p>Before you can debug native code, ensure your development environment is properly set up.</p>
<ul>
<li><strong>Android</strong>:
<ul>
<li>Install Android Studio.</li>
<li>Ensure you have the Android SDK and necessary platform tools.</li>
</ul>
</li>
<li><strong>iOS</strong>:
<ul>
<li>Install Xcode.</li>
<li>Ensure you have the necessary iOS SDKs.</li>
</ul>
</li>
</ul>
</div><h1>Debugging Native Code on Android</h1>
<div class='content'></div><h2>Using Android Studio</h2>
<div class='content'><ol>
<li>
<p><strong>Open Your Project</strong>:</p>
<ul>
<li>Open your Cordova project in Android Studio.</li>
<li>Navigate to the <code>platforms/android</code> directory.</li>
</ul>
</li>
<li>
<p><strong>Set Breakpoints</strong>:</p>
<ul>
<li>Open the Java file you want to debug.</li>
<li>Click on the left margin to set breakpoints.</li>
</ul>
</li>
<li>
<p><strong>Run in Debug Mode</strong>:</p>
<ul>
<li>Click on the 'Debug' icon or use <code>Shift + F9</code>.</li>
<li>Select your connected device or emulator.</li>
</ul>
</li>
<li>
<p><strong>Inspect Variables and Call Stack</strong>:</p>
<ul>
<li>Use the 'Variables' and 'Call Stack' windows to inspect the state of your application.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBKYXZhIGNvZGUgd2l0aCBhIGJyZWFrcG9pbnQKcHVibGljIGNsYXNzIEV4YW1wbGVQbHVnaW4gZXh0ZW5kcyBDb3Jkb3ZhUGx1Z2luIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIGJvb2xlYW4gZXhlY3V0ZShTdHJpbmcgYWN0aW9uLCBKU09OQXJyYXkgYXJncywgQ2FsbGJhY2tDb250ZXh0IGNhbGxiYWNrQ29udGV4dCkgdGhyb3dzIEpTT05FeGNlcHRpb24gewogICAgICAgIGlmIChhY3Rpb24uZXF1YWxzKCJjb29sTWV0aG9kIikpIHsKICAgICAgICAgICAgU3RyaW5nIG1lc3NhZ2UgPSBhcmdzLmdldFN0cmluZygwKTsKICAgICAgICAgICAgdGhpcy5jb29sTWV0aG9kKG1lc3NhZ2UsIGNhbGxiYWNrQ29udGV4dCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGNvb2xNZXRob2QoU3RyaW5nIG1lc3NhZ2UsIENhbGxiYWNrQ29udGV4dCBjYWxsYmFja0NvbnRleHQpIHsKICAgICAgICAvLyBTZXQgYSBicmVha3BvaW50IGhlcmUKICAgICAgICBpZiAobWVzc2FnZSAhPSBudWxsICYmIG1lc3NhZ2UubGVuZ3RoKCkgPiAwKSB7CiAgICAgICAgICAgIGNhbGxiYWNrQ29udGV4dC5zdWNjZXNzKG1lc3NhZ2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhbGxiYWNrQ29udGV4dC5lcnJvcigiRXhwZWN0ZWQgb25lIG5vbi1lbXB0eSBzdHJpbmcgYXJndW1lbnQuIik7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example Java code with a breakpoint
public class ExamplePlugin extends CordovaPlugin {
    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
        if (action.equals(&quot;coolMethod&quot;)) {
            String message = args.getString(0);
            this.coolMethod(message, callbackContext);
            return true;
        }
        return false;
    }

    private void coolMethod(String message, CallbackContext callbackContext) {
        // Set a breakpoint here
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error(&quot;Expected one non-empty string argument.&quot;);
        }
    }
}</pre></div><div class='content'></div><h2>Using Logcat</h2>
<div class='content'><ul>
<li><strong>Logcat</strong>: A tool to view log messages from your Android device.</li>
<li><strong>Adding Log Statements</strong>:
<ul>
<li>Use <code>Log.d</code>, <code>Log.i</code>, <code>Log.w</code>, and <code>Log.e</code> to print debug, info, warning, and error messages.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiB1c2luZyBMb2djYXQKaW1wb3J0IGFuZHJvaWQudXRpbC5Mb2c7CgpwdWJsaWMgY2xhc3MgRXhhbXBsZVBsdWdpbiBleHRlbmRzIENvcmRvdmFQbHVnaW4gewogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFRBRyA9ICJFeGFtcGxlUGx1Z2luIjsKCiAgICBwcml2YXRlIHZvaWQgY29vbE1ldGhvZChTdHJpbmcgbWVzc2FnZSwgQ2FsbGJhY2tDb250ZXh0IGNhbGxiYWNrQ29udGV4dCkgewogICAgICAgIExvZy5kKFRBRywgImNvb2xNZXRob2QgY2FsbGVkIHdpdGggbWVzc2FnZTogIiArIG1lc3NhZ2UpOwogICAgICAgIGlmIChtZXNzYWdlICE9IG51bGwgJiYgbWVzc2FnZS5sZW5ndGgoKSA+IDApIHsKICAgICAgICAgICAgY2FsbGJhY2tDb250ZXh0LnN1Y2Nlc3MobWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FsbGJhY2tDb250ZXh0LmVycm9yKCJFeHBlY3RlZCBvbmUgbm9uLWVtcHR5IHN0cmluZyBhcmd1bWVudC4iKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of using Logcat
import android.util.Log;

public class ExamplePlugin extends CordovaPlugin {
    private static final String TAG = &quot;ExamplePlugin&quot;;

    private void coolMethod(String message, CallbackContext callbackContext) {
        Log.d(TAG, &quot;coolMethod called with message: &quot; + message);
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error(&quot;Expected one non-empty string argument.&quot;);
        }
    }
}</pre></div><div class='content'></div><h1>Debugging Native Code on iOS</h1>
<div class='content'></div><h2>Using Xcode</h2>
<div class='content'><ol>
<li>
<p><strong>Open Your Project</strong>:</p>
<ul>
<li>Open your Cordova project in Xcode.</li>
<li>Navigate to the <code>platforms/ios</code> directory and open the <code>.xcworkspace</code> file.</li>
</ul>
</li>
<li>
<p><strong>Set Breakpoints</strong>:</p>
<ul>
<li>Open the Swift/Objective-C file you want to debug.</li>
<li>Click on the left margin to set breakpoints.</li>
</ul>
</li>
<li>
<p><strong>Run in Debug Mode</strong>:</p>
<ul>
<li>Click on the 'Run' button or use <code>Cmd + R</code>.</li>
<li>Select your connected device or simulator.</li>
</ul>
</li>
<li>
<p><strong>Inspect Variables and Call Stack</strong>:</p>
<ul>
<li>Use the 'Variables' and 'Call Stack' windows to inspect the state of your application.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBTd2lmdCBjb2RlIHdpdGggYSBicmVha3BvaW50CkBvYmpjKEV4YW1wbGVQbHVnaW4pIGNsYXNzIEV4YW1wbGVQbHVnaW46IENEVlBsdWdpbiB7CiAgICBAb2JqYyhjb29sTWV0aG9kOikKICAgIGZ1bmMgY29vbE1ldGhvZChjb21tYW5kOiBDRFZJbnZva2VkVXJsQ29tbWFuZCkgewogICAgICAgIGxldCBtZXNzYWdlID0gY29tbWFuZC5hcmd1bWVudHNbMF0gYXM/IFN0cmluZyA/PyAiIgogICAgICAgIC8vIFNldCBhIGJyZWFrcG9pbnQgaGVyZQogICAgICAgIGlmIG1lc3NhZ2UuY291bnQgPiAwIHsKICAgICAgICAgICAgbGV0IHBsdWdpblJlc3VsdCA9IENEVlBsdWdpblJlc3VsdChzdGF0dXM6IENEVkNvbW1hbmRTdGF0dXNfT0ssIG1lc3NhZ2VBczogbWVzc2FnZSkKICAgICAgICAgICAgc2VsZi5jb21tYW5kRGVsZWdhdGUuc2VuZChwbHVnaW5SZXN1bHQsIGNhbGxiYWNrSWQ6IGNvbW1hbmQuY2FsbGJhY2tJZCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgcGx1Z2luUmVzdWx0ID0gQ0RWUGx1Z2luUmVzdWx0KHN0YXR1czogQ0RWQ29tbWFuZFN0YXR1c19FUlJPUiwgbWVzc2FnZUFzOiAiRXhwZWN0ZWQgb25lIG5vbi1lbXB0eSBzdHJpbmcgYXJndW1lbnQuIikKICAgICAgICAgICAgc2VsZi5jb21tYW5kRGVsZWdhdGUuc2VuZChwbHVnaW5SZXN1bHQsIGNhbGxiYWNrSWQ6IGNvbW1hbmQuY2FsbGJhY2tJZCkKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example Swift code with a breakpoint
@objc(ExamplePlugin) class ExamplePlugin: CDVPlugin {
    @objc(coolMethod:)
    func coolMethod(command: CDVInvokedUrlCommand) {
        let message = command.arguments[0] as? String ?? &quot;&quot;
        // Set a breakpoint here
        if message.count &gt; 0 {
            let pluginResult = CDVPluginResult(status: CDVCommandStatus_OK, messageAs: message)
            self.commandDelegate.send(pluginResult, callbackId: command.callbackId)
        } else {
            let pluginResult = CDVPluginResult(status: CDVCommandStatus_ERROR, messageAs: &quot;Expected one non-empty string argument.&quot;)
            self.commandDelegate.send(pluginResult, callbackId: command.callbackId)
        }
    }
}</pre></div><div class='content'></div><h2>Using NSLog</h2>
<div class='content'><ul>
<li><strong>NSLog</strong>: A function to print log messages to the console.</li>
<li><strong>Adding Log Statements</strong>:
<ul>
<li>Use <code>NSLog</code> to print debug messages.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiB1c2luZyBOU0xvZwpAb2JqYyhFeGFtcGxlUGx1Z2luKSBjbGFzcyBFeGFtcGxlUGx1Z2luOiBDRFZQbHVnaW4gewogICAgQG9iamMoY29vbE1ldGhvZDopCiAgICBmdW5jIGNvb2xNZXRob2QoY29tbWFuZDogQ0RWSW52b2tlZFVybENvbW1hbmQpIHsKICAgICAgICBsZXQgbWVzc2FnZSA9IGNvbW1hbmQuYXJndW1lbnRzWzBdIGFzPyBTdHJpbmcgPz8gIiIKICAgICAgICBOU0xvZygiY29vbE1ldGhvZCBjYWxsZWQgd2l0aCBtZXNzYWdlOiAlQCIsIG1lc3NhZ2UpCiAgICAgICAgaWYgbWVzc2FnZS5jb3VudCA+IDAgewogICAgICAgICAgICBsZXQgcGx1Z2luUmVzdWx0ID0gQ0RWUGx1Z2luUmVzdWx0KHN0YXR1czogQ0RWQ29tbWFuZFN0YXR1c19PSywgbWVzc2FnZUFzOiBtZXNzYWdlKQogICAgICAgICAgICBzZWxmLmNvbW1hbmREZWxlZ2F0ZS5zZW5kKHBsdWdpblJlc3VsdCwgY2FsbGJhY2tJZDogY29tbWFuZC5jYWxsYmFja0lkKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCBwbHVnaW5SZXN1bHQgPSBDRFZQbHVnaW5SZXN1bHQoc3RhdHVzOiBDRFZDb21tYW5kU3RhdHVzX0VSUk9SLCBtZXNzYWdlQXM6ICJFeHBlY3RlZCBvbmUgbm9uLWVtcHR5IHN0cmluZyBhcmd1bWVudC4iKQogICAgICAgICAgICBzZWxmLmNvbW1hbmREZWxlZ2F0ZS5zZW5kKHBsdWdpblJlc3VsdCwgY2FsbGJhY2tJZDogY29tbWFuZC5jYWxsYmFja0lkKQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of using NSLog
@objc(ExamplePlugin) class ExamplePlugin: CDVPlugin {
    @objc(coolMethod:)
    func coolMethod(command: CDVInvokedUrlCommand) {
        let message = command.arguments[0] as? String ?? &quot;&quot;
        NSLog(&quot;coolMethod called with message: %@&quot;, message)
        if message.count &gt; 0 {
            let pluginResult = CDVPluginResult(status: CDVCommandStatus_OK, messageAs: message)
            self.commandDelegate.send(pluginResult, callbackId: command.callbackId)
        } else {
            let pluginResult = CDVPluginResult(status: CDVCommandStatus_ERROR, messageAs: &quot;Expected one non-empty string argument.&quot;)
            self.commandDelegate.send(pluginResult, callbackId: command.callbackId)
        }
    }
}</pre></div><div class='content'></div><h1>Advanced Debugging Techniques</h1>
<div class='content'><ul>
<li><strong>Remote Debugging</strong>: Use tools like Chrome DevTools for Android or Safari Web Inspector for iOS to debug JavaScript and native code.</li>
<li><strong>Profiling</strong>: Use Android Studio Profiler or Xcode Instruments to analyze performance issues.</li>
<li><strong>Crash Logs</strong>: Analyze crash logs to identify and fix issues that cause your app to crash.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Debugging native code in Apache Cordova requires a good understanding of the development environment and tools available for each platform. By setting up breakpoints, using logging tools, and leveraging advanced debugging techniques, you can effectively identify and resolve issues in your native code. This ensures a smoother and more reliable experience for your app users.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-third-party-native-libraries'>&#x25C4;Using Third-Party Native Libraries</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Debugging Native Code</a>
	</div>
	<div class='col-4 text-end'>
					<a href='unit-testing-cordova-apps'>Unit Testing Cordova Apps &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
