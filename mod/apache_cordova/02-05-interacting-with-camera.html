<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interacting with the Camera</title>

    <link rel="alternate" href="https://campusempresa.com/mod/apache_cordova/02-05-interacting-with-camera" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/apache_cordova/02-05-interacting-with-camera" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/apache_cordova/02-05-interacting-with-camera" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/apache_cordova/02-05-interacting-with-camera" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/apache_cordova/02-05-interacting-with-camera" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-handling-network-information' title="Handling Network Information">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Interacting with the Camera</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-building-responsive-ui' title="Building a Responsive UI">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to interact with the device's camera using Apache Cordova. This includes capturing photos, handling the captured images, and integrating them into your application. By the end of this module, you will be able to create a simple application that uses the device's camera to take pictures and display them.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Cordova Camera Plugin</strong>: The Cordova Camera Plugin provides access to the device's camera and allows you to capture photos and retrieve them.</li>
<li><strong>Camera Options</strong>: Configurations that determine how the camera behaves, such as the quality of the image, the source of the image (camera or photo library), and the format of the returned image.</li>
<li><strong>Handling Images</strong>: Techniques for displaying and storing the captured images within your application.</li>
</ol>
</div><h1><p>Installing the Camera Plugin</p>
</h1>
<div class='content'><p>To use the camera functionality, you need to install the Cordova Camera Plugin. You can do this using the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWNhbWVyYQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cordova plugin add cordova-plugin-camera</pre></div><div class='content'></div><h1><p>Using the Camera API</p>
</h1>
<div class='content'></div><h2><p>Basic Example</p>
</h2>
<div class='content'><p>Here is a basic example of how to use the Camera API to capture a photo and display it in an image element.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5DYW1lcmEgRXhhbXBsZTwvdGl0bGU+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJjb3Jkb3ZhLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VyZWFkeScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FwdHVyZVBob3RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXB0dXJlUGhvdG8pOwogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiBjYXB0dXJlUGhvdG8oKSB7CiAgICAgICAgICAgIG5hdmlnYXRvci5jYW1lcmEuZ2V0UGljdHVyZShvblN1Y2Nlc3MsIG9uRmFpbCwgewogICAgICAgICAgICAgICAgcXVhbGl0eTogNTAsCiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvblR5cGU6IENhbWVyYS5EZXN0aW5hdGlvblR5cGUuREFUQV9VUkwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoaW1hZ2VEYXRhKSB7CiAgICAgICAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG90bycpOwogICAgICAgICAgICBpbWFnZS5zcmMgPSAiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiICsgaW1hZ2VEYXRhOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gb25GYWlsKG1lc3NhZ2UpIHsKICAgICAgICAgICAgYWxlcnQoJ0ZhaWxlZCBiZWNhdXNlOiAnICsgbWVzc2FnZSk7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CiAgICA8YnV0dG9uIGlkPSJjYXB0dXJlUGhvdG8iPkNhcHR1cmUgUGhvdG88L2J1dHRvbj4KICAgIDxpbWcgaWQ9InBob3RvIiBzcmM9IiIgYWx0PSJZb3VyIFBob3RvIj4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Camera Example&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;cordova.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        document.addEventListener('deviceready', function() {
            document.getElementById('capturePhoto').addEventListener('click', capturePhoto);
        });

        function capturePhoto() {
            navigator.camera.getPicture(onSuccess, onFail, {
                quality: 50,
                destinationType: Camera.DestinationType.DATA_URL
            });
        }

        function onSuccess(imageData) {
            var image = document.getElementById('photo');
            image.src = &quot;data:image/jpeg;base64,&quot; + imageData;
        }

        function onFail(message) {
            alert('Failed because: ' + message);
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button id=&quot;capturePhoto&quot;&gt;Capture Photo&lt;/button&gt;
    &lt;img id=&quot;photo&quot; src=&quot;&quot; alt=&quot;Your Photo&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>HTML Structure</strong>: The HTML contains a button to capture the photo and an image element to display the captured photo.</li>
<li><strong>JavaScript</strong>:
<ul>
<li><strong>Event Listener</strong>: Listens for the <code>deviceready</code> event to ensure Cordova is fully loaded.</li>
<li><strong>capturePhoto Function</strong>: Calls <code>navigator.camera.getPicture</code> to open the camera interface.</li>
<li><strong>onSuccess Function</strong>: Handles the successful capture of the photo by setting the <code>src</code> attribute of the image element to the captured photo.</li>
<li><strong>onFail Function</strong>: Handles any errors that occur during the photo capture process.</li>
</ul>
</li>
</ul>
</div><h2><p>Camera Options</p>
</h2>
<div class='content'><p>The <code>getPicture</code> method accepts several options to customize the camera behavior. Here are some commonly used options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>quality</code></td>
<td>Quality of the saved image (0-100).</td>
</tr>
<tr>
<td><code>destinationType</code></td>
<td>Format of the returned image (<code>DATA_URL</code> or <code>FILE_URI</code>).</td>
</tr>
<tr>
<td><code>sourceType</code></td>
<td>Source of the image (<code>CAMERA</code>, <code>PHOTOLIBRARY</code>, or <code>SAVEDPHOTOALBUM</code>).</td>
</tr>
<tr>
<td><code>allowEdit</code></td>
<td>Allow simple editing of the image before selection.</td>
</tr>
<tr>
<td><code>encodingType</code></td>
<td>Encoding type of the image (<code>JPEG</code> or <code>PNG</code>).</td>
</tr>
<tr>
<td><code>targetWidth</code></td>
<td>Width in pixels to scale the image.</td>
</tr>
<tr>
<td><code>targetHeight</code></td>
<td>Height in pixels to scale the image.</td>
</tr>
<tr>
<td><code>saveToPhotoAlbum</code></td>
<td>Save the image to the photo album on the device.</td>
</tr>
</tbody>
</table>
</div><h2><p>Example with Options</p>
</h2>
<div class='content'><p>Here is an example that includes more options:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY2FwdHVyZVBob3RvKCkgewogICAgbmF2aWdhdG9yLmNhbWVyYS5nZXRQaWN0dXJlKG9uU3VjY2Vzcywgb25GYWlsLCB7CiAgICAgICAgcXVhbGl0eTogNzUsCiAgICAgICAgZGVzdGluYXRpb25UeXBlOiBDYW1lcmEuRGVzdGluYXRpb25UeXBlLkZJTEVfVVJJLAogICAgICAgIHNvdXJjZVR5cGU6IENhbWVyYS5QaWN0dXJlU291cmNlVHlwZS5DQU1FUkEsCiAgICAgICAgYWxsb3dFZGl0OiB0cnVlLAogICAgICAgIGVuY29kaW5nVHlwZTogQ2FtZXJhLkVuY29kaW5nVHlwZS5KUEVHLAogICAgICAgIHRhcmdldFdpZHRoOiA4MDAsCiAgICAgICAgdGFyZ2V0SGVpZ2h0OiA2MDAsCiAgICAgICAgc2F2ZVRvUGhvdG9BbGJ1bTogdHJ1ZQogICAgfSk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function capturePhoto() {
    navigator.camera.getPicture(onSuccess, onFail, {
        quality: 75,
        destinationType: Camera.DestinationType.FILE_URI,
        sourceType: Camera.PictureSourceType.CAMERA,
        allowEdit: true,
        encodingType: Camera.EncodingType.JPEG,
        targetWidth: 800,
        targetHeight: 600,
        saveToPhotoAlbum: true
    });
}</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Capture and Display a Photo</p>
</h2>
<div class='content'><p><strong>Objective</strong>: Create a Cordova application that captures a photo using the device's camera and displays it on the screen.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a new Cordova project.</li>
<li>Install the Cordova Camera Plugin.</li>
<li>Add a button to capture the photo and an image element to display the photo.</li>
<li>Implement the JavaScript to handle the photo capture and display.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5DYW1lcmEgRXhlcmNpc2U8L3RpdGxlPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iY29yZG92YS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcHR1cmVQaG90bycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FwdHVyZVBob3RvKTsKICAgICAgICB9KTsKCiAgICAgICAgZnVuY3Rpb24gY2FwdHVyZVBob3RvKCkgewogICAgICAgICAgICBuYXZpZ2F0b3IuY2FtZXJhLmdldFBpY3R1cmUob25TdWNjZXNzLCBvbkZhaWwsIHsKICAgICAgICAgICAgICAgIHF1YWxpdHk6IDc1LAogICAgICAgICAgICAgICAgZGVzdGluYXRpb25UeXBlOiBDYW1lcmEuRGVzdGluYXRpb25UeXBlLkZJTEVfVVJJLAogICAgICAgICAgICAgICAgc291cmNlVHlwZTogQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQSwKICAgICAgICAgICAgICAgIGFsbG93RWRpdDogdHJ1ZSwKICAgICAgICAgICAgICAgIGVuY29kaW5nVHlwZTogQ2FtZXJhLkVuY29kaW5nVHlwZS5KUEVHLAogICAgICAgICAgICAgICAgdGFyZ2V0V2lkdGg6IDgwMCwKICAgICAgICAgICAgICAgIHRhcmdldEhlaWdodDogNjAwLAogICAgICAgICAgICAgICAgc2F2ZVRvUGhvdG9BbGJ1bTogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhpbWFnZVVSSSkgewogICAgICAgICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvdG8nKTsKICAgICAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVUkk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbkZhaWwobWVzc2FnZSkgewogICAgICAgICAgICBhbGVydCgnRmFpbGVkIGJlY2F1c2U6ICcgKyBtZXNzYWdlKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KICAgIDxidXR0b24gaWQ9ImNhcHR1cmVQaG90byI+Q2FwdHVyZSBQaG90bzwvYnV0dG9uPgogICAgPGltZyBpZD0icGhvdG8iIHNyYz0iIiBhbHQ9IllvdXIgUGhvdG8iPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Camera Exercise&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;cordova.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        document.addEventListener('deviceready', function() {
            document.getElementById('capturePhoto').addEventListener('click', capturePhoto);
        });

        function capturePhoto() {
            navigator.camera.getPicture(onSuccess, onFail, {
                quality: 75,
                destinationType: Camera.DestinationType.FILE_URI,
                sourceType: Camera.PictureSourceType.CAMERA,
                allowEdit: true,
                encodingType: Camera.EncodingType.JPEG,
                targetWidth: 800,
                targetHeight: 600,
                saveToPhotoAlbum: true
            });
        }

        function onSuccess(imageURI) {
            var image = document.getElementById('photo');
            image.src = imageURI;
        }

        function onFail(message) {
            alert('Failed because: ' + message);
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button id=&quot;capturePhoto&quot;&gt;Capture Photo&lt;/button&gt;
    &lt;img id=&quot;photo&quot; src=&quot;&quot; alt=&quot;Your Photo&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Permissions</strong>: Ensure that your application has the necessary permissions to access the camera.</li>
<li><strong>Error Handling</strong>: Always implement error handling to manage cases where the user cancels the photo capture or an error occurs.</li>
<li><strong>Image Quality</strong>: Adjust the <code>quality</code> and <code>targetWidth</code>/<code>targetHeight</code> options to balance between image quality and performance.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned how to interact with the device's camera using Apache Cordova. You installed the Camera Plugin, captured photos, and displayed them in your application. You also explored various camera options to customize the behavior of the camera. With these skills, you can now integrate camera functionality into your Cordova applications, enhancing the user experience with multimedia capabilities.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-handling-network-information' title="Handling Network Information">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-building-responsive-ui' title="Building a Responsive UI">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
