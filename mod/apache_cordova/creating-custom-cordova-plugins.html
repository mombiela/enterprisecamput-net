<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Custom Cordova Plugins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/apache_cordova/creating-custom-cordova-plugins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/apache_cordova/creating-custom-cordova-plugins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/apache_cordova/creating-custom-cordova-plugins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/apache_cordova/creating-custom-cordova-plugins" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/apache_cordova/creating-custom-cordova-plugins" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='best-practices-for-cordova-development'>&#x25C4;Best Practices for Cordova Development</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Custom Cordova Plugins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integrating-native-code'>Integrating Native Code &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Creating custom Cordova plugins allows developers to extend the functionality of their Cordova applications by integrating native code. This topic will guide you through the process of creating, implementing, and using custom Cordova plugins from beginner to advanced levels.</p>
</div><h1>Prerequisites</h1>
<div class='content'><p>Before diving into creating custom Cordova plugins, ensure you have:</p>
<ul>
<li>Basic knowledge of Apache Cordova.</li>
<li>Familiarity with JavaScript.</li>
<li>Basic understanding of native development (Java for Android, Swift/Objective-C for iOS).</li>
</ul>
</div><h1>Setting Up Your Environment</h1>
<div class='content'><p>To create a custom Cordova plugin, you need to set up your development environment.</p>
<ol>
<li>
<p><strong>Install Node.js and npm</strong>: Cordova requires Node.js and npm.</p>
<pre><code class="language-sh"># Install Node.js and npm
sudo apt-get install nodejs npm
</code></pre>
</li>
<li>
<p><strong>Install Cordova CLI</strong>:</p>
<pre><code class="language-sh"># Install Cordova globally
npm install -g cordova
</code></pre>
</li>
<li>
<p><strong>Create a Cordova Project</strong>:</p>
<pre><code class="language-sh"># Create a new Cordova project
cordova create MyCordovaApp com.example.mycordovaapp MyCordovaApp
cd MyCordovaApp
</code></pre>
</li>
</ol>
</div><h1>Creating a Custom Plugin</h1>
<h2>Step 1: Plugin Structure</h2>
<div class='content'><p>A Cordova plugin typically has the following structure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXktcGx1Z2luLwrilJzilIDilIAgc3JjLwrilIIgICDilJzilIDilIAgYW5kcm9pZC8K4pSCICAg4pSCICAg4pSU4pSA4pSAIE15UGx1Z2luLmphdmEK4pSCICAg4pSc4pSA4pSAIGlvcy8K4pSCICAg4pSCICAg4pSU4pSA4pSAIE15UGx1Z2luLnN3aWZ0CuKUnOKUgOKUgCB3d3cvCuKUgiAgIOKUlOKUgOKUgCBteXBsdWdpbi5qcwrilJzilIDilIAgcGx1Z2luLnhtbArilJTilIDilIAgcGFja2FnZS5qc29u"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my-plugin/
├── src/
│   ├── android/
│   │   └── MyPlugin.java
│   ├── ios/
│   │   └── MyPlugin.swift
├── www/
│   └── myplugin.js
├── plugin.xml
└── package.json</pre></div><div class='content'></div><h2>Step 2: Define the Plugin in `plugin.xml`</h2>
<div class='content'><p>The <code>plugin.xml</code> file is the configuration file for your plugin. It defines the plugin's metadata, platform-specific code, and JavaScript interface.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHBsdWdpbiBpZD0iY29tLmV4YW1wbGUubXlwbHVnaW4iIHZlcnNpb249IjEuMC4wIiB4bWxucz0iaHR0cDovL2FwYWNoZS5vcmcvY29yZG92YS9ucy9wbHVnaW5zLzEuMCIgeG1sbnM6YW5kcm9pZD0iaHR0cDovL3NjaGVtYXMuYW5kcm9pZC5jb20vYXBrL3Jlcy9hbmRyb2lkIj4KICAgIDxuYW1lPk15UGx1Z2luPC9uYW1lPgogICAgPGRlc2NyaXB0aW9uPkEgc2ltcGxlIGV4YW1wbGUgcGx1Z2luPC9kZXNjcmlwdGlvbj4KICAgIDxsaWNlbnNlPkFwYWNoZSAyLjA8L2xpY2Vuc2U+CiAgICA8a2V5d29yZHM+Y29yZG92YSxwbHVnaW48L2tleXdvcmRzPgogICAgPGVuZ2luZXM+CiAgICAgICAgPGVuZ2luZSBuYW1lPSJjb3Jkb3ZhIiB2ZXJzaW9uPSI+PTkuMC4wIi8+CiAgICA8L2VuZ2luZXM+CiAgICA8anMtbW9kdWxlIHNyYz0id3d3L215cGx1Z2luLmpzIiBuYW1lPSJNeVBsdWdpbiI+CiAgICAgICAgPGNsb2JiZXJzIHRhcmdldD0iY29yZG92YS5wbHVnaW5zLk15UGx1Z2luIi8+CiAgICA8L2pzLW1vZHVsZT4KICAgIDxwbGF0Zm9ybSBuYW1lPSJhbmRyb2lkIj4KICAgICAgICA8c291cmNlLWZpbGUgc3JjPSJzcmMvYW5kcm9pZC9NeVBsdWdpbi5qYXZhIiB0YXJnZXQtZGlyPSJzcmMvY29tL2V4YW1wbGUvbXlwbHVnaW4iLz4KICAgIDwvcGxhdGZvcm0+CiAgICA8cGxhdGZvcm0gbmFtZT0iaW9zIj4KICAgICAgICA8c291cmNlLWZpbGUgc3JjPSJzcmMvaW9zL015UGx1Z2luLnN3aWZ0IiAvPgogICAgPC9wbGF0Zm9ybT4KPC9wbHVnaW4+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;plugin id=&quot;com.example.myplugin&quot; version=&quot;1.0.0&quot; xmlns=&quot;http://apache.org/cordova/ns/plugins/1.0&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;name&gt;MyPlugin&lt;/name&gt;
    &lt;description&gt;A simple example plugin&lt;/description&gt;
    &lt;license&gt;Apache 2.0&lt;/license&gt;
    &lt;keywords&gt;cordova,plugin&lt;/keywords&gt;
    &lt;engines&gt;
        &lt;engine name=&quot;cordova&quot; version=&quot;&gt;=9.0.0&quot;/&gt;
    &lt;/engines&gt;
    &lt;js-module src=&quot;www/myplugin.js&quot; name=&quot;MyPlugin&quot;&gt;
        &lt;clobbers target=&quot;cordova.plugins.MyPlugin&quot;/&gt;
    &lt;/js-module&gt;
    &lt;platform name=&quot;android&quot;&gt;
        &lt;source-file src=&quot;src/android/MyPlugin.java&quot; target-dir=&quot;src/com/example/myplugin&quot;/&gt;
    &lt;/platform&gt;
    &lt;platform name=&quot;ios&quot;&gt;
        &lt;source-file src=&quot;src/ios/MyPlugin.swift&quot; /&gt;
    &lt;/platform&gt;
&lt;/plugin&gt;</pre></div><div class='content'></div><h2>Step 3: Implement the JavaScript Interface</h2>
<div class='content'><p>Create the <code>www/myplugin.js</code> file to define the JavaScript interface for your plugin.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIGV4ZWMgPSByZXF1aXJlKCdjb3Jkb3ZhL2V4ZWMnKTsKCnZhciBNeVBsdWdpbiA9IHsKICAgIGNvb2xNZXRob2Q6IGZ1bmN0aW9uKGFyZzAsIHN1Y2Nlc3MsIGVycm9yKSB7CiAgICAgICAgZXhlYyhzdWNjZXNzLCBlcnJvciwgJ015UGx1Z2luJywgJ2Nvb2xNZXRob2QnLCBbYXJnMF0pOwogICAgfQp9OwoKbW9kdWxlLmV4cG9ydHMgPSBNeVBsdWdpbjs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var exec = require('cordova/exec');

var MyPlugin = {
    coolMethod: function(arg0, success, error) {
        exec(success, error, 'MyPlugin', 'coolMethod', [arg0]);
    }
};

module.exports = MyPlugin;</pre></div><div class='content'></div><h2>Step 4: Implement the Native Code</h2>
<div class='content'><h4>Android (Java)</h4>
<p>Create the <code>src/android/MyPlugin.java</code> file to implement the native functionality for Android.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBjb20uZXhhbXBsZS5teXBsdWdpbjsKCmltcG9ydCBvcmcuYXBhY2hlLmNvcmRvdmEuQ29yZG92YVBsdWdpbjsKaW1wb3J0IG9yZy5hcGFjaGUuY29yZG92YS5DYWxsYmFja0NvbnRleHQ7CmltcG9ydCBvcmcuanNvbi5KU09OQXJyYXk7CmltcG9ydCBvcmcuanNvbi5KU09ORXhjZXB0aW9uOwoKcHVibGljIGNsYXNzIE15UGx1Z2luIGV4dGVuZHMgQ29yZG92YVBsdWdpbiB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBib29sZWFuIGV4ZWN1dGUoU3RyaW5nIGFjdGlvbiwgSlNPTkFycmF5IGFyZ3MsIENhbGxiYWNrQ29udGV4dCBjYWxsYmFja0NvbnRleHQpIHRocm93cyBKU09ORXhjZXB0aW9uIHsKICAgICAgICBpZiAoYWN0aW9uLmVxdWFscygiY29vbE1ldGhvZCIpKSB7CiAgICAgICAgICAgIFN0cmluZyBtZXNzYWdlID0gYXJncy5nZXRTdHJpbmcoMCk7CiAgICAgICAgICAgIHRoaXMuY29vbE1ldGhvZChtZXNzYWdlLCBjYWxsYmFja0NvbnRleHQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjb29sTWV0aG9kKFN0cmluZyBtZXNzYWdlLCBDYWxsYmFja0NvbnRleHQgY2FsbGJhY2tDb250ZXh0KSB7CiAgICAgICAgaWYgKG1lc3NhZ2UgIT0gbnVsbCAmJiBtZXNzYWdlLmxlbmd0aCgpID4gMCkgewogICAgICAgICAgICBjYWxsYmFja0NvbnRleHQuc3VjY2VzcyhtZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFja0NvbnRleHQuZXJyb3IoIkV4cGVjdGVkIG9uZSBub24tZW1wdHkgc3RyaW5nIGFyZ3VtZW50LiIpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package com.example.myplugin;

import org.apache.cordova.CordovaPlugin;
import org.apache.cordova.CallbackContext;
import org.json.JSONArray;
import org.json.JSONException;

public class MyPlugin extends CordovaPlugin {
    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
        if (action.equals(&quot;coolMethod&quot;)) {
            String message = args.getString(0);
            this.coolMethod(message, callbackContext);
            return true;
        }
        return false;
    }

    private void coolMethod(String message, CallbackContext callbackContext) {
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error(&quot;Expected one non-empty string argument.&quot;);
        }
    }
}</pre></div><div class='content'><h4>iOS (Swift)</h4>
<p>Create the <code>src/ios/MyPlugin.swift</code> file to implement the native functionality for iOS.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IEZvdW5kYXRpb24KaW1wb3J0IENvcmRvdmEKCkBvYmpjKE15UGx1Z2luKSBjbGFzcyBNeVBsdWdpbjogQ0RWUGx1Z2luIHsKICAgIEBvYmpjKGNvb2xNZXRob2Q6KQogICAgZnVuYyBjb29sTWV0aG9kKGNvbW1hbmQ6IENEVkludm9rZWRVcmxDb21tYW5kKSB7CiAgICAgICAgbGV0IG1lc3NhZ2UgPSBjb21tYW5kLmFyZ3VtZW50c1swXSBhcz8gU3RyaW5nID8/ICIiCiAgICAgICAgbGV0IHBsdWdpblJlc3VsdCA9IENEVlBsdWdpblJlc3VsdChzdGF0dXM6IENEVkNvbW1hbmRTdGF0dXNfT0ssIG1lc3NhZ2VBczogbWVzc2FnZSkKICAgICAgICBzZWxmLmNvbW1hbmREZWxlZ2F0ZS5zZW5kKHBsdWdpblJlc3VsdCwgY2FsbGJhY2tJZDogY29tbWFuZC5jYWxsYmFja0lkKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Foundation
import Cordova

@objc(MyPlugin) class MyPlugin: CDVPlugin {
    @objc(coolMethod:)
    func coolMethod(command: CDVInvokedUrlCommand) {
        let message = command.arguments[0] as? String ?? &quot;&quot;
        let pluginResult = CDVPluginResult(status: CDVCommandStatus_OK, messageAs: message)
        self.commandDelegate.send(pluginResult, callbackId: command.callbackId)
    }
}</pre></div><div class='content'></div><h1>Using the Custom Plugin</h1>
<div class='content'><ol>
<li>
<p><strong>Add the Plugin to Your Project</strong>:</p>
<pre><code class="language-sh"># Add the custom plugin to your Cordova project
cordova plugin add path/to/my-plugin
</code></pre>
</li>
<li>
<p><strong>Call the Plugin from JavaScript</strong>:</p>
<pre><code class="language-javascript">document.addEventListener('deviceready', function() {
    cordova.plugins.MyPlugin.coolMethod('Hello, Cordova!', function(success) {
        console.log('Success:', success);
    }, function(error) {
        console.error('Error:', error);
    });
}, false);
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Creating custom Cordova plugins allows you to leverage native device capabilities and extend the functionality of your Cordova applications. By following the steps outlined in this topic, you can create, implement, and use custom plugins effectively. Remember to test your plugins thoroughly on both Android and iOS platforms to ensure compatibility and performance.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='best-practices-for-cordova-development'>&#x25C4;Best Practices for Cordova Development</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Custom Cordova Plugins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integrating-native-code'>Integrating Native Code &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
