<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeout Testing in JUnit</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/timeout-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/timeout-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/timeout-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/junit/timeout-testing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/junit/timeout-testing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='exception-testing'>&#x25C4;Exception Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Timeout Testing in JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parameterized-tests'>Parameterized Tests &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Timeout Testing</h1>
<div class='content'><p>Timeout testing is an essential aspect of unit testing, especially when dealing with methods that may take longer to execute. It helps ensure that your code runs within an acceptable time frame and can be crucial for performance-critical applications.</p>
</div><h1>Why Timeout Testing is Important</h1>
<div class='content'><ul>
<li><strong>Performance Assurance</strong>: Ensures that methods complete within a specified time limit.</li>
<li><strong>Resource Management</strong>: Prevents resource hogging by long-running tests.</li>
<li><strong>Reliability</strong>: Helps identify potential performance bottlenecks.</li>
</ul>
</div><h1>Setting Up Timeout Testing in JUnit</h1>
<div class='content'><p>JUnit provides built-in support for timeout testing. You can specify a timeout for a test method using the <code>@Test</code> annotation.</p>
</div><h2>Example: Basic Timeout Test</h2>
<div class='content'><p>Here's a simple example to demonstrate how to use the timeout feature in JUnit.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwppbXBvcnQgc3RhdGljIG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5Bc3NlcnRpb25zLmFzc2VydFRpbWVvdXQ7CmltcG9ydCBqYXZhLnRpbWUuRHVyYXRpb247CgpwdWJsaWMgY2xhc3MgVGltZW91dFRlc3QgewoKICAgIEBUZXN0CiAgICB2b2lkIHRlc3RXaXRoVGltZW91dCgpIHsKICAgICAgICBhc3NlcnRUaW1lb3V0KER1cmF0aW9uLm9mU2Vjb25kcygyKSwgKCkgLT4gewogICAgICAgICAgICAvLyBTaW11bGF0ZSBhIHRhc2sgdGhhdCB0YWtlcyAxIHNlY29uZAogICAgICAgICAgICBUaHJlYWQuc2xlZXAoMTAwMCk7CiAgICAgICAgfSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertTimeout;
import java.time.Duration;

public class TimeoutTest {

    @Test
    void testWithTimeout() {
        assertTimeout(Duration.ofSeconds(2), () -&gt; {
            // Simulate a task that takes 1 second
            Thread.sleep(1000);
        });
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>assertTimeout(Duration.ofSeconds(2), () -&gt; {...})</code>: This method asserts that the code block inside the lambda expression completes within 2 seconds.</li>
<li><code>Thread.sleep(1000)</code>: Simulates a task that takes 1 second to complete.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Timeout Testing</h1>
<div class='content'><p>For more complex scenarios, you might need to handle timeouts differently, such as applying timeouts to all tests in a class or using different timeout strategies.</p>
</div><h2>Applying Timeout to All Tests in a Class</h2>
<div class='content'><p>You can apply a timeout to all tests in a class using the <code>@Timeout</code> annotation at the class level.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRpbWVvdXQ7CmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5UaW1lVW5pdDsKCkBUaW1lb3V0KHZhbHVlID0gMiwgdW5pdCA9IFRpbWVVbml0LlNFQ09ORFMpCnB1YmxpYyBjbGFzcyBDbGFzc0xldmVsVGltZW91dFRlc3QgewoKICAgIEBUZXN0CiAgICB2b2lkIHRlc3RNZXRob2RPbmUoKSB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIC8vIFNpbXVsYXRlIGEgdGFzayB0aGF0IHRha2VzIDEgc2Vjb25kCiAgICAgICAgVGhyZWFkLnNsZWVwKDEwMDApOwogICAgfQoKICAgIEBUZXN0CiAgICB2b2lkIHRlc3RNZXRob2RUd28oKSB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIC8vIFNpbXVsYXRlIGEgdGFzayB0aGF0IHRha2VzIDEuNSBzZWNvbmRzCiAgICAgICAgVGhyZWFkLnNsZWVwKDE1MDApOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.Timeout;
import java.util.concurrent.TimeUnit;

@Timeout(value = 2, unit = TimeUnit.SECONDS)
public class ClassLevelTimeoutTest {

    @Test
    void testMethodOne() throws InterruptedException {
        // Simulate a task that takes 1 second
        Thread.sleep(1000);
    }

    @Test
    void testMethodTwo() throws InterruptedException {
        // Simulate a task that takes 1.5 seconds
        Thread.sleep(1500);
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>@Timeout(value = 2, unit = TimeUnit.SECONDS)</code>: This annotation ensures that each test method in the class must complete within 2 seconds.</li>
</ul>
</li>
</ul>
</div><h2>Handling Timeout Exceptions</h2>
<div class='content'><p>When a test exceeds the specified timeout, JUnit throws a <code>TimeoutException</code>. You can handle this exception to perform additional actions, such as logging or cleanup.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLmZ1bmN0aW9uLkV4ZWN1dGFibGU7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0VGhyb3dzOwppbXBvcnQgamF2YS50aW1lLkR1cmF0aW9uOwoKcHVibGljIGNsYXNzIFRpbWVvdXRFeGNlcHRpb25UZXN0IHsKCiAgICBAVGVzdAogICAgdm9pZCB0ZXN0VGltZW91dEV4Y2VwdGlvbigpIHsKICAgICAgICBFeGVjdXRhYmxlIGV4ZWN1dGFibGUgPSAoKSAtPiB7CiAgICAgICAgICAgIC8vIFNpbXVsYXRlIGEgdGFzayB0aGF0IHRha2VzIDMgc2Vjb25kcwogICAgICAgICAgICBUaHJlYWQuc2xlZXAoMzAwMCk7CiAgICAgICAgfTsKCiAgICAgICAgYXNzZXJ0VGhyb3dzKGphdmEudXRpbC5jb25jdXJyZW50LlRpbWVvdXRFeGNlcHRpb24uY2xhc3MsICgpIC0+IHsKICAgICAgICAgICAgYXNzZXJ0VGltZW91dChEdXJhdGlvbi5vZlNlY29uZHMoMiksIGV4ZWN1dGFibGUpOwogICAgICAgIH0pOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.function.Executable;
import static org.junit.jupiter.api.Assertions.assertThrows;
import java.time.Duration;

public class TimeoutExceptionTest {

    @Test
    void testTimeoutException() {
        Executable executable = () -&gt; {
            // Simulate a task that takes 3 seconds
            Thread.sleep(3000);
        };

        assertThrows(java.util.concurrent.TimeoutException.class, () -&gt; {
            assertTimeout(Duration.ofSeconds(2), executable);
        });
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>assertThrows(java.util.concurrent.TimeoutException.class, () -&gt; {...})</code>: This method asserts that the code block throws a <code>TimeoutException</code> when it exceeds the specified timeout.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Timeout testing in JUnit is a powerful feature that helps ensure your code runs efficiently and within acceptable time limits. By using the <code>@Test</code> annotation with timeout parameters, applying class-level timeouts, and handling timeout exceptions, you can create robust and performance-aware unit tests.</p>
</div><h2>Summary</h2>
<div class='content'><ul>
<li><strong>Basic Timeout Testing</strong>: Use <code>assertTimeout</code> to specify time limits for individual tests.</li>
<li><strong>Class-Level Timeout</strong>: Apply <code>@Timeout</code> annotation to enforce time limits on all tests in a class.</li>
<li><strong>Handling Timeout Exceptions</strong>: Use <code>assertThrows</code> to handle and test for timeout exceptions.</li>
</ul>
<p>By incorporating timeout testing into your JUnit tests, you can improve the performance and reliability of your applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='exception-testing'>&#x25C4;Exception Testing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Timeout Testing in JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parameterized-tests'>Parameterized Tests &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
