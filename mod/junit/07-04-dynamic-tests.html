<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Tests</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/07-04-dynamic-tests" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/07-04-dynamic-tests" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/07-04-dynamic-tests" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/junit/07-04-dynamic-tests" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/junit/07-04-dynamic-tests" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-03-assumptions-in-junit' title="Assumptions in JUnit">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Dynamic Tests</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-01-writing-effective-tests' title="Writing Effective Tests">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Dynamic tests in JUnit 5 allow you to create tests at runtime, providing a flexible and powerful way to generate test cases dynamically. This feature is particularly useful when the number of test cases is not known beforehand or when you want to generate tests based on some runtime conditions.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Dynamic Tests</strong>: Tests that are generated at runtime.</li>
<li><strong>@TestFactory</strong>: Annotation used to indicate a method that generates dynamic tests.</li>
<li><strong>DynamicTest</strong>: A class representing a single dynamic test case.</li>
<li><strong>Stream, Collection, Iterable</strong>: Dynamic tests can be returned as a Stream, Collection, or Iterable.</li>
</ol>
</div><h1><p>Creating Dynamic Tests</p>
</h1>
<div class='content'></div><h2><p>Using @TestFactory</p>
</h2>
<div class='content'><p>The <code>@TestFactory</code> annotation is used to mark a method that generates dynamic tests. This method should return a <code>Stream</code>, <code>Collection</code>, or <code>Iterable</code> of <code>DynamicTest</code> instances.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'><p>Here is a simple example of creating dynamic tests using <code>@TestFactory</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5EeW5hbWljVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0RmFjdG9yeTsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5mdW5jdGlvbi5FeGVjdXRhYmxlOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKCmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0VHJ1ZTsKCnB1YmxpYyBjbGFzcyBEeW5hbWljVGVzdHNFeGFtcGxlIHsKCiAgICBAVGVzdEZhY3RvcnkKICAgIENvbGxlY3Rpb248RHluYW1pY1Rlc3Q+IGR5bmFtaWNUZXN0cygpIHsKICAgICAgICByZXR1cm4gQXJyYXlzLmFzTGlzdCgKICAgICAgICAgICAgRHluYW1pY1Rlc3QuZHluYW1pY1Rlc3QoIlRlc3QgMSIsICgpIC0+IGFzc2VydFRydWUoaXNFdmVuKDIpKSksCiAgICAgICAgICAgIER5bmFtaWNUZXN0LmR5bmFtaWNUZXN0KCJUZXN0IDIiLCAoKSAtPiBhc3NlcnRUcnVlKGlzRXZlbig0KSkpLAogICAgICAgICAgICBEeW5hbWljVGVzdC5keW5hbWljVGVzdCgiVGVzdCAzIiwgKCkgLT4gYXNzZXJ0VHJ1ZShpc0V2ZW4oNikpKQogICAgICAgICk7CiAgICB9CgogICAgYm9vbGVhbiBpc0V2ZW4oaW50IG51bWJlcikgewogICAgICAgIHJldHVybiBudW1iZXIgJSAyID09IDA7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.DynamicTest;
import org.junit.jupiter.api.TestFactory;
import org.junit.jupiter.api.function.Executable;

import java.util.Arrays;
import java.util.Collection;

import static org.junit.jupiter.api.Assertions.assertTrue;

public class DynamicTestsExample {

    @TestFactory
    Collection&lt;DynamicTest&gt; dynamicTests() {
        return Arrays.asList(
            DynamicTest.dynamicTest(&quot;Test 1&quot;, () -&gt; assertTrue(isEven(2))),
            DynamicTest.dynamicTest(&quot;Test 2&quot;, () -&gt; assertTrue(isEven(4))),
            DynamicTest.dynamicTest(&quot;Test 3&quot;, () -&gt; assertTrue(isEven(6)))
        );
    }

    boolean isEven(int number) {
        return number % 2 == 0;
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>@TestFactory</strong>: Marks the method <code>dynamicTests</code> as a factory for dynamic tests.</li>
<li><strong>DynamicTest.dynamicTest</strong>: Creates a new dynamic test with a display name and an executable (the test logic).</li>
<li><strong>assertTrue</strong>: Asserts that the condition is true.</li>
</ul>
</div><h2><p>Using Streams</p>
</h2>
<div class='content'><p>Dynamic tests can also be generated using streams, which is useful for large or infinite sequences of tests.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5EeW5hbWljVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0RmFjdG9yeTsKCmltcG9ydCBqYXZhLnV0aWwuc3RyZWFtLkludFN0cmVhbTsKaW1wb3J0IGphdmEudXRpbC5zdHJlYW0uU3RyZWFtOwoKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRUcnVlOwoKcHVibGljIGNsYXNzIER5bmFtaWNUZXN0c1N0cmVhbUV4YW1wbGUgewoKICAgIEBUZXN0RmFjdG9yeQogICAgU3RyZWFtPER5bmFtaWNUZXN0PiBkeW5hbWljVGVzdHNGcm9tU3RyZWFtKCkgewogICAgICAgIHJldHVybiBJbnRTdHJlYW0ucmFuZ2UoMCwgMTApCiAgICAgICAgICAgIC5tYXBUb09iaihuIC0+IER5bmFtaWNUZXN0LmR5bmFtaWNUZXN0KCJUZXN0ICIgKyBuLCAoKSAtPiBhc3NlcnRUcnVlKGlzRXZlbihuICogMikpKSk7CiAgICB9CgogICAgYm9vbGVhbiBpc0V2ZW4oaW50IG51bWJlcikgewogICAgICAgIHJldHVybiBudW1iZXIgJSAyID09IDA7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.DynamicTest;
import org.junit.jupiter.api.TestFactory;

import java.util.stream.IntStream;
import java.util.stream.Stream;

import static org.junit.jupiter.api.Assertions.assertTrue;

public class DynamicTestsStreamExample {

    @TestFactory
    Stream&lt;DynamicTest&gt; dynamicTestsFromStream() {
        return IntStream.range(0, 10)
            .mapToObj(n -&gt; DynamicTest.dynamicTest(&quot;Test &quot; + n, () -&gt; assertTrue(isEven(n * 2))));
    }

    boolean isEven(int number) {
        return number % 2 == 0;
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>IntStream.range(0, 10)</strong>: Generates a stream of integers from 0 to 9.</li>
<li><strong>mapToObj</strong>: Maps each integer to a <code>DynamicTest</code>.</li>
<li><strong>DynamicTest.dynamicTest</strong>: Creates a new dynamic test for each integer.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise</p>
</h2>
<div class='content'><p>Create a dynamic test that verifies if a list of strings contains only non-empty strings.</p>
<ol>
<li>Create a method <code>isNonEmpty</code> that checks if a string is non-empty.</li>
<li>Use <code>@TestFactory</code> to generate dynamic tests for a list of strings.</li>
<li>Use <code>assertTrue</code> to assert that each string is non-empty.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5EeW5hbWljVGVzdDsKaW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0RmFjdG9yeTsKCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CgppbXBvcnQgc3RhdGljIG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5Bc3NlcnRpb25zLmFzc2VydFRydWU7CgpwdWJsaWMgY2xhc3MgTm9uRW1wdHlTdHJpbmdUZXN0cyB7CgogICAgQFRlc3RGYWN0b3J5CiAgICBDb2xsZWN0aW9uPER5bmFtaWNUZXN0PiBkeW5hbWljVGVzdHNGb3JOb25FbXB0eVN0cmluZ3MoKSB7CiAgICAgICAgcmV0dXJuIEFycmF5cy5hc0xpc3QoCiAgICAgICAgICAgIER5bmFtaWNUZXN0LmR5bmFtaWNUZXN0KCJUZXN0IDEiLCAoKSAtPiBhc3NlcnRUcnVlKGlzTm9uRW1wdHkoIkhlbGxvIikpKSwKICAgICAgICAgICAgRHluYW1pY1Rlc3QuZHluYW1pY1Rlc3QoIlRlc3QgMiIsICgpIC0+IGFzc2VydFRydWUoaXNOb25FbXB0eSgiSlVuaXQiKSkpLAogICAgICAgICAgICBEeW5hbWljVGVzdC5keW5hbWljVGVzdCgiVGVzdCAzIiwgKCkgLT4gYXNzZXJ0VHJ1ZShpc05vbkVtcHR5KCJEeW5hbWljIFRlc3RzIikpKQogICAgICAgICk7CiAgICB9CgogICAgYm9vbGVhbiBpc05vbkVtcHR5KFN0cmluZyBzdHIpIHsKICAgICAgICByZXR1cm4gc3RyICE9IG51bGwgJiYgIXN0ci5pc0VtcHR5KCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.DynamicTest;
import org.junit.jupiter.api.TestFactory;

import java.util.Arrays;
import java.util.Collection;

import static org.junit.jupiter.api.Assertions.assertTrue;

public class NonEmptyStringTests {

    @TestFactory
    Collection&lt;DynamicTest&gt; dynamicTestsForNonEmptyStrings() {
        return Arrays.asList(
            DynamicTest.dynamicTest(&quot;Test 1&quot;, () -&gt; assertTrue(isNonEmpty(&quot;Hello&quot;))),
            DynamicTest.dynamicTest(&quot;Test 2&quot;, () -&gt; assertTrue(isNonEmpty(&quot;JUnit&quot;))),
            DynamicTest.dynamicTest(&quot;Test 3&quot;, () -&gt; assertTrue(isNonEmpty(&quot;Dynamic Tests&quot;)))
        );
    }

    boolean isNonEmpty(String str) {
        return str != null &amp;&amp; !str.isEmpty();
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>isNonEmpty</strong>: Checks if a string is non-empty.</li>
<li><strong>dynamicTestsForNonEmptyStrings</strong>: Generates dynamic tests for a list of strings.</li>
<li><strong>assertTrue</strong>: Asserts that each string is non-empty.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Returning Null</strong>: Ensure that the <code>@TestFactory</code> method does not return <code>null</code>. It should return a non-null <code>Stream</code>, <code>Collection</code>, or <code>Iterable</code>.</li>
<li><strong>Descriptive Names</strong>: Use descriptive names for dynamic tests to make it easier to identify which test failed.</li>
<li><strong>Avoiding Side Effects</strong>: Ensure that the test logic in dynamic tests does not have side effects that could affect other tests.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Dynamic tests in JUnit 5 provide a powerful way to generate tests at runtime, offering flexibility and scalability. By using <code>@TestFactory</code> and <code>DynamicTest</code>, you can create dynamic test cases based on runtime conditions, making your test suite more robust and adaptable.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-03-assumptions-in-junit' title="Assumptions in JUnit">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-01-writing-effective-tests' title="Writing Effective Tests">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
