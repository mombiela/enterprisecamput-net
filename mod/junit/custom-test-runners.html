<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Test Runners</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/custom-test-runners" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/custom-test-runners" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/custom-test-runners" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/junit/custom-test-runners" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/junit/custom-test-runners" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='verifying-behavior'>&#x25C4;Verifying Behavior</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Test Runners</a>
	</div>
	<div class='col-4 text-end'>
					<a href='rules-in-junit'>Rules in JUnit &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore the concept of custom test runners in JUnit. Test runners are an integral part of JUnit, responsible for executing tests and reporting their results. While JUnit provides several built-in test runners, there are scenarios where you might need to create your own custom test runner to meet specific requirements.</p>
</div><h1>What is a Test Runner?</h1>
<div class='content'><p>A test runner is a component in JUnit that orchestrates the execution of tests. It is responsible for:</p>
<ul>
<li>Discovering test methods.</li>
<li>Executing test methods.</li>
<li>Reporting test results.</li>
</ul>
<p>JUnit provides several built-in test runners, such as:</p>
<ul>
<li><code>BlockJUnit4ClassRunner</code>: The default runner for JUnit 4 tests.</li>
<li><code>Parameterized</code>: A runner for parameterized tests.</li>
<li><code>Suite</code>: A runner for running multiple test classes together.</li>
</ul>
</div><h1>Why Create a Custom Test Runner?</h1>
<div class='content'><p>Creating a custom test runner can be useful in various scenarios, such as:</p>
<ul>
<li>Customizing the test execution process.</li>
<li>Integrating with other tools or frameworks.</li>
<li>Adding custom logging or reporting.</li>
<li>Implementing specific test execution policies.</li>
</ul>
</div><h1>Creating a Custom Test Runner</h1>
<div class='content'><p>To create a custom test runner, you need to extend the <code>org.junit.runner.Runner</code> class and override its methods. Here is a step-by-step guide:</p>
<ol>
<li>
<p><strong>Extend the <code>Runner</code> Class</strong>:</p>
<pre><code class="language-java">import org.junit.runner.Runner;
import org.junit.runner.notification.RunNotifier;
import org.junit.runners.model.InitializationError;

public class CustomRunner extends Runner {
    private final Class&lt;?&gt; testClass;

    public CustomRunner(Class&lt;?&gt; testClass) throws InitializationError {
        this.testClass = testClass;
    }

    @Override
    public Description getDescription() {
        return Description.createTestDescription(testClass, &quot;Custom Test Runner&quot;);
    }

    @Override
    public void run(RunNotifier notifier) {
        // Custom test execution logic
    }
}
</code></pre>
</li>
<li>
<p><strong>Override <code>getDescription</code> Method</strong>:</p>
<ul>
<li>This method provides a description of the tests being run.</li>
<li>It is used by JUnit to display test names and structure.</li>
</ul>
</li>
<li>
<p><strong>Override <code>run</code> Method</strong>:</p>
<ul>
<li>This method contains the logic for executing the tests.</li>
<li>You can add custom logic here to control how tests are executed and reported.</li>
</ul>
</li>
</ol>
</div><h1>Example: Custom Runner with Logging</h1>
<div class='content'><p>Let's create a custom runner that logs the start and end of each test method:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5ydW5uZXIuRGVzY3JpcHRpb247CmltcG9ydCBvcmcuanVuaXQucnVubmVyLlJ1bm5lcjsKaW1wb3J0IG9yZy5qdW5pdC5ydW5uZXIubm90aWZpY2F0aW9uLlJ1bk5vdGlmaWVyOwppbXBvcnQgb3JnLmp1bml0LnJ1bm5lci5ub3RpZmljYXRpb24uUnVuTGlzdGVuZXI7CmltcG9ydCBvcmcuanVuaXQucnVubmVycy5tb2RlbC5Jbml0aWFsaXphdGlvbkVycm9yOwppbXBvcnQgb3JnLmp1bml0LnJ1bm5lcnMubW9kZWwuU3RhdGVtZW50OwoKcHVibGljIGNsYXNzIExvZ2dpbmdSdW5uZXIgZXh0ZW5kcyBSdW5uZXIgewogICAgcHJpdmF0ZSBmaW5hbCBDbGFzczw/PiB0ZXN0Q2xhc3M7CgogICAgcHVibGljIExvZ2dpbmdSdW5uZXIoQ2xhc3M8Pz4gdGVzdENsYXNzKSB0aHJvd3MgSW5pdGlhbGl6YXRpb25FcnJvciB7CiAgICAgICAgdGhpcy50ZXN0Q2xhc3MgPSB0ZXN0Q2xhc3M7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgRGVzY3JpcHRpb24gZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIERlc2NyaXB0aW9uLmNyZWF0ZVRlc3REZXNjcmlwdGlvbih0ZXN0Q2xhc3MsICJMb2dnaW5nIFRlc3QgUnVubmVyIik7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBydW4oUnVuTm90aWZpZXIgbm90aWZpZXIpIHsKICAgICAgICBub3RpZmllci5hZGRMaXN0ZW5lcihuZXcgUnVuTGlzdGVuZXIoKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCB0ZXN0U3RhcnRlZChEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlN0YXJ0aW5nOiAiICsgZGVzY3JpcHRpb24uZ2V0TWV0aG9kTmFtZSgpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHRlc3RGaW5pc2hlZChEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkZpbmlzaGVkOiAiICsgZGVzY3JpcHRpb24uZ2V0TWV0aG9kTmFtZSgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBPYmplY3QgdGVzdEluc3RhbmNlID0gdGVzdENsYXNzLmdldERlY2xhcmVkQ29uc3RydWN0b3IoKS5uZXdJbnN0YW5jZSgpOwogICAgICAgICAgICBmb3IgKGphdmEubGFuZy5yZWZsZWN0Lk1ldGhvZCBtZXRob2QgOiB0ZXN0Q2xhc3MuZ2V0TWV0aG9kcygpKSB7CiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmlzQW5ub3RhdGlvblByZXNlbnQob3JnLmp1bml0LlRlc3QuY2xhc3MpKSB7CiAgICAgICAgICAgICAgICAgICAgU3RhdGVtZW50IHN0YXRlbWVudCA9IG5ldyBTdGF0ZW1lbnQoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBldmFsdWF0ZSgpIHRocm93cyBUaHJvd2FibGUgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmludm9rZSh0ZXN0SW5zdGFuY2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBzdGF0ZW1lbnQuZXZhbHVhdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.runner.Description;
import org.junit.runner.Runner;
import org.junit.runner.notification.RunNotifier;
import org.junit.runner.notification.RunListener;
import org.junit.runners.model.InitializationError;
import org.junit.runners.model.Statement;

public class LoggingRunner extends Runner {
    private final Class&lt;?&gt; testClass;

    public LoggingRunner(Class&lt;?&gt; testClass) throws InitializationError {
        this.testClass = testClass;
    }

    @Override
    public Description getDescription() {
        return Description.createTestDescription(testClass, &quot;Logging Test Runner&quot;);
    }

    @Override
    public void run(RunNotifier notifier) {
        notifier.addListener(new RunListener() {
            @Override
            public void testStarted(Description description) throws Exception {
                System.out.println(&quot;Starting: &quot; + description.getMethodName());
            }

            @Override
            public void testFinished(Description description) throws Exception {
                System.out.println(&quot;Finished: &quot; + description.getMethodName());
            }
        });

        try {
            Object testInstance = testClass.getDeclaredConstructor().newInstance();
            for (java.lang.reflect.Method method : testClass.getMethods()) {
                if (method.isAnnotationPresent(org.junit.Test.class)) {
                    Statement statement = new Statement() {
                        @Override
                        public void evaluate() throws Throwable {
                            method.invoke(testInstance);
                        }
                    };
                    statement.evaluate();
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'></div><h1>Using the Custom Runner</h1>
<div class='content'><p>To use the custom runner, annotate your test class with <code>@RunWith</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5UZXN0OwppbXBvcnQgb3JnLmp1bml0LnJ1bm5lci5SdW5XaXRoOwoKQFJ1bldpdGgoTG9nZ2luZ1J1bm5lci5jbGFzcykKcHVibGljIGNsYXNzIEV4YW1wbGVUZXN0IHsKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0TWV0aG9kMSgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkV4ZWN1dGluZyB0ZXN0TWV0aG9kMSIpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0TWV0aG9kMigpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkV4ZWN1dGluZyB0ZXN0TWV0aG9kMiIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.Test;
import org.junit.runner.RunWith;

@RunWith(LoggingRunner.class)
public class ExampleTest {
    @Test
    public void testMethod1() {
        System.out.println(&quot;Executing testMethod1&quot;);
    }

    @Test
    public void testMethod2() {
        System.out.println(&quot;Executing testMethod2&quot;);
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Custom test runners in JUnit provide a powerful way to control and extend the test execution process. By creating a custom runner, you can integrate with other tools, add custom logging, or implement specific test execution policies. Understanding how to create and use custom test runners can significantly enhance your testing capabilities and allow you to tailor the testing process to your specific needs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='verifying-behavior'>&#x25C4;Verifying Behavior</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Test Runners</a>
	</div>
	<div class='col-4 text-end'>
					<a href='rules-in-junit'>Rules in JUnit &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
