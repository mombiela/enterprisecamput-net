<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing REST APIs with JUnit</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/testing-rest-apis" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/testing-rest-apis" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/testing-rest-apis" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/junit/testing-rest-apis" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/junit/testing-rest-apis" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-web-applications'>&#x25C4;Testing Web Applications</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing REST APIs with JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-databases'>Testing Databases &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Testing REST APIs is a crucial part of ensuring that your web services work correctly. JUnit, a popular testing framework for Java, provides powerful tools to test REST APIs effectively. This section will guide you from the basics of setting up JUnit for API testing to advanced techniques for comprehensive test coverage.</p>
</div><h1>Setting Up JUnit for REST API Testing</h1>
<div class='content'><p>Before diving into testing, you need to set up your environment.</p>
</div><h2>Dependencies</h2>
<div class='content'><p>Add the following dependencies to your <code>pom.xml</code> if you are using Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY2llcz4KICAgIDwhLS0gSlVuaXQgNSAtLT4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5qdW5pdC5qdXBpdGVyPC9ncm91cElkPgogICAgICAgIDxhcnRpZmFjdElkPmp1bml0LWp1cGl0ZXItZW5naW5lPC9hcnRpZmFjdElkPgogICAgICAgIDx2ZXJzaW9uPjUuNy4wPC92ZXJzaW9uPgogICAgICAgIDxzY29wZT50ZXN0PC9zY29wZT4KICAgIDwvZGVwZW5kZW5jeT4KICAgIDwhLS0gUkVTVCBBc3N1cmVkIGZvciBBUEkgdGVzdGluZyAtLT4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPmlvLnJlc3QtYXNzdXJlZDwvZ3JvdXBJZD4KICAgICAgICA8YXJ0aWZhY3RJZD5yZXN0LWFzc3VyZWQ8L2FydGlmYWN0SWQ+CiAgICAgICAgPHZlcnNpb24+NC4zLjM8L3ZlcnNpb24+CiAgICAgICAgPHNjb3BlPnRlc3Q8L3Njb3BlPgogICAgPC9kZXBlbmRlbmN5Pgo8L2RlcGVuZGVuY2llcz4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependencies&gt;
    &lt;!-- JUnit 5 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
        &lt;version&gt;5.7.0&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- REST Assured for API testing --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;
        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;
        &lt;version&gt;4.3.3&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div><div class='content'></div><h1>Basic REST API Testing</h1>
<div class='content'><p>Start with simple GET requests to understand the basics of REST API testing.</p>
</div><h2>Writing a Simple GET Request Test</h2>
<div class='content'><p>Here's a basic example of how to test a GET request using JUnit and REST Assured:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5hcGkuVGVzdDsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CgpwdWJsaWMgY2xhc3MgQXBpVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRFbmRwb2ludCgpIHsKICAgICAgICBSZXNwb25zZSByZXNwb25zZSA9IFJlc3RBc3N1cmVkLmdldCgiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLzEiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMjAwLCByZXNwb25zZS5nZXRTdGF0dXNDb2RlKCkpOwogICAgICAgIGFzc2VydEVxdWFscygiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsIHJlc3BvbnNlLmdldENvbnRlbnRUeXBlKCkpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @Test
    public void testGetEndpoint() {
        Response response = RestAssured.get(&quot;https://jsonplaceholder.typicode.com/posts/1&quot;);
        assertEquals(200, response.getStatusCode());
        assertEquals(&quot;application/json; charset=utf-8&quot;, response.getContentType());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>RestAssured.get</code> sends a GET request to the specified URL.</li>
<li><code>response.getStatusCode()</code> checks the HTTP status code.</li>
<li><code>response.getContentType()</code> checks the content type of the response.</li>
</ul>
</li>
</ul>
</div><h1>Intermediate REST API Testing</h1>
<div class='content'><p>Move on to more complex scenarios, such as testing POST requests and handling request bodies.</p>
</div><h2>Testing POST Requests</h2>
<div class='content'><p>Testing POST requests involves sending data to the server and verifying the response.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQuaHR0cC5Db250ZW50VHlwZTsKaW1wb3J0IGlvLnJlc3Rhc3N1cmVkLnJlc3BvbnNlLlJlc3BvbnNlOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIEFwaVRlc3QgewoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0UG9zdEVuZHBvaW50KCkgewogICAgICAgIFN0cmluZyByZXF1ZXN0Qm9keSA9ICJ7IFwidGl0bGVcIjogXCJmb29cIiwgXCJib2R5XCI6IFwiYmFyXCIsIFwidXNlcklkXCI6IDEgfSI7CgogICAgICAgIFJlc3BvbnNlIHJlc3BvbnNlID0gUmVzdEFzc3VyZWQuZ2l2ZW4oKQogICAgICAgICAgICAgICAgLmNvbnRlbnRUeXBlKENvbnRlbnRUeXBlLkpTT04pCiAgICAgICAgICAgICAgICAuYm9keShyZXF1ZXN0Qm9keSkKICAgICAgICAgICAgICAgIC5wb3N0KCJodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMiKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIwMSwgcmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLCByZXNwb25zZS5nZXRDb250ZW50VHlwZSgpKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @Test
    public void testPostEndpoint() {
        String requestBody = &quot;{ \&quot;title\&quot;: \&quot;foo\&quot;, \&quot;body\&quot;: \&quot;bar\&quot;, \&quot;userId\&quot;: 1 }&quot;;

        Response response = RestAssured.given()
                .contentType(ContentType.JSON)
                .body(requestBody)
                .post(&quot;https://jsonplaceholder.typicode.com/posts&quot;);

        assertEquals(201, response.getStatusCode());
        assertEquals(&quot;application/json; charset=utf-8&quot;, response.getContentType());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>RestAssured.given().contentType(ContentType.JSON).body(requestBody).post(url)</code> sends a POST request with a JSON body.</li>
<li><code>assertEquals(201, response.getStatusCode())</code> checks that the status code is 201 (Created).</li>
</ul>
</li>
</ul>
</div><h1>Advanced REST API Testing</h1>
<div class='content'><p>For advanced testing, you can validate complex responses, use parameterized tests, and handle authentication.</p>
</div><h2>Validating Complex Responses</h2>
<div class='content'><p>Use JSONPath to validate specific parts of the response.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5hcGkuVGVzdDsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CmltcG9ydCBzdGF0aWMgb3JnLmhhbWNyZXN0Lk1hdGNoZXJzLmVxdWFsVG87CgpwdWJsaWMgY2xhc3MgQXBpVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RDb21wbGV4UmVzcG9uc2UoKSB7CiAgICAgICAgUmVzcG9uc2UgcmVzcG9uc2UgPSBSZXN0QXNzdXJlZC5nZXQoImh0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cy8xIik7CgogICAgICAgIHJlc3BvbnNlLnRoZW4oKS5ib2R5KCJ1c2VySWQiLCBlcXVhbFRvKDEpKTsKICAgICAgICByZXNwb25zZS50aGVuKCkuYm9keSgiaWQiLCBlcXVhbFRvKDEpKTsKICAgICAgICByZXNwb25zZS50aGVuKCkuYm9keSgidGl0bGUiLCBlcXVhbFRvKCJzdW50IGF1dCBmYWNlcmUgcmVwZWxsYXQgcHJvdmlkZW50IG9jY2FlY2F0aSBleGNlcHR1cmkgb3B0aW8gcmVwcmVoZW5kZXJpdCIpKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.hamcrest.Matchers.equalTo;

public class ApiTest {

    @Test
    public void testComplexResponse() {
        Response response = RestAssured.get(&quot;https://jsonplaceholder.typicode.com/posts/1&quot;);

        response.then().body(&quot;userId&quot;, equalTo(1));
        response.then().body(&quot;id&quot;, equalTo(1));
        response.then().body(&quot;title&quot;, equalTo(&quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;));
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>response.then().body(&quot;userId&quot;, equalTo(1))</code> uses JSONPath to validate that the <code>userId</code> field is 1.</li>
</ul>
</li>
</ul>
</div><h2>Parameterized Tests</h2>
<div class='content'><p>JUnit 5 supports parameterized tests to run the same test with different inputs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5wYXJhbXMuUGFyYW1ldGVyaXplZFRlc3Q7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5wYXJhbXMucHJvdmlkZXIuVmFsdWVTb3VyY2U7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIEFwaVRlc3QgewoKICAgIEBQYXJhbWV0ZXJpemVkVGVzdAogICAgQFZhbHVlU291cmNlKHN0cmluZ3MgPSB7ICIxIiwgIjIiLCAiMyIgfSkKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRFbmRwb2ludFdpdGhQYXJhbWV0ZXJzKFN0cmluZyBwb3N0SWQpIHsKICAgICAgICBSZXNwb25zZSByZXNwb25zZSA9IFJlc3RBc3N1cmVkLmdldCgiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLyIgKyBwb3N0SWQpOwogICAgICAgIGFzc2VydEVxdWFscygyMDAsIHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @ParameterizedTest
    @ValueSource(strings = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; })
    public void testGetEndpointWithParameters(String postId) {
        Response response = RestAssured.get(&quot;https://jsonplaceholder.typicode.com/posts/&quot; + postId);
        assertEquals(200, response.getStatusCode());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>@ParameterizedTest</code> and <code>@ValueSource</code> run the test with different <code>postId</code> values.</li>
</ul>
</li>
</ul>
</div><h2>Handling Authentication</h2>
<div class='content'><p>Many APIs require authentication. Here's how to handle basic authentication:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5hcGkuVGVzdDsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CgpwdWJsaWMgY2xhc3MgQXBpVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RBdXRoZW50aWNhdGVkRW5kcG9pbnQoKSB7CiAgICAgICAgUmVzcG9uc2UgcmVzcG9uc2UgPSBSZXN0QXNzdXJlZC5naXZlbigpCiAgICAgICAgICAgICAgICAuYXV0aCgpLmJhc2ljKCJ1c2VybmFtZSIsICJwYXNzd29yZCIpCiAgICAgICAgICAgICAgICAuZ2V0KCJodHRwczovL2V4YW1wbGUuY29tL2F1dGhlbnRpY2F0ZWQtZW5kcG9pbnQiKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIwMCwgcmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @Test
    public void testAuthenticatedEndpoint() {
        Response response = RestAssured.given()
                .auth().basic(&quot;username&quot;, &quot;password&quot;)
                .get(&quot;https://example.com/authenticated-endpoint&quot;);

        assertEquals(200, response.getStatusCode());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>RestAssured.given().auth().basic(&quot;username&quot;, &quot;password&quot;)</code> sets up basic authentication for the request.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Testing REST APIs with JUnit and REST Assured is a powerful way to ensure your web services are reliable and perform as expected. Starting from simple GET requests to advanced scenarios like handling authentication and validating complex responses, you now have a comprehensive toolkit for API testing. Practice these techniques to build robust and maintainable tests for your REST APIs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-web-applications'>&#x25C4;Testing Web Applications</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing REST APIs with JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-databases'>Testing Databases &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
