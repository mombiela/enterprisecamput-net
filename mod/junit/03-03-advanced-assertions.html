<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Assertions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/03-03-advanced-assertions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/03-03-advanced-assertions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/03-03-advanced-assertions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/junit/03-03-advanced-assertions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/junit/03-03-advanced-assertions" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-common-assertions' title="Common Assertions">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Advanced Assertions</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-custom-assertions' title="Custom Assertions">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into advanced assertions in JUnit. These assertions go beyond the basic checks and allow for more complex and detailed testing scenarios. Understanding and utilizing these advanced assertions will enable you to write more robust and comprehensive tests.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Assertions with Messages</strong>: Adding custom messages to assertions for better debugging.</li>
<li><strong>Grouped Assertions</strong>: Using <code>assertAll</code> to group multiple assertions together.</li>
<li><strong>Exception Assertions</strong>: Asserting that a specific exception is thrown.</li>
<li><strong>Timeout Assertions</strong>: Ensuring that a piece of code completes within a specified time.</li>
<li><strong>Custom Assertions</strong>: Creating your own assertion methods for reusable and readable tests.</li>
</ol>
</div><h1><p>Assertions with Messages</p>
</h1>
<div class='content'><p>Adding custom messages to assertions can help you understand why a test failed. This is particularly useful when dealing with complex test cases.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy4qOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRBc3NlcnRpb25zVGVzdCB7CgogICAgQFRlc3QKICAgIHZvaWQgdGVzdFdpdGhDdXN0b21NZXNzYWdlKCkgewogICAgICAgIGludCBleHBlY3RlZCA9IDU7CiAgICAgICAgaW50IGFjdHVhbCA9IDM7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGV4cGVjdGVkLCBhY3R1YWwsICJUaGUgYWN0dWFsIHZhbHVlIGRpZCBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHZhbHVlIik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;

public class AdvancedAssertionsTest {

    @Test
    void testWithCustomMessage() {
        int expected = 5;
        int actual = 3;
        assertEquals(expected, actual, &quot;The actual value did not match the expected value&quot;);
    }
}</pre></div><div class='content'><p>In this example, if the test fails, the message &quot;The actual value did not match the expected value&quot; will be displayed, providing more context for the failure.</p>
</div><h1><p>Grouped Assertions</p>
</h1>
<div class='content'><p>JUnit 5 allows you to group multiple assertions together using <code>assertAll</code>. This is useful when you want to check multiple conditions in a single test.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy4qOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRBc3NlcnRpb25zVGVzdCB7CgogICAgQFRlc3QKICAgIHZvaWQgdGVzdEdyb3VwZWRBc3NlcnRpb25zKCkgewogICAgICAgIGFzc2VydEFsbCgiR3JvdXBlZCBBc3NlcnRpb25zIiwKICAgICAgICAgICAgKCkgLT4gYXNzZXJ0RXF1YWxzKDQsIDIgKyAyKSwKICAgICAgICAgICAgKCkgLT4gYXNzZXJ0VHJ1ZSgiSGVsbG8iLnN0YXJ0c1dpdGgoIkgiKSksCiAgICAgICAgICAgICgpIC0+IGFzc2VydEZhbHNlKCJXb3JsZCIuaXNFbXB0eSgpKQogICAgICAgICk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;

public class AdvancedAssertionsTest {

    @Test
    void testGroupedAssertions() {
        assertAll(&quot;Grouped Assertions&quot;,
            () -&gt; assertEquals(4, 2 + 2),
            () -&gt; assertTrue(&quot;Hello&quot;.startsWith(&quot;H&quot;)),
            () -&gt; assertFalse(&quot;World&quot;.isEmpty())
        );
    }
}</pre></div><div class='content'><p>In this example, all assertions within <code>assertAll</code> are executed, and the test will report all failures, not just the first one.</p>
</div><h1><p>Exception Assertions</p>
</h1>
<div class='content'><p>You can assert that a specific exception is thrown using <code>assertThrows</code>.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy4qOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRBc3NlcnRpb25zVGVzdCB7CgogICAgQFRlc3QKICAgIHZvaWQgdGVzdEV4Y2VwdGlvbigpIHsKICAgICAgICBFeGNlcHRpb24gZXhjZXB0aW9uID0gYXNzZXJ0VGhyb3dzKEFyaXRobWV0aWNFeGNlcHRpb24uY2xhc3MsICgpIC0+IHsKICAgICAgICAgICAgaW50IHJlc3VsdCA9IDEgLyAwOwogICAgICAgIH0pOwogICAgICAgIGFzc2VydEVxdWFscygiLyBieSB6ZXJvIiwgZXhjZXB0aW9uLmdldE1lc3NhZ2UoKSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;

public class AdvancedAssertionsTest {

    @Test
    void testException() {
        Exception exception = assertThrows(ArithmeticException.class, () -&gt; {
            int result = 1 / 0;
        });
        assertEquals(&quot;/ by zero&quot;, exception.getMessage());
    }
}</pre></div><div class='content'><p>In this example, the test checks that an <code>ArithmeticException</code> is thrown and verifies the exception message.</p>
</div><h1><p>Timeout Assertions</p>
</h1>
<div class='content'><p>JUnit 5 provides <code>assertTimeout</code> and <code>assertTimeoutPreemptively</code> to ensure that a piece of code completes within a specified time.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy4qOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBqYXZhLnRpbWUuRHVyYXRpb247CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRBc3NlcnRpb25zVGVzdCB7CgogICAgQFRlc3QKICAgIHZvaWQgdGVzdFRpbWVvdXQoKSB7CiAgICAgICAgYXNzZXJ0VGltZW91dChEdXJhdGlvbi5vZlNlY29uZHMoMSksICgpIC0+IHsKICAgICAgICAgICAgLy8gU2ltdWxhdGUgdGFzayB0aGF0IHRha2VzIGxlc3MgdGhhbiAxIHNlY29uZAogICAgICAgICAgICBUaHJlYWQuc2xlZXAoNTAwKTsKICAgICAgICB9KTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;
import java.time.Duration;

public class AdvancedAssertionsTest {

    @Test
    void testTimeout() {
        assertTimeout(Duration.ofSeconds(1), () -&gt; {
            // Simulate task that takes less than 1 second
            Thread.sleep(500);
        });
    }
}</pre></div><div class='content'><p>In this example, the test will fail if the code inside the lambda expression takes more than 1 second to execute.</p>
</div><h1><p>Custom Assertions</p>
</h1>
<div class='content'><p>Creating custom assertions can make your tests more readable and reusable. You can encapsulate common checks into methods.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy4qOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRBc3NlcnRpb25zVGVzdCB7CgogICAgQFRlc3QKICAgIHZvaWQgdGVzdEN1c3RvbUFzc2VydGlvbigpIHsKICAgICAgICBQZXJzb24gcGVyc29uID0gbmV3IFBlcnNvbigiSm9obiIsIDI1KTsKICAgICAgICBhc3NlcnRQZXJzb25Jc0FkdWx0KHBlcnNvbik7CiAgICB9CgogICAgdm9pZCBhc3NlcnRQZXJzb25Jc0FkdWx0KFBlcnNvbiBwZXJzb24pIHsKICAgICAgICBhc3NlcnRUcnVlKHBlcnNvbi5nZXRBZ2UoKSA+PSAxOCwgIlBlcnNvbiBzaG91bGQgYmUgYW4gYWR1bHQiKTsKICAgIH0KCiAgICBjbGFzcyBQZXJzb24gewogICAgICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICAgICAgcHJpdmF0ZSBpbnQgYWdlOwoKICAgICAgICBQZXJzb24oU3RyaW5nIG5hbWUsIGludCBhZ2UpIHsKICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7CiAgICAgICAgfQoKICAgICAgICBpbnQgZ2V0QWdlKCkgewogICAgICAgICAgICByZXR1cm4gYWdlOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;

public class AdvancedAssertionsTest {

    @Test
    void testCustomAssertion() {
        Person person = new Person(&quot;John&quot;, 25);
        assertPersonIsAdult(person);
    }

    void assertPersonIsAdult(Person person) {
        assertTrue(person.getAge() &gt;= 18, &quot;Person should be an adult&quot;);
    }

    class Person {
        private String name;
        private int age;

        Person(String name, int age) {
            this.name = name;
            this.age = age;
        }

        int getAge() {
            return age;
        }
    }
}</pre></div><div class='content'><p>In this example, <code>assertPersonIsAdult</code> is a custom assertion method that checks if a person is an adult.</p>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Create a test class <code>AdvancedAssertionsExerciseTest</code>.</li>
<li>Write a test method <code>testAdvancedAssertions</code> that:
<ul>
<li>Uses <code>assertAll</code> to group multiple assertions.</li>
<li>Asserts that a <code>NullPointerException</code> is thrown when accessing a method on a null object.</li>
<li>Uses <code>assertTimeout</code> to ensure a method completes within 2 seconds.</li>
<li>Includes a custom assertion method to check if a string is a valid email.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy4qOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBqYXZhLnRpbWUuRHVyYXRpb247CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRBc3NlcnRpb25zRXhlcmNpc2VUZXN0IHsKCiAgICBAVGVzdAogICAgdm9pZCB0ZXN0QWR2YW5jZWRBc3NlcnRpb25zKCkgewogICAgICAgIGFzc2VydEFsbCgiR3JvdXBlZCBBc3NlcnRpb25zIiwKICAgICAgICAgICAgKCkgLT4gYXNzZXJ0RXF1YWxzKDEwLCA1ICsgNSksCiAgICAgICAgICAgICgpIC0+IGFzc2VydFRydWUoIkpVbml0Ii5jb250YWlucygiVW5pdCIpKSwKICAgICAgICAgICAgKCkgLT4gYXNzZXJ0RmFsc2UoIlRlc3QiLmlzRW1wdHkoKSkKICAgICAgICApOwoKICAgICAgICBhc3NlcnRUaHJvd3MoTnVsbFBvaW50ZXJFeGNlcHRpb24uY2xhc3MsICgpIC0+IHsKICAgICAgICAgICAgU3RyaW5nIHN0ciA9IG51bGw7CiAgICAgICAgICAgIHN0ci5sZW5ndGgoKTsKICAgICAgICB9KTsKCiAgICAgICAgYXNzZXJ0VGltZW91dChEdXJhdGlvbi5vZlNlY29uZHMoMiksICgpIC0+IHsKICAgICAgICAgICAgLy8gU2ltdWxhdGUgdGFzayB0aGF0IHRha2VzIGxlc3MgdGhhbiAyIHNlY29uZHMKICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDEwMDApOwogICAgICAgIH0pOwoKICAgICAgICBhc3NlcnRWYWxpZEVtYWlsKCJ0ZXN0QGV4YW1wbGUuY29tIik7CiAgICB9CgogICAgdm9pZCBhc3NlcnRWYWxpZEVtYWlsKFN0cmluZyBlbWFpbCkgewogICAgICAgIGFzc2VydFRydWUoZW1haWwuY29udGFpbnMoIkAiKSAmJiBlbWFpbC5jb250YWlucygiLiIpLCAiRW1haWwgc2hvdWxkIGJlIHZhbGlkIik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;
import java.time.Duration;

public class AdvancedAssertionsExerciseTest {

    @Test
    void testAdvancedAssertions() {
        assertAll(&quot;Grouped Assertions&quot;,
            () -&gt; assertEquals(10, 5 + 5),
            () -&gt; assertTrue(&quot;JUnit&quot;.contains(&quot;Unit&quot;)),
            () -&gt; assertFalse(&quot;Test&quot;.isEmpty())
        );

        assertThrows(NullPointerException.class, () -&gt; {
            String str = null;
            str.length();
        });

        assertTimeout(Duration.ofSeconds(2), () -&gt; {
            // Simulate task that takes less than 2 seconds
            Thread.sleep(1000);
        });

        assertValidEmail(&quot;test@example.com&quot;);
    }

    void assertValidEmail(String email) {
        assertTrue(email.contains(&quot;@&quot;) &amp;&amp; email.contains(&quot;.&quot;), &quot;Email should be valid&quot;);
    }
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we explored advanced assertions in JUnit, including assertions with messages, grouped assertions, exception assertions, timeout assertions, and custom assertions. These advanced techniques will help you write more comprehensive and maintainable tests. In the next module, we will dive into parameterized tests, which allow you to run the same test with different inputs.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-common-assertions' title="Common Assertions">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-custom-assertions' title="Custom Assertions">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
