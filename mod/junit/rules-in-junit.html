<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rules in JUnit</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/rules-in-junit" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/rules-in-junit" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/rules-in-junit" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/junit/rules-in-junit" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/junit/rules-in-junit" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-test-runners'>&#x25C4;Custom Test Runners</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Rules in JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='assumptions-in-junit'>Assumptions in JUnit &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to JUnit Rules</h1>
<div class='content'><p>JUnit Rules are a powerful feature that allows you to add additional behavior to your tests. They provide a way to encapsulate reusable test logic and can be used to manage resources, handle exceptions, or modify the behavior of test methods.</p>
</div><h1>Key Concepts of JUnit Rules</h1>
<div class='content'><ul>
<li><strong>Rule</strong>: An object that can intercept test method calls and add additional behavior.</li>
<li><strong>@Rule Annotation</strong>: Used to declare a rule in a test class.</li>
<li><strong>TestRule Interface</strong>: The interface that must be implemented to create a custom rule.</li>
<li><strong>ExternalResource</strong>: A base class for rules that set up and tear down external resources.</li>
</ul>
</div><h1>Built-in JUnit Rules</h1>
<div class='content'><p>JUnit provides several built-in rules that can be used to simplify common testing tasks.</p>
</div><h2>TemporaryFolder Rule</h2>
<div class='content'><p>The <code>TemporaryFolder</code> rule allows you to create files and folders that are automatically deleted after the test method finishes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFRlbXBvcmFyeUZvbGRlclRlc3QgewogICAgQFJ1bGUKICAgIHB1YmxpYyBUZW1wb3JhcnlGb2xkZXIgZm9sZGVyID0gbmV3IFRlbXBvcmFyeUZvbGRlcigpOwoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0VXNpbmdUZW1wRm9sZGVyKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICBGaWxlIGNyZWF0ZWRGaWxlID0gZm9sZGVyLm5ld0ZpbGUoIm15ZmlsZS50eHQiKTsKICAgICAgICBGaWxlIGNyZWF0ZWRGb2xkZXIgPSBmb2xkZXIubmV3Rm9sZGVyKCJzdWJmb2xkZXIiKTsKICAgICAgICAKICAgICAgICBhc3NlcnRUcnVlKGNyZWF0ZWRGaWxlLmV4aXN0cygpKTsKICAgICAgICBhc3NlcnRUcnVlKGNyZWF0ZWRGb2xkZXIuZXhpc3RzKCkpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class TemporaryFolderTest {
    @Rule
    public TemporaryFolder folder = new TemporaryFolder();

    @Test
    public void testUsingTempFolder() throws IOException {
        File createdFile = folder.newFile(&quot;myfile.txt&quot;);
        File createdFolder = folder.newFolder(&quot;subfolder&quot;);
        
        assertTrue(createdFile.exists());
        assertTrue(createdFolder.exists());
    }
}</pre></div><div class='content'></div><h2>ExpectedException Rule</h2>
<div class='content'><p>The <code>ExpectedException</code> rule allows you to verify that your code throws a specific exception.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIEV4cGVjdGVkRXhjZXB0aW9uVGVzdCB7CiAgICBAUnVsZQogICAgcHVibGljIEV4cGVjdGVkRXhjZXB0aW9uIHRocm93biA9IEV4cGVjdGVkRXhjZXB0aW9uLm5vbmUoKTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEV4Y2VwdGlvbigpIHsKICAgICAgICB0aHJvd24uZXhwZWN0KE51bGxQb2ludGVyRXhjZXB0aW9uLmNsYXNzKTsKICAgICAgICB0aHJvd24uZXhwZWN0TWVzc2FnZSgiTnVsbCBwb2ludGVyIGV4Y2VwdGlvbiIpOwoKICAgICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24oIk51bGwgcG9pbnRlciBleGNlcHRpb24iKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ExpectedExceptionTest {
    @Rule
    public ExpectedException thrown = ExpectedException.none();

    @Test
    public void testException() {
        thrown.expect(NullPointerException.class);
        thrown.expectMessage(&quot;Null pointer exception&quot;);

        throw new NullPointerException(&quot;Null pointer exception&quot;);
    }
}</pre></div><div class='content'></div><h2>Timeout Rule</h2>
<div class='content'><p>The <code>Timeout</code> rule can be used to fail a test if it takes longer than a specified amount of time.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFRpbWVvdXRUZXN0IHsKICAgIEBSdWxlCiAgICBwdWJsaWMgVGltZW91dCBnbG9iYWxUaW1lb3V0ID0gVGltZW91dC5zZWNvbmRzKDIpOwoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0V2l0aFRpbWVvdXQoKSB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIFRocmVhZC5zbGVlcCgxMDAwKTsgLy8gVGhpcyB3aWxsIHBhc3MKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFdpdGhUaW1lb3V0RXhjZWVkZWQoKSB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIFRocmVhZC5zbGVlcCgzMDAwKTsgLy8gVGhpcyB3aWxsIGZhaWwKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class TimeoutTest {
    @Rule
    public Timeout globalTimeout = Timeout.seconds(2);

    @Test
    public void testWithTimeout() throws InterruptedException {
        Thread.sleep(1000); // This will pass
    }

    @Test
    public void testWithTimeoutExceeded() throws InterruptedException {
        Thread.sleep(3000); // This will fail
    }
}</pre></div><div class='content'></div><h1>Creating Custom Rules</h1>
<div class='content'><p>You can create your own custom rules by implementing the <code>TestRule</code> interface.</p>
</div><h2>Example: Custom Logging Rule</h2>
<div class='content'><p>This custom rule logs the start and end of each test method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIExvZ2dpbmdSdWxlIGltcGxlbWVudHMgVGVzdFJ1bGUgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RhdGVtZW50IGFwcGx5KFN0YXRlbWVudCBiYXNlLCBEZXNjcmlwdGlvbiBkZXNjcmlwdGlvbikgewogICAgICAgIHJldHVybiBuZXcgU3RhdGVtZW50KCkgewogICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHVibGljIHZvaWQgZXZhbHVhdGUoKSB0aHJvd3MgVGhyb3dhYmxlIHsKICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiU3RhcnRpbmcgdGVzdDogIiArIGRlc2NyaXB0aW9uLmdldE1ldGhvZE5hbWUoKSk7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGJhc2UuZXZhbHVhdGUoKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJGaW5pc2hlZCB0ZXN0OiAiICsgZGVzY3JpcHRpb24uZ2V0TWV0aG9kTmFtZSgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9Cn0KCnB1YmxpYyBjbGFzcyBDdXN0b21SdWxlVGVzdCB7CiAgICBAUnVsZQogICAgcHVibGljIExvZ2dpbmdSdWxlIGxvZ2dpbmdSdWxlID0gbmV3IExvZ2dpbmdSdWxlKCk7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RNZXRob2QxKCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiRXhlY3V0aW5nIHRlc3RNZXRob2QxIik7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RNZXRob2QyKCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiRXhlY3V0aW5nIHRlc3RNZXRob2QyIik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class LoggingRule implements TestRule {
    @Override
    public Statement apply(Statement base, Description description) {
        return new Statement() {
            @Override
            public void evaluate() throws Throwable {
                System.out.println(&quot;Starting test: &quot; + description.getMethodName());
                try {
                    base.evaluate();
                } finally {
                    System.out.println(&quot;Finished test: &quot; + description.getMethodName());
                }
            }
        };
    }
}

public class CustomRuleTest {
    @Rule
    public LoggingRule loggingRule = new LoggingRule();

    @Test
    public void testMethod1() {
        System.out.println(&quot;Executing testMethod1&quot;);
    }

    @Test
    public void testMethod2() {
        System.out.println(&quot;Executing testMethod2&quot;);
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>JUnit Rules provide a flexible and powerful way to add additional behavior to your tests. By using built-in rules like <code>TemporaryFolder</code>, <code>ExpectedException</code>, and <code>Timeout</code>, you can simplify common testing tasks. Additionally, creating custom rules allows you to encapsulate reusable test logic, making your tests cleaner and more maintainable. Understanding and leveraging JUnit Rules can significantly enhance your testing capabilities and improve the quality of your test suite.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-test-runners'>&#x25C4;Custom Test Runners</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Rules in JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='assumptions-in-junit'>Assumptions in JUnit &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
