<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimizing Scripts</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/optimizing-scripts" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/optimizing-scripts" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/optimizing-scripts" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/unity/optimizing-scripts" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/unity/optimizing-scripts" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='reducing-draw-calls'>&#x25C4;Reducing Draw Calls</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Optimizing Scripts</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-multiplayer-in-unity'>Introduction to Multiplayer in Unity &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Script Optimization</h1>
<div class='content'><p>Optimizing scripts in Unity is crucial for improving the performance and efficiency of your game. This section will cover the basics of script optimization, including why it's important and the general principles you should follow.</p>
<ul>
<li>
<p><strong>Why Optimize?</strong></p>
<ul>
<li>Enhances game performance.</li>
<li>Reduces lag and frame drops.</li>
<li>Improves player experience.</li>
<li>Makes the game run smoothly on a wider range of devices.</li>
</ul>
</li>
<li>
<p><strong>General Principles</strong></p>
<ul>
<li>Avoid unnecessary calculations.</li>
<li>Use efficient data structures.</li>
<li>Minimize memory usage.</li>
<li>Optimize rendering and physics calculations.</li>
</ul>
</li>
</ul>
</div><h1>Profiling and Identifying Bottlenecks</h1>
<div class='content'><p>Before optimizing, you need to identify the parts of your code that are causing performance issues.</p>
<ul>
<li><strong>Unity Profiler</strong>
<ul>
<li>Use the Unity Profiler to monitor CPU, GPU, memory, and other performance metrics.</li>
<li>Identify which scripts and functions are consuming the most resources.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRXhhbXBsZSA6IE1vbm9CZWhhdmlvdXIKewogICAgdm9pZCBVcGRhdGUoKQogICAgewogICAgICAgIC8vIFRoaXMgaXMgYSBzaW1wbGUgZXhhbXBsZSB0byBzaG93IGhvdyBVcGRhdGUgY2FuIGJlIGEgYm90dGxlbmVjawogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwMDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgRGVidWcuTG9nKCJUaGlzIGlzIGEgcGVyZm9ybWFuY2UgYm90dGxlbmVjayEiKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class Example : MonoBehaviour
{
    void Update()
    {
        // This is a simple example to show how Update can be a bottleneck
        for (int i = 0; i &lt; 1000; i++)
        {
            Debug.Log(&quot;This is a performance bottleneck!&quot;);
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Deep Profiling</strong>
<ul>
<li>Enable deep profiling to get detailed information about function calls.</li>
<li>Be aware that deep profiling can slow down your game significantly.</li>
</ul>
</li>
</ul>
</div><h1>Optimizing Update Loops</h1>
<div class='content'><p>The <code>Update</code> method is called once per frame, making it a common source of performance issues.</p>
<ul>
<li><strong>Avoid Heavy Calculations in Update</strong>
<ul>
<li>Move heavy calculations to <code>FixedUpdate</code> or <code>LateUpdate</code> if they don't need to run every frame.</li>
<li>Use coroutines for tasks that can be spread over multiple frames.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgT3B0aW1pemVkRXhhbXBsZSA6IE1vbm9CZWhhdmlvdXIKewogICAgdm9pZCBTdGFydCgpCiAgICB7CiAgICAgICAgU3RhcnRDb3JvdXRpbmUoSGVhdnlUYXNrKCkpOwogICAgfQoKICAgIElFbnVtZXJhdG9yIEhlYXZ5VGFzaygpCiAgICB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDAwOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBEZWJ1Zy5Mb2coIlRoaXMgaXMgc3ByZWFkIG92ZXIgbXVsdGlwbGUgZnJhbWVzISIpOwogICAgICAgICAgICB5aWVsZCByZXR1cm4gbnVsbDsgLy8gV2FpdCBmb3IgdGhlIG5leHQgZnJhbWUKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class OptimizedExample : MonoBehaviour
{
    void Start()
    {
        StartCoroutine(HeavyTask());
    }

    IEnumerator HeavyTask()
    {
        for (int i = 0; i &lt; 1000; i++)
        {
            Debug.Log(&quot;This is spread over multiple frames!&quot;);
            yield return null; // Wait for the next frame
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Use Object Pooling</strong>
<ul>
<li>Reuse objects instead of creating and destroying them frequently.</li>
<li>Reduces garbage collection overhead.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljOwoKcHVibGljIGNsYXNzIE9iamVjdFBvb2wgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBHYW1lT2JqZWN0IHByZWZhYjsKICAgIHByaXZhdGUgTGlzdDxHYW1lT2JqZWN0PiBwb29sID0gbmV3IExpc3Q8R2FtZU9iamVjdD4oKTsKCiAgICBwdWJsaWMgR2FtZU9iamVjdCBHZXRPYmplY3QoKQogICAgewogICAgICAgIGZvcmVhY2ggKHZhciBvYmogaW4gcG9vbCkKICAgICAgICB7CiAgICAgICAgICAgIGlmICghb2JqLmFjdGl2ZUluSGllcmFyY2h5KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBvYmouU2V0QWN0aXZlKHRydWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgR2FtZU9iamVjdCBuZXdPYmogPSBJbnN0YW50aWF0ZShwcmVmYWIpOwogICAgICAgIHBvb2wuQWRkKG5ld09iaik7CiAgICAgICAgcmV0dXJuIG5ld09iajsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBSZXR1cm5PYmplY3QoR2FtZU9iamVjdCBvYmopCiAgICB7CiAgICAgICAgb2JqLlNldEFjdGl2ZShmYWxzZSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using System.Collections.Generic;

public class ObjectPool : MonoBehaviour
{
    public GameObject prefab;
    private List&lt;GameObject&gt; pool = new List&lt;GameObject&gt;();

    public GameObject GetObject()
    {
        foreach (var obj in pool)
        {
            if (!obj.activeInHierarchy)
            {
                obj.SetActive(true);
                return obj;
            }
        }

        GameObject newObj = Instantiate(prefab);
        pool.Add(newObj);
        return newObj;
    }

    public void ReturnObject(GameObject obj)
    {
        obj.SetActive(false);
    }
}</pre></div><div class='content'></div><h1>Memory Management</h1>
<div class='content'><p>Efficient memory management is key to preventing performance issues related to garbage collection.</p>
<ul>
<li><strong>Avoid Frequent Allocations</strong>
<ul>
<li>Use <code>StringBuilder</code> for string concatenations.</li>
<li>Cache references to components and objects.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFN5c3RlbS5UZXh0OwoKcHVibGljIGNsYXNzIE1lbW9yeUV4YW1wbGUgOiBNb25vQmVoYXZpb3VyCnsKICAgIHZvaWQgU3RhcnQoKQogICAgewogICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwMDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgc2IuQXBwZW5kKCJUaGlzIGlzIGVmZmljaWVudCEiKTsKICAgICAgICB9CiAgICAgICAgRGVidWcuTG9nKHNiLlRvU3RyaW5nKCkpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using System.Text;

public class MemoryExample : MonoBehaviour
{
    void Start()
    {
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i &lt; 1000; i++)
        {
            sb.Append(&quot;This is efficient!&quot;);
        }
        Debug.Log(sb.ToString());
    }
}</pre></div><div class='content'><ul>
<li><strong>Use Structs Instead of Classes</strong>
<ul>
<li>Structs are value types and can be more efficient than classes, which are reference types.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHN0cnVjdCBQb3NpdGlvbgp7CiAgICBwdWJsaWMgZmxvYXQgeCwgeSwgejsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public struct Position
{
    public float x, y, z;
}</pre></div><div class='content'></div><h1>Optimizing Physics Calculations</h1>
<div class='content'><p>Physics calculations can be a significant performance drain if not managed properly.</p>
<ul>
<li>
<p><strong>Use Layers and Collision Matrix</strong></p>
<ul>
<li>Exclude unnecessary collision checks by configuring the collision matrix.</li>
</ul>
</li>
<li>
<p><strong>Optimize Rigidbody Settings</strong></p>
<ul>
<li>Use <code>Rigidbody2D</code> for 2D games and <code>Rigidbody</code> for 3D games.</li>
<li>Adjust the interpolation and collision detection settings based on your needs.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgUGh5c2ljc0V4YW1wbGUgOiBNb25vQmVoYXZpb3VyCnsKICAgIHZvaWQgU3RhcnQoKQogICAgewogICAgICAgIFJpZ2lkYm9keSByYiA9IEdldENvbXBvbmVudDxSaWdpZGJvZHk+KCk7CiAgICAgICAgcmIuaW50ZXJwb2xhdGlvbiA9IFJpZ2lkYm9keUludGVycG9sYXRpb24uSW50ZXJwb2xhdGU7CiAgICAgICAgcmIuY29sbGlzaW9uRGV0ZWN0aW9uTW9kZSA9IENvbGxpc2lvbkRldGVjdGlvbk1vZGUuQ29udGludW91czsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class PhysicsExample : MonoBehaviour
{
    void Start()
    {
        Rigidbody rb = GetComponent&lt;Rigidbody&gt;();
        rb.interpolation = RigidbodyInterpolation.Interpolate;
        rb.collisionDetectionMode = CollisionDetectionMode.Continuous;
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Optimizing scripts in Unity involves a combination of profiling, efficient coding practices, and understanding the underlying systems like memory management and physics calculations. By following the principles and techniques outlined in this section, you can significantly improve the performance of your Unity projects.</p>
<ul>
<li><strong>Key Takeaways</strong>
<ul>
<li>Always profile before optimizing.</li>
<li>Avoid heavy calculations in <code>Update</code>.</li>
<li>Use object pooling to manage frequently used objects.</li>
<li>Efficiently manage memory to reduce garbage collection overhead.</li>
<li>Optimize physics calculations by configuring layers and rigidbody settings.</li>
</ul>
</li>
</ul>
<p>By implementing these strategies, you'll be well on your way to creating smooth and efficient Unity games.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='reducing-draw-calls'>&#x25C4;Reducing Draw Calls</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Optimizing Scripts</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-multiplayer-in-unity'>Introduction to Multiplayer in Unity &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
