<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Enemy Behaviors</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/creating-enemy-behaviors" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/creating-enemy-behaviors" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/creating-enemy-behaviors" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/unity/creating-enemy-behaviors" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/unity/creating-enemy-behaviors" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-ai-scripting'>&#x25C4;Basic AI Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Enemy Behaviors</a>
	</div>
	<div class='col-4 text-end'>
					<a href='profiling-and-optimization'>Profiling and Optimization &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Creating enemy behaviors in Unity is a fundamental skill for game developers. This topic will guide you through the process from beginner to advanced levels, covering basic movement, AI decision-making, and complex behavior patterns.</p>
</div><h1>Introduction to Enemy Behaviors</h1>
<div class='content'><p>Before diving into coding, it's essential to understand what enemy behaviors are and why they are crucial in game development.</p>
<ul>
<li><strong>Enemy Behaviors</strong>: Actions or patterns that enemies follow in a game, such as patrolling, chasing the player, or attacking.</li>
<li><strong>Importance</strong>: Enhances gameplay experience by providing challenges and making the game more engaging.</li>
</ul>
</div><h1>Basic Enemy Movement</h1>
<div class='content'><p>We'll start with simple enemy movement, such as patrolling between points.</p>
</div><h2>Patrolling Between Points</h2>
<div class='content'><ol>
<li><strong>Create Waypoints</strong>: Define points between which the enemy will move.</li>
<li><strong>Move Towards Waypoints</strong>: Use Unity's <code>Transform</code> component to move the enemy.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRW5lbXlQYXRyb2wgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBUcmFuc2Zvcm1bXSB3YXlwb2ludHM7CiAgICBwdWJsaWMgZmxvYXQgc3BlZWQgPSAyZjsKICAgIHByaXZhdGUgaW50IGN1cnJlbnRXYXlwb2ludEluZGV4ID0gMDsKCiAgICB2b2lkIFVwZGF0ZSgpCiAgICB7CiAgICAgICAgaWYgKHdheXBvaW50cy5MZW5ndGggPT0gMCkgcmV0dXJuOwoKICAgICAgICBUcmFuc2Zvcm0gdGFyZ2V0V2F5cG9pbnQgPSB3YXlwb2ludHNbY3VycmVudFdheXBvaW50SW5kZXhdOwogICAgICAgIFZlY3RvcjMgZGlyZWN0aW9uID0gdGFyZ2V0V2F5cG9pbnQucG9zaXRpb24gLSB0cmFuc2Zvcm0ucG9zaXRpb247CiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5Nb3ZlVG93YXJkcyh0cmFuc2Zvcm0ucG9zaXRpb24sIHRhcmdldFdheXBvaW50LnBvc2l0aW9uLCBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lKTsKCiAgICAgICAgaWYgKFZlY3RvcjMuRGlzdGFuY2UodHJhbnNmb3JtLnBvc2l0aW9uLCB0YXJnZXRXYXlwb2ludC5wb3NpdGlvbikgPCAwLjFmKQogICAgICAgIHsKICAgICAgICAgICAgY3VycmVudFdheXBvaW50SW5kZXggPSAoY3VycmVudFdheXBvaW50SW5kZXggKyAxKSAlIHdheXBvaW50cy5MZW5ndGg7CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class EnemyPatrol : MonoBehaviour
{
    public Transform[] waypoints;
    public float speed = 2f;
    private int currentWaypointIndex = 0;

    void Update()
    {
        if (waypoints.Length == 0) return;

        Transform targetWaypoint = waypoints[currentWaypointIndex];
        Vector3 direction = targetWaypoint.position - transform.position;
        transform.position = Vector3.MoveTowards(transform.position, targetWaypoint.position, speed * Time.deltaTime);

        if (Vector3.Distance(transform.position, targetWaypoint.position) &lt; 0.1f)
        {
            currentWaypointIndex = (currentWaypointIndex + 1) % waypoints.Length;
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>waypoints</code>: Array of points the enemy will patrol.</li>
<li><code>speed</code>: Speed of the enemy.</li>
<li><code>currentWaypointIndex</code>: Tracks the current waypoint.</li>
<li><code>Update()</code>: Moves the enemy towards the current waypoint and updates the waypoint index when the enemy reaches the target.</li>
</ul>
</li>
</ul>
</div><h1>Intermediate Enemy Behaviors</h1>
<div class='content'><p>Next, we'll add more complexity by introducing enemy detection and chasing the player.</p>
</div><h2>Detecting the Player</h2>
<div class='content'><ol>
<li><strong>Field of View</strong>: Define the enemy's field of view to detect the player.</li>
<li><strong>Chase Mechanism</strong>: Implement logic to chase the player when detected.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRW5lbXlDaGFzZSA6IE1vbm9CZWhhdmlvdXIKewogICAgcHVibGljIFRyYW5zZm9ybSBwbGF5ZXI7CiAgICBwdWJsaWMgZmxvYXQgZGV0ZWN0aW9uUmFuZ2UgPSA1ZjsKICAgIHB1YmxpYyBmbG9hdCBzcGVlZCA9IDNmOwoKICAgIHZvaWQgVXBkYXRlKCkKICAgIHsKICAgICAgICBmbG9hdCBkaXN0YW5jZVRvUGxheWVyID0gVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm0ucG9zaXRpb24sIHBsYXllci5wb3NpdGlvbik7CgogICAgICAgIGlmIChkaXN0YW5jZVRvUGxheWVyIDwgZGV0ZWN0aW9uUmFuZ2UpCiAgICAgICAgewogICAgICAgICAgICBWZWN0b3IzIGRpcmVjdGlvbiA9IChwbGF5ZXIucG9zaXRpb24gLSB0cmFuc2Zvcm0ucG9zaXRpb24pLm5vcm1hbGl6ZWQ7CiAgICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiArPSBkaXJlY3Rpb24gKiBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class EnemyChase : MonoBehaviour
{
    public Transform player;
    public float detectionRange = 5f;
    public float speed = 3f;

    void Update()
    {
        float distanceToPlayer = Vector3.Distance(transform.position, player.position);

        if (distanceToPlayer &lt; detectionRange)
        {
            Vector3 direction = (player.position - transform.position).normalized;
            transform.position += direction * speed * Time.deltaTime;
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>player</code>: Reference to the player's transform.</li>
<li><code>detectionRange</code>: Distance within which the enemy can detect the player.</li>
<li><code>Update()</code>: Checks the distance to the player and moves towards the player if within detection range.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Enemy Behaviors</h1>
<div class='content'><p>For advanced behaviors, we'll implement state machines and more complex AI patterns.</p>
</div><h2>State Machines</h2>
<div class='content'><ol>
<li><strong>Define States</strong>: Create different states for the enemy (e.g., Idle, Patrol, Chase, Attack).</li>
<li><strong>State Transitions</strong>: Implement logic to transition between states based on conditions.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRW5lbXlBSSA6IE1vbm9CZWhhdmlvdXIKewogICAgcHJpdmF0ZSBlbnVtIFN0YXRlIHsgSWRsZSwgUGF0cm9sLCBDaGFzZSwgQXR0YWNrIH0KICAgIHByaXZhdGUgU3RhdGUgY3VycmVudFN0YXRlOwoKICAgIHB1YmxpYyBUcmFuc2Zvcm1bXSB3YXlwb2ludHM7CiAgICBwdWJsaWMgVHJhbnNmb3JtIHBsYXllcjsKICAgIHB1YmxpYyBmbG9hdCBkZXRlY3Rpb25SYW5nZSA9IDVmOwogICAgcHVibGljIGZsb2F0IGF0dGFja1JhbmdlID0gMWY7CiAgICBwdWJsaWMgZmxvYXQgc3BlZWQgPSAyZjsKICAgIHByaXZhdGUgaW50IGN1cnJlbnRXYXlwb2ludEluZGV4ID0gMDsKCiAgICB2b2lkIFN0YXJ0KCkKICAgIHsKICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5QYXRyb2w7CiAgICB9CgogICAgdm9pZCBVcGRhdGUoKQogICAgewogICAgICAgIHN3aXRjaCAoY3VycmVudFN0YXRlKQogICAgICAgIHsKICAgICAgICAgICAgY2FzZSBTdGF0ZS5JZGxlOgogICAgICAgICAgICAgICAgLy8gSWRsZSBiZWhhdmlvcgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgU3RhdGUuUGF0cm9sOgogICAgICAgICAgICAgICAgUGF0cm9sKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBTdGF0ZS5DaGFzZToKICAgICAgICAgICAgICAgIENoYXNlKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBTdGF0ZS5BdHRhY2s6CiAgICAgICAgICAgICAgICBBdHRhY2soKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgQ2hlY2tUcmFuc2l0aW9ucygpOwogICAgfQoKICAgIHZvaWQgUGF0cm9sKCkKICAgIHsKICAgICAgICBpZiAod2F5cG9pbnRzLkxlbmd0aCA9PSAwKSByZXR1cm47CgogICAgICAgIFRyYW5zZm9ybSB0YXJnZXRXYXlwb2ludCA9IHdheXBvaW50c1tjdXJyZW50V2F5cG9pbnRJbmRleF07CiAgICAgICAgVmVjdG9yMyBkaXJlY3Rpb24gPSB0YXJnZXRXYXlwb2ludC5wb3NpdGlvbiAtIHRyYW5zZm9ybS5wb3NpdGlvbjsKICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLk1vdmVUb3dhcmRzKHRyYW5zZm9ybS5wb3NpdGlvbiwgdGFyZ2V0V2F5cG9pbnQucG9zaXRpb24sIHNwZWVkICogVGltZS5kZWx0YVRpbWUpOwoKICAgICAgICBpZiAoVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm0ucG9zaXRpb24sIHRhcmdldFdheXBvaW50LnBvc2l0aW9uKSA8IDAuMWYpCiAgICAgICAgewogICAgICAgICAgICBjdXJyZW50V2F5cG9pbnRJbmRleCA9IChjdXJyZW50V2F5cG9pbnRJbmRleCArIDEpICUgd2F5cG9pbnRzLkxlbmd0aDsKICAgICAgICB9CiAgICB9CgogICAgdm9pZCBDaGFzZSgpCiAgICB7CiAgICAgICAgVmVjdG9yMyBkaXJlY3Rpb24gPSAocGxheWVyLnBvc2l0aW9uIC0gdHJhbnNmb3JtLnBvc2l0aW9uKS5ub3JtYWxpemVkOwogICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiArPSBkaXJlY3Rpb24gKiBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lOwogICAgfQoKICAgIHZvaWQgQXR0YWNrKCkKICAgIHsKICAgICAgICAvLyBBdHRhY2sgYmVoYXZpb3IKICAgIH0KCiAgICB2b2lkIENoZWNrVHJhbnNpdGlvbnMoKQogICAgewogICAgICAgIGZsb2F0IGRpc3RhbmNlVG9QbGF5ZXIgPSBWZWN0b3IzLkRpc3RhbmNlKHRyYW5zZm9ybS5wb3NpdGlvbiwgcGxheWVyLnBvc2l0aW9uKTsKCiAgICAgICAgc3dpdGNoIChjdXJyZW50U3RhdGUpCiAgICAgICAgewogICAgICAgICAgICBjYXNlIFN0YXRlLklkbGU6CiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb1BsYXllciA8IGRldGVjdGlvblJhbmdlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLkNoYXNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgU3RhdGUuUGF0cm9sOgogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9QbGF5ZXIgPCBkZXRlY3Rpb25SYW5nZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5DaGFzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFN0YXRlLkNoYXNlOgogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9QbGF5ZXIgPCBhdHRhY2tSYW5nZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5BdHRhY2s7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXN0YW5jZVRvUGxheWVyID4gZGV0ZWN0aW9uUmFuZ2UpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gU3RhdGUuUGF0cm9sOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgU3RhdGUuQXR0YWNrOgogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9QbGF5ZXIgPiBhdHRhY2tSYW5nZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5DaGFzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class EnemyAI : MonoBehaviour
{
    private enum State { Idle, Patrol, Chase, Attack }
    private State currentState;

    public Transform[] waypoints;
    public Transform player;
    public float detectionRange = 5f;
    public float attackRange = 1f;
    public float speed = 2f;
    private int currentWaypointIndex = 0;

    void Start()
    {
        currentState = State.Patrol;
    }

    void Update()
    {
        switch (currentState)
        {
            case State.Idle:
                // Idle behavior
                break;
            case State.Patrol:
                Patrol();
                break;
            case State.Chase:
                Chase();
                break;
            case State.Attack:
                Attack();
                break;
        }

        CheckTransitions();
    }

    void Patrol()
    {
        if (waypoints.Length == 0) return;

        Transform targetWaypoint = waypoints[currentWaypointIndex];
        Vector3 direction = targetWaypoint.position - transform.position;
        transform.position = Vector3.MoveTowards(transform.position, targetWaypoint.position, speed * Time.deltaTime);

        if (Vector3.Distance(transform.position, targetWaypoint.position) &lt; 0.1f)
        {
            currentWaypointIndex = (currentWaypointIndex + 1) % waypoints.Length;
        }
    }

    void Chase()
    {
        Vector3 direction = (player.position - transform.position).normalized;
        transform.position += direction * speed * Time.deltaTime;
    }

    void Attack()
    {
        // Attack behavior
    }

    void CheckTransitions()
    {
        float distanceToPlayer = Vector3.Distance(transform.position, player.position);

        switch (currentState)
        {
            case State.Idle:
                if (distanceToPlayer &lt; detectionRange)
                {
                    currentState = State.Chase;
                }
                break;
            case State.Patrol:
                if (distanceToPlayer &lt; detectionRange)
                {
                    currentState = State.Chase;
                }
                break;
            case State.Chase:
                if (distanceToPlayer &lt; attackRange)
                {
                    currentState = State.Attack;
                }
                else if (distanceToPlayer &gt; detectionRange)
                {
                    currentState = State.Patrol;
                }
                break;
            case State.Attack:
                if (distanceToPlayer &gt; attackRange)
                {
                    currentState = State.Chase;
                }
                break;
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>State</code>: Enum representing different states.</li>
<li><code>currentState</code>: Tracks the current state of the enemy.</li>
<li><code>Update()</code>: Executes behavior based on the current state and checks for state transitions.</li>
<li><code>Patrol()</code>, <code>Chase()</code>, <code>Attack()</code>: Methods defining behaviors for each state.</li>
<li><code>CheckTransitions()</code>: Logic for transitioning between states based on conditions.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Creating enemy behaviors in Unity involves understanding basic movement, detection mechanisms, and advanced AI patterns. By starting with simple patrols and gradually adding complexity with state machines, you can create engaging and challenging enemy behaviors for your games. Practice these concepts and experiment with different behaviors to enhance your game development skills.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-ai-scripting'>&#x25C4;Basic AI Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Enemy Behaviors</a>
	</div>
	<div class='col-4 text-end'>
					<a href='profiling-and-optimization'>Profiling and Optimization &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
