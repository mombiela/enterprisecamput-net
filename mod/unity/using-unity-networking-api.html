<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using Unity's Networking API</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/using-unity-networking-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/using-unity-networking-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/using-unity-networking-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/unity/using-unity-networking-api" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/unity/using-unity-networking-api" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-multiplayer-in-unity'>&#x25C4;Introduction to Multiplayer in Unity</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using Unity's Networking API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='syncing-game-state'>Syncing Game State &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Unity's Networking API</h1>
<div class='content'><p>Unity's Networking API allows developers to create multiplayer games by managing networked objects, player connections, and data synchronization. This section will introduce the basic concepts and components of Unity's Networking API.</p>
<ul>
<li><strong>NetworkManager</strong>: Manages the network state, including starting and stopping servers and clients.</li>
<li><strong>NetworkIdentity</strong>: Identifies networked objects and ensures they are synchronized across clients.</li>
<li><strong>NetworkBehaviour</strong>: Base class for networked scripts, providing hooks for network events.</li>
<li><strong>NetworkTransform</strong>: Synchronizes the position, rotation, and scale of networked objects.</li>
</ul>
</div><h1>Setting Up a Basic Networked Game</h1>
<div class='content'></div><h2>Creating a NetworkManager</h2>
<div class='content'><p>The NetworkManager is the core component for managing network connections. Here's how to set it up:</p>
<ol>
<li><strong>Add the NetworkManager Component</strong>:
<ul>
<li>Create an empty GameObject in your scene.</li>
<li>Add the <code>NetworkManager</code> component to the GameObject.</li>
<li>Optionally, add the <code>NetworkManagerHUD</code> component for a simple UI to control the network state.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLk5ldHdvcmtpbmc7CgpwdWJsaWMgY2xhc3MgTXlOZXR3b3JrTWFuYWdlciA6IE5ldHdvcmtNYW5hZ2VyCnsKICAgIC8vIEN1c3RvbSBsb2dpYyBmb3IgbmV0d29yayBtYW5hZ2VtZW50IGNhbiBiZSBhZGRlZCBoZXJlCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.Networking;

public class MyNetworkManager : NetworkManager
{
    // Custom logic for network management can be added here
}</pre></div><div class='content'><ol start="2">
<li><strong>Configure the NetworkManager</strong>:
<ul>
<li>Set the <code>Player Prefab</code> to the player object you want to spawn for each client.</li>
<li>Configure the <code>Network Address</code> and <code>Network Port</code> for the server.</li>
</ul>
</li>
</ol>
</div><h2>Spawning Networked Objects</h2>
<div class='content'><p>Networked objects are instantiated and synchronized across all clients. Use the <code>NetworkIdentity</code> component to mark objects for networking.</p>
<ol>
<li><strong>Add the NetworkIdentity Component</strong>:
<ul>
<li>Attach the <code>NetworkIdentity</code> component to the GameObject you want to network.</li>
<li>Ensure the <code>Local Player Authority</code> is checked if the object should be controlled by the client.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLk5ldHdvcmtpbmc7CgpwdWJsaWMgY2xhc3MgUGxheWVyQ29udHJvbGxlciA6IE5ldHdvcmtCZWhhdmlvdXIKewogICAgdm9pZCBVcGRhdGUoKQogICAgewogICAgICAgIGlmICghaXNMb2NhbFBsYXllcikKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICAvLyBQbGF5ZXIgY29udHJvbCBsb2dpYyBoZXJlCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.Networking;

public class PlayerController : NetworkBehaviour
{
    void Update()
    {
        if (!isLocalPlayer)
            return;

        // Player control logic here
    }
}</pre></div><div class='content'><ol start="2">
<li><strong>Spawning the Object</strong>:
<ul>
<li>Use <code>NetworkServer.Spawn</code> to spawn objects on the server and synchronize them with clients.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIEdhbWVNYW5hZ2VyIDogTmV0d29ya0JlaGF2aW91cgp7CiAgICBwdWJsaWMgR2FtZU9iamVjdCBwbGF5ZXJQcmVmYWI7CgogICAgcHVibGljIG92ZXJyaWRlIHZvaWQgT25TdGFydFNlcnZlcigpCiAgICB7CiAgICAgICAgR2FtZU9iamVjdCBwbGF5ZXIgPSBJbnN0YW50aWF0ZShwbGF5ZXJQcmVmYWIpOwogICAgICAgIE5ldHdvcmtTZXJ2ZXIuU3Bhd24ocGxheWVyKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class GameManager : NetworkBehaviour
{
    public GameObject playerPrefab;

    public override void OnStartServer()
    {
        GameObject player = Instantiate(playerPrefab);
        NetworkServer.Spawn(player);
    }
}</pre></div><div class='content'></div><h1>Handling Player Connections</h1>
<div class='content'><p>Managing player connections involves handling events when players join or leave the game.</p>
<ul>
<li><strong>OnServerConnect</strong>: Called when a client connects to the server.</li>
<li><strong>OnServerDisconnect</strong>: Called when a client disconnects from the server.</li>
<li><strong>OnClientConnect</strong>: Called when the client connects to the server.</li>
<li><strong>OnClientDisconnect</strong>: Called when the client disconnects from the server.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE15TmV0d29ya01hbmFnZXIgOiBOZXR3b3JrTWFuYWdlcgp7CiAgICBwdWJsaWMgb3ZlcnJpZGUgdm9pZCBPblNlcnZlckNvbm5lY3QoTmV0d29ya0Nvbm5lY3Rpb24gY29ubikKICAgIHsKICAgICAgICBEZWJ1Zy5Mb2coIkNsaWVudCBjb25uZWN0ZWQ6ICIgKyBjb25uLmFkZHJlc3MpOwogICAgfQoKICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIE9uU2VydmVyRGlzY29ubmVjdChOZXR3b3JrQ29ubmVjdGlvbiBjb25uKQogICAgewogICAgICAgIERlYnVnLkxvZygiQ2xpZW50IGRpc2Nvbm5lY3RlZDogIiArIGNvbm4uYWRkcmVzcyk7CiAgICAgICAgYmFzZS5PblNlcnZlckRpc2Nvbm5lY3QoY29ubik7CiAgICB9CgogICAgcHVibGljIG92ZXJyaWRlIHZvaWQgT25DbGllbnRDb25uZWN0KE5ldHdvcmtDb25uZWN0aW9uIGNvbm4pCiAgICB7CiAgICAgICAgRGVidWcuTG9nKCJDb25uZWN0ZWQgdG8gc2VydmVyIik7CiAgICB9CgogICAgcHVibGljIG92ZXJyaWRlIHZvaWQgT25DbGllbnREaXNjb25uZWN0KE5ldHdvcmtDb25uZWN0aW9uIGNvbm4pCiAgICB7CiAgICAgICAgRGVidWcuTG9nKCJEaXNjb25uZWN0ZWQgZnJvbSBzZXJ2ZXIiKTsKICAgICAgICBiYXNlLk9uQ2xpZW50RGlzY29ubmVjdChjb25uKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MyNetworkManager : NetworkManager
{
    public override void OnServerConnect(NetworkConnection conn)
    {
        Debug.Log(&quot;Client connected: &quot; + conn.address);
    }

    public override void OnServerDisconnect(NetworkConnection conn)
    {
        Debug.Log(&quot;Client disconnected: &quot; + conn.address);
        base.OnServerDisconnect(conn);
    }

    public override void OnClientConnect(NetworkConnection conn)
    {
        Debug.Log(&quot;Connected to server&quot;);
    }

    public override void OnClientDisconnect(NetworkConnection conn)
    {
        Debug.Log(&quot;Disconnected from server&quot;);
        base.OnClientDisconnect(conn);
    }
}</pre></div><div class='content'></div><h1>Synchronizing Data</h1>
<div class='content'><p>Data synchronization ensures that all clients have the same state for networked objects.</p>
</div><h2>SyncVars</h2>
<div class='content'><p>SyncVars are variables that are automatically synchronized from the server to all clients.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFBsYXllciA6IE5ldHdvcmtCZWhhdmlvdXIKewogICAgW1N5bmNWYXJdCiAgICBwdWJsaWMgaW50IGhlYWx0aDsKCiAgICB2b2lkIFRha2VEYW1hZ2UoaW50IGFtb3VudCkKICAgIHsKICAgICAgICBpZiAoIWlzU2VydmVyKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIGhlYWx0aCAtPSBhbW91bnQ7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Player : NetworkBehaviour
{
    [SyncVar]
    public int health;

    void TakeDamage(int amount)
    {
        if (!isServer)
            return;

        health -= amount;
    }
}</pre></div><div class='content'></div><h2>Commands and RPCs</h2>
<div class='content'><p>Commands and RPCs are used to send messages between clients and the server.</p>
<ul>
<li><strong>Commands</strong>: Methods called by clients but executed on the server.</li>
<li><strong>ClientRPCs</strong>: Methods called by the server but executed on clients.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFBsYXllciA6IE5ldHdvcmtCZWhhdmlvdXIKewogICAgW0NvbW1hbmRdCiAgICB2b2lkIENtZFRha2VEYW1hZ2UoaW50IGFtb3VudCkKICAgIHsKICAgICAgICBoZWFsdGggLT0gYW1vdW50OwogICAgfQoKICAgIFtDbGllbnRScGNdCiAgICB2b2lkIFJwY1VwZGF0ZUhlYWx0aChpbnQgbmV3SGVhbHRoKQogICAgewogICAgICAgIGhlYWx0aCA9IG5ld0hlYWx0aDsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Player : NetworkBehaviour
{
    [Command]
    void CmdTakeDamage(int amount)
    {
        health -= amount;
    }

    [ClientRpc]
    void RpcUpdateHealth(int newHealth)
    {
        health = newHealth;
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Unity's Networking API provides a robust framework for creating multiplayer games. By understanding and utilizing components like NetworkManager, NetworkIdentity, and NetworkBehaviour, developers can manage player connections, synchronize data, and handle networked objects effectively. Practice and experimentation with these concepts will help solidify your understanding and ability to create engaging multiplayer experiences.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-multiplayer-in-unity'>&#x25C4;Introduction to Multiplayer in Unity</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using Unity's Networking API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='syncing-game-state'>Syncing Game State &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
