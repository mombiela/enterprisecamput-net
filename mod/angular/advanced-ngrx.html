<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced NgRx</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular/advanced-ngrx" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular/advanced-ngrx" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular/advanced-ngrx" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular/advanced-ngrx" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular/advanced-ngrx" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='ngrx-basics'>&#x25C4;NgRx Basics</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced NgRx</a>
	</div>
	<div class='col-4 text-end'>
					<a href='unit-testing'>Unit Testing &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to NgRx</h1>
<div class='content'><p>NgRx is a powerful state management library for Angular applications, inspired by Redux. It helps manage the state of your application in a predictable way, making it easier to debug and test.</p>
</div><h1>Key Concepts of NgRx</h1>
<div class='content'><ul>
<li><strong>Store</strong>: A single, immutable data structure that holds the state of your application.</li>
<li><strong>Actions</strong>: Plain objects that represent an intention to change the state.</li>
<li><strong>Reducers</strong>: Pure functions that take the current state and an action, and return a new state.</li>
<li><strong>Selectors</strong>: Functions that select a slice of the state.</li>
<li><strong>Effects</strong>: Side-effect management for handling asynchronous operations.</li>
</ul>
</div><h1>Setting Up NgRx</h1>
<div class='content'><p>To get started with NgRx, you need to install the necessary packages:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQG5ncngvc3RvcmUgQG5ncngvZWZmZWN0cyBAbmdyeC9zdG9yZS1kZXZ0b29scw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @ngrx/store @ngrx/effects @ngrx/store-devtools</pre></div><div class='content'></div><h2>Configuring the Store</h2>
<div class='content'><p>Create a root reducer and configure the store in your <code>AppModule</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLnJlZHVjZXIudHMKaW1wb3J0IHsgQWN0aW9uUmVkdWNlck1hcCB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgY291bnRlclJlZHVjZXIgfSBmcm9tICcuL2NvdW50ZXIucmVkdWNlcic7CgpleHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlIHsKICBjb3VudGVyOiBudW1iZXI7Cn0KCmV4cG9ydCBjb25zdCByZWR1Y2VyczogQWN0aW9uUmVkdWNlck1hcDxBcHBTdGF0ZT4gPSB7CiAgY291bnRlcjogY291bnRlclJlZHVjZXIsCn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.reducer.ts
import { ActionReducerMap } from '@ngrx/store';
import { counterReducer } from './counter.reducer';

export interface AppState {
  counter: number;
}

export const reducers: ActionReducerMap&lt;AppState&gt; = {
  counter: counterReducer,
};</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLm1vZHVsZS50cwppbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBTdG9yZU1vZHVsZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgcmVkdWNlcnMgfSBmcm9tICcuL2FwcC5yZWR1Y2VyJzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSwKICBpbXBvcnRzOiBbCiAgICBCcm93c2VyTW9kdWxlLAogICAgU3RvcmVNb2R1bGUuZm9yUm9vdChyZWR1Y2VycyksCiAgXSwKICBwcm92aWRlcnM6IFtdLAogIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sCn0pCmV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge30="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.module.ts
import { NgModule } from '@angular/core';
import { StoreModule } from '@ngrx/store';
import { reducers } from './app.reducer';

@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot(reducers),
  ],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}</pre></div><div class='content'></div><h1>Actions</h1>
<div class='content'><p>Actions are dispatched to trigger state changes. Define actions using <code>createAction</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5hY3Rpb25zLnRzCmltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKCmV4cG9ydCBjb25zdCBpbmNyZW1lbnQgPSBjcmVhdGVBY3Rpb24oJ1tDb3VudGVyXSBJbmNyZW1lbnQnKTsKZXhwb3J0IGNvbnN0IGRlY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIERlY3JlbWVudCcpOwpleHBvcnQgY29uc3QgcmVzZXQgPSBjcmVhdGVBY3Rpb24oJ1tDb3VudGVyXSBSZXNldCcpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.actions.ts
import { createAction } from '@ngrx/store';

export const increment = createAction('[Counter] Increment');
export const decrement = createAction('[Counter] Decrement');
export const reset = createAction('[Counter] Reset');</pre></div><div class='content'></div><h1>Reducers</h1>
<div class='content'><p>Reducers handle state transitions based on actions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5yZWR1Y2VyLnRzCmltcG9ydCB7IGNyZWF0ZVJlZHVjZXIsIG9uIH0gZnJvbSAnQG5ncngvc3RvcmUnOwppbXBvcnQgeyBpbmNyZW1lbnQsIGRlY3JlbWVudCwgcmVzZXQgfSBmcm9tICcuL2NvdW50ZXIuYWN0aW9ucyc7CgpleHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0gMDsKCmNvbnN0IF9jb3VudGVyUmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoCiAgaW5pdGlhbFN0YXRlLAogIG9uKGluY3JlbWVudCwgKHN0YXRlKSA9PiBzdGF0ZSArIDEpLAogIG9uKGRlY3JlbWVudCwgKHN0YXRlKSA9PiBzdGF0ZSAtIDEpLAogIG9uKHJlc2V0LCAoKSA9PiAwKQopOwoKZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHsKICByZXR1cm4gX2NvdW50ZXJSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.reducer.ts
import { createReducer, on } from '@ngrx/store';
import { increment, decrement, reset } from './counter.actions';

export const initialState = 0;

const _counterReducer = createReducer(
  initialState,
  on(increment, (state) =&gt; state + 1),
  on(decrement, (state) =&gt; state - 1),
  on(reset, () =&gt; 0)
);

export function counterReducer(state, action) {
  return _counterReducer(state, action);
}</pre></div><div class='content'></div><h1>Selectors</h1>
<div class='content'><p>Selectors are used to query the state.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5zZWxlY3RvcnMudHMKaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IsIGNyZWF0ZUZlYXR1cmVTZWxlY3RvciB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuL2FwcC5yZWR1Y2VyJzsKCmV4cG9ydCBjb25zdCBzZWxlY3RDb3VudGVyID0gY3JlYXRlRmVhdHVyZVNlbGVjdG9yPEFwcFN0YXRlLCBudW1iZXI+KCdjb3VudGVyJyk7CgpleHBvcnQgY29uc3Qgc2VsZWN0Q291bnRlclZhbHVlID0gY3JlYXRlU2VsZWN0b3IoCiAgc2VsZWN0Q291bnRlciwKICAoY291bnRlcikgPT4gY291bnRlcgopOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.selectors.ts
import { createSelector, createFeatureSelector } from '@ngrx/store';
import { AppState } from './app.reducer';

export const selectCounter = createFeatureSelector&lt;AppState, number&gt;('counter');

export const selectCounterValue = createSelector(
  selectCounter,
  (counter) =&gt; counter
);</pre></div><div class='content'></div><h1>Effects</h1>
<div class='content'><p>Effects handle side effects like API calls.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5lZmZlY3RzLnRzCmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQWN0aW9ucywgY3JlYXRlRWZmZWN0LCBvZlR5cGUgfSBmcm9tICdAbmdyeC9lZmZlY3RzJzsKaW1wb3J0IHsgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0IH0gZnJvbSAnLi9jb3VudGVyLmFjdGlvbnMnOwppbXBvcnQgeyBtYXAsIG1lcmdlTWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnOwppbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnOwoKQEluamVjdGFibGUoKQpleHBvcnQgY2xhc3MgQ291bnRlckVmZmVjdHMgewogIGNvbnN0cnVjdG9yKHByaXZhdGUgYWN0aW9ucyQ6IEFjdGlvbnMpIHt9CgogIGluY3JlbWVudCQgPSBjcmVhdGVFZmZlY3QoKCkgPT4KICAgIHRoaXMuYWN0aW9ucyQucGlwZSgKICAgICAgb2ZUeXBlKGluY3JlbWVudCksCiAgICAgIG1lcmdlTWFwKCgpID0+IHsKICAgICAgICAvLyBTaW11bGF0ZSBhbiBBUEkgY2FsbAogICAgICAgIHJldHVybiBvZih7IHR5cGU6ICdbQ291bnRlciBBUEldIEluY3JlbWVudCBTdWNjZXNzJyB9KS5waXBlKAogICAgICAgICAgY2F0Y2hFcnJvcigoKSA9PiBvZih7IHR5cGU6ICdbQ291bnRlciBBUEldIEluY3JlbWVudCBGYWlsdXJlJyB9KSkKICAgICAgICApOwogICAgICB9KQogICAgKQogICk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.effects.ts
import { Injectable } from '@angular/core';
import { Actions, createEffect, ofType } from '@ngrx/effects';
import { increment, decrement, reset } from './counter.actions';
import { map, mergeMap, catchError } from 'rxjs/operators';
import { of } from 'rxjs';

@Injectable()
export class CounterEffects {
  constructor(private actions$: Actions) {}

  increment$ = createEffect(() =&gt;
    this.actions$.pipe(
      ofType(increment),
      mergeMap(() =&gt; {
        // Simulate an API call
        return of({ type: '[Counter API] Increment Success' }).pipe(
          catchError(() =&gt; of({ type: '[Counter API] Increment Failure' }))
        );
      })
    )
  );
}</pre></div><div class='content'></div><h2>Registering Effects</h2>
<div class='content'><p>Register the effects in your <code>AppModule</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLm1vZHVsZS50cwppbXBvcnQgeyBFZmZlY3RzTW9kdWxlIH0gZnJvbSAnQG5ncngvZWZmZWN0cyc7CmltcG9ydCB7IENvdW50ZXJFZmZlY3RzIH0gZnJvbSAnLi9jb3VudGVyLmVmZmVjdHMnOwoKQE5nTW9kdWxlKHsKICBpbXBvcnRzOiBbCiAgICBFZmZlY3RzTW9kdWxlLmZvclJvb3QoW0NvdW50ZXJFZmZlY3RzXSksCiAgXSwKfSkKZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.module.ts
import { EffectsModule } from '@ngrx/effects';
import { CounterEffects } from './counter.effects';

@NgModule({
  imports: [
    EffectsModule.forRoot([CounterEffects]),
  ],
})
export class AppModule {}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>NgRx provides a robust framework for managing state in Angular applications. By understanding and implementing stores, actions, reducers, selectors, and effects, you can create scalable and maintainable applications. Practice by building small applications and gradually integrating more complex state management logic to master NgRx.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='ngrx-basics'>&#x25C4;NgRx Basics</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced NgRx</a>
	</div>
	<div class='col-4 text-end'>
					<a href='unit-testing'>Unit Testing &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
