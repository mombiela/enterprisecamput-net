<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NgRx Basics</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular/ngrx-basics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular/ngrx-basics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular/ngrx-basics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular/ngrx-basics" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular/ngrx-basics" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='using-services-for-state-management'>&#x25C4;Using Services for State Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">NgRx Basics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-ngrx'>Advanced NgRx &#x25BA;</a>
			</div>
</div>
<div class='content'><p>NgRx is a powerful library for managing state in Angular applications using the Redux pattern. This section will introduce you to the core concepts of NgRx, its benefits, and how to implement it in your Angular projects.</p>
</div><h1>Introduction to NgRx</h1>
<div class='content'><p>NgRx is a state management library for Angular applications, inspired by Redux. It helps manage the state of an application in a predictable way, making it easier to debug and test.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>State</strong>: Represents the application's state at a given point in time.</li>
<li><strong>Actions</strong>: Plain objects that describe what happened in the application.</li>
<li><strong>Reducers</strong>: Functions that take the current state and an action, and return a new state.</li>
<li><strong>Selectors</strong>: Functions that select a piece of state from the store.</li>
<li><strong>Effects</strong>: Side effects that interact with external services and dispatch actions.</li>
</ul>
</div><h1>Setting Up NgRx</h1>
<div class='content'><p>To start using NgRx in your Angular project, you need to install the necessary packages and set up the store.</p>
</div><h2>Installation</h2>
<div class='content'><p>Run the following command to install NgRx packages:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQG5ncngvc3RvcmUgQG5ncngvZWZmZWN0cyBAbmdyeC9lbnRpdHkgQG5ncngvc3RvcmUtZGV2dG9vbHM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @ngrx/store @ngrx/effects @ngrx/entity @ngrx/store-devtools</pre></div><div class='content'></div><h2>Setting Up the Store</h2>
<div class='content'><p>Create a new file <code>app.reducer.ts</code> to define the root state and reducers.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQWN0aW9uUmVkdWNlck1hcCB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgY291bnRlclJlZHVjZXIgfSBmcm9tICcuL2NvdW50ZXIucmVkdWNlcic7CgpleHBvcnQgaW50ZXJmYWNlIEFwcFN0YXRlIHsKICBjb3VudGVyOiBudW1iZXI7Cn0KCmV4cG9ydCBjb25zdCByZWR1Y2VyczogQWN0aW9uUmVkdWNlck1hcDxBcHBTdGF0ZT4gPSB7CiAgY291bnRlcjogY291bnRlclJlZHVjZXIKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ActionReducerMap } from '@ngrx/store';
import { counterReducer } from './counter.reducer';

export interface AppState {
  counter: number;
}

export const reducers: ActionReducerMap&lt;AppState&gt; = {
  counter: counterReducer
};</pre></div><div class='content'><p>In your <code>app.module.ts</code>, import the <code>StoreModule</code> and provide the reducers.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQnJvd3Nlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOwppbXBvcnQgeyBTdG9yZU1vZHVsZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgcmVkdWNlcnMgfSBmcm9tICcuL2FwcC5yZWR1Y2VyJzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSwKICBpbXBvcnRzOiBbCiAgICBCcm93c2VyTW9kdWxlLAogICAgU3RvcmVNb2R1bGUuZm9yUm9vdChyZWR1Y2VycykKICBdLAogIHByb3ZpZGVyczogW10sCiAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XQp9KQpleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHsgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { StoreModule } from '@ngrx/store';
import { reducers } from './app.reducer';

@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot(reducers)
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }</pre></div><div class='content'></div><h1>Actions</h1>
<div class='content'><p>Actions are dispatched to signal that something happened in the application.</p>
</div><h2>Defining Actions</h2>
<div class='content'><p>Create a new file <code>counter.actions.ts</code> to define actions for the counter.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQG5ncngvc3RvcmUnOwoKZXhwb3J0IGNvbnN0IGluY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIEluY3JlbWVudCcpOwpleHBvcnQgY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdbQ291bnRlcl0gRGVjcmVtZW50Jyk7CmV4cG9ydCBjb25zdCByZXNldCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIFJlc2V0Jyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { createAction } from '@ngrx/store';

export const increment = createAction('[Counter] Increment');
export const decrement = createAction('[Counter] Decrement');
export const reset = createAction('[Counter] Reset');</pre></div><div class='content'></div><h1>Reducers</h1>
<div class='content'><p>Reducers specify how the application's state changes in response to actions.</p>
</div><h2>Creating a Reducer</h2>
<div class='content'><p>Create a new file <code>counter.reducer.ts</code> to define the counter reducer.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGluY3JlbWVudCwgZGVjcmVtZW50LCByZXNldCB9IGZyb20gJy4vY291bnRlci5hY3Rpb25zJzsKCmV4cG9ydCBjb25zdCBpbml0aWFsU3RhdGUgPSAwOwoKY29uc3QgX2NvdW50ZXJSZWR1Y2VyID0gY3JlYXRlUmVkdWNlcigKICBpbml0aWFsU3RhdGUsCiAgb24oaW5jcmVtZW50LCBzdGF0ZSA9PiBzdGF0ZSArIDEpLAogIG9uKGRlY3JlbWVudCwgc3RhdGUgPT4gc3RhdGUgLSAxKSwKICBvbihyZXNldCwgc3RhdGUgPT4gMCkKKTsKCmV4cG9ydCBmdW5jdGlvbiBjb3VudGVyUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7CiAgcmV0dXJuIF9jb3VudGVyUmVkdWNlcihzdGF0ZSwgYWN0aW9uKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { createReducer, on } from '@ngrx/store';
import { increment, decrement, reset } from './counter.actions';

export const initialState = 0;

const _counterReducer = createReducer(
  initialState,
  on(increment, state =&gt; state + 1),
  on(decrement, state =&gt; state - 1),
  on(reset, state =&gt; 0)
);

export function counterReducer(state, action) {
  return _counterReducer(state, action);
}</pre></div><div class='content'></div><h1>Selectors</h1>
<div class='content'><p>Selectors are used to query the store for specific pieces of state.</p>
</div><h2>Creating Selectors</h2>
<div class='content'><p>Create a new file <code>counter.selectors.ts</code> to define selectors for the counter.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IsIGNyZWF0ZUZlYXR1cmVTZWxlY3RvciB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuL2FwcC5yZWR1Y2VyJzsKCmV4cG9ydCBjb25zdCBzZWxlY3RDb3VudGVyID0gY3JlYXRlRmVhdHVyZVNlbGVjdG9yPEFwcFN0YXRlLCBudW1iZXI+KCdjb3VudGVyJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { createSelector, createFeatureSelector } from '@ngrx/store';
import { AppState } from './app.reducer';

export const selectCounter = createFeatureSelector&lt;AppState, number&gt;('counter');</pre></div><div class='content'></div><h1>Effects</h1>
<div class='content'><p>Effects handle side effects like API calls and dispatch new actions based on the results.</p>
</div><h2>Creating Effects</h2>
<div class='content'><p>Create a new file <code>counter.effects.ts</code> to define effects for the counter.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBBY3Rpb25zLCBjcmVhdGVFZmZlY3QsIG9mVHlwZSB9IGZyb20gJ0BuZ3J4L2VmZmVjdHMnOwppbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBtYXAsIG1lcmdlTWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnOwppbXBvcnQgeyBpbmNyZW1lbnQsIGRlY3JlbWVudCwgcmVzZXQgfSBmcm9tICcuL2NvdW50ZXIuYWN0aW9ucyc7CgpASW5qZWN0YWJsZSgpCmV4cG9ydCBjbGFzcyBDb3VudGVyRWZmZWN0cyB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBhY3Rpb25zJDogQWN0aW9ucykge30KCiAgaW5jcmVtZW50JCA9IGNyZWF0ZUVmZmVjdCgoKSA9PgogICAgdGhpcy5hY3Rpb25zJC5waXBlKAogICAgICBvZlR5cGUoaW5jcmVtZW50KSwKICAgICAgbWVyZ2VNYXAoKCkgPT4gewogICAgICAgIC8vIFNpbXVsYXRlIGFuIEFQSSBjYWxsCiAgICAgICAgcmV0dXJuIG9mKHt9KS5waXBlKAogICAgICAgICAgbWFwKCgpID0+IGluY3JlbWVudCgpKSwKICAgICAgICAgIGNhdGNoRXJyb3IoKCkgPT4gb2YocmVzZXQoKSkpCiAgICAgICAgKTsKICAgICAgfSkKICAgICkKICApOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { Actions, createEffect, ofType } from '@ngrx/effects';
import { of } from 'rxjs';
import { map, mergeMap, catchError } from 'rxjs/operators';
import { increment, decrement, reset } from './counter.actions';

@Injectable()
export class CounterEffects {
  constructor(private actions$: Actions) {}

  increment$ = createEffect(() =&gt;
    this.actions$.pipe(
      ofType(increment),
      mergeMap(() =&gt; {
        // Simulate an API call
        return of({}).pipe(
          map(() =&gt; increment()),
          catchError(() =&gt; of(reset()))
        );
      })
    )
  );
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>NgRx provides a robust framework for managing state in Angular applications. By understanding and implementing actions, reducers, selectors, and effects, you can create scalable and maintainable applications. Practice by creating a simple counter application and gradually add more complexity as you become comfortable with the concepts.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-services-for-state-management'>&#x25C4;Using Services for State Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">NgRx Basics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-ngrx'>Advanced NgRx &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
