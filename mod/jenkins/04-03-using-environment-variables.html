<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Using Environment Variables</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/04-03-using-environment-variables" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/04-03-using-environment-variables" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/04-03-using-environment-variables" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "jenkins";
  		var TEMA_NAME = "4-3";
  		var TYPE = "mod";
  		var PATH = "mod/jenkins/04-03-using-environment-variables";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.86da6c742a.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/jenkins/04-03-using-environment-variables" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/jenkins/04-03-using-environment-variables" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="jenkins">
		<a  href="#" class="text-secondary d-none" data-read-mod="jenkins" data-read-unit="4-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="jenkins" data-unread-unit="4-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-02-parallel-execution-in-pipelines' title="Parallel Execution in Pipelines" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-02-parallel-execution-in-pipelines' title="Parallel Execution in Pipelines" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Using Environment Variables</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-04-pipeline-best-practices' title="Pipeline Best Practices" class="py-2 px-3 btn btn-primary"
				data-read-mod="jenkins" data-read-unit="4-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-04-pipeline-best-practices' title="Pipeline Best Practices" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jenkins" data-read-unit="4-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Environment variables are a powerful feature in Jenkins pipelines that allow you to manage and pass configuration data dynamically. They can be used to store sensitive information, such as API keys, or to configure different environments (e.g., development, staging, production).</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Environment Variables</strong>: Variables that are set in the environment in which Jenkins jobs run. They can be used to pass data between different stages of a pipeline.</li>
<li><strong>Global Environment Variables</strong>: Variables that are available to all jobs and pipelines within Jenkins.</li>
<li><strong>Job-Specific Environment Variables</strong>: Variables that are specific to a particular job or pipeline.</li>
<li><strong>Built-in Environment Variables</strong>: Predefined variables provided by Jenkins, such as <code>BUILD_NUMBER</code>, <code>JOB_NAME</code>, etc.</li>
</ol>
</div><h1>Setting Environment Variables</h1>
<div class='content'></div><h2>Global Environment Variables</h2>
<div class='content'><p>Global environment variables can be set in the Jenkins configuration:</p>
<ol>
<li>Navigate to <code>Manage Jenkins</code> &gt; <code>Configure System</code>.</li>
<li>Scroll down to the <code>Global properties</code> section.</li>
<li>Check the <code>Environment variables</code> checkbox.</li>
<li>Add the desired environment variables.</li>
</ol>
</div><h2>Job-Specific Environment Variables</h2>
<div class='content'><p>Job-specific environment variables can be set within a pipeline script using the <code>environment</code> directive.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CiAgICBlbnZpcm9ubWVudCB7CiAgICAgICAgTVlfVkFSID0gJ0hlbGxvLCBXb3JsZCEnCiAgICAgICAgQVBJX0tFWSA9IGNyZWRlbnRpYWxzKCdteS1hcGkta2V5JykKICAgIH0KICAgIHN0YWdlcyB7CiAgICAgICAgc3RhZ2UoJ0V4YW1wbGUnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gIk1ZX1ZBUiBpcyAke2Vudi5NWV9WQVJ9IgogICAgICAgICAgICAgICAgZWNobyAiQVBJX0tFWSBpcyAke2Vudi5BUElfS0VZfSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any
    environment {
        MY_VAR = 'Hello, World!'
        API_KEY = credentials('my-api-key')
    }
    stages {
        stage('Example') {
            steps {
                echo &quot;MY_VAR is ${env.MY_VAR}&quot;
                echo &quot;API_KEY is ${env.API_KEY}&quot;
            }
        }
    }
}</pre></div><div class='content'></div><h2>Built-in Environment Variables</h2>
<div class='content'><p>Jenkins provides several built-in environment variables that can be used in your pipelines:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BUILD_NUMBER</code></td>
<td>The current build number</td>
</tr>
<tr>
<td><code>JOB_NAME</code></td>
<td>The name of the job</td>
</tr>
<tr>
<td><code>WORKSPACE</code></td>
<td>The workspace directory for the job</td>
</tr>
<tr>
<td><code>BUILD_URL</code></td>
<td>The URL of the current build</td>
</tr>
<tr>
<td><code>GIT_COMMIT</code></td>
<td>The commit hash of the current Git revision</td>
</tr>
</tbody>
</table>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a simple pipeline that demonstrates the use of environment variables.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CiAgICBlbnZpcm9ubWVudCB7CiAgICAgICAgR1JFRVRJTkcgPSAnSGVsbG8nCiAgICAgICAgTkFNRSA9ICdKZW5raW5zJwogICAgfQogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnUHJpbnQgR3JlZXRpbmcnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIHNjcmlwdCB7CiAgICAgICAgICAgICAgICAgICAgZGVmIG1lc3NhZ2UgPSAiJHtlbnYuR1JFRVRJTkd9LCAke2Vudi5OQU1FfSEiCiAgICAgICAgICAgICAgICAgICAgZWNobyBtZXNzYWdlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ1VzZSBCdWlsdC1pbiBWYXJpYWJsZXMnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gIlRoaXMgaXMgYnVpbGQgbnVtYmVyICR7ZW52LkJVSUxEX05VTUJFUn0gb2Ygam9iICR7ZW52LkpPQl9OQU1FfSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any
    environment {
        GREETING = 'Hello'
        NAME = 'Jenkins'
    }
    stages {
        stage('Print Greeting') {
            steps {
                script {
                    def message = &quot;${env.GREETING}, ${env.NAME}!&quot;
                    echo message
                }
            }
        }
        stage('Use Built-in Variables') {
            steps {
                echo &quot;This is build number ${env.BUILD_NUMBER} of job ${env.JOB_NAME}&quot;
            }
        }
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Environment Directive</strong>: Sets the <code>GREETING</code> and <code>NAME</code> variables.</li>
<li><strong>Print Greeting Stage</strong>: Constructs a message using the environment variables and prints it.</li>
<li><strong>Use Built-in Variables Stage</strong>: Prints the build number and job name using built-in environment variables.</li>
</ul>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Setting and Using Environment Variables</h2>
<div class='content'><ol>
<li>Create a new pipeline job in Jenkins.</li>
<li>Use the following pipeline script:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CiAgICBlbnZpcm9ubWVudCB7CiAgICAgICAgRU5WSVJPTk1FTlQgPSAnZGV2ZWxvcG1lbnQnCiAgICAgICAgVkVSU0lPTiA9ICcxLjAuMCcKICAgIH0KICAgIHN0YWdlcyB7CiAgICAgICAgc3RhZ2UoJ1ByaW50IEVudmlyb25tZW50JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICJSdW5uaW5nIGluICR7ZW52LkVOVklST05NRU5UfSBlbnZpcm9ubWVudCwgdmVyc2lvbiAke2Vudi5WRVJTSU9OfSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any
    environment {
        ENVIRONMENT = 'development'
        VERSION = '1.0.0'
    }
    stages {
        stage('Print Environment') {
            steps {
                echo &quot;Running in ${env.ENVIRONMENT} environment, version ${env.VERSION}&quot;
            }
        }
    }
}</pre></div><div class='content'><ol start="3">
<li>Run the job and observe the output.</li>
</ol>
<p><strong>Solution:</strong></p>
<p>The output should display the environment and version as set in the <code>environment</code> directive.</p>
</div><h2>Exercise 2: Using Credentials as Environment Variables</h2>
<div class='content'><ol>
<li>Add a new secret text credential in Jenkins with the ID <code>my-secret</code>.</li>
<li>Create a new pipeline job with the following script:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CiAgICBlbnZpcm9ubWVudCB7CiAgICAgICAgU0VDUkVUID0gY3JlZGVudGlhbHMoJ215LXNlY3JldCcpCiAgICB9CiAgICBzdGFnZXMgewogICAgICAgIHN0YWdlKCdQcmludCBTZWNyZXQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gIlRoZSBzZWNyZXQgaXMgJHtlbnYuU0VDUkVUfSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any
    environment {
        SECRET = credentials('my-secret')
    }
    stages {
        stage('Print Secret') {
            steps {
                echo &quot;The secret is ${env.SECRET}&quot;
            }
        }
    }
}</pre></div><div class='content'><ol start="3">
<li>Run the job and observe the output.</li>
</ol>
<p><strong>Solution:</strong></p>
<p>The output should display the secret value stored in the Jenkins credentials.</p>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li>
<p><strong>Mistake</strong>: Forgetting to use the <code>env</code> prefix when accessing environment variables.</p>
<ul>
<li><strong>Tip</strong>: Always use <code>env.VARIABLE_NAME</code> to access environment variables in pipeline scripts.</li>
</ul>
</li>
<li>
<p><strong>Mistake</strong>: Hardcoding sensitive information in the pipeline script.</p>
<ul>
<li><strong>Tip</strong>: Use Jenkins credentials to securely manage sensitive information.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of using environment variables in Jenkins pipelines. We learned how to set global and job-specific environment variables, use built-in environment variables, and securely manage sensitive information using Jenkins credentials. Understanding and effectively using environment variables is crucial for creating flexible and maintainable Jenkins pipelines. In the next section, we will explore pipeline best practices to further enhance your Jenkins skills.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-02-parallel-execution-in-pipelines' title="Parallel Execution in Pipelines" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-02-parallel-execution-in-pipelines' title="Parallel Execution in Pipelines" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-04-pipeline-best-practices' title="Pipeline Best Practices" class="py-2 px-3 btn btn-primary"
				data-read-mod="jenkins" data-read-unit="4-3">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-04-pipeline-best-practices' title="Pipeline Best Practices" class="py-2 px-3 btn btn-primary" 
				data-read-mod="jenkins" data-read-unit="4-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Jenkins: From Beginner to Advanced</h1>
<h2>Module 1: Introduction to Jenkins</h2>
<ul>
<li><a href="01-01-what-is-jenkins">What is Jenkins?</a></li>
<li><a href="01-02-installing-jenkins">Installing Jenkins</a></li>
<li><a href="01-03-jenkins-architecture">Jenkins Architecture</a></li>
<li><a href="01-04-first-jenkins-job">First Jenkins Job</a></li>
</ul>
<h2>Module 2: Jenkins Basics</h2>
<ul>
<li><a href="02-01-jenkins-dashboard-overview">Jenkins Dashboard Overview</a></li>
<li><a href="02-02-creating-and-running-jobs">Creating and Running Jobs</a></li>
<li><a href="02-03-understanding-jenkins-pipelines">Understanding Jenkins Pipelines</a></li>
<li><a href="02-04-using-jenkins-plugins">Using Jenkins Plugins</a></li>
</ul>
<h2>Module 3: Jenkins Pipelines</h2>
<ul>
<li><a href="03-01-pipeline-as-code">Pipeline as Code</a></li>
<li><a href="03-02-declarative-vs-scripted-pipelines">Declarative vs Scripted Pipelines</a></li>
<li><a href="03-03-creating-a-simple-pipeline">Creating a Simple Pipeline</a></li>
<li><a href="03-04-pipeline-syntax">Pipeline Syntax</a></li>
</ul>
<h2>Module 4: Advanced Jenkins Pipelines</h2>
<ul>
<li><a href="04-01-pipeline-stages-and-steps">Pipeline Stages and Steps</a></li>
<li><a href="04-02-parallel-execution-in-pipelines">Parallel Execution in Pipelines</a></li>
<li><a href="04-03-using-environment-variables">Using Environment Variables</a></li>
<li><a href="04-04-pipeline-best-practices">Pipeline Best Practices</a></li>
</ul>
<h2>Module 5: Jenkins Administration</h2>
<ul>
<li><a href="05-01-managing-jenkins-nodes">Managing Jenkins Nodes</a></li>
<li><a href="05-02-configuring-security">Configuring Security</a></li>
<li><a href="05-03-backup-and-restore-jenkins">Backup and Restore Jenkins</a></li>
<li><a href="05-04-monitoring-jenkins">Monitoring Jenkins</a></li>
</ul>
<h2>Module 6: Integrating Jenkins</h2>
<ul>
<li><a href="06-01-integrating-with-version-control-systems">Integrating with Version Control Systems</a></li>
<li><a href="06-02-integrating-with-build-tools">Integrating with Build Tools</a></li>
<li><a href="06-03-integrating-with-testing-tools">Integrating with Testing Tools</a></li>
<li><a href="06-04-integrating-with-deployment-tools">Integrating with Deployment Tools</a></li>
</ul>
<h2>Module 7: Jenkins for Continuous Integration and Continuous Delivery (CI/CD)</h2>
<ul>
<li><a href="07-01-understanding-ci-cd">Understanding CI/CD</a></li>
<li><a href="07-02-setting-up-a-ci-pipeline">Setting Up a CI Pipeline</a></li>
<li><a href="07-03-setting-up-a-cd-pipeline">Setting Up a CD Pipeline</a></li>
<li><a href="07-04-automating-deployments">Automating Deployments</a></li>
</ul>
<h2>Module 8: Advanced Jenkins Topics</h2>
<ul>
<li><a href="08-01-using-jenkins-with-docker">Using Jenkins with Docker</a></li>
<li><a href="08-02-jenkins-and-kubernetes">Jenkins and Kubernetes</a></li>
<li><a href="08-03-jenkins-as-code-with-jenkinsfile">Jenkins as Code with Jenkinsfile</a></li>
<li><a href="08-04-scaling-jenkins">Scaling Jenkins</a></li>
</ul>
<h2>Module 9: Jenkins Best Practices and Troubleshooting</h2>
<ul>
<li><a href="09-01-jenkins-best-practices">Jenkins Best Practices</a></li>
<li><a href="09-02-common-jenkins-issues-and-solutions">Common Jenkins Issues and Solutions</a></li>
<li><a href="09-03-optimizing-jenkins-performance">Optimizing Jenkins Performance</a></li>
<li><a href="09-04-jenkins-community-and-resources">Jenkins Community and Resources</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
