<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Declarative vs Scripted Pipelines</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/03-02-declarative-vs-scripted-pipelines" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/03-02-declarative-vs-scripted-pipelines" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/03-02-declarative-vs-scripted-pipelines" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/jenkins/03-02-declarative-vs-scripted-pipelines" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/jenkins/03-02-declarative-vs-scripted-pipelines" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-01-pipeline-as-code' title="Pipeline as Code">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Declarative vs Scripted Pipelines</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In Jenkins, pipelines can be defined using two different syntaxes: Declarative and Scripted. Understanding the differences between these two approaches is crucial for creating efficient and maintainable CI/CD pipelines.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'></div><h2><p>Declarative Pipelines</p>
</h2>
<div class='content'><ul>
<li><strong>Structure</strong>: Declarative pipelines provide a more structured and opinionated syntax. They are defined within a <code>pipeline</code> block.</li>
<li><strong>Ease of Use</strong>: Easier to read and write, especially for beginners.</li>
<li><strong>Error Handling</strong>: Built-in error handling and validation.</li>
<li><strong>Stages and Steps</strong>: Clearly defined stages and steps.</li>
<li><strong>Best Practices</strong>: Encourages best practices by design.</li>
</ul>
</div><h2><p>Scripted Pipelines</p>
</h2>
<div class='content'><ul>
<li><strong>Structure</strong>: Scripted pipelines use a more flexible and powerful Groovy-based syntax.</li>
<li><strong>Flexibility</strong>: Offers more control and flexibility, suitable for complex workflows.</li>
<li><strong>Learning Curve</strong>: Steeper learning curve due to its flexibility and complexity.</li>
<li><strong>Customization</strong>: Allows for extensive customization and scripting.</li>
</ul>
</div><h1><p>Comparison Table</p>
</h1>
<div class='content'><table>
<thead>
<tr>
<th>Feature</th>
<th>Declarative Pipelines</th>
<th>Scripted Pipelines</th>
</tr>
</thead>
<tbody>
<tr>
<td>Syntax</td>
<td>Structured, opinionated</td>
<td>Flexible, Groovy-based</td>
</tr>
<tr>
<td>Learning Curve</td>
<td>Easier for beginners</td>
<td>Steeper, more complex</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Built-in validation and error handling</td>
<td>Requires manual error handling</td>
</tr>
<tr>
<td>Readability</td>
<td>High, due to structured format</td>
<td>Lower, can be complex</td>
</tr>
<tr>
<td>Flexibility</td>
<td>Limited to predefined constructs</td>
<td>Highly flexible, allows custom scripting</td>
</tr>
<tr>
<td>Use Case</td>
<td>Simple to moderately complex pipelines</td>
<td>Complex and highly customized pipelines</td>
</tr>
</tbody>
</table>
</div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Declarative Pipeline Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0J1aWxkaW5nLi4uJwogICAgICAgICAgICAgICAgLy8gQWRkIGJ1aWxkIHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnVGVzdCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgZWNobyAnVGVzdGluZy4uLicKICAgICAgICAgICAgICAgIC8vIEFkZCB0ZXN0IHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRGVwbG95JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdEZXBsb3lpbmcuLi4nCiAgICAgICAgICAgICAgICAvLyBBZGQgZGVwbG95IHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
                // Add build steps here
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
                // Add test steps here
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Add deploy steps here
            }
        }
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><strong>pipeline</strong>: The root block for a declarative pipeline.</li>
<li><strong>agent any</strong>: Specifies that the pipeline can run on any available agent.</li>
<li><strong>stages</strong>: Contains a sequence of stages.</li>
<li><strong>stage</strong>: Represents a phase in the pipeline (e.g., Build, Test, Deploy).</li>
<li><strong>steps</strong>: Contains the actual steps to be executed within a stage.</li>
</ul>
</div><h2><p>Scripted Pipeline Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bm9kZSB7CiAgICB0cnkgewogICAgICAgIHN0YWdlKCdCdWlsZCcpIHsKICAgICAgICAgICAgZWNobyAnQnVpbGRpbmcuLi4nCiAgICAgICAgICAgIC8vIEFkZCBidWlsZCBzdGVwcyBoZXJlCiAgICAgICAgfQogICAgICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgICAgICBlY2hvICdUZXN0aW5nLi4uJwogICAgICAgICAgICAvLyBBZGQgdGVzdCBzdGVwcyBoZXJlCiAgICAgICAgfQogICAgICAgIHN0YWdlKCdEZXBsb3knKSB7CiAgICAgICAgICAgIGVjaG8gJ0RlcGxveWluZy4uLicKICAgICAgICAgICAgLy8gQWRkIGRlcGxveSBzdGVwcyBoZXJlCiAgICAgICAgfQogICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICBlY2hvICJBbiBlcnJvciBvY2N1cnJlZDogJHtlLm1lc3NhZ2V9IgogICAgfSBmaW5hbGx5IHsKICAgICAgICBlY2hvICdQaXBlbGluZSBjb21wbGV0ZWQuJwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>node {
    try {
        stage('Build') {
            echo 'Building...'
            // Add build steps here
        }
        stage('Test') {
            echo 'Testing...'
            // Add test steps here
        }
        stage('Deploy') {
            echo 'Deploying...'
            // Add deploy steps here
        }
    } catch (Exception e) {
        echo &quot;An error occurred: ${e.message}&quot;
    } finally {
        echo 'Pipeline completed.'
    }
}</pre></div><div class='content'><p><strong>Explanation:</strong></p>
<ul>
<li><strong>node</strong>: The root block for a scripted pipeline, indicating the pipeline runs on a Jenkins node.</li>
<li><strong>try-catch-finally</strong>: Used for error handling.</li>
<li><strong>stage</strong>: Represents a phase in the pipeline (e.g., Build, Test, Deploy).</li>
<li><strong>echo</strong>: Prints a message to the console.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create a Declarative Pipeline</p>
</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Create a simple declarative pipeline with three stages: Build, Test, and Deploy.</li>
<li><strong>Steps</strong>:
<ul>
<li>Open Jenkins and create a new pipeline job.</li>
<li>Use the following pipeline script:</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0J1aWxkaW5nLi4uJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdUZXN0aW5nLi4uJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdEZXBsb3knKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0RlcGxveWluZy4uLicKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
            }
        }
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Run the Pipeline</strong>: Save the job and run the pipeline. Observe the output in the console.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><p>The provided script should work as expected, printing messages for each stage.</p>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li>
<p><strong>Declarative Pipelines</strong>:</p>
<ul>
<li>Ensure all stages and steps are correctly nested within the <code>pipeline</code> block.</li>
<li>Use the <code>agent</code> directive to specify where the pipeline should run.</li>
</ul>
</li>
<li>
<p><strong>Scripted Pipelines</strong>:</p>
<ul>
<li>Properly handle exceptions using try-catch blocks.</li>
<li>Use the <code>node</code> block to define the execution environment.</li>
</ul>
</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Understanding the differences between declarative and scripted pipelines is essential for choosing the right approach for your Jenkins workflows. Declarative pipelines offer simplicity and structure, making them ideal for most use cases, while scripted pipelines provide the flexibility needed for more complex scenarios. By mastering both, you can create efficient and maintainable CI/CD pipelines in Jenkins.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-01-pipeline-as-code' title="Pipeline as Code">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
