<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scaling Jenkins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/08-04-scaling-jenkins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/08-04-scaling-jenkins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/08-04-scaling-jenkins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/jenkins/08-04-scaling-jenkins" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/jenkins/08-04-scaling-jenkins" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-03-jenkins-as-code-with-jenkinsfile' title="Jenkins as Code with Jenkinsfile">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Scaling Jenkins</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-01-jenkins-best-practices' title="Jenkins Best Practices">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Scaling Jenkins is essential for handling increased workloads, improving performance, and ensuring high availability. This topic will cover the key concepts, strategies, and practical steps to scale Jenkins effectively.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Horizontal Scaling</strong>: Adding more Jenkins nodes (agents) to distribute the load.</li>
<li><strong>Vertical Scaling</strong>: Enhancing the capacity of existing Jenkins nodes by upgrading hardware resources.</li>
<li><strong>High Availability</strong>: Ensuring Jenkins is always available by setting up redundant systems.</li>
<li><strong>Load Balancing</strong>: Distributing incoming build requests evenly across multiple Jenkins nodes.</li>
</ol>
</div><h1><p>Strategies for Scaling Jenkins</p>
</h1>
<div class='content'></div><h2><ol>
<li>Horizontal Scaling</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Adding Jenkins Nodes</strong>: Increase the number of Jenkins agents to handle more concurrent builds.</li>
<li><strong>Cloud-Based Agents</strong>: Use cloud services like AWS, Azure, or Google Cloud to dynamically provision and de-provision agents based on demand.</li>
</ul>
</div><h2><ol start="2">
<li>Vertical Scaling</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Upgrading Hardware</strong>: Increase CPU, memory, and storage of existing Jenkins nodes.</li>
<li><strong>Optimizing Jenkins Configuration</strong>: Adjust Jenkins settings to make better use of available resources.</li>
</ul>
</div><h2><ol start="3">
<li>High Availability</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Master-Slave Architecture</strong>: Set up multiple Jenkins masters with a shared database to ensure failover.</li>
<li><strong>Backup and Restore</strong>: Regularly back up Jenkins configurations and jobs to quickly restore in case of failure.</li>
</ul>
</div><h2><ol start="4">
<li>Load Balancing</li>
</ol>
</h2>
<div class='content'><ul>
<li><strong>Reverse Proxy</strong>: Use a reverse proxy (e.g., Nginx, HAProxy) to distribute traffic across multiple Jenkins masters.</li>
<li><strong>Distributed Builds</strong>: Configure Jenkins to distribute build steps across multiple nodes.</li>
</ul>
</div><h1><p>Practical Steps to Scale Jenkins</p>
</h1>
<div class='content'></div><h2><p>Step 1: Adding Jenkins Nodes</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to Manage Jenkins</strong>:</p>
<ul>
<li>Go to the Jenkins dashboard.</li>
<li>Click on &quot;Manage Jenkins&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configure Nodes</strong>:</p>
<ul>
<li>Click on &quot;Manage Nodes and Clouds&quot;.</li>
<li>Click on &quot;New Node&quot;.</li>
<li>Enter a name for the node and select &quot;Permanent Agent&quot;.</li>
<li>Configure the node details (e.g., remote root directory, number of executors).</li>
</ul>
</li>
<li>
<p><strong>Launch Agent</strong>:</p>
<ul>
<li>Save the configuration.</li>
<li>Launch the agent on the remote machine using the provided command or JNLP file.</li>
</ul>
</li>
</ol>
</div><h2><p>Step 2: Using Cloud-Based Agents</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Install Cloud Plugin</strong>:</p>
<ul>
<li>Go to &quot;Manage Jenkins&quot; &gt; &quot;Manage Plugins&quot;.</li>
<li>Install the relevant cloud plugin (e.g., Amazon EC2, Google Compute Engine).</li>
</ul>
</li>
<li>
<p><strong>Configure Cloud</strong>:</p>
<ul>
<li>Go to &quot;Manage Jenkins&quot; &gt; &quot;Configure System&quot;.</li>
<li>Scroll to the cloud section and add a new cloud.</li>
<li>Configure the cloud details (e.g., credentials, region, instance type).</li>
</ul>
</li>
<li>
<p><strong>Provision Agents</strong>:</p>
<ul>
<li>Jenkins will automatically provision and de-provision agents based on the build queue.</li>
</ul>
</li>
</ol>
</div><h2><p>Step 3: Setting Up High Availability</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Shared Database</strong>:</p>
<ul>
<li>Set up a shared database (e.g., MySQL, PostgreSQL) for Jenkins masters.</li>
<li>Configure each Jenkins master to use the shared database.</li>
</ul>
</li>
<li>
<p><strong>Backup and Restore</strong>:</p>
<ul>
<li>Use plugins like &quot;ThinBackup&quot; or &quot;Backup Plugin&quot; to schedule regular backups.</li>
<li>Store backups in a secure location.</li>
</ul>
</li>
</ol>
</div><h2><p>Step 4: Load Balancing</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Configure Reverse Proxy</strong>:</p>
<ul>
<li>Install and configure a reverse proxy (e.g., Nginx, HAProxy) to distribute traffic.</li>
<li>Example Nginx configuration:
<pre><code class="language-nginx">upstream jenkins {
    server jenkins-master1:8080;
    server jenkins-master2:8080;
}

server {
    listen 80;
    server_name jenkins.example.com;

    location / {
        proxy_pass http://jenkins;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Distributed Builds</strong>:</p>
<ul>
<li>Configure Jenkins jobs to use specific nodes or labels to distribute build steps.</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Adding a New Jenkins Node</p>
</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Add a new Jenkins node to your Jenkins instance.</li>
<li><strong>Steps</strong>:
<ul>
<li>Navigate to &quot;Manage Jenkins&quot; &gt; &quot;Manage Nodes and Clouds&quot;.</li>
<li>Click on &quot;New Node&quot; and enter a name.</li>
<li>Select &quot;Permanent Agent&quot; and configure the node details.</li>
<li>Save the configuration and launch the agent on the remote machine.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to Manage Jenkins</strong>:</p>
<ul>
<li>Go to the Jenkins dashboard.</li>
<li>Click on &quot;Manage Jenkins&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configure Nodes</strong>:</p>
<ul>
<li>Click on &quot;Manage Nodes and Clouds&quot;.</li>
<li>Click on &quot;New Node&quot;.</li>
<li>Enter a name for the node (e.g., &quot;new-agent&quot;) and select &quot;Permanent Agent&quot;.</li>
<li>Configure the node details:
<ul>
<li>Remote root directory: <code>/var/jenkins</code></li>
<li>Number of executors: <code>2</code></li>
<li>Labels: <code>linux</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Launch Agent</strong>:</p>
<ul>
<li>Save the configuration.</li>
<li>Launch the agent on the remote machine using the provided command or JNLP file.</li>
</ul>
</li>
</ol>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered the key concepts and strategies for scaling Jenkins, including horizontal and vertical scaling, high availability, and load balancing. We also provided practical steps to add Jenkins nodes, use cloud-based agents, set up high availability, and configure load balancing. By following these guidelines, you can ensure that your Jenkins instance can handle increased workloads and maintain high performance and availability.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-03-jenkins-as-code-with-jenkinsfile' title="Jenkins as Code with Jenkinsfile">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-01-jenkins-best-practices' title="Jenkins Best Practices">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
