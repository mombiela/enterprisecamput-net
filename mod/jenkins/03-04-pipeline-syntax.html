<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipeline Syntax</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/03-04-pipeline-syntax" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/03-04-pipeline-syntax" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/03-04-pipeline-syntax" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/jenkins/03-04-pipeline-syntax" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/jenkins/03-04-pipeline-syntax" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pipeline Syntax</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-pipeline-stages-and-steps' title="Pipeline Stages and Steps">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the syntax used in Jenkins pipelines. Understanding the syntax is crucial for creating efficient and maintainable pipelines. Jenkins pipelines can be written in two ways: Declarative and Scripted. We will cover both types, highlighting their syntax and usage.</p>
</div><h1><p>Declarative Pipeline Syntax</p>
</h1>
<div class='content'><p>The Declarative Pipeline syntax is a more recent addition to Jenkins, designed to make writing and reading pipeline code easier. It provides a structured and more readable way to define your pipeline.</p>
</div><h2><p>Key Components of Declarative Pipeline</p>
</h2>
<div class='content'><ol>
<li><strong>Pipeline Block</strong>: The root element of a Declarative Pipeline.</li>
<li><strong>Agent</strong>: Defines where the pipeline or a specific stage will run.</li>
<li><strong>Stages</strong>: Contains one or more stages.</li>
<li><strong>Stage</strong>: Defines a specific phase in the pipeline.</li>
<li><strong>Steps</strong>: Contains the actual build steps.</li>
</ol>
</div><h2><p>Example of a Declarative Pipeline</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0J1aWxkaW5nLi4uJwogICAgICAgICAgICAgICAgLy8gQWRkIGJ1aWxkIHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnVGVzdCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgZWNobyAnVGVzdGluZy4uLicKICAgICAgICAgICAgICAgIC8vIEFkZCB0ZXN0IHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRGVwbG95JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdEZXBsb3lpbmcuLi4nCiAgICAgICAgICAgICAgICAvLyBBZGQgZGVwbG95IHN0ZXBzIGhlcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
                // Add build steps here
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
                // Add test steps here
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Add deploy steps here
            }
        }
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>pipeline</strong>: The root block that defines the entire pipeline.</li>
<li><strong>agent any</strong>: Specifies that the pipeline can run on any available agent.</li>
<li><strong>stages</strong>: A block that contains all the stages of the pipeline.</li>
<li><strong>stage('Build')</strong>: A stage named 'Build'.</li>
<li><strong>steps</strong>: A block that contains the steps to be executed in the stage.</li>
<li><strong>echo 'Building...'</strong>: A step that prints 'Building...' to the console.</li>
</ul>
</div><h1><p>Scripted Pipeline Syntax</p>
</h1>
<div class='content'><p>The Scripted Pipeline syntax is based on Groovy and provides more flexibility and control over the pipeline. It is more complex and less readable compared to Declarative Pipeline.</p>
</div><h2><p>Key Components of Scripted Pipeline</p>
</h2>
<div class='content'><ol>
<li><strong>node</strong>: Defines the node where the pipeline will run.</li>
<li><strong>stage</strong>: Defines a specific phase in the pipeline.</li>
<li><strong>steps</strong>: Contains the actual build steps.</li>
</ol>
</div><h2><p>Example of a Scripted Pipeline</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bm9kZSB7CiAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgZWNobyAnQnVpbGRpbmcuLi4nCiAgICAgICAgLy8gQWRkIGJ1aWxkIHN0ZXBzIGhlcmUKICAgIH0KICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgIGVjaG8gJ1Rlc3RpbmcuLi4nCiAgICAgICAgLy8gQWRkIHRlc3Qgc3RlcHMgaGVyZQogICAgfQogICAgc3RhZ2UoJ0RlcGxveScpIHsKICAgICAgICBlY2hvICdEZXBsb3lpbmcuLi4nCiAgICAgICAgLy8gQWRkIGRlcGxveSBzdGVwcyBoZXJlCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>node {
    stage('Build') {
        echo 'Building...'
        // Add build steps here
    }
    stage('Test') {
        echo 'Testing...'
        // Add test steps here
    }
    stage('Deploy') {
        echo 'Deploying...'
        // Add deploy steps here
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>node</strong>: The root block that defines the node where the pipeline will run.</li>
<li><strong>stage('Build')</strong>: A stage named 'Build'.</li>
<li><strong>echo 'Building...'</strong>: A step that prints 'Building...' to the console.</li>
</ul>
</div><h1><p>Comparison of Declarative and Scripted Pipelines</p>
</h1>
<div class='content'><table>
<thead>
<tr>
<th>Feature</th>
<th>Declarative Pipeline</th>
<th>Scripted Pipeline</th>
</tr>
</thead>
<tbody>
<tr>
<td>Syntax</td>
<td>Structured and readable</td>
<td>Flexible and powerful</td>
</tr>
<tr>
<td>Learning Curve</td>
<td>Easier for beginners</td>
<td>Steeper for beginners</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Built-in error handling</td>
<td>Requires manual error handling</td>
</tr>
<tr>
<td>Use Case</td>
<td>Standard CI/CD pipelines</td>
<td>Complex and custom pipelines</td>
</tr>
</tbody>
</table>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><p>Create a Jenkins pipeline that includes the following stages:</p>
<ol>
<li><strong>Checkout</strong>: Checkout code from a Git repository.</li>
<li><strong>Build</strong>: Compile the code.</li>
<li><strong>Test</strong>: Run unit tests.</li>
<li><strong>Deploy</strong>: Deploy the application.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><h4>Declarative Pipeline</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQ2hlY2tvdXQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGdpdCAnaHR0cHM6Ly9naXRodWIuY29tL3lvdXItcmVwby95b3VyLXByb2plY3QuZ2l0JwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdCdWlsZCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgZWNobyAnQnVpbGRpbmcuLi4nCiAgICAgICAgICAgICAgICAvLyBBZGQgYnVpbGQgc3RlcHMgaGVyZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdUZXN0aW5nLi4uJwogICAgICAgICAgICAgICAgLy8gQWRkIHRlc3Qgc3RlcHMgaGVyZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdEZXBsb3knKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0RlcGxveWluZy4uLicKICAgICAgICAgICAgICAgIC8vIEFkZCBkZXBsb3kgc3RlcHMgaGVyZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                git 'https://github.com/your-repo/your-project.git'
            }
        }
        stage('Build') {
            steps {
                echo 'Building...'
                // Add build steps here
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
                // Add test steps here
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Add deploy steps here
            }
        }
    }
}</pre></div><div class='content'><h4>Scripted Pipeline</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bm9kZSB7CiAgICBzdGFnZSgnQ2hlY2tvdXQnKSB7CiAgICAgICAgZ2l0ICdodHRwczovL2dpdGh1Yi5jb20veW91ci1yZXBvL3lvdXItcHJvamVjdC5naXQnCiAgICB9CiAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgZWNobyAnQnVpbGRpbmcuLi4nCiAgICAgICAgLy8gQWRkIGJ1aWxkIHN0ZXBzIGhlcmUKICAgIH0KICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgIGVjaG8gJ1Rlc3RpbmcuLi4nCiAgICAgICAgLy8gQWRkIHRlc3Qgc3RlcHMgaGVyZQogICAgfQogICAgc3RhZ2UoJ0RlcGxveScpIHsKICAgICAgICBlY2hvICdEZXBsb3lpbmcuLi4nCiAgICAgICAgLy8gQWRkIGRlcGxveSBzdGVwcyBoZXJlCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>node {
    stage('Checkout') {
        git 'https://github.com/your-repo/your-project.git'
    }
    stage('Build') {
        echo 'Building...'
        // Add build steps here
    }
    stage('Test') {
        echo 'Testing...'
        // Add test steps here
    }
    stage('Deploy') {
        echo 'Deploying...'
        // Add deploy steps here
    }
}</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Syntax Errors</strong>: Ensure that you follow the correct syntax for each type of pipeline. Missing braces or incorrect indentation can cause errors.</li>
<li><strong>Agent Specification</strong>: Always specify an agent to avoid running into issues where Jenkins doesn't know where to execute the pipeline.</li>
<li><strong>Stage Names</strong>: Use meaningful stage names to make the pipeline easier to understand and maintain.</li>
<li><strong>Error Handling</strong>: In Scripted Pipelines, make sure to handle errors properly to avoid pipeline failures.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the syntax of both Declarative and Scripted Jenkins pipelines. We explored the key components, provided examples, and compared the two types of pipelines. Understanding the syntax is essential for creating effective Jenkins pipelines. In the next section, we will dive deeper into pipeline stages and steps, enhancing our pipeline knowledge further.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-creating-a-simple-pipeline' title="Creating a Simple Pipeline">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-pipeline-stages-and-steps' title="Pipeline Stages and Steps">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
