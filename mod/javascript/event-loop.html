<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Loop</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/event-loop" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/event-loop" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/event-loop" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/javascript/event-loop" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/javascript/event-loop" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-the-browser-developer-tools'>&#x25C4;Using the Browser Developer Tools</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Event Loop</a>
	</div>
	<div class='col-4 text-end'>
					<a href='concurrency-model'>Concurrency Model &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to the Event Loop</h1>
<div class='content'><p>The event loop is a fundamental concept in JavaScript that allows for asynchronous programming. It enables JavaScript to perform non-blocking operations, despite being single-threaded.</p>
<ul>
<li><strong>Single-threaded</strong>: JavaScript executes code in a single thread, meaning one command runs at a time.</li>
<li><strong>Asynchronous</strong>: Operations that can occur independently of the main program flow, such as I/O operations, timers, and network requests.</li>
</ul>
</div><h1>How the Event Loop Works</h1>
<div class='content'><p>The event loop continuously checks the call stack and the task queue to determine what to execute next.</p>
<ol>
<li><strong>Call Stack</strong>: A stack structure that keeps track of function calls.</li>
<li><strong>Task Queue</strong>: A queue where asynchronous tasks are placed to be executed after the current stack is clear.</li>
</ol>
</div><h2>Example of Call Stack and Task Queue</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc29sZS5sb2coJ1N0YXJ0Jyk7CgpzZXRUaW1lb3V0KCgpID0+IHsKICBjb25zb2xlLmxvZygnVGltZW91dCcpOwp9LCAwKTsKCmNvbnNvbGUubG9nKCdFbmQnKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>console.log('Start');

setTimeout(() =&gt; {
  console.log('Timeout');
}, 0);

console.log('End');</pre></div><div class='content'><ul>
<li><strong>Call Stack</strong>:
<ul>
<li><code>console.log('Start')</code></li>
<li><code>console.log('End')</code></li>
</ul>
</li>
<li><strong>Task Queue</strong>:
<ul>
<li><code>setTimeout</code> callback</li>
</ul>
</li>
</ul>
</div><h2>Execution Flow</h2>
<div class='content'><ol>
<li><code>console.log('Start')</code> is pushed to the call stack and executed.</li>
<li><code>setTimeout</code> is called, and its callback is placed in the task queue.</li>
<li><code>console.log('End')</code> is pushed to the call stack and executed.</li>
<li>The call stack is now empty, so the event loop checks the task queue.</li>
<li>The <code>setTimeout</code> callback is moved to the call stack and executed.</li>
</ol>
</div><h1>Microtasks and Macrotasks</h1>
<div class='content'><p>JavaScript distinguishes between microtasks and macrotasks, which have different priorities in the event loop.</p>
<ul>
<li><strong>Microtasks</strong>: Higher priority tasks, such as Promises.</li>
<li><strong>Macrotasks</strong>: Lower priority tasks, such as <code>setTimeout</code> and <code>setInterval</code>.</li>
</ul>
</div><h2>Example with Promises</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc29sZS5sb2coJ1N0YXJ0Jyk7CgpzZXRUaW1lb3V0KCgpID0+IHsKICBjb25zb2xlLmxvZygnVGltZW91dCcpOwp9LCAwKTsKClByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gewogIGNvbnNvbGUubG9nKCdQcm9taXNlJyk7Cn0pOwoKY29uc29sZS5sb2coJ0VuZCcpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>console.log('Start');

setTimeout(() =&gt; {
  console.log('Timeout');
}, 0);

Promise.resolve().then(() =&gt; {
  console.log('Promise');
});

console.log('End');</pre></div><div class='content'></div><h2>Execution Flow with Microtasks</h2>
<div class='content'><ol>
<li><code>console.log('Start')</code> is executed.</li>
<li><code>setTimeout</code> callback is placed in the macrotask queue.</li>
<li><code>Promise.resolve().then()</code> callback is placed in the microtask queue.</li>
<li><code>console.log('End')</code> is executed.</li>
<li>The call stack is empty, so the event loop checks the microtask queue.</li>
<li>The <code>Promise</code> callback is executed.</li>
<li>The call stack is empty again, so the event loop checks the macrotask queue.</li>
<li>The <code>setTimeout</code> callback is executed.</li>
</ol>
</div><h1>Practical Applications</h1>
<div class='content'><p>Understanding the event loop is crucial for writing efficient and non-blocking JavaScript code.</p>
<ul>
<li><strong>Handling I/O operations</strong>: Non-blocking I/O operations allow the main thread to continue executing while waiting for I/O operations to complete.</li>
<li><strong>Timers</strong>: Using <code>setTimeout</code> and <code>setInterval</code> to schedule tasks.</li>
<li><strong>Promises and async/await</strong>: Managing asynchronous code execution.</li>
</ul>
</div><h2>Example with async/await</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogIGNvbnNvbGUubG9nKCdGZXRjaGluZyBkYXRhLi4uJyk7CiAgbGV0IGRhdGEgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpOwogIGNvbnNvbGUubG9nKCdEYXRhIGZldGNoZWQnKTsKfQoKY29uc29sZS5sb2coJ1N0YXJ0Jyk7CmZldGNoRGF0YSgpOwpjb25zb2xlLmxvZygnRW5kJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function fetchData() {
  console.log('Fetching data...');
  let data = await fetch('https://api.example.com/data');
  console.log('Data fetched');
}

console.log('Start');
fetchData();
console.log('End');</pre></div><div class='content'></div><h2>Execution Flow with async/await</h2>
<div class='content'><ol>
<li><code>console.log('Start')</code> is executed.</li>
<li><code>fetchData()</code> is called, and <code>console.log('Fetching data...')</code> is executed.</li>
<li>The <code>await fetch</code> pauses the <code>fetchData</code> function, and the control returns to the main thread.</li>
<li><code>console.log('End')</code> is executed.</li>
<li>Once the fetch operation completes, <code>console.log('Data fetched')</code> is executed.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>The event loop is a core concept that enables JavaScript to handle asynchronous operations efficiently. By understanding how the call stack, task queue, microtasks, and macrotasks work together, you can write more efficient and responsive JavaScript code. This knowledge is essential for both beginner and advanced JavaScript developers to manage asynchronous operations effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-the-browser-developer-tools'>&#x25C4;Using the Browser Developer Tools</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Event Loop</a>
	</div>
	<div class='col-4 text-end'>
					<a href='concurrency-model'>Concurrency Model &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
