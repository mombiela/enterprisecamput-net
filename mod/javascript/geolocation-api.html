<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocation API</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/geolocation-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/geolocation-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/geolocation-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/javascript/geolocation-api" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/javascript/geolocation-api" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='fetch-api'>&#x25C4;Fetch API</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Geolocation API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='canvas-api'>Canvas API &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Geolocation API</h1>
<div class='content'><p>The Geolocation API allows web applications to access the geographical location of a device. This can be useful for various applications, such as mapping, location-based services, and more.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Geolocation API</strong>: A web API that provides the ability to retrieve the geographical location of the user's device.</li>
<li><strong>Navigator.geolocation</strong>: The main interface to access the Geolocation API.</li>
<li><strong>Position</strong>: An object representing the location of the device.</li>
<li><strong>PositionError</strong>: An object representing an error that occurred while trying to obtain the location.</li>
</ul>
</div><h1>Accessing the Geolocation API</h1>
<div class='content'><p>To use the Geolocation API, you need to check if the browser supports it and then request the current position.</p>
</div><h2>Checking for Support</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCJnZW9sb2NhdGlvbiIgaW4gbmF2aWdhdG9yKSB7CiAgY29uc29sZS5sb2coIkdlb2xvY2F0aW9uIGlzIGF2YWlsYWJsZSIpOwp9IGVsc2UgewogIGNvbnNvbGUubG9nKCJHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3NlciIpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if (&quot;geolocation&quot; in navigator) {
  console.log(&quot;Geolocation is available&quot;);
} else {
  console.log(&quot;Geolocation is not supported by this browser&quot;);
}</pre></div><div class='content'></div><h2>Getting the Current Position</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spOwoKZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHBvc2l0aW9uKSB7CiAgY29uc29sZS5sb2coIkxhdGl0dWRlOiAiICsgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTsKICBjb25zb2xlLmxvZygiTG9uZ2l0dWRlOiAiICsgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7Cn0KCmZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHsKICBjb25zb2xlLmVycm9yKCJFcnJvciBDb2RlOiAiICsgZXJyb3IuY29kZSArICIgLSAiICsgZXJyb3IubWVzc2FnZSk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>navigator.geolocation.getCurrentPosition(successCallback, errorCallback);

function successCallback(position) {
  console.log(&quot;Latitude: &quot; + position.coords.latitude);
  console.log(&quot;Longitude: &quot; + position.coords.longitude);
}

function errorCallback(error) {
  console.error(&quot;Error Code: &quot; + error.code + &quot; - &quot; + error.message);
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>navigator.geolocation.getCurrentPosition(successCallback, errorCallback)</code>: Requests the current position of the device.</li>
<li><code>successCallback(position)</code>: Called when the position is successfully retrieved.
<ul>
<li><code>position.coords.latitude</code>: The latitude of the device.</li>
<li><code>position.coords.longitude</code>: The longitude of the device.</li>
</ul>
</li>
<li><code>errorCallback(error)</code>: Called when there is an error retrieving the position.
<ul>
<li><code>error.code</code>: The error code.</li>
<li><code>error.message</code>: A human-readable error message.</li>
</ul>
</li>
</ul>
</div><h1>Handling Errors</h1>
<div class='content'><p>The Geolocation API can fail for various reasons, such as the user denying permission or the device being unable to determine its location.</p>
</div><h2>Common Error Codes</h2>
<div class='content'><p>| Error Code | Description                           |
|------------|---------------------------------------|
| 1          | Permission denied                     |
| 2          | Position unavailable                  |
| 3          | Timeout                               |</p>
</div><h2>Example of Handling Errors</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikgewogIHN3aXRjaChlcnJvci5jb2RlKSB7CiAgICBjYXNlIGVycm9yLlBFUk1JU1NJT05fREVOSUVEOgogICAgICBjb25zb2xlLmVycm9yKCJVc2VyIGRlbmllZCB0aGUgcmVxdWVzdCBmb3IgR2VvbG9jYXRpb24uIik7CiAgICAgIGJyZWFrOwogICAgY2FzZSBlcnJvci5QT1NJVElPTl9VTkFWQUlMQUJMRToKICAgICAgY29uc29sZS5lcnJvcigiTG9jYXRpb24gaW5mb3JtYXRpb24gaXMgdW5hdmFpbGFibGUuIik7CiAgICAgIGJyZWFrOwogICAgY2FzZSBlcnJvci5USU1FT1VUOgogICAgICBjb25zb2xlLmVycm9yKCJUaGUgcmVxdWVzdCB0byBnZXQgdXNlciBsb2NhdGlvbiB0aW1lZCBvdXQuIik7CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgY29uc29sZS5lcnJvcigiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4iKTsKICAgICAgYnJlYWs7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function errorCallback(error) {
  switch(error.code) {
    case error.PERMISSION_DENIED:
      console.error(&quot;User denied the request for Geolocation.&quot;);
      break;
    case error.POSITION_UNAVAILABLE:
      console.error(&quot;Location information is unavailable.&quot;);
      break;
    case error.TIMEOUT:
      console.error(&quot;The request to get user location timed out.&quot;);
      break;
    default:
      console.error(&quot;An unknown error occurred.&quot;);
      break;
  }
}</pre></div><div class='content'></div><h1>Watching Position</h1>
<div class='content'><p>In addition to getting the current position, you can also watch the position, which allows you to track the device's location over time.</p>
</div><h2>Watching Position Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIHdhdGNoSWQgPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spOwoKZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHBvc2l0aW9uKSB7CiAgY29uc29sZS5sb2coIkxhdGl0dWRlOiAiICsgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTsKICBjb25zb2xlLmxvZygiTG9uZ2l0dWRlOiAiICsgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7Cn0KCi8vIFRvIHN0b3Agd2F0Y2hpbmcgdGhlIHBvc2l0aW9uCm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHdhdGNoSWQpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var watchId = navigator.geolocation.watchPosition(successCallback, errorCallback);

function successCallback(position) {
  console.log(&quot;Latitude: &quot; + position.coords.latitude);
  console.log(&quot;Longitude: &quot; + position.coords.longitude);
}

// To stop watching the position
navigator.geolocation.clearWatch(watchId);</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>navigator.geolocation.watchPosition(successCallback, errorCallback)</code>: Continuously calls the <code>successCallback</code> with updated position data.</li>
<li><code>navigator.geolocation.clearWatch(watchId)</code>: Stops watching the position updates.</li>
</ul>
</div><h1>Advanced Usage</h1>
<h2>Options for getCurrentPosition and watchPosition</h2>
<div class='content'><p>You can pass an options object to <code>getCurrentPosition</code> and <code>watchPosition</code> to customize the behavior.</p>
</div><h2>Options Object</h2>
<div class='content'><p>| Option          | Description                                      |
|-----------------|--------------------------------------------------|
| enableHighAccuracy | Boolean indicating if high accuracy is desired. |
| timeout         | Maximum time (in milliseconds) to wait for a position. |
| maximumAge      | Maximum age (in milliseconds) of a cached position. |</p>
</div><h2>Example with Options</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIG9wdGlvbnMgPSB7CiAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLAogIHRpbWVvdXQ6IDUwMDAsCiAgbWF4aW11bUFnZTogMAp9OwoKbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var options = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0
};

navigator.geolocation.getCurrentPosition(successCallback, errorCallback, options);</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>enableHighAccuracy</code>: If true, the device attempts to provide a more accurate position.</li>
<li><code>timeout</code>: The maximum time to wait for a position.</li>
<li><code>maximumAge</code>: The maximum age of a cached position that is acceptable.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>The Geolocation API is a powerful tool for accessing the geographical location of a device. By understanding how to check for support, handle errors, and use advanced options, you can create robust location-based applications. Whether you need to get the current position or track the device's location over time, the Geolocation API provides the necessary functionality to achieve your goals.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='fetch-api'>&#x25C4;Fetch API</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Geolocation API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='canvas-api'>Canvas API &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
