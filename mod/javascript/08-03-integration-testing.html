<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integration Testing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/08-03-integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/08-03-integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/08-03-integration-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/javascript/08-03-integration-testing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/javascript/08-03-integration-testing" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-02-unit-testing-jest' title="Unit Testing with Jest">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Integration Testing</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-04-end-to-end-testing-cypress' title="End-to-End Testing with Cypress">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Integration testing is a crucial phase in the software development lifecycle where individual units or components of a software application are combined and tested as a group. The primary goal is to identify issues that occur when different modules interact with each other. This ensures that the integrated components work together as expected.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Integration Testing vs. Unit Testing</strong>:</p>
<ul>
<li><strong>Unit Testing</strong>: Focuses on testing individual components or functions in isolation.</li>
<li><strong>Integration Testing</strong>: Focuses on testing the interaction between integrated components.</li>
</ul>
</li>
<li>
<p><strong>Types of Integration Testing</strong>:</p>
<ul>
<li><strong>Big Bang Integration Testing</strong>: All components are integrated simultaneously and tested as a whole.</li>
<li><strong>Incremental Integration Testing</strong>: Components are integrated and tested one by one. This can be further divided into:
<ul>
<li><strong>Top-Down Integration</strong>: Testing starts from the top-level modules and progresses downwards.</li>
<li><strong>Bottom-Up Integration</strong>: Testing starts from the bottom-level modules and progresses upwards.</li>
<li><strong>Sandwich Integration</strong>: A combination of both top-down and bottom-up approaches.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Tools for Integration Testing</strong>:</p>
<ul>
<li><strong>Jest</strong>: A JavaScript testing framework that works well with React and other JavaScript projects.</li>
<li><strong>Mocha</strong>: A feature-rich JavaScript test framework running on Node.js.</li>
<li><strong>Chai</strong>: A BDD/TDD assertion library for Node.js and the browser.</li>
<li><strong>Cypress</strong>: An end-to-end testing framework that can also be used for integration testing.</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Example: Integration Testing with Jest</p>
</h1>
<div class='content'></div><h2><p>Setting Up Jest</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Install Jest</strong>:</p>
<pre><code class="language-bash">npm install --save-dev jest
</code></pre>
</li>
<li>
<p><strong>Configure Jest</strong>:
Add the following to your <code>package.json</code>:</p>
<pre><code class="language-json">&quot;scripts&quot;: {
  &quot;test&quot;: &quot;jest&quot;
}
</code></pre>
</li>
</ol>
</div><h2><p>Writing Integration Tests</p>
</h2>
<div class='content'><p>Let's consider a simple example where we have two modules: <code>user.js</code> and <code>auth.js</code>.</p>
<h4>user.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gdXNlci5qcwpmdW5jdGlvbiBnZXRVc2VyKGlkKSB7CiAgcmV0dXJuIHsgaWQsIG5hbWU6ICdKb2huIERvZScgfTsKfQoKbW9kdWxlLmV4cG9ydHMgPSB7IGdldFVzZXIgfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// user.js
function getUser(id) {
  return { id, name: 'John Doe' };
}

module.exports = { getUser };</pre></div><div class='content'><h4>auth.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXV0aC5qcwpjb25zdCB7IGdldFVzZXIgfSA9IHJlcXVpcmUoJy4vdXNlcicpOwoKZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHVzZXJJZCkgewogIGNvbnN0IHVzZXIgPSBnZXRVc2VyKHVzZXJJZCk7CiAgcmV0dXJuIHVzZXIgIT09IG51bGw7Cn0KCm1vZHVsZS5leHBvcnRzID0geyBpc0F1dGhlbnRpY2F0ZWQgfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// auth.js
const { getUser } = require('./user');

function isAuthenticated(userId) {
  const user = getUser(userId);
  return user !== null;
}

module.exports = { isAuthenticated };</pre></div><div class='content'><h4>auth.test.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXV0aC50ZXN0LmpzCmNvbnN0IHsgaXNBdXRoZW50aWNhdGVkIH0gPSByZXF1aXJlKCcuL2F1dGgnKTsKY29uc3QgeyBnZXRVc2VyIH0gPSByZXF1aXJlKCcuL3VzZXInKTsKCmplc3QubW9jaygnLi91c2VyJyk7CgpkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdDogQXV0aCBNb2R1bGUnLCAoKSA9PiB7CiAgdGVzdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciBhdXRoZW50aWNhdGVkIHVzZXInLCAoKSA9PiB7CiAgICBnZXRVc2VyLm1vY2tSZXR1cm5WYWx1ZSh7IGlkOiAxLCBuYW1lOiAnSm9obiBEb2UnIH0pOwoKICAgIGNvbnN0IHJlc3VsdCA9IGlzQXV0aGVudGljYXRlZCgxKTsKICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7CiAgfSk7CgogIHRlc3QoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIG5vbi1hdXRoZW50aWNhdGVkIHVzZXInLCAoKSA9PiB7CiAgICBnZXRVc2VyLm1vY2tSZXR1cm5WYWx1ZShudWxsKTsKCiAgICBjb25zdCByZXN1bHQgPSBpc0F1dGhlbnRpY2F0ZWQoMik7CiAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTsKICB9KTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// auth.test.js
const { isAuthenticated } = require('./auth');
const { getUser } = require('./user');

jest.mock('./user');

describe('Integration Test: Auth Module', () =&gt; {
  test('should return true for authenticated user', () =&gt; {
    getUser.mockReturnValue({ id: 1, name: 'John Doe' });

    const result = isAuthenticated(1);
    expect(result).toBe(true);
  });

  test('should return false for non-authenticated user', () =&gt; {
    getUser.mockReturnValue(null);

    const result = isAuthenticated(2);
    expect(result).toBe(false);
  });
});</pre></div><div class='content'></div><h2><p>Running the Tests</p>
</h2>
<div class='content'><p>Run the tests using the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm test</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Integration Testing with Mocha and Chai</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Install Mocha and Chai</strong>:</p>
<pre><code class="language-bash">npm install --save-dev mocha chai
</code></pre>
</li>
<li>
<p><strong>Create a simple integration test</strong>:</p>
<ul>
<li>Create two modules: <code>calculator.js</code> and <code>mathOperations.js</code>.</li>
<li>Write integration tests to verify the interaction between these modules.</li>
</ul>
</li>
</ol>
<h4>calculator.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY2FsY3VsYXRvci5qcwpjb25zdCB7IGFkZCwgc3VidHJhY3QgfSA9IHJlcXVpcmUoJy4vbWF0aE9wZXJhdGlvbnMnKTsKCmZ1bmN0aW9uIGNhbGN1bGF0ZShhLCBiLCBvcGVyYXRpb24pIHsKICBpZiAob3BlcmF0aW9uID09PSAnYWRkJykgewogICAgcmV0dXJuIGFkZChhLCBiKTsKICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJ3N1YnRyYWN0JykgewogICAgcmV0dXJuIHN1YnRyYWN0KGEsIGIpOwogIH0KICByZXR1cm4gbnVsbDsKfQoKbW9kdWxlLmV4cG9ydHMgPSB7IGNhbGN1bGF0ZSB9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// calculator.js
const { add, subtract } = require('./mathOperations');

function calculate(a, b, operation) {
  if (operation === 'add') {
    return add(a, b);
  } else if (operation === 'subtract') {
    return subtract(a, b);
  }
  return null;
}

module.exports = { calculate };</pre></div><div class='content'><h4>mathOperations.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWF0aE9wZXJhdGlvbnMuanMKZnVuY3Rpb24gYWRkKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn0KCmZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIpIHsKICByZXR1cm4gYSAtIGI7Cn0KCm1vZHVsZS5leHBvcnRzID0geyBhZGQsIHN1YnRyYWN0IH07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// mathOperations.js
function add(a, b) {
  return a + b;
}

function subtract(a, b) {
  return a - b;
}

module.exports = { add, subtract };</pre></div><div class='content'><h4>calculator.test.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY2FsY3VsYXRvci50ZXN0LmpzCmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJyk7CmNvbnN0IHsgY2FsY3VsYXRlIH0gPSByZXF1aXJlKCcuL2NhbGN1bGF0b3InKTsKCmRlc2NyaWJlKCdJbnRlZ3JhdGlvbiBUZXN0OiBDYWxjdWxhdG9yIE1vZHVsZScsICgpID0+IHsKICBpdCgnc2hvdWxkIHJldHVybiB0aGUgc3VtIG9mIHR3byBudW1iZXJzJywgKCkgPT4gewogICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlKDIsIDMsICdhZGQnKTsKICAgIGV4cGVjdChyZXN1bHQpLnRvLmVxdWFsKDUpOwogIH0pOwoKICBpdCgnc2hvdWxkIHJldHVybiB0aGUgZGlmZmVyZW5jZSBvZiB0d28gbnVtYmVycycsICgpID0+IHsKICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZSg1LCAzLCAnc3VidHJhY3QnKTsKICAgIGV4cGVjdChyZXN1bHQpLnRvLmVxdWFsKDIpOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// calculator.test.js
const { expect } = require('chai');
const { calculate } = require('./calculator');

describe('Integration Test: Calculator Module', () =&gt; {
  it('should return the sum of two numbers', () =&gt; {
    const result = calculate(2, 3, 'add');
    expect(result).to.equal(5);
  });

  it('should return the difference of two numbers', () =&gt; {
    const result = calculate(5, 3, 'subtract');
    expect(result).to.equal(2);
  });
});</pre></div><div class='content'><ol start="3">
<li><strong>Run the tests</strong>:
<pre><code class="language-bash">npx mocha
</code></pre>
</li>
</ol>
</div><h2><p>Exercise 2: Integration Testing with Cypress</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Install Cypress</strong>:</p>
<pre><code class="language-bash">npm install --save-dev cypress
</code></pre>
</li>
<li>
<p><strong>Write an integration test for a simple web application</strong>:</p>
<ul>
<li>Create a simple HTML page with a form.</li>
<li>Write a Cypress test to verify the form submission.</li>
</ul>
</li>
</ol>
<h4>index.html</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KICA8dGl0bGU+Rm9ybSBUZXN0PC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICA8Zm9ybSBpZD0idGVzdC1mb3JtIj4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFtZSIgbmFtZT0ibmFtZSIgcGxhY2Vob2xkZXI9IkVudGVyIHlvdXIgbmFtZSI+CiAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+U3VibWl0PC9idXR0b24+CiAgPC9mb3JtPgoKICA8c2NyaXB0IHNyYz0iYXBwLmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;Form Test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;form id=&quot;test-form&quot;&gt;
    &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;Enter your name&quot;&gt;
    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
  &lt;/form&gt;

  &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><h4>app.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLmpzCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0LWZvcm0nKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihldmVudCkgewogIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgYWxlcnQoJ0Zvcm0gc3VibWl0dGVkIScpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.js
document.getElementById('test-form').addEventListener('submit', function(event) {
  event.preventDefault();
  alert('Form submitted!');
});</pre></div><div class='content'><h4>form.spec.js</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZm9ybS5zcGVjLmpzCmRlc2NyaWJlKCdGb3JtIFN1Ym1pc3Npb24gVGVzdCcsICgpID0+IHsKICBpdCgnc2hvdWxkIHN1Ym1pdCB0aGUgZm9ybScsICgpID0+IHsKICAgIGN5LnZpc2l0KCdpbmRleC5odG1sJyk7CiAgICBjeS5nZXQoJyNuYW1lJykudHlwZSgnSm9obiBEb2UnKTsKICAgIGN5LmdldCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykuY2xpY2soKTsKICAgIGN5Lm9uKCd3aW5kb3c6YWxlcnQnLCAoc3RyKSA9PiB7CiAgICAgIGV4cGVjdChzdHIpLnRvLmVxdWFsKCdGb3JtIHN1Ym1pdHRlZCEnKTsKICAgIH0pOwogIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// form.spec.js
describe('Form Submission Test', () =&gt; {
  it('should submit the form', () =&gt; {
    cy.visit('index.html');
    cy.get('#name').type('John Doe');
    cy.get('button[type=&quot;submit&quot;]').click();
    cy.on('window:alert', (str) =&gt; {
      expect(str).to.equal('Form submitted!');
    });
  });
});</pre></div><div class='content'><ol start="3">
<li><strong>Run the tests</strong>:
<pre><code class="language-bash">npx cypress open
</code></pre>
</li>
</ol>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Mocking Dependencies</strong>: Ensure that you correctly mock dependencies to isolate the components being tested.</li>
<li><strong>Test Coverage</strong>: Aim for high test coverage but focus on meaningful tests that cover critical interactions.</li>
<li><strong>Incremental Testing</strong>: Start with smaller integrations and gradually increase the complexity.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Integration testing is essential for ensuring that different components of your application work together seamlessly. By using tools like Jest, Mocha, Chai, and Cypress, you can write effective integration tests that help catch issues early in the development process. Remember to mock dependencies appropriately and focus on meaningful test coverage to build robust and reliable applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-02-unit-testing-jest' title="Unit Testing with Jest">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-04-end-to-end-testing-cypress' title="End-to-End Testing with Cypress">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
