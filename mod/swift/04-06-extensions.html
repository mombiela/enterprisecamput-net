<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extensions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/swift/04-06-extensions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/swift/04-06-extensions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/swift/04-06-extensions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/swift/04-06-extensions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/swift/04-06-extensions" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-05-protocols' title="Protocols">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Extensions</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-01-generics' title="Generics">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Extensions in Swift are a powerful feature that allows you to add new functionality to existing classes, structures, enumerations, or protocols. This can be done without modifying the original source code, making your code more modular and organized.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Adding Computed Properties</strong>: Extensions can add computed properties to existing types.</li>
<li><strong>Adding Methods</strong>: You can add new instance methods and type methods.</li>
<li><strong>Adding Initializers</strong>: Extensions can add new initializers to existing types.</li>
<li><strong>Adding Subscripts</strong>: You can add new subscripts to existing types.</li>
<li><strong>Adding Nested Types</strong>: Extensions can add nested types to existing classes, structures, and enumerations.</li>
<li><strong>Conforming to Protocols</strong>: Extensions can make an existing type conform to a protocol.</li>
</ol>
</div><h1><p>Syntax</p>
</h1>
<div class='content'><p>The basic syntax for an extension is as follows:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIFNvbWVUeXBlIHsKICAgIC8vIE5ldyBmdW5jdGlvbmFsaXR5IHRvIGFkZCB0byBTb21lVHlwZSBnb2VzIGhlcmUKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension SomeType {
    // New functionality to add to SomeType goes here
}</pre></div><div class='content'></div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Adding Computed Properties</p>
</h2>
<div class='content'><p>You can add computed properties to an existing type using extensions. For example, adding a computed property to <code>Double</code> to convert values to kilometers:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIERvdWJsZSB7CiAgICB2YXIga206IERvdWJsZSB7IHJldHVybiBzZWxmICogMV8wMDAuMCB9CiAgICB2YXIgbTogRG91YmxlIHsgcmV0dXJuIHNlbGYgfQogICAgdmFyIGNtOiBEb3VibGUgeyByZXR1cm4gc2VsZiAvIDEwMC4wIH0KICAgIHZhciBtbTogRG91YmxlIHsgcmV0dXJuIHNlbGYgLyAxXzAwMC4wIH0KfQoKbGV0IG9uZU1ldGVyID0gMS4wLm0KcHJpbnQoIk9uZSBtZXRlciBpcyBcKG9uZU1ldGVyKSBtZXRlcnMiKSAvLyBPdXRwdXQ6IE9uZSBtZXRlciBpcyAxLjAgbWV0ZXJz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension Double {
    var km: Double { return self * 1_000.0 }
    var m: Double { return self }
    var cm: Double { return self / 100.0 }
    var mm: Double { return self / 1_000.0 }
}

let oneMeter = 1.0.m
print(&quot;One meter is \(oneMeter) meters&quot;) // Output: One meter is 1.0 meters</pre></div><div class='content'></div><h2><p>Adding Methods</p>
</h2>
<div class='content'><p>You can add new methods to an existing type. For example, adding a method to <code>Int</code> to repeat a task:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIEludCB7CiAgICBmdW5jIHJlcGVhdFRhc2sodGFzazogKCkgLT4gVm9pZCkgewogICAgICAgIGZvciBfIGluIDAuLjxzZWxmIHsKICAgICAgICAgICAgdGFzaygpCiAgICAgICAgfQogICAgfQp9CgozLnJlcGVhdFRhc2sgewogICAgcHJpbnQoIkhlbGxvISIpCn0KLy8gT3V0cHV0OgovLyBIZWxsbyEKLy8gSGVsbG8hCi8vIEhlbGxvIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension Int {
    func repeatTask(task: () -&gt; Void) {
        for _ in 0..&lt;self {
            task()
        }
    }
}

3.repeatTask {
    print(&quot;Hello!&quot;)
}
// Output:
// Hello!
// Hello!
// Hello!</pre></div><div class='content'></div><h2><p>Adding Initializers</p>
</h2>
<div class='content'><p>You can add new initializers to an existing type. For example, adding an initializer to <code>UIColor</code> to create a color from a hex value:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFVJS2l0CgpleHRlbnNpb24gVUlDb2xvciB7CiAgICBjb252ZW5pZW5jZSBpbml0KGhleDogSW50KSB7CiAgICAgICAgbGV0IHJlZCA9IENHRmxvYXQoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NS4wCiAgICAgICAgbGV0IGdyZWVuID0gQ0dGbG9hdCgoaGV4ID4+IDgpICYgMHhGRikgLyAyNTUuMAogICAgICAgIGxldCBibHVlID0gQ0dGbG9hdChoZXggJiAweEZGKSAvIDI1NS4wCiAgICAgICAgc2VsZi5pbml0KHJlZDogcmVkLCBncmVlbjogZ3JlZW4sIGJsdWU6IGJsdWUsIGFscGhhOiAxLjApCiAgICB9Cn0KCmxldCBjb2xvciA9IFVJQ29sb3IoaGV4OiAweEZGNTczMyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import UIKit

extension UIColor {
    convenience init(hex: Int) {
        let red = CGFloat((hex &gt;&gt; 16) &amp; 0xFF) / 255.0
        let green = CGFloat((hex &gt;&gt; 8) &amp; 0xFF) / 255.0
        let blue = CGFloat(hex &amp; 0xFF) / 255.0
        self.init(red: red, green: green, blue: blue, alpha: 1.0)
    }
}

let color = UIColor(hex: 0xFF5733)</pre></div><div class='content'></div><h2><p>Adding Subscripts</p>
</h2>
<div class='content'><p>You can add new subscripts to an existing type. For example, adding a subscript to <code>Array</code> to safely access elements:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIEFycmF5IHsKICAgIHN1YnNjcmlwdChzYWZlIGluZGV4OiBJbnQpIC0+IEVsZW1lbnQ/IHsKICAgICAgICByZXR1cm4gaW5kaWNlcy5jb250YWlucyhpbmRleCkgPyBzZWxmW2luZGV4XSA6IG5pbAogICAgfQp9CgpsZXQgYXJyYXkgPSBbMSwgMiwgM10KcHJpbnQoYXJyYXlbc2FmZTogMV0pIC8vIE91dHB1dDogT3B0aW9uYWwoMikKcHJpbnQoYXJyYXlbc2FmZTogM10pIC8vIE91dHB1dDogbmls"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension Array {
    subscript(safe index: Int) -&gt; Element? {
        return indices.contains(index) ? self[index] : nil
    }
}

let array = [1, 2, 3]
print(array[safe: 1]) // Output: Optional(2)
print(array[safe: 3]) // Output: nil</pre></div><div class='content'></div><h2><p>Adding Nested Types</p>
</h2>
<div class='content'><p>You can add nested types to an existing type. For example, adding a nested <code>Unit</code> enumeration to <code>Double</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIERvdWJsZSB7CiAgICBlbnVtIFVuaXQgewogICAgICAgIGNhc2Uga20sIG0sIGNtLCBtbQogICAgfQogICAgCiAgICBmdW5jIGNvbnZlcnQodG8gdW5pdDogVW5pdCkgLT4gRG91YmxlIHsKICAgICAgICBzd2l0Y2ggdW5pdCB7CiAgICAgICAgY2FzZSAua206CiAgICAgICAgICAgIHJldHVybiBzZWxmIC8gMV8wMDAuMAogICAgICAgIGNhc2UgLm06CiAgICAgICAgICAgIHJldHVybiBzZWxmCiAgICAgICAgY2FzZSAuY206CiAgICAgICAgICAgIHJldHVybiBzZWxmICogMTAwLjAKICAgICAgICBjYXNlIC5tbToKICAgICAgICAgICAgcmV0dXJuIHNlbGYgKiAxXzAwMC4wCiAgICAgICAgfQogICAgfQp9CgpsZXQgZGlzdGFuY2UgPSAxXzUwMC4wCnByaW50KCJEaXN0YW5jZSBpbiBraWxvbWV0ZXJzOiBcKGRpc3RhbmNlLmNvbnZlcnQodG86IC5rbSkpIGttIikgLy8gT3V0cHV0OiBEaXN0YW5jZSBpbiBraWxvbWV0ZXJzOiAxLjUga20="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension Double {
    enum Unit {
        case km, m, cm, mm
    }
    
    func convert(to unit: Unit) -&gt; Double {
        switch unit {
        case .km:
            return self / 1_000.0
        case .m:
            return self
        case .cm:
            return self * 100.0
        case .mm:
            return self * 1_000.0
        }
    }
}

let distance = 1_500.0
print(&quot;Distance in kilometers: \(distance.convert(to: .km)) km&quot;) // Output: Distance in kilometers: 1.5 km</pre></div><div class='content'></div><h2><p>Conforming to Protocols</p>
</h2>
<div class='content'><p>You can make an existing type conform to a protocol using extensions. For example, making <code>Int</code> conform to a custom <code>Summable</code> protocol:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdG9jb2wgU3VtbWFibGUgewogICAgZnVuYyBzdW0oKSAtPiBJbnQKfQoKZXh0ZW5zaW9uIEludDogU3VtbWFibGUgewogICAgZnVuYyBzdW0oKSAtPiBJbnQgewogICAgICAgIHJldHVybiBzZWxmCiAgICB9Cn0KCmxldCBudW1iZXIgPSA1CnByaW50KCJTdW06IFwobnVtYmVyLnN1bSgpKSIpIC8vIE91dHB1dDogU3VtOiA1"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>protocol Summable {
    func sum() -&gt; Int
}

extension Int: Summable {
    func sum() -&gt; Int {
        return self
    }
}

let number = 5
print(&quot;Sum: \(number.sum())&quot;) // Output: Sum: 5</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Adding a Computed Property</p>
</h2>
<div class='content'><p>Add a computed property to <code>String</code> that returns the number of vowels in the string.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIFN0cmluZyB7CiAgICB2YXIgdm93ZWxDb3VudDogSW50IHsKICAgICAgICBsZXQgdm93ZWxzID0gImFlaW91QUVJT1UiCiAgICAgICAgcmV0dXJuIHNlbGYuZmlsdGVyIHsgdm93ZWxzLmNvbnRhaW5zKCQwKSB9LmNvdW50CiAgICB9Cn0KCi8vIFRlc3QKbGV0IHRlc3RTdHJpbmcgPSAiSGVsbG8sIFdvcmxkISIKcHJpbnQoIk51bWJlciBvZiB2b3dlbHM6IFwodGVzdFN0cmluZy52b3dlbENvdW50KSIpIC8vIE91dHB1dDogTnVtYmVyIG9mIHZvd2VsczogMw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension String {
    var vowelCount: Int {
        let vowels = &quot;aeiouAEIOU&quot;
        return self.filter { vowels.contains($0) }.count
    }
}

// Test
let testString = &quot;Hello, World!&quot;
print(&quot;Number of vowels: \(testString.vowelCount)&quot;) // Output: Number of vowels: 3</pre></div><div class='content'></div><h2><p>Exercise 2: Adding a Method</p>
</h2>
<div class='content'><p>Add a method to <code>Array</code> that returns the sum of all elements if the array contains <code>Int</code> values.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXh0ZW5zaW9uIEFycmF5IHdoZXJlIEVsZW1lbnQgPT0gSW50IHsKICAgIGZ1bmMgc3VtKCkgLT4gSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5yZWR1Y2UoMCwgKykKICAgIH0KfQoKLy8gVGVzdApsZXQgbnVtYmVycyA9IFsxLCAyLCAzLCA0LCA1XQpwcmludCgiU3VtIG9mIGFycmF5OiBcKG51bWJlcnMuc3VtKCkpIikgLy8gT3V0cHV0OiBTdW0gb2YgYXJyYXk6IDE1"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>extension Array where Element == Int {
    func sum() -&gt; Int {
        return self.reduce(0, +)
    }
}

// Test
let numbers = [1, 2, 3, 4, 5]
print(&quot;Sum of array: \(numbers.sum())&quot;) // Output: Sum of array: 15</pre></div><div class='content'></div><h2><p>Exercise 3: Adding an Initializer</p>
</h2>
<div class='content'><p>Add an initializer to <code>Date</code> that takes a string in the format &quot;yyyy-MM-dd&quot; and creates a <code>Date</code> object.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IEZvdW5kYXRpb24KCmV4dGVuc2lvbiBEYXRlIHsKICAgIGluaXQ/KGZyb20gc3RyaW5nOiBTdHJpbmcpIHsKICAgICAgICBsZXQgZm9ybWF0dGVyID0gRGF0ZUZvcm1hdHRlcigpCiAgICAgICAgZm9ybWF0dGVyLmRhdGVGb3JtYXQgPSAieXl5eS1NTS1kZCIKICAgICAgICBpZiBsZXQgZGF0ZSA9IGZvcm1hdHRlci5kYXRlKGZyb206IHN0cmluZykgewogICAgICAgICAgICBzZWxmID0gZGF0ZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBuaWwKICAgICAgICB9CiAgICB9Cn0KCi8vIFRlc3QKaWYgbGV0IGRhdGUgPSBEYXRlKGZyb206ICIyMDIzLTEwLTAxIikgewogICAgcHJpbnQoIkRhdGU6IFwoZGF0ZSkiKQp9IGVsc2UgewogICAgcHJpbnQoIkludmFsaWQgZGF0ZSBmb3JtYXQiKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Foundation

extension Date {
    init?(from string: String) {
        let formatter = DateFormatter()
        formatter.dateFormat = &quot;yyyy-MM-dd&quot;
        if let date = formatter.date(from: string) {
            self = date
        } else {
            return nil
        }
    }
}

// Test
if let date = Date(from: &quot;2023-10-01&quot;) {
    print(&quot;Date: \(date)&quot;)
} else {
    print(&quot;Invalid date format&quot;)
}</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Overusing Extensions</strong>: While extensions are powerful, overusing them can make your code harder to understand. Use them judiciously.</li>
<li><strong>Naming Conflicts</strong>: Be careful with naming conflicts. If you add a method or property that already exists, it can lead to unexpected behavior.</li>
<li><strong>Protocol Conformance</strong>: When using extensions to conform to protocols, ensure that all required methods and properties are implemented.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Extensions in Swift provide a flexible way to add new functionality to existing types without modifying their original implementation. They help keep your code modular and organized. By understanding and using extensions effectively, you can enhance the capabilities of existing types and make your code more expressive and reusable.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-05-protocols' title="Protocols">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-01-generics' title="Generics">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
