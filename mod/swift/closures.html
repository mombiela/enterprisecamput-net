<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures in Swift</title>

    <link rel="alternate" href="https://campusempresa.com/mod/swift/closures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/swift/closures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/swift/closures" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/swift/closures" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/swift/closures" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='function-parameters-and-return-values'>&#x25C4;Function Parameters and Return Values</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Closures in Swift</a>
	</div>
	<div class='col-4 text-end'>
					<a href='capturing-values'>Capturing Values &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Closures</h1>
<div class='content'><p>Closures are self-contained blocks of functionality that can be passed around and used in your code. In Swift, closures can capture and store references to variables and constants from the context in which they are defined. This feature is known as &quot;closing over&quot; those constants and variables, hence the name &quot;closures.&quot;</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Closure Expressions</strong>: Unnamed closures written in a lightweight syntax.</li>
<li><strong>Capturing Values</strong>: Closures can capture and store references to variables and constants from the surrounding context.</li>
<li><strong>Trailing Closure Syntax</strong>: A syntactic convenience for passing a closure as the last argument to a function.</li>
<li><strong>Escaping Closures</strong>: Closures that are called after the function they were passed to returns.</li>
<li><strong>Autoclosures</strong>: Closures that are automatically created to wrap an expression passed as an argument to a function.</li>
</ul>
</div><h1>Basic Syntax of Closures</h1>
<div class='content'><p>Closures in Swift have a clean and concise syntax. Here’s a basic example of a closure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGdyZWV0aW5nQ2xvc3VyZSA9IHsKICAgIHByaW50KCJIZWxsbywgV29ybGQhIikKfQoKZ3JlZXRpbmdDbG9zdXJlKCkgIC8vIE91dHB1dDogSGVsbG8sIFdvcmxkIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let greetingClosure = {
    print(&quot;Hello, World!&quot;)
}

greetingClosure()  // Output: Hello, World!</pre></div><div class='content'></div><h2>Closure Expressions</h2>
<div class='content'><p>Closure expressions are a way to write inline closures in a brief and clear manner. Here’s an example of a closure expression used to sort an array:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG5hbWVzID0gWyJDaHJpcyIsICJBbGV4IiwgIkV3YSIsICJCYXJyeSIsICJEYW5pZWxsYSJdCgpsZXQgc29ydGVkTmFtZXMgPSBuYW1lcy5zb3J0ZWQoYnk6IHsgKHMxOiBTdHJpbmcsIHMyOiBTdHJpbmcpIC0+IEJvb2wgaW4KICAgIHJldHVybiBzMSA8IHMyCn0pCgpwcmludChzb3J0ZWROYW1lcykgIC8vIE91dHB1dDogWyJBbGV4IiwgIkJhcnJ5IiwgIkNocmlzIiwgIkRhbmllbGxhIiwgIkV3YSJd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let names = [&quot;Chris&quot;, &quot;Alex&quot;, &quot;Ewa&quot;, &quot;Barry&quot;, &quot;Daniella&quot;]

let sortedNames = names.sorted(by: { (s1: String, s2: String) -&gt; Bool in
    return s1 &lt; s2
})

print(sortedNames)  // Output: [&quot;Alex&quot;, &quot;Barry&quot;, &quot;Chris&quot;, &quot;Daniella&quot;, &quot;Ewa&quot;]</pre></div><div class='content'></div><h2>Inferring Type From Context</h2>
<div class='content'><p>Swift can infer the types of parameters and the return type when the closure is used as an argument to a function:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHNvcnRlZE5hbWVzID0gbmFtZXMuc29ydGVkKGJ5OiB7IHMxLCBzMiBpbiByZXR1cm4gczEgPCBzMiB9KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let sortedNames = names.sorted(by: { s1, s2 in return s1 &lt; s2 })</pre></div><div class='content'></div><h2>Shorthand Argument Names</h2>
<div class='content'><p>Swift provides shorthand argument names to make closures more concise:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHNvcnRlZE5hbWVzID0gbmFtZXMuc29ydGVkKGJ5OiB7ICQwIDwgJDEgfSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let sortedNames = names.sorted(by: { $0 &lt; $1 })</pre></div><div class='content'></div><h2>Trailing Closure Syntax</h2>
<div class='content'><p>If a closure is the last argument of a function, you can use trailing closure syntax:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHNvcnRlZE5hbWVzID0gbmFtZXMuc29ydGVkIHsgJDAgPCAkMSB9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let sortedNames = names.sorted { $0 &lt; $1 }</pre></div><div class='content'></div><h1>Capturing Values</h1>
<div class='content'><p>Closures can capture and store references to variables and constants from the surrounding context:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBtYWtlSW5jcmVtZW50ZXIoaW5jcmVtZW50QW1vdW50OiBJbnQpIC0+ICgpIC0+IEludCB7CiAgICB2YXIgdG90YWwgPSAwCiAgICBsZXQgaW5jcmVtZW50ZXI6ICgpIC0+IEludCA9IHsKICAgICAgICB0b3RhbCArPSBpbmNyZW1lbnRBbW91bnQKICAgICAgICByZXR1cm4gdG90YWwKICAgIH0KICAgIHJldHVybiBpbmNyZW1lbnRlcgp9CgpsZXQgaW5jcmVtZW50QnlUd28gPSBtYWtlSW5jcmVtZW50ZXIoaW5jcmVtZW50QW1vdW50OiAyKQpwcmludChpbmNyZW1lbnRCeVR3bygpKSAgLy8gT3V0cHV0OiAyCnByaW50KGluY3JlbWVudEJ5VHdvKCkpICAvLyBPdXRwdXQ6IDQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func makeIncrementer(incrementAmount: Int) -&gt; () -&gt; Int {
    var total = 0
    let incrementer: () -&gt; Int = {
        total += incrementAmount
        return total
    }
    return incrementer
}

let incrementByTwo = makeIncrementer(incrementAmount: 2)
print(incrementByTwo())  // Output: 2
print(incrementByTwo())  // Output: 4</pre></div><div class='content'></div><h1>Escaping Closures</h1>
<div class='content'><p>An escaping closure is a closure that is called after the function it was passed to returns. You declare an escaping closure using the <code>@escaping</code> keyword:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIGNvbXBsZXRpb25IYW5kbGVyczogWygpIC0+IFZvaWRdID0gW10KCmZ1bmMgc29tZUZ1bmN0aW9uV2l0aEVzY2FwaW5nQ2xvc3VyZShjb21wbGV0aW9uSGFuZGxlcjogQGVzY2FwaW5nICgpIC0+IFZvaWQpIHsKICAgIGNvbXBsZXRpb25IYW5kbGVycy5hcHBlbmQoY29tcGxldGlvbkhhbmRsZXIpCn0KCmZ1bmMgc29tZUZ1bmN0aW9uKCkgewogICAgc29tZUZ1bmN0aW9uV2l0aEVzY2FwaW5nQ2xvc3VyZSB7CiAgICAgICAgcHJpbnQoIlRoaXMgaXMgYW4gZXNjYXBpbmcgY2xvc3VyZS4iKQogICAgfQp9Cgpzb21lRnVuY3Rpb24oKQpjb21wbGV0aW9uSGFuZGxlcnMuZmlyc3Q/KCkgIC8vIE91dHB1dDogVGhpcyBpcyBhbiBlc2NhcGluZyBjbG9zdXJlLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var completionHandlers: [() -&gt; Void] = []

func someFunctionWithEscapingClosure(completionHandler: @escaping () -&gt; Void) {
    completionHandlers.append(completionHandler)
}

func someFunction() {
    someFunctionWithEscapingClosure {
        print(&quot;This is an escaping closure.&quot;)
    }
}

someFunction()
completionHandlers.first?()  // Output: This is an escaping closure.</pre></div><div class='content'></div><h1>Autoclosures</h1>
<div class='content'><p>An autoclosure is a closure that is automatically created to wrap an expression passed as an argument to a function. It doesn’t take any arguments and returns the value of the expression:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBzZXJ2ZShjdXN0b21lciBjdXN0b21lclByb3ZpZGVyOiBAYXV0b2Nsb3N1cmUgKCkgLT4gU3RyaW5nKSB7CiAgICBwcmludCgiTm93IHNlcnZpbmcgXChjdXN0b21lclByb3ZpZGVyKCkpISIpCn0KCnNlcnZlKGN1c3RvbWVyOiAiSm9obiBEb2UiKSAgLy8gT3V0cHV0OiBOb3cgc2VydmluZyBKb2huIERvZSE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func serve(customer customerProvider: @autoclosure () -&gt; String) {
    print(&quot;Now serving \(customerProvider())!&quot;)
}

serve(customer: &quot;John Doe&quot;)  // Output: Now serving John Doe!</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Closures are a powerful feature in Swift that allow you to encapsulate functionality and pass it around in your code. They can capture and store references to variables and constants from the context in which they are defined, making them incredibly flexible. Understanding closures is essential for mastering Swift, as they are used extensively in many Swift APIs and patterns.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='function-parameters-and-return-values'>&#x25C4;Function Parameters and Return Values</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Closures in Swift</a>
	</div>
	<div class='col-4 text-end'>
					<a href='capturing-values'>Capturing Values &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
