<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/swift/02-05-error-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/swift/02-05-error-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/swift/02-05-error-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/swift/02-05-error-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/swift/02-05-error-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-optionals' title="Optionals">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Error Handling</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-defining-and-calling-functions' title="Defining and Calling Functions">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Error handling is a crucial aspect of programming that allows you to manage and respond to unexpected conditions or errors that may occur during the execution of your program. Swift provides robust error handling mechanisms to help you write safer and more reliable code.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Error Types</strong>: Define the types of errors that can occur.</li>
<li><strong>Throwing Errors</strong>: Indicate that a function can throw an error.</li>
<li><strong>Handling Errors</strong>: Use <code>do-catch</code> blocks to handle errors.</li>
<li><strong>Propagating Errors</strong>: Allow errors to be passed up the call stack.</li>
<li><strong>Optional Try</strong>: Use <code>try?</code> and <code>try!</code> for simplified error handling.</li>
</ol>
</div><h1><p>Error Types</p>
</h1>
<div class='content'><p>In Swift, errors are represented by types that conform to the <code>Error</code> protocol. You can define your own error types using enumerations.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZW51bSBOZXR3b3JrRXJyb3I6IEVycm9yIHsKICAgIGNhc2UgYmFkVVJMCiAgICBjYXNlIHJlcXVlc3RGYWlsZWQKICAgIGNhc2UgdW5rbm93bgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>enum NetworkError: Error {
    case badURL
    case requestFailed
    case unknown
}</pre></div><div class='content'></div><h1><p>Throwing Errors</p>
</h1>
<div class='content'><p>Functions that can throw errors must be marked with the <code>throws</code> keyword. Inside these functions, you use the <code>throw</code> keyword to throw an error.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBmZXRjaERhdGEoZnJvbSB1cmw6IFN0cmluZykgdGhyb3dzIC0+IERhdGEgewogICAgZ3VhcmQgbGV0IHVybCA9IFVSTChzdHJpbmc6IHVybCkgZWxzZSB7CiAgICAgICAgdGhyb3cgTmV0d29ya0Vycm9yLmJhZFVSTAogICAgfQogICAgLy8gU2ltdWxhdGUgYSBuZXR3b3JrIHJlcXVlc3QKICAgIGxldCBzdWNjZXNzID0gQm9vbC5yYW5kb20oKQogICAgaWYgc3VjY2VzcyB7CiAgICAgICAgcmV0dXJuIERhdGEoKQogICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBOZXR3b3JrRXJyb3IucmVxdWVzdEZhaWxlZAogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func fetchData(from url: String) throws -&gt; Data {
    guard let url = URL(string: url) else {
        throw NetworkError.badURL
    }
    // Simulate a network request
    let success = Bool.random()
    if success {
        return Data()
    } else {
        throw NetworkError.requestFailed
    }
}</pre></div><div class='content'></div><h1><p>Handling Errors</p>
</h1>
<div class='content'><p>To handle errors, you use a <code>do-catch</code> block. Inside the <code>do</code> block, you call the throwing function using the <code>try</code> keyword. If an error is thrown, it is caught by one of the <code>catch</code> blocks.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG8gewogICAgbGV0IGRhdGEgPSB0cnkgZmV0Y2hEYXRhKGZyb206ICJodHRwczovL2V4YW1wbGUuY29tIikKICAgIHByaW50KCJEYXRhIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OiBcKGRhdGEpIikKfSBjYXRjaCBOZXR3b3JrRXJyb3IuYmFkVVJMIHsKICAgIHByaW50KCJJbnZhbGlkIFVSTC4iKQp9IGNhdGNoIE5ldHdvcmtFcnJvci5yZXF1ZXN0RmFpbGVkIHsKICAgIHByaW50KCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkLiIpCn0gY2F0Y2ggewogICAgcHJpbnQoIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQ6IFwoZXJyb3IpLiIpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>do {
    let data = try fetchData(from: &quot;https://example.com&quot;)
    print(&quot;Data fetched successfully: \(data)&quot;)
} catch NetworkError.badURL {
    print(&quot;Invalid URL.&quot;)
} catch NetworkError.requestFailed {
    print(&quot;Network request failed.&quot;)
} catch {
    print(&quot;An unknown error occurred: \(error).&quot;)
}</pre></div><div class='content'></div><h1><p>Propagating Errors</p>
</h1>
<div class='content'><p>You can propagate errors to the caller by marking your function with the <code>throws</code> keyword and not handling the error within the function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBwZXJmb3JtTmV0d29ya1JlcXVlc3QoKSB0aHJvd3MgewogICAgdHJ5IGZldGNoRGF0YShmcm9tOiAiaHR0cHM6Ly9leGFtcGxlLmNvbSIpCn0KCmRvIHsKICAgIHRyeSBwZXJmb3JtTmV0d29ya1JlcXVlc3QoKQogICAgcHJpbnQoIk5ldHdvcmsgcmVxdWVzdCBzdWNjZWVkZWQuIikKfSBjYXRjaCB7CiAgICBwcmludCgiTmV0d29yayByZXF1ZXN0IGZhaWxlZCB3aXRoIGVycm9yOiBcKGVycm9yKS4iKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func performNetworkRequest() throws {
    try fetchData(from: &quot;https://example.com&quot;)
}

do {
    try performNetworkRequest()
    print(&quot;Network request succeeded.&quot;)
} catch {
    print(&quot;Network request failed with error: \(error).&quot;)
}</pre></div><div class='content'></div><h1><p>Optional Try</p>
</h1>
<div class='content'><p>Swift provides two additional ways to handle errors with less verbosity: <code>try?</code> and <code>try!</code>.</p>
<ul>
<li><strong><code>try?</code></strong>: Converts the result to an optional. If an error is thrown, the result is <code>nil</code>.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgbGV0IGRhdGEgPSB0cnk/IGZldGNoRGF0YShmcm9tOiAiaHR0cHM6Ly9leGFtcGxlLmNvbSIpIHsKICAgIHByaW50KCJEYXRhIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OiBcKGRhdGEpIikKfSBlbHNlIHsKICAgIHByaW50KCJGYWlsZWQgdG8gZmV0Y2ggZGF0YS4iKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if let data = try? fetchData(from: &quot;https://example.com&quot;) {
    print(&quot;Data fetched successfully: \(data)&quot;)
} else {
    print(&quot;Failed to fetch data.&quot;)
}</pre></div><div class='content'><ul>
<li><strong><code>try!</code></strong>: Assumes that no error will be thrown. If an error is thrown, the program will crash.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGRhdGEgPSB0cnkhIGZldGNoRGF0YShmcm9tOiAiaHR0cHM6Ly9leGFtcGxlLmNvbSIpCnByaW50KCJEYXRhIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OiBcKGRhdGEpIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let data = try! fetchData(from: &quot;https://example.com&quot;)
print(&quot;Data fetched successfully: \(data)&quot;)</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise</p>
</h2>
<div class='content'><p>Write a function <code>readFileContents</code> that reads the contents of a file at a given path. The function should throw an error if the file does not exist or if the contents cannot be read. Then, write a <code>do-catch</code> block to handle these errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZW51bSBGaWxlRXJyb3I6IEVycm9yIHsKICAgIGNhc2UgZmlsZU5vdEZvdW5kCiAgICBjYXNlIHVucmVhZGFibGVDb250ZW50cwp9CgpmdW5jIHJlYWRGaWxlQ29udGVudHMoYXQgcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gU3RyaW5nIHsKICAgIC8vIFNpbXVsYXRlIGZpbGUgcmVhZGluZwogICAgbGV0IGZpbGVFeGlzdHMgPSBCb29sLnJhbmRvbSgpCiAgICBpZiAhZmlsZUV4aXN0cyB7CiAgICAgICAgdGhyb3cgRmlsZUVycm9yLmZpbGVOb3RGb3VuZAogICAgfQogICAgbGV0IHJlYWRhYmxlID0gQm9vbC5yYW5kb20oKQogICAgaWYgIXJlYWRhYmxlIHsKICAgICAgICB0aHJvdyBGaWxlRXJyb3IudW5yZWFkYWJsZUNvbnRlbnRzCiAgICB9CiAgICByZXR1cm4gIkZpbGUgY29udGVudHMiCn0KCmRvIHsKICAgIGxldCBjb250ZW50cyA9IHRyeSByZWFkRmlsZUNvbnRlbnRzKGF0OiAiL3BhdGgvdG8vZmlsZSIpCiAgICBwcmludCgiRmlsZSBjb250ZW50czogXChjb250ZW50cykiKQp9IGNhdGNoIEZpbGVFcnJvci5maWxlTm90Rm91bmQgewogICAgcHJpbnQoIlRoZSBmaWxlIHdhcyBub3QgZm91bmQuIikKfSBjYXRjaCBGaWxlRXJyb3IudW5yZWFkYWJsZUNvbnRlbnRzIHsKICAgIHByaW50KCJUaGUgZmlsZSBjb250ZW50cyBjb3VsZCBub3QgYmUgcmVhZC4iKQp9IGNhdGNoIHsKICAgIHByaW50KCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkOiBcKGVycm9yKS4iKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>enum FileError: Error {
    case fileNotFound
    case unreadableContents
}

func readFileContents(at path: String) throws -&gt; String {
    // Simulate file reading
    let fileExists = Bool.random()
    if !fileExists {
        throw FileError.fileNotFound
    }
    let readable = Bool.random()
    if !readable {
        throw FileError.unreadableContents
    }
    return &quot;File contents&quot;
}

do {
    let contents = try readFileContents(at: &quot;/path/to/file&quot;)
    print(&quot;File contents: \(contents)&quot;)
} catch FileError.fileNotFound {
    print(&quot;The file was not found.&quot;)
} catch FileError.unreadableContents {
    print(&quot;The file contents could not be read.&quot;)
} catch {
    print(&quot;An unknown error occurred: \(error).&quot;)
}</pre></div><div class='content'></div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZW51bSBGaWxlRXJyb3I6IEVycm9yIHsKICAgIGNhc2UgZmlsZU5vdEZvdW5kCiAgICBjYXNlIHVucmVhZGFibGVDb250ZW50cwp9CgpmdW5jIHJlYWRGaWxlQ29udGVudHMoYXQgcGF0aDogU3RyaW5nKSB0aHJvd3MgLT4gU3RyaW5nIHsKICAgIC8vIFNpbXVsYXRlIGZpbGUgcmVhZGluZwogICAgbGV0IGZpbGVFeGlzdHMgPSBCb29sLnJhbmRvbSgpCiAgICBpZiAhZmlsZUV4aXN0cyB7CiAgICAgICAgdGhyb3cgRmlsZUVycm9yLmZpbGVOb3RGb3VuZAogICAgfQogICAgbGV0IHJlYWRhYmxlID0gQm9vbC5yYW5kb20oKQogICAgaWYgIXJlYWRhYmxlIHsKICAgICAgICB0aHJvdyBGaWxlRXJyb3IudW5yZWFkYWJsZUNvbnRlbnRzCiAgICB9CiAgICByZXR1cm4gIkZpbGUgY29udGVudHMiCn0KCmRvIHsKICAgIGxldCBjb250ZW50cyA9IHRyeSByZWFkRmlsZUNvbnRlbnRzKGF0OiAiL3BhdGgvdG8vZmlsZSIpCiAgICBwcmludCgiRmlsZSBjb250ZW50czogXChjb250ZW50cykiKQp9IGNhdGNoIEZpbGVFcnJvci5maWxlTm90Rm91bmQgewogICAgcHJpbnQoIlRoZSBmaWxlIHdhcyBub3QgZm91bmQuIikKfSBjYXRjaCBGaWxlRXJyb3IudW5yZWFkYWJsZUNvbnRlbnRzIHsKICAgIHByaW50KCJUaGUgZmlsZSBjb250ZW50cyBjb3VsZCBub3QgYmUgcmVhZC4iKQp9IGNhdGNoIHsKICAgIHByaW50KCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkOiBcKGVycm9yKS4iKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>enum FileError: Error {
    case fileNotFound
    case unreadableContents
}

func readFileContents(at path: String) throws -&gt; String {
    // Simulate file reading
    let fileExists = Bool.random()
    if !fileExists {
        throw FileError.fileNotFound
    }
    let readable = Bool.random()
    if !readable {
        throw FileError.unreadableContents
    }
    return &quot;File contents&quot;
}

do {
    let contents = try readFileContents(at: &quot;/path/to/file&quot;)
    print(&quot;File contents: \(contents)&quot;)
} catch FileError.fileNotFound {
    print(&quot;The file was not found.&quot;)
} catch FileError.unreadableContents {
    print(&quot;The file contents could not be read.&quot;)
} catch {
    print(&quot;An unknown error occurred: \(error).&quot;)
}</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Forgetting to use <code>try</code></strong>: When calling a throwing function, always use <code>try</code>.</li>
<li><strong>Not handling all error cases</strong>: Ensure that all possible errors are handled in your <code>catch</code> blocks.</li>
<li><strong>Using <code>try!</code> carelessly</strong>: Only use <code>try!</code> when you are absolutely sure that the function will not throw an error.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned about error handling in Swift, including defining error types, throwing and handling errors, propagating errors, and using optional try. Error handling is essential for writing robust and reliable code, and mastering these concepts will help you manage unexpected conditions effectively. Next, you will learn about functions and closures, which are fundamental building blocks in Swift programming.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-optionals' title="Optionals">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-defining-and-calling-functions' title="Defining and Calling Functions">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
