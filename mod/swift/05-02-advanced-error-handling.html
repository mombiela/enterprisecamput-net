<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Error Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/swift/05-02-advanced-error-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/swift/05-02-advanced-error-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/swift/05-02-advanced-error-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/swift/05-02-advanced-error-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/swift/05-02-advanced-error-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-generics' title="Generics">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Advanced Error Handling</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-memory-management' title="Memory Management">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve deeper into error handling in Swift. While basic error handling covers the essentials, advanced error handling techniques are crucial for building robust and resilient applications. We will cover custom error types, error propagation, and advanced techniques like rethrowing and converting errors.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Custom Error Types</strong></li>
<li><strong>Error Propagation</strong></li>
<li><strong>Rethrowing Functions</strong></li>
<li><strong>Converting Errors</strong></li>
</ol>
</div><h1>Custom Error Types</h1>
<div class='content'><p>Swift allows you to define your own error types to provide more context and specificity when errors occur.</p>
</div><h2>Defining Custom Error Types</h2>
<div class='content'><p>You can define a custom error type by conforming to the <code>Error</code> protocol. Typically, you use an <code>enum</code> to represent different error cases.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZW51bSBOZXR3b3JrRXJyb3I6IEVycm9yIHsKICAgIGNhc2UgYmFkVVJMCiAgICBjYXNlIHJlcXVlc3RGYWlsZWQKICAgIGNhc2UgdW5rbm93bgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>enum NetworkError: Error {
    case badURL
    case requestFailed
    case unknown
}</pre></div><div class='content'></div><h2>Throwing Custom Errors</h2>
<div class='content'><p>You can throw custom errors just like built-in errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBmZXRjaERhdGEoZnJvbSB1cmw6IFN0cmluZykgdGhyb3dzIHsKICAgIGd1YXJkIHVybC5zdGFydHMod2l0aDogImh0dHAiKSBlbHNlIHsKICAgICAgICB0aHJvdyBOZXR3b3JrRXJyb3IuYmFkVVJMCiAgICB9CiAgICAvLyBTaW11bGF0ZSBhIHJlcXVlc3QgZmFpbHVyZQogICAgdGhyb3cgTmV0d29ya0Vycm9yLnJlcXVlc3RGYWlsZWQKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func fetchData(from url: String) throws {
    guard url.starts(with: &quot;http&quot;) else {
        throw NetworkError.badURL
    }
    // Simulate a request failure
    throw NetworkError.requestFailed
}</pre></div><div class='content'></div><h2>Handling Custom Errors</h2>
<div class='content'><p>When handling custom errors, you can use a <code>switch</code> statement to handle different error cases.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG8gewogICAgdHJ5IGZldGNoRGF0YShmcm9tOiAiaW52YWxpZC11cmwiKQp9IGNhdGNoIE5ldHdvcmtFcnJvci5iYWRVUkwgewogICAgcHJpbnQoIkludmFsaWQgVVJMLiIpCn0gY2F0Y2ggTmV0d29ya0Vycm9yLnJlcXVlc3RGYWlsZWQgewogICAgcHJpbnQoIlJlcXVlc3QgZmFpbGVkLiIpCn0gY2F0Y2ggewogICAgcHJpbnQoIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>do {
    try fetchData(from: &quot;invalid-url&quot;)
} catch NetworkError.badURL {
    print(&quot;Invalid URL.&quot;)
} catch NetworkError.requestFailed {
    print(&quot;Request failed.&quot;)
} catch {
    print(&quot;An unknown error occurred.&quot;)
}</pre></div><div class='content'></div><h1>Error Propagation</h1>
<div class='content'><p>Error propagation allows you to pass errors up the call stack to be handled at a higher level.</p>
</div><h2>Propagating Errors</h2>
<div class='content'><p>You can propagate errors by marking a function with the <code>throws</code> keyword.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBwZXJmb3JtTmV0d29ya1JlcXVlc3QoKSB0aHJvd3MgewogICAgdHJ5IGZldGNoRGF0YShmcm9tOiAiaHR0cDovL2V4YW1wbGUuY29tIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func performNetworkRequest() throws {
    try fetchData(from: &quot;http://example.com&quot;)
}</pre></div><div class='content'></div><h2>Handling Propagated Errors</h2>
<div class='content'><p>You handle propagated errors in the same way as directly thrown errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG8gewogICAgdHJ5IHBlcmZvcm1OZXR3b3JrUmVxdWVzdCgpCn0gY2F0Y2ggewogICAgcHJpbnQoIkFuIGVycm9yIG9jY3VycmVkOiBcKGVycm9yKSIpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>do {
    try performNetworkRequest()
} catch {
    print(&quot;An error occurred: \(error)&quot;)
}</pre></div><div class='content'></div><h1>Rethrowing Functions</h1>
<div class='content'><p>Rethrowing functions are functions that can throw errors, but only if one of their parameters throws an error.</p>
</div><h2>Defining Rethrowing Functions</h2>
<div class='content'><p>You use the <code>rethrows</code> keyword to define a rethrowing function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBwZXJmb3JtT3BlcmF0aW9uKF8gb3BlcmF0aW9uOiAoKSB0aHJvd3MgLT4gVm9pZCkgcmV0aHJvd3MgewogICAgdHJ5IG9wZXJhdGlvbigpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func performOperation(_ operation: () throws -&gt; Void) rethrows {
    try operation()
}</pre></div><div class='content'></div><h2>Using Rethrowing Functions</h2>
<div class='content'><p>You can pass a throwing function to a rethrowing function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyByaXNreU9wZXJhdGlvbigpIHRocm93cyB7CiAgICB0aHJvdyBOZXR3b3JrRXJyb3IudW5rbm93bgp9CgpkbyB7CiAgICB0cnkgcGVyZm9ybU9wZXJhdGlvbihyaXNreU9wZXJhdGlvbikKfSBjYXRjaCB7CiAgICBwcmludCgiQW4gZXJyb3Igb2NjdXJyZWQ6IFwoZXJyb3IpIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func riskyOperation() throws {
    throw NetworkError.unknown
}

do {
    try performOperation(riskyOperation)
} catch {
    print(&quot;An error occurred: \(error)&quot;)
}</pre></div><div class='content'></div><h1>Converting Errors</h1>
<div class='content'><p>Sometimes, you may need to convert one type of error to another. This is useful when you want to provide a consistent error interface.</p>
</div><h2>Converting Errors Example</h2>
<div class='content'><p>You can catch an error and throw a different error.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZW51bSBEYXRhRXJyb3I6IEVycm9yIHsKICAgIGNhc2UgZGF0YUNvcnJ1cHRlZAp9CgpmdW5jIGxvYWREYXRhKCkgdGhyb3dzIHsKICAgIGRvIHsKICAgICAgICB0cnkgZmV0Y2hEYXRhKGZyb206ICJodHRwOi8vZXhhbXBsZS5jb20iKQogICAgfSBjYXRjaCB7CiAgICAgICAgdGhyb3cgRGF0YUVycm9yLmRhdGFDb3JydXB0ZWQKICAgIH0KfQoKZG8gewogICAgdHJ5IGxvYWREYXRhKCkKfSBjYXRjaCBEYXRhRXJyb3IuZGF0YUNvcnJ1cHRlZCB7CiAgICBwcmludCgiRGF0YSBpcyBjb3JydXB0ZWQuIikKfSBjYXRjaCB7CiAgICBwcmludCgiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4iKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>enum DataError: Error {
    case dataCorrupted
}

func loadData() throws {
    do {
        try fetchData(from: &quot;http://example.com&quot;)
    } catch {
        throw DataError.dataCorrupted
    }
}

do {
    try loadData()
} catch DataError.dataCorrupted {
    print(&quot;Data is corrupted.&quot;)
} catch {
    print(&quot;An unknown error occurred.&quot;)
}</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Custom Error Types</h2>
<div class='content'><p><strong>Task:</strong> Define a custom error type for a file handling system and implement a function that throws these errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZW51bSBGaWxlRXJyb3I6IEVycm9yIHsKICAgIGNhc2UgZmlsZU5vdEZvdW5kCiAgICBjYXNlIHVucmVhZGFibGUKICAgIGNhc2UgdW5rbm93bgp9CgpmdW5jIHJlYWRGaWxlKGF0IHBhdGg6IFN0cmluZykgdGhyb3dzIHsKICAgIGd1YXJkIHBhdGggPT0gInZhbGlkLXBhdGgiIGVsc2UgewogICAgICAgIHRocm93IEZpbGVFcnJvci5maWxlTm90Rm91bmQKICAgIH0KICAgIC8vIFNpbXVsYXRlIGFuIHVucmVhZGFibGUgZmlsZQogICAgdGhyb3cgRmlsZUVycm9yLnVucmVhZGFibGUKfQoKZG8gewogICAgdHJ5IHJlYWRGaWxlKGF0OiAiaW52YWxpZC1wYXRoIikKfSBjYXRjaCBGaWxlRXJyb3IuZmlsZU5vdEZvdW5kIHsKICAgIHByaW50KCJGaWxlIG5vdCBmb3VuZC4iKQp9IGNhdGNoIEZpbGVFcnJvci51bnJlYWRhYmxlIHsKICAgIHByaW50KCJGaWxlIGlzIHVucmVhZGFibGUuIikKfSBjYXRjaCB7CiAgICBwcmludCgiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4iKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>enum FileError: Error {
    case fileNotFound
    case unreadable
    case unknown
}

func readFile(at path: String) throws {
    guard path == &quot;valid-path&quot; else {
        throw FileError.fileNotFound
    }
    // Simulate an unreadable file
    throw FileError.unreadable
}

do {
    try readFile(at: &quot;invalid-path&quot;)
} catch FileError.fileNotFound {
    print(&quot;File not found.&quot;)
} catch FileError.unreadable {
    print(&quot;File is unreadable.&quot;)
} catch {
    print(&quot;An unknown error occurred.&quot;)
}</pre></div><div class='content'></div><h2>Exercise 2: Error Propagation</h2>
<div class='content'><p><strong>Task:</strong> Implement a function that propagates errors from another function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBwcm9jZXNzRmlsZShhdCBwYXRoOiBTdHJpbmcpIHRocm93cyB7CiAgICB0cnkgcmVhZEZpbGUoYXQ6IHBhdGgpCn0KCmRvIHsKICAgIHRyeSBwcm9jZXNzRmlsZShhdDogInZhbGlkLXBhdGgiKQp9IGNhdGNoIHsKICAgIHByaW50KCJBbiBlcnJvciBvY2N1cnJlZDogXChlcnJvcikiKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func processFile(at path: String) throws {
    try readFile(at: path)
}

do {
    try processFile(at: &quot;valid-path&quot;)
} catch {
    print(&quot;An error occurred: \(error)&quot;)
}</pre></div><div class='content'></div><h2>Exercise 3: Rethrowing Functions</h2>
<div class='content'><p><strong>Task:</strong> Implement a rethrowing function that takes a closure and handles its errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBleGVjdXRlT3BlcmF0aW9uKF8gb3BlcmF0aW9uOiAoKSB0aHJvd3MgLT4gVm9pZCkgcmV0aHJvd3MgewogICAgdHJ5IG9wZXJhdGlvbigpCn0KCmRvIHsKICAgIHRyeSBleGVjdXRlT3BlcmF0aW9uIHsKICAgICAgICB0aHJvdyBGaWxlRXJyb3IudW5rbm93bgogICAgfQp9IGNhdGNoIHsKICAgIHByaW50KCJBbiBlcnJvciBvY2N1cnJlZDogXChlcnJvcikiKQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func executeOperation(_ operation: () throws -&gt; Void) rethrows {
    try operation()
}

do {
    try executeOperation {
        throw FileError.unknown
    }
} catch {
    print(&quot;An error occurred: \(error)&quot;)
}</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>In this section, we covered advanced error handling techniques in Swift, including custom error types, error propagation, rethrowing functions, and converting errors. These techniques are essential for building robust applications that can handle errors gracefully and provide meaningful feedback to users.</p>
<p>Next, we will explore memory management in Swift, which is crucial for optimizing the performance and efficiency of your applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-generics' title="Generics">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-memory-management' title="Memory Management">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
