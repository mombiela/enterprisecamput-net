<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Persistence in Swift</title>

    <link rel="alternate" href="https://campusempresa.com/mod/swift/data-persistence" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/swift/data-persistence" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/swift/data-persistence" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/swift/data-persistence" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/swift/data-persistence" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='networking-and-api-integration'>&#x25C4;Networking and API Integration</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Data Persistence in Swift</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-ui-techniques'>Advanced UI Techniques &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Data persistence is a crucial concept in software development, allowing applications to save and retrieve data across sessions. In Swift, there are several ways to achieve data persistence, ranging from simple to complex methods. This topic will cover the basics to advanced techniques for data persistence in Swift.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>UserDefaults</strong>: A simple way to store small pieces of data.</li>
<li><strong>File System</strong>: Storing data in files within the app's sandbox.</li>
<li><strong>Core Data</strong>: A powerful framework for managing object graphs and data persistence.</li>
<li><strong>SQLite</strong>: A lightweight database engine that can be used directly.</li>
<li><strong>Keychain</strong>: Secure storage for sensitive information.</li>
</ul>
</div><h1>UserDefaults</h1>
<div class='content'><p>UserDefaults is a simple and efficient way to store small amounts of data, such as user preferences or settings.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2F2aW5nIGRhdGEgdG8gVXNlckRlZmF1bHRzCmxldCBkZWZhdWx0cyA9IFVzZXJEZWZhdWx0cy5zdGFuZGFyZApkZWZhdWx0cy5zZXQoIkpvaG4gRG9lIiwgZm9yS2V5OiAidXNlcm5hbWUiKQpkZWZhdWx0cy5zZXQoMjUsIGZvcktleTogImFnZSIpCgovLyBSZXRyaWV2aW5nIGRhdGEgZnJvbSBVc2VyRGVmYXVsdHMKaWYgbGV0IHVzZXJuYW1lID0gZGVmYXVsdHMuc3RyaW5nKGZvcktleTogInVzZXJuYW1lIikgewogICAgcHJpbnQoIlVzZXJuYW1lOiBcKHVzZXJuYW1lKSIpCn0KbGV0IGFnZSA9IGRlZmF1bHRzLmludGVnZXIoZm9yS2V5OiAiYWdlIikKcHJpbnQoIkFnZTogXChhZ2UpIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Saving data to UserDefaults
let defaults = UserDefaults.standard
defaults.set(&quot;John Doe&quot;, forKey: &quot;username&quot;)
defaults.set(25, forKey: &quot;age&quot;)

// Retrieving data from UserDefaults
if let username = defaults.string(forKey: &quot;username&quot;) {
    print(&quot;Username: \(username)&quot;)
}
let age = defaults.integer(forKey: &quot;age&quot;)
print(&quot;Age: \(age)&quot;)</pre></div><div class='content'></div><h1>File System</h1>
<div class='content'><p>Storing data in files is useful for larger datasets or when you need to manage files directly.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR2V0dGluZyB0aGUgcGF0aCB0byB0aGUgRG9jdW1lbnRzIGRpcmVjdG9yeQpsZXQgZmlsZU1hbmFnZXIgPSBGaWxlTWFuYWdlci5kZWZhdWx0CmxldCB1cmxzID0gZmlsZU1hbmFnZXIudXJscyhmb3I6IC5kb2N1bWVudERpcmVjdG9yeSwgaW46IC51c2VyRG9tYWluTWFzaykKaWYgbGV0IGRvY3VtZW50RGlyZWN0b3J5ID0gdXJscy5maXJzdCB7CiAgICBsZXQgZmlsZVVSTCA9IGRvY3VtZW50RGlyZWN0b3J5LmFwcGVuZGluZ1BhdGhDb21wb25lbnQoImV4YW1wbGUudHh0IikKICAgIAogICAgLy8gV3JpdGluZyB0byBhIGZpbGUKICAgIGxldCB0ZXh0ID0gIkhlbGxvLCBXb3JsZCEiCiAgICBkbyB7CiAgICAgICAgdHJ5IHRleHQud3JpdGUodG86IGZpbGVVUkwsIGF0b21pY2FsbHk6IHRydWUsIGVuY29kaW5nOiAudXRmOCkKICAgIH0gY2F0Y2ggewogICAgICAgIHByaW50KCJGYWlsZWQgdG8gd3JpdGUgdG8gZmlsZTogXChlcnJvcikiKQogICAgfQogICAgCiAgICAvLyBSZWFkaW5nIGZyb20gYSBmaWxlCiAgICBkbyB7CiAgICAgICAgbGV0IHNhdmVkVGV4dCA9IHRyeSBTdHJpbmcoY29udGVudHNPZjogZmlsZVVSTCwgZW5jb2Rpbmc6IC51dGY4KQogICAgICAgIHByaW50KCJTYXZlZCB0ZXh0OiBcKHNhdmVkVGV4dCkiKQogICAgfSBjYXRjaCB7CiAgICAgICAgcHJpbnQoIkZhaWxlZCB0byByZWFkIGZyb20gZmlsZTogXChlcnJvcikiKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Getting the path to the Documents directory
let fileManager = FileManager.default
let urls = fileManager.urls(for: .documentDirectory, in: .userDomainMask)
if let documentDirectory = urls.first {
    let fileURL = documentDirectory.appendingPathComponent(&quot;example.txt&quot;)
    
    // Writing to a file
    let text = &quot;Hello, World!&quot;
    do {
        try text.write(to: fileURL, atomically: true, encoding: .utf8)
    } catch {
        print(&quot;Failed to write to file: \(error)&quot;)
    }
    
    // Reading from a file
    do {
        let savedText = try String(contentsOf: fileURL, encoding: .utf8)
        print(&quot;Saved text: \(savedText)&quot;)
    } catch {
        print(&quot;Failed to read from file: \(error)&quot;)
    }
}</pre></div><div class='content'></div><h1>Core Data</h1>
<div class='content'><p>Core Data is a powerful framework for managing complex object graphs and data persistence. It provides an object-oriented way to interact with a SQLite database.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IENvcmVEYXRhCmltcG9ydCBVSUtpdAoKLy8gU2V0dGluZyB1cCBDb3JlIERhdGEgc3RhY2sKY2xhc3MgQ29yZURhdGFTdGFjayB7CiAgICBzdGF0aWMgbGV0IHNoYXJlZCA9IENvcmVEYXRhU3RhY2soKQogICAgcHJpdmF0ZSBpbml0KCkge30KICAgIAogICAgbGF6eSB2YXIgcGVyc2lzdGVudENvbnRhaW5lcjogTlNQZXJzaXN0ZW50Q29udGFpbmVyID0gewogICAgICAgIGxldCBjb250YWluZXIgPSBOU1BlcnNpc3RlbnRDb250YWluZXIobmFtZTogIk1vZGVsIikKICAgICAgICBjb250YWluZXIubG9hZFBlcnNpc3RlbnRTdG9yZXMgeyAoc3RvcmVEZXNjcmlwdGlvbiwgZXJyb3IpIGluCiAgICAgICAgICAgIGlmIGxldCBlcnJvciA9IGVycm9yIGFzIE5TRXJyb3I/IHsKICAgICAgICAgICAgICAgIGZhdGFsRXJyb3IoIlVucmVzb2x2ZWQgZXJyb3IgXChlcnJvciksIFwoZXJyb3IudXNlckluZm8pIikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gY29udGFpbmVyCiAgICB9KCkKICAgIAogICAgdmFyIGNvbnRleHQ6IE5TTWFuYWdlZE9iamVjdENvbnRleHQgewogICAgICAgIHJldHVybiBwZXJzaXN0ZW50Q29udGFpbmVyLnZpZXdDb250ZXh0CiAgICB9Cn0KCi8vIFNhdmluZyBkYXRhCmZ1bmMgc2F2ZVVzZXIobmFtZTogU3RyaW5nLCBhZ2U6IEludDE2KSB7CiAgICBsZXQgY29udGV4dCA9IENvcmVEYXRhU3RhY2suc2hhcmVkLmNvbnRleHQKICAgIGxldCB1c2VyID0gVXNlcihjb250ZXh0OiBjb250ZXh0KQogICAgdXNlci5uYW1lID0gbmFtZQogICAgdXNlci5hZ2UgPSBhZ2UKICAgIAogICAgZG8gewogICAgICAgIHRyeSBjb250ZXh0LnNhdmUoKQogICAgfSBjYXRjaCB7CiAgICAgICAgcHJpbnQoIkZhaWxlZCB0byBzYXZlIHVzZXI6IFwoZXJyb3IpIikKICAgIH0KfQoKLy8gRmV0Y2hpbmcgZGF0YQpmdW5jIGZldGNoVXNlcnMoKSAtPiBbVXNlcl0gewogICAgbGV0IGNvbnRleHQgPSBDb3JlRGF0YVN0YWNrLnNoYXJlZC5jb250ZXh0CiAgICBsZXQgZmV0Y2hSZXF1ZXN0OiBOU0ZldGNoUmVxdWVzdDxVc2VyPiA9IFVzZXIuZmV0Y2hSZXF1ZXN0KCkKICAgIAogICAgZG8gewogICAgICAgIGxldCB1c2VycyA9IHRyeSBjb250ZXh0LmZldGNoKGZldGNoUmVxdWVzdCkKICAgICAgICByZXR1cm4gdXNlcnMKICAgIH0gY2F0Y2ggewogICAgICAgIHByaW50KCJGYWlsZWQgdG8gZmV0Y2ggdXNlcnM6IFwoZXJyb3IpIikKICAgICAgICByZXR1cm4gW10KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import CoreData
import UIKit

// Setting up Core Data stack
class CoreDataStack {
    static let shared = CoreDataStack()
    private init() {}
    
    lazy var persistentContainer: NSPersistentContainer = {
        let container = NSPersistentContainer(name: &quot;Model&quot;)
        container.loadPersistentStores { (storeDescription, error) in
            if let error = error as NSError? {
                fatalError(&quot;Unresolved error \(error), \(error.userInfo)&quot;)
            }
        }
        return container
    }()
    
    var context: NSManagedObjectContext {
        return persistentContainer.viewContext
    }
}

// Saving data
func saveUser(name: String, age: Int16) {
    let context = CoreDataStack.shared.context
    let user = User(context: context)
    user.name = name
    user.age = age
    
    do {
        try context.save()
    } catch {
        print(&quot;Failed to save user: \(error)&quot;)
    }
}

// Fetching data
func fetchUsers() -&gt; [User] {
    let context = CoreDataStack.shared.context
    let fetchRequest: NSFetchRequest&lt;User&gt; = User.fetchRequest()
    
    do {
        let users = try context.fetch(fetchRequest)
        return users
    } catch {
        print(&quot;Failed to fetch users: \(error)&quot;)
        return []
    }
}</pre></div><div class='content'></div><h1>SQLite</h1>
<div class='content'><p>SQLite is a lightweight, disk-based database that can be used directly in Swift.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFNRTGl0ZTMKCi8vIE9wZW5pbmcgYSBjb25uZWN0aW9uIHRvIHRoZSBkYXRhYmFzZQp2YXIgZGI6IE9wYXF1ZVBvaW50ZXI/CmlmIHNxbGl0ZTNfb3BlbigiZXhhbXBsZS5zcWxpdGUiLCAmZGIpICE9IFNRTElURV9PSyB7CiAgICBwcmludCgiRmFpbGVkIHRvIG9wZW4gZGF0YWJhc2UiKQp9CgovLyBDcmVhdGluZyBhIHRhYmxlCmxldCBjcmVhdGVUYWJsZVF1ZXJ5ID0gIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFVzZXJzIChpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIG5hbWUgVEVYVCwgYWdlIElOVEVHRVIpIgppZiBzcWxpdGUzX2V4ZWMoZGIsIGNyZWF0ZVRhYmxlUXVlcnksIG5pbCwgbmlsLCBuaWwpICE9IFNRTElURV9PSyB7CiAgICBwcmludCgiRmFpbGVkIHRvIGNyZWF0ZSB0YWJsZSIpCn0KCi8vIEluc2VydGluZyBkYXRhCmxldCBpbnNlcnRRdWVyeSA9ICJJTlNFUlQgSU5UTyBVc2VycyAobmFtZSwgYWdlKSBWQUxVRVMgKCdKb2huIERvZScsIDI1KSIKaWYgc3FsaXRlM19leGVjKGRiLCBpbnNlcnRRdWVyeSwgbmlsLCBuaWwsIG5pbCkgIT0gU1FMSVRFX09LIHsKICAgIHByaW50KCJGYWlsZWQgdG8gaW5zZXJ0IGRhdGEiKQp9CgovLyBRdWVyeWluZyBkYXRhCmxldCBzZWxlY3RRdWVyeSA9ICJTRUxFQ1QgKiBGUk9NIFVzZXJzIgp2YXIgcXVlcnlTdGF0ZW1lbnQ6IE9wYXF1ZVBvaW50ZXI/CmlmIHNxbGl0ZTNfcHJlcGFyZV92MihkYiwgc2VsZWN0UXVlcnksIC0xLCAmcXVlcnlTdGF0ZW1lbnQsIG5pbCkgPT0gU1FMSVRFX09LIHsKICAgIHdoaWxlIHNxbGl0ZTNfc3RlcChxdWVyeVN0YXRlbWVudCkgPT0gU1FMSVRFX1JPVyB7CiAgICAgICAgbGV0IGlkID0gc3FsaXRlM19jb2x1bW5faW50KHF1ZXJ5U3RhdGVtZW50LCAwKQogICAgICAgIGxldCBuYW1lID0gU3RyaW5nKGNTdHJpbmc6IHNxbGl0ZTNfY29sdW1uX3RleHQocXVlcnlTdGF0ZW1lbnQsIDEpKQogICAgICAgIGxldCBhZ2UgPSBzcWxpdGUzX2NvbHVtbl9pbnQocXVlcnlTdGF0ZW1lbnQsIDIpCiAgICAgICAgcHJpbnQoIlVzZXI6IFwoaWQpLCBOYW1lOiBcKG5hbWUpLCBBZ2U6IFwoYWdlKSIpCiAgICB9Cn0gZWxzZSB7CiAgICBwcmludCgiRmFpbGVkIHRvIHF1ZXJ5IGRhdGEiKQp9CgovLyBDbG9zaW5nIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uCnNxbGl0ZTNfY2xvc2UoZGIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import SQLite3

// Opening a connection to the database
var db: OpaquePointer?
if sqlite3_open(&quot;example.sqlite&quot;, &amp;db) != SQLITE_OK {
    print(&quot;Failed to open database&quot;)
}

// Creating a table
let createTableQuery = &quot;CREATE TABLE IF NOT EXISTS Users (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT, age INTEGER)&quot;
if sqlite3_exec(db, createTableQuery, nil, nil, nil) != SQLITE_OK {
    print(&quot;Failed to create table&quot;)
}

// Inserting data
let insertQuery = &quot;INSERT INTO Users (name, age) VALUES ('John Doe', 25)&quot;
if sqlite3_exec(db, insertQuery, nil, nil, nil) != SQLITE_OK {
    print(&quot;Failed to insert data&quot;)
}

// Querying data
let selectQuery = &quot;SELECT * FROM Users&quot;
var queryStatement: OpaquePointer?
if sqlite3_prepare_v2(db, selectQuery, -1, &amp;queryStatement, nil) == SQLITE_OK {
    while sqlite3_step(queryStatement) == SQLITE_ROW {
        let id = sqlite3_column_int(queryStatement, 0)
        let name = String(cString: sqlite3_column_text(queryStatement, 1))
        let age = sqlite3_column_int(queryStatement, 2)
        print(&quot;User: \(id), Name: \(name), Age: \(age)&quot;)
    }
} else {
    print(&quot;Failed to query data&quot;)
}

// Closing the database connection
sqlite3_close(db)</pre></div><div class='content'></div><h1>Keychain</h1>
<div class='content'><p>Keychain is used for securely storing sensitive information, such as passwords or tokens.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFNlY3VyaXR5CgovLyBTYXZpbmcgZGF0YSB0byBLZXljaGFpbgpmdW5jIHNhdmVUb0tleWNoYWluKGFjY291bnQ6IFN0cmluZywgc2VydmljZTogU3RyaW5nLCBkYXRhOiBEYXRhKSAtPiBCb29sIHsKICAgIGxldCBxdWVyeTogW1N0cmluZzogQW55XSA9IFsKICAgICAgICBrU2VjQ2xhc3MgYXMgU3RyaW5nOiBrU2VjQ2xhc3NHZW5lcmljUGFzc3dvcmQsCiAgICAgICAga1NlY0F0dHJBY2NvdW50IGFzIFN0cmluZzogYWNjb3VudCwKICAgICAgICBrU2VjQXR0clNlcnZpY2UgYXMgU3RyaW5nOiBzZXJ2aWNlLAogICAgICAgIGtTZWNWYWx1ZURhdGEgYXMgU3RyaW5nOiBkYXRhCiAgICBdCiAgICBTZWNJdGVtRGVsZXRlKHF1ZXJ5IGFzIENGRGljdGlvbmFyeSkKICAgIGxldCBzdGF0dXMgPSBTZWNJdGVtQWRkKHF1ZXJ5IGFzIENGRGljdGlvbmFyeSwgbmlsKQogICAgcmV0dXJuIHN0YXR1cyA9PSBlcnJTZWNTdWNjZXNzCn0KCi8vIFJldHJpZXZpbmcgZGF0YSBmcm9tIEtleWNoYWluCmZ1bmMgcmV0cmlldmVGcm9tS2V5Y2hhaW4oYWNjb3VudDogU3RyaW5nLCBzZXJ2aWNlOiBTdHJpbmcpIC0+IERhdGE/IHsKICAgIGxldCBxdWVyeTogW1N0cmluZzogQW55XSA9IFsKICAgICAgICBrU2VjQ2xhc3MgYXMgU3RyaW5nOiBrU2VjQ2xhc3NHZW5lcmljUGFzc3dvcmQsCiAgICAgICAga1NlY0F0dHJBY2NvdW50IGFzIFN0cmluZzogYWNjb3VudCwKICAgICAgICBrU2VjQXR0clNlcnZpY2UgYXMgU3RyaW5nOiBzZXJ2aWNlLAogICAgICAgIGtTZWNSZXR1cm5EYXRhIGFzIFN0cmluZzogdHJ1ZSwKICAgICAgICBrU2VjTWF0Y2hMaW1pdCBhcyBTdHJpbmc6IGtTZWNNYXRjaExpbWl0T25lCiAgICBdCiAgICB2YXIgZGF0YVR5cGVSZWY6IEFueU9iamVjdD8KICAgIGxldCBzdGF0dXMgPSBTZWNJdGVtQ29weU1hdGNoaW5nKHF1ZXJ5IGFzIENGRGljdGlvbmFyeSwgJmRhdGFUeXBlUmVmKQogICAgaWYgc3RhdHVzID09IGVyclNlY1N1Y2Nlc3MgewogICAgICAgIHJldHVybiBkYXRhVHlwZVJlZiBhcz8gRGF0YQogICAgfQogICAgcmV0dXJuIG5pbAp9CgovLyBFeGFtcGxlIHVzYWdlCmxldCBhY2NvdW50ID0gInVzZXJAZXhhbXBsZS5jb20iCmxldCBzZXJ2aWNlID0gImNvbS5leGFtcGxlLm15YXBwIgpsZXQgcGFzc3dvcmREYXRhID0gInBhc3N3b3JkMTIzIi5kYXRhKHVzaW5nOiAudXRmOCkhCgppZiBzYXZlVG9LZXljaGFpbihhY2NvdW50OiBhY2NvdW50LCBzZXJ2aWNlOiBzZXJ2aWNlLCBkYXRhOiBwYXNzd29yZERhdGEpIHsKICAgIHByaW50KCJQYXNzd29yZCBzYXZlZCB0byBLZXljaGFpbiIpCn0KCmlmIGxldCByZXRyaWV2ZWREYXRhID0gcmV0cmlldmVGcm9tS2V5Y2hhaW4oYWNjb3VudDogYWNjb3VudCwgc2VydmljZTogc2VydmljZSksCiAgIGxldCBwYXNzd29yZCA9IFN0cmluZyhkYXRhOiByZXRyaWV2ZWREYXRhLCBlbmNvZGluZzogLnV0ZjgpIHsKICAgIHByaW50KCJSZXRyaWV2ZWQgcGFzc3dvcmQ6IFwocGFzc3dvcmQpIikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Security

// Saving data to Keychain
func saveToKeychain(account: String, service: String, data: Data) -&gt; Bool {
    let query: [String: Any] = [
        kSecClass as String: kSecClassGenericPassword,
        kSecAttrAccount as String: account,
        kSecAttrService as String: service,
        kSecValueData as String: data
    ]
    SecItemDelete(query as CFDictionary)
    let status = SecItemAdd(query as CFDictionary, nil)
    return status == errSecSuccess
}

// Retrieving data from Keychain
func retrieveFromKeychain(account: String, service: String) -&gt; Data? {
    let query: [String: Any] = [
        kSecClass as String: kSecClassGenericPassword,
        kSecAttrAccount as String: account,
        kSecAttrService as String: service,
        kSecReturnData as String: true,
        kSecMatchLimit as String: kSecMatchLimitOne
    ]
    var dataTypeRef: AnyObject?
    let status = SecItemCopyMatching(query as CFDictionary, &amp;dataTypeRef)
    if status == errSecSuccess {
        return dataTypeRef as? Data
    }
    return nil
}

// Example usage
let account = &quot;user@example.com&quot;
let service = &quot;com.example.myapp&quot;
let passwordData = &quot;password123&quot;.data(using: .utf8)!

if saveToKeychain(account: account, service: service, data: passwordData) {
    print(&quot;Password saved to Keychain&quot;)
}

if let retrievedData = retrieveFromKeychain(account: account, service: service),
   let password = String(data: retrievedData, encoding: .utf8) {
    print(&quot;Retrieved password: \(password)&quot;)
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Data persistence is a fundamental aspect of app development, enabling applications to retain data across sessions. Swift provides multiple methods for data persistence, each suited for different use cases:</p>
<ul>
<li><strong>UserDefaults</strong> for simple key-value storage.</li>
<li><strong>File System</strong> for direct file management.</li>
<li><strong>Core Data</strong> for complex data models and object graphs.</li>
<li><strong>SQLite</strong> for lightweight database needs.</li>
<li><strong>Keychain</strong> for secure storage of sensitive information.</li>
</ul>
<p>By understanding and utilizing these methods, you can ensure that your Swift applications handle data efficiently and securely.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='networking-and-api-integration'>&#x25C4;Networking and API Integration</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Data Persistence in Swift</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-ui-techniques'>Advanced UI Techniques &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
