<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serialization and Deserialization in Objective-C</title>

    <link rel="alternate" href="https://campusempresa.com/mod/objective_c/serialization-and-deserialization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/objective_c/serialization-and-deserialization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/objective_c/serialization-and-deserialization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/objective_c/serialization-and-deserialization" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/objective_c/serialization-and-deserialization" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-files'>&#x25C4;Working with Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serialization and Deserialization in Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protocols-and-delegates'>Protocols and Delegates &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Serialization and deserialization are essential concepts in programming, especially when dealing with data storage and transmission. In Objective-C, these processes involve converting objects into a format that can be easily stored or transmitted and then reconstructing them back into objects.</p>
</div><h1>What is Serialization?</h1>
<div class='content'><p>Serialization is the process of converting an object into a format that can be easily stored or transmitted. In Objective-C, this often involves converting objects into JSON, XML, or binary formats.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Object Conversion</strong>: Transforming an object into a storable format.</li>
<li><strong>Data Formats</strong>: Common formats include JSON, XML, and binary.</li>
<li><strong>NSCoding Protocol</strong>: A protocol that classes can adopt to support serialization.</li>
</ul>
</div><h2>Example: Serializing an Object to JSON</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwpAZW5kCgpAaW1wbGVtZW50YXRpb24gUGVyc29uCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICBwZXJzb24ubmFtZSA9IEAiSm9obiBEb2UiOwogICAgICAgIHBlcnNvbi5hZ2UgPSAzMDsKCiAgICAgICAgTlNEaWN0aW9uYXJ5ICpwZXJzb25EaWN0ID0gQHtAIm5hbWUiOiBwZXJzb24ubmFtZSwgQCJhZ2UiOiBAKHBlcnNvbi5hZ2UpfTsKICAgICAgICBOU0Vycm9yICplcnJvcjsKICAgICAgICBOU0RhdGEgKmpzb25EYXRhID0gW05TSlNPTlNlcmlhbGl6YXRpb24gZGF0YVdpdGhKU09OT2JqZWN0OnBlcnNvbkRpY3Qgb3B0aW9uczpOU0pTT05Xcml0aW5nUHJldHR5UHJpbnRlZCBlcnJvcjomZXJyb3JdOwoKICAgICAgICBpZiAoIWpzb25EYXRhKSB7CiAgICAgICAgICAgIE5TTG9nKEAiRmFpbGVkIHRvIHNlcmlhbGl6ZSBvYmplY3Q6ICVAIiwgZXJyb3IpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIE5TU3RyaW5nICpqc29uU3RyaW5nID0gW1tOU1N0cmluZyBhbGxvY10gaW5pdFdpdGhEYXRhOmpzb25EYXRhIGVuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nXTsKICAgICAgICAgICAgTlNMb2coQCJTZXJpYWxpemVkIEpTT046ICVAIiwganNvblN0cmluZyk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person
@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Person *person = [Person new];
        person.name = @&quot;John Doe&quot;;
        person.age = 30;

        NSDictionary *personDict = @{@&quot;name&quot;: person.name, @&quot;age&quot;: @(person.age)};
        NSError *error;
        NSData *jsonData = [NSJSONSerialization dataWithJSONObject:personDict options:NSJSONWritingPrettyPrinted error:&amp;error];

        if (!jsonData) {
            NSLog(@&quot;Failed to serialize object: %@&quot;, error);
        } else {
            NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];
            NSLog(@&quot;Serialized JSON: %@&quot;, jsonString);
        }
    }
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>We create a <code>Person</code> object.</li>
<li>Convert the <code>Person</code> object into a dictionary.</li>
<li>Serialize the dictionary into JSON format using <code>NSJSONSerialization</code>.</li>
</ul>
</div><h1>What is Deserialization?</h1>
<div class='content'><p>Deserialization is the process of converting serialized data back into an object. This is crucial for reading data that has been stored or received over a network.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Data Conversion</strong>: Transforming serialized data back into an object.</li>
<li><strong>Error Handling</strong>: Managing potential errors during the deserialization process.</li>
<li><strong>NSCoding Protocol</strong>: Classes can adopt this protocol to support deserialization.</li>
</ul>
</div><h2>Example: Deserializing JSON to an Object</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwpAZW5kCgpAaW1wbGVtZW50YXRpb24gUGVyc29uCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBOU1N0cmluZyAqanNvblN0cmluZyA9IEAie1wibmFtZVwiOlwiSm9obiBEb2VcIixcImFnZVwiOjMwfSI7CiAgICAgICAgTlNEYXRhICpqc29uRGF0YSA9IFtqc29uU3RyaW5nIGRhdGFVc2luZ0VuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nXTsKICAgICAgICBOU0Vycm9yICplcnJvcjsKICAgICAgICBOU0RpY3Rpb25hcnkgKnBlcnNvbkRpY3QgPSBbTlNKU09OU2VyaWFsaXphdGlvbiBKU09OT2JqZWN0V2l0aERhdGE6anNvbkRhdGEgb3B0aW9uczowIGVycm9yOiZlcnJvcl07CgogICAgICAgIGlmICghcGVyc29uRGljdCkgewogICAgICAgICAgICBOU0xvZyhAIkZhaWxlZCB0byBkZXNlcmlhbGl6ZSBKU09OOiAlQCIsIGVycm9yKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICAgICAgcGVyc29uLm5hbWUgPSBwZXJzb25EaWN0W0AibmFtZSJdOwogICAgICAgICAgICBwZXJzb24uYWdlID0gW3BlcnNvbkRpY3RbQCJhZ2UiXSBpbnRlZ2VyVmFsdWVdOwogICAgICAgICAgICBOU0xvZyhAIkRlc2VyaWFsaXplZCBQZXJzb246ICVALCBBZ2U6ICVsZCIsIHBlcnNvbi5uYW1lLCAobG9uZylwZXJzb24uYWdlKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person
@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        NSString *jsonString = @&quot;{\&quot;name\&quot;:\&quot;John Doe\&quot;,\&quot;age\&quot;:30}&quot;;
        NSData *jsonData = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
        NSError *error;
        NSDictionary *personDict = [NSJSONSerialization JSONObjectWithData:jsonData options:0 error:&amp;error];

        if (!personDict) {
            NSLog(@&quot;Failed to deserialize JSON: %@&quot;, error);
        } else {
            Person *person = [Person new];
            person.name = personDict[@&quot;name&quot;];
            person.age = [personDict[@&quot;age&quot;] integerValue];
            NSLog(@&quot;Deserialized Person: %@, Age: %ld&quot;, person.name, (long)person.age);
        }
    }
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>We start with a JSON string.</li>
<li>Convert the JSON string into <code>NSData</code>.</li>
<li>Deserialize the <code>NSData</code> back into a dictionary.</li>
<li>Create a <code>Person</code> object from the dictionary.</li>
</ul>
</div><h1>Advanced Serialization and Deserialization</h1>
<div class='content'><p>For more complex objects, you might need to implement the <code>NSCoding</code> protocol to handle custom serialization and deserialization logic.</p>
</div><h2>Implementing NSCoding</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0IDxOU0NvZGluZz4KQHByb3BlcnR5IChub25hdG9taWMsIHN0cm9uZykgTlNTdHJpbmcgKm5hbWU7CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBhc3NpZ24pIE5TSW50ZWdlciBhZ2U7CkBlbmQKCkBpbXBsZW1lbnRhdGlvbiBQZXJzb24KCi0gKHZvaWQpZW5jb2RlV2l0aENvZGVyOihOU0NvZGVyICopY29kZXIgewogICAgW2NvZGVyIGVuY29kZU9iamVjdDpzZWxmLm5hbWUgZm9yS2V5OkAibmFtZSJdOwogICAgW2NvZGVyIGVuY29kZUludGVnZXI6c2VsZi5hZ2UgZm9yS2V5OkAiYWdlIl07Cn0KCi0gKGluc3RhbmNldHlwZSlpbml0V2l0aENvZGVyOihOU0NvZGVyICopY29kZXIgewogICAgc2VsZiA9IFtzdXBlciBpbml0XTsKICAgIGlmIChzZWxmKSB7CiAgICAgICAgX25hbWUgPSBbY29kZXIgZGVjb2RlT2JqZWN0Rm9yS2V5OkAibmFtZSJdOwogICAgICAgIF9hZ2UgPSBbY29kZXIgZGVjb2RlSW50ZWdlckZvcktleTpAImFnZSJdOwogICAgfQogICAgcmV0dXJuIHNlbGY7Cn0KCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICBwZXJzb24ubmFtZSA9IEAiSm9obiBEb2UiOwogICAgICAgIHBlcnNvbi5hZ2UgPSAzMDsKCiAgICAgICAgLy8gU2VyaWFsaXplIHVzaW5nIE5TQ29kaW5nCiAgICAgICAgTlNEYXRhICpkYXRhID0gW05TS2V5ZWRBcmNoaXZlciBhcmNoaXZlZERhdGFXaXRoUm9vdE9iamVjdDpwZXJzb24gcmVxdWlyaW5nU2VjdXJlQ29kaW5nOk5PIGVycm9yOm5pbF07CiAgICAgICAgCiAgICAgICAgLy8gRGVzZXJpYWxpemUgdXNpbmcgTlNDb2RpbmcKICAgICAgICBQZXJzb24gKmRlc2VyaWFsaXplZFBlcnNvbiA9IFtOU0tleWVkVW5hcmNoaXZlciB1bmFyY2hpdmVkT2JqZWN0T2ZDbGFzczpbUGVyc29uIGNsYXNzXSBmcm9tRGF0YTpkYXRhIGVycm9yOm5pbF07CiAgICAgICAgCiAgICAgICAgTlNMb2coQCJEZXNlcmlhbGl6ZWQgUGVyc29uOiAlQCwgQWdlOiAlbGQiLCBkZXNlcmlhbGl6ZWRQZXJzb24ubmFtZSwgKGxvbmcpZGVzZXJpYWxpemVkUGVyc29uLmFnZSk7CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject &lt;NSCoding&gt;
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person

- (void)encodeWithCoder:(NSCoder *)coder {
    [coder encodeObject:self.name forKey:@&quot;name&quot;];
    [coder encodeInteger:self.age forKey:@&quot;age&quot;];
}

- (instancetype)initWithCoder:(NSCoder *)coder {
    self = [super init];
    if (self) {
        _name = [coder decodeObjectForKey:@&quot;name&quot;];
        _age = [coder decodeIntegerForKey:@&quot;age&quot;];
    }
    return self;
}

@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Person *person = [Person new];
        person.name = @&quot;John Doe&quot;;
        person.age = 30;

        // Serialize using NSCoding
        NSData *data = [NSKeyedArchiver archivedDataWithRootObject:person requiringSecureCoding:NO error:nil];
        
        // Deserialize using NSCoding
        Person *deserializedPerson = [NSKeyedUnarchiver unarchivedObjectOfClass:[Person class] fromData:data error:nil];
        
        NSLog(@&quot;Deserialized Person: %@, Age: %ld&quot;, deserializedPerson.name, (long)deserializedPerson.age);
    }
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>Person</code> class adopts the <code>NSCoding</code> protocol.</li>
<li>Implement <code>encodeWithCoder:</code> to specify how to serialize the object.</li>
<li>Implement <code>initWithCoder:</code> to specify how to deserialize the object.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Serialization and deserialization are critical for data storage and transmission in Objective-C. By understanding and implementing these processes, you can efficiently manage data in your applications. Whether you are working with simple JSON or more complex custom objects, Objective-C provides robust tools to handle these tasks.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-files'>&#x25C4;Working with Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serialization and Deserialization in Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protocols-and-delegates'>Protocols and Delegates &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
