<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/objective_c/07-01-file-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/objective_c/07-01-file-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/objective_c/07-01-file-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/objective_c/07-01-file-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/objective_c/07-01-file-handling" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-multithreading-and-concurrency' title="Multithreading and Concurrency">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File Handling</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-02-serialization-and-deserialization' title="Serialization and Deserialization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to handle files in Objective-C. File handling is a crucial aspect of programming, allowing you to read from and write to files, manage file paths, and handle file-related errors. By the end of this section, you will be able to perform basic file operations in Objective-C.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>File Paths</strong>: Understanding how to specify the location of files.</li>
<li><strong>Reading Files</strong>: Techniques to read data from files.</li>
<li><strong>Writing Files</strong>: Methods to write data to files.</li>
<li><strong>File Management</strong>: Operations like deleting, copying, and moving files.</li>
<li><strong>Error Handling</strong>: Managing errors that occur during file operations.</li>
</ol>
</div><h1><p>File Paths</p>
</h1>
<div class='content'><p>In Objective-C, file paths are typically represented as strings. You can use the <code>NSFileManager</code> class to work with file paths.</p>
</div><h2><p>Example: Getting the Path to the Documents Directory</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TlNBcnJheSAqcGF0aHMgPSBOU1NlYXJjaFBhdGhGb3JEaXJlY3Rvcmllc0luRG9tYWlucyhOU0RvY3VtZW50RGlyZWN0b3J5LCBOU1VzZXJEb21haW5NYXNrLCBZRVMpOwpOU1N0cmluZyAqZG9jdW1lbnRzRGlyZWN0b3J5ID0gW3BhdGhzIG9iamVjdEF0SW5kZXg6MF07Ck5TTG9nKEAiRG9jdW1lbnRzIERpcmVjdG9yeTogJUAiLCBkb2N1bWVudHNEaXJlY3RvcnkpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSLog(@&quot;Documents Directory: %@&quot;, documentsDirectory);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>NSSearchPathForDirectoriesInDomains</code> is used to get the path to the specified directory.</li>
<li><code>NSDocumentDirectory</code> specifies the Documents directory.</li>
<li><code>NSUserDomainMask</code> specifies the user's home directory.</li>
<li>The method returns an array of paths, and we take the first one.</li>
</ul>
</div><h1><p>Reading Files</p>
</h1>
<div class='content'><p>To read files, you can use the <code>NSString</code> or <code>NSData</code> classes.</p>
</div><h2><p>Example: Reading a Text File</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TlNTdHJpbmcgKmZpbGVQYXRoID0gW2RvY3VtZW50c0RpcmVjdG9yeSBzdHJpbmdCeUFwcGVuZGluZ1BhdGhDb21wb25lbnQ6QCJleGFtcGxlLnR4dCJdOwpOU0Vycm9yICplcnJvcjsKTlNTdHJpbmcgKmZpbGVDb250ZW50cyA9IFtOU1N0cmluZyBzdHJpbmdXaXRoQ29udGVudHNPZkZpbGU6ZmlsZVBhdGggZW5jb2Rpbmc6TlNVVEY4U3RyaW5nRW5jb2RpbmcgZXJyb3I6JmVycm9yXTsKCmlmIChlcnJvcikgewogICAgTlNMb2coQCJFcnJvciByZWFkaW5nIGZpbGU6ICVAIiwgW2Vycm9yIGxvY2FsaXplZERlc2NyaXB0aW9uXSk7Cn0gZWxzZSB7CiAgICBOU0xvZyhAIkZpbGUgQ29udGVudHM6ICVAIiwgZmlsZUNvbnRlbnRzKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@&quot;example.txt&quot;];
NSError *error;
NSString *fileContents = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;error];

if (error) {
    NSLog(@&quot;Error reading file: %@&quot;, [error localizedDescription]);
} else {
    NSLog(@&quot;File Contents: %@&quot;, fileContents);
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>stringByAppendingPathComponent</code> is used to append the file name to the directory path.</li>
<li><code>stringWithContentsOfFile:encoding:error:</code> reads the file content into a string.</li>
<li>Error handling is done using the <code>NSError</code> object.</li>
</ul>
</div><h1><p>Writing Files</p>
</h1>
<div class='content'><p>To write data to files, you can use the <code>NSString</code> or <code>NSData</code> classes.</p>
</div><h2><p>Example: Writing a Text File</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TlNTdHJpbmcgKmZpbGVQYXRoID0gW2RvY3VtZW50c0RpcmVjdG9yeSBzdHJpbmdCeUFwcGVuZGluZ1BhdGhDb21wb25lbnQ6QCJleGFtcGxlLnR4dCJdOwpOU1N0cmluZyAqY29udGVudCA9IEAiSGVsbG8sIE9iamVjdGl2ZS1DISI7Ck5TRXJyb3IgKmVycm9yOwoKQk9PTCBzdWNjZXNzID0gW2NvbnRlbnQgd3JpdGVUb0ZpbGU6ZmlsZVBhdGggYXRvbWljYWxseTpZRVMgZW5jb2Rpbmc6TlNVVEY4U3RyaW5nRW5jb2RpbmcgZXJyb3I6JmVycm9yXTsKCmlmICghc3VjY2VzcykgewogICAgTlNMb2coQCJFcnJvciB3cml0aW5nIGZpbGU6ICVAIiwgW2Vycm9yIGxvY2FsaXplZERlc2NyaXB0aW9uXSk7Cn0gZWxzZSB7CiAgICBOU0xvZyhAIkZpbGUgd3JpdHRlbiBzdWNjZXNzZnVsbHkiKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@&quot;example.txt&quot;];
NSString *content = @&quot;Hello, Objective-C!&quot;;
NSError *error;

BOOL success = [content writeToFile:filePath atomically:YES encoding:NSUTF8StringEncoding error:&amp;error];

if (!success) {
    NSLog(@&quot;Error writing file: %@&quot;, [error localizedDescription]);
} else {
    NSLog(@&quot;File written successfully&quot;);
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>writeToFile:atomically:encoding:error:</code> writes the string to the specified file.</li>
<li><code>atomically:YES</code> ensures the file is written in a safe manner.</li>
</ul>
</div><h1><p>File Management</p>
</h1>
<div class='content'><p>The <code>NSFileManager</code> class provides methods to manage files, such as deleting, copying, and moving files.</p>
</div><h2><p>Example: Deleting a File</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TlNGaWxlTWFuYWdlciAqZmlsZU1hbmFnZXIgPSBbTlNGaWxlTWFuYWdlciBkZWZhdWx0TWFuYWdlcl07Ck5TU3RyaW5nICpmaWxlUGF0aCA9IFtkb2N1bWVudHNEaXJlY3Rvcnkgc3RyaW5nQnlBcHBlbmRpbmdQYXRoQ29tcG9uZW50OkAiZXhhbXBsZS50eHQiXTsKTlNFcnJvciAqZXJyb3I7CgpCT09MIHN1Y2Nlc3MgPSBbZmlsZU1hbmFnZXIgcmVtb3ZlSXRlbUF0UGF0aDpmaWxlUGF0aCBlcnJvcjomZXJyb3JdOwoKaWYgKCFzdWNjZXNzKSB7CiAgICBOU0xvZyhAIkVycm9yIGRlbGV0aW5nIGZpbGU6ICVAIiwgW2Vycm9yIGxvY2FsaXplZERlc2NyaXB0aW9uXSk7Cn0gZWxzZSB7CiAgICBOU0xvZyhAIkZpbGUgZGVsZXRlZCBzdWNjZXNzZnVsbHkiKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NSFileManager *fileManager = [NSFileManager defaultManager];
NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@&quot;example.txt&quot;];
NSError *error;

BOOL success = [fileManager removeItemAtPath:filePath error:&amp;error];

if (!success) {
    NSLog(@&quot;Error deleting file: %@&quot;, [error localizedDescription]);
} else {
    NSLog(@&quot;File deleted successfully&quot;);
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>removeItemAtPath:error:</code> deletes the file at the specified path.</li>
<li>Error handling is done using the <code>NSError</code> object.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create, Write, Read, and Delete a File</p>
</h2>
<div class='content'><ol>
<li><strong>Create a new file</strong> named <code>test.txt</code> in the Documents directory.</li>
<li><strong>Write the string</strong> &quot;Objective-C File Handling&quot; to the file.</li>
<li><strong>Read the content</strong> of the file and print it to the console.</li>
<li><strong>Delete the file</strong>.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3RlcCAxOiBDcmVhdGUgYSBuZXcgZmlsZQpOU1N0cmluZyAqZmlsZVBhdGggPSBbZG9jdW1lbnRzRGlyZWN0b3J5IHN0cmluZ0J5QXBwZW5kaW5nUGF0aENvbXBvbmVudDpAInRlc3QudHh0Il07Ck5TU3RyaW5nICpjb250ZW50ID0gQCJPYmplY3RpdmUtQyBGaWxlIEhhbmRsaW5nIjsKTlNFcnJvciAqZXJyb3I7CgovLyBTdGVwIDI6IFdyaXRlIHRvIHRoZSBmaWxlCkJPT0wgc3VjY2VzcyA9IFtjb250ZW50IHdyaXRlVG9GaWxlOmZpbGVQYXRoIGF0b21pY2FsbHk6WUVTIGVuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nIGVycm9yOiZlcnJvcl07CmlmICghc3VjY2VzcykgewogICAgTlNMb2coQCJFcnJvciB3cml0aW5nIGZpbGU6ICVAIiwgW2Vycm9yIGxvY2FsaXplZERlc2NyaXB0aW9uXSk7Cn0gZWxzZSB7CiAgICBOU0xvZyhAIkZpbGUgd3JpdHRlbiBzdWNjZXNzZnVsbHkiKTsKfQoKLy8gU3RlcCAzOiBSZWFkIHRoZSBmaWxlCk5TU3RyaW5nICpmaWxlQ29udGVudHMgPSBbTlNTdHJpbmcgc3RyaW5nV2l0aENvbnRlbnRzT2ZGaWxlOmZpbGVQYXRoIGVuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nIGVycm9yOiZlcnJvcl07CmlmIChlcnJvcikgewogICAgTlNMb2coQCJFcnJvciByZWFkaW5nIGZpbGU6ICVAIiwgW2Vycm9yIGxvY2FsaXplZERlc2NyaXB0aW9uXSk7Cn0gZWxzZSB7CiAgICBOU0xvZyhAIkZpbGUgQ29udGVudHM6ICVAIiwgZmlsZUNvbnRlbnRzKTsKfQoKLy8gU3RlcCA0OiBEZWxldGUgdGhlIGZpbGUKTlNGaWxlTWFuYWdlciAqZmlsZU1hbmFnZXIgPSBbTlNGaWxlTWFuYWdlciBkZWZhdWx0TWFuYWdlcl07CnN1Y2Nlc3MgPSBbZmlsZU1hbmFnZXIgcmVtb3ZlSXRlbUF0UGF0aDpmaWxlUGF0aCBlcnJvcjomZXJyb3JdOwppZiAoIXN1Y2Nlc3MpIHsKICAgIE5TTG9nKEAiRXJyb3IgZGVsZXRpbmcgZmlsZTogJUAiLCBbZXJyb3IgbG9jYWxpemVkRGVzY3JpcHRpb25dKTsKfSBlbHNlIHsKICAgIE5TTG9nKEAiRmlsZSBkZWxldGVkIHN1Y2Nlc3NmdWxseSIpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Step 1: Create a new file
NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@&quot;test.txt&quot;];
NSString *content = @&quot;Objective-C File Handling&quot;;
NSError *error;

// Step 2: Write to the file
BOOL success = [content writeToFile:filePath atomically:YES encoding:NSUTF8StringEncoding error:&amp;error];
if (!success) {
    NSLog(@&quot;Error writing file: %@&quot;, [error localizedDescription]);
} else {
    NSLog(@&quot;File written successfully&quot;);
}

// Step 3: Read the file
NSString *fileContents = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;error];
if (error) {
    NSLog(@&quot;Error reading file: %@&quot;, [error localizedDescription]);
} else {
    NSLog(@&quot;File Contents: %@&quot;, fileContents);
}

// Step 4: Delete the file
NSFileManager *fileManager = [NSFileManager defaultManager];
success = [fileManager removeItemAtPath:filePath error:&amp;error];
if (!success) {
    NSLog(@&quot;Error deleting file: %@&quot;, [error localizedDescription]);
} else {
    NSLog(@&quot;File deleted successfully&quot;);
}</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>File Not Found</strong>: Ensure the file path is correct and the file exists before attempting to read it.</li>
<li><strong>Encoding Issues</strong>: Always specify the correct encoding when reading or writing text files.</li>
<li><strong>Error Handling</strong>: Always check for errors and handle them appropriately to avoid crashes.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of file handling in Objective-C, including reading, writing, and managing files. Understanding these concepts is essential for working with data stored in files. In the next section, we will delve into serialization and deserialization, which will build on the file handling concepts you've learned here.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-multithreading-and-concurrency' title="Multithreading and Concurrency">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-02-serialization-and-deserialization' title="Serialization and Deserialization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
