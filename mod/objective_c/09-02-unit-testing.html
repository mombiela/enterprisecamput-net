<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/objective_c/09-02-unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/objective_c/09-02-unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/objective_c/09-02-unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/objective_c/09-02-unit-testing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/objective_c/09-02-unit-testing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-debugging-techniques' title="Debugging Techniques">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Unit Testing</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-performance-optimization' title="Performance Optimization">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Unit testing is a crucial part of software development that ensures individual components of your code work as expected. In Objective-C, unit testing is typically done using the XCTest framework, which is integrated into Xcode.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Unit Test</strong>: A test that verifies the functionality of a specific section of code, usually a single function or method.</li>
<li><strong>Test Case</strong>: A collection of unit tests that are grouped together.</li>
<li><strong>Assertions</strong>: Statements that check if a condition is true. If the condition is false, the test fails.</li>
<li><strong>Test Suite</strong>: A collection of test cases that can be run together.</li>
</ol>
</div><h1>Setting Up Unit Tests in Xcode</h1>
<div class='content'><ol>
<li>
<p><strong>Create a Test Target</strong>:</p>
<ul>
<li>Open your Xcode project.</li>
<li>Go to <code>File &gt; New &gt; Target</code>.</li>
<li>Select <code>iOS Unit Testing Bundle</code> or <code>macOS Unit Testing Bundle</code> depending on your project.</li>
<li>Name your test target and finish the setup.</li>
</ul>
</li>
<li>
<p><strong>Add Test Cases</strong>:</p>
<ul>
<li>In the test target, create a new file by going to <code>File &gt; New &gt; File</code>.</li>
<li>Select <code>Unit Test Case Class</code> and name it appropriately.</li>
</ul>
</li>
</ol>
</div><h1>Writing Unit Tests</h1>
<div class='content'></div><h2>Example: Testing a Simple Calculator Class</h2>
<div class='content'><p>Let's create a simple <code>Calculator</code> class and write unit tests for its methods.</p>
<h4>Calculator.h</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIENhbGN1bGF0b3IgOiBOU09iamVjdAoKLSAoTlNJbnRlZ2VyKWFkZDooTlNJbnRlZ2VyKWEgdG86KE5TSW50ZWdlciliOwotIChOU0ludGVnZXIpc3VidHJhY3Q6KE5TSW50ZWdlcilhIGZyb206KE5TSW50ZWdlciliOwoKQGVuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Calculator : NSObject

- (NSInteger)add:(NSInteger)a to:(NSInteger)b;
- (NSInteger)subtract:(NSInteger)a from:(NSInteger)b;

@end</pre></div><div class='content'><h4>Calculator.m</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCAiQ2FsY3VsYXRvci5oIgoKQGltcGxlbWVudGF0aW9uIENhbGN1bGF0b3IKCi0gKE5TSW50ZWdlcilhZGQ6KE5TSW50ZWdlcilhIHRvOihOU0ludGVnZXIpYiB7CiAgICByZXR1cm4gYSArIGI7Cn0KCi0gKE5TSW50ZWdlcilzdWJ0cmFjdDooTlNJbnRlZ2VyKWEgZnJvbTooTlNJbnRlZ2VyKWIgewogICAgcmV0dXJuIGIgLSBhOwp9CgpAZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &quot;Calculator.h&quot;

@implementation Calculator

- (NSInteger)add:(NSInteger)a to:(NSInteger)b {
    return a + b;
}

- (NSInteger)subtract:(NSInteger)a from:(NSInteger)b {
    return b - a;
}

@end</pre></div><div class='content'></div><h2>Writing Tests</h2>
<div class='content'><h4>CalculatorTests.m</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8WENUZXN0L1hDVGVzdC5oPgojaW1wb3J0ICJDYWxjdWxhdG9yLmgiCgpAaW50ZXJmYWNlIENhbGN1bGF0b3JUZXN0cyA6IFhDVGVzdENhc2UKCkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIENhbGN1bGF0b3IgKmNhbGN1bGF0b3I7CgpAZW5kCgpAaW1wbGVtZW50YXRpb24gQ2FsY3VsYXRvclRlc3RzCgotICh2b2lkKXNldFVwIHsKICAgIFtzdXBlciBzZXRVcF07CiAgICBzZWxmLmNhbGN1bGF0b3IgPSBbW0NhbGN1bGF0b3IgYWxsb2NdIGluaXRdOwp9CgotICh2b2lkKXRlYXJEb3duIHsKICAgIHNlbGYuY2FsY3VsYXRvciA9IG5pbDsKICAgIFtzdXBlciB0ZWFyRG93bl07Cn0KCi0gKHZvaWQpdGVzdEFkZGl0aW9uIHsKICAgIE5TSW50ZWdlciByZXN1bHQgPSBbc2VsZi5jYWxjdWxhdG9yIGFkZDoyIHRvOjNdOwogICAgWENUQXNzZXJ0RXF1YWwocmVzdWx0LCA1LCBAIkV4cGVjdGVkIDIgKyAzIHRvIGVxdWFsIDUiKTsKfQoKLSAodm9pZCl0ZXN0U3VidHJhY3Rpb24gewogICAgTlNJbnRlZ2VyIHJlc3VsdCA9IFtzZWxmLmNhbGN1bGF0b3Igc3VidHJhY3Q6MiBmcm9tOjVdOwogICAgWENUQXNzZXJ0RXF1YWwocmVzdWx0LCAzLCBAIkV4cGVjdGVkIDUgLSAyIHRvIGVxdWFsIDMiKTsKfQoKQGVuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;XCTest/XCTest.h&gt;
#import &quot;Calculator.h&quot;

@interface CalculatorTests : XCTestCase

@property (nonatomic, strong) Calculator *calculator;

@end

@implementation CalculatorTests

- (void)setUp {
    [super setUp];
    self.calculator = [[Calculator alloc] init];
}

- (void)tearDown {
    self.calculator = nil;
    [super tearDown];
}

- (void)testAddition {
    NSInteger result = [self.calculator add:2 to:3];
    XCTAssertEqual(result, 5, @&quot;Expected 2 + 3 to equal 5&quot;);
}

- (void)testSubtraction {
    NSInteger result = [self.calculator subtract:2 from:5];
    XCTAssertEqual(result, 3, @&quot;Expected 5 - 2 to equal 3&quot;);
}

@end</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>setUp</strong>: This method is called before each test method in the class. It’s used to set up any state or objects needed for the tests.</li>
<li><strong>tearDown</strong>: This method is called after each test method in the class. It’s used to clean up any state or objects created in the setUp method.</li>
<li><strong>testAddition</strong>: This is a test method that checks if the <code>add:to:</code> method in the <code>Calculator</code> class works correctly.</li>
<li><strong>testSubtraction</strong>: This is a test method that checks if the <code>subtract:from:</code> method in the <code>Calculator</code> class works correctly.</li>
</ul>
</div><h1>Running Tests</h1>
<div class='content'><ol>
<li>
<p><strong>Run All Tests</strong>:</p>
<ul>
<li>In Xcode, go to <code>Product &gt; Test</code> or press <code>Command + U</code>.</li>
<li>Xcode will build the project and run all the tests in the test target.</li>
</ul>
</li>
<li>
<p><strong>View Test Results</strong>:</p>
<ul>
<li>The test results will be displayed in the Xcode test navigator.</li>
<li>You can see which tests passed, which failed, and any error messages.</li>
</ul>
</li>
</ol>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Testing a Multiplication Method</h2>
<div class='content'><ol>
<li>
<p><strong>Add a multiplication method to the <code>Calculator</code> class</strong>:</p>
<pre><code class="language-objective-c">- (NSInteger)multiply:(NSInteger)a with:(NSInteger)b {
    return a * b;
}
</code></pre>
</li>
<li>
<p><strong>Write a unit test for the multiplication method</strong>:</p>
<pre><code class="language-objective-c">- (void)testMultiplication {
    NSInteger result = [self.calculator multiply:3 with:4];
    XCTAssertEqual(result, 12, @&quot;Expected 3 * 4 to equal 12&quot;);
}
</code></pre>
</li>
</ol>
</div><h2>Exercise 2: Testing Edge Cases</h2>
<div class='content'><ol>
<li>
<p><strong>Add a division method to the <code>Calculator</code> class</strong>:</p>
<pre><code class="language-objective-c">- (NSInteger)divide:(NSInteger)a by:(NSInteger)b {
    if (b == 0) {
        return NSNotFound; // Return a special value for division by zero
    }
    return a / b;
}
</code></pre>
</li>
<li>
<p><strong>Write unit tests for the division method, including edge cases</strong>:</p>
<pre><code class="language-objective-c">- (void)testDivision {
    NSInteger result = [self.calculator divide:10 by:2];
    XCTAssertEqual(result, 5, @&quot;Expected 10 / 2 to equal 5&quot;);
}

- (void)testDivisionByZero {
    NSInteger result = [self.calculator divide:10 by:0];
    XCTAssertEqual(result, NSNotFound, @&quot;Expected division by zero to return NSNotFound&quot;);
}
</code></pre>
</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Not Isolating Tests</strong>: Ensure each test is independent and does not rely on the state left by another test.</li>
<li><strong>Ignoring Edge Cases</strong>: Always test edge cases, such as division by zero or negative numbers.</li>
<li><strong>Not Using Assertions Properly</strong>: Use the appropriate assertion for the condition you are testing. For example, use <code>XCTAssertEqual</code> for comparing values and <code>XCTAssertNil</code> for checking if an object is nil.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Unit testing is an essential practice for ensuring the reliability and correctness of your code. By writing comprehensive tests, you can catch bugs early and maintain a high level of code quality. In this section, you learned how to set up and write unit tests in Objective-C using the XCTest framework. You also practiced writing tests for various methods and handling edge cases. In the next section, we will explore performance optimization techniques to make your code run more efficiently.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-debugging-techniques' title="Debugging Techniques">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-performance-optimization' title="Performance Optimization">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
