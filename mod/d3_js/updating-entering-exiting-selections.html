<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Updating, Entering, and Exiting Selections in D3.js</title>

    <link rel="alternate" href="https://campusempresa.com/mod/d3_js/updating-entering-exiting-selections" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/d3_js/updating-entering-exiting-selections" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/d3_js/updating-entering-exiting-selections" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/d3_js/updating-entering-exiting-selections" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/d3_js/updating-entering-exiting-selections" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='binding-data-to-elements'>&#x25C4;Binding Data to Elements</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Updating, Entering, and Exiting Selections in D3.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-svgs'>Introduction to SVGs &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to manage data-driven documents using D3.js by updating, entering, and exiting selections. These concepts are fundamental for creating dynamic visualizations that respond to changing data.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Selections</strong>: D3.js uses selections to bind data to DOM elements.</li>
<li><strong>Enter Selection</strong>: Handles data points that are new and need to be added to the DOM.</li>
<li><strong>Update Selection</strong>: Handles data points that already exist in the DOM and need to be updated.</li>
<li><strong>Exit Selection</strong>: Handles data points that no longer exist in the data and need to be removed from the DOM.</li>
</ul>
</div><h1>Selections in D3.js</h1>
<div class='content'><p>Selections in D3.js are used to bind data to DOM elements. This is the foundation for creating dynamic visualizations.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2VsZWN0IGFsbCBjaXJjbGVzIGFuZCBiaW5kIGRhdGEgdG8gdGhlbQpjb25zdCBjaXJjbGVzID0gZDMuc2VsZWN0QWxsKCdjaXJjbGUnKS5kYXRhKGRhdGEpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Select all circles and bind data to them
const circles = d3.selectAll('circle').data(data);</pre></div><div class='content'></div><h1>Enter Selection</h1>
<div class='content'><p>The enter selection is used to create new elements for incoming data points that do not yet have corresponding DOM elements.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGF0YSBhcnJheQpjb25zdCBkYXRhID0gWzMwLCA3MCwgMTEwXTsKCi8vIFNlbGVjdCBhbGwgY2lyY2xlcyBhbmQgYmluZCBkYXRhCmNvbnN0IGNpcmNsZXMgPSBkMy5zZWxlY3QoJ3N2ZycpLnNlbGVjdEFsbCgnY2lyY2xlJykuZGF0YShkYXRhKTsKCi8vIEVudGVyIHNlbGVjdGlvbjogY3JlYXRlIG5ldyBjaXJjbGVzIGZvciBuZXcgZGF0YSBwb2ludHMKY2lyY2xlcy5lbnRlcigpCiAgLmFwcGVuZCgnY2lyY2xlJykKICAuYXR0cignY3gnLCAoZCwgaSkgPT4gKGkgKyAxKSAqIDUwKQogIC5hdHRyKCdjeScsIDUwKQogIC5hdHRyKCdyJywgZCA9PiBkIC8gMikKICAuYXR0cignZmlsbCcsICdibHVlJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Data array
const data = [30, 70, 110];

// Select all circles and bind data
const circles = d3.select('svg').selectAll('circle').data(data);

// Enter selection: create new circles for new data points
circles.enter()
  .append('circle')
  .attr('cx', (d, i) =&gt; (i + 1) * 50)
  .attr('cy', 50)
  .attr('r', d =&gt; d / 2)
  .attr('fill', 'blue');</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>data</code> array contains the data points.</li>
<li><code>selectAll('circle')</code> selects all circle elements.</li>
<li><code>data(data)</code> binds the data to the selection.</li>
<li><code>enter()</code> creates a selection for data points that do not have corresponding DOM elements.</li>
<li><code>append('circle')</code> creates new circle elements for each new data point.</li>
</ul>
</div><h1>Update Selection</h1>
<div class='content'><p>The update selection is used to modify existing DOM elements to reflect changes in the data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGF0YSBhcnJheQpjb25zdCBkYXRhID0gWzMwLCA3MCwgMTEwXTsKCi8vIFNlbGVjdCBhbGwgY2lyY2xlcyBhbmQgYmluZCBkYXRhCmNvbnN0IGNpcmNsZXMgPSBkMy5zZWxlY3QoJ3N2ZycpLnNlbGVjdEFsbCgnY2lyY2xlJykuZGF0YShkYXRhKTsKCi8vIFVwZGF0ZSBzZWxlY3Rpb246IHVwZGF0ZSBleGlzdGluZyBjaXJjbGVzCmNpcmNsZXMKICAuYXR0cigncicsIGQgPT4gZCAvIDIpCiAgLmF0dHIoJ2ZpbGwnLCAnZ3JlZW4nKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Data array
const data = [30, 70, 110];

// Select all circles and bind data
const circles = d3.select('svg').selectAll('circle').data(data);

// Update selection: update existing circles
circles
  .attr('r', d =&gt; d / 2)
  .attr('fill', 'green');</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li>The <code>circles</code> selection is updated with new attributes.</li>
<li><code>attr('r', d =&gt; d / 2)</code> updates the radius of each circle based on the data.</li>
<li><code>attr('fill', 'green')</code> changes the fill color of the circles.</li>
</ul>
</div><h1>Exit Selection</h1>
<div class='content'><p>The exit selection is used to remove DOM elements that no longer have corresponding data points.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGF0YSBhcnJheQpjb25zdCBkYXRhID0gWzMwLCA3MF07CgovLyBTZWxlY3QgYWxsIGNpcmNsZXMgYW5kIGJpbmQgZGF0YQpjb25zdCBjaXJjbGVzID0gZDMuc2VsZWN0KCdzdmcnKS5zZWxlY3RBbGwoJ2NpcmNsZScpLmRhdGEoZGF0YSk7CgovLyBFeGl0IHNlbGVjdGlvbjogcmVtb3ZlIGNpcmNsZXMgdGhhdCBubyBsb25nZXIgaGF2ZSBkYXRhCmNpcmNsZXMuZXhpdCgpLnJlbW92ZSgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Data array
const data = [30, 70];

// Select all circles and bind data
const circles = d3.select('svg').selectAll('circle').data(data);

// Exit selection: remove circles that no longer have data
circles.exit().remove();</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li>The <code>circles</code> selection is bound to the new data array.</li>
<li><code>exit()</code> creates a selection for DOM elements that no longer have corresponding data points.</li>
<li><code>remove()</code> removes these elements from the DOM.</li>
</ul>
</div><h1>Combined Example</h1>
<div class='content'><p>Let's combine entering, updating, and exiting selections in one example.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW5pdGlhbCBkYXRhIGFycmF5CmxldCBkYXRhID0gWzMwLCA3MCwgMTEwXTsKCi8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgdmlzdWFsaXphdGlvbgpmdW5jdGlvbiB1cGRhdGUoZGF0YSkgewogIC8vIFNlbGVjdCBhbGwgY2lyY2xlcyBhbmQgYmluZCBkYXRhCiAgY29uc3QgY2lyY2xlcyA9IGQzLnNlbGVjdCgnc3ZnJykuc2VsZWN0QWxsKCdjaXJjbGUnKS5kYXRhKGRhdGEpOwoKICAvLyBFbnRlciBzZWxlY3Rpb246IGNyZWF0ZSBuZXcgY2lyY2xlcyBmb3IgbmV3IGRhdGEgcG9pbnRzCiAgY2lyY2xlcy5lbnRlcigpCiAgICAuYXBwZW5kKCdjaXJjbGUnKQogICAgLmF0dHIoJ2N4JywgKGQsIGkpID0+IChpICsgMSkgKiA1MCkKICAgIC5hdHRyKCdjeScsIDUwKQogICAgLmF0dHIoJ3InLCBkID0+IGQgLyAyKQogICAgLmF0dHIoJ2ZpbGwnLCAnYmx1ZScpOwoKICAvLyBVcGRhdGUgc2VsZWN0aW9uOiB1cGRhdGUgZXhpc3RpbmcgY2lyY2xlcwogIGNpcmNsZXMKICAgIC5hdHRyKCdyJywgZCA9PiBkIC8gMikKICAgIC5hdHRyKCdmaWxsJywgJ2dyZWVuJyk7CgogIC8vIEV4aXQgc2VsZWN0aW9uOiByZW1vdmUgY2lyY2xlcyB0aGF0IG5vIGxvbmdlciBoYXZlIGRhdGEKICBjaXJjbGVzLmV4aXQoKS5yZW1vdmUoKTsKfQoKLy8gSW5pdGlhbCByZW5kZXJpbmcKdXBkYXRlKGRhdGEpOwoKLy8gVXBkYXRlIGRhdGEgYW5kIHJlLXJlbmRlciBhZnRlciAyIHNlY29uZHMKc2V0VGltZW91dCgoKSA9PiB7CiAgZGF0YSA9IFs1MCwgOTBdOwogIHVwZGF0ZShkYXRhKTsKfSwgMjAwMCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Initial data array
let data = [30, 70, 110];

// Function to update the visualization
function update(data) {
  // Select all circles and bind data
  const circles = d3.select('svg').selectAll('circle').data(data);

  // Enter selection: create new circles for new data points
  circles.enter()
    .append('circle')
    .attr('cx', (d, i) =&gt; (i + 1) * 50)
    .attr('cy', 50)
    .attr('r', d =&gt; d / 2)
    .attr('fill', 'blue');

  // Update selection: update existing circles
  circles
    .attr('r', d =&gt; d / 2)
    .attr('fill', 'green');

  // Exit selection: remove circles that no longer have data
  circles.exit().remove();
}

// Initial rendering
update(data);

// Update data and re-render after 2 seconds
setTimeout(() =&gt; {
  data = [50, 90];
  update(data);
}, 2000);</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li>The <code>update</code> function handles entering, updating, and exiting selections.</li>
<li>Initially, the <code>data</code> array contains three data points.</li>
<li>After 2 seconds, the <code>data</code> array is updated to contain two data points, and the <code>update</code> function is called again to reflect these changes in the visualization.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding how to manage selections in D3.js is crucial for creating dynamic and interactive visualizations. By mastering enter, update, and exit selections, you can ensure that your visualizations accurately reflect changes in the underlying data. Practice these concepts with different datasets to become proficient in data-driven document manipulation using D3.js.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='binding-data-to-elements'>&#x25C4;Binding Data to Elements</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Updating, Entering, and Exiting Selections in D3.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-svgs'>Introduction to SVGs &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
