<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hierarchical Data and Tree Layouts</title>

    <link rel="alternate" href="https://campusempresa.com/mod/d3_js/hierarchical-data-and-tree-layouts" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/d3_js/hierarchical-data-and-tree-layouts" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/d3_js/hierarchical-data-and-tree-layouts" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/d3_js/hierarchical-data-and-tree-layouts" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/d3_js/hierarchical-data-and-tree-layouts" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-scatter-plots'>&#x25C4;Creating Scatter Plots</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Hierarchical Data and Tree Layouts</a>
	</div>
	<div class='col-4 text-end'>
					<a href='force-layouts'>Force Layouts &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Hierarchical Data</h1>
<div class='content'><p>Hierarchical data is a type of data structure where elements are organized into a tree-like structure. This is common in many real-world scenarios, such as organizational charts, file directories, and biological taxonomies.</p>
<ul>
<li><strong>Tree Structure</strong>: A tree is a collection of nodes connected by edges. Each node contains a value or data, and nodes are connected in a parent-child relationship.</li>
<li><strong>Root Node</strong>: The top node in a tree, which has no parent.</li>
<li><strong>Leaf Nodes</strong>: Nodes that do not have any children.</li>
<li><strong>Internal Nodes</strong>: Nodes that have at least one child.</li>
</ul>
</div><h1>Understanding D3.js Hierarchical Layouts</h1>
<div class='content'><p>D3.js provides powerful tools to visualize hierarchical data. The most common layouts for hierarchical data in D3.js are tree and cluster layouts.</p>
<ul>
<li><strong>Tree Layout</strong>: A traditional tree structure where each node is connected to its children.</li>
<li><strong>Cluster Layout</strong>: Similar to a tree layout but designed to produce a more compact representation.</li>
</ul>
</div><h2>Creating a Basic Tree Layout</h2>
<div class='content'><p>To create a tree layout in D3.js, follow these steps:</p>
<ol>
<li><strong>Prepare the Data</strong>: Ensure your data is in a hierarchical format, typically a nested JSON object.</li>
<li><strong>Create the Tree Layout</strong>: Use D3's <code>d3.tree()</code> function to create the layout.</li>
<li><strong>Draw the Tree</strong>: Use SVG elements to draw the nodes and links.</li>
</ol>
<h4>Example: Basic Tree Layout</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2FtcGxlIGhpZXJhcmNoaWNhbCBkYXRhCmNvbnN0IGRhdGEgPSB7CiAgbmFtZTogIlJvb3QiLAogIGNoaWxkcmVuOiBbCiAgICB7IG5hbWU6ICJDaGlsZCAxIiB9LAogICAgeyAKICAgICAgbmFtZTogIkNoaWxkIDIiLAogICAgICBjaGlsZHJlbjogWwogICAgICAgIHsgbmFtZTogIkdyYW5kY2hpbGQgMSIgfSwKICAgICAgICB7IG5hbWU6ICJHcmFuZGNoaWxkIDIiIH0KICAgICAgXQogICAgfQogIF0KfTsKCi8vIFNldCB1cCB0aGUgU1ZHIGNhbnZhcyBkaW1lbnNpb25zCmNvbnN0IHdpZHRoID0gNjAwOwpjb25zdCBoZWlnaHQgPSA0MDA7Cgpjb25zdCBzdmcgPSBkMy5zZWxlY3QoImJvZHkiKS5hcHBlbmQoInN2ZyIpCiAgLmF0dHIoIndpZHRoIiwgd2lkdGgpCiAgLmF0dHIoImhlaWdodCIsIGhlaWdodCk7CgovLyBDcmVhdGUgYSB0cmVlIGxheW91dApjb25zdCB0cmVlTGF5b3V0ID0gZDMudHJlZSgpLnNpemUoW3dpZHRoLCBoZWlnaHQgLSAxMDBdKTsKCi8vIENvbnZlcnQgdGhlIGRhdGEgaW50byBhIGhpZXJhcmNoeQpjb25zdCByb290ID0gZDMuaGllcmFyY2h5KGRhdGEpOwoKLy8gR2VuZXJhdGUgdGhlIHRyZWUgbGF5b3V0CnRyZWVMYXlvdXQocm9vdCk7CgovLyBEcmF3IHRoZSBsaW5rcyAoZWRnZXMpCnN2Zy5zZWxlY3RBbGwoJ2xpbmUnKQogIC5kYXRhKHJvb3QubGlua3MoKSkKICAuZW50ZXIoKQogIC5hcHBlbmQoJ2xpbmUnKQogIC5hdHRyKCd4MScsIGQgPT4gZC5zb3VyY2UueCkKICAuYXR0cigneTEnLCBkID0+IGQuc291cmNlLnkpCiAgLmF0dHIoJ3gyJywgZCA9PiBkLnRhcmdldC54KQogIC5hdHRyKCd5MicsIGQgPT4gZC50YXJnZXQueSkKICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJyk7CgovLyBEcmF3IHRoZSBub2Rlcwpzdmcuc2VsZWN0QWxsKCdjaXJjbGUnKQogIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSkKICAuZW50ZXIoKQogIC5hcHBlbmQoJ2NpcmNsZScpCiAgLmF0dHIoJ2N4JywgZCA9PiBkLngpCiAgLmF0dHIoJ2N5JywgZCA9PiBkLnkpCiAgLmF0dHIoJ3InLCA1KQogIC5hdHRyKCdmaWxsJywgJ2JsdWUnKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Sample hierarchical data
const data = {
  name: &quot;Root&quot;,
  children: [
    { name: &quot;Child 1&quot; },
    { 
      name: &quot;Child 2&quot;,
      children: [
        { name: &quot;Grandchild 1&quot; },
        { name: &quot;Grandchild 2&quot; }
      ]
    }
  ]
};

// Set up the SVG canvas dimensions
const width = 600;
const height = 400;

const svg = d3.select(&quot;body&quot;).append(&quot;svg&quot;)
  .attr(&quot;width&quot;, width)
  .attr(&quot;height&quot;, height);

// Create a tree layout
const treeLayout = d3.tree().size([width, height - 100]);

// Convert the data into a hierarchy
const root = d3.hierarchy(data);

// Generate the tree layout
treeLayout(root);

// Draw the links (edges)
svg.selectAll('line')
  .data(root.links())
  .enter()
  .append('line')
  .attr('x1', d =&gt; d.source.x)
  .attr('y1', d =&gt; d.source.y)
  .attr('x2', d =&gt; d.target.x)
  .attr('y2', d =&gt; d.target.y)
  .attr('stroke', 'black');

// Draw the nodes
svg.selectAll('circle')
  .data(root.descendants())
  .enter()
  .append('circle')
  .attr('cx', d =&gt; d.x)
  .attr('cy', d =&gt; d.y)
  .attr('r', 5)
  .attr('fill', 'blue');</pre></div><div class='content'></div><h2>Customizing Tree Layouts</h2>
<div class='content'><p>You can customize the appearance and behavior of your tree layout by adjusting various properties and adding interactivity.</p>
<ul>
<li><strong>Node Size and Shape</strong>: Change the size and shape of the nodes to better represent the data.</li>
<li><strong>Link Styles</strong>: Customize the links between nodes with different colors, widths, and styles.</li>
<li><strong>Interactivity</strong>: Add tooltips, click events, and other interactive features to enhance the user experience.</li>
</ul>
<h4>Example: Customizing Nodes and Links</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3VzdG9taXppbmcgbm9kZXMgd2l0aCBkaWZmZXJlbnQgY29sb3JzIGFuZCBzaXplcwpzdmcuc2VsZWN0QWxsKCdjaXJjbGUnKQogIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSkKICAuZW50ZXIoKQogIC5hcHBlbmQoJ2NpcmNsZScpCiAgLmF0dHIoJ2N4JywgZCA9PiBkLngpCiAgLmF0dHIoJ2N5JywgZCA9PiBkLnkpCiAgLmF0dHIoJ3InLCBkID0+IGQuY2hpbGRyZW4gPyAxMCA6IDUpIC8vIExhcmdlciBjaXJjbGVzIGZvciBpbnRlcm5hbCBub2RlcwogIC5hdHRyKCdmaWxsJywgZCA9PiBkLmNoaWxkcmVuID8gJ3JlZCcgOiAnZ3JlZW4nKTsgLy8gRGlmZmVyZW50IGNvbG9ycyBmb3IgaW50ZXJuYWwgYW5kIGxlYWYgbm9kZXMKCi8vIEN1c3RvbWl6aW5nIGxpbmtzIHdpdGggZGlmZmVyZW50IHN0eWxlcwpzdmcuc2VsZWN0QWxsKCdsaW5lJykKICAuZGF0YShyb290LmxpbmtzKCkpCiAgLmVudGVyKCkKICAuYXBwZW5kKCdsaW5lJykKICAuYXR0cigneDEnLCBkID0+IGQuc291cmNlLngpCiAgLmF0dHIoJ3kxJywgZCA9PiBkLnNvdXJjZS55KQogIC5hdHRyKCd4MicsIGQgPT4gZC50YXJnZXQueCkKICAuYXR0cigneTInLCBkID0+IGQudGFyZ2V0LnkpCiAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpCiAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIpCiAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAnNSw1Jyk7IC8vIERhc2hlZCBsaW5lcw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Customizing nodes with different colors and sizes
svg.selectAll('circle')
  .data(root.descendants())
  .enter()
  .append('circle')
  .attr('cx', d =&gt; d.x)
  .attr('cy', d =&gt; d.y)
  .attr('r', d =&gt; d.children ? 10 : 5) // Larger circles for internal nodes
  .attr('fill', d =&gt; d.children ? 'red' : 'green'); // Different colors for internal and leaf nodes

// Customizing links with different styles
svg.selectAll('line')
  .data(root.links())
  .enter()
  .append('line')
  .attr('x1', d =&gt; d.source.x)
  .attr('y1', d =&gt; d.source.y)
  .attr('x2', d =&gt; d.target.x)
  .attr('y2', d =&gt; d.target.y)
  .attr('stroke', 'black')
  .attr('stroke-width', 2)
  .attr('stroke-dasharray', '5,5'); // Dashed lines</pre></div><div class='content'></div><h1>Advanced Tree Layouts</h1>
<div class='content'><p>For more advanced visualizations, you can explore additional D3.js features and techniques.</p>
<ul>
<li><strong>Collapsible Trees</strong>: Implement collapsible nodes to allow users to expand and collapse branches of the tree.</li>
<li><strong>Radial Trees</strong>: Create radial tree layouts for a circular representation of hierarchical data.</li>
<li><strong>Dynamic Data</strong>: Update the tree layout dynamically based on user interactions or real-time data.</li>
</ul>
<h4>Example: Collapsible Tree</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRnVuY3Rpb24gdG8gdG9nZ2xlIGNoaWxkcmVuIG9uIGNsaWNrCmZ1bmN0aW9uIHRvZ2dsZShkKSB7CiAgaWYgKGQuY2hpbGRyZW4pIHsKICAgIGQuX2NoaWxkcmVuID0gZC5jaGlsZHJlbjsKICAgIGQuY2hpbGRyZW4gPSBudWxsOwogIH0gZWxzZSB7CiAgICBkLmNoaWxkcmVuID0gZC5fY2hpbGRyZW47CiAgICBkLl9jaGlsZHJlbiA9IG51bGw7CiAgfQogIHVwZGF0ZShkKTsKfQoKLy8gVXBkYXRlIGZ1bmN0aW9uIHRvIHJlZHJhdyB0aGUgdHJlZQpmdW5jdGlvbiB1cGRhdGUoc291cmNlKSB7CiAgY29uc3Qgbm9kZXMgPSByb290LmRlc2NlbmRhbnRzKCk7CiAgY29uc3QgbGlua3MgPSByb290LmxpbmtzKCk7CgogIC8vIFVwZGF0ZSBub2RlcwogIGNvbnN0IG5vZGUgPSBzdmcuc2VsZWN0QWxsKCdjaXJjbGUnKQogICAgLmRhdGEobm9kZXMsIGQgPT4gZC5pZCB8fCAoZC5pZCA9ICsraSkpOwoKICBub2RlLmVudGVyKCkuYXBwZW5kKCdjaXJjbGUnKQogICAgLmF0dHIoJ3InLCA1KQogICAgLmF0dHIoJ2ZpbGwnLCAnYmx1ZScpCiAgICAub24oJ2NsaWNrJywgdG9nZ2xlKTsKCiAgbm9kZS50cmFuc2l0aW9uKCkKICAgIC5hdHRyKCdjeCcsIGQgPT4gZC54KQogICAgLmF0dHIoJ2N5JywgZCA9PiBkLnkpOwoKICAvLyBVcGRhdGUgbGlua3MKICBjb25zdCBsaW5rID0gc3ZnLnNlbGVjdEFsbCgnbGluZScpCiAgICAuZGF0YShsaW5rcywgZCA9PiBkLnRhcmdldC5pZCk7CgogIGxpbmsuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKQogICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpOwoKICBsaW5rLnRyYW5zaXRpb24oKQogICAgLmF0dHIoJ3gxJywgZCA9PiBkLnNvdXJjZS54KQogICAgLmF0dHIoJ3kxJywgZCA9PiBkLnNvdXJjZS55KQogICAgLmF0dHIoJ3gyJywgZCA9PiBkLnRhcmdldC54KQogICAgLmF0dHIoJ3kyJywgZCA9PiBkLnRhcmdldC55KTsKfQoKLy8gSW5pdGlhbCB1cGRhdGUKdXBkYXRlKHJvb3QpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Function to toggle children on click
function toggle(d) {
  if (d.children) {
    d._children = d.children;
    d.children = null;
  } else {
    d.children = d._children;
    d._children = null;
  }
  update(d);
}

// Update function to redraw the tree
function update(source) {
  const nodes = root.descendants();
  const links = root.links();

  // Update nodes
  const node = svg.selectAll('circle')
    .data(nodes, d =&gt; d.id || (d.id = ++i));

  node.enter().append('circle')
    .attr('r', 5)
    .attr('fill', 'blue')
    .on('click', toggle);

  node.transition()
    .attr('cx', d =&gt; d.x)
    .attr('cy', d =&gt; d.y);

  // Update links
  const link = svg.selectAll('line')
    .data(links, d =&gt; d.target.id);

  link.enter().append('line')
    .attr('stroke', 'black');

  link.transition()
    .attr('x1', d =&gt; d.source.x)
    .attr('y1', d =&gt; d.source.y)
    .attr('x2', d =&gt; d.target.x)
    .attr('y2', d =&gt; d.target.y);
}

// Initial update
update(root);</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Hierarchical data and tree layouts are essential for visualizing complex relationships in a structured manner. D3.js provides robust tools to create and customize these visualizations, from basic tree layouts to advanced interactive and dynamic representations. By mastering these techniques, you can effectively communicate hierarchical data in a visually appealing and informative way.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-scatter-plots'>&#x25C4;Creating Scatter Plots</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Hierarchical Data and Tree Layouts</a>
	</div>
	<div class='col-4 text-end'>
					<a href='force-layouts'>Force Layouts &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
