<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Line Charts</title>

    <link rel="alternate" href="https://campusempresa.com/mod/d3_js/04-02-creating-line-charts" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/d3_js/04-02-creating-line-charts" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/d3_js/04-02-creating-line-charts" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/d3_js/04-02-creating-line-charts" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/d3_js/04-02-creating-line-charts" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-creating-bar-charts' title="Creating Bar Charts">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creating Line Charts</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-creating-pie-charts' title="Creating Pie Charts">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will learn how to create line charts using D3.js. Line charts are useful for visualizing data trends over time or other continuous variables. We will cover the following steps:</p>
<ol>
<li><strong>Setting Up the SVG Canvas</strong></li>
<li><strong>Loading and Parsing Data</strong></li>
<li><strong>Creating Scales and Axes</strong></li>
<li><strong>Drawing the Line</strong></li>
<li><strong>Adding Interactivity</strong></li>
</ol>
</div><h1><ol>
<li>Setting Up the SVG Canvas</li>
</ol>
</h1>
<div class='content'><p>First, we need to set up the SVG canvas where our line chart will be drawn.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+TGluZSBDaGFydCB3aXRoIEQzLmpzPC90aXRsZT4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2QzanMub3JnL2QzLnY3Lm1pbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CiAgICA8c3ZnIHdpZHRoPSI4MDAiIGhlaWdodD0iNDAwIj48L3N2Zz4KICAgIDxzY3JpcHQgc3JjPSJsaW5lLWNoYXJ0LmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Line Chart with D3.js&lt;/title&gt;
    &lt;script src=&quot;https://d3js.org/d3.v7.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;svg width=&quot;800&quot; height=&quot;400&quot;&gt;&lt;/svg&gt;
    &lt;script src=&quot;line-chart.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><p>In the <code>line-chart.js</code> file, we will start by selecting the SVG element and setting its dimensions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3Qgc3ZnID0gZDMuc2VsZWN0KCJzdmciKTsKY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMzAsIGJvdHRvbTogMzAsIGxlZnQ6IDQwIH07CmNvbnN0IHdpZHRoID0gK3N2Zy5hdHRyKCJ3aWR0aCIpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7CmNvbnN0IGhlaWdodCA9ICtzdmcuYXR0cigiaGVpZ2h0IikgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsKCmNvbnN0IGcgPSBzdmcuYXBwZW5kKCJnIikKICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCR7bWFyZ2luLnRvcH0pYCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const svg = d3.select(&quot;svg&quot;);
const margin = { top: 20, right: 30, bottom: 30, left: 40 };
const width = +svg.attr(&quot;width&quot;) - margin.left - margin.right;
const height = +svg.attr(&quot;height&quot;) - margin.top - margin.bottom;

const g = svg.append(&quot;g&quot;)
    .attr(&quot;transform&quot;, `translate(${margin.left},${margin.top})`);</pre></div><div class='content'></div><h1><ol start="2">
<li>Loading and Parsing Data</li>
</ol>
</h1>
<div class='content'><p>Next, we will load and parse the data. For this example, let's assume we have a CSV file named <code>data.csv</code> with the following structure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0ZSx2YWx1ZQoyMDIzLTAxLTAxLDEwMAoyMDIzLTAxLTAyLDExMAoyMDIzLTAxLTAzLDEyMAouLi4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>date,value
2023-01-01,100
2023-01-02,110
2023-01-03,120
...</pre></div><div class='content'><p>We will use D3 to load and parse this data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZDMuY3N2KCJkYXRhLmNzdiIpLnRoZW4oZGF0YSA9PiB7CiAgICBkYXRhLmZvckVhY2goZCA9PiB7CiAgICAgICAgZC5kYXRlID0gbmV3IERhdGUoZC5kYXRlKTsKICAgICAgICBkLnZhbHVlID0gK2QudmFsdWU7CiAgICB9KTsKCiAgICAvLyBDb250aW51ZSB3aXRoIGNyZWF0aW5nIHNjYWxlcywgYXhlcywgYW5kIGRyYXdpbmcgdGhlIGxpbmUKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>d3.csv(&quot;data.csv&quot;).then(data =&gt; {
    data.forEach(d =&gt; {
        d.date = new Date(d.date);
        d.value = +d.value;
    });

    // Continue with creating scales, axes, and drawing the line
});</pre></div><div class='content'></div><h1><ol start="3">
<li>Creating Scales and Axes</li>
</ol>
</h1>
<div class='content'><p>We need to create scales to map our data values to the SVG coordinates.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeCA9IGQzLnNjYWxlVGltZSgpCiAgICAuZG9tYWluKGQzLmV4dGVudChkYXRhLCBkID0+IGQuZGF0ZSkpCiAgICAucmFuZ2UoWzAsIHdpZHRoXSk7Cgpjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKQogICAgLmRvbWFpbihbMCwgZDMubWF4KGRhdGEsIGQgPT4gZC52YWx1ZSldKQogICAgLnJhbmdlKFtoZWlnaHQsIDBdKTsKCmcuYXBwZW5kKCJnIikKICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApCiAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKTsKCmcuYXBwZW5kKCJnIikKICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const x = d3.scaleTime()
    .domain(d3.extent(data, d =&gt; d.date))
    .range([0, width]);

const y = d3.scaleLinear()
    .domain([0, d3.max(data, d =&gt; d.value)])
    .range([height, 0]);

g.append(&quot;g&quot;)
    .attr(&quot;transform&quot;, `translate(0,${height})`)
    .call(d3.axisBottom(x));

g.append(&quot;g&quot;)
    .call(d3.axisLeft(y));</pre></div><div class='content'></div><h1><ol start="4">
<li>Drawing the Line</li>
</ol>
</h1>
<div class='content'><p>Now, we will create a line generator and use it to draw the line.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgbGluZSA9IGQzLmxpbmUoKQogICAgLngoZCA9PiB4KGQuZGF0ZSkpCiAgICAueShkID0+IHkoZC52YWx1ZSkpOwoKZy5hcHBlbmQoInBhdGgiKQogICAgLmRhdHVtKGRhdGEpCiAgICAuYXR0cigiZmlsbCIsICJub25lIikKICAgIC5hdHRyKCJzdHJva2UiLCAic3RlZWxibHVlIikKICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCAxLjUpCiAgICAuYXR0cigiZCIsIGxpbmUpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const line = d3.line()
    .x(d =&gt; x(d.date))
    .y(d =&gt; y(d.value));

g.append(&quot;path&quot;)
    .datum(data)
    .attr(&quot;fill&quot;, &quot;none&quot;)
    .attr(&quot;stroke&quot;, &quot;steelblue&quot;)
    .attr(&quot;stroke-width&quot;, 1.5)
    .attr(&quot;d&quot;, line);</pre></div><div class='content'></div><h1><ol start="5">
<li>Adding Interactivity</li>
</ol>
</h1>
<div class='content'><p>To make the chart more interactive, we can add tooltips that display the data values when hovering over the line.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZm9jdXMgPSBnLmFwcGVuZCgiZyIpCiAgICAuYXR0cigiY2xhc3MiLCAiZm9jdXMiKQogICAgLnN0eWxlKCJkaXNwbGF5IiwgIm5vbmUiKTsKCmZvY3VzLmFwcGVuZCgiY2lyY2xlIikKICAgIC5hdHRyKCJyIiwgNC41KTsKCmZvY3VzLmFwcGVuZCgidGV4dCIpCiAgICAuYXR0cigieCIsIDkpCiAgICAuYXR0cigiZHkiLCAiLjM1ZW0iKTsKCnN2Zy5hcHBlbmQoInJlY3QiKQogICAgLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgKQogICAgLmF0dHIoImNsYXNzIiwgIm92ZXJsYXkiKQogICAgLmF0dHIoIndpZHRoIiwgd2lkdGgpCiAgICAuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KQogICAgLnN0eWxlKCJmaWxsIiwgIm5vbmUiKQogICAgLnN0eWxlKCJwb2ludGVyLWV2ZW50cyIsICJhbGwiKQogICAgLm9uKCJtb3VzZW92ZXIiLCAoKSA9PiBmb2N1cy5zdHlsZSgiZGlzcGxheSIsIG51bGwpKQogICAgLm9uKCJtb3VzZW91dCIsICgpID0+IGZvY3VzLnN0eWxlKCJkaXNwbGF5IiwgIm5vbmUiKSkKICAgIC5vbigibW91c2Vtb3ZlIiwgbW91c2Vtb3ZlKTsKCmZ1bmN0aW9uIG1vdXNlbW92ZShldmVudCkgewogICAgY29uc3QgYmlzZWN0RGF0ZSA9IGQzLmJpc2VjdG9yKGQgPT4gZC5kYXRlKS5sZWZ0OwogICAgY29uc3QgeDAgPSB4LmludmVydChkMy5wb2ludGVyKGV2ZW50KVswXSk7CiAgICBjb25zdCBpID0gYmlzZWN0RGF0ZShkYXRhLCB4MCwgMSk7CiAgICBjb25zdCBkMCA9IGRhdGFbaSAtIDFdOwogICAgY29uc3QgZDEgPSBkYXRhW2ldOwogICAgY29uc3QgZCA9IHgwIC0gZDAuZGF0ZSA+IGQxLmRhdGUgLSB4MCA/IGQxIDogZDA7CiAgICBmb2N1cy5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7eChkLmRhdGUpfSwke3koZC52YWx1ZSl9KWApOwogICAgZm9jdXMuc2VsZWN0KCJ0ZXh0IikudGV4dChkLnZhbHVlKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const focus = g.append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;focus&quot;)
    .style(&quot;display&quot;, &quot;none&quot;);

focus.append(&quot;circle&quot;)
    .attr(&quot;r&quot;, 4.5);

focus.append(&quot;text&quot;)
    .attr(&quot;x&quot;, 9)
    .attr(&quot;dy&quot;, &quot;.35em&quot;);

svg.append(&quot;rect&quot;)
    .attr(&quot;transform&quot;, `translate(${margin.left},${margin.top})`)
    .attr(&quot;class&quot;, &quot;overlay&quot;)
    .attr(&quot;width&quot;, width)
    .attr(&quot;height&quot;, height)
    .style(&quot;fill&quot;, &quot;none&quot;)
    .style(&quot;pointer-events&quot;, &quot;all&quot;)
    .on(&quot;mouseover&quot;, () =&gt; focus.style(&quot;display&quot;, null))
    .on(&quot;mouseout&quot;, () =&gt; focus.style(&quot;display&quot;, &quot;none&quot;))
    .on(&quot;mousemove&quot;, mousemove);

function mousemove(event) {
    const bisectDate = d3.bisector(d =&gt; d.date).left;
    const x0 = x.invert(d3.pointer(event)[0]);
    const i = bisectDate(data, x0, 1);
    const d0 = data[i - 1];
    const d1 = data[i];
    const d = x0 - d0.date &gt; d1.date - x0 ? d1 : d0;
    focus.attr(&quot;transform&quot;, `translate(${x(d.date)},${y(d.value)})`);
    focus.select(&quot;text&quot;).text(d.value);
}</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we learned how to create a line chart using D3.js. We covered the following steps:</p>
<ul>
<li>Setting up the SVG canvas</li>
<li>Loading and parsing data</li>
<li>Creating scales and axes</li>
<li>Drawing the line</li>
<li>Adding interactivity</li>
</ul>
<p>By following these steps, you can create a basic line chart and enhance it with interactive features. In the next section, we will explore how to create pie charts.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-creating-bar-charts' title="Creating Bar Charts">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-creating-pie-charts' title="Creating Pie Charts">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
