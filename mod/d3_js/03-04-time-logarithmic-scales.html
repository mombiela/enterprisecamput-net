<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time and Logarithmic Scales</title>

    <link rel="alternate" href="https://campusempresa.com/mod/d3_js/03-04-time-logarithmic-scales" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/d3_js/03-04-time-logarithmic-scales" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/d3_js/03-04-time-logarithmic-scales" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/d3_js/03-04-time-logarithmic-scales" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/d3_js/03-04-time-logarithmic-scales" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-linear-ordinal-scales' title="Linear and Ordinal Scales">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Time and Logarithmic Scales</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-creating-bar-charts' title="Creating Bar Charts">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore two important types of scales in D3.js: time scales and logarithmic scales. These scales are essential for visualizing data that spans over time or data that varies exponentially.</p>
</div><h1>Time Scales</h1>
<div class='content'></div><h2>What are Time Scales?</h2>
<div class='content'><p>Time scales in D3.js are used to map dates and times to a visual representation. They are particularly useful for creating charts that display data over a period, such as line charts showing trends over months or years.</p>
</div><h2>Creating a Time Scale</h2>
<div class='content'><p>To create a time scale, you use the <code>d3.scaleTime()</code> function. Here’s a basic example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5lIHRoZSB0aW1lIHNjYWxlCmNvbnN0IHRpbWVTY2FsZSA9IGQzLnNjYWxlVGltZSgpCiAgICAuZG9tYWluKFtuZXcgRGF0ZSgyMDIwLCAwLCAxKSwgbmV3IERhdGUoMjAyMCwgMTEsIDMxKV0pIC8vIElucHV0IGRvbWFpbgogICAgLnJhbmdlKFswLCA1MDBdKTsgLy8gT3V0cHV0IHJhbmdlCgovLyBFeGFtcGxlIHVzYWdlCmNvbnN0IHggPSB0aW1lU2NhbGUobmV3IERhdGUoMjAyMCwgNSwgMTUpKTsgLy8gTWFwcyB0byBhIHZhbHVlIHdpdGhpbiB0aGUgcmFuZ2UKY29uc29sZS5sb2coeCk7IC8vIE91dHB1dHMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDUwMA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Define the time scale
const timeScale = d3.scaleTime()
    .domain([new Date(2020, 0, 1), new Date(2020, 11, 31)]) // Input domain
    .range([0, 500]); // Output range

// Example usage
const x = timeScale(new Date(2020, 5, 15)); // Maps to a value within the range
console.log(x); // Outputs a value between 0 and 500</pre></div><div class='content'></div><h2>Practical Example: Creating a Time Scale Axis</h2>
<div class='content'><p>Let's create a simple line chart with a time scale on the x-axis.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+VGltZSBTY2FsZSBFeGFtcGxlPC90aXRsZT4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2QzanMub3JnL2QzLnY2Lm1pbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CiAgICA8c3ZnIHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIj48L3N2Zz4KICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCJzdmciKTsKICAgICAgICBjb25zdCBtYXJnaW4gPSB7dG9wOiAyMCwgcmlnaHQ6IDMwLCBib3R0b206IDMwLCBsZWZ0OiA0MH07CiAgICAgICAgY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoIndpZHRoIikgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDsKICAgICAgICBjb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoImhlaWdodCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CgogICAgICAgIGNvbnN0IGcgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwke21hcmdpbi50b3B9KWApOwoKICAgICAgICBjb25zdCBkYXRhID0gWwogICAgICAgICAgICB7ZGF0ZTogbmV3IERhdGUoMjAyMCwgMCwgMSksIHZhbHVlOiAzMH0sCiAgICAgICAgICAgIHtkYXRlOiBuZXcgRGF0ZSgyMDIwLCAxLCAxKSwgdmFsdWU6IDUwfSwKICAgICAgICAgICAge2RhdGU6IG5ldyBEYXRlKDIwMjAsIDIsIDEpLCB2YWx1ZTogODB9LAogICAgICAgICAgICB7ZGF0ZTogbmV3IERhdGUoMjAyMCwgMywgMSksIHZhbHVlOiA2NX0sCiAgICAgICAgICAgIHtkYXRlOiBuZXcgRGF0ZSgyMDIwLCA0LCAxKSwgdmFsdWU6IDk1fQogICAgICAgIF07CgogICAgICAgIGNvbnN0IHggPSBkMy5zY2FsZVRpbWUoKQogICAgICAgICAgICAuZG9tYWluKGQzLmV4dGVudChkYXRhLCBkID0+IGQuZGF0ZSkpCiAgICAgICAgICAgIC5yYW5nZShbMCwgd2lkdGhdKTsKCiAgICAgICAgY29uc3QgeSA9IGQzLnNjYWxlTGluZWFyKCkKICAgICAgICAgICAgLmRvbWFpbihbMCwgZDMubWF4KGRhdGEsIGQgPT4gZC52YWx1ZSldKQogICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pOwoKICAgICAgICBnLmFwcGVuZCgiZyIpCiAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApCiAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpOwoKICAgICAgICBnLmFwcGVuZCgiZyIpCiAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTsKCiAgICAgICAgZy5hcHBlbmQoInBhdGgiKQogICAgICAgICAgICAuZGF0dW0oZGF0YSkKICAgICAgICAgICAgLmF0dHIoImZpbGwiLCAibm9uZSIpCiAgICAgICAgICAgIC5hdHRyKCJzdHJva2UiLCAic3RlZWxibHVlIikKICAgICAgICAgICAgLmF0dHIoInN0cm9rZS13aWR0aCIsIDEuNSkKICAgICAgICAgICAgLmF0dHIoImQiLCBkMy5saW5lKCkKICAgICAgICAgICAgICAgIC54KGQgPT4geChkLmRhdGUpKQogICAgICAgICAgICAgICAgLnkoZCA9PiB5KGQudmFsdWUpKQogICAgICAgICAgICApOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Time Scale Example&lt;/title&gt;
    &lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;svg width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/svg&gt;
    &lt;script&gt;
        const svg = d3.select(&quot;svg&quot;);
        const margin = {top: 20, right: 30, bottom: 30, left: 40};
        const width = +svg.attr(&quot;width&quot;) - margin.left - margin.right;
        const height = +svg.attr(&quot;height&quot;) - margin.top - margin.bottom;

        const g = svg.append(&quot;g&quot;).attr(&quot;transform&quot;, `translate(${margin.left},${margin.top})`);

        const data = [
            {date: new Date(2020, 0, 1), value: 30},
            {date: new Date(2020, 1, 1), value: 50},
            {date: new Date(2020, 2, 1), value: 80},
            {date: new Date(2020, 3, 1), value: 65},
            {date: new Date(2020, 4, 1), value: 95}
        ];

        const x = d3.scaleTime()
            .domain(d3.extent(data, d =&gt; d.date))
            .range([0, width]);

        const y = d3.scaleLinear()
            .domain([0, d3.max(data, d =&gt; d.value)])
            .range([height, 0]);

        g.append(&quot;g&quot;)
            .attr(&quot;transform&quot;, `translate(0,${height})`)
            .call(d3.axisBottom(x));

        g.append(&quot;g&quot;)
            .call(d3.axisLeft(y));

        g.append(&quot;path&quot;)
            .datum(data)
            .attr(&quot;fill&quot;, &quot;none&quot;)
            .attr(&quot;stroke&quot;, &quot;steelblue&quot;)
            .attr(&quot;stroke-width&quot;, 1.5)
            .attr(&quot;d&quot;, d3.line()
                .x(d =&gt; x(d.date))
                .y(d =&gt; y(d.value))
            );
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Data Preparation</strong>: We define an array of objects, each containing a date and a value.</li>
<li><strong>Scales</strong>: We create a time scale for the x-axis and a linear scale for the y-axis.</li>
<li><strong>Axes</strong>: We append the x-axis and y-axis to the SVG.</li>
<li><strong>Line Path</strong>: We use <code>d3.line()</code> to create a line generator and bind the data to it.</li>
</ul>
</div><h1>Logarithmic Scales</h1>
<div class='content'></div><h2>What are Logarithmic Scales?</h2>
<div class='content'><p>Logarithmic scales are used to map data that spans several orders of magnitude. They are useful for visualizing data that grows exponentially, such as population growth or financial data.</p>
</div><h2>Creating a Logarithmic Scale</h2>
<div class='content'><p>To create a logarithmic scale, you use the <code>d3.scaleLog()</code> function. Here’s a basic example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5lIHRoZSBsb2dhcml0aG1pYyBzY2FsZQpjb25zdCBsb2dTY2FsZSA9IGQzLnNjYWxlTG9nKCkKICAgIC5kb21haW4oWzEsIDEwMDBdKSAvLyBJbnB1dCBkb21haW4KICAgIC5yYW5nZShbMCwgNTAwXSk7IC8vIE91dHB1dCByYW5nZQoKLy8gRXhhbXBsZSB1c2FnZQpjb25zdCB4ID0gbG9nU2NhbGUoMTApOyAvLyBNYXBzIHRvIGEgdmFsdWUgd2l0aGluIHRoZSByYW5nZQpjb25zb2xlLmxvZyh4KTsgLy8gT3V0cHV0cyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgNTAw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Define the logarithmic scale
const logScale = d3.scaleLog()
    .domain([1, 1000]) // Input domain
    .range([0, 500]); // Output range

// Example usage
const x = logScale(10); // Maps to a value within the range
console.log(x); // Outputs a value between 0 and 500</pre></div><div class='content'></div><h2>Practical Example: Creating a Logarithmic Scale Axis</h2>
<div class='content'><p>Let's create a simple scatter plot with a logarithmic scale on the x-axis.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+TG9nYXJpdGhtaWMgU2NhbGUgRXhhbXBsZTwvdGl0bGU+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kM2pzLm9yZy9kMy52Ni5taW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5PgogICAgPHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCI+PC9zdmc+CiAgICA8c2NyaXB0PgogICAgICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdCgic3ZnIik7CiAgICAgICAgY29uc3QgbWFyZ2luID0ge3RvcDogMjAsIHJpZ2h0OiAzMCwgYm90dG9tOiAzMCwgbGVmdDogNDB9OwogICAgICAgIGNvbnN0IHdpZHRoID0gK3N2Zy5hdHRyKCJ3aWR0aCIpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7CiAgICAgICAgY29uc3QgaGVpZ2h0ID0gK3N2Zy5hdHRyKCJoZWlnaHQiKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOwoKICAgICAgICBjb25zdCBnID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgKTsKCiAgICAgICAgY29uc3QgZGF0YSA9IFsKICAgICAgICAgICAge3g6IDEsIHk6IDMwfSwKICAgICAgICAgICAge3g6IDEwLCB5OiA1MH0sCiAgICAgICAgICAgIHt4OiAxMDAsIHk6IDgwfSwKICAgICAgICAgICAge3g6IDEwMDAsIHk6IDY1fSwKICAgICAgICAgICAge3g6IDEwMDAwLCB5OiA5NX0KICAgICAgICBdOwoKICAgICAgICBjb25zdCB4ID0gZDMuc2NhbGVMb2coKQogICAgICAgICAgICAuZG9tYWluKFsxLCBkMy5tYXgoZGF0YSwgZCA9PiBkLngpXSkKICAgICAgICAgICAgLnJhbmdlKFswLCB3aWR0aF0pOwoKICAgICAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgICAgICAuZG9tYWluKFswLCBkMy5tYXgoZGF0YSwgZCA9PiBkLnkpXSkKICAgICAgICAgICAgLnJhbmdlKFtoZWlnaHQsIDBdKTsKCiAgICAgICAgZy5hcHBlbmQoImciKQogICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgwLCR7aGVpZ2h0fSlgKQogICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKDEwLCAiLC4xcyIpKTsKCiAgICAgICAgZy5hcHBlbmQoImciKQogICAgICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KSk7CgogICAgICAgIGcuc2VsZWN0QWxsKCIuZG90IikKICAgICAgICAgICAgLmRhdGEoZGF0YSkKICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCJjaXJjbGUiKQogICAgICAgICAgICAuYXR0cigiY2xhc3MiLCAiZG90IikKICAgICAgICAgICAgLmF0dHIoImN4IiwgZCA9PiB4KGQueCkpCiAgICAgICAgICAgIC5hdHRyKCJjeSIsIGQgPT4geShkLnkpKQogICAgICAgICAgICAuYXR0cigiciIsIDUpCiAgICAgICAgICAgIC5hdHRyKCJmaWxsIiwgInN0ZWVsYmx1ZSIpOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Logarithmic Scale Example&lt;/title&gt;
    &lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;svg width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/svg&gt;
    &lt;script&gt;
        const svg = d3.select(&quot;svg&quot;);
        const margin = {top: 20, right: 30, bottom: 30, left: 40};
        const width = +svg.attr(&quot;width&quot;) - margin.left - margin.right;
        const height = +svg.attr(&quot;height&quot;) - margin.top - margin.bottom;

        const g = svg.append(&quot;g&quot;).attr(&quot;transform&quot;, `translate(${margin.left},${margin.top})`);

        const data = [
            {x: 1, y: 30},
            {x: 10, y: 50},
            {x: 100, y: 80},
            {x: 1000, y: 65},
            {x: 10000, y: 95}
        ];

        const x = d3.scaleLog()
            .domain([1, d3.max(data, d =&gt; d.x)])
            .range([0, width]);

        const y = d3.scaleLinear()
            .domain([0, d3.max(data, d =&gt; d.y)])
            .range([height, 0]);

        g.append(&quot;g&quot;)
            .attr(&quot;transform&quot;, `translate(0,${height})`)
            .call(d3.axisBottom(x).ticks(10, &quot;,.1s&quot;));

        g.append(&quot;g&quot;)
            .call(d3.axisLeft(y));

        g.selectAll(&quot;.dot&quot;)
            .data(data)
            .enter().append(&quot;circle&quot;)
            .attr(&quot;class&quot;, &quot;dot&quot;)
            .attr(&quot;cx&quot;, d =&gt; x(d.x))
            .attr(&quot;cy&quot;, d =&gt; y(d.y))
            .attr(&quot;r&quot;, 5)
            .attr(&quot;fill&quot;, &quot;steelblue&quot;);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Data Preparation</strong>: We define an array of objects, each containing an x and y value.</li>
<li><strong>Scales</strong>: We create a logarithmic scale for the x-axis and a linear scale for the y-axis.</li>
<li><strong>Axes</strong>: We append the x-axis and y-axis to the SVG.</li>
<li><strong>Scatter Plot</strong>: We bind the data to circles and position them using the scales.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, we covered:</p>
<ul>
<li>The basics of time scales and how to create them using <code>d3.scaleTime()</code>.</li>
<li>How to create a simple line chart with a time scale.</li>
<li>The basics of logarithmic scales and how to create them using <code>d3.scaleLog()</code>.</li>
<li>How to create a simple scatter plot with a logarithmic scale.</li>
</ul>
<p>Understanding these scales is crucial for visualizing data that spans over time or varies exponentially. In the next module, we will dive into creating basic visualizations using these scales and more.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-linear-ordinal-scales' title="Linear and Ordinal Scales">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-01-creating-bar-charts' title="Creating Bar Charts">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
