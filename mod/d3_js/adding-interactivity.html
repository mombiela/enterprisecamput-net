<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adding Interactivity</title>

    <link rel="alternate" href="https://campusempresa.com/mod/d3_js/adding-interactivity" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/d3_js/adding-interactivity" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/d3_js/adding-interactivity" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/d3_js/adding-interactivity" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/d3_js/adding-interactivity" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='heatmaps'>&#x25C4;Heatmaps</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Adding Interactivity</a>
	</div>
	<div class='col-4 text-end'>
					<a href='handling-events'>Handling Events &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Interactivity is a crucial aspect of modern web visualizations, making them more engaging and informative. In this section, we will explore how to add interactivity to your D3.js visualizations, from basic to advanced techniques.</p>
</div><h1>Basic Interactivity</h1>
<div class='content'></div><h2>Handling Events</h2>
<div class='content'><p>D3.js provides a straightforward way to handle events like clicks, mouseovers, and more.</p>
<ul>
<li><strong>Event Listeners</strong>: Use <code>.on()</code> to attach event listeners to elements.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZDMuc2VsZWN0QWxsKCdjaXJjbGUnKQogIC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCwgZCkgewogICAgZDMuc2VsZWN0KHRoaXMpCiAgICAgIC5hdHRyKCdmaWxsJywgJ29yYW5nZScpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>d3.selectAll('circle')
  .on('click', function(event, d) {
    d3.select(this)
      .attr('fill', 'orange');
  });</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>d3.selectAll('circle')</code>: Selects all circle elements.</li>
<li><code>.on('click', function(event, d) {...})</code>: Attaches a click event listener.</li>
<li><code>d3.select(this).attr('fill', 'orange')</code>: Changes the fill color of the clicked circle to orange.</li>
</ul>
</div><h2>Hover Effects</h2>
<div class='content'><p>Adding hover effects can make your visualizations more interactive and visually appealing.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZDMuc2VsZWN0QWxsKCdyZWN0JykKICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGV2ZW50LCBkKSB7CiAgICBkMy5zZWxlY3QodGhpcykKICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmx1ZScpOwogIH0pCiAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKGV2ZW50LCBkKSB7CiAgICBkMy5zZWxlY3QodGhpcykKICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTsKICB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>d3.selectAll('rect')
  .on('mouseover', function(event, d) {
    d3.select(this)
      .attr('fill', 'blue');
  })
  .on('mouseout', function(event, d) {
    d3.select(this)
      .attr('fill', 'black');
  });</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>mouseover</code> event changes the fill color to blue.</li>
<li><code>mouseout</code> event reverts the fill color to black.</li>
</ul>
</div><h1>Intermediate Interactivity</h1>
<div class='content'></div><h2>Tooltips</h2>
<div class='content'><p>Tooltips provide additional information when users hover over elements.</p>
<ol>
<li><strong>Create a Tooltip Element</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRpdiBpZD0idG9vbHRpcCIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgb3BhY2l0eTogMDsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOyBwYWRkaW5nOiA1cHg7Ij48L2Rpdj4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;div id=&quot;tooltip&quot; style=&quot;position: absolute; opacity: 0; background-color: white; border: 1px solid black; padding: 5px;&quot;&gt;&lt;/div&gt;</pre></div><div class='content'><ol start="2">
<li><strong>Add Tooltip Interactivity</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgdG9vbHRpcCA9IGQzLnNlbGVjdCgnI3Rvb2x0aXAnKTsKCmQzLnNlbGVjdEFsbCgnY2lyY2xlJykKICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGV2ZW50LCBkKSB7CiAgICB0b29sdGlwLnN0eWxlKCdvcGFjaXR5JywgMSkKICAgICAgICAgICAuaHRtbChgVmFsdWU6ICR7ZC52YWx1ZX1gKQogICAgICAgICAgIC5zdHlsZSgnbGVmdCcsIChldmVudC5wYWdlWCArIDUpICsgJ3B4JykKICAgICAgICAgICAuc3R5bGUoJ3RvcCcsIChldmVudC5wYWdlWSAtIDI4KSArICdweCcpOwogIH0pCiAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkgewogICAgdG9vbHRpcC5zdHlsZSgnb3BhY2l0eScsIDApOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const tooltip = d3.select('#tooltip');

d3.selectAll('circle')
  .on('mouseover', function(event, d) {
    tooltip.style('opacity', 1)
           .html(`Value: ${d.value}`)
           .style('left', (event.pageX + 5) + 'px')
           .style('top', (event.pageY - 28) + 'px');
  })
  .on('mouseout', function() {
    tooltip.style('opacity', 0);
  });</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>tooltip.style('opacity', 1)</code>: Makes the tooltip visible.</li>
<li><code>tooltip.html(...)</code>: Sets the content of the tooltip.</li>
<li><code>tooltip.style('left', ...)</code> and <code>tooltip.style('top', ...)</code>: Positions the tooltip near the mouse cursor.</li>
</ul>
</div><h1>Advanced Interactivity</h1>
<div class='content'></div><h2>Brushing and Zooming</h2>
<div class='content'><p>Brushing and zooming allow users to focus on specific parts of the data.</p>
<ul>
<li><strong>Brushing</strong>: Select a region of the chart.</li>
<li><strong>Zooming</strong>: Zoom in and out of the chart.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3Qgc3ZnID0gZDMuc2VsZWN0KCdzdmcnKTsKY29uc3QgYnJ1c2ggPSBkMy5icnVzaCgpCiAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKQogIC5vbignYnJ1c2ggZW5kJywgYnJ1c2hlZCk7CgpzdmcuYXBwZW5kKCdnJykKICAuYXR0cignY2xhc3MnLCAnYnJ1c2gnKQogIC5jYWxsKGJydXNoKTsKCmZ1bmN0aW9uIGJydXNoZWQoZXZlbnQpIHsKICBjb25zdCBzZWxlY3Rpb24gPSBldmVudC5zZWxlY3Rpb247CiAgaWYgKHNlbGVjdGlvbikgewogICAgY29uc3QgW1t4MCwgeTBdLCBbeDEsIHkxXV0gPSBzZWxlY3Rpb247CiAgICAvLyBIYW5kbGUgdGhlIGJydXNoZWQgYXJlYQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const svg = d3.select('svg');
const brush = d3.brush()
  .extent([[0, 0], [width, height]])
  .on('brush end', brushed);

svg.append('g')
  .attr('class', 'brush')
  .call(brush);

function brushed(event) {
  const selection = event.selection;
  if (selection) {
    const [[x0, y0], [x1, y1]] = selection;
    // Handle the brushed area
  }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>d3.brush()</code>: Creates a brush.</li>
<li><code>.extent([[0, 0], [width, height]])</code>: Sets the brushable area.</li>
<li><code>.on('brush end', brushed)</code>: Attaches the brush event handler.</li>
</ul>
</div><h2>Dragging</h2>
<div class='content'><p>Dragging allows users to move elements within the visualization.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZHJhZyA9IGQzLmRyYWcoKQogIC5vbignc3RhcnQnLCBkcmFnU3RhcnRlZCkKICAub24oJ2RyYWcnLCBkcmFnZ2VkKQogIC5vbignZW5kJywgZHJhZ0VuZGVkKTsKCmQzLnNlbGVjdEFsbCgnY2lyY2xlJykuY2FsbChkcmFnKTsKCmZ1bmN0aW9uIGRyYWdTdGFydGVkKGV2ZW50LCBkKSB7CiAgZDMuc2VsZWN0KHRoaXMpLnJhaXNlKCkuYXR0cignc3Ryb2tlJywgJ2JsYWNrJyk7Cn0KCmZ1bmN0aW9uIGRyYWdnZWQoZXZlbnQsIGQpIHsKICBkMy5zZWxlY3QodGhpcykKICAgIC5hdHRyKCdjeCcsIGQueCA9IGV2ZW50LngpCiAgICAuYXR0cignY3knLCBkLnkgPSBldmVudC55KTsKfQoKZnVuY3Rpb24gZHJhZ0VuZGVkKGV2ZW50LCBkKSB7CiAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3N0cm9rZScsIG51bGwpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const drag = d3.drag()
  .on('start', dragStarted)
  .on('drag', dragged)
  .on('end', dragEnded);

d3.selectAll('circle').call(drag);

function dragStarted(event, d) {
  d3.select(this).raise().attr('stroke', 'black');
}

function dragged(event, d) {
  d3.select(this)
    .attr('cx', d.x = event.x)
    .attr('cy', d.y = event.y);
}

function dragEnded(event, d) {
  d3.select(this).attr('stroke', null);
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>d3.drag()</code>: Creates a drag behavior.</li>
<li><code>.on('start', dragStarted)</code>, <code>.on('drag', dragged)</code>, <code>.on('end', dragEnded)</code>: Attach drag event handlers.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Adding interactivity to your D3.js visualizations can significantly enhance user engagement and data exploration. Starting with basic event handling, you can progressively add more sophisticated interactions like tooltips, brushing, zooming, and dragging. Mastering these techniques will allow you to create dynamic and interactive visualizations that provide a richer user experience.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='heatmaps'>&#x25C4;Heatmaps</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Adding Interactivity</a>
	</div>
	<div class='col-4 text-end'>
					<a href='handling-events'>Handling Events &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
