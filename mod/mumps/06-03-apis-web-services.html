<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIs and Web Services</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mumps/06-03-apis-web-services" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mumps/06-03-apis-web-services" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mumps/06-03-apis-web-services" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mumps/06-03-apis-web-services" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mumps/06-03-apis-web-services" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-web-integration' title="Web Integration">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">APIs and Web Services</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-interfacing-sql-databases' title="Interfacing with SQL Databases">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this module, we will explore how to interface MUMPS with APIs and web services. This is crucial for integrating MUMPS applications with modern web technologies and other systems.</p>
</div><h1>What are APIs and Web Services?</h1>
<div class='content'></div><h2>APIs (Application Programming Interfaces)</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: APIs are sets of rules and protocols for building and interacting with software applications. They allow different software systems to communicate with each other.</li>
<li><strong>Types</strong>:
<ul>
<li><strong>REST (Representational State Transfer)</strong>: Uses standard HTTP methods (GET, POST, PUT, DELETE).</li>
<li><strong>SOAP (Simple Object Access Protocol)</strong>: Uses XML for message format and relies on other application layer protocols, such as HTTP or SMTP.</li>
</ul>
</li>
</ul>
</div><h2>Web Services</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: Web services are a type of API that operate over a network, typically the internet. They allow different applications to communicate and share data and services among themselves.</li>
<li><strong>Types</strong>:
<ul>
<li><strong>RESTful Web Services</strong>: Use REST architecture.</li>
<li><strong>SOAP Web Services</strong>: Use SOAP protocol.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up MUMPS for Web Services</h1>
<div class='content'></div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>Ensure you have a working MUMPS environment.</li>
<li>Install necessary libraries or tools for HTTP requests (e.g., cURL).</li>
</ul>
</div><h2>Example: Setting Up cURL in MUMPS</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBFeGFtcGxlIG9mIHNldHRpbmcgdXAgY1VSTCBpbiBNVU1QUwpTRVQgY3VybD0iY3VybCI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Example of setting up cURL in MUMPS
SET curl=&quot;curl&quot;</pre></div><div class='content'></div><h1>Making HTTP Requests in MUMPS</h1>
<div class='content'></div><h2>GET Request</h2>
<div class='content'><p>A GET request is used to retrieve data from a server.</p>
<h4>Example: GET Request</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBFeGFtcGxlIG9mIGEgR0VUIHJlcXVlc3QgaW4gTVVNUFMKU0VUIHVybD0iaHR0cDovL2FwaS5leGFtcGxlLmNvbS9kYXRhIgpTRVQgY29tbWFuZD1jdXJsXyIgLVggR0VUICJfdXJsCk9QRU4gInBpcGUiOihjb21tYW5kOnJlYWRvbmx5KTo6InBpcGUiClVTRSAicGlwZSIgUkVBRCByZXNwb25zZQpDTE9TRSAicGlwZSIKV1JJVEUgcmVzcG9uc2U="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Example of a GET request in MUMPS
SET url=&quot;http://api.example.com/data&quot;
SET command=curl_&quot; -X GET &quot;_url
OPEN &quot;pipe&quot;:(command:readonly)::&quot;pipe&quot;
USE &quot;pipe&quot; READ response
CLOSE &quot;pipe&quot;
WRITE response</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>SET url=&quot;http://api.example.com/data&quot;</code>: Define the URL.</li>
<li><code>SET command=curl_&quot; -X GET &quot;_url</code>: Construct the cURL command.</li>
<li><code>OPEN &quot;pipe&quot;:(command:readonly)::&quot;pipe&quot;</code>: Open a pipe to execute the command.</li>
<li><code>USE &quot;pipe&quot; READ response</code>: Read the response.</li>
<li><code>CLOSE &quot;pipe&quot;</code>: Close the pipe.</li>
<li><code>WRITE response</code>: Output the response.</li>
</ul>
</div><h2>POST Request</h2>
<div class='content'><p>A POST request is used to send data to a server.</p>
<h4>Example: POST Request</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBFeGFtcGxlIG9mIGEgUE9TVCByZXF1ZXN0IGluIE1VTVBTClNFVCB1cmw9Imh0dHA6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YSIKU0VUIGRhdGE9Im5hbWU9Sm9obiZhZ2U9MzAiClNFVCBjb21tYW5kPWN1cmxfIiAtWCBQT1NUIC1kICciX2RhdGFfIicgIl91cmwKT1BFTiAicGlwZSI6KGNvbW1hbmQ6cmVhZG9ubHkpOjoicGlwZSIKVVNFICJwaXBlIiBSRUFEIHJlc3BvbnNlCkNMT1NFICJwaXBlIgpXUklURSByZXNwb25zZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Example of a POST request in MUMPS
SET url=&quot;http://api.example.com/data&quot;
SET data=&quot;name=John&amp;age=30&quot;
SET command=curl_&quot; -X POST -d '&quot;_data_&quot;' &quot;_url
OPEN &quot;pipe&quot;:(command:readonly)::&quot;pipe&quot;
USE &quot;pipe&quot; READ response
CLOSE &quot;pipe&quot;
WRITE response</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>SET data=&quot;name=John&amp;age=30&quot;</code>: Define the data to be sent.</li>
<li><code>SET command=curl_&quot; -X POST -d '&quot;_data_&quot;' &quot;_url</code>: Construct the cURL command with data.</li>
<li>The rest of the steps are similar to the GET request.</li>
</ul>
</div><h1>Parsing JSON Responses</h1>
<div class='content'></div><h2>Example: Parsing JSON in MUMPS</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBFeGFtcGxlIG9mIHBhcnNpbmcgSlNPTiByZXNwb25zZSBpbiBNVU1QUwpTRVQganNvblJlc3BvbnNlPSJ7IiJuYW1lIiI6IiJKb2huIiIsIiJhZ2UiIjozMH0iClNFVCBuYW1lPSRQSUVDRSgkUElFQ0UoanNvblJlc3BvbnNlLCIibmFtZSIiOiIiIiwyKSwiIiIsIiwxKQpTRVQgYWdlPSRQSUVDRSgkUElFQ0UoanNvblJlc3BvbnNlLCIiYWdlIiI6IiwyKSwifSIsMSkKV1JJVEUgIk5hbWU6ICIsbmFtZSwhCldSSVRFICJBZ2U6ICIsYWdlLCE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Example of parsing JSON response in MUMPS
SET jsonResponse=&quot;{&quot;&quot;name&quot;&quot;:&quot;&quot;John&quot;&quot;,&quot;&quot;age&quot;&quot;:30}&quot;
SET name=$PIECE($PIECE(jsonResponse,&quot;&quot;name&quot;&quot;:&quot;&quot;&quot;,2),&quot;&quot;&quot;,&quot;,1)
SET age=$PIECE($PIECE(jsonResponse,&quot;&quot;age&quot;&quot;:&quot;,2),&quot;}&quot;,1)
WRITE &quot;Name: &quot;,name,!
WRITE &quot;Age: &quot;,age,!</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>SET jsonResponse=&quot;{&quot;&quot;name&quot;&quot;:&quot;&quot;John&quot;&quot;,&quot;&quot;age&quot;&quot;:30}&quot;</code>: Define a JSON response.</li>
<li><code>SET name=$PIECE($PIECE(jsonResponse,&quot;&quot;name&quot;&quot;:&quot;&quot;&quot;,2),&quot;&quot;&quot;,&quot;,1)</code>: Extract the name.</li>
<li><code>SET age=$PIECE($PIECE(jsonResponse,&quot;&quot;age&quot;&quot;:&quot;,2),&quot;}&quot;,1)</code>: Extract the age.</li>
<li><code>WRITE &quot;Name: &quot;,name,!, &quot;Age: &quot;,age,!&quot;</code>: Output the parsed data.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Fetch and Display Data from a Public API</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Write a MUMPS program to fetch data from a public API and display it.</li>
<li><strong>Steps</strong>:
<ul>
<li>Choose a public API (e.g., https://jsonplaceholder.typicode.com/posts/1).</li>
<li>Write a GET request to fetch data.</li>
<li>Parse the JSON response.</li>
<li>Display the parsed data.</li>
</ul>
</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBTb2x1dGlvbiB0byB0aGUgZXhlcmNpc2UKU0VUIHVybD0iaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLzEiClNFVCBjb21tYW5kPWN1cmxfIiAtWCBHRVQgIl91cmwKT1BFTiAicGlwZSI6KGNvbW1hbmQ6cmVhZG9ubHkpOjoicGlwZSIKVVNFICJwaXBlIiBSRUFEIHJlc3BvbnNlCkNMT1NFICJwaXBlIgoKOyBQYXJzaW5nIEpTT04gcmVzcG9uc2UKU0VUIHRpdGxlPSRQSUVDRSgkUElFQ0UocmVzcG9uc2UsIiJ0aXRsZSIiOiIiIiwyKSwiIiIsIiwxKQpTRVQgYm9keT0kUElFQ0UoJFBJRUNFKHJlc3BvbnNlLCIiYm9keSIiOiIiIiwyKSwiIiIsIiwxKQoKOyBEaXNwbGF5aW5nIHRoZSBkYXRhCldSSVRFICJUaXRsZTogIix0aXRsZSwhCldSSVRFICJCb2R5OiAiLGJvZHksIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Solution to the exercise
SET url=&quot;https://jsonplaceholder.typicode.com/posts/1&quot;
SET command=curl_&quot; -X GET &quot;_url
OPEN &quot;pipe&quot;:(command:readonly)::&quot;pipe&quot;
USE &quot;pipe&quot; READ response
CLOSE &quot;pipe&quot;

; Parsing JSON response
SET title=$PIECE($PIECE(response,&quot;&quot;title&quot;&quot;:&quot;&quot;&quot;,2),&quot;&quot;&quot;,&quot;,1)
SET body=$PIECE($PIECE(response,&quot;&quot;body&quot;&quot;:&quot;&quot;&quot;,2),&quot;&quot;&quot;,&quot;,1)

; Displaying the data
WRITE &quot;Title: &quot;,title,!
WRITE &quot;Body: &quot;,body,!</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Mistake</strong>: Forgetting to close the pipe after reading the response.
<ul>
<li><strong>Tip</strong>: Always ensure to close the pipe to free up resources.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Incorrectly parsing JSON due to improper string handling.
<ul>
<li><strong>Tip</strong>: Double-check the JSON structure and use appropriate string functions.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of APIs and web services, how to make HTTP requests in MUMPS, and how to parse JSON responses. These skills are essential for integrating MUMPS applications with modern web technologies. In the next module, we will explore interfacing MUMPS with SQL databases.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-web-integration' title="Web Integration">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-interfacing-sql-databases' title="Interfacing with SQL Databases">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
