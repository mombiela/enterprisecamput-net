<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macros and Preprocessing in MUMPS (M)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mumps/macros-preprocessing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mumps/macros-preprocessing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mumps/macros-preprocessing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mumps/macros-preprocessing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mumps/macros-preprocessing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='advanced-control-structures'>&#x25C4;Advanced Control Structures</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Macros and Preprocessing in MUMPS (M)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='interfacing-other-languages'>Interfacing with Other Languages &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Macros and Preprocessing</h1>
<div class='content'><p>Macros and preprocessing in MUMPS (M) are powerful tools that allow you to automate repetitive tasks, simplify code, and improve readability. This section will guide you from the basics to advanced usage of macros and preprocessing directives in MUMPS.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Macros</strong>: Macros are essentially code snippets that can be reused throughout your program. They are defined once and can be invoked multiple times.</li>
<li><strong>Preprocessing</strong>: Preprocessing involves the manipulation of code before it is compiled or interpreted. This can include macro expansion, conditional compilation, and file inclusion.</li>
</ul>
</div><h1>Defining and Using Macros</h1>
<div class='content'><p>Macros in MUMPS are defined using the <code>#define</code> directive. Here’s a simple example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBQSSAzLjE0MTU5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define PI 3.14159</pre></div><div class='content'><p>You can then use <code>PI</code> in your code, and it will be replaced by <code>3.14159</code> during preprocessing.</p>
</div><h2>Example: Using a Macro</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBQSSAzLjE0MTU5CgpDYWxjdWxhdGVBcmVhKHJhZGl1cykKICAgIG5ldyBhcmVhCiAgICBzZXQgYXJlYSA9IFBJICogcmFkaXVzICogcmFkaXVzCiAgICB3cml0ZSAiVGhlIGFyZWEgaXM6ICIsIGFyZWEsICEKICAgIHF1aXQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define PI 3.14159

CalculateArea(radius)
    new area
    set area = PI * radius * radius
    write &quot;The area is: &quot;, area, !
    quit</pre></div><div class='content'><p>In this example, <code>PI</code> is replaced by <code>3.14159</code> when the <code>CalculateArea</code> function is executed.</p>
</div><h1>Conditional Compilation</h1>
<div class='content'><p>Conditional compilation allows you to include or exclude parts of the code based on certain conditions. This is particularly useful for debugging or when you need to compile different versions of the program.</p>
</div><h2>Example: Conditional Compilation</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBERUJVRwoKI2lmZGVmIERFQlVHCiAgICB3cml0ZSAiRGVidWcgbW9kZSBpcyBPTiIsICEKI2Vsc2UKICAgIHdyaXRlICJEZWJ1ZyBtb2RlIGlzIE9GRiIsICEKI2VuZGlm"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define DEBUG

#ifdef DEBUG
    write &quot;Debug mode is ON&quot;, !
#else
    write &quot;Debug mode is OFF&quot;, !
#endif</pre></div><div class='content'><p>In this example, if <code>DEBUG</code> is defined, the message &quot;Debug mode is ON&quot; will be printed. Otherwise, &quot;Debug mode is OFF&quot; will be printed.</p>
</div><h1>File Inclusion</h1>
<div class='content'><p>File inclusion allows you to include the contents of one file into another. This is useful for organizing code into multiple files.</p>
</div><h2>Example: Including a File</h2>
<div class='content'><p>Suppose you have a file named <code>constants.m</code> with the following content:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBQSSAzLjE0MTU5CiNkZWZpbmUgRSAgMi43MTgyOA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define PI 3.14159
#define E  2.71828</pre></div><div class='content'><p>You can include this file in your main program using the <code>#include</code> directive:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgImNvbnN0YW50cy5tIgoKQ2FsY3VsYXRlQXJlYShyYWRpdXMpCiAgICBuZXcgYXJlYQogICAgc2V0IGFyZWEgPSBQSSAqIHJhZGl1cyAqIHJhZGl1cwogICAgd3JpdGUgIlRoZSBhcmVhIGlzOiAiLCBhcmVhLCAhCiAgICBxdWl0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &quot;constants.m&quot;

CalculateArea(radius)
    new area
    set area = PI * radius * radius
    write &quot;The area is: &quot;, area, !
    quit</pre></div><div class='content'></div><h1>Advanced Macros</h1>
<div class='content'><p>Advanced macros can take parameters, making them even more powerful and flexible.</p>
</div><h2>Example: Parameterized Macros</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBTUVVBUkUoeCkgKCh4KSAqICh4KSkKCkNhbGN1bGF0ZVNxdWFyZSh2YWx1ZSkKICAgIG5ldyByZXN1bHQKICAgIHNldCByZXN1bHQgPSBTUVVBUkUodmFsdWUpCiAgICB3cml0ZSAiVGhlIHNxdWFyZSBvZiAiLCB2YWx1ZSwgIiBpczogIiwgcmVzdWx0LCAhCiAgICBxdWl0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define SQUARE(x) ((x) * (x))

CalculateSquare(value)
    new result
    set result = SQUARE(value)
    write &quot;The square of &quot;, value, &quot; is: &quot;, result, !
    quit</pre></div><div class='content'><p>In this example, the <code>SQUARE</code> macro takes a parameter <code>x</code> and returns its square.</p>
</div><h1>Summary</h1>
<div class='content'><p>Macros and preprocessing in MUMPS provide a way to write more efficient, readable, and maintainable code. By understanding and utilizing these features, you can:</p>
<ul>
<li>Automate repetitive tasks.</li>
<li>Simplify complex code.</li>
<li>Control the compilation process.</li>
<li>Organize code into multiple files.</li>
</ul>
<p>Practice using these tools in your MUMPS programs to become proficient and take full advantage of what MUMPS has to offer.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='advanced-control-structures'>&#x25C4;Advanced Control Structures</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Macros and Preprocessing in MUMPS (M)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='interfacing-other-languages'>Interfacing with Other Languages &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
