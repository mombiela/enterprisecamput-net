<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Control Structures</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mumps/04-01-advanced-control-structures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mumps/04-01-advanced-control-structures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mumps/04-01-advanced-control-structures" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/mumps/04-01-advanced-control-structures" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/mumps/04-01-advanced-control-structures" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-04-file-handling' title="File Handling in MUMPS">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Advanced Control Structures</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-02-error-handling-debugging' title="Error Handling and Debugging">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this module, we will delve into advanced control structures in MUMPS (M). These structures allow for more sophisticated flow control in your programs, enabling you to write more efficient and readable code.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Nested Control Structures</strong></li>
<li><strong>Switch-like Constructs</strong></li>
<li><strong>Loop Control with QUIT and CONTINUE</strong></li>
<li><strong>Error Trapping and Handling</strong></li>
</ol>
</div><h1><ol>
<li>Nested Control Structures</li>
</ol>
</h1>
<div class='content'><p>Nested control structures allow you to place one control structure inside another. This is useful for handling complex decision-making processes.</p>
</div><h2><p>Example: Nested IF Statements</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUYgY29uZGl0aW9uMSBETwouIElGIGNvbmRpdGlvbjIgRE8KLiAuIFdSSVRFICJCb3RoIGNvbmRpdGlvbnMgYXJlIHRydWUiLCEKLiBFTFNFICBETwouIC4gV1JJVEUgIkNvbmRpdGlvbjEgaXMgdHJ1ZSwgYnV0IENvbmRpdGlvbjIgaXMgZmFsc2UiLCEKRUxTRSAgRE8KLiBXUklURSAiQ29uZGl0aW9uMSBpcyBmYWxzZSIsIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IF condition1 DO
. IF condition2 DO
. . WRITE &quot;Both conditions are true&quot;,!
. ELSE  DO
. . WRITE &quot;Condition1 is true, but Condition2 is false&quot;,!
ELSE  DO
. WRITE &quot;Condition1 is false&quot;,!</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The outer <code>IF</code> checks <code>condition1</code>.</li>
<li>If <code>condition1</code> is true, the inner <code>IF</code> checks <code>condition2</code>.</li>
<li>Depending on the result of <code>condition2</code>, different messages are printed.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><p>Write a nested <code>IF</code> statement that checks three conditions and prints a unique message for each possible combination of true/false values.</p>
</div><h1><ol start="2">
<li>Switch-like Constructs</li>
</ol>
</h1>
<div class='content'><p>MUMPS does not have a built-in <code>SWITCH</code> statement, but you can achieve similar functionality using <code>IF</code> and <code>ELSE</code> statements.</p>
</div><h2><p>Example: Simulating a SWITCH Statement</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUIG9wdGlvbiA9IDIKSUYgb3B0aW9uPTEgRE8KLiBXUklURSAiT3B0aW9uIDEgc2VsZWN0ZWQiLCEKRUxTRSAgSUYgb3B0aW9uPTIgRE8KLiBXUklURSAiT3B0aW9uIDIgc2VsZWN0ZWQiLCEKRUxTRSAgSUYgb3B0aW9uPTMgRE8KLiBXUklURSAiT3B0aW9uIDMgc2VsZWN0ZWQiLCEKRUxTRSAgRE8KLiBXUklURSAiSW52YWxpZCBvcHRpb24iLCE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET option = 2
IF option=1 DO
. WRITE &quot;Option 1 selected&quot;,!
ELSE  IF option=2 DO
. WRITE &quot;Option 2 selected&quot;,!
ELSE  IF option=3 DO
. WRITE &quot;Option 3 selected&quot;,!
ELSE  DO
. WRITE &quot;Invalid option&quot;,!</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The variable <code>option</code> is checked against multiple values.</li>
<li>Depending on the value of <code>option</code>, a different message is printed.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><p>Simulate a <code>SWITCH</code> statement that handles five different cases and prints a unique message for each case.</p>
</div><h1><ol start="3">
<li>Loop Control with QUIT and CONTINUE</li>
</ol>
</h1>
<div class='content'><p>MUMPS provides <code>QUIT</code> and <code>CONTINUE</code> commands to control the flow within loops.</p>
</div><h2><p>Example: Using QUIT and CONTINUE</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Rk9SIGk9MToxOjEwIERPCi4gSUYgaT01IFFVSVQgIDsgRXhpdCB0aGUgbG9vcCB3aGVuIGkgZXF1YWxzIDUKLiBJRiBpIzI9MCBDT05USU5VRSAgOyBTa2lwIGV2ZW4gbnVtYmVycwouIFdSSVRFICJpPSIsaSwh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FOR i=1:1:10 DO
. IF i=5 QUIT  ; Exit the loop when i equals 5
. IF i#2=0 CONTINUE  ; Skip even numbers
. WRITE &quot;i=&quot;,i,!</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The <code>FOR</code> loop runs from 1 to 10.</li>
<li>The <code>QUIT</code> command exits the loop when <code>i</code> equals 5.</li>
<li>The <code>CONTINUE</code> command skips the current iteration if <code>i</code> is even.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><p>Write a <code>FOR</code> loop that prints numbers from 1 to 20 but skips multiples of 3 and stops the loop when the number is greater than 15.</p>
</div><h1><ol start="4">
<li>Error Trapping and Handling</li>
</ol>
</h1>
<div class='content'><p>Error trapping allows you to handle errors gracefully without crashing your program.</p>
</div><h2><p>Example: Error Trapping with $ZTRAP</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUICRaVFJBUD0iRVJST1JeTEFCRUwiClNFVCB4PTEvMCAgOyBUaGlzIHdpbGwgY2F1c2UgYSBkaXZpc2lvbiBieSB6ZXJvIGVycm9yCldSSVRFICJUaGlzIHdpbGwgbm90IGJlIHByaW50ZWQiLCEKUVVJVAoKTEFCRUwKV1JJVEUgIkFuIGVycm9yIG9jY3VycmVkOiAiLCRaRVJST1IsIQpRVUlU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET $ZTRAP=&quot;ERROR^LABEL&quot;
SET x=1/0  ; This will cause a division by zero error
WRITE &quot;This will not be printed&quot;,!
QUIT

LABEL
WRITE &quot;An error occurred: &quot;,$ZERROR,!
QUIT</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>$ZTRAP</code> is set to jump to <code>LABEL</code> when an error occurs.</li>
<li>The division by zero error triggers the error handler.</li>
<li>The error handler prints the error message stored in <code>$ZERROR</code>.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><p>Create an error handler that catches any error, logs the error message to a global variable, and then continues execution.</p>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this module, we covered advanced control structures in MUMPS, including nested control structures, switch-like constructs, loop control with <code>QUIT</code> and <code>CONTINUE</code>, and error trapping and handling. These tools will help you write more robust and efficient MUMPS programs.</p>
<p>Next, we will explore error handling and debugging in more detail in the following module.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-04-file-handling' title="File Handling in MUMPS">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-02-error-handling-debugging' title="Error Handling and Debugging">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
