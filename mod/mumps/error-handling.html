<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling in MUMPS (M)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mumps/error-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mumps/error-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mumps/error-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/mumps/error-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/mumps/error-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='transactions-locking'>&#x25C4;Transactions and Locking</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Error Handling in MUMPS (M)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-using-routines'>Creating and Using Routines &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Error handling is a crucial aspect of programming in any language, including MUMPS. Proper error handling ensures that your programs can gracefully handle unexpected situations and continue to operate or fail safely. This section will cover error handling from beginner to advanced levels.</p>
</div><h1>Introduction to Error Handling</h1>
<div class='content'><p>Error handling in MUMPS involves detecting and managing errors that occur during the execution of a program. MUMPS provides mechanisms to trap errors and take appropriate actions.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Error Trapping</strong>: The process of capturing errors when they occur.</li>
<li><strong>$ZTRAP</strong>: A special variable used to specify the error handling routine.</li>
<li><strong>$ECODE</strong>: A special variable that contains the error code when an error occurs.</li>
<li><strong>$ETRAP</strong>: A newer and more flexible error handling mechanism compared to $ZTRAP.</li>
</ul>
</div><h1>Basic Error Handling with $ZTRAP</h1>
<div class='content'></div><h2>Setting Up $ZTRAP</h2>
<div class='content'><p>The <code>$ZTRAP</code> variable is used to specify a label to which control should be transferred if an error occurs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUICRaVFJBUD0iRVJST1JeTVlQUk9HIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET $ZTRAP=&quot;ERROR^MYPROG&quot;</pre></div><div class='content'><p>In this example, if an error occurs, control is transferred to the <code>ERROR</code> label in the <code>MYPROG</code> routine.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TVlQUk9HIDsKICAgIE5FVyBYLFkKICAgIFNFVCAkWlRSQVA9IkVSUk9SXk1ZUFJPRyIKICAgIFNFVCBYPTEwLFk9MAogICAgV1JJVEUgIlJlc3VsdDogIixYL1ksIQogICAgUVVJVAoKRVJST1IgOwogICAgV1JJVEUgIkFuIGVycm9yIG9jY3VycmVkOiAiLCRaRVJST1IsIQogICAgUVVJVA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MYPROG ;
    NEW X,Y
    SET $ZTRAP=&quot;ERROR^MYPROG&quot;
    SET X=10,Y=0
    WRITE &quot;Result: &quot;,X/Y,!
    QUIT

ERROR ;
    WRITE &quot;An error occurred: &quot;,$ZERROR,!
    QUIT</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The program attempts to divide <code>X</code> by <code>Y</code>, which is zero, causing a division by zero error.</li>
<li>Control is transferred to the <code>ERROR</code> label, where the error message is displayed.</li>
</ul>
</div><h1>Intermediate Error Handling with $ECODE</h1>
<div class='content'></div><h2>Using $ECODE</h2>
<div class='content'><p>The <code>$ECODE</code> variable contains the error code when an error occurs. You can use it to determine the type of error and take appropriate action.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUICRFQ09ERT0iLDxESVZJREU+LCI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET $ECODE=&quot;,&lt;DIVIDE&gt;,&quot;</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TVlQUk9HIDsKICAgIE5FVyBYLFkKICAgIFNFVCAkWlRSQVA9IkVSUk9SXk1ZUFJPRyIKICAgIFNFVCBYPTEwLFk9MAogICAgV1JJVEUgIlJlc3VsdDogIixYL1ksIQogICAgUVVJVAoKRVJST1IgOwogICAgSUYgJEVDT0RFWyIsPERJVklERT4sIiBETwogICAgLiBXUklURSAiRGl2aXNpb24gYnkgemVybyBlcnJvciIsIQogICAgRUxTRSAgRE8KICAgIC4gV1JJVEUgIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQ6ICIsJFpFUlJPUiwhCiAgICBTRVQgJEVDT0RFPSIiCiAgICBRVUlU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MYPROG ;
    NEW X,Y
    SET $ZTRAP=&quot;ERROR^MYPROG&quot;
    SET X=10,Y=0
    WRITE &quot;Result: &quot;,X/Y,!
    QUIT

ERROR ;
    IF $ECODE[&quot;,&lt;DIVIDE&gt;,&quot; DO
    . WRITE &quot;Division by zero error&quot;,!
    ELSE  DO
    . WRITE &quot;An unexpected error occurred: &quot;,$ZERROR,!
    SET $ECODE=&quot;&quot;
    QUIT</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The program checks if the error code contains <code>&lt;DIVIDE&gt;</code>, indicating a division by zero error.</li>
<li>Appropriate messages are displayed based on the error type.</li>
</ul>
</div><h1>Advanced Error Handling with $ETRAP</h1>
<div class='content'></div><h2>Setting Up $ETRAP</h2>
<div class='content'><p>The <code>$ETRAP</code> variable allows for more flexible error handling. It can contain executable MUMPS code that is run when an error occurs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUICRFVFJBUD0iRE8gRVJST1JeTVlQUk9HIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET $ETRAP=&quot;DO ERROR^MYPROG&quot;</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TVlQUk9HIDsKICAgIE5FVyBYLFkKICAgIFNFVCAkRVRSQVA9IkRPIEVSUk9SXk1ZUFJPRyIKICAgIFNFVCBYPTEwLFk9MAogICAgV1JJVEUgIlJlc3VsdDogIixYL1ksIQogICAgUVVJVAoKRVJST1IgOwogICAgV1JJVEUgIkFuIGVycm9yIG9jY3VycmVkOiAiLCRaRVJST1IsIQogICAgU0VUICRFQ09ERT0iIgogICAgUVVJVA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MYPROG ;
    NEW X,Y
    SET $ETRAP=&quot;DO ERROR^MYPROG&quot;
    SET X=10,Y=0
    WRITE &quot;Result: &quot;,X/Y,!
    QUIT

ERROR ;
    WRITE &quot;An error occurred: &quot;,$ZERROR,!
    SET $ECODE=&quot;&quot;
    QUIT</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>$ETRAP</code> is set to execute the <code>ERROR</code> routine when an error occurs.</li>
<li>The error handling routine is executed, and the error message is displayed.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>Error handling in MUMPS is essential for creating robust and reliable programs. This section covered:</p>
<ul>
<li>Basic error handling using <code>$ZTRAP</code>.</li>
<li>Intermediate error handling using <code>$ECODE</code>.</li>
<li>Advanced error handling using <code>$ETRAP</code>.</li>
</ul>
<p>By understanding and implementing these error handling mechanisms, you can ensure that your MUMPS programs can handle unexpected situations gracefully and continue to operate or fail safely.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='transactions-locking'>&#x25C4;Transactions and Locking</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Error Handling in MUMPS (M)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-using-routines'>Creating and Using Routines &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
