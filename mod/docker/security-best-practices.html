<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Best Practices</title>

    <link rel="alternate" href="https://campusempresa.com/mod/docker/security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/docker/security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/docker/security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/docker/security-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/docker/security-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-logging'>&#x25C4;Monitoring and Logging</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ci-cd-docker'>CI/CD with Docker &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Docker is a powerful tool for containerization, but with great power comes great responsibility. Ensuring the security of your Docker environment is crucial to protect your applications and data. This section covers best practices for securing Docker from beginner to advanced levels.</p>
</div><h1>Basic Security Practices</h1>
<div class='content'></div><h2>Use Official Images</h2>
<div class='content'><ul>
<li><strong>Official Images</strong>: Always use official images from Docker Hub or other trusted sources to minimize the risk of vulnerabilities.</li>
<li><strong>Verification</strong>: Verify the authenticity of images using Docker Content Trust (DCT).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbmFibGUgRG9ja2VyIENvbnRlbnQgVHJ1c3QKZXhwb3J0IERPQ0tFUl9DT05URU5UX1RSVVNUPTEKCiMgUHVsbCBhbiBpbWFnZSB3aXRoIERDVCBlbmFibGVkCmRvY2tlciBwdWxsIHVidW50dTpsYXRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Enable Docker Content Trust
export DOCKER_CONTENT_TRUST=1

# Pull an image with DCT enabled
docker pull ubuntu:latest</pre></div><div class='content'></div><h2>Keep Docker Up-to-Date</h2>
<div class='content'><ul>
<li><strong>Updates</strong>: Regularly update Docker to the latest version to benefit from security patches and improvements.</li>
<li><strong>Release Notes</strong>: Review Docker's release notes for any security-related updates.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVcGRhdGUgRG9ja2VyIG9uIGEgRGViaWFuLWJhc2VkIHN5c3RlbQpzdWRvIGFwdC1nZXQgdXBkYXRlCnN1ZG8gYXB0LWdldCBpbnN0YWxsIGRvY2tlci1jZSBkb2NrZXItY2UtY2xpIGNvbnRhaW5lcmQuaW8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Update Docker on a Debian-based system
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io</pre></div><div class='content'></div><h2>Limit Container Privileges</h2>
<div class='content'><ul>
<li><strong>Least Privilege</strong>: Run containers with the least privileges necessary.</li>
<li><strong>Non-Root User</strong>: Avoid running containers as the root user.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEb2NrZXJmaWxlIGV4YW1wbGUgdG8gcnVuIGFzIGEgbm9uLXJvb3QgdXNlcgpGUk9NIHVidW50dTpsYXRlc3QKUlVOIHVzZXJhZGQgLW0gbXl1c2VyClVTRVIgbXl1c2Vy"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Dockerfile example to run as a non-root user
FROM ubuntu:latest
RUN useradd -m myuser
USER myuser</pre></div><div class='content'></div><h1>Intermediate Security Practices</h1>
<div class='content'></div><h2>Network Security</h2>
<div class='content'><ul>
<li><strong>Isolate Containers</strong>: Use Docker networks to isolate containers and control communication.</li>
<li><strong>Firewall Rules</strong>: Implement firewall rules to restrict access to Docker daemon and containers.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhdGUgYW4gaXNvbGF0ZWQgbmV0d29yawpkb2NrZXIgbmV0d29yayBjcmVhdGUgLS1kcml2ZXIgYnJpZGdlIGlzb2xhdGVkX25ldHdvcmsKCiMgUnVuIGEgY29udGFpbmVyIGluIHRoZSBpc29sYXRlZCBuZXR3b3JrCmRvY2tlciBydW4gLWQgLS1uZXR3b3JrIGlzb2xhdGVkX25ldHdvcmsgbXlhcHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Create an isolated network
docker network create --driver bridge isolated_network

# Run a container in the isolated network
docker run -d --network isolated_network myapp</pre></div><div class='content'></div><h2>Secure Docker Daemon</h2>
<div class='content'><ul>
<li><strong>TLS Encryption</strong>: Use TLS to encrypt communication between Docker client and daemon.</li>
<li><strong>Daemon Configuration</strong>: Configure Docker daemon to listen on a specific IP and port.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhhbXBsZSBvZiBkYWVtb24uanNvbiBjb25maWd1cmF0aW9uCnsKICAidGxzIjogdHJ1ZSwKICAidGxzY2FjZXJ0IjogIi9wYXRoL3RvL2NhLnBlbSIsCiAgInRsc2NlcnQiOiAiL3BhdGgvdG8vc2VydmVyLWNlcnQucGVtIiwKICAidGxza2V5IjogIi9wYXRoL3RvL3NlcnZlci1rZXkucGVtIiwKICAiaG9zdHMiOiBbInRjcDovLzE5Mi4xNjguMS4xMDA6MjM3NiIsICJ1bml4Oi8vL3Zhci9ydW4vZG9ja2VyLnNvY2siXQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Example of daemon.json configuration
{
  &quot;tls&quot;: true,
  &quot;tlscacert&quot;: &quot;/path/to/ca.pem&quot;,
  &quot;tlscert&quot;: &quot;/path/to/server-cert.pem&quot;,
  &quot;tlskey&quot;: &quot;/path/to/server-key.pem&quot;,
  &quot;hosts&quot;: [&quot;tcp://192.168.1.100:2376&quot;, &quot;unix:///var/run/docker.sock&quot;]
}</pre></div><div class='content'></div><h2>Image Scanning</h2>
<div class='content'><ul>
<li><strong>Vulnerability Scanning</strong>: Use tools like Docker Scan or third-party services to scan images for vulnerabilities.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTY2FuIGFuIGltYWdlIGZvciB2dWxuZXJhYmlsaXRpZXMKZG9ja2VyIHNjYW4gbXlpbWFnZTpsYXRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Scan an image for vulnerabilities
docker scan myimage:latest</pre></div><div class='content'></div><h1>Advanced Security Practices</h1>
<div class='content'></div><h2>Runtime Security</h2>
<div class='content'><ul>
<li><strong>Security Profiles</strong>: Use AppArmor or SELinux profiles to enforce security policies on containers.</li>
<li><strong>Seccomp</strong>: Use seccomp to limit the system calls that a container can make.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBSdW4gYSBjb250YWluZXIgd2l0aCBhIHNlY2NvbXAgcHJvZmlsZQpkb2NrZXIgcnVuIC0tc2VjdXJpdHktb3B0IHNlY2NvbXA9L3BhdGgvdG8vc2VjY29tcC1wcm9maWxlLmpzb24gbXlhcHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Run a container with a seccomp profile
docker run --security-opt seccomp=/path/to/seccomp-profile.json myapp</pre></div><div class='content'></div><h2>Secrets Management</h2>
<div class='content'><ul>
<li><strong>Docker Secrets</strong>: Use Docker secrets to manage sensitive data like passwords and API keys securely.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhdGUgYSBEb2NrZXIgc2VjcmV0CmVjaG8gIm15c2VjcmV0cGFzc3dvcmQiIHwgZG9ja2VyIHNlY3JldCBjcmVhdGUgZGJfcGFzc3dvcmQgLQoKIyBVc2UgdGhlIHNlY3JldCBpbiBhIHNlcnZpY2UKZG9ja2VyIHNlcnZpY2UgY3JlYXRlIC0tbmFtZSBteXNlcnZpY2UgLS1zZWNyZXQgZGJfcGFzc3dvcmQgbXlpbWFnZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Create a Docker secret
echo &quot;mysecretpassword&quot; | docker secret create db_password -

# Use the secret in a service
docker service create --name myservice --secret db_password myimage</pre></div><div class='content'></div><h2>Auditing and Monitoring</h2>
<div class='content'><ul>
<li><strong>Audit Logs</strong>: Enable and review Docker audit logs to monitor activities.</li>
<li><strong>Monitoring Tools</strong>: Use monitoring tools like Prometheus and Grafana to keep an eye on container metrics and security events.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIG9mIGVuYWJsaW5nIGF1ZGl0IGxvZ3MgaW4gZGFlbW9uLmpzb24KewogICJsb2ctZHJpdmVyIjogImpzb24tZmlsZSIsCiAgImxvZy1vcHRzIjogewogICAgIm1heC1zaXplIjogIjEwbSIsCiAgICAibWF4LWZpbGUiOiAiMyIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example of enabling audit logs in daemon.json
{
  &quot;log-driver&quot;: &quot;json-file&quot;,
  &quot;log-opts&quot;: {
    &quot;max-size&quot;: &quot;10m&quot;,
    &quot;max-file&quot;: &quot;3&quot;
  }
}</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Securing Docker involves a multi-layered approach, from using official images and keeping Docker up-to-date to implementing advanced runtime security measures and monitoring. By following these best practices, you can significantly reduce the risk of security breaches and ensure a robust and secure Docker environment.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-logging'>&#x25C4;Monitoring and Logging</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ci-cd-docker'>CI/CD with Docker &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
