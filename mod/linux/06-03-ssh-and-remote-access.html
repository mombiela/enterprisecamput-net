<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSH and Remote Access</title>

    <link rel="alternate" href="https://campusempresa.com/mod/linux/06-03-ssh-and-remote-access" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/linux/06-03-ssh-i-acces-remot" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/linux/06-03-ssh-and-remote-access" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/linux/06-03-ssh-and-remote-access" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/linux/06-03-ssh-i-acces-remot" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-firewall-and-security' title="Firewall and Security">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">SSH and Remote Access</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-intrusion-detection-systems' title="Intrusion Detection Systems">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Secure Shell (SSH) is a protocol used to securely connect to remote systems over a network. It provides a secure channel over an unsecured network by using encryption. SSH is widely used for remote command-line login, remote command execution, and other secure network services between two networked computers.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ul>
<li><strong>SSH Protocol</strong>: A method for secure remote login and other secure network services over an insecure network.</li>
<li><strong>SSH Client</strong>: A software that uses the SSH protocol to connect to an SSH server.</li>
<li><strong>SSH Server</strong>: A software that accepts connections from SSH clients.</li>
<li><strong>Public Key Authentication</strong>: A method of authenticating users using a pair of cryptographic keys (public and private keys).</li>
</ul>
</div><h1><p>Installing SSH</p>
</h1>
<h2><p>On Ubuntu/Debian</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQgdXBkYXRlCnN1ZG8gYXB0IGluc3RhbGwgb3BlbnNzaC1zZXJ2ZXI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt update
sudo apt install openssh-server</pre></div><h2><p>On CentOS/RHEL</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyB5dW0gaW5zdGFsbCBvcGVuc3NoLXNlcnZlcgpzdWRvIHN5c3RlbWN0bCBlbmFibGUgc3NoZApzdWRvIHN5c3RlbWN0bCBzdGFydCBzc2hk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo yum install openssh-server
sudo systemctl enable sshd
sudo systemctl start sshd</pre></div><div class='content'></div><h1><p>Basic SSH Commands</p>
</h1>
<h2><p>Connecting to a Remote Server</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3NoIHVzZXJuYW1lQGhvc3RuYW1l"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ssh username@hostname</pre></div><div class='content'><ul>
<li><code>username</code>: The user account on the remote server.</li>
<li><code>hostname</code>: The IP address or domain name of the remote server.</li>
</ul>
</div><h2><p>Example</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3NoIGpvaG5AMTkyLjE2OC4xLjEw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ssh john@192.168.1.10</pre></div><div class='content'></div><h2><p>Copying Files with SCP (Secure Copy)</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2NwIGxvY2FsZmlsZSB1c2VybmFtZUBob3N0bmFtZTovcGF0aC90by9yZW1vdGUvZGlyZWN0b3J5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>scp localfile username@hostname:/path/to/remote/directory</pre></div><div class='content'><ul>
<li><code>localfile</code>: The file on your local machine.</li>
<li><code>/path/to/remote/directory</code>: The destination directory on the remote server.</li>
</ul>
</div><h2><p>Example</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2NwIG15ZmlsZS50eHQgam9obkAxOTIuMTY4LjEuMTA6L2hvbWUvam9obi8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>scp myfile.txt john@192.168.1.10:/home/john/</pre></div><div class='content'></div><h1><p>Configuring SSH</p>
</h1>
<h2><p>SSH Configuration File</p>
</h2>
<div class='content'><p>The SSH server configuration file is located at <code>/etc/ssh/sshd_config</code>.</p>
</div><h2><p>Common Configuration Options</p>
</h2>
<div class='content'><ul>
<li><strong>Port</strong>: The port number on which the SSH server listens (default is 22).</li>
<li><strong>PermitRootLogin</strong>: Specifies whether root can log in using SSH.</li>
<li><strong>PasswordAuthentication</strong>: Specifies whether password authentication is allowed.</li>
</ul>
</div><h2><p>Example Configuration</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDaGFuZ2UgdGhlIGRlZmF1bHQgcG9ydCB0byAyMjIyClBvcnQgMjIyMgoKIyBEaXNhYmxlIHJvb3QgbG9naW4KUGVybWl0Um9vdExvZ2luIG5vCgojIERpc2FibGUgcGFzc3dvcmQgYXV0aGVudGljYXRpb24KUGFzc3dvcmRBdXRoZW50aWNhdGlvbiBubw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Change the default port to 2222
Port 2222

# Disable root login
PermitRootLogin no

# Disable password authentication
PasswordAuthentication no</pre></div><div class='content'></div><h2><p>Restarting SSH Service</p>
</h2>
<div class='content'><p>After making changes to the configuration file, restart the SSH service.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo systemctl restart sshd</pre></div><div class='content'></div><h1><p>Public Key Authentication</p>
</h1>
<h2><p>Generating SSH Keys</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3NoLWtleWdlbiAtdCByc2EgLWIgNDA5NiAtQyAieW91cl9lbWFpbEBleGFtcGxlLmNvbSI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</pre></div><div class='content'><ul>
<li><code>-t rsa</code>: Specifies the type of key to create (RSA).</li>
<li><code>-b 4096</code>: Specifies the number of bits in the key (4096 bits).</li>
<li><code>-C &quot;your_email@example.com&quot;</code>: Adds a comment to the key.</li>
</ul>
</div><h2><p>Copying the Public Key to the Remote Server</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3NoLWNvcHktaWQgdXNlcm5hbWVAaG9zdG5hbWU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ssh-copy-id username@hostname</pre></div><div class='content'><ul>
<li>This command copies the public key to the remote server's <code>~/.ssh/authorized_keys</code> file.</li>
</ul>
</div><h2><p>Example</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3NoLWNvcHktaWQgam9obkAxOTIuMTY4LjEuMTA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ssh-copy-id john@192.168.1.10</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<h2><p>Exercise: Securely Connect to a Remote Server</p>
</h2>
<div class='content'><ol>
<li><strong>Install SSH Server</strong>: Install the SSH server on a remote machine.</li>
<li><strong>Generate SSH Keys</strong>: Generate an SSH key pair on your local machine.</li>
<li><strong>Copy Public Key</strong>: Copy the public key to the remote server.</li>
<li><strong>Connect Using SSH</strong>: Connect to the remote server using SSH without a password.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li><strong>Install SSH Server</strong>:
<pre><code class="language-bash">sudo apt update
sudo apt install openssh-server
</code></pre>
</li>
<li><strong>Generate SSH Keys</strong>:
<pre><code class="language-bash">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;
</code></pre>
</li>
<li><strong>Copy Public Key</strong>:
<pre><code class="language-bash">ssh-copy-id username@hostname
</code></pre>
</li>
<li><strong>Connect Using SSH</strong>:
<pre><code class="language-bash">ssh username@hostname
</code></pre>
</li>
</ol>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Permission Denied (publickey)</strong>: Ensure the public key is correctly copied to the <code>~/.ssh/authorized_keys</code> file on the remote server.</li>
<li><strong>SSH Service Not Running</strong>: Verify that the SSH service is running on the remote server.
<pre><code class="language-bash">sudo systemctl status sshd
</code></pre>
</li>
<li><strong>Firewall Blocking SSH</strong>: Ensure the firewall allows SSH traffic on the specified port.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned how to use SSH for secure remote access, configure SSH settings, and set up public key authentication. These skills are essential for managing remote servers securely. In the next section, we will explore Intrusion Detection Systems to further enhance the security of your Linux systems.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-firewall-and-security' title="Firewall and Security">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-intrusion-detection-systems' title="Intrusion Detection Systems">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
