<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Line Arguments</title>

    <link rel="alternate" href="https://campusempresa.com/mod/c/10-02-command-line-arguments" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/c/10-02-command-line-arguments" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/c/10-02-command-line-arguments" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/c/10-02-command-line-arguments" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/c/10-02-command-line-arguments" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-01-preprocessor-directives' title="Preprocessor Directives">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Command Line Arguments</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-03-variable-argument-lists' title="Variable Argument Lists">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Command line arguments are a way to provide input to a program at the time of its execution. This allows users to pass data to the program without hardcoding it into the source code. In C, command line arguments are handled using the <code>main</code> function's parameters: <code>argc</code> and <code>argv</code>.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong><code>argc</code> (Argument Count)</strong>:</p>
<ul>
<li>An integer representing the number of command line arguments passed to the program, including the program's name.</li>
</ul>
</li>
<li>
<p><strong><code>argv</code> (Argument Vector)</strong>:</p>
<ul>
<li>An array of character pointers (strings) listing all the arguments. <code>argv[0]</code> is the name of the program, and <code>argv[1]</code> to <code>argv[argc-1]</code> are the actual command line arguments.</li>
</ul>
</li>
</ol>
</div><h1><p>Syntax</p>
</h1>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkgewogICAgLy8gWW91ciBjb2RlIGhlcmUKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int main(int argc, char *argv[]) {
    // Your code here
}</pre></div><div class='content'><ul>
<li><code>argc</code>: Number of arguments.</li>
<li><code>argv</code>: Array of arguments.</li>
</ul>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a simple program that prints out all the command line arguments passed to it.</p>
</div><h2><p>Code Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbihpbnQgYXJnYywgY2hhciAqYXJndltdKSB7CiAgICBwcmludGYoIk51bWJlciBvZiBhcmd1bWVudHM6ICVkXG4iLCBhcmdjKTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICAgICAgcHJpbnRmKCJBcmd1bWVudCAlZDogJXNcbiIsIGksIGFyZ3ZbaV0pOwogICAgfQogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main(int argc, char *argv[]) {
    printf(&quot;Number of arguments: %d\n&quot;, argc);
    for (int i = 0; i &lt; argc; i++) {
        printf(&quot;Argument %d: %s\n&quot;, i, argv[i]);
    }
    return 0;
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Include the Standard I/O Library</strong>:</p>
<ul>
<li><code>#include &lt;stdio.h&gt;</code> is necessary for using the <code>printf</code> function.</li>
</ul>
</li>
<li>
<p><strong>Main Function</strong>:</p>
<ul>
<li>The <code>main</code> function takes two parameters: <code>argc</code> and <code>argv</code>.</li>
</ul>
</li>
<li>
<p><strong>Print Number of Arguments</strong>:</p>
<ul>
<li><code>printf(&quot;Number of arguments: %d\n&quot;, argc);</code> prints the total number of arguments.</li>
</ul>
</li>
<li>
<p><strong>Loop Through Arguments</strong>:</p>
<ul>
<li>A <code>for</code> loop iterates through each argument and prints it using <code>printf</code>.</li>
</ul>
</li>
</ol>
</div><h2><p>Running the Program</p>
</h2>
<div class='content'><p>To compile and run the program, use the following commands in your terminal:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2NjIC1vIGNvbW1hbmRfbGluZV9hcmdzIGNvbW1hbmRfbGluZV9hcmdzLmMKLi9jb21tYW5kX2xpbmVfYXJncyBhcmcxIGFyZzIgYXJnMw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcc -o command_line_args command_line_args.c
./command_line_args arg1 arg2 arg3</pre></div><div class='content'></div><h2><p>Expected Output</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TnVtYmVyIG9mIGFyZ3VtZW50czogNApBcmd1bWVudCAwOiAuL2NvbW1hbmRfbGluZV9hcmdzCkFyZ3VtZW50IDE6IGFyZzEKQXJndW1lbnQgMjogYXJnMgpBcmd1bWVudCAzOiBhcmcz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Number of arguments: 4
Argument 0: ./command_line_args
Argument 1: arg1
Argument 2: arg2
Argument 3: arg3</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Sum of Integers</p>
</h2>
<div class='content'><p>Write a program that takes a list of integers as command line arguments and prints their sum.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pIHsKICAgIGludCBzdW0gPSAwOwogICAgZm9yIChpbnQgaSA9IDE7IGkgPCBhcmdjOyBpKyspIHsKICAgICAgICBzdW0gKz0gYXRvaShhcmd2W2ldKTsKICAgIH0KICAgIHByaW50ZigiU3VtOiAlZFxuIiwgc3VtKTsKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char *argv[]) {
    int sum = 0;
    for (int i = 1; i &lt; argc; i++) {
        sum += atoi(argv[i]);
    }
    printf(&quot;Sum: %d\n&quot;, sum);
    return 0;
}</pre></div><div class='content'><h4>Explanation</h4>
<ol>
<li>
<p><strong>Include Libraries</strong>:</p>
<ul>
<li><code>#include &lt;stdio.h&gt;</code> for <code>printf</code>.</li>
<li><code>#include &lt;stdlib.h&gt;</code> for <code>atoi</code> (ASCII to Integer conversion).</li>
</ul>
</li>
<li>
<p><strong>Initialize Sum</strong>:</p>
<ul>
<li><code>int sum = 0;</code> initializes the sum variable.</li>
</ul>
</li>
<li>
<p><strong>Loop Through Arguments</strong>:</p>
<ul>
<li>The loop starts from <code>1</code> to skip the program name.</li>
<li><code>sum += atoi(argv[i]);</code> converts each argument to an integer and adds it to <code>sum</code>.</li>
</ul>
</li>
<li>
<p><strong>Print Sum</strong>:</p>
<ul>
<li><code>printf(&quot;Sum: %d\n&quot;, sum);</code> prints the total sum.</li>
</ul>
</li>
</ol>
</div><h2><p>Exercise 2: Concatenate Strings</p>
</h2>
<div class='content'><p>Write a program that concatenates all command line arguments into a single string and prints it.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCmludCBtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pIHsKICAgIGNoYXIgcmVzdWx0WzEwMDBdID0gIiI7IC8vIEVuc3VyZSB0aGUgYXJyYXkgaXMgbGFyZ2UgZW5vdWdoCiAgICBmb3IgKGludCBpID0gMTsgaSA8IGFyZ2M7IGkrKykgewogICAgICAgIHN0cmNhdChyZXN1bHQsIGFyZ3ZbaV0pOwogICAgICAgIGlmIChpIDwgYXJnYyAtIDEpIHsKICAgICAgICAgICAgc3RyY2F0KHJlc3VsdCwgIiAiKTsKICAgICAgICB9CiAgICB9CiAgICBwcmludGYoIkNvbmNhdGVuYXRlZCBTdHJpbmc6ICVzXG4iLCByZXN1bHQpOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    char result[1000] = &quot;&quot;; // Ensure the array is large enough
    for (int i = 1; i &lt; argc; i++) {
        strcat(result, argv[i]);
        if (i &lt; argc - 1) {
            strcat(result, &quot; &quot;);
        }
    }
    printf(&quot;Concatenated String: %s\n&quot;, result);
    return 0;
}</pre></div><div class='content'><h4>Explanation</h4>
<ol>
<li>
<p><strong>Include Libraries</strong>:</p>
<ul>
<li><code>#include &lt;stdio.h&gt;</code> for <code>printf</code>.</li>
<li><code>#include &lt;string.h&gt;</code> for <code>strcat</code>.</li>
</ul>
</li>
<li>
<p><strong>Initialize Result String</strong>:</p>
<ul>
<li><code>char result[1000] = &quot;&quot;;</code> initializes an empty string with a large enough buffer.</li>
</ul>
</li>
<li>
<p><strong>Loop Through Arguments</strong>:</p>
<ul>
<li><code>strcat(result, argv[i]);</code> concatenates each argument to <code>result</code>.</li>
<li><code>if (i &lt; argc - 1) { strcat(result, &quot; &quot;); }</code> adds a space between arguments.</li>
</ul>
</li>
<li>
<p><strong>Print Result</strong>:</p>
<ul>
<li><code>printf(&quot;Concatenated String: %s\n&quot;, result);</code> prints the concatenated string.</li>
</ul>
</li>
</ol>
</div><h1><p>Common Mistakes</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Buffer Overflow</strong>:</p>
<ul>
<li>Ensure the buffer for concatenated strings is large enough to hold all arguments.</li>
</ul>
</li>
<li>
<p><strong>Incorrect Indexing</strong>:</p>
<ul>
<li>Remember that <code>argv[0]</code> is the program name, and actual arguments start from <code>argv[1]</code>.</li>
</ul>
</li>
<li>
<p><strong>Type Conversion</strong>:</p>
<ul>
<li>Use <code>atoi</code> or similar functions to convert string arguments to integers or other types.</li>
</ul>
</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Command line arguments provide a flexible way to pass input to your programs. Understanding how to use <code>argc</code> and <code>argv</code> allows you to create more dynamic and user-friendly applications. Practice with the provided exercises to solidify your understanding and prepare for more advanced topics.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-01-preprocessor-directives' title="Preprocessor Directives">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-03-variable-argument-lists' title="Variable Argument Lists">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
