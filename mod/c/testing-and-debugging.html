<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing and Debugging</title>

    <link rel="alternate" href="https://campusempresa.com/mod/c/testing-and-debugging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/c/testing-and-debugging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/c/testing-and-debugging" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/c/testing-and-debugging" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/c/testing-and-debugging" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Debugging</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-presentation'>Project Presentation &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Testing and debugging are crucial skills for any programmer. In this section, we will cover the basics of testing and debugging in C, progressing from beginner to advanced techniques. By the end of this section, you will be able to identify and fix bugs in your code and write tests to ensure your code works as expected.</p>
</div><h1>Basics of Debugging</h1>
<div class='content'></div><h2>What is Debugging?</h2>
<div class='content'><ul>
<li>Debugging is the process of identifying and removing errors from computer software.</li>
<li>Errors in software are commonly referred to as &quot;bugs.&quot;</li>
</ul>
</div><h2>Common Types of Bugs</h2>
<div class='content'><ul>
<li><strong>Syntax Errors</strong>: Mistakes in the code that violate the rules of the C language.</li>
<li><strong>Runtime Errors</strong>: Errors that occur while the program is running, often causing the program to crash.</li>
<li><strong>Logical Errors</strong>: Errors that cause the program to operate incorrectly but do not crash the program.</li>
</ul>
</div><h2>Tools for Debugging</h2>
<div class='content'><ul>
<li><strong>printf Statements</strong>: Simple and effective for small programs.</li>
<li><strong>Debugger Tools</strong>: More advanced tools like GDB (GNU Debugger).</li>
</ul>
</div><h2>Using printf for Debugging</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gNTsKICAgIGludCBiID0gMDsKICAgIGludCByZXN1bHQ7CgogICAgcHJpbnRmKCJCZWZvcmUgZGl2aXNpb25cbiIpOwogICAgcmVzdWx0ID0gYSAvIGI7IC8vIFRoaXMgd2lsbCBjYXVzZSBhIHJ1bnRpbWUgZXJyb3IgKGRpdmlzaW9uIGJ5IHplcm8pCiAgICBwcmludGYoIkFmdGVyIGRpdmlzaW9uXG4iKTsKCiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 5;
    int b = 0;
    int result;

    printf(&quot;Before division\n&quot;);
    result = a / b; // This will cause a runtime error (division by zero)
    printf(&quot;After division\n&quot;);

    return 0;
}</pre></div><div class='content'><ul>
<li>In this example, the program will crash before printing &quot;After division&quot; due to a division by zero error.</li>
</ul>
</div><h2>Using GDB for Debugging</h2>
<div class='content'><ul>
<li><strong>Starting GDB</strong>: <code>gdb ./your_program</code></li>
<li><strong>Setting Breakpoints</strong>: <code>break main</code></li>
<li><strong>Running the Program</strong>: <code>run</code></li>
<li><strong>Inspecting Variables</strong>: <code>print variable_name</code></li>
<li><strong>Stepping Through Code</strong>: <code>step</code> or <code>next</code></li>
</ul>
</div><h1>Basics of Testing</h1>
<div class='content'></div><h2>What is Testing?</h2>
<div class='content'><ul>
<li>Testing is the process of executing a program with the intent of finding errors.</li>
<li>It ensures that the software behaves as expected.</li>
</ul>
</div><h2>Types of Testing</h2>
<div class='content'><ul>
<li><strong>Unit Testing</strong>: Testing individual units or components of a program.</li>
<li><strong>Integration Testing</strong>: Testing combined parts of an application to determine if they work together correctly.</li>
<li><strong>System Testing</strong>: Testing the complete system as a whole.</li>
</ul>
</div><h2>Writing Unit Tests in C</h2>
<div class='content'><ul>
<li>Use libraries like <strong>CUnit</strong> or <strong>Unity</strong> for writing unit tests.</li>
</ul>
</div><h2>Example of a Simple Unit Test</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGFkZChpbnQgYSwgaW50IGIpIHsKICAgIHJldHVybiBhICsgYjsKfQoKdm9pZCB0ZXN0X2FkZCgpIHsKICAgIGFzc2VydChhZGQoMiwgMykgPT0gNSk7CiAgICBhc3NlcnQoYWRkKC0xLCAxKSA9PSAwKTsKICAgIGFzc2VydChhZGQoLTEsIC0xKSA9PSAtMik7Cn0KCmludCBtYWluKCkgewogICAgdGVzdF9hZGQoKTsKICAgIHByaW50ZigiQWxsIHRlc3RzIHBhc3NlZCFcbiIpOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;assert.h&gt;

int add(int a, int b) {
    return a + b;
}

void test_add() {
    assert(add(2, 3) == 5);
    assert(add(-1, 1) == 0);
    assert(add(-1, -1) == -2);
}

int main() {
    test_add();
    printf(&quot;All tests passed!\n&quot;);
    return 0;
}</pre></div><div class='content'><ul>
<li>In this example, the <code>assert</code> function is used to check if the <code>add</code> function returns the expected results.</li>
</ul>
</div><h1>Advanced Debugging Techniques</h1>
<div class='content'></div><h2>Memory Debugging</h2>
<div class='content'><ul>
<li><strong>Valgrind</strong>: A tool for detecting memory leaks and memory errors.</li>
<li><strong>Usage</strong>: <code>valgrind ./your_program</code></li>
</ul>
</div><h2>Example of Memory Leak Detection</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGxpYi5oPgoKaW50IG1haW4oKSB7CiAgICBpbnQgKnB0ciA9IChpbnQgKiltYWxsb2Moc2l6ZW9mKGludCkgKiAxMCk7CiAgICAvLyBGb3Jnb3QgdG8gZnJlZSB0aGUgYWxsb2NhdGVkIG1lbW9yeQogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdlib.h&gt;

int main() {
    int *ptr = (int *)malloc(sizeof(int) * 10);
    // Forgot to free the allocated memory
    return 0;
}</pre></div><div class='content'><ul>
<li>Running this program through Valgrind will detect the memory leak.</li>
</ul>
</div><h2>Debugging Segmentation Faults</h2>
<div class='content'><ul>
<li><strong>Common Causes</strong>: Dereferencing null or uninitialized pointers, accessing memory out of bounds.</li>
<li><strong>Using GDB</strong>: Set breakpoints and step through the code to find the exact line causing the segmentation fault.</li>
</ul>
</div><h1>Advanced Testing Techniques</h1>
<div class='content'></div><h2>Test-Driven Development (TDD)</h2>
<div class='content'><ul>
<li>Write tests before writing the actual code.</li>
<li>Ensures that the code is always tested and works as expected.</li>
</ul>
</div><h2>Mocking and Stubbing</h2>
<div class='content'><ul>
<li><strong>Mocking</strong>: Creating a fake version of a function or module to test another part of the code.</li>
<li><strong>Stubbing</strong>: Replacing a function with a simplified version that returns fixed values.</li>
</ul>
</div><h2>Example of Mocking</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGFzc2VydC5oPgoKaW50IGdldF9kYXRhX2Zyb21fZGIoKSB7CiAgICAvLyBPcmlnaW5hbCBmdW5jdGlvbiB0aGF0IGZldGNoZXMgZGF0YSBmcm9tIGEgZGF0YWJhc2UKICAgIHJldHVybiAxMDA7Cn0KCi8vIE1vY2sgZnVuY3Rpb24KaW50IG1vY2tfZ2V0X2RhdGFfZnJvbV9kYigpIHsKICAgIHJldHVybiA0MjsgLy8gUmV0dXJuIGEgZml4ZWQgdmFsdWUgZm9yIHRlc3RpbmcKfQoKdm9pZCB0ZXN0X2Z1bmN0aW9uX3VzaW5nX2RiKCkgewogICAgaW50ICgqb3JpZ2luYWxfZnVuY3Rpb24pKCkgPSBnZXRfZGF0YV9mcm9tX2RiOwogICAgZ2V0X2RhdGFfZnJvbV9kYiA9IG1vY2tfZ2V0X2RhdGFfZnJvbV9kYjsgLy8gUmVwbGFjZSB3aXRoIG1vY2sKCiAgICBhc3NlcnQoZ2V0X2RhdGFfZnJvbV9kYigpID09IDQyKTsKCiAgICBnZXRfZGF0YV9mcm9tX2RiID0gb3JpZ2luYWxfZnVuY3Rpb247IC8vIFJlc3RvcmUgb3JpZ2luYWwgZnVuY3Rpb24KfQoKaW50IG1haW4oKSB7CiAgICB0ZXN0X2Z1bmN0aW9uX3VzaW5nX2RiKCk7CiAgICBwcmludGYoIkFsbCB0ZXN0cyBwYXNzZWQhXG4iKTsKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;assert.h&gt;

int get_data_from_db() {
    // Original function that fetches data from a database
    return 100;
}

// Mock function
int mock_get_data_from_db() {
    return 42; // Return a fixed value for testing
}

void test_function_using_db() {
    int (*original_function)() = get_data_from_db;
    get_data_from_db = mock_get_data_from_db; // Replace with mock

    assert(get_data_from_db() == 42);

    get_data_from_db = original_function; // Restore original function
}

int main() {
    test_function_using_db();
    printf(&quot;All tests passed!\n&quot;);
    return 0;
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Testing and debugging are essential skills for any programmer. By mastering these techniques, you can ensure that your C programs are reliable, efficient, and free of errors. Start with basic debugging using <code>printf</code> and GDB, then move on to writing unit tests and using advanced tools like Valgrind. Finally, explore advanced techniques like TDD and mocking to further enhance your testing and debugging capabilities.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Debugging</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-presentation'>Project Presentation &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
