<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging Techniques</title>

    <link rel="alternate" href="https://campusempresa.com/mod/c/11-02-debugging-techniques" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/c/11-02-debugging-techniques" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/c/11-02-debugging-techniques" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/c/11-02-debugging-techniques" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/c/11-02-debugging-techniques" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='11-01-code-readability-and-documentation' title="Code Readability and Documentation">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Debugging Techniques</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='11-03-performance-optimization' title="Performance Optimization">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Debugging is an essential skill for any programmer. It involves identifying, analyzing, and fixing bugs or errors in your code. This section will cover various debugging techniques and tools that can help you efficiently debug your C programs.</p>
</div><h1>1. Understanding Common Bugs</h1>
<div class='content'><p>Before diving into debugging techniques, it's important to understand the types of bugs you might encounter:</p>
<ul>
<li><strong>Syntax Errors</strong>: Mistakes in the code that violate the rules of the C language.</li>
<li><strong>Runtime Errors</strong>: Errors that occur while the program is running, such as division by zero or accessing invalid memory.</li>
<li><strong>Logical Errors</strong>: Errors where the program runs but produces incorrect results due to flaws in the logic.</li>
</ul>
</div><h1>2. Using Print Statements</h1>
<div class='content'><p>One of the simplest and most effective debugging techniques is using print statements to track the flow of your program and the values of variables.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gNTsKICAgIGludCBiID0gMDsKICAgIGludCByZXN1bHQ7CgogICAgcHJpbnRmKCJCZWZvcmUgZGl2aXNpb246IGEgPSAlZCwgYiA9ICVkXG4iLCBhLCBiKTsKCiAgICBpZiAoYiAhPSAwKSB7CiAgICAgICAgcmVzdWx0ID0gYSAvIGI7CiAgICAgICAgcHJpbnRmKCJSZXN1bHQgb2YgZGl2aXNpb246ICVkXG4iLCByZXN1bHQpOwogICAgfSBlbHNlIHsKICAgICAgICBwcmludGYoIkVycm9yOiBEaXZpc2lvbiBieSB6ZXJvXG4iKTsKICAgIH0KCiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 5;
    int b = 0;
    int result;

    printf(&quot;Before division: a = %d, b = %d\n&quot;, a, b);

    if (b != 0) {
        result = a / b;
        printf(&quot;Result of division: %d\n&quot;, result);
    } else {
        printf(&quot;Error: Division by zero\n&quot;);
    }

    return 0;
}</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ul>
<li>The <code>printf</code> statements help you understand the values of <code>a</code> and <code>b</code> before the division.</li>
<li>It also helps in identifying the division by zero error.</li>
</ul>
</div><h1>3. Using a Debugger</h1>
<div class='content'><p>A debugger is a powerful tool that allows you to execute your program step-by-step, inspect variables, and control the execution flow. The GNU Debugger (GDB) is a popular debugger for C programs.</p>
</div><h2>Basic GDB Commands:</h2>
<div class='content'><ul>
<li><strong>Compile with Debug Information</strong>: <code>gcc -g -o program program.c</code></li>
<li><strong>Start GDB</strong>: <code>gdb ./program</code></li>
<li><strong>Run the Program</strong>: <code>run</code></li>
<li><strong>Set a Breakpoint</strong>: <code>break main</code> (sets a breakpoint at the start of the <code>main</code> function)</li>
<li><strong>Step Through Code</strong>: <code>step</code> (executes the next line of code)</li>
<li><strong>Continue Execution</strong>: <code>continue</code> (continues running the program until the next breakpoint)</li>
<li><strong>Print Variable Values</strong>: <code>print variable_name</code></li>
<li><strong>List Source Code</strong>: <code>list</code></li>
</ul>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gNTsKICAgIGludCBiID0gMDsKICAgIGludCByZXN1bHQ7CgogICAgaWYgKGIgIT0gMCkgewogICAgICAgIHJlc3VsdCA9IGEgLyBiOwogICAgfSBlbHNlIHsKICAgICAgICBwcmludGYoIkVycm9yOiBEaXZpc2lvbiBieSB6ZXJvXG4iKTsKICAgIH0KCiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 5;
    int b = 0;
    int result;

    if (b != 0) {
        result = a / b;
    } else {
        printf(&quot;Error: Division by zero\n&quot;);
    }

    return 0;
}</pre></div><div class='content'></div><h2>Debugging with GDB:</h2>
<div class='content'><ol>
<li>Compile the program with debug information:
<pre><code class="language-sh">gcc -g -o program program.c
</code></pre>
</li>
<li>Start GDB:
<pre><code class="language-sh">gdb ./program
</code></pre>
</li>
<li>Set a breakpoint at the <code>main</code> function:
<pre><code class="language-sh">(gdb) break main
</code></pre>
</li>
<li>Run the program:
<pre><code class="language-sh">(gdb) run
</code></pre>
</li>
<li>Step through the code:
<pre><code class="language-sh">(gdb) step
</code></pre>
</li>
<li>Print the value of variables:
<pre><code class="language-sh">(gdb) print a
(gdb) print b
</code></pre>
</li>
</ol>
</div><h1>4. Analyzing Core Dumps</h1>
<div class='content'><p>A core dump is a file that captures the memory of a program at a specific point in time, usually when the program crashes. Analyzing core dumps can help you understand the state of the program at the time of the crash.</p>
</div><h2>Steps to Analyze Core Dumps:</h2>
<div class='content'><ol>
<li>Enable core dumps:
<pre><code class="language-sh">ulimit -c unlimited
</code></pre>
</li>
<li>Run your program. If it crashes, a core dump file (e.g., <code>core</code>) will be generated.</li>
<li>Use GDB to analyze the core dump:
<pre><code class="language-sh">gdb ./program core
</code></pre>
</li>
<li>Use GDB commands to inspect the state of the program.</li>
</ol>
</div><h1>5. Using Static Analysis Tools</h1>
<div class='content'><p>Static analysis tools analyze your code without executing it. They can help identify potential bugs, code smells, and security vulnerabilities.</p>
</div><h2>Popular Static Analysis Tools:</h2>
<div class='content'><ul>
<li><strong>Cppcheck</strong>: A static analysis tool for C/C++ code.
<pre><code class="language-sh">cppcheck program.c
</code></pre>
</li>
<li><strong>Clang Static Analyzer</strong>: A static analysis tool that is part of the Clang project.
<pre><code class="language-sh">clang --analyze program.c
</code></pre>
</li>
</ul>
</div><h1>6. Memory Debugging Tools</h1>
<div class='content'><p>Memory-related bugs, such as memory leaks and buffer overflows, can be challenging to debug. Specialized tools can help identify these issues.</p>
</div><h2>Valgrind:</h2>
<div class='content'><p>Valgrind is a popular tool for detecting memory leaks and memory management issues.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsZ3JpbmQgLi9wcm9ncmFt"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>valgrind ./program</pre></div><div class='content'></div><h2>AddressSanitizer:</h2>
<div class='content'><p>AddressSanitizer is a fast memory error detector.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2NjIC1mc2FuaXRpemU9YWRkcmVzcyAtbyBwcm9ncmFtIHByb2dyYW0uYwouL3Byb2dyYW0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcc -fsanitize=address -o program program.c
./program</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise:</h2>
<div class='content'><p>Write a C program that calculates the factorial of a number. Introduce a deliberate bug by using an incorrect condition in the loop. Use GDB to identify and fix the bug.</p>
</div><h2>Solution:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgZmFjdG9yaWFsKGludCBuKSB7CiAgICBpbnQgcmVzdWx0ID0gMTsKICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewogICAgICAgIHJlc3VsdCAqPSBpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfQoKaW50IG1haW4oKSB7CiAgICBpbnQgbnVtYmVyID0gNTsKICAgIHByaW50ZigiRmFjdG9yaWFsIG9mICVkIGlzICVkXG4iLCBudW1iZXIsIGZhY3RvcmlhbChudW1iZXIpKTsKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int factorial(int n) {
    int result = 1;
    for (int i = 1; i &lt;= n; i++) {
        result *= i;
    }
    return result;
}

int main() {
    int number = 5;
    printf(&quot;Factorial of %d is %d\n&quot;, number, factorial(number));
    return 0;
}</pre></div><div class='content'></div><h2>Deliberate Bug:</h2>
<div class='content'><p>Change the loop condition to <code>i &lt; n</code> instead of <code>i &lt;= n</code>.</p>
</div><h2>Debugging Steps:</h2>
<div class='content'><ol>
<li>Compile the program with debug information:
<pre><code class="language-sh">gcc -g -o factorial factorial.c
</code></pre>
</li>
<li>Start GDB:
<pre><code class="language-sh">gdb ./factorial
</code></pre>
</li>
<li>Set a breakpoint at the <code>factorial</code> function:
<pre><code class="language-sh">(gdb) break factorial
</code></pre>
</li>
<li>Run the program:
<pre><code class="language-sh">(gdb) run
</code></pre>
</li>
<li>Step through the code and inspect the loop condition:
<pre><code class="language-sh">(gdb) step
(gdb) print i
(gdb) print n
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Debugging is a critical skill for any programmer. By using print statements, debuggers, core dumps, static analysis tools, and memory debugging tools, you can efficiently identify and fix bugs in your C programs. Practice these techniques regularly to become proficient in debugging and improve the quality of your code.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='11-01-code-readability-and-documentation' title="Code Readability and Documentation">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='11-03-performance-optimization' title="Performance Optimization">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
