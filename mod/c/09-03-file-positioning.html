<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>File Positioning</title>

    <link rel="alternate" href="https://campusempresa.com/mod/c/09-03-file-positioning" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/c/09-03-file-positioning" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/c/09-03-file-positioning" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/c/09-03-file-positioning" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/c/09-03-file-positioning" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-reading-and-writing-files' title="Reading and Writing Files">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File Positioning</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-error-handling-in-file-operations' title="Error Handling in File Operations">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to manipulate the position of the file pointer in C. This is crucial for tasks such as reading from or writing to specific locations within a file. Understanding file positioning allows for more efficient file operations and is essential for handling large files or implementing complex file manipulation logic.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>File Pointer</strong>: A file pointer is an internal pointer that keeps track of the current position within a file.</li>
<li><strong>Functions for File Positioning</strong>:
<ul>
<li><code>fseek()</code></li>
<li><code>ftell()</code></li>
<li><code>rewind()</code></li>
</ul>
</li>
</ol>
</div><h1>Functions for File Positioning</h1>
<div class='content'></div><h2>fseek()</h2>
<div class='content'><p>The <code>fseek()</code> function is used to move the file pointer to a specific location within a file.</p>
<p><strong>Syntax</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IGZzZWVrKEZJTEUgKnN0cmVhbSwgbG9uZyBpbnQgb2Zmc2V0LCBpbnQgd2hlbmNlKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int fseek(FILE *stream, long int offset, int whence);</pre></div><div class='content'><ul>
<li><code>stream</code>: Pointer to the file object.</li>
<li><code>offset</code>: Number of bytes to move the file pointer.</li>
<li><code>whence</code>: Position from where offset is added. It can be:
<ul>
<li><code>SEEK_SET</code>: Beginning of the file.</li>
<li><code>SEEK_CUR</code>: Current position of the file pointer.</li>
<li><code>SEEK_END</code>: End of the file.</li>
</ul>
</li>
</ul>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIEZJTEUgKmZpbGUgPSBmb3BlbigiZXhhbXBsZS50eHQiLCAiciIpOwogICAgaWYgKGZpbGUgPT0gTlVMTCkgewogICAgICAgIHBlcnJvcigiRXJyb3Igb3BlbmluZyBmaWxlIik7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIC8vIE1vdmUgZmlsZSBwb2ludGVyIHRvIHRoZSAxMHRoIGJ5dGUgZnJvbSB0aGUgYmVnaW5uaW5nCiAgICBmc2VlayhmaWxlLCAxMCwgU0VFS19TRVQpOwoKICAgIC8vIFJlYWQgYW5kIHByaW50IHRoZSBjaGFyYWN0ZXIgYXQgdGhlIG5ldyBwb3NpdGlvbgogICAgY2hhciBjaCA9IGZnZXRjKGZpbGUpOwogICAgcHJpbnRmKCJDaGFyYWN0ZXIgYXQgcG9zaXRpb24gMTA6ICVjXG4iLCBjaCk7CgogICAgZmNsb3NlKGZpbGUpOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    FILE *file = fopen(&quot;example.txt&quot;, &quot;r&quot;);
    if (file == NULL) {
        perror(&quot;Error opening file&quot;);
        return -1;
    }

    // Move file pointer to the 10th byte from the beginning
    fseek(file, 10, SEEK_SET);

    // Read and print the character at the new position
    char ch = fgetc(file);
    printf(&quot;Character at position 10: %c\n&quot;, ch);

    fclose(file);
    return 0;
}</pre></div><div class='content'></div><h2>ftell()</h2>
<div class='content'><p>The <code>ftell()</code> function returns the current position of the file pointer.</p>
<p><strong>Syntax</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9uZyBpbnQgZnRlbGwoRklMRSAqc3RyZWFtKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>long int ftell(FILE *stream);</pre></div><div class='content'><ul>
<li><code>stream</code>: Pointer to the file object.</li>
</ul>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIEZJTEUgKmZpbGUgPSBmb3BlbigiZXhhbXBsZS50eHQiLCAiciIpOwogICAgaWYgKGZpbGUgPT0gTlVMTCkgewogICAgICAgIHBlcnJvcigiRXJyb3Igb3BlbmluZyBmaWxlIik7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIC8vIE1vdmUgZmlsZSBwb2ludGVyIHRvIHRoZSAxMHRoIGJ5dGUgZnJvbSB0aGUgYmVnaW5uaW5nCiAgICBmc2VlayhmaWxlLCAxMCwgU0VFS19TRVQpOwoKICAgIC8vIEdldCB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZmlsZSBwb2ludGVyCiAgICBsb25nIGludCBwb3NpdGlvbiA9IGZ0ZWxsKGZpbGUpOwogICAgcHJpbnRmKCJDdXJyZW50IHBvc2l0aW9uOiAlbGRcbiIsIHBvc2l0aW9uKTsKCiAgICBmY2xvc2UoZmlsZSk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    FILE *file = fopen(&quot;example.txt&quot;, &quot;r&quot;);
    if (file == NULL) {
        perror(&quot;Error opening file&quot;);
        return -1;
    }

    // Move file pointer to the 10th byte from the beginning
    fseek(file, 10, SEEK_SET);

    // Get the current position of the file pointer
    long int position = ftell(file);
    printf(&quot;Current position: %ld\n&quot;, position);

    fclose(file);
    return 0;
}</pre></div><div class='content'></div><h2>rewind()</h2>
<div class='content'><p>The <code>rewind()</code> function sets the file pointer to the beginning of the file.</p>
<p><strong>Syntax</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCByZXdpbmQoRklMRSAqc3RyZWFtKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void rewind(FILE *stream);</pre></div><div class='content'><ul>
<li><code>stream</code>: Pointer to the file object.</li>
</ul>
<p><strong>Example</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIEZJTEUgKmZpbGUgPSBmb3BlbigiZXhhbXBsZS50eHQiLCAiciIpOwogICAgaWYgKGZpbGUgPT0gTlVMTCkgewogICAgICAgIHBlcnJvcigiRXJyb3Igb3BlbmluZyBmaWxlIik7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIC8vIE1vdmUgZmlsZSBwb2ludGVyIHRvIHRoZSAxMHRoIGJ5dGUgZnJvbSB0aGUgYmVnaW5uaW5nCiAgICBmc2VlayhmaWxlLCAxMCwgU0VFS19TRVQpOwoKICAgIC8vIFJld2luZCB0aGUgZmlsZSBwb2ludGVyIHRvIHRoZSBiZWdpbm5pbmcKICAgIHJld2luZChmaWxlKTsKCiAgICAvLyBSZWFkIGFuZCBwcmludCB0aGUgY2hhcmFjdGVyIGF0IHRoZSBuZXcgcG9zaXRpb24KICAgIGNoYXIgY2ggPSBmZ2V0YyhmaWxlKTsKICAgIHByaW50ZigiQ2hhcmFjdGVyIGF0IHRoZSBiZWdpbm5pbmc6ICVjXG4iLCBjaCk7CgogICAgZmNsb3NlKGZpbGUpOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    FILE *file = fopen(&quot;example.txt&quot;, &quot;r&quot;);
    if (file == NULL) {
        perror(&quot;Error opening file&quot;);
        return -1;
    }

    // Move file pointer to the 10th byte from the beginning
    fseek(file, 10, SEEK_SET);

    // Rewind the file pointer to the beginning
    rewind(file);

    // Read and print the character at the new position
    char ch = fgetc(file);
    printf(&quot;Character at the beginning: %c\n&quot;, ch);

    fclose(file);
    return 0;
}</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Reading a Specific Line from a File</h2>
<div class='content'><p><strong>Task</strong>: Write a program that reads and prints the third line from a file named <code>data.txt</code>.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIEZJTEUgKmZpbGUgPSBmb3BlbigiZGF0YS50eHQiLCAiciIpOwogICAgaWYgKGZpbGUgPT0gTlVMTCkgewogICAgICAgIHBlcnJvcigiRXJyb3Igb3BlbmluZyBmaWxlIik7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIGNoYXIgYnVmZmVyWzI1Nl07CiAgICBpbnQgbGluZV9udW1iZXIgPSAxOwoKICAgIHdoaWxlIChmZ2V0cyhidWZmZXIsIHNpemVvZihidWZmZXIpLCBmaWxlKSkgewogICAgICAgIGlmIChsaW5lX251bWJlciA9PSAzKSB7CiAgICAgICAgICAgIHByaW50ZigiVGhpcmQgbGluZTogJXMiLCBidWZmZXIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgbGluZV9udW1iZXIrKzsKICAgIH0KCiAgICBmY2xvc2UoZmlsZSk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    FILE *file = fopen(&quot;data.txt&quot;, &quot;r&quot;);
    if (file == NULL) {
        perror(&quot;Error opening file&quot;);
        return -1;
    }

    char buffer[256];
    int line_number = 1;

    while (fgets(buffer, sizeof(buffer), file)) {
        if (line_number == 3) {
            printf(&quot;Third line: %s&quot;, buffer);
            break;
        }
        line_number++;
    }

    fclose(file);
    return 0;
}</pre></div><div class='content'></div><h2>Exercise 2: Appending Data at a Specific Position</h2>
<div class='content'><p><strong>Task</strong>: Write a program that appends the string &quot;INSERTED&quot; at the 5th byte of a file named <code>data.txt</code>.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCmludCBtYWluKCkgewogICAgRklMRSAqZmlsZSA9IGZvcGVuKCJkYXRhLnR4dCIsICJyKyIpOwogICAgaWYgKGZpbGUgPT0gTlVMTCkgewogICAgICAgIHBlcnJvcigiRXJyb3Igb3BlbmluZyBmaWxlIik7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIC8vIE1vdmUgZmlsZSBwb2ludGVyIHRvIHRoZSA1dGggYnl0ZSBmcm9tIHRoZSBiZWdpbm5pbmcKICAgIGZzZWVrKGZpbGUsIDUsIFNFRUtfU0VUKTsKCiAgICAvLyBJbnNlcnQgdGhlIHN0cmluZyAiSU5TRVJURUQiCiAgICBmcHV0cygiSU5TRVJURUQiLCBmaWxlKTsKCiAgICBmY2xvc2UoZmlsZSk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main() {
    FILE *file = fopen(&quot;data.txt&quot;, &quot;r+&quot;);
    if (file == NULL) {
        perror(&quot;Error opening file&quot;);
        return -1;
    }

    // Move file pointer to the 5th byte from the beginning
    fseek(file, 5, SEEK_SET);

    // Insert the string &quot;INSERTED&quot;
    fputs(&quot;INSERTED&quot;, file);

    fclose(file);
    return 0;
}</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Incorrect <code>whence</code> Value</strong>: Ensure you use the correct <code>whence</code> value (<code>SEEK_SET</code>, <code>SEEK_CUR</code>, <code>SEEK_END</code>) when using <code>fseek()</code>.</li>
<li><strong>Checking Return Values</strong>: Always check the return values of file operations to handle errors gracefully.</li>
<li><strong>Buffer Size</strong>: When reading lines with <code>fgets()</code>, ensure the buffer size is sufficient to hold the entire line.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, we covered the basics of file positioning in C, including how to use <code>fseek()</code>, <code>ftell()</code>, and <code>rewind()</code> functions. We also provided practical examples and exercises to reinforce the concepts. Understanding file positioning is essential for efficient file manipulation and is a valuable skill for any C programmer.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-02-reading-and-writing-files' title="Reading and Writing Files">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-04-error-handling-in-file-operations' title="Error Handling in File Operations">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
