<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function Objects in C++</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cplusplus/function-objects" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cplusplus/function-objects" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cplusplus/function-objects" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/cplusplus/function-objects" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/cplusplus/function-objects" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='algorithms'>&#x25C4;Algorithms</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Function Objects in C++</a>
	</div>
	<div class='col-4 text-end'>
					<a href='multithreading'>Multithreading &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Function objects, also known as functors, are objects that can be treated as though they are a function or function pointer. They are instances of classes that have the <code>operator()</code> defined. This allows them to be used in any context where a function pointer would be used, such as in algorithms or as callback functions.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Function Object (Functor)</strong>: An object that can be called as if it were a function.</li>
<li><strong><code>operator()</code></strong>: The function call operator that needs to be overloaded in the class to make it a function object.</li>
<li><strong>Stateful Functors</strong>: Functors that maintain state between calls.</li>
<li><strong>Stateless Functors</strong>: Functors that do not maintain state between calls.</li>
</ul>
</div><h1>Basic Example</h1>
<div class='content'><p>Let's start with a simple example to illustrate how function objects work.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgoKLy8gRGVmaW5lIGEgY2xhc3Mgd2l0aCBvcGVyYXRvcigpIG92ZXJsb2FkZWQKY2xhc3MgQWRkIHsKcHVibGljOgogICAgaW50IG9wZXJhdG9yKCkoaW50IGEsIGludCBiKSBjb25zdCB7CiAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgfQp9OwoKaW50IG1haW4oKSB7CiAgICBBZGQgYWRkOyAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIEFkZCBjbGFzcwogICAgaW50IHJlc3VsdCA9IGFkZCgyLCAzKTsgLy8gVXNlIHRoZSBpbnN0YW5jZSBhcyBhIGZ1bmN0aW9uCiAgICBzdGQ6OmNvdXQgPDwgIjIgKyAzID0gIiA8PCByZXN1bHQgPDwgc3RkOjplbmRsOyAvLyBPdXRwdXQ6IDIgKyAzID0gNQogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;

// Define a class with operator() overloaded
class Add {
public:
    int operator()(int a, int b) const {
        return a + b;
    }
};

int main() {
    Add add; // Create an instance of the Add class
    int result = add(2, 3); // Use the instance as a function
    std::cout &lt;&lt; &quot;2 + 3 = &quot; &lt;&lt; result &lt;&lt; std::endl; // Output: 2 + 3 = 5
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>Add</code> class has an overloaded <code>operator()</code> that takes two integers and returns their sum.</li>
<li>An instance of <code>Add</code> is created and used like a function to add two numbers.</li>
</ul>
</div><h1>Stateful Functors</h1>
<div class='content'><p>Stateful functors can maintain state between calls. This can be useful for accumulating values or maintaining a count.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgoKLy8gRGVmaW5lIGEgY2xhc3Mgd2l0aCBhIHN0YXRlCmNsYXNzIENvdW50ZXIgewpwcml2YXRlOgogICAgaW50IGNvdW50OwpwdWJsaWM6CiAgICBDb3VudGVyKCkgOiBjb3VudCgwKSB7fQogICAgaW50IG9wZXJhdG9yKCkoKSB7CiAgICAgICAgcmV0dXJuICsrY291bnQ7CiAgICB9Cn07CgppbnQgbWFpbigpIHsKICAgIENvdW50ZXIgY291bnRlcjsKICAgIHN0ZDo6Y291dCA8PCBjb3VudGVyKCkgPDwgc3RkOjplbmRsOyAvLyBPdXRwdXQ6IDEKICAgIHN0ZDo6Y291dCA8PCBjb3VudGVyKCkgPDwgc3RkOjplbmRsOyAvLyBPdXRwdXQ6IDIKICAgIHN0ZDo6Y291dCA8PCBjb3VudGVyKCkgPDwgc3RkOjplbmRsOyAvLyBPdXRwdXQ6IDMKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;

// Define a class with a state
class Counter {
private:
    int count;
public:
    Counter() : count(0) {}
    int operator()() {
        return ++count;
    }
};

int main() {
    Counter counter;
    std::cout &lt;&lt; counter() &lt;&lt; std::endl; // Output: 1
    std::cout &lt;&lt; counter() &lt;&lt; std::endl; // Output: 2
    std::cout &lt;&lt; counter() &lt;&lt; std::endl; // Output: 3
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>Counter</code> class maintains a state (<code>count</code>) that is incremented each time the functor is called.</li>
</ul>
</div><h1>Using Functors with Standard Algorithms</h1>
<div class='content'><p>Functors are often used with standard algorithms in the C++ Standard Library.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8YWxnb3JpdGhtPgoKLy8gRGVmaW5lIGEgZnVuY3RvciBmb3IgY29tcGFyaXNvbgpjbGFzcyBJc0V2ZW4gewpwdWJsaWM6CiAgICBib29sIG9wZXJhdG9yKCkoaW50IG4pIGNvbnN0IHsKICAgICAgICByZXR1cm4gbiAlIDIgPT0gMDsKICAgIH0KfTsKCmludCBtYWluKCkgewogICAgc3RkOjp2ZWN0b3I8aW50PiBudW1iZXJzID0gezEsIDIsIDMsIDQsIDUsIDZ9OwogICAgYXV0byBpdCA9IHN0ZDo6ZmluZF9pZihudW1iZXJzLmJlZ2luKCksIG51bWJlcnMuZW5kKCksIElzRXZlbigpKTsKICAgIAogICAgaWYgKGl0ICE9IG51bWJlcnMuZW5kKCkpIHsKICAgICAgICBzdGQ6OmNvdXQgPDwgIkZpcnN0IGV2ZW4gbnVtYmVyOiAiIDw8ICppdCA8PCBzdGQ6OmVuZGw7IC8vIE91dHB1dDogRmlyc3QgZXZlbiBudW1iZXI6IDIKICAgIH0gZWxzZSB7CiAgICAgICAgc3RkOjpjb3V0IDw8ICJObyBldmVuIG51bWJlciBmb3VuZC4iIDw8IHN0ZDo6ZW5kbDsKICAgIH0KICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

// Define a functor for comparison
class IsEven {
public:
    bool operator()(int n) const {
        return n % 2 == 0;
    }
};

int main() {
    std::vector&lt;int&gt; numbers = {1, 2, 3, 4, 5, 6};
    auto it = std::find_if(numbers.begin(), numbers.end(), IsEven());
    
    if (it != numbers.end()) {
        std::cout &lt;&lt; &quot;First even number: &quot; &lt;&lt; *it &lt;&lt; std::endl; // Output: First even number: 2
    } else {
        std::cout &lt;&lt; &quot;No even number found.&quot; &lt;&lt; std::endl;
    }
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>IsEven</code> functor is used with the <code>std::find_if</code> algorithm to find the first even number in a vector.</li>
</ul>
</div><h1>Advanced Usage: Parameterized Functors</h1>
<div class='content'><p>Functors can also be parameterized to make them more flexible.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgoKLy8gRGVmaW5lIGEgcGFyYW1ldGVyaXplZCBmdW5jdG9yCmNsYXNzIE11bHRpcGx5IHsKcHJpdmF0ZToKICAgIGludCBmYWN0b3I7CnB1YmxpYzoKICAgIE11bHRpcGx5KGludCBmKSA6IGZhY3RvcihmKSB7fQogICAgaW50IG9wZXJhdG9yKCkoaW50IG4pIGNvbnN0IHsKICAgICAgICByZXR1cm4gbiAqIGZhY3RvcjsKICAgIH0KfTsKCmludCBtYWluKCkgewogICAgTXVsdGlwbHkgbXVsdGlwbHlCeTIoMik7CiAgICBNdWx0aXBseSBtdWx0aXBseUJ5MygzKTsKICAgIAogICAgc3RkOjpjb3V0IDw8ICI1ICogMiA9ICIgPDwgbXVsdGlwbHlCeTIoNSkgPDwgc3RkOjplbmRsOyAvLyBPdXRwdXQ6IDUgKiAyID0gMTAKICAgIHN0ZDo6Y291dCA8PCAiNSAqIDMgPSAiIDw8IG11bHRpcGx5QnkzKDUpIDw8IHN0ZDo6ZW5kbDsgLy8gT3V0cHV0OiA1ICogMyA9IDE1CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;

// Define a parameterized functor
class Multiply {
private:
    int factor;
public:
    Multiply(int f) : factor(f) {}
    int operator()(int n) const {
        return n * factor;
    }
};

int main() {
    Multiply multiplyBy2(2);
    Multiply multiplyBy3(3);
    
    std::cout &lt;&lt; &quot;5 * 2 = &quot; &lt;&lt; multiplyBy2(5) &lt;&lt; std::endl; // Output: 5 * 2 = 10
    std::cout &lt;&lt; &quot;5 * 3 = &quot; &lt;&lt; multiplyBy3(5) &lt;&lt; std::endl; // Output: 5 * 3 = 15
    return 0;
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>Multiply</code> functor is parameterized with a factor, allowing different instances to multiply by different values.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Function objects in C++ provide a powerful and flexible way to encapsulate functions and state. They can be used in place of function pointers and are particularly useful with standard algorithms. By overloading the <code>operator()</code>, you can create objects that behave like functions, with the added benefit of maintaining state if needed. Understanding and utilizing functors can greatly enhance your ability to write clean and efficient C++ code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='algorithms'>&#x25C4;Algorithms</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Function Objects in C++</a>
	</div>
	<div class='col-4 text-end'>
					<a href='multithreading'>Multithreading &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
