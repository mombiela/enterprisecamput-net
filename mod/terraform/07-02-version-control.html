<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Version Control</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/07-02-version-control" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/07-02-version-control" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/07-02-version-control" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/terraform/07-02-version-control" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/terraform/07-02-version-control" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-code-organization' title="Code Organization">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Version Control</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-testing-terraform-code' title="Testing Terraform Code">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Version control is a critical aspect of managing your Terraform configurations. It allows you to track changes, collaborate with team members, and maintain a history of your infrastructure code. In this section, we will cover the basics of version control, how to use Git with Terraform, and best practices for managing your Terraform code in a version control system.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Version Control Systems (VCS):</strong> Tools that help you manage changes to your codebase over time. Examples include Git, Subversion, and Mercurial.</li>
<li><strong>Repositories:</strong> Storage locations for your code, typically hosted on platforms like GitHub, GitLab, or Bitbucket.</li>
<li><strong>Commits:</strong> Snapshots of your code at a specific point in time.</li>
<li><strong>Branches:</strong> Parallel versions of your codebase, allowing you to work on different features or fixes simultaneously.</li>
<li><strong>Merging:</strong> Combining changes from different branches into a single branch.</li>
</ol>
</div><h1>Using Git with Terraform</h1>
<div class='content'></div><h2>Setting Up a Git Repository</h2>
<div class='content'><ol>
<li>
<p><strong>Initialize a Git Repository:</strong></p>
<pre><code class="language-bash">git init
</code></pre>
<p>This command initializes a new Git repository in your current directory.</p>
</li>
<li>
<p><strong>Add Files to the Repository:</strong></p>
<pre><code class="language-bash">git add .
</code></pre>
<p>This command stages all files in the current directory for the next commit.</p>
</li>
<li>
<p><strong>Commit Changes:</strong></p>
<pre><code class="language-bash">git commit -m &quot;Initial commit&quot;
</code></pre>
<p>This command creates a new commit with a message describing the changes.</p>
</li>
</ol>
</div><h2>Example: Basic Git Workflow</h2>
<div class='content'><ol>
<li>
<p><strong>Clone a Repository:</strong></p>
<pre><code class="language-bash">git clone https://github.com/yourusername/your-repo.git
</code></pre>
<p>This command clones an existing repository to your local machine.</p>
</li>
<li>
<p><strong>Create a New Branch:</strong></p>
<pre><code class="language-bash">git checkout -b feature-branch
</code></pre>
<p>This command creates a new branch named <code>feature-branch</code> and switches to it.</p>
</li>
<li>
<p><strong>Make Changes and Commit:</strong></p>
<pre><code class="language-bash">git add .
git commit -m &quot;Added new Terraform configuration&quot;
</code></pre>
</li>
<li>
<p><strong>Push Changes to Remote Repository:</strong></p>
<pre><code class="language-bash">git push origin feature-branch
</code></pre>
</li>
<li>
<p><strong>Merge Changes:</strong></p>
<pre><code class="language-bash">git checkout main
git merge feature-branch
</code></pre>
</li>
</ol>
</div><h2>Best Practices for Version Control with Terraform</h2>
<div class='content'><ol>
<li>
<p><strong>Use a .gitignore File:</strong>
Create a <code>.gitignore</code> file to exclude files and directories that should not be tracked by Git. For Terraform, this typically includes:</p>
<pre><code class="language-plaintext">.terraform/
*.tfstate
*.tfstate.*
crash.log
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">echo &quot;.terraform/&quot; &gt;&gt; .gitignore
echo &quot;*.tfstate&quot; &gt;&gt; .gitignore
echo &quot;*.tfstate.*&quot; &gt;&gt; .gitignore
echo &quot;crash.log&quot; &gt;&gt; .gitignore
</code></pre>
</li>
<li>
<p><strong>Commit Small, Atomic Changes:</strong>
Make small, incremental changes and commit them frequently. This makes it easier to track changes and identify issues.</p>
</li>
<li>
<p><strong>Use Descriptive Commit Messages:</strong>
Write clear and concise commit messages that describe the changes made. This helps others understand the history of the project.</p>
</li>
<li>
<p><strong>Branching Strategy:</strong>
Use a branching strategy that suits your workflow. Common strategies include Git Flow, GitHub Flow, and trunk-based development.</p>
</li>
<li>
<p><strong>Code Reviews:</strong>
Implement a code review process to ensure that changes are reviewed by team members before being merged into the main branch.</p>
</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Setting Up Version Control for a Terraform Project</h2>
<div class='content'><ol>
<li>
<p><strong>Initialize a Git Repository:</strong></p>
<ul>
<li>Navigate to your Terraform project directory.</li>
<li>Initialize a Git repository using <code>git init</code>.</li>
</ul>
</li>
<li>
<p><strong>Create a .gitignore File:</strong></p>
<ul>
<li>Create a <code>.gitignore</code> file and add the following lines:
<pre><code class="language-plaintext">.terraform/
*.tfstate
*.tfstate.*
crash.log
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Make an Initial Commit:</strong></p>
<ul>
<li>Stage all files using <code>git add .</code>.</li>
<li>Commit the changes with a message using <code>git commit -m &quot;Initial commit&quot;</code>.</li>
</ul>
</li>
<li>
<p><strong>Create a New Branch:</strong></p>
<ul>
<li>Create a new branch named <code>feature-branch</code> using <code>git checkout -b feature-branch</code>.</li>
</ul>
</li>
<li>
<p><strong>Make Changes and Commit:</strong></p>
<ul>
<li>Make some changes to your Terraform configuration.</li>
<li>Stage and commit the changes with a descriptive message.</li>
</ul>
</li>
<li>
<p><strong>Push Changes to Remote Repository:</strong></p>
<ul>
<li>Push the changes to a remote repository (e.g., GitHub) using <code>git push origin feature-branch</code>.</li>
</ul>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdGVwIDE6IEluaXRpYWxpemUgYSBHaXQgUmVwb3NpdG9yeQpnaXQgaW5pdAoKIyBTdGVwIDI6IENyZWF0ZSBhIC5naXRpZ25vcmUgRmlsZQplY2hvICIudGVycmFmb3JtLyIgPj4gLmdpdGlnbm9yZQplY2hvICIqLnRmc3RhdGUiID4+IC5naXRpZ25vcmUKZWNobyAiKi50ZnN0YXRlLioiID4+IC5naXRpZ25vcmUKZWNobyAiY3Jhc2gubG9nIiA+PiAuZ2l0aWdub3JlCgojIFN0ZXAgMzogTWFrZSBhbiBJbml0aWFsIENvbW1pdApnaXQgYWRkIC4KZ2l0IGNvbW1pdCAtbSAiSW5pdGlhbCBjb21taXQiCgojIFN0ZXAgNDogQ3JlYXRlIGEgTmV3IEJyYW5jaApnaXQgY2hlY2tvdXQgLWIgZmVhdHVyZS1icmFuY2gKCiMgU3RlcCA1OiBNYWtlIENoYW5nZXMgYW5kIENvbW1pdAojIChBc3N1bWUgY2hhbmdlcyBhcmUgbWFkZSB0byB0aGUgVGVycmFmb3JtIGNvbmZpZ3VyYXRpb24pCmdpdCBhZGQgLgpnaXQgY29tbWl0IC1tICJBZGRlZCBuZXcgVGVycmFmb3JtIGNvbmZpZ3VyYXRpb24iCgojIFN0ZXAgNjogUHVzaCBDaGFuZ2VzIHRvIFJlbW90ZSBSZXBvc2l0b3J5CmdpdCBwdXNoIG9yaWdpbiBmZWF0dXJlLWJyYW5jaA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Step 1: Initialize a Git Repository
git init

# Step 2: Create a .gitignore File
echo &quot;.terraform/&quot; &gt;&gt; .gitignore
echo &quot;*.tfstate&quot; &gt;&gt; .gitignore
echo &quot;*.tfstate.*&quot; &gt;&gt; .gitignore
echo &quot;crash.log&quot; &gt;&gt; .gitignore

# Step 3: Make an Initial Commit
git add .
git commit -m &quot;Initial commit&quot;

# Step 4: Create a New Branch
git checkout -b feature-branch

# Step 5: Make Changes and Commit
# (Assume changes are made to the Terraform configuration)
git add .
git commit -m &quot;Added new Terraform configuration&quot;

# Step 6: Push Changes to Remote Repository
git push origin feature-branch</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of version control and how to use Git with Terraform. We discussed key concepts, provided a basic Git workflow, and outlined best practices for managing your Terraform code in a version control system. By following these practices, you can ensure that your infrastructure code is well-organized, maintainable, and easy to collaborate on. In the next section, we will explore testing Terraform code to ensure its correctness and reliability.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-code-organization' title="Code Organization">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-testing-terraform-code' title="Testing Terraform Code">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
