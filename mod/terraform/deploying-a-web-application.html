<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deploying a Web Application</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/deploying-a-web-application" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/deploying-a-web-application" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/deploying-a-web-application" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/terraform/deploying-a-web-application" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/terraform/deploying-a-web-application" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='terraform-enterprise-features'>&#x25C4;Terraform Enterprise Features</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Deploying a Web Application</a>
	</div>
	<div class='col-4 text-end'>
					<a href='managing-aws-infrastructure'>Managing AWS Infrastructure &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Deploying a web application involves several steps, from provisioning infrastructure to configuring services and deploying code. Terraform is a powerful tool that allows you to manage your infrastructure as code, making deployments repeatable and manageable. In this topic, we will cover how to deploy a web application using Terraform, starting from the basics and moving towards more advanced concepts.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Infrastructure as Code (IaC)</strong>: Managing and provisioning computing infrastructure through machine-readable configuration files.</li>
<li><strong>Terraform Providers</strong>: Plugins that allow Terraform to interact with cloud providers, SaaS providers, and other APIs.</li>
<li><strong>Terraform State</strong>: A file that keeps track of the resources managed by Terraform.</li>
<li><strong>Modules</strong>: Reusable configurations that can be shared and versioned.</li>
</ul>
</div><h1>Setting Up Terraform</h1>
<div class='content'><p>Before deploying a web application, you need to set up Terraform on your local machine.</p>
<ol>
<li>
<p><strong>Install Terraform</strong>:</p>
<ul>
<li>Download Terraform from the <a href="https://www.terraform.io/downloads.html">official website</a>.</li>
<li>Follow the installation instructions for your operating system.</li>
</ul>
</li>
<li>
<p><strong>Configure a Provider</strong>:</p>
<ul>
<li>Create a new directory for your Terraform configuration files.</li>
<li>Create a file named <code>main.tf</code> and configure your cloud provider (e.g., AWS, Azure, GCP).</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtYWluLnRmCnByb3ZpZGVyICJhd3MiIHsKICByZWdpb24gPSAidXMtd2VzdC0yIgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># main.tf
provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}</pre></div><div class='content'></div><h1>Provisioning Infrastructure</h1>
<div class='content'><p>To deploy a web application, you need to provision the necessary infrastructure, such as servers, databases, and networking components.</p>
<ol>
<li><strong>Define Resources</strong>:
<ul>
<li>Use Terraform to define the resources required for your web application.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtYWluLnRmCnJlc291cmNlICJhd3NfaW5zdGFuY2UiICJ3ZWIiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgoKICB0YWdzID0gewogICAgTmFtZSA9ICJXZWJTZXJ2ZXIiCiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># main.tf
resource &quot;aws_instance&quot; &quot;web&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;

  tags = {
    Name = &quot;WebServer&quot;
  }
}</pre></div><div class='content'><ol start="2">
<li><strong>Initialize and Apply</strong>:
<ul>
<li>Initialize Terraform to download the necessary providers and modules.</li>
<li>Apply the configuration to create the resources.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGluaXQKdGVycmFmb3JtIGFwcGx5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform init
terraform apply</pre></div><div class='content'></div><h1>Configuring Services</h1>
<div class='content'><p>Once the infrastructure is provisioned, you need to configure the services required for your web application.</p>
<ol>
<li><strong>Security Groups</strong>:
<ul>
<li>Define security groups to control inbound and outbound traffic.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtYWluLnRmCnJlc291cmNlICJhd3Nfc2VjdXJpdHlfZ3JvdXAiICJ3ZWJfc2ciIHsKICBuYW1lX3ByZWZpeCA9ICJ3ZWItc2ctIgoKICBpbmdyZXNzIHsKICAgIGZyb21fcG9ydCAgID0gODAKICAgIHRvX3BvcnQgICAgID0gODAKICAgIHByb3RvY29sICAgID0gInRjcCIKICAgIGNpZHJfYmxvY2tzID0gWyIwLjAuMC4wLzAiXQogIH0KCiAgZWdyZXNzIHsKICAgIGZyb21fcG9ydCAgID0gMAogICAgdG9fcG9ydCAgICAgPSAwCiAgICBwcm90b2NvbCAgICA9ICItMSIKICAgIGNpZHJfYmxvY2tzID0gWyIwLjAuMC4wLzAiXQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># main.tf
resource &quot;aws_security_group&quot; &quot;web_sg&quot; {
  name_prefix = &quot;web-sg-&quot;

  ingress {
    from_port   = 80
    to_port     = 80
    protocol    = &quot;tcp&quot;
    cidr_blocks = [&quot;0.0.0.0/0&quot;]
  }

  egress {
    from_port   = 0
    to_port     = 0
    protocol    = &quot;-1&quot;
    cidr_blocks = [&quot;0.0.0.0/0&quot;]
  }
}</pre></div><div class='content'><ol start="2">
<li><strong>Database Configuration</strong>:
<ul>
<li>Provision and configure a database for your web application.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtYWluLnRmCnJlc291cmNlICJhd3NfZGJfaW5zdGFuY2UiICJkZWZhdWx0IiB7CiAgYWxsb2NhdGVkX3N0b3JhZ2UgICAgPSAyMAogIGVuZ2luZSAgICAgICAgICAgICAgID0gIm15c3FsIgogIGVuZ2luZV92ZXJzaW9uICAgICAgID0gIjUuNyIKICBpbnN0YW5jZV9jbGFzcyAgICAgICA9ICJkYi50Mi5taWNybyIKICBuYW1lICAgICAgICAgICAgICAgICA9ICJteWRiIgogIHVzZXJuYW1lICAgICAgICAgICAgID0gImZvbyIKICBwYXNzd29yZCAgICAgICAgICAgICA9ICJiYXIiCiAgcGFyYW1ldGVyX2dyb3VwX25hbWUgPSAiZGVmYXVsdC5teXNxbDUuNyIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># main.tf
resource &quot;aws_db_instance&quot; &quot;default&quot; {
  allocated_storage    = 20
  engine               = &quot;mysql&quot;
  engine_version       = &quot;5.7&quot;
  instance_class       = &quot;db.t2.micro&quot;
  name                 = &quot;mydb&quot;
  username             = &quot;foo&quot;
  password             = &quot;bar&quot;
  parameter_group_name = &quot;default.mysql5.7&quot;
}</pre></div><div class='content'></div><h1>Deploying the Application Code</h1>
<div class='content'><p>After setting up the infrastructure and configuring services, the next step is to deploy your application code.</p>
<ol>
<li><strong>Provisioning a Web Server</strong>:
<ul>
<li>Use a provisioner to deploy your application code to the web server.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtYWluLnRmCnJlc291cmNlICJhd3NfaW5zdGFuY2UiICJ3ZWIiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgoKICBwcm92aXNpb25lciAiZmlsZSIgewogICAgc291cmNlICAgICAgPSAiYXBwLnppcCIKICAgIGRlc3RpbmF0aW9uID0gIi90bXAvYXBwLnppcCIKICB9CgogIHByb3Zpc2lvbmVyICJyZW1vdGUtZXhlYyIgewogICAgaW5saW5lID0gWwogICAgICAidW56aXAgL3RtcC9hcHAuemlwIC1kIC92YXIvd3d3L2h0bWwiLAogICAgICAic3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBhcGFjaGUyIgogICAgXQogIH0KCiAgdGFncyA9IHsKICAgIE5hbWUgPSAiV2ViU2VydmVyIgogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># main.tf
resource &quot;aws_instance&quot; &quot;web&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;

  provisioner &quot;file&quot; {
    source      = &quot;app.zip&quot;
    destination = &quot;/tmp/app.zip&quot;
  }

  provisioner &quot;remote-exec&quot; {
    inline = [
      &quot;unzip /tmp/app.zip -d /var/www/html&quot;,
      &quot;sudo systemctl restart apache2&quot;
    ]
  }

  tags = {
    Name = &quot;WebServer&quot;
  }
}</pre></div><div class='content'></div><h1>Advanced Concepts</h1>
<div class='content'><p>For more complex deployments, you can use advanced Terraform features such as modules, workspaces, and remote state.</p>
<ol>
<li><strong>Modules</strong>:
<ul>
<li>Create reusable modules to organize your Terraform configuration.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb2R1bGVzL3dlYl9zZXJ2ZXIvbWFpbi50ZgpyZXNvdXJjZSAiYXdzX2luc3RhbmNlIiAid2ViIiB7CiAgYW1pICAgICAgICAgICA9IHZhci5hbWkKICBpbnN0YW5jZV90eXBlID0gdmFyLmluc3RhbmNlX3R5cGUKCiAgdGFncyA9IHsKICAgIE5hbWUgPSB2YXIubmFtZQogIH0KfQoKIyBtYWluLnRmCm1vZHVsZSAid2ViX3NlcnZlciIgewogIHNvdXJjZSAgICAgICAgPSAiLi9tb2R1bGVzL3dlYl9zZXJ2ZXIiCiAgYW1pICAgICAgICAgICA9ICJhbWktMGM1NWIxNTljYmZhZmUxZjAiCiAgaW5zdGFuY2VfdHlwZSA9ICJ0Mi5taWNybyIKICBuYW1lICAgICAgICAgID0gIldlYlNlcnZlciIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># modules/web_server/main.tf
resource &quot;aws_instance&quot; &quot;web&quot; {
  ami           = var.ami
  instance_type = var.instance_type

  tags = {
    Name = var.name
  }
}

# main.tf
module &quot;web_server&quot; {
  source        = &quot;./modules/web_server&quot;
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
  name          = &quot;WebServer&quot;
}</pre></div><div class='content'><ol start="2">
<li><strong>Workspaces</strong>:
<ul>
<li>Use workspaces to manage different environments (e.g., development, staging, production).</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBuZXcgZGV2ZWxvcG1lbnQKdGVycmFmb3JtIHdvcmtzcGFjZSBzZWxlY3QgZGV2ZWxvcG1lbnQKdGVycmFmb3JtIGFwcGx5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace new development
terraform workspace select development
terraform apply</pre></div><div class='content'><ol start="3">
<li><strong>Remote State</strong>:
<ul>
<li>Store the Terraform state file remotely to enable collaboration and state locking.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtYWluLnRmCnRlcnJhZm9ybSB7CiAgYmFja2VuZCAiczMiIHsKICAgIGJ1Y2tldCA9ICJteS10ZXJyYWZvcm0tc3RhdGUiCiAgICBrZXkgICAgPSAic3RhdGUvdGVycmFmb3JtLnRmc3RhdGUiCiAgICByZWdpb24gPSAidXMtd2VzdC0yIgogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># main.tf
terraform {
  backend &quot;s3&quot; {
    bucket = &quot;my-terraform-state&quot;
    key    = &quot;state/terraform.tfstate&quot;
    region = &quot;us-west-2&quot;
  }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Deploying a web application using Terraform involves several steps, from setting up the infrastructure to configuring services and deploying code. By following the structured approach outlined in this topic, you can manage your deployments effectively and take advantage of Terraform's powerful features. As you become more comfortable with Terraform, you can explore advanced concepts such as modules, workspaces, and remote state to further optimize your deployment process.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='terraform-enterprise-features'>&#x25C4;Terraform Enterprise Features</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Deploying a Web Application</a>
	</div>
	<div class='col-4 text-end'>
					<a href='managing-aws-infrastructure'>Managing AWS Infrastructure &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
