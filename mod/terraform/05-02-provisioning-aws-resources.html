<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Provisioning AWS Resources</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/05-02-provisioning-aws-resources" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/05-02-provisioning-aws-resources" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/05-02-provisioning-aws-resources" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/terraform/05-02-provisioning-aws-resources" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/terraform/05-02-provisioning-aws-resources" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Building today's and tomorrow's society</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Languages</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Tools</a>
				 					<a href="/categ/foundations">Foundations</a>
				 					<a href="/categ/soft-skills">Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-provisioning-basics' title="Provisioning Basics">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Provisioning AWS Resources</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-provisioning-azure-resources' title="Provisioning Azure Resources">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to use Terraform to provision resources on Amazon Web Services (AWS). By the end of this module, you will be able to create, manage, and destroy AWS resources using Terraform.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>AWS Provider</strong>: The AWS provider is used to interact with the many resources supported by AWS.</li>
<li><strong>Resource Blocks</strong>: Define the AWS resources you want to create.</li>
<li><strong>Variables</strong>: Use variables to make your configurations more flexible and reusable.</li>
<li><strong>Outputs</strong>: Capture and display information about the resources you create.</li>
</ol>
</div><h1><p>Prerequisites</p>
</h1>
<div class='content'><p>Before you begin, ensure you have the following:</p>
<ul>
<li>An AWS account.</li>
<li>AWS CLI installed and configured with your credentials.</li>
<li>Terraform installed on your machine.</li>
</ul>
</div><h1><p>Step-by-Step Guide</p>
</h1>
<div class='content'></div><h2><ol>
<li>Setting Up the AWS Provider</li>
</ol>
</h2>
<div class='content'><p>First, you need to configure the AWS provider in your Terraform configuration file. Create a file named <code>main.tf</code> and add the following code:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImF3cyIgewogIHJlZ2lvbiA9ICJ1cy13ZXN0LTIiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}</pre></div><div class='content'><p>This code block specifies that Terraform should use the AWS provider and sets the region to <code>us-west-2</code>.</p>
</div><h2><ol start="2">
<li>Creating an S3 Bucket</li>
</ol>
</h2>
<div class='content'><p>Let's start by creating an S3 bucket. Add the following resource block to your <code>main.tf</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlIiB7CiAgYnVja2V0ID0gIm15LXVuaXF1ZS1idWNrZXQtbmFtZSIKICBhY2wgICAgPSAicHJpdmF0ZSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example&quot; {
  bucket = &quot;my-unique-bucket-name&quot;
  acl    = &quot;private&quot;
}</pre></div><div class='content'><p>This code block defines an S3 bucket resource with a unique name and sets its access control list (ACL) to private.</p>
</div><h2><ol start="3">
<li>Using Variables</li>
</ol>
</h2>
<div class='content'><p>To make your configuration more flexible, you can use variables. Create a file named <code>variables.tf</code> and add the following code:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyaWFibGUgImJ1Y2tldF9uYW1lIiB7CiAgZGVzY3JpcHRpb24gPSAiVGhlIG5hbWUgb2YgdGhlIFMzIGJ1Y2tldCIKICB0eXBlICAgICAgICA9IHN0cmluZwogIGRlZmF1bHQgICAgID0gIm15LXVuaXF1ZS1idWNrZXQtbmFtZSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>variable &quot;bucket_name&quot; {
  description = &quot;The name of the S3 bucket&quot;
  type        = string
  default     = &quot;my-unique-bucket-name&quot;
}</pre></div><div class='content'><p>Now, update your <code>main.tf</code> file to use this variable:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlIiB7CiAgYnVja2V0ID0gdmFyLmJ1Y2tldF9uYW1lCiAgYWNsICAgID0gInByaXZhdGUiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example&quot; {
  bucket = var.bucket_name
  acl    = &quot;private&quot;
}</pre></div><div class='content'></div><h2><ol start="4">
<li>Adding Outputs</li>
</ol>
</h2>
<div class='content'><p>To capture and display information about the resources you create, use outputs. Create a file named <code>outputs.tf</code> and add the following code:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3V0cHV0ICJidWNrZXRfYXJuIiB7CiAgZGVzY3JpcHRpb24gPSAiVGhlIEFSTiBvZiB0aGUgUzMgYnVja2V0IgogIHZhbHVlICAgICAgID0gYXdzX3MzX2J1Y2tldC5leGFtcGxlLmFybgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>output &quot;bucket_arn&quot; {
  description = &quot;The ARN of the S3 bucket&quot;
  value       = aws_s3_bucket.example.arn
}</pre></div><div class='content'></div><h2><ol start="5">
<li>Initializing and Applying the Configuration</li>
</ol>
</h2>
<div class='content'><p>Run the following commands to initialize and apply your Terraform configuration:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGluaXQKdGVycmFmb3JtIGFwcGx5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform init
terraform apply</pre></div><div class='content'><p>Terraform will prompt you to confirm the creation of the resources. Type <code>yes</code> to proceed.</p>
</div><h2><ol start="6">
<li>Verifying the Resources</li>
</ol>
</h2>
<div class='content'><p>After the apply command completes, you can verify that the S3 bucket was created by checking the AWS Management Console or using the AWS CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIHMzIGxz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws s3 ls</pre></div><div class='content'></div><h2><ol start="7">
<li>Destroying the Resources</li>
</ol>
</h2>
<div class='content'><p>To clean up and remove the resources you created, run the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGRlc3Ryb3k="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform destroy</pre></div><div class='content'><p>Terraform will prompt you to confirm the destruction of the resources. Type <code>yes</code> to proceed.</p>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create an EC2 Instance</p>
</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Create an EC2 instance using Terraform.</li>
<li><strong>Steps</strong>:
<ul>
<li>Add the AWS provider configuration to your <code>main.tf</code> file.</li>
<li>Define a variable for the instance type in <code>variables.tf</code>.</li>
<li>Add a resource block for the EC2 instance in <code>main.tf</code>.</li>
<li>Add an output to capture the instance ID in <code>outputs.tf</code>.</li>
</ul>
</li>
<li><strong>Solution</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWFpbi50Zgpwcm92aWRlciAiYXdzIiB7CiAgcmVnaW9uID0gInVzLXdlc3QtMiIKfQoKcmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIgLy8gQW1hem9uIExpbnV4IDIgQU1JCiAgaW5zdGFuY2VfdHlwZSA9IHZhci5pbnN0YW5jZV90eXBlCn0KCi8vIHZhcmlhYmxlcy50Zgp2YXJpYWJsZSAiaW5zdGFuY2VfdHlwZSIgewogIGRlc2NyaXB0aW9uID0gIlRoZSB0eXBlIG9mIGluc3RhbmNlIHRvIGNyZWF0ZSIKICB0eXBlICAgICAgICA9IHN0cmluZwogIGRlZmF1bHQgICAgID0gInQyLm1pY3JvIgp9CgovLyBvdXRwdXRzLnRmCm91dHB1dCAiaW5zdGFuY2VfaWQiIHsKICBkZXNjcmlwdGlvbiA9ICJUaGUgSUQgb2YgdGhlIEVDMiBpbnN0YW5jZSIKICB2YWx1ZSAgICAgICA9IGF3c19pbnN0YW5jZS5leGFtcGxlLmlkCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// main.tf
provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}

resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot; // Amazon Linux 2 AMI
  instance_type = var.instance_type
}

// variables.tf
variable &quot;instance_type&quot; {
  description = &quot;The type of instance to create&quot;
  type        = string
  default     = &quot;t2.micro&quot;
}

// outputs.tf
output &quot;instance_id&quot; {
  description = &quot;The ID of the EC2 instance&quot;
  value       = aws_instance.example.id
}</pre></div><div class='content'><ol start="4">
<li>
<p><strong>Commands</strong>:</p>
<ul>
<li>Initialize and apply the configuration:</li>
</ul>
<pre><code class="language-sh">terraform init
terraform apply
</code></pre>
<ul>
<li>Verify the instance creation using the AWS Management Console or AWS CLI:</li>
</ul>
<pre><code class="language-sh">aws ec2 describe-instances --instance-ids &lt;instance_id&gt;
</code></pre>
<ul>
<li>Destroy the resources:</li>
</ul>
<pre><code class="language-sh">terraform destroy
</code></pre>
</li>
</ol>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Unique Resource Names</strong>: Ensure that resource names, such as S3 bucket names, are unique across all AWS accounts.</li>
<li><strong>Region Configuration</strong>: Always specify the region in the provider configuration to avoid deploying resources in unintended regions.</li>
<li><strong>Variable Usage</strong>: Use variables to make your configurations more flexible and reusable.</li>
<li><strong>Resource Dependencies</strong>: Be mindful of resource dependencies and ensure that dependent resources are created in the correct order.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned how to provision AWS resources using Terraform. You configured the AWS provider, created an S3 bucket, used variables and outputs, and performed a practical exercise to create an EC2 instance. This knowledge will serve as a foundation for provisioning more complex AWS resources in your Terraform projects.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-provisioning-basics' title="Provisioning Basics">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-provisioning-azure-resources' title="Provisioning Azure Resources">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
