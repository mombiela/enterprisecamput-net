<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Providers</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/custom-providers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/custom-providers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/custom-providers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/terraform/custom-providers" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/terraform/custom-providers" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-and-logging-with-terraform'>&#x25C4;Monitoring and Logging with Terraform</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Providers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='terraform-plugins'>Terraform Plugins &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to create and use custom providers in Terraform. This topic is essential for advanced Terraform users who need to extend Terraform's capabilities beyond the built-in providers.</p>
</div><h1>Introduction to Custom Providers</h1>
<div class='content'><p>Custom providers in Terraform allow you to interact with APIs and services that are not supported by the official Terraform providers. This can be particularly useful for proprietary systems or niche services.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Provider</strong>: A provider is a plugin that Terraform uses to interact with APIs of cloud providers, SaaS providers, and other services.</li>
<li><strong>Custom Provider</strong>: A custom provider is a user-defined provider that allows Terraform to manage resources for services not supported by official providers.</li>
<li><strong>Terraform Plugin SDK</strong>: A set of tools and libraries provided by HashiCorp to help you build custom providers.</li>
</ul>
</div><h1>Setting Up Your Development Environment</h1>
<div class='content'><p>Before you start creating a custom provider, you need to set up your development environment.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li><strong>Go Programming Language</strong>: Terraform providers are written in Go. Ensure you have Go installed on your machine.</li>
<li><strong>Terraform Plugin SDK</strong>: You will need the Terraform Plugin SDK to develop your custom provider.</li>
</ul>
</div><h2>Installation Steps</h2>
<div class='content'><ol>
<li><strong>Install Go</strong>: Follow the instructions on the <a href="https://golang.org/doc/install">official Go website</a> to install Go.</li>
<li><strong>Set Up Go Workspace</strong>: Configure your Go workspace by setting the <code>GOPATH</code> environment variable.</li>
<li><strong>Install Terraform Plugin SDK</strong>: Use the following command to install the SDK:
<pre><code class="language-sh">go get github.com/hashicorp/terraform-plugin-sdk/v2
</code></pre>
</li>
</ol>
</div><h1>Creating a Custom Provider</h1>
<div class='content'><p>In this section, we will create a simple custom provider to manage a fictional service called &quot;ExampleService&quot;.</p>
</div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Initialize Your Project</strong>: Create a new directory for your provider and initialize a Go module.</p>
<pre><code class="language-sh">mkdir terraform-provider-exampleservice
cd terraform-provider-exampleservice
go mod init github.com/yourusername/terraform-provider-exampleservice
</code></pre>
</li>
<li>
<p><strong>Create the Provider File</strong>: Create a file named <code>main.go</code> and define the provider.</p>
<pre><code class="language-go">package main

import (
    &quot;github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema&quot;
    &quot;github.com/hashicorp/terraform-plugin-sdk/v2/plugin&quot;
)

func main() {
    plugin.Serve(&amp;plugin.ServeOpts{
        ProviderFunc: func() *schema.Provider {
            return &amp;schema.Provider{
                ResourcesMap: map[string]*schema.Resource{
                    &quot;exampleservice_item&quot;: resourceItem(),
                },
            }
        },
    })
}
</code></pre>
</li>
<li>
<p><strong>Define a Resource</strong>: Create a file named <code>resource_item.go</code> and define a resource for the ExampleService.</p>
<pre><code class="language-go">package main

import (
    &quot;github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema&quot;
)

func resourceItem() *schema.Resource {
    return &amp;schema.Resource{
        Create: resourceItemCreate,
        Read:   resourceItemRead,
        Update: resourceItemUpdate,
        Delete: resourceItemDelete,

        Schema: map[string]*schema.Schema{
            &quot;name&quot;: {
                Type:     schema.TypeString,
                Required: true,
            },
            &quot;value&quot;: {
                Type:     schema.TypeString,
                Required: true,
            },
        },
    }
}

func resourceItemCreate(d *schema.ResourceData, m interface{}) error {
    // Implement the logic to create an item in ExampleService
    d.SetId(&quot;example_id&quot;)
    return resourceItemRead(d, m)
}

func resourceItemRead(d *schema.ResourceData, m interface{}) error {
    // Implement the logic to read an item from ExampleService
    return nil
}

func resourceItemUpdate(d *schema.ResourceData, m interface{}) error {
    // Implement the logic to update an item in ExampleService
    return resourceItemRead(d, m)
}

func resourceItemDelete(d *schema.ResourceData, m interface{}) error {
    // Implement the logic to delete an item from ExampleService
    d.SetId(&quot;&quot;)
    return nil
}
</code></pre>
</li>
<li>
<p><strong>Build the Provider</strong>: Compile your provider using the Go build tool.</p>
<pre><code class="language-sh">go build -o terraform-provider-exampleservice
</code></pre>
</li>
</ol>
</div><h1>Using Your Custom Provider</h1>
<div class='content'><p>Once you have built your custom provider, you can use it in your Terraform configurations.</p>
</div><h2>Example Configuration</h2>
<div class='content'><p>Create a Terraform configuration file named <code>main.tf</code> to use your custom provider.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImV4YW1wbGVzZXJ2aWNlIiB7fQoKcmVzb3VyY2UgImV4YW1wbGVzZXJ2aWNlX2l0ZW0iICJleGFtcGxlIiB7CiAgbmFtZSAgPSAiZXhhbXBsZV9uYW1lIgogIHZhbHVlID0gImV4YW1wbGVfdmFsdWUiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;exampleservice&quot; {}

resource &quot;exampleservice_item&quot; &quot;example&quot; {
  name  = &quot;example_name&quot;
  value = &quot;example_value&quot;
}</pre></div><div class='content'></div><h2>Initialize and Apply</h2>
<div class='content'><ol>
<li>
<p><strong>Initialize Terraform</strong>: Run the following command to initialize Terraform and download the provider.</p>
<pre><code class="language-sh">terraform init
</code></pre>
</li>
<li>
<p><strong>Apply the Configuration</strong>: Apply the configuration to create the resource.</p>
<pre><code class="language-sh">terraform apply
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Creating custom providers in Terraform allows you to extend Terraform's functionality to manage resources for services that are not natively supported. By following the steps outlined in this section, you can set up your development environment, create a custom provider, and use it in your Terraform configurations. This skill is particularly valuable for advanced users who need to integrate Terraform with proprietary or niche services.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-and-logging-with-terraform'>&#x25C4;Monitoring and Logging with Terraform</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Providers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='terraform-plugins'>Terraform Plugins &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
