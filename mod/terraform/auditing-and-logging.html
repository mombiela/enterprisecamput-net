<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditing and Logging in Terraform</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/auditing-and-logging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/auditing-and-logging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/auditing-and-logging" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/terraform/auditing-and-logging" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/terraform/auditing-and-logging" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='compliance-and-governance'>&#x25C4;Compliance and Governance</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Auditing and Logging in Terraform</a>
	</div>
	<div class='col-4 text-end'>
					<a href='exam-overview-and-objectives'>Exam Overview and Objectives &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Auditing and logging are crucial aspects of managing infrastructure as code (IaC) with Terraform. They help in tracking changes, understanding the state of your infrastructure, and diagnosing issues. This topic will guide you through the basics to advanced concepts of auditing and logging in Terraform.</p>
</div><h1>Introduction to Auditing and Logging</h1>
<div class='content'><p>Auditing and logging in Terraform involve:</p>
<ul>
<li><strong>Tracking changes</strong>: Monitoring who made changes, what changes were made, and when.</li>
<li><strong>Understanding state</strong>: Keeping a record of the current state of your infrastructure.</li>
<li><strong>Diagnosing issues</strong>: Identifying and resolving problems by analyzing logs.</li>
</ul>
</div><h1>Terraform State and State Files</h1>
<div class='content'><p>Terraform uses state files to keep track of the infrastructure it manages. These state files are essential for auditing and logging.</p>
<ul>
<li><strong>State File</strong>: A JSON file that records the current state of your infrastructure.</li>
<li><strong>Backend</strong>: A storage location for your state files (e.g., local, S3, Azure Blob Storage).</li>
</ul>
</div><h2>Example: Local State File</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHsKICBiYWNrZW5kICJsb2NhbCIgewogICAgcGF0aCA9ICJ0ZXJyYWZvcm0udGZzdGF0ZSIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform {
  backend &quot;local&quot; {
    path = &quot;terraform.tfstate&quot;
  }
}</pre></div><div class='content'></div><h2>Example: Remote State File (S3 Backend)</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHsKICBiYWNrZW5kICJzMyIgewogICAgYnVja2V0ID0gIm15LXRlcnJhZm9ybS1zdGF0ZSIKICAgIGtleSAgICA9ICJwYXRoL3RvL215L2tleSIKICAgIHJlZ2lvbiA9ICJ1cy13ZXN0LTIiCiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform {
  backend &quot;s3&quot; {
    bucket = &quot;my-terraform-state&quot;
    key    = &quot;path/to/my/key&quot;
    region = &quot;us-west-2&quot;
  }
}</pre></div><div class='content'></div><h1>Enabling Detailed Logging</h1>
<div class='content'><p>Terraform provides various logging levels to help you understand what is happening during the execution of your configurations.</p>
<ul>
<li><strong>TRACE</strong>: Very detailed logs, including internal operations.</li>
<li><strong>DEBUG</strong>: Detailed logs useful for debugging.</li>
<li><strong>INFO</strong>: General information about the execution.</li>
<li><strong>WARN</strong>: Warnings about potential issues.</li>
<li><strong>ERROR</strong>: Errors that occurred during execution.</li>
</ul>
</div><h2>Setting Log Levels</h2>
<div class='content'><p>You can set the log level using the <code>TF_LOG</code> environment variable.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IFRGX0xPRz1ERUJVRwp0ZXJyYWZvcm0gYXBwbHk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export TF_LOG=DEBUG
terraform apply</pre></div><div class='content'></div><h1>Audit Trails with Terraform Cloud/Enterprise</h1>
<div class='content'><p>Terraform Cloud and Terraform Enterprise offer enhanced auditing capabilities, including detailed logs and history of changes.</p>
<ul>
<li><strong>Run History</strong>: Detailed logs of all runs, including who initiated them and their outcomes.</li>
<li><strong>State Versions</strong>: History of state file versions, allowing you to see changes over time.</li>
<li><strong>Sentinel Policies</strong>: Policies that enforce rules and provide audit logs when rules are violated.</li>
</ul>
</div><h2>Example: Viewing Run History</h2>
<div class='content'><p>In Terraform Cloud, navigate to your workspace and select the &quot;Runs&quot; tab to view the history of runs.</p>
</div><h1>Best Practices for Auditing and Logging</h1>
<div class='content'><ul>
<li><strong>Use Remote State</strong>: Store state files in a remote backend to ensure they are secure and accessible.</li>
<li><strong>Enable Detailed Logging</strong>: Use appropriate log levels during development and debugging.</li>
<li><strong>Regularly Review Logs</strong>: Periodically review logs and state changes to ensure compliance and detect issues early.</li>
<li><strong>Implement Sentinel Policies</strong>: Use Sentinel policies in Terraform Cloud/Enterprise to enforce compliance and security rules.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Auditing and logging are essential for maintaining the integrity and security of your infrastructure managed by Terraform. By understanding and implementing the concepts discussed, you can ensure that your infrastructure changes are tracked, issues are diagnosed efficiently, and compliance is maintained.</p>
<p>In summary:</p>
<ul>
<li>Use state files and backends to track infrastructure state.</li>
<li>Enable and configure detailed logging for better visibility.</li>
<li>Leverage Terraform Cloud/Enterprise for advanced auditing capabilities.</li>
<li>Follow best practices to maintain a robust auditing and logging system.</li>
</ul>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='compliance-and-governance'>&#x25C4;Compliance and Governance</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Auditing and Logging in Terraform</a>
	</div>
	<div class='col-4 text-end'>
					<a href='exam-overview-and-objectives'>Exam Overview and Objectives &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
