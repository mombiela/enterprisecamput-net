<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modules: Reusable Configurations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/modules-reusable-configurations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/modules-reusable-configurations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/modules-reusable-configurations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/terraform/modules-reusable-configurations" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/terraform/modules-reusable-configurations" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='resource-dependencies'>&#x25C4;Resource Dependencies</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Modules: Reusable Configurations</a>
	</div>
	<div class='col-4 text-end'>
					<a href='provisioners-and-connection-blocks'>Provisioners and Connection Blocks &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Modules</h1>
<div class='content'><p>Modules in Terraform are a powerful way to organize and reuse configurations. They allow you to encapsulate a set of resources and reuse this configuration across different parts of your infrastructure.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Module</strong>: A container for multiple resources that are used together.</li>
<li><strong>Root Module</strong>: The main working directory where Terraform is run.</li>
<li><strong>Child Module</strong>: Any module that is called by another module.</li>
<li><strong>Module Registry</strong>: A repository where modules can be shared and reused.</li>
</ul>
</div><h1>Creating a Basic Module</h1>
<div class='content'><p>To create a module, you need to organize your configuration files into a directory structure. Each module should have its own directory.</p>
</div><h2>Example Directory Structure</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXktdGVycmFmb3JtLXByb2plY3QvCuKUnOKUgOKUgCBtYWluLnRmCuKUnOKUgOKUgCB2YXJpYWJsZXMudGYK4pSc4pSA4pSAIG91dHB1dHMudGYK4pSU4pSA4pSAIG1vZHVsZXMvCiAgICDilJTilIDilIAgczNfYnVja2V0LwogICAgICAgIOKUnOKUgOKUgCBtYWluLnRmCiAgICAgICAg4pSc4pSA4pSAIHZhcmlhYmxlcy50ZgogICAgICAgIOKUlOKUgOKUgCBvdXRwdXRzLnRm"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my-terraform-project/
├── main.tf
├── variables.tf
├── outputs.tf
└── modules/
    └── s3_bucket/
        ├── main.tf
        ├── variables.tf
        └── outputs.tf</pre></div><div class='content'></div><h2>Example Module Configuration</h2>
<div class='content'><p>Let's create a simple module to manage an S3 bucket.</p>
<h4><code>modules/s3_bucket/main.tf</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19zM19idWNrZXQiICJleGFtcGxlIiB7CiAgYnVja2V0ID0gdmFyLmJ1Y2tldF9uYW1lCiAgYWNsICAgID0gdmFyLmFjbAp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_s3_bucket&quot; &quot;example&quot; {
  bucket = var.bucket_name
  acl    = var.acl
}</pre></div><div class='content'><h4><code>modules/s3_bucket/variables.tf</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyaWFibGUgImJ1Y2tldF9uYW1lIiB7CiAgZGVzY3JpcHRpb24gPSAiVGhlIG5hbWUgb2YgdGhlIFMzIGJ1Y2tldCIKICB0eXBlICAgICAgICA9IHN0cmluZwp9Cgp2YXJpYWJsZSAiYWNsIiB7CiAgZGVzY3JpcHRpb24gPSAiVGhlIEFDTCBmb3IgdGhlIFMzIGJ1Y2tldCIKICB0eXBlICAgICAgICA9IHN0cmluZwogIGRlZmF1bHQgICAgID0gInByaXZhdGUiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>variable &quot;bucket_name&quot; {
  description = &quot;The name of the S3 bucket&quot;
  type        = string
}

variable &quot;acl&quot; {
  description = &quot;The ACL for the S3 bucket&quot;
  type        = string
  default     = &quot;private&quot;
}</pre></div><div class='content'><h4><code>modules/s3_bucket/outputs.tf</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3V0cHV0ICJidWNrZXRfYXJuIiB7CiAgZGVzY3JpcHRpb24gPSAiVGhlIEFSTiBvZiB0aGUgUzMgYnVja2V0IgogIHZhbHVlICAgICAgID0gYXdzX3MzX2J1Y2tldC5leGFtcGxlLmFybgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>output &quot;bucket_arn&quot; {
  description = &quot;The ARN of the S3 bucket&quot;
  value       = aws_s3_bucket.example.arn
}</pre></div><div class='content'></div><h1>Using a Module</h1>
<div class='content'><p>To use a module, you need to call it from your root module.</p>
</div><h2>Example Root Module Configuration</h2>
<div class='content'><h4><code>main.tf</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlICJzM19idWNrZXQiIHsKICBzb3VyY2UgICAgICA9ICIuL21vZHVsZXMvczNfYnVja2V0IgogIGJ1Y2tldF9uYW1lID0gIm15LXVuaXF1ZS1idWNrZXQtbmFtZSIKICBhY2wgICAgICAgICA9ICJwdWJsaWMtcmVhZCIKfQoKb3V0cHV0ICJidWNrZXRfYXJuIiB7CiAgdmFsdWUgPSBtb2R1bGUuczNfYnVja2V0LmJ1Y2tldF9hcm4KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module &quot;s3_bucket&quot; {
  source      = &quot;./modules/s3_bucket&quot;
  bucket_name = &quot;my-unique-bucket-name&quot;
  acl         = &quot;public-read&quot;
}

output &quot;bucket_arn&quot; {
  value = module.s3_bucket.bucket_arn
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>source</strong>: Specifies the path to the module.</li>
<li><strong>bucket_name</strong> and <strong>acl</strong>: These are variables defined in the module that you need to provide values for.</li>
<li><strong>output &quot;bucket_arn&quot;</strong>: This outputs the ARN of the S3 bucket created by the module.</li>
</ul>
</div><h1>Best Practices for Modules</h1>
<div class='content'><ul>
<li><strong>Encapsulation</strong>: Keep modules focused on a single responsibility.</li>
<li><strong>Versioning</strong>: Use version control to manage changes to your modules.</li>
<li><strong>Documentation</strong>: Document the purpose and usage of your modules.</li>
<li><strong>Testing</strong>: Test your modules independently before integrating them into larger configurations.</li>
</ul>
</div><h2>Example of Module Documentation</h2>
<div class='content'><h4><code>modules/s3_bucket/README.md</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTMyBCdWNrZXQgTW9kdWxlCgpUaGlzIG1vZHVsZSBjcmVhdGVzIGFuIFMzIGJ1Y2tldCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZSBhbmQgQUNMLgoKIyMgVmFyaWFibGVzCgotIGBidWNrZXRfbmFtZWA6IFRoZSBuYW1lIG9mIHRoZSBTMyBidWNrZXQgKHJlcXVpcmVkKS4KLSBgYWNsYDogVGhlIEFDTCBmb3IgdGhlIFMzIGJ1Y2tldCAob3B0aW9uYWwsIGRlZmF1bHQgaXMgInByaXZhdGUiKS4KCiMjIE91dHB1dHMKCi0gYGJ1Y2tldF9hcm5gOiBUaGUgQVJOIG9mIHRoZSBTMyBidWNrZXQu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># S3 Bucket Module

This module creates an S3 bucket with the specified name and ACL.

## Variables

- `bucket_name`: The name of the S3 bucket (required).
- `acl`: The ACL for the S3 bucket (optional, default is &quot;private&quot;).

## Outputs

- `bucket_arn`: The ARN of the S3 bucket.</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Modules are a fundamental feature in Terraform that enable you to write clean, reusable, and maintainable infrastructure code. By encapsulating resources into modules, you can easily manage and scale your infrastructure. Remember to follow best practices such as encapsulation, versioning, documentation, and testing to ensure your modules are robust and reliable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='resource-dependencies'>&#x25C4;Resource Dependencies</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Modules: Reusable Configurations</a>
	</div>
	<div class='col-4 text-end'>
					<a href='provisioners-and-connection-blocks'>Provisioners and Connection Blocks &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
