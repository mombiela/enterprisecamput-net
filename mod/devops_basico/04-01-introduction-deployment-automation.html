<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Deployment Automation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/devops_basico/04-01-introduccion-automatizacion-despliegues" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/devops_basico/04-01-introduccio-automatitzacio-desplegaments" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/devops_basico/04-01-introduction-deployment-automation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/devops_basico/04-01-introduccion-automatizacion-despliegues" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/devops_basico/04-01-introduccio-automatitzacio-desplegaments" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-setting-up-cd-pipeline' title="Setting up a CD pipeline">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Introduction to Deployment Automation</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-deployment-automation-tools' title="Deployment automation tools">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Deployment automation is a crucial aspect of modern software development practices, particularly within the DevOps framework. It involves the use of automated processes and tools to deploy applications and services efficiently, reliably, and consistently. This section will cover the fundamental concepts of deployment automation, its benefits, and how it integrates with the broader DevOps practices.</p>
</div><h1>Key Concepts of Deployment Automation</h1>
<div class='content'><ol>
<li>
<p><strong>Automation Scripts</strong>:</p>
<ul>
<li>Scripts written in languages like Bash, Python, or PowerShell to automate deployment tasks.</li>
<li>These scripts can handle tasks such as copying files, configuring servers, and starting services.</li>
</ul>
</li>
<li>
<p><strong>Configuration Management</strong>:</p>
<ul>
<li>Tools like Ansible, Puppet, and Chef manage the configuration of servers and applications.</li>
<li>Ensures that environments are consistent across development, testing, and production.</li>
</ul>
</li>
<li>
<p><strong>Infrastructure as Code (IaC)</strong>:</p>
<ul>
<li>Managing and provisioning computing infrastructure through machine-readable definition files.</li>
<li>Tools like Terraform and CloudFormation enable the automation of infrastructure setup.</li>
</ul>
</li>
<li>
<p><strong>Continuous Deployment</strong>:</p>
<ul>
<li>An extension of Continuous Delivery where every change that passes automated tests is deployed to production automatically.</li>
<li>Requires a high level of confidence in the automated testing and deployment processes.</li>
</ul>
</li>
</ol>
</div><h1>Benefits of Deployment Automation</h1>
<div class='content'><ol>
<li>
<p><strong>Consistency and Reliability</strong>:</p>
<ul>
<li>Automated deployments reduce the risk of human error, ensuring that deployments are consistent and reliable.</li>
</ul>
</li>
<li>
<p><strong>Speed and Efficiency</strong>:</p>
<ul>
<li>Automation accelerates the deployment process, allowing for more frequent releases and quicker time-to-market.</li>
</ul>
</li>
<li>
<p><strong>Scalability</strong>:</p>
<ul>
<li>Automated processes can easily scale to handle large numbers of deployments across multiple environments.</li>
</ul>
</li>
<li>
<p><strong>Improved Collaboration</strong>:</p>
<ul>
<li>By automating deployments, development and operations teams can work more closely together, focusing on improving the application rather than managing deployments.</li>
</ul>
</li>
</ol>
</div><h1>How Deployment Automation Fits into DevOps</h1>
<div class='content'><ol>
<li>
<p><strong>Integration with CI/CD Pipelines</strong>:</p>
<ul>
<li>Deployment automation is a critical component of CI/CD pipelines, enabling seamless transitions from code commit to production deployment.</li>
</ul>
</li>
<li>
<p><strong>Feedback Loops</strong>:</p>
<ul>
<li>Automated deployments facilitate faster feedback loops, allowing teams to quickly identify and address issues.</li>
</ul>
</li>
<li>
<p><strong>Continuous Improvement</strong>:</p>
<ul>
<li>Automation enables continuous improvement by allowing teams to iterate quickly and deploy changes frequently.</li>
</ul>
</li>
</ol>
</div><h1>Example: Automating a Simple Deployment</h1>
<div class='content'><p>Let's look at a basic example of automating a deployment using a Bash script. This script will deploy a simple web application to a server.</p>
</div><h2>Deployment Script Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKCiMgRGVmaW5lIHZhcmlhYmxlcwpBUFBfTkFNRT0ibXlfd2ViX2FwcCIKREVQTE9ZX0RJUj0iL3Zhci93d3cvJEFQUF9OQU1FIgpSRVBPX1VSTD0iaHR0cHM6Ly9naXRodWIuY29tL3VzZXIvbXlfd2ViX2FwcC5naXQiClNFUlZJQ0VfTkFNRT0ibXlfd2ViX2FwcF9zZXJ2aWNlIgoKIyBVcGRhdGUgdGhlIHNlcnZlcgplY2hvICJVcGRhdGluZyBzZXJ2ZXIuLi4iCnN1ZG8gYXB0LWdldCB1cGRhdGUgLXkKc3VkbyBhcHQtZ2V0IHVwZ3JhZGUgLXkKCiMgSW5zdGFsbCBuZWNlc3NhcnkgcGFja2FnZXMKZWNobyAiSW5zdGFsbGluZyBuZWNlc3NhcnkgcGFja2FnZXMuLi4iCnN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGdpdCBuZ2lueAoKIyBDbG9uZSB0aGUgcmVwb3NpdG9yeQplY2hvICJDbG9uaW5nIHJlcG9zaXRvcnkuLi4iCmlmIFsgLWQgIiRERVBMT1lfRElSIiBdOyB0aGVuCiAgICBzdWRvIHJtIC1yZiAiJERFUExPWV9ESVIiCmZpCmdpdCBjbG9uZSAiJFJFUE9fVVJMIiAiJERFUExPWV9ESVIiCgojIFNldCB1cCB0aGUgd2ViIHNlcnZlcgplY2hvICJTZXR0aW5nIHVwIHdlYiBzZXJ2ZXIuLi4iCnN1ZG8gY3AgIiRERVBMT1lfRElSL25naW54LmNvbmYiIC9ldGMvbmdpbngvc2l0ZXMtYXZhaWxhYmxlLyRBUFBfTkFNRQpzdWRvIGxuIC1zIC9ldGMvbmdpbngvc2l0ZXMtYXZhaWxhYmxlLyRBUFBfTkFNRSAvZXRjL25naW54L3NpdGVzLWVuYWJsZWQvCgojIFJlc3RhcnQgdGhlIHdlYiBzZXJ2ZXIKZWNobyAiUmVzdGFydGluZyB3ZWIgc2VydmVyLi4uIgpzdWRvIHN5c3RlbWN0bCByZXN0YXJ0IG5naW54CgojIFN0YXJ0IHRoZSBhcHBsaWNhdGlvbiBzZXJ2aWNlCmVjaG8gIlN0YXJ0aW5nIGFwcGxpY2F0aW9uIHNlcnZpY2UuLi4iCnN1ZG8gc3lzdGVtY3RsIHN0YXJ0ICRTRVJWSUNFX05BTUUKc3VkbyBzeXN0ZW1jdGwgZW5hYmxlICRTRVJWSUNFX05BTUUKCmVjaG8gIkRlcGxveW1lbnQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSEi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash

# Define variables
APP_NAME=&quot;my_web_app&quot;
DEPLOY_DIR=&quot;/var/www/$APP_NAME&quot;
REPO_URL=&quot;https://github.com/user/my_web_app.git&quot;
SERVICE_NAME=&quot;my_web_app_service&quot;

# Update the server
echo &quot;Updating server...&quot;
sudo apt-get update -y
sudo apt-get upgrade -y

# Install necessary packages
echo &quot;Installing necessary packages...&quot;
sudo apt-get install -y git nginx

# Clone the repository
echo &quot;Cloning repository...&quot;
if [ -d &quot;$DEPLOY_DIR&quot; ]; then
    sudo rm -rf &quot;$DEPLOY_DIR&quot;
fi
git clone &quot;$REPO_URL&quot; &quot;$DEPLOY_DIR&quot;

# Set up the web server
echo &quot;Setting up web server...&quot;
sudo cp &quot;$DEPLOY_DIR/nginx.conf&quot; /etc/nginx/sites-available/$APP_NAME
sudo ln -s /etc/nginx/sites-available/$APP_NAME /etc/nginx/sites-enabled/

# Restart the web server
echo &quot;Restarting web server...&quot;
sudo systemctl restart nginx

# Start the application service
echo &quot;Starting application service...&quot;
sudo systemctl start $SERVICE_NAME
sudo systemctl enable $SERVICE_NAME

echo &quot;Deployment completed successfully!&quot;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li>
<p><strong>Variables</strong>:</p>
<ul>
<li><code>APP_NAME</code>, <code>DEPLOY_DIR</code>, <code>REPO_URL</code>, and <code>SERVICE_NAME</code> are defined to make the script more flexible and reusable.</li>
</ul>
</li>
<li>
<p><strong>Server Update</strong>:</p>
<ul>
<li>The script updates the server to ensure all packages are up-to-date.</li>
</ul>
</li>
<li>
<p><strong>Package Installation</strong>:</p>
<ul>
<li>Installs necessary packages like Git and Nginx.</li>
</ul>
</li>
<li>
<p><strong>Repository Cloning</strong>:</p>
<ul>
<li>Clones the application repository from GitHub to the deployment directory.</li>
</ul>
</li>
<li>
<p><strong>Web Server Setup</strong>:</p>
<ul>
<li>Copies the Nginx configuration file and sets up the web server.</li>
</ul>
</li>
<li>
<p><strong>Service Management</strong>:</p>
<ul>
<li>Restarts Nginx and starts the application service.</li>
</ul>
</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Automate the Deployment of a Simple Web Application</h2>
<div class='content'><p><strong>Objective</strong>: Write a script to automate the deployment of a simple web application using a configuration management tool like Ansible.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Install Ansible on your local machine.</li>
<li>Create an Ansible playbook to:
<ul>
<li>Update the server.</li>
<li>Install necessary packages.</li>
<li>Clone the application repository.</li>
<li>Set up the web server.</li>
<li>Start the application service.</li>
</ul>
</li>
<li>Run the playbook to deploy the application.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRGVwbG95IFNpbXBsZSBXZWIgQXBwbGljYXRpb24KICBob3N0czogd2Vic2VydmVycwogIGJlY29tZTogeWVzCgogIHRhc2tzOgogICAgLSBuYW1lOiBVcGRhdGUgdGhlIHNlcnZlcgogICAgICBhcHQ6CiAgICAgICAgdXBkYXRlX2NhY2hlOiB5ZXMKICAgICAgICB1cGdyYWRlOiBkaXN0CgogICAgLSBuYW1lOiBJbnN0YWxsIG5lY2Vzc2FyeSBwYWNrYWdlcwogICAgICBhcHQ6CiAgICAgICAgbmFtZTogInt7IGl0ZW0gfX0iCiAgICAgICAgc3RhdGU6IHByZXNlbnQKICAgICAgbG9vcDoKICAgICAgICAtIGdpdAogICAgICAgIC0gbmdpbngKCiAgICAtIG5hbWU6IENsb25lIHRoZSByZXBvc2l0b3J5CiAgICAgIGdpdDoKICAgICAgICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3VzZXIvbXlfd2ViX2FwcC5naXQnCiAgICAgICAgZGVzdDogJy92YXIvd3d3L215X3dlYl9hcHAnCiAgICAgICAgZm9yY2U6IHllcwoKICAgIC0gbmFtZTogU2V0IHVwIHRoZSB3ZWIgc2VydmVyCiAgICAgIGNvcHk6CiAgICAgICAgc3JjOiAnL3Zhci93d3cvbXlfd2ViX2FwcC9uZ2lueC5jb25mJwogICAgICAgIGRlc3Q6ICcvZXRjL25naW54L3NpdGVzLWF2YWlsYWJsZS9teV93ZWJfYXBwJwogICAgICBub3RpZnk6IFJlc3RhcnQgbmdpbngKCiAgICAtIG5hbWU6IEVuYWJsZSB0aGUgc2l0ZQogICAgICBmaWxlOgogICAgICAgIHNyYzogJy9ldGMvbmdpbngvc2l0ZXMtYXZhaWxhYmxlL215X3dlYl9hcHAnCiAgICAgICAgZGVzdDogJy9ldGMvbmdpbngvc2l0ZXMtZW5hYmxlZC9teV93ZWJfYXBwJwogICAgICAgIHN0YXRlOiBsaW5rCgogICAgLSBuYW1lOiBTdGFydCB0aGUgYXBwbGljYXRpb24gc2VydmljZQogICAgICBzeXN0ZW1kOgogICAgICAgIG5hbWU6IG15X3dlYl9hcHBfc2VydmljZQogICAgICAgIHN0YXRlOiBzdGFydGVkCiAgICAgICAgZW5hYmxlZDogeWVzCgogIGhhbmRsZXJzOgogICAgLSBuYW1lOiBSZXN0YXJ0IG5naW54CiAgICAgIHN5c3RlbWQ6CiAgICAgICAgbmFtZTogbmdpbngKICAgICAgICBzdGF0ZTogcmVzdGFydGVk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Deploy Simple Web Application
  hosts: webservers
  become: yes

  tasks:
    - name: Update the server
      apt:
        update_cache: yes
        upgrade: dist

    - name: Install necessary packages
      apt:
        name: &quot;{{ item }}&quot;
        state: present
      loop:
        - git
        - nginx

    - name: Clone the repository
      git:
        repo: 'https://github.com/user/my_web_app.git'
        dest: '/var/www/my_web_app'
        force: yes

    - name: Set up the web server
      copy:
        src: '/var/www/my_web_app/nginx.conf'
        dest: '/etc/nginx/sites-available/my_web_app'
      notify: Restart nginx

    - name: Enable the site
      file:
        src: '/etc/nginx/sites-available/my_web_app'
        dest: '/etc/nginx/sites-enabled/my_web_app'
        state: link

    - name: Start the application service
      systemd:
        name: my_web_app_service
        state: started
        enabled: yes

  handlers:
    - name: Restart nginx
      systemd:
        name: nginx
        state: restarted</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ol>
<li>
<p><strong>Playbook Structure</strong>:</p>
<ul>
<li>The playbook is structured to run tasks on hosts defined as <code>webservers</code>.</li>
</ul>
</li>
<li>
<p><strong>Tasks</strong>:</p>
<ul>
<li>Each task corresponds to a step in the deployment process, such as updating the server, installing packages, cloning the repository, setting up the web server, and starting the application service.</li>
</ul>
</li>
<li>
<p><strong>Handlers</strong>:</p>
<ul>
<li>Handlers are used to restart Nginx when the configuration file is updated.</li>
</ul>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Deployment automation is a fundamental practice in DevOps that enhances consistency, reliability, and efficiency in software deployments. By leveraging automation scripts, configuration management tools, and infrastructure as code, teams can achieve seamless and scalable deployments. In the next section, we will explore various deployment automation tools that can further streamline this process.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-04-setting-up-cd-pipeline' title="Setting up a CD pipeline">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-02-deployment-automation-tools' title="Deployment automation tools">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
