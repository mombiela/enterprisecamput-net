<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ansible Plugins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/ansible-plugins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/ansible-plugins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/ansible-plugins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ansible/ansible-plugins" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ansible/ansible-plugins" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='dynamic-inventory'>&#x25C4;Dynamic Inventory</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ansible Plugins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='error-handling-and-debugging'>Error Handling and Debugging &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Ansible plugins are a powerful feature that extends Ansible's functionality. They allow you to customize and enhance the behavior of Ansible in various ways. This section will cover the different types of Ansible plugins, how to use them, and how to create your own plugins.</p>
</div><h1>Types of Ansible Plugins</h1>
<div class='content'><p>Ansible supports several types of plugins, each serving a different purpose:</p>
<ul>
<li><strong>Action Plugins</strong>: Modify the behavior of Ansible modules.</li>
<li><strong>Lookup Plugins</strong>: Retrieve data from external sources.</li>
<li><strong>Filter Plugins</strong>: Transform data within Ansible playbooks.</li>
<li><strong>Callback Plugins</strong>: Customize the output of Ansible runs.</li>
<li><strong>Connection Plugins</strong>: Manage the connection to remote hosts.</li>
<li><strong>Inventory Plugins</strong>: Dynamically generate inventory from external sources.</li>
<li><strong>Vars Plugins</strong>: Load variables from external sources.</li>
<li><strong>Test Plugins</strong>: Provide additional Jinja2 tests.</li>
</ul>
</div><h1>Using Ansible Plugins</h1>
<div class='content'><p>Ansible plugins can be used directly in your playbooks or roles. Here are some examples of how to use different types of plugins:</p>
</div><h2>Action Plugins</h2>
<div class='content'><p>Action plugins allow you to modify the behavior of modules. For example, you can use an action plugin to add additional logging or to change how a module handles errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhbiBhY3Rpb24gcGx1Z2luCiAgaG9zdHM6IGxvY2FsaG9zdAogIHRhc2tzOgogICAgLSBuYW1lOiBVc2UgdGhlIGN1c3RvbSBhY3Rpb24gcGx1Z2luCiAgICAgIG15X2N1c3RvbV9hY3Rpb246CiAgICAgICAgcGFyYW0xOiB2YWx1ZTEKICAgICAgICBwYXJhbTI6IHZhbHVlMg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using an action plugin
  hosts: localhost
  tasks:
    - name: Use the custom action plugin
      my_custom_action:
        param1: value1
        param2: value2</pre></div><div class='content'></div><h2>Lookup Plugins</h2>
<div class='content'><p>Lookup plugins are used to retrieve data from external sources. For example, you can use a lookup plugin to read data from a file or a database.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIGxvb2t1cCBwbHVnaW4KICBob3N0czogbG9jYWxob3N0CiAgdGFza3M6CiAgICAtIG5hbWU6IFJldHJpZXZlIGRhdGEgdXNpbmcgYSBsb29rdXAgcGx1Z2luCiAgICAgIGRlYnVnOgogICAgICAgIG1zZzogInt7IGxvb2t1cCgnZmlsZScsICcvcGF0aC90by9maWxlLnR4dCcpIH19Ig=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a lookup plugin
  hosts: localhost
  tasks:
    - name: Retrieve data using a lookup plugin
      debug:
        msg: &quot;{{ lookup('file', '/path/to/file.txt') }}&quot;</pre></div><div class='content'></div><h2>Filter Plugins</h2>
<div class='content'><p>Filter plugins are used to transform data within Ansible playbooks. For example, you can use a filter plugin to format a date or to manipulate strings.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIGZpbHRlciBwbHVnaW4KICBob3N0czogbG9jYWxob3N0CiAgdGFza3M6CiAgICAtIG5hbWU6IFRyYW5zZm9ybSBkYXRhIHVzaW5nIGEgZmlsdGVyIHBsdWdpbgogICAgICBkZWJ1ZzoKICAgICAgICBtc2c6ICJ7eyAnMjAyMy0xMC0wMScgfCB0b19kYXRldGltZSB8IGRhdGUoJ2xvbmcnKSB9fSI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a filter plugin
  hosts: localhost
  tasks:
    - name: Transform data using a filter plugin
      debug:
        msg: &quot;{{ '2023-10-01' | to_datetime | date('long') }}&quot;</pre></div><div class='content'></div><h2>Callback Plugins</h2>
<div class='content'><p>Callback plugins allow you to customize the output of Ansible runs. For example, you can use a callback plugin to send notifications or to log results to a file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIGNhbGxiYWNrIHBsdWdpbgogIGhvc3RzOiBsb2NhbGhvc3QKICB0YXNrczoKICAgIC0gbmFtZTogUnVuIGEgdGFzayB3aXRoIGEgY3VzdG9tIGNhbGxiYWNrCiAgICAgIGNvbW1hbmQ6IGVjaG8gIkhlbGxvLCBXb3JsZCEi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a callback plugin
  hosts: localhost
  tasks:
    - name: Run a task with a custom callback
      command: echo &quot;Hello, World!&quot;</pre></div><div class='content'></div><h2>Connection Plugins</h2>
<div class='content'><p>Connection plugins manage the connection to remote hosts. For example, you can use a connection plugin to connect to a host using SSH or to manage connections to cloud services.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIGNvbm5lY3Rpb24gcGx1Z2luCiAgaG9zdHM6IHJlbW90ZV9ob3N0CiAgY29ubmVjdGlvbjogbG9jYWwKICB0YXNrczoKICAgIC0gbmFtZTogUnVuIGEgdGFzayBvbiB0aGUgcmVtb3RlIGhvc3QKICAgICAgY29tbWFuZDogZWNobyAiUnVubmluZyBvbiByZW1vdGUgaG9zdCI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a connection plugin
  hosts: remote_host
  connection: local
  tasks:
    - name: Run a task on the remote host
      command: echo &quot;Running on remote host&quot;</pre></div><div class='content'></div><h2>Inventory Plugins</h2>
<div class='content'><p>Inventory plugins dynamically generate inventory from external sources. For example, you can use an inventory plugin to generate inventory from a cloud provider's API.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCnBsdWdpbjogYXdzX2VjMgpyZWdpb25zOgogIC0gdXMtZWFzdC0xCmZpbHRlcnM6CiAgaW5zdGFuY2Utc3RhdGUtbmFtZTogcnVubmluZw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
plugin: aws_ec2
regions:
  - us-east-1
filters:
  instance-state-name: running</pre></div><div class='content'></div><h2>Vars Plugins</h2>
<div class='content'><p>Vars plugins load variables from external sources. For example, you can use a vars plugin to load variables from a file or a database.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIHZhcnMgcGx1Z2luCiAgaG9zdHM6IGxvY2FsaG9zdAogIHZhcnNfZmlsZXM6CiAgICAtIC9wYXRoL3RvL3ZhcnMueW1sCiAgdGFza3M6CiAgICAtIG5hbWU6IFVzZSBsb2FkZWQgdmFyaWFibGVzCiAgICAgIGRlYnVnOgogICAgICAgIG1zZzogInt7IG15X3ZhcmlhYmxlIH19Ig=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a vars plugin
  hosts: localhost
  vars_files:
    - /path/to/vars.yml
  tasks:
    - name: Use loaded variables
      debug:
        msg: &quot;{{ my_variable }}&quot;</pre></div><div class='content'></div><h2>Test Plugins</h2>
<div class='content'><p>Test plugins provide additional Jinja2 tests. For example, you can use a test plugin to check if a variable is a valid IP address.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIHRlc3QgcGx1Z2luCiAgaG9zdHM6IGxvY2FsaG9zdAogIHRhc2tzOgogICAgLSBuYW1lOiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgdmFsaWQgSVAgYWRkcmVzcwogICAgICBkZWJ1ZzoKICAgICAgICBtc2c6ICJUaGUgdmFyaWFibGUgaXMgYSB2YWxpZCBJUCBhZGRyZXNzIgogICAgICB3aGVuOiBteV92YXJpYWJsZSBpcyBpcGFkZHI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a test plugin
  hosts: localhost
  tasks:
    - name: Check if a variable is a valid IP address
      debug:
        msg: &quot;The variable is a valid IP address&quot;
      when: my_variable is ipaddr</pre></div><div class='content'></div><h1>Creating Custom Ansible Plugins</h1>
<div class='content'><p>Creating custom plugins allows you to extend Ansible's functionality to meet your specific needs. Here is a basic example of how to create a custom filter plugin:</p>
<ol>
<li>Create a directory structure for your plugin:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXlfcGx1Z2lucy8K4pSU4pSA4pSAIGZpbHRlcl9wbHVnaW5zLwogICAg4pSU4pSA4pSAIG15X2N1c3RvbV9maWx0ZXIucHk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my_plugins/
└── filter_plugins/
    └── my_custom_filter.py</pre></div><div class='content'><ol start="2">
<li>Implement the custom filter plugin in <code>my_custom_filter.py</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHRvX3VwcGVyY2FzZSh2YWx1ZSk6CiAgICByZXR1cm4gdmFsdWUudXBwZXIoKQoKY2xhc3MgRmlsdGVyTW9kdWxlKG9iamVjdCk6CiAgICBkZWYgZmlsdGVycyhzZWxmKToKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAndG9fdXBwZXJjYXNlJzogdG9fdXBwZXJjYXNlCiAgICAgICAgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def to_uppercase(value):
    return value.upper()

class FilterModule(object):
    def filters(self):
        return {
            'to_uppercase': to_uppercase
        }</pre></div><div class='content'><ol start="3">
<li>Use the custom filter plugin in your playbook:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRXhhbXBsZSBwbGF5Ym9vayB1c2luZyBhIGN1c3RvbSBmaWx0ZXIgcGx1Z2luCiAgaG9zdHM6IGxvY2FsaG9zdAogIHRhc2tzOgogICAgLSBuYW1lOiBUcmFuc2Zvcm0gZGF0YSB1c2luZyB0aGUgY3VzdG9tIGZpbHRlciBwbHVnaW4KICAgICAgZGVidWc6CiAgICAgICAgbXNnOiAie3sgJ2hlbGxvLCB3b3JsZCEnIHwgdG9fdXBwZXJjYXNlIH19Ig=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Example playbook using a custom filter plugin
  hosts: localhost
  tasks:
    - name: Transform data using the custom filter plugin
      debug:
        msg: &quot;{{ 'hello, world!' | to_uppercase }}&quot;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Ansible plugins are a versatile and powerful feature that allows you to extend and customize Ansible's behavior. By understanding the different types of plugins and how to use them, you can enhance your automation workflows and tailor Ansible to your specific needs. Whether you are using built-in plugins or creating your own, plugins provide a flexible way to integrate Ansible with external systems and to perform complex data transformations.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='dynamic-inventory'>&#x25C4;Dynamic Inventory</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ansible Plugins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='error-handling-and-debugging'>Error Handling and Debugging &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
