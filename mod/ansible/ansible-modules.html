<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ansible Modules</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/ansible-modules" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/ansible-modules" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/ansible-modules" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ansible/ansible-modules" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ansible/ansible-modules" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-playbooks'>&#x25C4;Introduction to Playbooks</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ansible Modules</a>
	</div>
	<div class='col-4 text-end'>
					<a href='running-ad-hoc-commands'>Running Ad-Hoc Commands &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Ansible Modules</h1>
<div class='content'><p>Ansible modules are the building blocks of Ansible's functionality. They are small programs that perform specific tasks on managed nodes. Understanding how to use and create modules is essential for leveraging the full power of Ansible.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Modules</strong>: Reusable, standalone scripts that Ansible runs on your behalf.</li>
<li><strong>Idempotency</strong>: Modules ensure that operations are repeatable without changing the system state if it's already in the desired state.</li>
<li><strong>Module Arguments</strong>: Parameters that control the behavior of a module.</li>
<li><strong>Return Values</strong>: Data that modules return after execution, often used for debugging or conditional logic.</li>
</ul>
</div><h1>Commonly Used Ansible Modules</h1>
<div class='content'><p>Ansible comes with a variety of built-in modules that cover a wide range of tasks.</p>
</div><h2>File Management Modules</h2>
<div class='content'><ul>
<li><strong>file</strong>: Manage file properties.</li>
<li><strong>copy</strong>: Copy files to remote locations.</li>
<li><strong>template</strong>: Manage files using Jinja2 templates.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBVc2luZyB0aGUgZmlsZSBtb2R1bGUgdG8gY3JlYXRlIGEgZGlyZWN0b3J5Ci0gbmFtZTogRW5zdXJlIHRoZSBkaXJlY3RvcnkgZXhpc3RzCiAgZmlsZToKICAgIHBhdGg6IC9wYXRoL3RvL2RpcmVjdG9yeQogICAgc3RhdGU6IGRpcmVjdG9yeQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Using the file module to create a directory
- name: Ensure the directory exists
  file:
    path: /path/to/directory
    state: directory</pre></div><div class='content'></div><h2>Package Management Modules</h2>
<div class='content'><ul>
<li><strong>apt</strong>: Manage packages on Debian-based systems.</li>
<li><strong>yum</strong>: Manage packages on Red Hat-based systems.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBVc2luZyB0aGUgYXB0IG1vZHVsZSB0byBpbnN0YWxsIGEgcGFja2FnZQotIG5hbWU6IEluc3RhbGwgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIG5naW54CiAgYXB0OgogICAgbmFtZTogbmdpbngKICAgIHN0YXRlOiBsYXRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Using the apt module to install a package
- name: Install the latest version of nginx
  apt:
    name: nginx
    state: latest</pre></div><div class='content'></div><h2>Service Management Modules</h2>
<div class='content'><ul>
<li><strong>service</strong>: Manage services.</li>
<li><strong>systemd</strong>: Manage systemd services.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBVc2luZyB0aGUgc2VydmljZSBtb2R1bGUgdG8gc3RhcnQgYSBzZXJ2aWNlCi0gbmFtZTogRW5zdXJlIG5naW54IGlzIHJ1bm5pbmcKICBzZXJ2aWNlOgogICAgbmFtZTogbmdpbngKICAgIHN0YXRlOiBzdGFydGVk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Using the service module to start a service
- name: Ensure nginx is running
  service:
    name: nginx
    state: started</pre></div><div class='content'></div><h2>User Management Modules</h2>
<div class='content'><ul>
<li><strong>user</strong>: Manage user accounts.</li>
<li><strong>group</strong>: Manage user groups.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBVc2luZyB0aGUgdXNlciBtb2R1bGUgdG8gY3JlYXRlIGEgdXNlcgotIG5hbWU6IEVuc3VyZSBhIHVzZXIgZXhpc3RzCiAgdXNlcjoKICAgIG5hbWU6IGpvaG5kb2UKICAgIHN0YXRlOiBwcmVzZW50CiAgICBncm91cHM6IHN1ZG8="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Using the user module to create a user
- name: Ensure a user exists
  user:
    name: johndoe
    state: present
    groups: sudo</pre></div><div class='content'></div><h1>Advanced Module Usage</h1>
<div class='content'><p>As you become more comfortable with Ansible, you can start leveraging more advanced features of modules.</p>
</div><h2>Conditional Execution</h2>
<div class='content'><p>Modules can be executed conditionally based on the state of the system or the results of previous tasks.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBDb25kaXRpb25hbCBleGVjdXRpb24gYmFzZWQgb24gYSBjb21tYW5kIHJlc3VsdAotIG5hbWU6IENoZWNrIGlmIGEgZmlsZSBleGlzdHMKICBzdGF0OgogICAgcGF0aDogL3BhdGgvdG8vZmlsZQogIHJlZ2lzdGVyOiBmaWxlX3N0YXQKCi0gbmFtZTogQ3JlYXRlIHRoZSBmaWxlIGlmIGl0IGRvZXMgbm90IGV4aXN0CiAgZmlsZToKICAgIHBhdGg6IC9wYXRoL3RvL2ZpbGUKICAgIHN0YXRlOiB0b3VjaAogIHdoZW46IGZpbGVfc3RhdC5zdGF0LmV4aXN0cyA9PSBGYWxzZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Conditional execution based on a command result
- name: Check if a file exists
  stat:
    path: /path/to/file
  register: file_stat

- name: Create the file if it does not exist
  file:
    path: /path/to/file
    state: touch
  when: file_stat.stat.exists == False</pre></div><div class='content'></div><h2>Looping Over Modules</h2>
<div class='content'><p>You can loop over a list of items to apply a module multiple times.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBVc2luZyBhIGxvb3AgdG8gY3JlYXRlIG11bHRpcGxlIHVzZXJzCi0gbmFtZTogQ3JlYXRlIG11bHRpcGxlIHVzZXJzCiAgdXNlcjoKICAgIG5hbWU6ICJ7eyBpdGVtIH19IgogICAgc3RhdGU6IHByZXNlbnQKICBsb29wOgogICAgLSBhbGljZQogICAgLSBib2IKICAgIC0gY2hhcmxpZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: Using a loop to create multiple users
- name: Create multiple users
  user:
    name: &quot;{{ item }}&quot;
    state: present
  loop:
    - alice
    - bob
    - charlie</pre></div><div class='content'></div><h2>Custom Modules</h2>
<div class='content'><p>For tasks that are not covered by built-in modules, you can create custom modules.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlOiBBIHNpbXBsZSBjdXN0b20gbW9kdWxlIGluIFB5dGhvbgpmcm9tIGFuc2libGUubW9kdWxlX3V0aWxzLmJhc2ljIGltcG9ydCBBbnNpYmxlTW9kdWxlCgpkZWYgcnVuX21vZHVsZSgpOgogICAgbW9kdWxlX2FyZ3MgPSBkaWN0KAogICAgICAgIG5hbWU9ZGljdCh0eXBlPSdzdHInLCByZXF1aXJlZD1UcnVlKQogICAgKQoKICAgIG1vZHVsZSA9IEFuc2libGVNb2R1bGUoCiAgICAgICAgYXJndW1lbnRfc3BlYz1tb2R1bGVfYXJncywKICAgICAgICBzdXBwb3J0c19jaGVja19tb2RlPVRydWUKICAgICkKCiAgICByZXN1bHQgPSBkaWN0KAogICAgICAgIGNoYW5nZWQ9RmFsc2UsCiAgICAgICAgb3JpZ2luYWxfbWVzc2FnZT0nJywKICAgICAgICBtZXNzYWdlPScnCiAgICApCgogICAgbmFtZSA9IG1vZHVsZS5wYXJhbXNbJ25hbWUnXQogICAgcmVzdWx0WydvcmlnaW5hbF9tZXNzYWdlJ10gPSBuYW1lCiAgICByZXN1bHRbJ21lc3NhZ2UnXSA9ICdIZWxsbywge30nLmZvcm1hdChuYW1lKQoKICAgIG1vZHVsZS5leGl0X2pzb24oKipyZXN1bHQpCgpkZWYgbWFpbigpOgogICAgcnVuX21vZHVsZSgpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgbWFpbigp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example: A simple custom module in Python
from ansible.module_utils.basic import AnsibleModule

def run_module():
    module_args = dict(
        name=dict(type='str', required=True)
    )

    module = AnsibleModule(
        argument_spec=module_args,
        supports_check_mode=True
    )

    result = dict(
        changed=False,
        original_message='',
        message=''
    )

    name = module.params['name']
    result['original_message'] = name
    result['message'] = 'Hello, {}'.format(name)

    module.exit_json(**result)

def main():
    run_module()

if __name__ == '__main__':
    main()</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Ansible modules are powerful tools that allow you to automate a wide range of tasks. By understanding the basics of using built-in modules and the principles of creating custom modules, you can significantly enhance your automation capabilities. Practice using different modules, explore their parameters, and try creating your own custom modules to deepen your understanding.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-playbooks'>&#x25C4;Introduction to Playbooks</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ansible Modules</a>
	</div>
	<div class='col-4 text-end'>
					<a href='running-ad-hoc-commands'>Running Ad-Hoc Commands &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
