<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Playbooks</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/03-01-introduction-to-playbooks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/03-01-introduction-to-playbooks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/03-01-introduction-to-playbooks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ansible/03-01-introduction-to-playbooks" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ansible/03-01-introduction-to-playbooks" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-ansible-modules' title="Ansible Modules">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Introduction to Playbooks</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-writing-your-first-playbook' title="Writing Your First Playbook">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into one of the core components of Ansible: Playbooks. Playbooks are the heart of Ansible's configuration management and automation capabilities. They allow you to define a series of tasks to be executed on your managed nodes in a structured and repeatable manner.</p>
</div><h1><p>What is a Playbook?</p>
</h1>
<div class='content'><p>A Playbook is a YAML file that contains a series of plays. Each play defines a set of tasks to be executed on a group of hosts. Playbooks are designed to be human-readable and can be version-controlled, making them an excellent tool for managing infrastructure as code.</p>
</div><h2><p>Key Concepts</p>
</h2>
<div class='content'><ul>
<li><strong>Play</strong>: A play is a collection of tasks that are executed on a group of hosts.</li>
<li><strong>Task</strong>: A task is a single unit of work to be performed, such as installing a package or copying a file.</li>
<li><strong>Module</strong>: A module is a reusable, standalone script that Ansible runs to perform a specific task.</li>
<li><strong>Handlers</strong>: Handlers are tasks that are only run when notified by other tasks.</li>
<li><strong>Variables</strong>: Variables allow you to store values that can be reused throughout your playbook.</li>
<li><strong>Facts</strong>: Facts are system properties gathered by Ansible when it connects to a host.</li>
</ul>
</div><h1><p>Structure of a Playbook</p>
</h1>
<div class='content'><p>A basic playbook consists of one or more plays. Each play targets a group of hosts and defines a series of tasks to be executed on those hosts.</p>
</div><h2><p>Example Playbook</p>
</h2>
<div class='content'><p>Below is a simple example of a playbook that installs the Apache web server on a group of hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogSW5zdGFsbCBhbmQgc3RhcnQgQXBhY2hlCiAgaG9zdHM6IHdlYnNlcnZlcnMKICBiZWNvbWU6IHllcwoKICB0YXNrczoKICAgIC0gbmFtZTogSW5zdGFsbCBBcGFjaGUKICAgICAgYXB0OgogICAgICAgIG5hbWU6IGFwYWNoZTIKICAgICAgICBzdGF0ZTogcHJlc2VudAoKICAgIC0gbmFtZTogU3RhcnQgQXBhY2hlIHNlcnZpY2UKICAgICAgc2VydmljZToKICAgICAgICBuYW1lOiBhcGFjaGUyCiAgICAgICAgc3RhdGU6IHN0YXJ0ZWQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Install and start Apache
  hosts: webservers
  become: yes

  tasks:
    - name: Install Apache
      apt:
        name: apache2
        state: present

    - name: Start Apache service
      service:
        name: apache2
        state: started</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>---</code>: Indicates the start of a YAML document.</li>
<li><code>- name: Install and start Apache</code>: The name of the play.</li>
<li><code>hosts: webservers</code>: Specifies the group of hosts on which the play will run.</li>
<li><code>become: yes</code>: Indicates that the tasks should be run with elevated privileges (sudo).</li>
<li><code>tasks</code>: A list of tasks to be executed.
<ul>
<li><code>- name: Install Apache</code>: The name of the task.</li>
<li><code>apt</code>: The Ansible module used to manage packages on Debian-based systems.</li>
<li><code>name: apache2</code>: The name of the package to be installed.</li>
<li><code>state: present</code>: Ensures that the package is installed.</li>
<li><code>- name: Start Apache service</code>: The name of the task.</li>
<li><code>service</code>: The Ansible module used to manage services.</li>
<li><code>name: apache2</code>: The name of the service to be managed.</li>
<li><code>state: started</code>: Ensures that the service is started.</li>
</ul>
</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Writing a Simple Playbook</p>
</h2>
<div class='content'><p><strong>Objective</strong>: Write a playbook to install and start the Nginx web server on a group of hosts.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a new file named <code>nginx_playbook.yml</code>.</li>
<li>Define a play that targets a group of hosts named <code>webservers</code>.</li>
<li>Add tasks to install and start the Nginx web server.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogSW5zdGFsbCBhbmQgc3RhcnQgTmdpbngKICBob3N0czogd2Vic2VydmVycwogIGJlY29tZTogeWVzCgogIHRhc2tzOgogICAgLSBuYW1lOiBJbnN0YWxsIE5naW54CiAgICAgIGFwdDoKICAgICAgICBuYW1lOiBuZ2lueAogICAgICAgIHN0YXRlOiBwcmVzZW50CgogICAgLSBuYW1lOiBTdGFydCBOZ2lueCBzZXJ2aWNlCiAgICAgIHNlcnZpY2U6CiAgICAgICAgbmFtZTogbmdpbngKICAgICAgICBzdGF0ZTogc3RhcnRlZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Install and start Nginx
  hosts: webservers
  become: yes

  tasks:
    - name: Install Nginx
      apt:
        name: nginx
        state: present

    - name: Start Nginx service
      service:
        name: nginx
        state: started</pre></div><div class='content'></div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Indentation</strong>: YAML is indentation-sensitive. Ensure that you use consistent indentation (usually 2 spaces).</li>
<li><strong>Module Parameters</strong>: Make sure to use the correct parameters for each module. Refer to the Ansible documentation if unsure.</li>
<li><strong>Syntax Errors</strong>: Use <code>ansible-playbook --syntax-check &lt;playbook.yml&gt;</code> to check for syntax errors before running your playbook.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we introduced the concept of Ansible Playbooks and their structure. We covered the basic components of a playbook and provided a simple example to illustrate how to write one. By understanding the fundamentals of playbooks, you are now prepared to create more complex and powerful automation scripts in Ansible. In the next section, we will guide you through writing your first playbook, building on the concepts introduced here.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-ansible-modules' title="Ansible Modules">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-writing-your-first-playbook' title="Writing Your First Playbook">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
