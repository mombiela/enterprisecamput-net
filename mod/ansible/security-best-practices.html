<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Best Practices in Ansible</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ansible/security-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ansible/security-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-ansible-code'>&#x25C4;Testing Ansible Code</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices in Ansible</a>
	</div>
	<div class='col-4 text-end'>
					<a href='scaling-ansible'>Scaling Ansible &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Security is a critical aspect of any IT infrastructure, and Ansible, as a powerful automation tool, must be used with security best practices in mind. This section will guide you through the essential security practices for using Ansible, from beginner to advanced levels.</p>
</div><h1>Basic Security Practices</h1>
<div class='content'></div><h2>Use SSH Keys Instead of Passwords</h2>
<div class='content'><ul>
<li><strong>Why</strong>: SSH keys provide a more secure and convenient way to authenticate than passwords.</li>
<li><strong>How</strong>: Generate SSH keys and distribute the public key to the managed nodes.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBHZW5lcmF0ZSBTU0gga2V5IHBhaXIKc3NoLWtleWdlbiAtdCByc2EgLWIgNDA5NgoKIyBDb3B5IHRoZSBwdWJsaWMga2V5IHRvIHRoZSBtYW5hZ2VkIG5vZGUKc3NoLWNvcHktaWQgdXNlckBtYW5hZ2VkX25vZGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Generate SSH key pair
ssh-keygen -t rsa -b 4096

# Copy the public key to the managed node
ssh-copy-id user@managed_node</pre></div><div class='content'></div><h2>Limit SSH Access</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Restricting SSH access reduces the attack surface.</li>
<li><strong>How</strong>: Use firewalls and security groups to limit SSH access to trusted IP addresses.</li>
</ul>
</div><h2>Use Ansible Vault for Sensitive Data</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Storing sensitive data such as passwords and API keys in plain text is a security risk.</li>
<li><strong>How</strong>: Encrypt sensitive data using Ansible Vault.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhdGUgYW4gZW5jcnlwdGVkIGZpbGUKYW5zaWJsZS12YXVsdCBjcmVhdGUgc2VjcmV0cy55bWwKCiMgRWRpdCBhbiBlbmNyeXB0ZWQgZmlsZQphbnNpYmxlLXZhdWx0IGVkaXQgc2VjcmV0cy55bWwKCiMgVXNlIHRoZSBlbmNyeXB0ZWQgZmlsZSBpbiBhIHBsYXlib29rCmFuc2libGUtcGxheWJvb2sgcGxheWJvb2sueW1sIC0tYXNrLXZhdWx0LXBhc3M="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Create an encrypted file
ansible-vault create secrets.yml

# Edit an encrypted file
ansible-vault edit secrets.yml

# Use the encrypted file in a playbook
ansible-playbook playbook.yml --ask-vault-pass</pre></div><div class='content'></div><h1>Intermediate Security Practices</h1>
<div class='content'></div><h2>Principle of Least Privilege</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Minimize the permissions granted to users and processes to reduce potential damage from security breaches.</li>
<li><strong>How</strong>: Configure sudoers file to grant only necessary permissions.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIHN1ZG9lcnMgZW50cnkgZm9yIGxpbWl0ZWQgcHJpdmlsZWdlcwp1c2VyIEFMTD0oQUxMKSBOT1BBU1NXRDogL3Vzci9iaW4vYW5zaWJsZS1wbGF5Ym9vaw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example sudoers entry for limited privileges
user ALL=(ALL) NOPASSWD: /usr/bin/ansible-playbook</pre></div><div class='content'></div><h2>Secure Ansible Configuration</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Ensuring the Ansible configuration itself is secure prevents unauthorized changes.</li>
<li><strong>How</strong>: Set appropriate file permissions and use version control with access controls.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTZXQgZmlsZSBwZXJtaXNzaW9ucwpjaG1vZCA2MDAgYW5zaWJsZS5jZmcKY2htb2QgNzAwIC9ldGMvYW5zaWJsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Set file permissions
chmod 600 ansible.cfg
chmod 700 /etc/ansible</pre></div><div class='content'></div><h2>Use Roles and Playbooks from Trusted Sources</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Using untrusted roles and playbooks can introduce vulnerabilities.</li>
<li><strong>How</strong>: Verify the source and review the code before using it.</li>
</ul>
</div><h1>Advanced Security Practices</h1>
<div class='content'></div><h2>Implement Ansible Tower or AWX</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Provides a centralized, secure, and scalable way to manage Ansible deployments.</li>
<li><strong>How</strong>: Install and configure Ansible Tower or AWX, and use its features for role-based access control (RBAC), logging, and auditing.</li>
</ul>
</div><h2>Use Custom Ansible Modules with Care</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Custom modules can introduce security risks if not properly vetted.</li>
<li><strong>How</strong>: Review and test custom modules thoroughly before deployment.</li>
</ul>
</div><h2>Regular Security Audits and Compliance Checks</h2>
<div class='content'><ul>
<li><strong>Why</strong>: Regular audits help identify and mitigate security vulnerabilities.</li>
<li><strong>How</strong>: Use Ansible to automate compliance checks and generate audit reports.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGFtcGxlIHBsYXlib29rIGZvciBjb21wbGlhbmNlIGNoZWNrCi0gbmFtZTogQ2hlY2sgZm9yIHVuYXV0aG9yaXplZCB1c2VycwogIGhvc3RzOiBhbGwKICB0YXNrczoKICAgIC0gbmFtZTogRW5zdXJlIG5vIHVuYXV0aG9yaXplZCB1c2VycyBleGlzdAogICAgICBzaGVsbDogY2F0IC9ldGMvcGFzc3dkIHwgZ3JlcCB1bmF1dGhvcml6ZWRfdXNlcgogICAgICByZWdpc3RlcjogcmVzdWx0CiAgICAgIGZhaWxlZF93aGVuOiByZXN1bHQuc3Rkb3V0ICE9ICIi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Example playbook for compliance check
- name: Check for unauthorized users
  hosts: all
  tasks:
    - name: Ensure no unauthorized users exist
      shell: cat /etc/passwd | grep unauthorized_user
      register: result
      failed_when: result.stdout != &quot;&quot;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Security in Ansible is an ongoing process that involves using best practices at every level of your automation workflow. By following these guidelines, you can significantly reduce the risk of security breaches and ensure that your infrastructure remains secure. Always stay updated with the latest security practices and continuously monitor and audit your systems.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-ansible-code'>&#x25C4;Testing Ansible Code</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Security Best Practices in Ansible</a>
	</div>
	<div class='col-4 text-end'>
					<a href='scaling-ansible'>Scaling Ansible &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
