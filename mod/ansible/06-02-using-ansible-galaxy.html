<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using Ansible Galaxy</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/06-02-using-ansible-galaxy" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/06-02-using-ansible-galaxy" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/06-02-using-ansible-galaxy" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ansible/06-02-using-ansible-galaxy" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ansible/06-02-using-ansible-galaxy" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-what-is-ansible-galaxy' title="What is Ansible Galaxy?">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Using Ansible Galaxy</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-creating-and-sharing-roles' title="Creating and Sharing Roles">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Ansible Galaxy is a hub for finding, sharing, and reusing Ansible roles. It simplifies the process of managing and distributing roles, making it easier to implement reusable and modular code. In this section, we will cover how to use Ansible Galaxy to find and install roles, as well as how to manage them within your projects.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Ansible Galaxy</strong>: A repository for Ansible roles that can be shared and reused.</li>
<li><strong>Roles</strong>: Predefined sets of tasks and configurations that can be easily integrated into playbooks.</li>
<li><strong>Galaxy CLI</strong>: Command-line interface for interacting with Ansible Galaxy.</li>
</ol>
</div><h1><p>Finding Roles</p>
</h1>
<div class='content'><p>To find roles on Ansible Galaxy, you can visit the <a href="https://galaxy.ansible.com/">Ansible Galaxy website</a>. You can search for roles by name, author, or tags.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'><p>Suppose you need a role to install and configure Nginx. You can search for &quot;nginx&quot; on the Ansible Galaxy website and find several roles that match your requirements.</p>
</div><h1><p>Installing Roles</p>
</h1>
<div class='content'><p>You can install roles directly from Ansible Galaxy using the <code>ansible-galaxy</code> command-line tool.</p>
</div><h2><p>Syntax</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1nYWxheHkgaW5zdGFsbCA8cm9sZV9uYW1lPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-galaxy install &lt;role_name&gt;</pre></div><div class='content'></div><h2><p>Example</p>
</h2>
<div class='content'><p>To install a role named <code>geerlingguy.nginx</code>, you would run:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1nYWxheHkgaW5zdGFsbCBnZWVybGluZ2d1eS5uZ2lueA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-galaxy install geerlingguy.nginx</pre></div><div class='content'><p>This command downloads the role and places it in the default roles directory (<code>/etc/ansible/roles</code> or <code>roles/</code> in your project directory).</p>
</div><h1><p>Using Installed Roles</p>
</h1>
<div class='content'><p>Once a role is installed, you can use it in your playbooks by referencing its name.</p>
</div><h2><p>Example Playbook</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogSW5zdGFsbCBhbmQgY29uZmlndXJlIE5naW54CiAgaG9zdHM6IHdlYnNlcnZlcnMKICByb2xlczoKICAgIC0gZ2VlcmxpbmdndXkubmdpbng="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Install and configure Nginx
  hosts: webservers
  roles:
    - geerlingguy.nginx</pre></div><div class='content'><p>In this example, the playbook applies the <code>geerlingguy.nginx</code> role to all hosts in the <code>webservers</code> group.</p>
</div><h1><p>Managing Roles</p>
</h1>
<div class='content'><p>You can manage roles using a <code>requirements.yml</code> file, which lists all the roles your project depends on. This file can be used to install multiple roles at once.</p>
</div><h2><p>Example <code>requirements.yml</code></p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCnJvbGVzOgogIC0gbmFtZTogZ2VlcmxpbmdndXkubmdpbngKICAtIG5hbWU6IGdlZXJsaW5nZ3V5Lm15c3FsCiAgLSBuYW1lOiBnZWVybGluZ2d1eS5waHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
roles:
  - name: geerlingguy.nginx
  - name: geerlingguy.mysql
  - name: geerlingguy.php</pre></div><div class='content'></div><h2><p>Installing Roles from <code>requirements.yml</code></p>
</h2>
<div class='content'><p>To install all roles listed in the <code>requirements.yml</code> file, use the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1nYWxheHkgaW5zdGFsbCAtciByZXF1aXJlbWVudHMueW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-galaxy install -r requirements.yml</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><ol>
<li>Create a <code>requirements.yml</code> file that includes the following roles:
<ul>
<li><code>geerlingguy.nginx</code></li>
<li><code>geerlingguy.mysql</code></li>
<li><code>geerlingguy.php</code></li>
</ul>
</li>
<li>Install the roles using the <code>ansible-galaxy</code> command.</li>
<li>Write a playbook that uses these roles to set up a web server environment.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>Create the <code>requirements.yml</code> file:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCnJvbGVzOgogIC0gbmFtZTogZ2VlcmxpbmdndXkubmdpbngKICAtIG5hbWU6IGdlZXJsaW5nZ3V5Lm15c3FsCiAgLSBuYW1lOiBnZWVybGluZ2d1eS5waHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
roles:
  - name: geerlingguy.nginx
  - name: geerlingguy.mysql
  - name: geerlingguy.php</pre></div><div class='content'><ol start="2">
<li>Install the roles:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1nYWxheHkgaW5zdGFsbCAtciByZXF1aXJlbWVudHMueW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-galaxy install -r requirements.yml</pre></div><div class='content'><ol start="3">
<li>Write the playbook (<code>site.yml</code>):</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogU2V0IHVwIHdlYiBzZXJ2ZXIgZW52aXJvbm1lbnQKICBob3N0czogd2Vic2VydmVycwogIHJvbGVzOgogICAgLSBnZWVybGluZ2d1eS5uZ2lueAogICAgLSBnZWVybGluZ2d1eS5teXNxbAogICAgLSBnZWVybGluZ2d1eS5waHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Set up web server environment
  hosts: webservers
  roles:
    - geerlingguy.nginx
    - geerlingguy.mysql
    - geerlingguy.php</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Incorrect Role Names</strong>: Ensure that the role names in your <code>requirements.yml</code> file and playbooks match the names on Ansible Galaxy.</li>
<li><strong>Role Dependencies</strong>: Some roles may have dependencies on other roles. Check the role documentation on Ansible Galaxy for any dependencies and include them in your <code>requirements.yml</code> file.</li>
<li><strong>Versioning</strong>: You can specify role versions in the <code>requirements.yml</code> file to ensure compatibility.</li>
</ul>
</div><h2><p>Example with Versioning</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCnJvbGVzOgogIC0gbmFtZTogZ2VlcmxpbmdndXkubmdpbngKICAgIHZlcnNpb246IDMuMC4wCiAgLSBuYW1lOiBnZWVybGluZ2d1eS5teXNxbAogICAgdmVyc2lvbjogMi45LjAKICAtIG5hbWU6IGdlZXJsaW5nZ3V5LnBocAogICAgdmVyc2lvbjogNC4xLjA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
roles:
  - name: geerlingguy.nginx
    version: 3.0.0
  - name: geerlingguy.mysql
    version: 2.9.0
  - name: geerlingguy.php
    version: 4.1.0</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered how to use Ansible Galaxy to find, install, and manage roles. By leveraging Ansible Galaxy, you can streamline your workflow and reuse community-contributed roles, saving time and effort in your automation projects. In the next section, we will explore how to create and share your own roles on Ansible Galaxy.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-what-is-ansible-galaxy' title="What is Ansible Galaxy?">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-creating-and-sharing-roles' title="Creating and Sharing Roles">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
