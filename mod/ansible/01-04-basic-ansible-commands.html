<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Ansible Commands</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/01-04-basic-ansible-commands" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/01-04-basic-ansible-commands" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/01-04-basic-ansible-commands" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ansible/01-04-basic-ansible-commands" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ansible/01-04-basic-ansible-commands" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='01-03-ansible-architecture' title="Ansible Architecture">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Basic Ansible Commands</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-01-inventory-files' title="Inventory Files">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover the fundamental Ansible commands that you need to know to start managing your infrastructure. These commands will help you perform various tasks such as checking connectivity, gathering information, and executing tasks on remote hosts.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><p>Before diving into the commands, let's understand some key concepts:</p>
<ul>
<li><strong>Control Node</strong>: The machine where Ansible is installed and from which commands are run.</li>
<li><strong>Managed Nodes</strong>: The machines that are managed by Ansible.</li>
<li><strong>Inventory</strong>: A list of managed nodes.</li>
<li><strong>Modules</strong>: Units of work that Ansible executes on managed nodes.</li>
</ul>
</div><h1><p>Common Ansible Commands</p>
</h1>
<div class='content'></div><h2><ol>
<li><code>ansible --version</code></li>
</ol>
</h2>
<div class='content'><p>This command checks the installed version of Ansible.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSAtLXZlcnNpb24="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible --version</pre></div><div class='content'><p><strong>Output:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSAyLjkuNgogIGNvbmZpZyBmaWxlID0gL2V0Yy9hbnNpYmxlL2Fuc2libGUuY2ZnCiAgY29uZmlndXJlZCBtb2R1bGUgc2VhcmNoIHBhdGggPSBbJy91c3Ivc2hhcmUvYW5zaWJsZS9tb2R1bGVzJ10KICBhbnNpYmxlIHB5dGhvbiBtb2R1bGUgbG9jYXRpb24gPSAvdXNyL2xpYi9weXRob24zLjgvc2l0ZS1wYWNrYWdlcy9hbnNpYmxlCiAgZXhlY3V0YWJsZSBsb2NhdGlvbiA9IC91c3IvYmluL2Fuc2libGUKICBweXRob24gdmVyc2lvbiA9IDMuOC4yIChkZWZhdWx0LCBGZWIgMjYgMjAyMCwgMDI6NTY6MTApIFtHQ0MgOS4yLjEgMjAxOTEwMDhd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible 2.9.6
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/usr/share/ansible/modules']
  ansible python module location = /usr/lib/python3.8/site-packages/ansible
  executable location = /usr/bin/ansible
  python version = 3.8.2 (default, Feb 26 2020, 02:56:10) [GCC 9.2.1 20191008]</pre></div><div class='content'></div><h2><ol start="2">
<li><code>ansible all -m ping</code></li>
</ol>
</h2>
<div class='content'><p>This command checks the connectivity to all hosts in the inventory using the <code>ping</code> module.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gcGluZw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m ping</pre></div><div class='content'><p><strong>Output:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aG9zdDEgfCBTVUNDRVNTID0+IHsKICAgICJjaGFuZ2VkIjogZmFsc2UsCiAgICAicGluZyI6ICJwb25nIgp9Cmhvc3QyIHwgU1VDQ0VTUyA9PiB7CiAgICAiY2hhbmdlZCI6IGZhbHNlLAogICAgInBpbmciOiAicG9uZyIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>host1 | SUCCESS =&gt; {
    &quot;changed&quot;: false,
    &quot;ping&quot;: &quot;pong&quot;
}
host2 | SUCCESS =&gt; {
    &quot;changed&quot;: false,
    &quot;ping&quot;: &quot;pong&quot;
}</pre></div><div class='content'></div><h2><ol start="3">
<li><code>ansible all -m setup</code></li>
</ol>
</h2>
<div class='content'><p>This command gathers facts about the managed nodes. The <code>setup</code> module collects detailed information about the system.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gc2V0dXA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m setup</pre></div><div class='content'><p><strong>Output:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aG9zdDEgfCBTVUNDRVNTID0+IHsKICAgICJhbnNpYmxlX2ZhY3RzIjogewogICAgICAgICJhbnNpYmxlX2FsbF9pcHY0X2FkZHJlc3NlcyI6IFsKICAgICAgICAgICAgIjE5Mi4xNjguMS4xMCIKICAgICAgICBdLAogICAgICAgICJhbnNpYmxlX2FyY2hpdGVjdHVyZSI6ICJ4ODZfNjQiLAogICAgICAgIC4uLgogICAgfSwKICAgICJjaGFuZ2VkIjogZmFsc2UKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>host1 | SUCCESS =&gt; {
    &quot;ansible_facts&quot;: {
        &quot;ansible_all_ipv4_addresses&quot;: [
            &quot;192.168.1.10&quot;
        ],
        &quot;ansible_architecture&quot;: &quot;x86_64&quot;,
        ...
    },
    &quot;changed&quot;: false
}</pre></div><div class='content'></div><h2><ol start="4">
<li><code>ansible all -a &quot;uptime&quot;</code></li>
</ol>
</h2>
<div class='content'><p>This command runs an ad-hoc command to check the uptime of all hosts in the inventory.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLWEgInVwdGltZSI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -a &quot;uptime&quot;</pre></div><div class='content'><p><strong>Output:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aG9zdDEgfCBDSEFOR0VEIHwgcmM9MCA+PgogMTA6MjM6NDUgdXAgNSBkYXlzLCAgMzo0NSwgIDEgdXNlciwgIGxvYWQgYXZlcmFnZTogMC4wMCwgMC4wMSwgMC4wNQpob3N0MiB8IENIQU5HRUQgfCByYz0wID4+CiAxMDoyMzo0NSB1cCAxMCBkYXlzLCAgMjozMCwgIDIgdXNlcnMsICBsb2FkIGF2ZXJhZ2U6IDAuMDEsIDAuMDIsIDAuMDA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>host1 | CHANGED | rc=0 &gt;&gt;
 10:23:45 up 5 days,  3:45,  1 user,  load average: 0.00, 0.01, 0.05
host2 | CHANGED | rc=0 &gt;&gt;
 10:23:45 up 10 days,  2:30,  2 users,  load average: 0.01, 0.02, 0.00</pre></div><div class='content'></div><h2><ol start="5">
<li><code>ansible all -m command -a &quot;df -h&quot;</code></li>
</ol>
</h2>
<div class='content'><p>This command uses the <code>command</code> module to check disk space on all hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gY29tbWFuZCAtYSAiZGYgLWgi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m command -a &quot;df -h&quot;</pre></div><div class='content'><p><strong>Output:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aG9zdDEgfCBDSEFOR0VEIHwgcmM9MCA+PgpGaWxlc3lzdGVtICAgICAgU2l6ZSAgVXNlZCBBdmFpbCBVc2UlIE1vdW50ZWQgb24KL2Rldi9zZGExICAgICAgICAyMEcgICAxNUcgIDQuNUcgIDc3JSAvCmhvc3QyIHwgQ0hBTkdFRCB8IHJjPTAgPj4KRmlsZXN5c3RlbSAgICAgIFNpemUgIFVzZWQgQXZhaWwgVXNlJSBNb3VudGVkIG9uCi9kZXYvc2RhMSAgICAgICAgNTBHICAgMzBHICAgMjBHICA2MCUgLw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>host1 | CHANGED | rc=0 &gt;&gt;
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        20G   15G  4.5G  77% /
host2 | CHANGED | rc=0 &gt;&gt;
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   30G   20G  60% /</pre></div><div class='content'></div><h2><ol start="6">
<li><code>ansible all -m copy -a &quot;src=/etc/hosts dest=/tmp/hosts&quot;</code></li>
</ol>
</h2>
<div class='content'><p>This command uses the <code>copy</code> module to copy the <code>/etc/hosts</code> file to <code>/tmp/hosts</code> on all hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gY29weSAtYSAic3JjPS9ldGMvaG9zdHMgZGVzdD0vdG1wL2hvc3RzIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m copy -a &quot;src=/etc/hosts dest=/tmp/hosts&quot;</pre></div><div class='content'><p><strong>Output:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aG9zdDEgfCBTVUNDRVNTID0+IHsKICAgICJjaGFuZ2VkIjogdHJ1ZSwKICAgICJjaGVja3N1bSI6ICIzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MiLAogICAgImRlc3QiOiAiL3RtcC9ob3N0cyIsCiAgICAiZ2lkIjogMCwKICAgICJncm91cCI6ICJyb290IiwKICAgICJtZDVzdW0iOiAiM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjM2IzYzNiM2MzYjNjIiwKICAgICJtb2RlIjogIjA2NDQiLAogICAgIm93bmVyIjogInJvb3QiLAogICAgInNpemUiOiAyNTgsCiAgICAic3JjIjogIi9yb290Ly5hbnNpYmxlL3RtcC9hbnNpYmxlLXRtcC0xNTg3NjU0MzIxLjEyMzQ1Ni0xMjM0NTY3ODkwLjEyMzQ1Ni9ob3N0cyIsCiAgICAic3RhdGUiOiAiZmlsZSIsCiAgICAidWlkIjogMAp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>host1 | SUCCESS =&gt; {
    &quot;changed&quot;: true,
    &quot;checksum&quot;: &quot;3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c&quot;,
    &quot;dest&quot;: &quot;/tmp/hosts&quot;,
    &quot;gid&quot;: 0,
    &quot;group&quot;: &quot;root&quot;,
    &quot;md5sum&quot;: &quot;3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c3b3c&quot;,
    &quot;mode&quot;: &quot;0644&quot;,
    &quot;owner&quot;: &quot;root&quot;,
    &quot;size&quot;: 258,
    &quot;src&quot;: &quot;/root/.ansible/tmp/ansible-tmp-1587654321.123456-1234567890.123456/hosts&quot;,
    &quot;state&quot;: &quot;file&quot;,
    &quot;uid&quot;: 0
}</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Check Connectivity</p>
</h2>
<div class='content'><ol>
<li>Ensure you have an inventory file named <code>hosts</code> with at least one host.</li>
<li>Run the <code>ansible all -m ping</code> command to check connectivity.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gcGluZw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m ping</pre></div><div class='content'></div><h2><p>Exercise 2: Gather System Information</p>
</h2>
<div class='content'><ol>
<li>Use the <code>setup</code> module to gather information about your managed nodes.</li>
<li>Save the output to a file named <code>system_info.txt</code>.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gc2V0dXAgPiBzeXN0ZW1faW5mby50eHQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m setup &gt; system_info.txt</pre></div><div class='content'></div><h2><p>Exercise 3: Check Disk Space</p>
</h2>
<div class='content'><ol>
<li>Run an ad-hoc command to check the disk space on all managed nodes.</li>
<li>Use the <code>df -h</code> command.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLWEgImRmIC1oIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -a &quot;df -h&quot;</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Inventory File</strong>: Ensure your inventory file is correctly formatted and accessible.</li>
<li><strong>SSH Access</strong>: Make sure you have SSH access to the managed nodes.</li>
<li><strong>Module Arguments</strong>: Always check the required arguments for each module to avoid errors.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basic Ansible commands that are essential for managing your infrastructure. You learned how to check connectivity, gather system information, and execute tasks on remote hosts. These commands form the foundation for more advanced Ansible operations, which we will explore in the upcoming modules.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='01-03-ansible-architecture' title="Ansible Architecture">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-01-inventory-files' title="Inventory Files">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
