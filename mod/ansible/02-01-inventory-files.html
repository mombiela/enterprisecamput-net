<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Files</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/02-01-inventory-files" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/02-01-inventory-files" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/02-01-inventory-files" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/ansible/02-01-inventory-files" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/ansible/02-01-inventory-files" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='01-04-basic-ansible-commands' title="Basic Ansible Commands">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Inventory Files</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-02-ansible-configuration' title="Ansible Configuration">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In Ansible, an inventory file is a crucial component that defines the hosts and groups of hosts upon which Ansible commands, modules, and playbooks operate. This section will cover the basics of inventory files, their structure, and how to create and use them effectively.</p>
</div><h1><p>What is an Inventory File?</p>
</h1>
<div class='content'><p>An inventory file is a text file that lists the hosts and groups of hosts that Ansible manages. It can be as simple as a list of hostnames or IP addresses, or it can be more complex, including variables and groupings.</p>
</div><h2><p>Key Concepts:</p>
</h2>
<div class='content'><ul>
<li><strong>Hosts</strong>: Individual machines that Ansible will manage.</li>
<li><strong>Groups</strong>: Collections of hosts that can be managed together.</li>
<li><strong>Variables</strong>: Configuration settings that can be applied to hosts or groups.</li>
</ul>
</div><h1><p>Basic Inventory File Structure</p>
</h1>
<div class='content'><p>A basic inventory file can be as simple as a list of hostnames or IP addresses. Here is an example of a simple inventory file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTaW1wbGUgaW52ZW50b3J5IGZpbGUKaG9zdDEuZXhhbXBsZS5jb20KaG9zdDIuZXhhbXBsZS5jb20KMTkyLjE2OC4xLjEKMTkyLjE2OC4xLjI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Simple inventory file
host1.example.com
host2.example.com
192.168.1.1
192.168.1.2</pre></div><div class='content'></div><h2><p>Grouping Hosts</p>
</h2>
<div class='content'><p>You can group hosts together to apply tasks to multiple hosts at once. Here is an example of an inventory file with groups:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBHcm91cGVkIGludmVudG9yeSBmaWxlClt3ZWJzZXJ2ZXJzXQp3ZWIxLmV4YW1wbGUuY29tCndlYjIuZXhhbXBsZS5jb20KCltkYnNlcnZlcnNdCmRiMS5leGFtcGxlLmNvbQpkYjIuZXhhbXBsZS5jb20="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Grouped inventory file
[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com</pre></div><div class='content'></div><h2><p>Defining Variables</p>
</h2>
<div class='content'><p>Variables can be defined for individual hosts or groups. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnZlbnRvcnkgZmlsZSB3aXRoIHZhcmlhYmxlcwpbd2Vic2VydmVyc10Kd2ViMS5leGFtcGxlLmNvbSBhbnNpYmxlX3VzZXI9YWRtaW4gYW5zaWJsZV9wb3J0PTIyCndlYjIuZXhhbXBsZS5jb20gYW5zaWJsZV91c2VyPWFkbWluIGFuc2libGVfcG9ydD0yMgoKW2Ric2VydmVyc10KZGIxLmV4YW1wbGUuY29tIGFuc2libGVfdXNlcj1yb290IGFuc2libGVfcG9ydD0zMzA2CmRiMi5leGFtcGxlLmNvbSBhbnNpYmxlX3VzZXI9cm9vdCBhbnNpYmxlX3BvcnQ9MzMwNg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Inventory file with variables
[webservers]
web1.example.com ansible_user=admin ansible_port=22
web2.example.com ansible_user=admin ansible_port=22

[dbservers]
db1.example.com ansible_user=root ansible_port=3306
db2.example.com ansible_user=root ansible_port=3306</pre></div><div class='content'></div><h1><p>Creating and Using Inventory Files</p>
</h1>
<div class='content'></div><h2><p>Creating an Inventory File</p>
</h2>
<div class='content'><ol>
<li><strong>Create a new file</strong>: Use your preferred text editor to create a new file, e.g., <code>inventory.ini</code>.</li>
<li><strong>Add hosts and groups</strong>: List your hosts and groups as shown in the examples above.</li>
<li><strong>Save the file</strong>: Save the file in a location accessible to your Ansible setup.</li>
</ol>
</div><h2><p>Using the Inventory File</p>
</h2>
<div class='content'><p>To use the inventory file with Ansible commands, you can specify it with the <code>-i</code> option. For example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLWkgaW52ZW50b3J5LmluaSAtbSBwaW5n"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -i inventory.ini -m ping</pre></div><div class='content'><p>This command will use the <code>inventory.ini</code> file to ping all hosts listed in the inventory.</p>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a practical example to solidify the concepts:</p>
<ol>
<li>
<p><strong>Create an inventory file named <code>my_inventory.ini</code></strong>:</p>
<pre><code class="language-ini">[webservers]
web1.example.com ansible_user=admin ansible_port=22
web2.example.com ansible_user=admin ansible_port=22

[dbservers]
db1.example.com ansible_user=root ansible_port=3306
db2.example.com ansible_user=root ansible_port=3306
</code></pre>
</li>
<li>
<p><strong>Run an Ansible command using the inventory file</strong>:</p>
<pre><code class="language-sh">ansible webservers -i my_inventory.ini -m ping
</code></pre>
<p>This command will ping all hosts in the <code>webservers</code> group.</p>
</li>
</ol>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a Basic Inventory File</p>
</h2>
<div class='content'><ol>
<li>Create a new inventory file named <code>basic_inventory.ini</code>.</li>
<li>Add the following hosts to the file:
<ul>
<li><code>host1.example.com</code></li>
<li><code>host2.example.com</code></li>
<li><code>192.168.1.1</code></li>
<li><code>192.168.1.2</code></li>
</ul>
</li>
<li>Save the file.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBiYXNpY19pbnZlbnRvcnkuaW5pCmhvc3QxLmV4YW1wbGUuY29tCmhvc3QyLmV4YW1wbGUuY29tCjE5Mi4xNjguMS4xCjE5Mi4xNjguMS4y"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># basic_inventory.ini
host1.example.com
host2.example.com
192.168.1.1
192.168.1.2</pre></div><div class='content'></div><h2><p>Exercise 2: Create a Grouped Inventory File</p>
</h2>
<div class='content'><ol>
<li>Create a new inventory file named <code>grouped_inventory.ini</code>.</li>
<li>Add the following groups and hosts:
<ul>
<li>Group <code>webservers</code> with hosts <code>web1.example.com</code> and <code>web2.example.com</code>.</li>
<li>Group <code>dbservers</code> with hosts <code>db1.example.com</code> and <code>db2.example.com</code>.</li>
</ul>
</li>
<li>Save the file.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBncm91cGVkX2ludmVudG9yeS5pbmkKW3dlYnNlcnZlcnNdCndlYjEuZXhhbXBsZS5jb20Kd2ViMi5leGFtcGxlLmNvbQoKW2Ric2VydmVyc10KZGIxLmV4YW1wbGUuY29tCmRiMi5leGFtcGxlLmNvbQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># grouped_inventory.ini
[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com</pre></div><div class='content'></div><h2><p>Exercise 3: Add Variables to Inventory File</p>
</h2>
<div class='content'><ol>
<li>Create a new inventory file named <code>variable_inventory.ini</code>.</li>
<li>Add the following groups, hosts, and variables:
<ul>
<li>Group <code>webservers</code> with hosts <code>web1.example.com</code> and <code>web2.example.com</code>, both with <code>ansible_user=admin</code> and <code>ansible_port=22</code>.</li>
<li>Group <code>dbservers</code> with hosts <code>db1.example.com</code> and <code>db2.example.com</code>, both with <code>ansible_user=root</code> and <code>ansible_port=3306</code>.</li>
</ul>
</li>
<li>Save the file.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2YXJpYWJsZV9pbnZlbnRvcnkuaW5pClt3ZWJzZXJ2ZXJzXQp3ZWIxLmV4YW1wbGUuY29tIGFuc2libGVfdXNlcj1hZG1pbiBhbnNpYmxlX3BvcnQ9MjIKd2ViMi5leGFtcGxlLmNvbSBhbnNpYmxlX3VzZXI9YWRtaW4gYW5zaWJsZV9wb3J0PTIyCgpbZGJzZXJ2ZXJzXQpkYjEuZXhhbXBsZS5jb20gYW5zaWJsZV91c2VyPXJvb3QgYW5zaWJsZV9wb3J0PTMzMDYKZGIyLmV4YW1wbGUuY29tIGFuc2libGVfdXNlcj1yb290IGFuc2libGVfcG9ydD0zMzA2"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># variable_inventory.ini
[webservers]
web1.example.com ansible_user=admin ansible_port=22
web2.example.com ansible_user=admin ansible_port=22

[dbservers]
db1.example.com ansible_user=root ansible_port=3306
db2.example.com ansible_user=root ansible_port=3306</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Incorrect Syntax</strong>: Ensure that the inventory file follows the correct syntax. Missing brackets or incorrect variable assignments can cause errors.</li>
<li><strong>File Permissions</strong>: Make sure the inventory file has the correct permissions to be read by Ansible.</li>
<li><strong>Host Reachability</strong>: Verify that the hosts listed in the inventory file are reachable from the Ansible control node.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of Ansible inventory files, including their structure, how to create them, and how to use them in Ansible commands. Understanding inventory files is fundamental to managing hosts and groups effectively in Ansible. In the next section, we will delve into Ansible configuration to further enhance your Ansible setup.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='01-04-basic-ansible-commands' title="Basic Ansible Commands">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-02-ansible-configuration' title="Ansible Configuration">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
