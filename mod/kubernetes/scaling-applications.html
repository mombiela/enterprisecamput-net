<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scaling Applications</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/scaling-applications" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/scaling-applications" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/scaling-applications" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/kubernetes/scaling-applications" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/kubernetes/scaling-applications" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='rolling-updates-and-rollbacks'>&#x25C4;Rolling Updates and Rollbacks</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Scaling Applications</a>
	</div>
	<div class='col-4 text-end'>
					<a href='health-checks-and-probes'>Health Checks and Probes &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Scaling applications is a fundamental aspect of managing workloads in Kubernetes. This topic will guide you through the concepts, tools, and best practices for scaling applications from a beginner to an advanced level.</p>
</div><h1>Introduction to Scaling</h1>
<div class='content'><p>Scaling in Kubernetes involves adjusting the number of replicas of your application to handle varying loads. This can be done manually or automatically.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>ReplicaSet</strong>: Ensures a specified number of pod replicas are running at any given time.</li>
<li><strong>Horizontal Pod Autoscaler (HPA)</strong>: Automatically scales the number of pods based on observed CPU utilization or other select metrics.</li>
<li><strong>Vertical Pod Autoscaler (VPA)</strong>: Adjusts the resource limits and requests for containers in pods.</li>
<li><strong>Cluster Autoscaler</strong>: Adjusts the size of the Kubernetes cluster by adding or removing nodes.</li>
</ul>
</div><h1>Manual Scaling</h1>
<div class='content'><p>Manual scaling involves explicitly setting the number of replicas for your application.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IG15LWFwcApzcGVjOgogIHJlcGxpY2FzOiAzCiAgc2VsZWN0b3I6CiAgICBtYXRjaExhYmVsczoKICAgICAgYXBwOiBteS1hcHAKICB0ZW1wbGF0ZToKICAgIG1ldGFkYXRhOgogICAgICBsYWJlbHM6CiAgICAgICAgYXBwOiBteS1hcHAKICAgIHNwZWM6CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogbXktYXBwLWNvbnRhaW5lcgogICAgICAgIGltYWdlOiBteS1hcHAtaW1hZ2UKICAgICAgICBwb3J0czoKICAgICAgICAtIGNvbnRhaW5lclBvcnQ6IDgw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app-container
        image: my-app-image
        ports:
        - containerPort: 80</pre></div><div class='content'><p>In this example, the <code>replicas</code> field is set to 3, meaning Kubernetes will maintain 3 replicas of the <code>my-app</code> pod.</p>
</div><h2>Scaling with kubectl</h2>
<div class='content'><p>You can also scale your application using the <code>kubectl</code> command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBzY2FsZSBkZXBsb3ltZW50IG15LWFwcCAtLXJlcGxpY2FzPTU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl scale deployment my-app --replicas=5</pre></div><div class='content'><p>This command scales the <code>my-app</code> deployment to 5 replicas.</p>
</div><h1>Horizontal Pod Autoscaler (HPA)</h1>
<div class='content'><p>HPA automatically scales the number of pods in a deployment or replica set based on observed metrics.</p>
</div><h2>Example</h2>
<div class='content'><p>First, ensure the Metrics Server is installed in your cluster:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBodHRwczovL2dpdGh1Yi5jb20va3ViZXJuZXRlcy1zaWdzL21ldHJpY3Mtc2VydmVyL3JlbGVhc2VzL2xhdGVzdC9kb3dubG9hZC9jb21wb25lbnRzLnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml</pre></div><div class='content'><p>Then, create an HPA resource:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogYXV0b3NjYWxpbmcvdjEKa2luZDogSG9yaXpvbnRhbFBvZEF1dG9zY2FsZXIKbWV0YWRhdGE6CiAgbmFtZTogbXktYXBwLWhwYQpzcGVjOgogIHNjYWxlVGFyZ2V0UmVmOgogICAgYXBpVmVyc2lvbjogYXBwcy92MQogICAga2luZDogRGVwbG95bWVudAogICAgbmFtZTogbXktYXBwCiAgbWluUmVwbGljYXM6IDEKICBtYXhSZXBsaWNhczogMTAKICB0YXJnZXRDUFVVdGlsaXphdGlvblBlcmNlbnRhZ2U6IDUw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: autoscaling/v1
kind: HorizontalPodAutoscaler
metadata:
  name: my-app-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-app
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 50</pre></div><div class='content'><p>This HPA will scale the <code>my-app</code> deployment between 1 and 10 replicas to maintain an average CPU utilization of 50%.</p>
</div><h2>Applying the HPA</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBteS1hcHAtaHBhLnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f my-app-hpa.yaml</pre></div><div class='content'></div><h1>Vertical Pod Autoscaler (VPA)</h1>
<div class='content'><p>VPA adjusts the resource requests and limits for containers in your pods.</p>
</div><h2>Example</h2>
<div class='content'><p>First, install the VPA components:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBodHRwczovL2dpdGh1Yi5jb20va3ViZXJuZXRlcy9hdXRvc2NhbGVyL3JlbGVhc2VzL2xhdGVzdC9kb3dubG9hZC92ZXJ0aWNhbC1wb2QtYXV0b3NjYWxlci55YW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f https://github.com/kubernetes/autoscaler/releases/latest/download/vertical-pod-autoscaler.yaml</pre></div><div class='content'><p>Then, create a VPA resource:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogYXV0b3NjYWxpbmcuazhzLmlvL3YxCmtpbmQ6IFZlcnRpY2FsUG9kQXV0b3NjYWxlcgptZXRhZGF0YToKICBuYW1lOiBteS1hcHAtdnBhCnNwZWM6CiAgdGFyZ2V0UmVmOgogICAgYXBpVmVyc2lvbjogImFwcHMvdjEiCiAgICBraW5kOiAgICAgICBEZXBsb3ltZW50CiAgICBuYW1lOiAgICAgICBteS1hcHAKICB1cGRhdGVQb2xpY3k6CiAgICB1cGRhdGVNb2RlOiAiQXV0byI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: my-app-vpa
spec:
  targetRef:
    apiVersion: &quot;apps/v1&quot;
    kind:       Deployment
    name:       my-app
  updatePolicy:
    updateMode: &quot;Auto&quot;</pre></div><div class='content'><p>This VPA will automatically adjust the resource requests and limits for the <code>my-app</code> deployment.</p>
</div><h2>Applying the VPA</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBteS1hcHAtdnBhLnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f my-app-vpa.yaml</pre></div><div class='content'></div><h1>Cluster Autoscaler</h1>
<div class='content'><p>Cluster Autoscaler adjusts the number of nodes in your cluster based on the resource requirements of your pods.</p>
</div><h2>Example</h2>
<div class='content'><p>Cluster Autoscaler is typically configured through your cloud provider. For example, in Google Kubernetes Engine (GKE), you can enable it via the GKE console or using <code>gcloud</code> commands.</p>
</div><h2>Enabling Cluster Autoscaler in GKE</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbnRhaW5lciBjbHVzdGVycyB1cGRhdGUgbXktY2x1c3RlciAtLWVuYWJsZS1hdXRvc2NhbGluZyAtLW1pbi1ub2Rlcz0xIC0tbWF4LW5vZGVzPTEwIC0tem9uZT11cy1jZW50cmFsMS1h"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud container clusters update my-cluster --enable-autoscaling --min-nodes=1 --max-nodes=10 --zone=us-central1-a</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Scaling applications in Kubernetes is essential for maintaining performance and efficiency. You can scale manually or use autoscaling features like HPA, VPA, and Cluster Autoscaler to automate the process. Understanding these tools and how to apply them will help you manage your workloads effectively.</p>
<p>By mastering these scaling techniques, you can ensure your applications are resilient, cost-effective, and capable of handling varying loads.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='rolling-updates-and-rollbacks'>&#x25C4;Rolling Updates and Rollbacks</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Scaling Applications</a>
	</div>
	<div class='col-4 text-end'>
					<a href='health-checks-and-probes'>Health Checks and Probes &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
