<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Types</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/04-02-service-types" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/04-02-service-types" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/04-02-service-types" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/kubernetes/04-02-service-types" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/kubernetes/04-02-service-types" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-cluster-networking' title="Cluster Networking">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Service Types</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-ingress-controllers' title="Ingress Controllers">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In Kubernetes, a Service is an abstraction that defines a logical set of Pods and a policy by which to access them. Services enable communication between different components of an application, whether they are within the same cluster or external to it. Kubernetes supports several types of Services, each suited to different use cases.</p>
</div><h1>Types of Services</h1>
<div class='content'><ol>
<li><strong>ClusterIP (default)</strong></li>
<li><strong>NodePort</strong></li>
<li><strong>LoadBalancer</strong></li>
<li><strong>ExternalName</strong></li>
</ol>
</div><h2>1. ClusterIP</h2>
<div class='content'><p><strong>ClusterIP</strong> is the default type of Service. It exposes the Service on an internal IP in the cluster. This type of Service is only accessible within the cluster.</p>
<h4>Use Case:</h4>
<ul>
<li>Internal communication between different components of an application.</li>
</ul>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1jbHVzdGVyaXAtc2VydmljZQpzcGVjOgogIHNlbGVjdG9yOgogICAgYXBwOiBNeUFwcAogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDkzNzYKICB0eXBlOiBDbHVzdGVySVA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-clusterip-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9376
  type: ClusterIP</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The Service is named <code>my-clusterip-service</code>.</li>
<li>It selects Pods with the label <code>app: MyApp</code>.</li>
<li>It exposes port 80 and forwards traffic to port 9376 on the selected Pods.</li>
</ul>
</div><h2>2. NodePort</h2>
<div class='content'><p><strong>NodePort</strong> exposes the Service on each Node's IP at a static port (the NodePort). A ClusterIP Service, to which the NodePort Service routes, is automatically created.</p>
<h4>Use Case:</h4>
<ul>
<li>Exposing a Service to be accessible from outside the cluster.</li>
</ul>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1ub2RlcG9ydC1zZXJ2aWNlCnNwZWM6CiAgc2VsZWN0b3I6CiAgICBhcHA6IE15QXBwCiAgcG9ydHM6CiAgICAtIHByb3RvY29sOiBUQ1AKICAgICAgcG9ydDogODAKICAgICAgdGFyZ2V0UG9ydDogOTM3NgogICAgICBub2RlUG9ydDogMzAwMDcKICB0eXBlOiBOb2RlUG9ydA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-nodeport-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9376
      nodePort: 30007
  type: NodePort</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The Service is named <code>my-nodeport-service</code>.</li>
<li>It selects Pods with the label <code>app: MyApp</code>.</li>
<li>It exposes port 80 and forwards traffic to port 9376 on the selected Pods.</li>
<li>The Service is accessible on port 30007 on each Node's IP.</li>
</ul>
</div><h2>3. LoadBalancer</h2>
<div class='content'><p><strong>LoadBalancer</strong> exposes the Service externally using a cloud provider's load balancer. It is an extension of the NodePort and ClusterIP types.</p>
<h4>Use Case:</h4>
<ul>
<li>Exposing a Service to be accessible from outside the cluster with load balancing.</li>
</ul>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1sb2FkYmFsYW5jZXItc2VydmljZQpzcGVjOgogIHNlbGVjdG9yOgogICAgYXBwOiBNeUFwcAogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDkzNzYKICB0eXBlOiBMb2FkQmFsYW5jZXI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-loadbalancer-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9376
  type: LoadBalancer</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The Service is named <code>my-loadbalancer-service</code>.</li>
<li>It selects Pods with the label <code>app: MyApp</code>.</li>
<li>It exposes port 80 and forwards traffic to port 9376 on the selected Pods.</li>
<li>The cloud provider will provision a load balancer that routes traffic to the NodePort Service.</li>
</ul>
</div><h2>4. ExternalName</h2>
<div class='content'><p><strong>ExternalName</strong> maps a Service to the contents of the <code>externalName</code> field (e.g., <code>foo.bar.example.com</code>), returning a CNAME record with its value. No proxying of any kind is set up.</p>
<h4>Use Case:</h4>
<ul>
<li>Mapping a Service to an external DNS name.</li>
</ul>
<h4>Example:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1leHRlcm5hbG5hbWUtc2VydmljZQpzcGVjOgogIHR5cGU6IEV4dGVybmFsTmFtZQogIGV4dGVybmFsTmFtZTogbXkuZGF0YWJhc2UuZXhhbXBsZS5jb20="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-externalname-service
spec:
  type: ExternalName
  externalName: my.database.example.com</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The Service is named <code>my-externalname-service</code>.</li>
<li>It maps to the external DNS name <code>my.database.example.com</code>.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task:</h2>
<div class='content'><p>Create a Kubernetes Service of type <code>NodePort</code> that exposes a simple web application running in a Pod.</p>
</div><h2>Steps:</h2>
<div class='content'><ol>
<li>Create a Pod definition file <code>webapp-pod.yaml</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IHdlYmFwcAogIGxhYmVsczoKICAgIGFwcDogd2ViYXBwCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IHdlYmFwcAogICAgaW1hZ2U6IG5naW54CiAgICBwb3J0czoKICAgIC0gY29udGFpbmVyUG9ydDogODA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: webapp
  labels:
    app: webapp
spec:
  containers:
  - name: webapp
    image: nginx
    ports:
    - containerPort: 80</pre></div><div class='content'><ol start="2">
<li>Apply the Pod definition:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiB3ZWJhcHAtcG9kLnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f webapp-pod.yaml</pre></div><div class='content'><ol start="3">
<li>Create a Service definition file <code>webapp-service.yaml</code>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiB3ZWJhcHAtc2VydmljZQpzcGVjOgogIHNlbGVjdG9yOgogICAgYXBwOiB3ZWJhcHAKICBwb3J0czoKICAgIC0gcHJvdG9jb2w6IFRDUAogICAgICBwb3J0OiA4MAogICAgICB0YXJnZXRQb3J0OiA4MAogICAgICBub2RlUG9ydDogMzAwMDgKICB0eXBlOiBOb2RlUG9ydA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: webapp-service
spec:
  selector:
    app: webapp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
      nodePort: 30008
  type: NodePort</pre></div><div class='content'><ol start="4">
<li>Apply the Service definition:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiB3ZWJhcHAtc2VydmljZS55YW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f webapp-service.yaml</pre></div><div class='content'><ol start="5">
<li>Access the web application using the Node's IP and the NodePort (e.g., <code>http://&lt;NodeIP&gt;:30008</code>).</li>
</ol>
</div><h2>Solution:</h2>
<div class='content'><ul>
<li>Ensure the Pod is running:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBnZXQgcG9kcw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl get pods</pre></div><div class='content'><ul>
<li>Ensure the Service is created and accessible:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBnZXQgc2VydmljZXM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl get services</pre></div><div class='content'><ul>
<li>Access the web application using a web browser or <code>curl</code>:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3VybCBodHRwOi8vPE5vZGVJUD46MzAwMDg="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>curl http://&lt;NodeIP&gt;:30008</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>In this section, we covered the different types of Services in Kubernetes:</p>
<ul>
<li><strong>ClusterIP</strong> for internal communication.</li>
<li><strong>NodePort</strong> for exposing Services externally.</li>
<li><strong>LoadBalancer</strong> for external access with load balancing.</li>
<li><strong>ExternalName</strong> for mapping Services to external DNS names.</li>
</ul>
<p>We also provided a practical exercise to create and expose a web application using a <code>NodePort</code> Service. Understanding these Service types is crucial for managing communication within and outside your Kubernetes cluster.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-cluster-networking' title="Cluster Networking">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-ingress-controllers' title="Ingress Controllers">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
