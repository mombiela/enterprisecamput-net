<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Vertical Pod Autoscaling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/09-02-vertical-pod-autoscaling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/09-02-vertical-pod-autoscaling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/09-02-vertical-pod-autoscaling" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "kubernetes";
  		var TEMA_NAME = "9-2";
  		var TYPE = "mod";
  		var PATH = "mod/kubernetes/09-02-vertical-pod-autoscaling";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.86da6c742a.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/kubernetes/09-02-vertical-pod-autoscaling" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/kubernetes/09-02-vertical-pod-autoscaling" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kubernetes">
		<a  href="#" class="text-secondary d-none" data-read-mod="kubernetes" data-read-unit="9-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kubernetes" data-unread-unit="9-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='09-01-horizontal-pod-autoscaling' title="Horizontal Pod Autoscaling" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='09-01-horizontal-pod-autoscaling' title="Horizontal Pod Autoscaling" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Vertical Pod Autoscaling</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-03-cluster-autoscaling' title="Cluster Autoscaling" class="py-2 px-3 btn btn-primary"
				data-read-mod="kubernetes" data-read-unit="9-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-03-cluster-autoscaling' title="Cluster Autoscaling" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kubernetes" data-read-unit="9-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Vertical Pod Autoscaling (VPA) is a feature in Kubernetes that automatically adjusts the CPU and memory requests and limits for your pods based on their actual usage. This ensures that your applications have the resources they need to run efficiently without over-provisioning.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Resource Requests and Limits</strong>:</p>
<ul>
<li><strong>Requests</strong>: The amount of CPU and memory guaranteed to a container.</li>
<li><strong>Limits</strong>: The maximum amount of CPU and memory a container can use.</li>
</ul>
</li>
<li>
<p><strong>Vertical Pod Autoscaler (VPA)</strong>:</p>
<ul>
<li>A Kubernetes component that monitors the resource usage of pods and adjusts their resource requests and limits accordingly.</li>
</ul>
</li>
<li>
<p><strong>VPA Modes</strong>:</p>
<ul>
<li><strong>Off</strong>: VPA is not active.</li>
<li><strong>Auto</strong>: VPA automatically updates the resource requests and limits.</li>
<li><strong>Recreate</strong>: VPA updates the resource requests and limits by recreating the pods.</li>
<li><strong>Initial</strong>: VPA sets the initial resource requests and limits when the pod is created.</li>
</ul>
</li>
</ol>
</div><h1>Setting Up Vertical Pod Autoscaling</h1>
<div class='content'></div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>A running Kubernetes cluster.</li>
<li><code>kubectl</code> command-line tool configured to communicate with your cluster.</li>
</ul>
</div><h2>Installing the Vertical Pod Autoscaler</h2>
<div class='content'><ol>
<li>
<p><strong>Clone the VPA repository</strong>:</p>
<pre><code class="language-sh">git clone https://github.com/kubernetes/autoscaler.git
cd autoscaler/vertical-pod-autoscaler/
</code></pre>
</li>
<li>
<p><strong>Deploy the VPA components</strong>:</p>
<pre><code class="language-sh">kubectl apply -f vertical-pod-autoscaler/deploy/recommender.yaml
kubectl apply -f vertical-pod-autoscaler/deploy/updater.yaml
kubectl apply -f vertical-pod-autoscaler/deploy/admission-controller.yaml
</code></pre>
</li>
</ol>
</div><h2>Configuring Vertical Pod Autoscaler</h2>
<div class='content'><ol>
<li>
<p><strong>Create a VPA object</strong>:</p>
<pre><code class="language-yaml">apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: my-vpa
spec:
  targetRef:
    apiVersion: &quot;apps/v1&quot;
    kind:       Deployment
    name:       my-deployment
  updatePolicy:
    updateMode: &quot;Auto&quot;
</code></pre>
</li>
<li>
<p><strong>Apply the VPA configuration</strong>:</p>
<pre><code class="language-sh">kubectl apply -f my-vpa.yaml
</code></pre>
</li>
</ol>
</div><h2>Example Deployment with VPA</h2>
<div class='content'><ol>
<li>
<p><strong>Create a sample deployment</strong>:</p>
<pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
spec:
  replicas: 2
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-container
        image: nginx
        resources:
          requests:
            cpu: &quot;100m&quot;
            memory: &quot;128Mi&quot;
          limits:
            cpu: &quot;200m&quot;
            memory: &quot;256Mi&quot;
</code></pre>
</li>
<li>
<p><strong>Apply the deployment</strong>:</p>
<pre><code class="language-sh">kubectl apply -f my-deployment.yaml
</code></pre>
</li>
<li>
<p><strong>Apply the VPA configuration</strong>:</p>
<pre><code class="language-sh">kubectl apply -f my-vpa.yaml
</code></pre>
</li>
</ol>
</div><h1>Monitoring and Managing VPA</h1>
<div class='content'><ul>
<li>
<p><strong>Check VPA recommendations</strong>:</p>
<pre><code class="language-sh">kubectl describe vpa my-vpa
</code></pre>
</li>
<li>
<p><strong>View updated resource requests and limits</strong>:</p>
<pre><code class="language-sh">kubectl get pods -o=jsonpath='{range .items[*]}{.metadata.name}{&quot;\t&quot;}{.spec.containers[*].resources}{&quot;\n&quot;}{end}'
</code></pre>
</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Implement Vertical Pod Autoscaling</h2>
<div class='content'><ol>
<li><strong>Create a deployment for a sample application</strong>.</li>
<li><strong>Configure and apply a VPA object for the deployment</strong>.</li>
<li><strong>Monitor the resource adjustments made by VPA</strong>.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><ol>
<li>
<p><strong>Create a deployment</strong>:</p>
<pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: sample-deployment
spec:
  replicas: 2
  selector:
    matchLabels:
      app: sample-app
  template:
    metadata:
      labels:
        app: sample-app
    spec:
      containers:
      - name: sample-container
        image: nginx
        resources:
          requests:
            cpu: &quot;100m&quot;
            memory: &quot;128Mi&quot;
          limits:
            cpu: &quot;200m&quot;
            memory: &quot;256Mi&quot;
</code></pre>
</li>
<li>
<p><strong>Apply the deployment</strong>:</p>
<pre><code class="language-sh">kubectl apply -f sample-deployment.yaml
</code></pre>
</li>
<li>
<p><strong>Create a VPA configuration</strong>:</p>
<pre><code class="language-yaml">apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: sample-vpa
spec:
  targetRef:
    apiVersion: &quot;apps/v1&quot;
    kind:       Deployment
    name:       sample-deployment
  updatePolicy:
    updateMode: &quot;Auto&quot;
</code></pre>
</li>
<li>
<p><strong>Apply the VPA configuration</strong>:</p>
<pre><code class="language-sh">kubectl apply -f sample-vpa.yaml
</code></pre>
</li>
<li>
<p><strong>Monitor the VPA recommendations</strong>:</p>
<pre><code class="language-sh">kubectl describe vpa sample-vpa
</code></pre>
</li>
<li>
<p><strong>Check the updated resource requests and limits</strong>:</p>
<pre><code class="language-sh">kubectl get pods -o=jsonpath='{range .items[*]}{.metadata.name}{&quot;\t&quot;}{.spec.containers[*].resources}{&quot;\n&quot;}{end}'
</code></pre>
</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Incorrect VPA mode</strong>: Ensure the <code>updateMode</code> is set correctly based on your needs (e.g., <code>Auto</code> for automatic updates).</li>
<li><strong>Resource limits too high/low</strong>: Monitor the resource usage and adjust the initial requests and limits accordingly.</li>
<li><strong>Not monitoring VPA recommendations</strong>: Regularly check VPA recommendations to ensure your pods are getting the right resources.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Vertical Pod Autoscaling is a powerful feature in Kubernetes that helps optimize resource usage by automatically adjusting the CPU and memory requests and limits for your pods. By setting up and configuring VPA, you can ensure that your applications run efficiently without over-provisioning resources. In the next section, we will explore Cluster Autoscaling, which focuses on scaling the entire cluster based on resource demands.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='09-01-horizontal-pod-autoscaling' title="Horizontal Pod Autoscaling" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='09-01-horizontal-pod-autoscaling' title="Horizontal Pod Autoscaling" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-03-cluster-autoscaling' title="Cluster Autoscaling" class="py-2 px-3 btn btn-primary"
				data-read-mod="kubernetes" data-read-unit="9-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-03-cluster-autoscaling' title="Cluster Autoscaling" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kubernetes" data-read-unit="9-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Kubernetes Course</h1>
<h2>Module 1: Introduction to Kubernetes</h2>
<ul>
<li><a href="01-01-what-is-kubernetes">What is Kubernetes?</a></li>
<li><a href="01-02-kubernetes-architecture">Kubernetes Architecture</a></li>
<li><a href="01-03-key-concepts-terminology">Key Concepts and Terminology</a></li>
<li><a href="01-04-setting-up-cluster">Setting Up a Kubernetes Cluster</a></li>
<li><a href="01-05-kubernetes-cli">Kubernetes CLI (kubectl)</a></li>
</ul>
<h2>Module 2: Core Kubernetes Components</h2>
<ul>
<li><a href="02-01-pods">Pods</a></li>
<li><a href="02-02-replicasets">ReplicaSets</a></li>
<li><a href="02-03-deployments">Deployments</a></li>
<li><a href="02-04-services">Services</a></li>
<li><a href="02-05-namespaces">Namespaces</a></li>
</ul>
<h2>Module 3: Configuration and Secrets Management</h2>
<ul>
<li><a href="03-01-configmaps">ConfigMaps</a></li>
<li><a href="03-02-secrets">Secrets</a></li>
<li><a href="03-03-environment-variables">Environment Variables</a></li>
<li><a href="03-04-resource-quotas-limits">Resource Quotas and Limits</a></li>
</ul>
<h2>Module 4: Networking in Kubernetes</h2>
<ul>
<li><a href="04-01-cluster-networking">Cluster Networking</a></li>
<li><a href="04-02-service-types">Service Types</a></li>
<li><a href="04-03-ingress-controllers">Ingress Controllers</a></li>
<li><a href="04-04-network-policies">Network Policies</a></li>
</ul>
<h2>Module 5: Storage in Kubernetes</h2>
<ul>
<li><a href="05-01-volumes">Volumes</a></li>
<li><a href="05-02-persistent-volumes">Persistent Volumes</a></li>
<li><a href="05-03-persistent-volume-claims">Persistent Volume Claims</a></li>
<li><a href="05-04-storage-classes">Storage Classes</a></li>
</ul>
<h2>Module 6: Advanced Kubernetes Concepts</h2>
<ul>
<li><a href="06-01-statefulsets">StatefulSets</a></li>
<li><a href="06-02-daemonsets">DaemonSets</a></li>
<li><a href="06-03-jobs-cronjobs">Jobs and CronJobs</a></li>
<li><a href="06-04-crds">Custom Resource Definitions (CRDs)</a></li>
</ul>
<h2>Module 7: Monitoring and Logging</h2>
<ul>
<li><a href="07-01-monitoring-prometheus">Monitoring with Prometheus</a></li>
<li><a href="07-02-logging-efk">Logging with Elasticsearch, Fluentd, and Kibana (EFK)</a></li>
<li><a href="07-03-health-checks-probes">Health Checks and Probes</a></li>
<li><a href="07-04-metrics-server">Metrics Server</a></li>
</ul>
<h2>Module 8: Security in Kubernetes</h2>
<ul>
<li><a href="08-01-rbac">Role-Based Access Control (RBAC)</a></li>
<li><a href="08-02-pod-security-policies">Pod Security Policies</a></li>
<li><a href="08-03-network-security">Network Security</a></li>
<li><a href="08-04-image-security">Image Security</a></li>
</ul>
<h2>Module 9: Scaling and Performance</h2>
<ul>
<li><a href="09-01-horizontal-pod-autoscaling">Horizontal Pod Autoscaling</a></li>
<li><a href="09-02-vertical-pod-autoscaling">Vertical Pod Autoscaling</a></li>
<li><a href="09-03-cluster-autoscaling">Cluster Autoscaling</a></li>
<li><a href="09-04-performance-tuning">Performance Tuning</a></li>
</ul>
<h2>Module 10: Kubernetes Ecosystem and Tools</h2>
<ul>
<li><a href="10-01-helm">Helm</a></li>
<li><a href="10-02-kustomize">Kustomize</a></li>
<li><a href="10-03-kubeadm">Kubeadm</a></li>
<li><a href="10-04-minikube">Minikube</a></li>
</ul>
<h2>Module 11: Case Studies and Real-World Applications</h2>
<ul>
<li><a href="11-01-deploying-web-application">Deploying a Web Application</a></li>
<li><a href="11-02-cicd-kubernetes">CI/CD with Kubernetes</a></li>
<li><a href="11-03-running-stateful-applications">Running Stateful Applications</a></li>
<li><a href="11-04-multi-cluster-management">Multi-Cluster Management</a></li>
</ul>
<h2>Module 12: Preparing for Kubernetes Certification</h2>
<ul>
<li><a href="12-01-cka">Certified Kubernetes Administrator (CKA)</a></li>
<li><a href="12-02-ckad">Certified Kubernetes Application Developer (CKAD)</a></li>
<li><a href="12-03-cks">Certified Kubernetes Security Specialist (CKS)</a></li>
<li><a href="12-04-exam-preparation-tips">Exam Preparation Tips</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
