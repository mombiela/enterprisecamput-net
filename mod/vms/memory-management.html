<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Management in OpenVMS</title>

    <link rel="alternate" href="https://campusempresa.com/mod/vms/memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/vms/memory-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/vms/memory-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/vms/memory-management" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/vms/memory-management" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='file-io-operations'>&#x25C4;File I/O Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Memory Management in OpenVMS</a>
	</div>
	<div class='col-4 text-end'>
					<a href='networking-concepts-in-openvms'>Networking Concepts in OpenVMS &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Memory management is a critical aspect of any operating system, and OpenVMS is no exception. This topic will guide you through the fundamentals of memory management in OpenVMS, progressing from beginner to advanced concepts.</p>
</div><h1>Introduction to Memory Management</h1>
<div class='content'><p>Memory management in OpenVMS involves the allocation, deallocation, and organization of memory resources. Understanding these concepts is crucial for efficient application development and system performance.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Virtual Memory</strong>: OpenVMS uses virtual memory to provide each process with its own address space.</li>
<li><strong>Physical Memory</strong>: The actual RAM installed in the system.</li>
<li><strong>Paging</strong>: The process of moving data between physical memory and disk storage.</li>
<li><strong>Swapping</strong>: Moving entire processes between physical memory and disk storage.</li>
</ul>
</div><h1>Virtual Memory</h1>
<div class='content'><p>Virtual memory allows OpenVMS to use disk space as an extension of RAM, enabling the system to run larger applications than the physical memory would allow.</p>
</div><h2>Address Space</h2>
<div class='content'><ul>
<li><strong>Process Address Space</strong>: Each process in OpenVMS has its own virtual address space.</li>
<li><strong>System Address Space</strong>: Shared by all processes, used for system-wide resources.</li>
</ul>
</div><h2>Example: Allocating Virtual Memory</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50ICpwdHI7CiAgICBwdHIgPSAoaW50ICopbWFsbG9jKDEwMCAqIHNpemVvZihpbnQpKTsgLy8gQWxsb2NhdGUgbWVtb3J5IGZvciAxMDAgaW50ZWdlcnMKICAgIGlmIChwdHIgPT0gTlVMTCkgewogICAgICAgIHByaW50ZigiTWVtb3J5IGFsbG9jYXRpb24gZmFpbGVkXG4iKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KICAgIC8vIFVzZSB0aGUgYWxsb2NhdGVkIG1lbW9yeQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgICAgIHB0cltpXSA9IGk7CiAgICB9CiAgICAvLyBGcmVlIHRoZSBhbGxvY2F0ZWQgbWVtb3J5CiAgICBmcmVlKHB0cik7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int *ptr;
    ptr = (int *)malloc(100 * sizeof(int)); // Allocate memory for 100 integers
    if (ptr == NULL) {
        printf(&quot;Memory allocation failed\n&quot;);
        return 1;
    }
    // Use the allocated memory
    for (int i = 0; i &lt; 100; i++) {
        ptr[i] = i;
    }
    // Free the allocated memory
    free(ptr);
    return 0;
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: The <code>malloc</code> function allocates memory in the virtual address space of the process. The <code>free</code> function deallocates it.</li>
</ul>
</div><h1>Physical Memory</h1>
<div class='content'><p>Physical memory refers to the actual RAM installed in the system. OpenVMS manages physical memory to optimize performance and ensure stability.</p>
</div><h2>Memory Pages</h2>
<div class='content'><ul>
<li><strong>Page Size</strong>: Typically 512 bytes or 8192 bytes, depending on the system architecture.</li>
<li><strong>Page Frames</strong>: Fixed-size blocks of physical memory.</li>
</ul>
</div><h2>Example: Viewing Physical Memory Usage</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBTSE9XIE1FTU9SWSAvUEhZU0lDQUw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ SHOW MEMORY /PHYSICAL</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This command displays the current usage of physical memory in the system.</li>
</ul>
</div><h1>Paging and Swapping</h1>
<div class='content'><p>Paging and swapping are techniques used to manage memory efficiently by moving data between physical memory and disk storage.</p>
</div><h2>Paging</h2>
<div class='content'><ul>
<li><strong>Page Fault</strong>: Occurs when a process tries to access a page not currently in physical memory.</li>
<li><strong>Page Replacement</strong>: The process of swapping out a page from physical memory to disk to make room for a new page.</li>
</ul>
</div><h2>Swapping</h2>
<div class='content'><ul>
<li><strong>Process Swapping</strong>: Moving entire processes between physical memory and disk storage to free up memory.</li>
</ul>
</div><h2>Example: Configuring Paging Files</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBDUkVBVEUgL1BBR0VGSUxFIFNZUyRTWVNURU06UEFHRUZJTEUuU1lTIC9TSVpFPTEwMDAwCiQgSU5TVEFMTCAvUEFHRUZJTEUgU1lTJFNZU1RFTTpQQUdFRklMRS5TWVM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ CREATE /PAGEFILE SYS$SYSTEM:PAGEFILE.SYS /SIZE=10000
$ INSTALL /PAGEFILE SYS$SYSTEM:PAGEFILE.SYS</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: These commands create and install a paging file, which is used to store pages swapped out of physical memory.</li>
</ul>
</div><h1>Advanced Memory Management</h1>
<div class='content'><p>Advanced memory management techniques in OpenVMS include tuning system parameters and using specific system services for optimal performance.</p>
</div><h2>System Parameters</h2>
<div class='content'><ul>
<li><strong>VIRTUALPAGECNT</strong>: Maximum number of virtual pages a process can use.</li>
<li><strong>WSDEFAULT</strong>: Default working set size for processes.</li>
</ul>
</div><h2>Example: Tuning System Parameters</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBTRVQgUEFSQU1FVEVSIFZJUlRVQUxQQUdFQ05UIDUwMDAwCiQgU0VUIFBBUkFNRVRFUiBXU0RFRkFVTFQgMTAyNA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ SET PARAMETER VIRTUALPAGECNT 50000
$ SET PARAMETER WSDEFAULT 1024</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: These commands set the maximum number of virtual pages and the default working set size for processes.</li>
</ul>
</div><h2>System Services</h2>
<div class='content'><ul>
<li><strong>SYS$CRMPSC</strong>: Create and map a section of memory.</li>
<li><strong>SYS$DELTVA</strong>: Delete a range of virtual addresses.</li>
</ul>
</div><h2>Example: Using SYS$CRMPSC</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGxpYiRyb3V0aW5lcy5oPgojaW5jbHVkZSA8c3NkZWYuaD4KI2luY2x1ZGUgPHN0YXJsZXQuaD4KCmludCBtYWluKCkgewogICAgdW5zaWduZWQgbG9uZyBzdGF0dXM7CiAgICB1bnNpZ25lZCBsb25nIHN0YXJ0X3ZhID0gMDsKICAgIHVuc2lnbmVkIGxvbmcgZW5kX3ZhID0gMDsKICAgIHVuc2lnbmVkIGxvbmcgbGVuZ3RoID0gODE5MjsgLy8gOEtCCgogICAgc3RhdHVzID0gc3lzJGNybXBzYygmc3RhcnRfdmEsICZlbmRfdmEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsICZsZW5ndGgsIDAsIDApOwogICAgaWYgKHN0YXR1cyAhPSBTUyRfTk9STUFMKSB7CiAgICAgICAgcHJpbnRmKCJNZW1vcnkgbWFwcGluZyBmYWlsZWRcbiIpOwogICAgICAgIHJldHVybiAxOwogICAgfQogICAgLy8gVXNlIHRoZSBtYXBwZWQgbWVtb3J5CiAgICAvLyAuLi4KCiAgICAvLyBVbm1hcCB0aGUgbWVtb3J5CiAgICBzeXMkZGVsdHZhKCZzdGFydF92YSwgJmVuZF92YSwgMCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;lib$routines.h&gt;
#include &lt;ssdef.h&gt;
#include &lt;starlet.h&gt;

int main() {
    unsigned long status;
    unsigned long start_va = 0;
    unsigned long end_va = 0;
    unsigned long length = 8192; // 8KB

    status = sys$crmpsc(&amp;start_va, &amp;end_va, 0, 0, 0, 0, 0, 0, 0, &amp;length, 0, 0);
    if (status != SS$_NORMAL) {
        printf(&quot;Memory mapping failed\n&quot;);
        return 1;
    }
    // Use the mapped memory
    // ...

    // Unmap the memory
    sys$deltva(&amp;start_va, &amp;end_va, 0);
    return 0;
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: The <code>sys$crmpsc</code> service maps a section of memory, and <code>sys$deltva</code> unmaps it.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Memory management in OpenVMS is a complex but essential topic. By understanding virtual and physical memory, paging, swapping, and advanced techniques, you can optimize your applications and ensure efficient use of system resources. Practice these concepts with the provided examples and commands to gain a deeper understanding and proficiency in managing memory on OpenVMS.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='file-io-operations'>&#x25C4;File I/O Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Memory Management in OpenVMS</a>
	</div>
	<div class='col-4 text-end'>
					<a href='networking-concepts-in-openvms'>Networking Concepts in OpenVMS &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
