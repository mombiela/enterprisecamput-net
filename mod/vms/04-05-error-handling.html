<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/vms/04-05-error-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/vms/04-05-error-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/vms/04-05-error-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/vms/04-05-error-handling" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/vms/04-05-error-handling" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-04-subroutines-functions' title="Subroutines and Functions">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Error Handling</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-user-account-management' title="User Account Management">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Error handling is a crucial aspect of scripting in any programming environment, and OpenVMS is no exception. Proper error handling ensures that your scripts can gracefully handle unexpected situations, provide meaningful feedback, and maintain the stability of the system.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Error Codes</strong>: OpenVMS uses specific error codes to indicate different types of errors.</li>
<li><strong>Condition Handling</strong>: OpenVMS provides mechanisms to handle conditions (errors) that occur during script execution.</li>
<li><strong>Status Codes</strong>: Commands and functions return status codes that can be checked to determine if an operation was successful or if an error occurred.</li>
<li><strong>Error Messages</strong>: Descriptive messages that help identify the nature of the error.</li>
</ol>
</div><h1><p>Error Codes</p>
</h1>
<div class='content'><p>OpenVMS error codes are numerical values that represent specific error conditions. These codes can be used to identify and handle errors in your scripts.</p>
</div><h2><p>Common Error Codes</p>
</h2>
<div class='content'><table>
<thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%SYSTEM-F-ACCVIO</code></td>
<td>Access violation error</td>
</tr>
<tr>
<td><code>%SYSTEM-F-NOSUCHFILE</code></td>
<td>No such file error</td>
</tr>
<tr>
<td><code>%SYSTEM-F-INSFMEM</code></td>
<td>Insufficient memory error</td>
</tr>
</tbody>
</table>
</div><h1><p>Condition Handling</p>
</h1>
<div class='content'><p>OpenVMS uses a condition handling mechanism to manage errors. This involves checking the status of operations and taking appropriate actions based on the results.</p>
</div><h2><p>Example: Checking Status Codes</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCEgRXhhbXBsZSBvZiBjaGVja2luZyBzdGF0dXMgY29kZXMgaW4gRENMCiQgQ09QWSBzb3VyY2UudHh0IGRlc3RpbmF0aW9uLnR4dAokIElGICRTVEFUVVMgLk5FLiAxIFRIRU4gR09UTyBlcnJvcl9oYW5kbGVyCiQgV1JJVEUgU1lTJE9VVFBVVCAiRmlsZSBjb3BpZWQgc3VjY2Vzc2Z1bGx5LiIKJCBFWElUCgokZXJyb3JfaGFuZGxlcjoKJCBXUklURSBTWVMkT1VUUFVUICJFcnJvciBvY2N1cnJlZCBkdXJpbmcgZmlsZSBjb3B5LiIKJCBFWElU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$! Example of checking status codes in DCL
$ COPY source.txt destination.txt
$ IF $STATUS .NE. 1 THEN GOTO error_handler
$ WRITE SYS$OUTPUT &quot;File copied successfully.&quot;
$ EXIT

$error_handler:
$ WRITE SYS$OUTPUT &quot;Error occurred during file copy.&quot;
$ EXIT</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>COPY</code> command attempts to copy a file.</li>
<li>The <code>$STATUS</code> variable holds the status code of the last executed command.</li>
<li>If the status code is not equal to 1 (indicating success), the script jumps to the <code>error_handler</code> label.</li>
</ul>
</div><h1><p>Status Codes</p>
</h1>
<div class='content'><p>Status codes are returned by commands and functions to indicate success or failure. These codes can be checked using conditional statements.</p>
</div><h2><p>Example: Using Status Codes</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCEgRXhhbXBsZSBvZiB1c2luZyBzdGF0dXMgY29kZXMgaW4gRENMCiQgREVMRVRFIG5vbl9leGlzdGVudF9maWxlLnR4dAokIElGICRTVEFUVVMgLkVRLiAlWDAwMDAwMDAxIFRIRU4gLQogIFdSSVRFIFNZUyRPVVRQVVQgIkZpbGUgZGVsZXRlZCBzdWNjZXNzZnVsbHkuIgokIEVMU0UgLQogIFdSSVRFIFNZUyRPVVRQVVQgIkVycm9yOiBGaWxlIG5vdCBmb3VuZC4i"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$! Example of using status codes in DCL
$ DELETE non_existent_file.txt
$ IF $STATUS .EQ. %X00000001 THEN -
  WRITE SYS$OUTPUT &quot;File deleted successfully.&quot;
$ ELSE -
  WRITE SYS$OUTPUT &quot;Error: File not found.&quot;</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>DELETE</code> command attempts to delete a non-existent file.</li>
<li>The <code>$STATUS</code> variable is checked to determine if the operation was successful.</li>
<li>If the status code is equal to <code>%X00000001</code> (success), a success message is displayed.</li>
<li>Otherwise, an error message is displayed.</li>
</ul>
</div><h1><p>Error Messages</p>
</h1>
<div class='content'><p>Error messages provide descriptive information about the nature of the error. These messages can be displayed to the user to help diagnose issues.</p>
</div><h2><p>Example: Displaying Error Messages</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCEgRXhhbXBsZSBvZiBkaXNwbGF5aW5nIGVycm9yIG1lc3NhZ2VzIGluIERDTAokIE9QRU4vUkVBRCBmaWxlX2hhbmRsZSBub25fZXhpc3RlbnRfZmlsZS50eHQKJCBJRiAkU1RBVFVTIC5ORS4gMSBUSEVOIC0KICBXUklURSBTWVMkT1VUUFVUICJFcnJvcjogIiwgRiRNRVNTQUdFKCRTVEFUVVMpCiQgRVhJVA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$! Example of displaying error messages in DCL
$ OPEN/READ file_handle non_existent_file.txt
$ IF $STATUS .NE. 1 THEN -
  WRITE SYS$OUTPUT &quot;Error: &quot;, F$MESSAGE($STATUS)
$ EXIT</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>OPEN/READ</code> command attempts to open a non-existent file.</li>
<li>If the operation fails, the <code>F$MESSAGE</code> function is used to retrieve the error message corresponding to the status code.</li>
<li>The error message is then displayed to the user.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Implementing Error Handling in a Script</p>
</h2>
<div class='content'><p><strong>Objective</strong>: Write a DCL script that attempts to read a file and handles any errors that occur.</p>
<p><strong>Instructions</strong>:</p>
<ol>
<li>Create a script that attempts to open a file for reading.</li>
<li>Check the status code of the <code>OPEN/READ</code> command.</li>
<li>If the operation fails, display an appropriate error message.</li>
<li>If the operation succeeds, read and display the contents of the file.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCEgU2NyaXB0IHRvIHJlYWQgYSBmaWxlIHdpdGggZXJyb3IgaGFuZGxpbmcKJCBGSUxFX05BTUUgPSAiZXhhbXBsZS50eHQiCiQgT1BFTi9SRUFEIGZpbGVfaGFuZGxlICdGSUxFX05BTUUnCiQgSUYgJFNUQVRVUyAuTkUuIDEgVEhFTiBHT1RPIGVycm9yX2hhbmRsZXIKCiQhIFJlYWQgYW5kIGRpc3BsYXkgdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWxlCiQgUkVBRF9MT09QOgokIFJFQUQgZmlsZV9oYW5kbGUgbGluZQokIElGICRTVEFUVVMgLk5FLiAxIFRIRU4gR09UTyBlbmRfb2ZfZmlsZQokIFdSSVRFIFNZUyRPVVRQVVQgbGluZQokIEdPVE8gUkVBRF9MT09QCgokZW5kX29mX2ZpbGU6CiQgQ0xPU0UgZmlsZV9oYW5kbGUKJCBXUklURSBTWVMkT1VUUFVUICJGaWxlIHJlYWQgc3VjY2Vzc2Z1bGx5LiIKJCBFWElUCgokZXJyb3JfaGFuZGxlcjoKJCBXUklURSBTWVMkT1VUUFVUICJFcnJvcjogIiwgRiRNRVNTQUdFKCRTVEFUVVMpCiQgRVhJVA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$! Script to read a file with error handling
$ FILE_NAME = &quot;example.txt&quot;
$ OPEN/READ file_handle 'FILE_NAME'
$ IF $STATUS .NE. 1 THEN GOTO error_handler

$! Read and display the contents of the file
$ READ_LOOP:
$ READ file_handle line
$ IF $STATUS .NE. 1 THEN GOTO end_of_file
$ WRITE SYS$OUTPUT line
$ GOTO READ_LOOP

$end_of_file:
$ CLOSE file_handle
$ WRITE SYS$OUTPUT &quot;File read successfully.&quot;
$ EXIT

$error_handler:
$ WRITE SYS$OUTPUT &quot;Error: &quot;, F$MESSAGE($STATUS)
$ EXIT</pre></div><div class='content'><p>In this solution:</p>
<ul>
<li>The script attempts to open a file named <code>example.txt</code> for reading.</li>
<li>If the <code>OPEN/READ</code> command fails, the script jumps to the <code>error_handler</code> label and displays the error message.</li>
<li>If the operation succeeds, the script enters a loop to read and display each line of the file.</li>
<li>The loop continues until the end of the file is reached, at which point the file is closed and a success message is displayed.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of error handling in OpenVMS DCL scripting. We learned about error codes, condition handling, status codes, and error messages. We also provided practical examples and an exercise to reinforce these concepts. Proper error handling is essential for creating robust and reliable scripts that can handle unexpected situations gracefully.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-04-subroutines-functions' title="Subroutines and Functions">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-user-account-management' title="User Account Management">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
