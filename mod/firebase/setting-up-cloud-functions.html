<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setting Up Cloud Functions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/firebase/setting-up-cloud-functions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/firebase/setting-up-cloud-functions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/firebase/setting-up-cloud-functions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/firebase/setting-up-cloud-functions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/firebase/setting-up-cloud-functions" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-cloud-functions'>&#x25C4;Introduction to Cloud Functions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Setting Up Cloud Functions</a>
	</div>
	<div class='col-4 text-end'>
					<a href='writing-your-first-function'>Writing Your First Function &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Cloud Functions</h1>
<div class='content'><p>Cloud Functions for Firebase is a serverless framework that lets you automatically run backend code in response to events triggered by Firebase features and HTTPS requests. This allows you to build complex applications with minimal effort.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Serverless</strong>: No need to manage servers; Firebase handles the infrastructure.</li>
<li><strong>Event-driven</strong>: Functions are triggered by events such as database changes, user authentication, or HTTP requests.</li>
<li><strong>Scalable</strong>: Automatically scales up or down based on the load.</li>
</ul>
</div><h1>Prerequisites</h1>
<div class='content'><p>Before setting up Cloud Functions, ensure you have:</p>
<ul>
<li>A Firebase project set up.</li>
<li>Node.js and npm installed on your machine.</li>
<li>Firebase CLI installed.</li>
</ul>
</div><h1>Setting Up Your Environment</h1>
<h2>Step 1: Install Firebase CLI</h2>
<div class='content'><p>First, you need to install the Firebase CLI if you haven't already.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLWcgZmlyZWJhc2UtdG9vbHM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install -g firebase-tools</pre></div><div class='content'></div><h2>Step 2: Initialize Firebase in Your Project</h2>
<div class='content'><p>Navigate to your project directory and initialize Firebase.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UgaW5pdA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase init</pre></div><div class='content'><p>During initialization:</p>
<ul>
<li>Select <code>Functions</code> using the arrow keys and space bar.</li>
<li>Choose an existing Firebase project or create a new one.</li>
<li>Select JavaScript or TypeScript for your Cloud Functions.</li>
<li>Choose whether to use ESLint for code linting.</li>
</ul>
</div><h2>Step 3: Install Dependencies</h2>
<div class='content'><p>Navigate to the <code>functions</code> directory and install necessary dependencies.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2QgZnVuY3Rpb25zCm5wbSBpbnN0YWxs"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cd functions
npm install</pre></div><div class='content'></div><h1>Writing Your First Cloud Function</h1>
<h2>Example: HTTP Function</h2>
<div class='content'><p>Let's write a simple HTTP function that returns &quot;Hello, World!&quot;.</p>
<ol>
<li>Open <code>index.js</code> in the <code>functions</code> directory.</li>
<li>Add the following code:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnVuY3Rpb25zID0gcmVxdWlyZSgnZmlyZWJhc2UtZnVuY3Rpb25zJyk7CgpleHBvcnRzLmhlbGxvV29ybGQgPSBmdW5jdGlvbnMuaHR0cHMub25SZXF1ZXN0KChyZXF1ZXN0LCByZXNwb25zZSkgPT4gewogIHJlc3BvbnNlLnNlbmQoIkhlbGxvLCBXb3JsZCEiKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const functions = require('firebase-functions');

exports.helloWorld = functions.https.onRequest((request, response) =&gt; {
  response.send(&quot;Hello, World!&quot;);
});</pre></div><div class='content'></div><h2>Deploying the Function</h2>
<div class='content'><p>Deploy your function to Firebase.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UgZGVwbG95IC0tb25seSBmdW5jdGlvbnM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase deploy --only functions</pre></div><div class='content'></div><h2>Testing the Function</h2>
<div class='content'><p>After deployment, Firebase will provide a URL for your function. Open the URL in your browser to see the &quot;Hello, World!&quot; message.</p>
</div><h1>Advanced Cloud Functions</h1>
<h2>Example: Firestore Trigger</h2>
<div class='content'><p>Let's create a function that triggers when a document is created in Firestore.</p>
<ol>
<li>Open <code>index.js</code> in the <code>functions</code> directory.</li>
<li>Add the following code:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnVuY3Rpb25zID0gcmVxdWlyZSgnZmlyZWJhc2UtZnVuY3Rpb25zJyk7CmNvbnN0IGFkbWluID0gcmVxdWlyZSgnZmlyZWJhc2UtYWRtaW4nKTsKYWRtaW4uaW5pdGlhbGl6ZUFwcCgpOwoKZXhwb3J0cy5jcmVhdGVVc2VyUHJvZmlsZSA9IGZ1bmN0aW9ucy5maXJlc3RvcmUKICAuZG9jdW1lbnQoJ3VzZXJzL3t1c2VySWR9JykKICAub25DcmVhdGUoKHNuYXAsIGNvbnRleHQpID0+IHsKICAgIGNvbnN0IG5ld1ZhbHVlID0gc25hcC5kYXRhKCk7CiAgICBjb25zdCBuYW1lID0gbmV3VmFsdWUubmFtZTsKICAgIGNvbnNvbGUubG9nKGBOZXcgdXNlciBjcmVhdGVkOiAke25hbWV9YCk7CiAgICByZXR1cm4gbnVsbDsKICB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const functions = require('firebase-functions');
const admin = require('firebase-admin');
admin.initializeApp();

exports.createUserProfile = functions.firestore
  .document('users/{userId}')
  .onCreate((snap, context) =&gt; {
    const newValue = snap.data();
    const name = newValue.name;
    console.log(`New user created: ${name}`);
    return null;
  });</pre></div><div class='content'></div><h2>Deploying the Firestore Trigger</h2>
<div class='content'><p>Deploy your function to Firebase.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UgZGVwbG95IC0tb25seSBmdW5jdGlvbnM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase deploy --only functions</pre></div><div class='content'></div><h2>Testing the Firestore Trigger</h2>
<div class='content'><p>Add a new document to the <code>users</code> collection in Firestore. The function should log the new user's name.</p>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Modularize Code</strong>: Split your functions into separate files for better maintainability.</li>
<li><strong>Error Handling</strong>: Always include error handling to manage unexpected issues.</li>
<li><strong>Environment Configuration</strong>: Use Firebase environment configuration to manage sensitive data.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Setting up Cloud Functions in Firebase allows you to build powerful, scalable backend services with minimal effort. By following the steps outlined in this guide, you can create, deploy, and test your functions efficiently. As you become more comfortable with Cloud Functions, explore more advanced features and best practices to optimize your applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-cloud-functions'>&#x25C4;Introduction to Cloud Functions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Setting Up Cloud Functions</a>
	</div>
	<div class='col-4 text-end'>
					<a href='writing-your-first-function'>Writing Your First Function &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
