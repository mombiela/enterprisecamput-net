<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setting Up Performance Monitoring</title>

    <link rel="alternate" href="https://campusempresa.com/mod/firebase/09-02-setting-up-performance-monitoring" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/firebase/09-02-setting-up-performance-monitoring" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/firebase/09-02-setting-up-performance-monitoring" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/firebase/09-02-setting-up-performance-monitoring" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/firebase/09-02-setting-up-performance-monitoring" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-01-introduction-to-performance-monitoring' title="Introduction to Performance Monitoring">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Setting Up Performance Monitoring</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-03-analyzing-performance-data' title="Analyzing Performance Data">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover how to set up Firebase Performance Monitoring in your application. Firebase Performance Monitoring helps you gain insight into the performance characteristics of your app, allowing you to identify and fix performance issues.</p>
</div><h1><p>Steps to Set Up Performance Monitoring</p>
</h1>
<div class='content'></div><h2><ol>
<li>Add Firebase to Your Project</li>
</ol>
</h2>
<div class='content'><p>Before you can use Firebase Performance Monitoring, you need to add Firebase to your project. If you haven't done this yet, follow these steps:</p>
<ol>
<li>
<p><strong>Create a Firebase Project:</strong></p>
<ul>
<li>Go to the <a href="https://console.firebase.google.com/">Firebase Console</a>.</li>
<li>Click on &quot;Add project&quot; and follow the instructions to create a new project.</li>
</ul>
</li>
<li>
<p><strong>Register Your App:</strong></p>
<ul>
<li>In the Firebase Console, click on &quot;Add app&quot; and select the platform (iOS, Android, or Web).</li>
<li>Follow the instructions to register your app and download the <code>google-services.json</code> (for Android) or <code>GoogleService-Info.plist</code> (for iOS) file.</li>
</ul>
</li>
<li>
<p><strong>Add the Firebase SDK:</strong></p>
<ul>
<li>For Android, add the Firebase SDK to your <code>build.gradle</code> files.</li>
<li>For iOS, add the Firebase SDK using CocoaPods.</li>
</ul>
</li>
</ol>
</div><h2><ol start="2">
<li>Add Performance Monitoring SDK</li>
</ol>
</h2>
<div class='content'><h4>For Android:</h4>
<ol>
<li>
<p><strong>Add the Performance Monitoring SDK:</strong></p>
<ul>
<li>
<p>Open your <code>build.gradle</code> file (Project level) and add the following classpath to the <code>dependencies</code> section:</p>
<pre><code class="language-groovy">classpath 'com.google.firebase:firebase-plugins:2.0.0'
</code></pre>
</li>
<li>
<p>Open your <code>build.gradle</code> file (App level) and add the following dependencies:</p>
<pre><code class="language-groovy">implementation 'com.google.firebase:firebase-perf:20.0.3'
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Sync Your Project:</strong></p>
<ul>
<li>Click on &quot;Sync Now&quot; to sync your project with the new dependencies.</li>
</ul>
</li>
</ol>
<h4>For iOS:</h4>
<ol>
<li>
<p><strong>Add the Performance Monitoring SDK:</strong></p>
<ul>
<li>Open your <code>Podfile</code> and add the following line:
<pre><code class="language-ruby">pod 'Firebase/Performance'
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Install the Pod:</strong></p>
<ul>
<li>Run <code>pod install</code> in your terminal to install the new pod.</li>
</ul>
</li>
</ol>
</div><h2><ol start="3">
<li>Initialize Performance Monitoring</li>
</ol>
</h2>
<div class='content'><h4>For Android:</h4>
<ol>
<li><strong>Initialize Firebase:</strong>
<ul>
<li>In your <code>MainActivity.java</code> or <code>MainActivity.kt</code>, initialize Firebase in the <code>onCreate</code> method:
<pre><code class="language-java">import com.google.firebase.FirebaseApp;
import com.google.firebase.perf.FirebasePerformance;
import com.google.firebase.perf.metrics.Trace;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    FirebaseApp.initializeApp(this);
    // Other initialization code
}
</code></pre>
</li>
</ul>
</li>
</ol>
<h4>For iOS:</h4>
<ol>
<li><strong>Initialize Firebase:</strong>
<ul>
<li>In your <code>AppDelegate.swift</code> or <code>AppDelegate.m</code>, initialize Firebase in the <code>application:didFinishLaunchingWithOptions</code> method:
<pre><code class="language-swift">import Firebase

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {
        FirebaseApp.configure()
        return true
    }
}
</code></pre>
</li>
</ul>
</li>
</ol>
</div><h2><ol start="4">
<li>Verify Installation</li>
</ol>
</h2>
<div class='content'><ol>
<li>
<p><strong>Run Your App:</strong></p>
<ul>
<li>Run your app on a physical device or emulator.</li>
</ul>
</li>
<li>
<p><strong>Generate Performance Data:</strong></p>
<ul>
<li>Use your app for a few minutes to generate some performance data.</li>
</ul>
</li>
<li>
<p><strong>Check Firebase Console:</strong></p>
<ul>
<li>Go to the Firebase Console and navigate to the Performance Monitoring section.</li>
<li>You should start seeing performance data within a few minutes.</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'></div><h2><p>Android Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5nb29nbGUuZmlyZWJhc2UucGVyZi5GaXJlYmFzZVBlcmZvcm1hbmNlOwppbXBvcnQgY29tLmdvb2dsZS5maXJlYmFzZS5wZXJmLm1ldHJpY3MuVHJhY2U7CgpwdWJsaWMgY2xhc3MgTWFpbkFjdGl2aXR5IGV4dGVuZHMgQXBwQ29tcGF0QWN0aXZpdHkgewogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgdm9pZCBvbkNyZWF0ZShCdW5kbGUgc2F2ZWRJbnN0YW5jZVN0YXRlKSB7CiAgICAgICAgc3VwZXIub25DcmVhdGUoc2F2ZWRJbnN0YW5jZVN0YXRlKTsKICAgICAgICBzZXRDb250ZW50VmlldyhSLmxheW91dC5hY3Rpdml0eV9tYWluKTsKCiAgICAgICAgRmlyZWJhc2VBcHAuaW5pdGlhbGl6ZUFwcCh0aGlzKTsKCiAgICAgICAgLy8gU3RhcnQgYSB0cmFjZQogICAgICAgIFRyYWNlIG15VHJhY2UgPSBGaXJlYmFzZVBlcmZvcm1hbmNlLmdldEluc3RhbmNlKCkubmV3VHJhY2UoInRlc3RfdHJhY2UiKTsKICAgICAgICBteVRyYWNlLnN0YXJ0KCk7CgogICAgICAgIC8vIFNpbXVsYXRlIHNvbWUgd29yawogICAgICAgIHBlcmZvcm1Tb21lV29yaygpOwoKICAgICAgICAvLyBTdG9wIHRoZSB0cmFjZQogICAgICAgIG15VHJhY2Uuc3RvcCgpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBwZXJmb3JtU29tZVdvcmsoKSB7CiAgICAgICAgLy8gU2ltdWxhdGUgc29tZSB3b3JrCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDEwMDApOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.google.firebase.perf.FirebasePerformance;
import com.google.firebase.perf.metrics.Trace;

public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        FirebaseApp.initializeApp(this);

        // Start a trace
        Trace myTrace = FirebasePerformance.getInstance().newTrace(&quot;test_trace&quot;);
        myTrace.start();

        // Simulate some work
        performSomeWork();

        // Stop the trace
        myTrace.stop();
    }

    private void performSomeWork() {
        // Simulate some work
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'></div><h2><p>iOS Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFVJS2l0CmltcG9ydCBGaXJlYmFzZQoKQFVJQXBwbGljYXRpb25NYWluCmNsYXNzIEFwcERlbGVnYXRlOiBVSVJlc3BvbmRlciwgVUlBcHBsaWNhdGlvbkRlbGVnYXRlIHsKICAgIHZhciB3aW5kb3c6IFVJV2luZG93PwoKICAgIGZ1bmMgYXBwbGljYXRpb24oXyBhcHBsaWNhdGlvbjogVUlBcHBsaWNhdGlvbiwgZGlkRmluaXNoTGF1bmNoaW5nV2l0aE9wdGlvbnMgbGF1bmNoT3B0aW9uczogW1VJQXBwbGljYXRpb24uTGF1bmNoT3B0aW9uc0tleTogQW55XT8pIC0+IEJvb2wgewogICAgICAgIEZpcmViYXNlQXBwLmNvbmZpZ3VyZSgpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIH0KfQoKY2xhc3MgVmlld0NvbnRyb2xsZXI6IFVJVmlld0NvbnRyb2xsZXIgewogICAgb3ZlcnJpZGUgZnVuYyB2aWV3RGlkTG9hZCgpIHsKICAgICAgICBzdXBlci52aWV3RGlkTG9hZCgpCgogICAgICAgIC8vIFN0YXJ0IGEgdHJhY2UKICAgICAgICBsZXQgdHJhY2UgPSBQZXJmb3JtYW5jZS5zdGFydFRyYWNlKG5hbWU6ICJ0ZXN0X3RyYWNlIikKCiAgICAgICAgLy8gU2ltdWxhdGUgc29tZSB3b3JrCiAgICAgICAgcGVyZm9ybVNvbWVXb3JrKCkKCiAgICAgICAgLy8gU3RvcCB0aGUgdHJhY2UKICAgICAgICB0cmFjZT8uc3RvcCgpCiAgICB9CgogICAgcHJpdmF0ZSBmdW5jIHBlcmZvcm1Tb21lV29yaygpIHsKICAgICAgICAvLyBTaW11bGF0ZSBzb21lIHdvcmsKICAgICAgICBUaHJlYWQuc2xlZXAoZm9yVGltZUludGVydmFsOiAxLjApCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import UIKit
import Firebase

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {
        FirebaseApp.configure()
        return true
    }
}

class ViewController: UIViewController {
    override func viewDidLoad() {
        super.viewDidLoad()

        // Start a trace
        let trace = Performance.startTrace(name: &quot;test_trace&quot;)

        // Simulate some work
        performSomeWork()

        // Stop the trace
        trace?.stop()
    }

    private func performSomeWork() {
        // Simulate some work
        Thread.sleep(forTimeInterval: 1.0)
    }
}</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Not Initializing Firebase:</strong> Ensure that Firebase is initialized in your app before using Performance Monitoring.</li>
<li><strong>Using Emulators:</strong> Performance data might not be as accurate on emulators. Use physical devices for better results.</li>
<li><strong>Network Issues:</strong> Ensure your device has a stable internet connection to send performance data to Firebase.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered how to set up Firebase Performance Monitoring in your Android and iOS applications. By following these steps, you can start collecting performance data and gain insights into your app's performance. In the next section, we will learn how to analyze the performance data collected by Firebase.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='09-01-introduction-to-performance-monitoring' title="Introduction to Performance Monitoring">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-03-analyzing-performance-data' title="Analyzing Performance Data">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
