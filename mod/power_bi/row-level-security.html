<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Row-Level Security (RLS) in Power BI</title>

    <link rel="alternate" href="https://campusempresa.com/mod/power_bi/row-level-security" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/power_bi/row-level-security" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/power_bi/row-level-security" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/power_bi/row-level-security" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/power_bi/row-level-security" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-mobile-optimized-reports'>&#x25C4;Creating Mobile-Optimized Reports</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Row-Level Security (RLS) in Power BI</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-power-bi-with-other-microsoft-services'>Using Power BI with Other Microsoft Services &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Row-Level Security (RLS)</h1>
<div class='content'><p>Row-Level Security (RLS) in Power BI allows you to restrict data access for given users. Filters restrict data at the row level, and you can define filters within roles.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Roles</strong>: A set of rules that define which data a user can access.</li>
<li><strong>DAX Filters</strong>: Data Analysis Expressions (DAX) are used to create filters for roles.</li>
<li><strong>Static RLS</strong>: Roles and filters are predefined and do not change.</li>
<li><strong>Dynamic RLS</strong>: Roles and filters are determined at runtime based on user attributes.</li>
</ul>
</div><h1>Setting Up Row-Level Security</h1>
<div class='content'></div><h2>Creating Roles in Power BI Desktop</h2>
<div class='content'><ol>
<li><strong>Open Power BI Desktop</strong> and load your data model.</li>
<li><strong>Navigate to the Modeling tab</strong>.</li>
<li><strong>Select Manage Roles</strong>.</li>
<li><strong>Create a New Role</strong> and define the DAX filter.</li>
</ol>
<h4>Example</h4>
<p>Suppose you have a table named <code>Sales</code> with a column <code>Region</code>. You want to create a role that only allows access to data where the <code>Region</code> is &quot;North&quot;.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W1JlZ2lvbl0gPSAiTm9ydGgi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[Region] = &quot;North&quot;</pre></div><div class='content'></div><h2>Assigning Users to Roles</h2>
<div class='content'><ol>
<li><strong>Publish your report</strong> to the Power BI service.</li>
<li><strong>Navigate to the dataset</strong> in the Power BI service.</li>
<li><strong>Select Security</strong>.</li>
<li><strong>Add members</strong> to the roles you created.</li>
</ol>
</div><h1>Dynamic Row-Level Security</h1>
<div class='content'></div><h2>Using USERNAME() or USERPRINCIPALNAME() Functions</h2>
<div class='content'><p>Dynamic RLS allows you to filter data based on the logged-in user.</p>
<h4>Example</h4>
<p>Suppose you have a table named <code>Sales</code> and a table named <code>Users</code> with columns <code>UserEmail</code> and <code>Region</code>. You want to filter <code>Sales</code> based on the user's email.</p>
<ol>
<li><strong>Create a relationship</strong> between <code>Sales</code> and <code>Users</code> tables.</li>
<li><strong>Define the DAX filter</strong> in the role:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W1VzZXJFbWFpbF0gPSBVU0VSUFJJTkNJUEFMTkFNRSgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[UserEmail] = USERPRINCIPALNAME()</pre></div><div class='content'></div><h2>Implementing Dynamic RLS</h2>
<div class='content'><ol>
<li><strong>Create a table</strong> that maps users to their respective data.</li>
<li><strong>Use DAX functions</strong> to filter data dynamically.</li>
</ol>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U2FsZXNbUmVnaW9uXSA9IExPT0tVUFZBTFVFKFVzZXJzW1JlZ2lvbl0sIFVzZXJzW1VzZXJFbWFpbF0sIFVTRVJQUklOQ0lQQUxOQU1FKCkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Sales[Region] = LOOKUPVALUE(Users[Region], Users[UserEmail], USERPRINCIPALNAME())</pre></div><div class='content'></div><h1>Testing Row-Level Security</h1>
<div class='content'></div><h2>Testing in Power BI Desktop</h2>
<div class='content'><ol>
<li><strong>Navigate to the Modeling tab</strong>.</li>
<li><strong>Select View as Roles</strong>.</li>
<li><strong>Choose the role</strong> you want to test.</li>
</ol>
</div><h2>Testing in Power BI Service</h2>
<div class='content'><ol>
<li><strong>Go to the dataset</strong>.</li>
<li><strong>Select Security</strong>.</li>
<li><strong>Test as Role</strong> to see the data as a specific user.</li>
</ol>
</div><h1>Best Practices for RLS</h1>
<div class='content'><ul>
<li><strong>Minimize the number of roles</strong>: Too many roles can complicate management.</li>
<li><strong>Use dynamic RLS</strong> where possible: It reduces the need for multiple roles.</li>
<li><strong>Test thoroughly</strong>: Ensure that roles and filters work as expected.</li>
<li><strong>Document your RLS setup</strong>: Keep a record of roles and their filters for maintenance.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Row-Level Security (RLS) in Power BI is a powerful feature that helps you control data access at a granular level. By understanding and implementing both static and dynamic RLS, you can ensure that users only see the data they are supposed to see. Remember to test your RLS settings thoroughly and follow best practices to maintain a secure and efficient data environment.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-mobile-optimized-reports'>&#x25C4;Creating Mobile-Optimized Reports</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Row-Level Security (RLS) in Power BI</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-power-bi-with-other-microsoft-services'>Using Power BI with Other Microsoft Services &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
