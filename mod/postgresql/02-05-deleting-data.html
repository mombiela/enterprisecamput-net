<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Deleting Data</title>

    <link rel="alternate" href="https://campusempresa.com/mod/postgresql/02-05-deleting-data" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/postgresql/02-05-deleting-data" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/postgresql/02-05-deleting-data" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/postgresql/02-05-deleting-data" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/postgresql/02-05-deleting-data" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-updating-data' title="Updating Data">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Deleting Data</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-01-joins' title="Joins">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover how to delete data from tables in PostgreSQL. Deleting data is a fundamental operation in database management, and it is crucial to understand how to perform it safely and efficiently.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>DELETE Statement</strong>: The primary SQL command used to remove rows from a table.</li>
<li><strong>WHERE Clause</strong>: Used to specify which rows should be deleted.</li>
<li><strong>Returning Clause</strong>: Used to return the deleted rows.</li>
<li><strong>Cascading Deletes</strong>: Automatically deleting related rows in other tables.</li>
</ol>
</div><h1>DELETE Statement</h1>
<div class='content'><p>The <code>DELETE</code> statement is used to remove rows from a table. The basic syntax is as follows:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIEZST00gdGFibGVfbmFtZQpXSEVSRSBjb25kaXRpb247"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE FROM table_name
WHERE condition;</pre></div><div class='content'><ul>
<li><code>table_name</code>: The name of the table from which you want to delete rows.</li>
<li><code>condition</code>: A condition to specify which rows should be deleted. If no condition is provided, all rows in the table will be deleted.</li>
</ul>
</div><h2>Example</h2>
<div class='content'><p>Consider a table named <code>employees</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGVtcGxveWVlcyAoCiAgICBpZCBTRVJJQUwgUFJJTUFSWSBLRVksCiAgICBuYW1lIFZBUkNIQVIoMTAwKSwKICAgIHBvc2l0aW9uIFZBUkNIQVIoMTAwKSwKICAgIHNhbGFyeSBOVU1FUklDCik7CgpJTlNFUlQgSU5UTyBlbXBsb3llZXMgKG5hbWUsIHBvc2l0aW9uLCBzYWxhcnkpIFZBTFVFUwooJ0FsaWNlJywgJ01hbmFnZXInLCA4MDAwMCksCignQm9iJywgJ0RldmVsb3BlcicsIDYwMDAwKSwKKCdDaGFybGllJywgJ0FuYWx5c3QnLCA1MDAwMCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE employees (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    position VARCHAR(100),
    salary NUMERIC
);

INSERT INTO employees (name, position, salary) VALUES
('Alice', 'Manager', 80000),
('Bob', 'Developer', 60000),
('Charlie', 'Analyst', 50000);</pre></div><div class='content'><p>To delete the row where the employee's name is 'Bob':</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIEZST00gZW1wbG95ZWVzCldIRVJFIG5hbWUgPSAnQm9iJzs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE FROM employees
WHERE name = 'Bob';</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>The <code>DELETE FROM employees</code> part specifies the table from which to delete rows.</li>
<li>The <code>WHERE name = 'Bob'</code> part specifies the condition that must be met for a row to be deleted.</li>
</ul>
</div><h1>Using the RETURNING Clause</h1>
<div class='content'><p>The <code>RETURNING</code> clause allows you to return the deleted rows. This can be useful for logging or further processing.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIEZST00gZW1wbG95ZWVzCldIRVJFIG5hbWUgPSAnQ2hhcmxpZScKUkVUVVJOSU5HICo7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE FROM employees
WHERE name = 'Charlie'
RETURNING *;</pre></div><div class='content'><p>This command will delete the row where the name is 'Charlie' and return the deleted row.</p>
</div><h1>Cascading Deletes</h1>
<div class='content'><p>Cascading deletes are used to automatically delete related rows in other tables. This is typically set up using foreign key constraints with the <code>ON DELETE CASCADE</code> option.</p>
</div><h2>Example</h2>
<div class='content'><p>Consider two tables: <code>departments</code> and <code>employees</code>, where each employee belongs to a department.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGRlcGFydG1lbnRzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVkFSQ0hBUigxMDApCik7CgpDUkVBVEUgVEFCTEUgZW1wbG95ZWVzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVkFSQ0hBUigxMDApLAogICAgZGVwYXJ0bWVudF9pZCBJTlQsCiAgICBGT1JFSUdOIEtFWSAoZGVwYXJ0bWVudF9pZCkgUkVGRVJFTkNFUyBkZXBhcnRtZW50cyhpZCkgT04gREVMRVRFIENBU0NBREUKKTsKCklOU0VSVCBJTlRPIGRlcGFydG1lbnRzIChuYW1lKSBWQUxVRVMgKCdIUicpLCAoJ0VuZ2luZWVyaW5nJyk7CklOU0VSVCBJTlRPIGVtcGxveWVlcyAobmFtZSwgZGVwYXJ0bWVudF9pZCkgVkFMVUVTICgnQWxpY2UnLCAxKSwgKCdCb2InLCAyKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE departments (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100)
);

CREATE TABLE employees (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    department_id INT,
    FOREIGN KEY (department_id) REFERENCES departments(id) ON DELETE CASCADE
);

INSERT INTO departments (name) VALUES ('HR'), ('Engineering');
INSERT INTO employees (name, department_id) VALUES ('Alice', 1), ('Bob', 2);</pre></div><div class='content'><p>If you delete a department, all employees in that department will also be deleted:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIEZST00gZGVwYXJ0bWVudHMKV0hFUkUgbmFtZSA9ICdIUic7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE FROM departments
WHERE name = 'HR';</pre></div><div class='content'><p>This will delete the 'HR' department and all employees associated with it.</p>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Basic DELETE Operation</h2>
<div class='content'><p><strong>Task</strong>: Delete the employee named 'Alice' from the <code>employees</code> table.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIEZST00gZW1wbG95ZWVzCldIRVJFIG5hbWUgPSAnQWxpY2UnOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE FROM employees
WHERE name = 'Alice';</pre></div><div class='content'></div><h2>Exercise 2: Using RETURNING Clause</h2>
<div class='content'><p><strong>Task</strong>: Delete the employee with the position 'Developer' and return the deleted row.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIEZST00gZW1wbG95ZWVzCldIRVJFIHBvc2l0aW9uID0gJ0RldmVsb3BlcicKUkVUVVJOSU5HICo7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE FROM employees
WHERE position = 'Developer'
RETURNING *;</pre></div><div class='content'></div><h2>Exercise 3: Cascading Deletes</h2>
<div class='content'><p><strong>Task</strong>: Set up cascading deletes for the <code>employees</code> table so that deleting a department will also delete all employees in that department.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QUxURVIgVEFCTEUgZW1wbG95ZWVzCkFERCBDT05TVFJBSU5UIGZrX2RlcGFydG1lbnQKRk9SRUlHTiBLRVkgKGRlcGFydG1lbnRfaWQpClJFRkVSRU5DRVMgZGVwYXJ0bWVudHMoaWQpCk9OIERFTEVURSBDQVNDQURFOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ALTER TABLE employees
ADD CONSTRAINT fk_department
FOREIGN KEY (department_id)
REFERENCES departments(id)
ON DELETE CASCADE;</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting the WHERE Clause</strong>: Omitting the <code>WHERE</code> clause will delete all rows in the table.</li>
<li><strong>Not Using Transactions</strong>: For critical operations, use transactions to ensure data integrity.</li>
<li><strong>Cascading Deletes</strong>: Be cautious with cascading deletes as they can remove more data than intended.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to delete data from tables using the <code>DELETE</code> statement, how to use the <code>RETURNING</code> clause to return deleted rows, and how to set up cascading deletes. Understanding these concepts is essential for effective database management and ensuring data integrity. In the next section, we will explore advanced SQL queries, starting with joins.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-04-updating-data' title="Updating Data">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-01-joins' title="Joins">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
