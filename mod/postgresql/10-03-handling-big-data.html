<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Big Data</title>

    <link rel="alternate" href="https://campusempresa.com/mod/postgresql/10-03-handling-big-data" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/postgresql/10-03-handling-big-data" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/postgresql/10-03-handling-big-data" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/postgresql/10-03-handling-big-data" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/postgresql/10-03-handling-big-data" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-02-data-warehousing-with-postgresql' title="Data Warehousing with PostgreSQL">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Handling Big Data</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-04-postgresql-in-microservices-architecture' title="PostgreSQL in Microservices Architecture">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how PostgreSQL can be used to handle large volumes of data efficiently. We will cover various techniques and tools that can help you manage, query, and optimize big data in PostgreSQL.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Partitioning</strong>: Dividing large tables into smaller, more manageable pieces.</li>
<li><strong>Parallel Query Execution</strong>: Running queries in parallel to speed up processing.</li>
<li><strong>Indexes</strong>: Using advanced indexing techniques to improve query performance.</li>
<li><strong>Data Compression</strong>: Reducing the storage footprint of large datasets.</li>
<li><strong>External Data Storage</strong>: Integrating with external storage solutions for scalability.</li>
</ol>
</div><h1><p>Partitioning</p>
</h1>
<div class='content'><p>Partitioning is a technique used to divide a large table into smaller, more manageable pieces called partitions. This can improve query performance and make maintenance tasks more efficient.</p>
</div><h2><p>Example: Range Partitioning</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHNhbGVzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIHNhbGVfZGF0ZSBEQVRFIE5PVCBOVUxMLAogICAgYW1vdW50IE5VTUVSSUMKKSBQQVJUSVRJT04gQlkgUkFOR0UgKHNhbGVfZGF0ZSk7CgpDUkVBVEUgVEFCTEUgc2FsZXNfMjAyMSBQQVJUSVRJT04gT0Ygc2FsZXMKICAgIEZPUiBWQUxVRVMgRlJPTSAoJzIwMjEtMDEtMDEnKSBUTyAoJzIwMjItMDEtMDEnKTsKCkNSRUFURSBUQUJMRSBzYWxlc18yMDIyIFBBUlRJVElPTiBPRiBzYWxlcwogICAgRk9SIFZBTFVFUyBGUk9NICgnMjAyMi0wMS0wMScpIFRPICgnMjAyMy0wMS0wMScpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE sales (
    id SERIAL PRIMARY KEY,
    sale_date DATE NOT NULL,
    amount NUMERIC
) PARTITION BY RANGE (sale_date);

CREATE TABLE sales_2021 PARTITION OF sales
    FOR VALUES FROM ('2021-01-01') TO ('2022-01-01');

CREATE TABLE sales_2022 PARTITION OF sales
    FOR VALUES FROM ('2022-01-01') TO ('2023-01-01');</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong><code>PARTITION BY RANGE (sale_date)</code></strong>: Specifies that the table should be partitioned by the <code>sale_date</code> column.</li>
<li><strong><code>FOR VALUES FROM ('2021-01-01') TO ('2022-01-01')</code></strong>: Defines the range of values for each partition.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Create a partitioned table for a hypothetical <code>logs</code> table that stores log entries by month.</li>
<li>Insert some sample data into the partitions.</li>
</ol>
</div><h1><p>Parallel Query Execution</p>
</h1>
<div class='content'><p>PostgreSQL supports parallel query execution, which allows it to use multiple CPU cores to execute a single query, speeding up the processing of large datasets.</p>
</div><h2><p>Example: Enabling Parallel Query Execution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUIG1heF9wYXJhbGxlbF93b3JrZXJzX3Blcl9nYXRoZXIgPSA0Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET max_parallel_workers_per_gather = 4;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong><code>max_parallel_workers_per_gather</code></strong>: Sets the maximum number of workers that can be used for parallel query execution.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Enable parallel query execution in your PostgreSQL instance.</li>
<li>Run a complex query and observe the performance improvement.</li>
</ol>
</div><h1><p>Indexes</p>
</h1>
<div class='content'><p>Indexes are crucial for improving the performance of queries on large datasets. PostgreSQL offers several advanced indexing techniques, such as B-tree, Hash, GiST, and GIN indexes.</p>
</div><h2><p>Example: Creating a GIN Index</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIElOREVYIGlkeF9naW4gT04gZG9jdW1lbnRzIFVTSU5HIEdJTiAoY29udGVudCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE INDEX idx_gin ON documents USING GIN (content);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong><code>USING GIN (content)</code></strong>: Creates a GIN (Generalized Inverted Index) on the <code>content</code> column, which is useful for full-text search.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Create a GIN index on a table with a text column.</li>
<li>Run a full-text search query and compare the performance with and without the index.</li>
</ol>
</div><h1><p>Data Compression</p>
</h1>
<div class='content'><p>Data compression can help reduce the storage footprint of large datasets, making it more efficient to store and retrieve data.</p>
</div><h2><p>Example: Using TOAST for Compression</p>
</h2>
<div class='content'><p>PostgreSQL automatically uses TOAST (The Oversized-Attribute Storage Technique) to compress large data values.</p>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Insert a large text value into a table and observe how PostgreSQL compresses it using TOAST.</li>
<li>Measure the storage size before and after compression.</li>
</ol>
</div><h1><p>External Data Storage</p>
</h1>
<div class='content'><p>For extremely large datasets, you might need to integrate PostgreSQL with external storage solutions like Hadoop or Amazon S3.</p>
</div><h2><p>Example: Using Foreign Data Wrappers</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIEVYVEVOU0lPTiBwb3N0Z3Jlc19mZHc7CgpDUkVBVEUgU0VSVkVSIGhhZG9vcF9zZXJ2ZXIKICAgIEZPUkVJR04gREFUQSBXUkFQUEVSIHBvc3RncmVzX2ZkdwogICAgT1BUSU9OUyAoaG9zdCAnaGFkb29wLmV4YW1wbGUuY29tJywgZGJuYW1lICdoYWRvb3BfZGInKTsKCkNSRUFURSBVU0VSIE1BUFBJTkcgRk9SIGN1cnJlbnRfdXNlcgogICAgU0VSVkVSIGhhZG9vcF9zZXJ2ZXIKICAgIE9QVElPTlMgKHVzZXIgJ2hhZG9vcF91c2VyJywgcGFzc3dvcmQgJ2hhZG9vcF9wYXNzd29yZCcpOwoKQ1JFQVRFIEZPUkVJR04gVEFCTEUgaGFkb29wX3RhYmxlICgKICAgIGlkIElOVCwKICAgIGRhdGEgVEVYVAopIFNFUlZFUiBoYWRvb3Bfc2VydmVyCk9QVElPTlMgKHRhYmxlX25hbWUgJ2hhZG9vcF90YWJsZScpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE EXTENSION postgres_fdw;

CREATE SERVER hadoop_server
    FOREIGN DATA WRAPPER postgres_fdw
    OPTIONS (host 'hadoop.example.com', dbname 'hadoop_db');

CREATE USER MAPPING FOR current_user
    SERVER hadoop_server
    OPTIONS (user 'hadoop_user', password 'hadoop_password');

CREATE FOREIGN TABLE hadoop_table (
    id INT,
    data TEXT
) SERVER hadoop_server
OPTIONS (table_name 'hadoop_table');</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong><code>CREATE EXTENSION postgres_fdw</code></strong>: Enables the foreign data wrapper extension.</li>
<li><strong><code>CREATE SERVER</code></strong>: Defines a connection to the external Hadoop server.</li>
<li><strong><code>CREATE FOREIGN TABLE</code></strong>: Creates a foreign table that maps to a table in the external Hadoop database.</li>
</ul>
</div><h2><p>Exercise</p>
</h2>
<div class='content'><ol>
<li>Set up a foreign data wrapper to connect to an external data source.</li>
<li>Query the foreign table and observe how PostgreSQL retrieves data from the external source.</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered various techniques for handling big data in PostgreSQL, including partitioning, parallel query execution, advanced indexing, data compression, and integrating with external storage solutions. By leveraging these techniques, you can efficiently manage and query large datasets in PostgreSQL.</p>
<p>Next, we will explore how PostgreSQL can be used in a microservices architecture.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-02-data-warehousing-with-postgresql' title="Data Warehousing with PostgreSQL">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-04-postgresql-in-microservices-architecture' title="PostgreSQL in Microservices Architecture">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
