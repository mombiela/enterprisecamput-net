<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Practices and Lessons Learned</title>

    <link rel="alternate" href="https://campusempresa.com/mod/postgresql/best-practices-and-lessons-learned" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/postgresql/best-practices-and-lessons-learned" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/postgresql/best-practices-and-lessons-learned" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/postgresql/best-practices-and-lessons-learned" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/postgresql/best-practices-and-lessons-learned" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='case-study-financial-transactions'>&#x25C4;Case Study: Financial Transactions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Best Practices and Lessons Learned</a>
	</div>
	<div class='col-4 text-end'>
					<a href='future-trends-in-postgresql'>Future Trends in PostgreSQL &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will cover best practices and lessons learned from working with PostgreSQL. These practices are essential for ensuring that your database is efficient, secure, and maintainable. Whether you are a beginner or an advanced user, following these guidelines will help you get the most out of PostgreSQL.</p>
</div><h1>Best Practices</h1>
<div class='content'></div><h2>Schema Design</h2>
<div class='content'><ul>
<li><strong>Normalize Your Data</strong>: Ensure that your database schema is normalized to at least the third normal form (3NF) to reduce redundancy and improve data integrity.</li>
<li><strong>Use Appropriate Data Types</strong>: Choose the most suitable data types for your columns to optimize storage and performance.</li>
<li><strong>Primary and Foreign Keys</strong>: Always define primary keys for your tables and use foreign keys to maintain referential integrity.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHVzZXJzICgKICAgIHVzZXJfaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgdXNlcm5hbWUgVkFSQ0hBUig1MCkgTk9UIE5VTEwsCiAgICBlbWFpbCBWQVJDSEFSKDEwMCkgVU5JUVVFIE5PVCBOVUxMCik7CgpDUkVBVEUgVEFCTEUgb3JkZXJzICgKICAgIG9yZGVyX2lkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIHVzZXJfaWQgSU5UIFJFRkVSRU5DRVMgdXNlcnModXNlcl9pZCksCiAgICBvcmRlcl9kYXRlIFRJTUVTVEFNUCBOT1QgTlVMTAopOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL
);

CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(user_id),
    order_date TIMESTAMP NOT NULL
);</pre></div><div class='content'></div><h2>Indexing</h2>
<div class='content'><ul>
<li><strong>Use Indexes Wisely</strong>: Index columns that are frequently used in WHERE clauses, JOIN conditions, and ORDER BY clauses.</li>
<li><strong>Avoid Over-Indexing</strong>: Too many indexes can slow down write operations. Balance the need for fast reads with the cost of slower writes.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIElOREVYIGlkeF91c2Vyc191c2VybmFtZSBPTiB1c2Vycyh1c2VybmFtZSk7CkNSRUFURSBJTkRFWCBpZHhfb3JkZXJzX3VzZXJfaWQgT04gb3JkZXJzKHVzZXJfaWQpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_orders_user_id ON orders(user_id);</pre></div><div class='content'></div><h2>Query Optimization</h2>
<div class='content'><ul>
<li><strong>Use EXPLAIN</strong>: Utilize the <code>EXPLAIN</code> command to understand how PostgreSQL executes your queries and identify potential bottlenecks.</li>
<li><strong>Limit Result Sets</strong>: Use the <code>LIMIT</code> clause to restrict the number of rows returned by a query, especially in large datasets.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RVhQTEFJTiBTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSB1c2VyX2lkID0gMTsKU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgdXNlcl9pZCA9IDEgTElNSVQgMTA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>EXPLAIN SELECT * FROM orders WHERE user_id = 1;
SELECT * FROM orders WHERE user_id = 1 LIMIT 10;</pre></div><div class='content'></div><h2>Transactions</h2>
<div class='content'><ul>
<li><strong>Use Transactions</strong>: Group multiple SQL statements into a single transaction to ensure atomicity and consistency.</li>
<li><strong>Handle Exceptions</strong>: Use exception handling to manage errors within transactions.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU47CklOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgZW1haWwpIFZBTFVFUyAoJ2pvaG5fZG9lJywgJ2pvaG5AZXhhbXBsZS5jb20nKTsKSU5TRVJUIElOVE8gb3JkZXJzICh1c2VyX2lkLCBvcmRlcl9kYXRlKSBWQUxVRVMgKDEsIE5PVygpKTsKQ09NTUlUOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN;
INSERT INTO users (username, email) VALUES ('john_doe', 'john@example.com');
INSERT INTO orders (user_id, order_date) VALUES (1, NOW());
COMMIT;</pre></div><div class='content'></div><h2>Security</h2>
<div class='content'><ul>
<li><strong>Least Privilege Principle</strong>: Grant the minimum necessary permissions to users and roles.</li>
<li><strong>Use SSL</strong>: Enable SSL to encrypt data transmitted between the client and the server.</li>
<li><strong>Regular Backups</strong>: Schedule regular backups to prevent data loss.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R1JBTlQgU0VMRUNUIE9OIHVzZXJzIFRPIHJlYWRvbmx5X3VzZXI7CkdSQU5UIElOU0VSVCwgVVBEQVRFIE9OIG9yZGVycyBUTyBvcmRlcl9tYW5hZ2VyOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GRANT SELECT ON users TO readonly_user;
GRANT INSERT, UPDATE ON orders TO order_manager;</pre></div><div class='content'></div><h1>Lessons Learned</h1>
<div class='content'></div><h2>Performance Tuning</h2>
<div class='content'><ul>
<li><strong>Analyze and Vacuum</strong>: Regularly run <code>ANALYZE</code> and <code>VACUUM</code> to update statistics and reclaim storage.</li>
<li><strong>Connection Pooling</strong>: Use connection pooling to manage database connections efficiently and reduce overhead.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VkFDVVVNIEFOQUxZWkU7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>VACUUM ANALYZE;</pre></div><div class='content'></div><h2>Error Handling</h2>
<div class='content'><ul>
<li><strong>Log Errors</strong>: Configure PostgreSQL to log errors and review logs regularly to identify and address issues.</li>
<li><strong>Graceful Degradation</strong>: Implement mechanisms to handle failures gracefully and maintain service availability.</li>
</ul>
</div><h2>Monitoring and Maintenance</h2>
<div class='content'><ul>
<li><strong>Monitor Performance</strong>: Use tools like pg_stat_statements and pgAdmin to monitor database performance and identify slow queries.</li>
<li><strong>Regular Maintenance</strong>: Schedule regular maintenance tasks such as reindexing and updating statistics to keep the database running smoothly.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIEVYVEVOU0lPTiBwZ19zdGF0X3N0YXRlbWVudHM7ClNFTEVDVCAqIEZST00gcGdfc3RhdF9zdGF0ZW1lbnRzIE9SREVSIEJZIHRvdGFsX3RpbWUgREVTQyBMSU1JVCAxMDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE EXTENSION pg_stat_statements;
SELECT * FROM pg_stat_statements ORDER BY total_time DESC LIMIT 10;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Following best practices and learning from past experiences are crucial for managing a PostgreSQL database effectively. By adhering to these guidelines, you can ensure that your database is optimized for performance, secure, and maintainable. Regular monitoring and maintenance, along with a solid understanding of schema design, indexing, and query optimization, will help you get the most out of PostgreSQL.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='case-study-financial-transactions'>&#x25C4;Case Study: Financial Transactions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Best Practices and Lessons Learned</a>
	</div>
	<div class='col-4 text-end'>
					<a href='future-trends-in-postgresql'>Future Trends in PostgreSQL &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
