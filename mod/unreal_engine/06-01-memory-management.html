<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Memory Management</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unreal_engine/06-01-memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unreal_engine/06-01-gestio-de-memoria" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unreal_engine/06-01-memory-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/unreal_engine/06-01-memory-management" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/unreal_engine/06-01-gestio-de-memoria" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-integrating-cpp-with-blueprints' title="Integrating C++ with Blueprints">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Memory Management</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-multithreading' title="Multithreading">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Memory management is a critical aspect of game development, especially in a complex and resource-intensive environment like Unreal Engine. Proper memory management ensures that your game runs efficiently, avoids crashes, and provides a smooth experience for players. In this section, we will cover the following topics:</p>
<ol>
<li><strong>Understanding Memory Management in Unreal Engine</strong></li>
<li><strong>Smart Pointers</strong></li>
<li><strong>Garbage Collection</strong></li>
<li><strong>Memory Profiling Tools</strong></li>
<li><strong>Best Practices</strong></li>
</ol>
</div><h1>Understanding Memory Management in Unreal Engine</h1>
<div class='content'><p>Unreal Engine uses a combination of manual and automatic memory management techniques. Here are the key concepts:</p>
<ul>
<li><strong>Heap and Stack Memory</strong>: Understanding the difference between heap (dynamically allocated memory) and stack (automatically managed memory) is crucial.</li>
<li><strong>Object Lifetimes</strong>: Knowing when and how objects are created and destroyed helps in managing memory effectively.</li>
<li><strong>Garbage Collection</strong>: Unreal Engine uses a garbage collector to automatically manage the lifecycle of certain objects.</li>
</ul>
</div><h1>Smart Pointers</h1>
<div class='content'><p>Smart pointers are a modern C++ feature that helps manage memory by automatically deallocating objects when they are no longer needed. Unreal Engine provides several types of smart pointers:</p>
</div><h2>Types of Smart Pointers</h2>
<div class='content'><table>
<thead>
<tr>
<th>Smart Pointer</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TSharedPtr</code></td>
<td>Shared ownership of an object. The object is destroyed when the last <code>TSharedPtr</code> pointing to it is destroyed.</td>
</tr>
<tr>
<td><code>TWeakPtr</code></td>
<td>A non-owning reference to an object managed by a <code>TSharedPtr</code>. It does not affect the object's lifetime.</td>
</tr>
<tr>
<td><code>TUniquePtr</code></td>
<td>Exclusive ownership of an object. The object is destroyed when the <code>TUniquePtr</code> goes out of scope.</td>
</tr>
</tbody>
</table>
</div><h2>Example: Using <code>TSharedPtr</code></h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgIkNvcmVNaW5pbWFsLmgiCgp2b2lkIEV4YW1wbGVGdW5jdGlvbigpCnsKICAgIFRTaGFyZWRQdHI8aW50MzI+IFNoYXJlZEludCA9IE1ha2VTaGFyZWFibGUobmV3IGludDMyKDQyKSk7CiAgICAvLyBVc2UgU2hhcmVkSW50CiAgICBVRV9MT0coTG9nVGVtcCwgV2FybmluZywgVEVYVCgiU2hhcmVkSW50IHZhbHVlOiAlZCIpLCAqU2hhcmVkSW50KTsKICAgIC8vIFNoYXJlZEludCBpcyBhdXRvbWF0aWNhbGx5IGRlc3Ryb3llZCB3aGVuIGl0IGdvZXMgb3V0IG9mIHNjb3BlCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &quot;CoreMinimal.h&quot;

void ExampleFunction()
{
    TSharedPtr&lt;int32&gt; SharedInt = MakeShareable(new int32(42));
    // Use SharedInt
    UE_LOG(LogTemp, Warning, TEXT(&quot;SharedInt value: %d&quot;), *SharedInt);
    // SharedInt is automatically destroyed when it goes out of scope
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>MakeShareable</code> creates a <code>TSharedPtr</code> that manages the integer.</li>
<li>The integer is automatically destroyed when <code>SharedInt</code> goes out of scope.</li>
</ul>
</div><h1>Garbage Collection</h1>
<div class='content'><p>Unreal Engine's garbage collector automatically manages the lifecycle of UObject-derived objects. Here are some key points:</p>
<ul>
<li><strong>Marking for Garbage Collection</strong>: Objects are marked for garbage collection when they are no longer referenced.</li>
<li><strong>Garbage Collection Process</strong>: The garbage collector runs periodically to clean up unreferenced objects.</li>
</ul>
</div><h2>Example: Marking Objects for Garbage Collection</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VUNMQVNTKCkKY2xhc3MgTVlHQU1FX0FQSSBBTXlBY3RvciA6IHB1YmxpYyBBQWN0b3IKewogICAgR0VORVJBVEVEX0JPRFkoKQoKcHVibGljOgogICAgVVBST1BFUlRZKCkKICAgIFVPYmplY3QqIE15T2JqZWN0OwogICAgCiAgICB2b2lkIENyZWF0ZU9iamVjdCgpCiAgICB7CiAgICAgICAgTXlPYmplY3QgPSBOZXdPYmplY3Q8VU9iamVjdD4odGhpcyk7CiAgICB9Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>UCLASS()
class MYGAME_API AMyActor : public AActor
{
    GENERATED_BODY()

public:
    UPROPERTY()
    UObject* MyObject;
    
    void CreateObject()
    {
        MyObject = NewObject&lt;UObject&gt;(this);
    }
};</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>UPROPERTY()</code> macro ensures that <code>MyObject</code> is tracked by the garbage collector.</li>
<li><code>NewObject&lt;UObject&gt;(this)</code> creates a new object that is managed by the garbage collector.</li>
</ul>
</div><h1>Memory Profiling Tools</h1>
<div class='content'><p>Unreal Engine provides several tools to help profile and manage memory usage:</p>
<ul>
<li><strong>Unreal Insights</strong>: A comprehensive profiling tool that provides detailed information about memory usage, performance, and more.</li>
<li><strong>Stat Commands</strong>: In-game commands like <code>stat memory</code> provide real-time memory usage statistics.</li>
</ul>
</div><h2>Example: Using <code>stat memory</code></h2>
<div class='content'><ol>
<li>Run your game in the editor.</li>
<li>Open the console (<code>~</code> key) and type <code>stat memory</code>.</li>
<li>Review the memory usage statistics displayed on the screen.</li>
</ol>
</div><h1>Best Practices</h1>
<div class='content'><p>Here are some best practices for effective memory management in Unreal Engine:</p>
<ul>
<li><strong>Use Smart Pointers</strong>: Prefer smart pointers over raw pointers to avoid memory leaks.</li>
<li><strong>Profile Regularly</strong>: Use profiling tools to monitor memory usage and identify potential issues.</li>
<li><strong>Minimize Object Lifetimes</strong>: Keep object lifetimes as short as possible to reduce memory overhead.</li>
<li><strong>Avoid Circular References</strong>: Be cautious of circular references, especially when using smart pointers.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the fundamentals of memory management in Unreal Engine, including smart pointers, garbage collection, and memory profiling tools. By following best practices and utilizing the tools provided by Unreal Engine, you can ensure efficient memory management in your projects. In the next section, we will delve into multithreading, which is another crucial aspect of optimizing game performance.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-integrating-cpp-with-blueprints' title="Integrating C++ with Blueprints">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-multithreading' title="Multithreading">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
