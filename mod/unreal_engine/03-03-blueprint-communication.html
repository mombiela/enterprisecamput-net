<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blueprint Communication</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unreal_engine/03-03-blueprint-communication" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unreal_engine/03-03-comunicacio-entre-blueprints" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unreal_engine/03-03-blueprint-communication" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/unreal_engine/03-03-blueprint-communication" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/unreal_engine/03-03-comunicacio-entre-blueprints" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-functions-and-events' title="Functions and Events">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Blueprint Communication</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-creating-interactive-objects' title="Creating Interactive Objects">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Blueprint Communication is a crucial aspect of Unreal Engine development, allowing different Blueprints to interact and share data. This module will cover various methods of communication between Blueprints, including direct communication, event dispatchers, and interfaces.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Direct Communication</strong>: Accessing variables and functions directly from one Blueprint to another.</li>
<li><strong>Event Dispatchers</strong>: Broadcasting events to multiple Blueprints.</li>
<li><strong>Blueprint Interfaces</strong>: Defining a common set of functions that multiple Blueprints can implement.</li>
</ol>
</div><h1><p>Direct Communication</p>
</h1>
<div class='content'><p>Direct communication involves accessing variables and functions of one Blueprint from another. This method is straightforward but can lead to tightly coupled Blueprints, making your project harder to maintain.</p>
</div><h2><p>Example: Accessing a Variable from Another Blueprint</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create Two Blueprints</strong>:</p>
<ul>
<li><code>BP_Player</code> (Player Blueprint)</li>
<li><code>BP_Enemy</code> (Enemy Blueprint)</li>
</ul>
</li>
<li>
<p><strong>Add a Variable in BP_Player</strong>:</p>
<ul>
<li>Name: <code>Health</code></li>
<li>Type: <code>Float</code></li>
<li>Default Value: <code>100.0</code></li>
</ul>
</li>
<li>
<p><strong>Access the Variable in BP_Enemy</strong>:</p>
<ul>
<li>In <code>BP_Enemy</code>, create a variable of type <code>BP_Player</code> called <code>PlayerReference</code>.</li>
<li>In the Event Graph of <code>BP_Enemy</code>, use the <code>Get Player Character</code> node to get a reference to the player and cast it to <code>BP_Player</code>.</li>
<li>Set the <code>PlayerReference</code> variable to this casted reference.</li>
<li>Now, you can access the <code>Health</code> variable from <code>PlayerReference</code>.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfRW5lbXkgRXZlbnQgR3JhcGgKRXZlbnQgQmVnaW5QbGF5CnsKICAgIFBsYXllckNoYXJhY3RlciA9IEdldCBQbGF5ZXIgQ2hhcmFjdGVyCiAgICBQbGF5ZXJSZWZlcmVuY2UgPSBDYXN0IHRvIEJQX1BsYXllcihQbGF5ZXJDaGFyYWN0ZXIpCiAgICBQbGF5ZXJIZWFsdGggPSBQbGF5ZXJSZWZlcmVuY2UuSGVhbHRoCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_Enemy Event Graph
Event BeginPlay
{
    PlayerCharacter = Get Player Character
    PlayerReference = Cast to BP_Player(PlayerCharacter)
    PlayerHealth = PlayerReference.Health
}</pre></div><div class='content'></div><h2><p>Exercise: Direct Communication</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create a <code>BP_HealthPickup</code> Blueprint that increases the player's health when collected.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a <code>BP_HealthPickup</code> Blueprint.</li>
<li>Add a <code>Box Collision</code> component.</li>
<li>In the Event Graph, use the <code>OnComponentBeginOverlap</code> event.</li>
<li>Get the overlapping actor, cast it to <code>BP_Player</code>, and increase the <code>Health</code> variable.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfSGVhbHRoUGlja3VwIEV2ZW50IEdyYXBoCk9uQ29tcG9uZW50QmVnaW5PdmVybGFwKEJveCBDb2xsaXNpb24pCnsKICAgIE92ZXJsYXBwaW5nQWN0b3IgPSBPdGhlciBBY3RvcgogICAgUGxheWVyID0gQ2FzdCB0byBCUF9QbGF5ZXIoT3ZlcmxhcHBpbmdBY3RvcikKICAgIGlmIChQbGF5ZXIpCiAgICB7CiAgICAgICAgUGxheWVyLkhlYWx0aCArPSAyMC4wCiAgICAgICAgRGVzdHJveSBBY3RvcihTZWxmKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_HealthPickup Event Graph
OnComponentBeginOverlap(Box Collision)
{
    OverlappingActor = Other Actor
    Player = Cast to BP_Player(OverlappingActor)
    if (Player)
    {
        Player.Health += 20.0
        Destroy Actor(Self)
    }
}</pre></div><div class='content'></div><h1><p>Event Dispatchers</p>
</h1>
<div class='content'><p>Event Dispatchers allow a Blueprint to broadcast an event that other Blueprints can listen to and respond to. This method is useful for decoupling Blueprints and creating more modular code.</p>
</div><h2><p>Example: Using Event Dispatchers</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create an Event Dispatcher in BP_Player</strong>:</p>
<ul>
<li>Name: <code>OnHealthChanged</code></li>
</ul>
</li>
<li>
<p><strong>Bind the Event Dispatcher in BP_Enemy</strong>:</p>
<ul>
<li>In <code>BP_Enemy</code>, create a variable of type <code>BP_Player</code> called <code>PlayerReference</code>.</li>
<li>In the Event Graph, bind the <code>OnHealthChanged</code> event to a custom event.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfRW5lbXkgRXZlbnQgR3JhcGgKRXZlbnQgQmVnaW5QbGF5CnsKICAgIFBsYXllckNoYXJhY3RlciA9IEdldCBQbGF5ZXIgQ2hhcmFjdGVyCiAgICBQbGF5ZXJSZWZlcmVuY2UgPSBDYXN0IHRvIEJQX1BsYXllcihQbGF5ZXJDaGFyYWN0ZXIpCiAgICBCaW5kIEV2ZW50IHRvIE9uSGVhbHRoQ2hhbmdlZChQbGF5ZXJSZWZlcmVuY2UsIEN1c3RvbUV2ZW50X09uSGVhbHRoQ2hhbmdlZCkKfQoKQ3VzdG9tRXZlbnRfT25IZWFsdGhDaGFuZ2VkCnsKICAgIC8vIEhhbmRsZSBoZWFsdGggY2hhbmdlCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_Enemy Event Graph
Event BeginPlay
{
    PlayerCharacter = Get Player Character
    PlayerReference = Cast to BP_Player(PlayerCharacter)
    Bind Event to OnHealthChanged(PlayerReference, CustomEvent_OnHealthChanged)
}

CustomEvent_OnHealthChanged
{
    // Handle health change
}</pre></div><div class='content'><ol start="3">
<li><strong>Trigger the Event Dispatcher in BP_Player</strong>:
<ul>
<li>Whenever the <code>Health</code> variable changes, call the <code>OnHealthChanged</code> event.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfUGxheWVyIEV2ZW50IEdyYXBoCkZ1bmN0aW9uIFNldEhlYWx0aChOZXdIZWFsdGgpCnsKICAgIEhlYWx0aCA9IE5ld0hlYWx0aAogICAgT25IZWFsdGhDaGFuZ2VkLkJyb2FkY2FzdCgpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_Player Event Graph
Function SetHealth(NewHealth)
{
    Health = NewHealth
    OnHealthChanged.Broadcast()
}</pre></div><div class='content'></div><h2><p>Exercise: Event Dispatchers</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create a <code>BP_HealthBar</code> Blueprint that updates when the player's health changes.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a <code>BP_HealthBar</code> Blueprint.</li>
<li>Add a <code>ProgressBar</code> widget.</li>
<li>In the Event Graph, bind to the <code>OnHealthChanged</code> event of <code>BP_Player</code>.</li>
<li>Update the <code>ProgressBar</code> when the event is triggered.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfSGVhbHRoQmFyIEV2ZW50IEdyYXBoCkV2ZW50IEJlZ2luUGxheQp7CiAgICBQbGF5ZXJDaGFyYWN0ZXIgPSBHZXQgUGxheWVyIENoYXJhY3RlcgogICAgUGxheWVyUmVmZXJlbmNlID0gQ2FzdCB0byBCUF9QbGF5ZXIoUGxheWVyQ2hhcmFjdGVyKQogICAgQmluZCBFdmVudCB0byBPbkhlYWx0aENoYW5nZWQoUGxheWVyUmVmZXJlbmNlLCBDdXN0b21FdmVudF9PbkhlYWx0aENoYW5nZWQpCn0KCkN1c3RvbUV2ZW50X09uSGVhbHRoQ2hhbmdlZAp7CiAgICBIZWFsdGhQZXJjZW50YWdlID0gUGxheWVyUmVmZXJlbmNlLkhlYWx0aCAvIDEwMC4wCiAgICBQcm9ncmVzc0Jhci5TZXRQZXJjZW50KEhlYWx0aFBlcmNlbnRhZ2UpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_HealthBar Event Graph
Event BeginPlay
{
    PlayerCharacter = Get Player Character
    PlayerReference = Cast to BP_Player(PlayerCharacter)
    Bind Event to OnHealthChanged(PlayerReference, CustomEvent_OnHealthChanged)
}

CustomEvent_OnHealthChanged
{
    HealthPercentage = PlayerReference.Health / 100.0
    ProgressBar.SetPercent(HealthPercentage)
}</pre></div><div class='content'></div><h1><p>Blueprint Interfaces</p>
</h1>
<div class='content'><p>Blueprint Interfaces define a set of functions that multiple Blueprints can implement. This method is useful for creating a common communication protocol between different Blueprints.</p>
</div><h2><p>Example: Using Blueprint Interfaces</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Blueprint Interface</strong>:</p>
<ul>
<li>Name: <code>BPI_Interactable</code></li>
<li>Add a function called <code>Interact</code></li>
</ul>
</li>
<li>
<p><strong>Implement the Interface in BP_Player and BP_Enemy</strong>:</p>
<ul>
<li>In <code>BP_Player</code> and <code>BP_Enemy</code>, add the <code>BPI_Interactable</code> interface.</li>
<li>Implement the <code>Interact</code> function in both Blueprints.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfUGxheWVyIEludGVyYWN0IEZ1bmN0aW9uCkZ1bmN0aW9uIEludGVyYWN0CnsKICAgIC8vIFBsYXllci1zcGVjaWZpYyBpbnRlcmFjdGlvbiBsb2dpYwp9CgovLyBCUF9FbmVteSBJbnRlcmFjdCBGdW5jdGlvbgpGdW5jdGlvbiBJbnRlcmFjdAp7CiAgICAvLyBFbmVteS1zcGVjaWZpYyBpbnRlcmFjdGlvbiBsb2dpYwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_Player Interact Function
Function Interact
{
    // Player-specific interaction logic
}

// BP_Enemy Interact Function
Function Interact
{
    // Enemy-specific interaction logic
}</pre></div><div class='content'><ol start="3">
<li><strong>Call the Interface Function</strong>:
<ul>
<li>In another Blueprint, call the <code>Interact</code> function on any actor that implements the <code>BPI_Interactable</code> interface.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU29tZSBCbHVlcHJpbnQgRXZlbnQgR3JhcGgKRXZlbnQgU29tZUV2ZW50CnsKICAgIEludGVyYWN0YWJsZUFjdG9yID0gR2V0IFNvbWUgQWN0b3IKICAgIGlmIChEb2VzIEltcGxlbWVudCBJbnRlcmZhY2UoSW50ZXJhY3RhYmxlQWN0b3IsIEJQSV9JbnRlcmFjdGFibGUpKQogICAgewogICAgICAgIEludGVyYWN0YWJsZUFjdG9yLkludGVyYWN0KCkKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Some Blueprint Event Graph
Event SomeEvent
{
    InteractableActor = Get Some Actor
    if (Does Implement Interface(InteractableActor, BPI_Interactable))
    {
        InteractableActor.Interact()
    }
}</pre></div><div class='content'></div><h2><p>Exercise: Blueprint Interfaces</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create a <code>BP_Door</code> Blueprint that opens when the player interacts with it.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a <code>BP_Door</code> Blueprint.</li>
<li>Add the <code>BPI_Interactable</code> interface.</li>
<li>Implement the <code>Interact</code> function to open the door.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQlBfRG9vciBJbnRlcmFjdCBGdW5jdGlvbgpGdW5jdGlvbiBJbnRlcmFjdAp7CiAgICAvLyBPcGVuIGRvb3IgbG9naWMKICAgIFNldCBBY3RvciBSb3RhdGlvbihOZXdSb3RhdGlvbikKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// BP_Door Interact Function
Function Interact
{
    // Open door logic
    Set Actor Rotation(NewRotation)
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this module, we covered the three primary methods of Blueprint communication: Direct Communication, Event Dispatchers, and Blueprint Interfaces. Each method has its use cases and benefits, and understanding when to use each will help you create more modular and maintainable projects.</p>
<p>Next, we will delve into creating interactive objects, building on the communication methods learned here.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-functions-and-events' title="Functions and Events">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-creating-interactive-objects' title="Creating Interactive Objects">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
