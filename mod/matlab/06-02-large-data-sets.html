<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Large Data Sets</title>

    <link rel="alternate" href="https://campusempresa.com/mod/matlab/06-02-large-data-sets" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/matlab/06-02-large-data-sets" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/matlab/06-02-large-data-sets" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/matlab/06-02-large-data-sets" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/matlab/06-02-large-data-sets" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-file-io' title="File I/O">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Handling Large Data Sets</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-optimization-techniques' title="Optimization Techniques">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore techniques and tools in MATLAB for handling large data sets efficiently. As data sizes grow, it becomes crucial to manage memory and processing time effectively. This module will cover various strategies and functions that can help you work with large data sets without running into performance issues.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Memory Management</strong>: Understanding how MATLAB manages memory and how to optimize it.</li>
<li><strong>Efficient Data Storage</strong>: Techniques for storing large data sets efficiently.</li>
<li><strong>Data Processing</strong>: Methods for processing large data sets without loading them entirely into memory.</li>
<li><strong>Parallel Computing</strong>: Utilizing multiple cores to speed up data processing.</li>
</ol>
</div><h1><p>Memory Management</p>
</h1>
<div class='content'></div><h2><p>Preallocating Arrays</p>
</h2>
<div class='content'><p>Preallocating memory for arrays can significantly improve performance by reducing the need for MATLAB to repeatedly allocate memory as the array grows.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBJbmVmZmljaWVudCB3YXkKZGF0YSA9IFtdOwpmb3IgaSA9IDE6MTAwMDAKICAgIGRhdGEgPSBbZGF0YSwgaV07CmVuZAoKJSBFZmZpY2llbnQgd2F5CmRhdGEgPSB6ZXJvcygxLCAxMDAwMCk7CmZvciBpID0gMToxMDAwMAogICAgZGF0YShpKSA9IGk7CmVuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Inefficient way
data = [];
for i = 1:10000
    data = [data, i];
end

% Efficient way
data = zeros(1, 10000);
for i = 1:10000
    data(i) = i;
end</pre></div><div class='content'></div><h2><p>Clearing Unused Variables</p>
</h2>
<div class='content'><p>Free up memory by clearing variables that are no longer needed.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xlYXIgdmFyaWFibGVOYW1lOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>clear variableName;</pre></div><div class='content'></div><h2><p>Using <code>whos</code> Command</p>
</h2>
<div class='content'><p>The <code>whos</code> command provides information about the variables in the workspace, including their size and memory usage.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2hvczs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>whos;</pre></div><div class='content'></div><h1><p>Efficient Data Storage</p>
</h1>
<div class='content'></div><h2><p>Using MAT-Files</p>
</h2>
<div class='content'><p>MAT-files are MATLAB's native format for storing data. They are efficient and can handle large data sets.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBTYXZpbmcgZGF0YSB0byBhIE1BVC1maWxlCmRhdGEgPSByYW5kKDEwMDAwLCAxMDAwMCk7CnNhdmUoJ2xhcmdlRGF0YS5tYXQnLCAnZGF0YScpOwoKJSBMb2FkaW5nIGRhdGEgZnJvbSBhIE1BVC1maWxlCmxvYWQoJ2xhcmdlRGF0YS5tYXQnKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Saving data to a MAT-file
data = rand(10000, 10000);
save('largeData.mat', 'data');

% Loading data from a MAT-file
load('largeData.mat');</pre></div><div class='content'></div><h2><p>Using HDF5 Files</p>
</h2>
<div class='content'><p>HDF5 is a file format that supports the creation, access, and sharing of scientific data. MATLAB provides built-in support for HDF5 files.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGluZyBhbiBIREY1IGZpbGUKaDVjcmVhdGUoJ2xhcmdlRGF0YS5oNScsICcvZGF0YXNldDEnLCBbMTAwMDAsIDEwMDAwXSk7Cmg1d3JpdGUoJ2xhcmdlRGF0YS5oNScsICcvZGF0YXNldDEnLCByYW5kKDEwMDAwLCAxMDAwMCkpOwoKJSBSZWFkaW5nIGZyb20gYW4gSERGNSBmaWxlCmRhdGEgPSBoNXJlYWQoJ2xhcmdlRGF0YS5oNScsICcvZGF0YXNldDEnKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Creating an HDF5 file
h5create('largeData.h5', '/dataset1', [10000, 10000]);
h5write('largeData.h5', '/dataset1', rand(10000, 10000));

% Reading from an HDF5 file
data = h5read('largeData.h5', '/dataset1');</pre></div><div class='content'></div><h1><p>Data Processing</p>
</h1>
<div class='content'></div><h2><p>Using <code>datastore</code></p>
</h2>
<div class='content'><p>The <code>datastore</code> function allows you to work with large data sets that do not fit into memory by processing them in chunks.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGluZyBhIGRhdGFzdG9yZSBmb3IgYSBsYXJnZSBDU1YgZmlsZQpkcyA9IGRhdGFzdG9yZSgnbGFyZ2VEYXRhLmNzdicpOwoKJSBSZWFkaW5nIGRhdGEgaW4gY2h1bmtzCndoaWxlIGhhc2RhdGEoZHMpCiAgICBkYXRhQ2h1bmsgPSByZWFkKGRzKTsKICAgICUgUHJvY2VzcyBkYXRhQ2h1bmsKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Creating a datastore for a large CSV file
ds = datastore('largeData.csv');

% Reading data in chunks
while hasdata(ds)
    dataChunk = read(ds);
    % Process dataChunk
end</pre></div><div class='content'></div><h2><p>Using <code>tall</code> Arrays</p>
</h2>
<div class='content'><p><code>tall</code> arrays are designed for working with data that is too large to fit into memory. They allow you to perform operations on data in a way that is similar to regular MATLAB arrays.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGluZyBhIHRhbGwgYXJyYXkgZnJvbSBhIGRhdGFzdG9yZQpkcyA9IGRhdGFzdG9yZSgnbGFyZ2VEYXRhLmNzdicpOwp0ID0gdGFsbChkcyk7CgolIFBlcmZvcm1pbmcgb3BlcmF0aW9ucyBvbiB0aGUgdGFsbCBhcnJheQpyZXN1bHQgPSBtZWFuKHQuVmFyMSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Creating a tall array from a datastore
ds = datastore('largeData.csv');
t = tall(ds);

% Performing operations on the tall array
result = mean(t.Var1);</pre></div><div class='content'></div><h1><p>Parallel Computing</p>
</h1>
<div class='content'></div><h2><p>Using <code>parfor</code></p>
</h2>
<div class='content'><p>The <code>parfor</code> loop allows you to execute iterations in parallel, utilizing multiple cores to speed up processing.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBQYXJhbGxlbCBmb3IgbG9vcApwYXJmb3IgaSA9IDE6MTAwMDAKICAgIHJlc3VsdChpKSA9IHNvbWVGdW5jdGlvbihkYXRhKGkpKTsKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Parallel for loop
parfor i = 1:10000
    result(i) = someFunction(data(i));
end</pre></div><div class='content'></div><h2><p>Using <code>parfeval</code></p>
</h2>
<div class='content'><p>The <code>parfeval</code> function allows you to run functions asynchronously on a parallel pool.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBSdW5uaW5nIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHkKZnV0dXJlcyA9IHBhcmZldmFsKEBzb21lRnVuY3Rpb24sIDEsIGRhdGEpOwoKJSBGZXRjaGluZyByZXN1bHRzCnJlc3VsdCA9IGZldGNoT3V0cHV0cyhmdXR1cmVzKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Running a function asynchronously
futures = parfeval(@someFunction, 1, data);

% Fetching results
result = fetchOutputs(futures);</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Processing Large Data Set</p>
</h2>
<div class='content'><ol>
<li>Create a large data set and save it to a MAT-file.</li>
<li>Load the data in chunks using <code>datastore</code>.</li>
<li>Perform a simple operation (e.g., calculating the mean) on each chunk.</li>
<li>Use <code>parfor</code> to parallelize the operation.</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBTdGVwIDE6IENyZWF0ZSBhbmQgc2F2ZSBsYXJnZSBkYXRhIHNldApkYXRhID0gcmFuZCgxMDAwMDAwLCAxMCk7CnNhdmUoJ2xhcmdlRGF0YS5tYXQnLCAnZGF0YScpOwoKJSBTdGVwIDI6IExvYWQgZGF0YSBpbiBjaHVua3MgdXNpbmcgZGF0YXN0b3JlCmRzID0gZGF0YXN0b3JlKCdsYXJnZURhdGEubWF0JywgJ1JlYWRTaXplJywgMTAwMDApOwoKJSBTdGVwIDM6IENhbGN1bGF0ZSBtZWFuIG9mIGVhY2ggY2h1bmsKbWVhbnMgPSBbXTsKd2hpbGUgaGFzZGF0YShkcykKICAgIGRhdGFDaHVuayA9IHJlYWQoZHMpOwogICAgbWVhbnMgPSBbbWVhbnM7IG1lYW4oZGF0YUNodW5rKV07CmVuZAoKJSBTdGVwIDQ6IFBhcmFsbGVsaXplIHRoZSBvcGVyYXRpb24gdXNpbmcgcGFyZm9yCnBhcmZvciBpID0gMTpsZW5ndGgobWVhbnMpCiAgICByZXN1bHQoaSkgPSBzb21lRnVuY3Rpb24obWVhbnMoaSkpOwplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Step 1: Create and save large data set
data = rand(1000000, 10);
save('largeData.mat', 'data');

% Step 2: Load data in chunks using datastore
ds = datastore('largeData.mat', 'ReadSize', 10000);

% Step 3: Calculate mean of each chunk
means = [];
while hasdata(ds)
    dataChunk = read(ds);
    means = [means; mean(dataChunk)];
end

% Step 4: Parallelize the operation using parfor
parfor i = 1:length(means)
    result(i) = someFunction(means(i));
end</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered various techniques for handling large data sets in MATLAB, including memory management, efficient data storage, data processing, and parallel computing. By applying these techniques, you can work with large data sets more efficiently and avoid common performance issues. In the next section, we will delve into optimization techniques to further enhance your MATLAB programs.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-01-file-io' title="File I/O">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-03-optimization-techniques' title="Optimization Techniques">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
