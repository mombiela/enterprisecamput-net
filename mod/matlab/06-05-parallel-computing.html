<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallel Computing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/matlab/06-05-parallel-computing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/matlab/06-05-parallel-computing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/matlab/06-05-parallel-computing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/matlab/06-05-parallel-computing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/matlab/06-05-parallel-computing" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-simulink-basics' title="Simulink Basics">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Parallel Computing</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-01-signal-processing' title="Signal Processing">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Parallel computing in MATLAB allows you to perform computations simultaneously on multiple processors, which can significantly speed up your code execution, especially for large data sets or complex calculations. This section will cover the basics of parallel computing, including setting up a parallel environment, using parallel loops, and leveraging built-in parallel functions.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Parallel Computing Toolbox</strong>: A MATLAB toolbox that provides functions and tools to parallelize your code.</li>
<li><strong>Parallel Pools</strong>: A collection of MATLAB workers that execute tasks concurrently.</li>
<li><strong>parfor Loops</strong>: A parallel version of the for loop.</li>
<li><strong>spmd (Single Program Multiple Data)</strong>: A construct for running code on multiple workers simultaneously.</li>
<li><strong>Distributed Arrays</strong>: Arrays that are distributed across multiple workers.</li>
<li><strong>Parallel Functions</strong>: Built-in functions that support parallel execution.</li>
</ol>
</div><h1><p>Setting Up Parallel Environment</p>
</h1>
<div class='content'><p>Before you can use parallel computing features, you need to ensure that the Parallel Computing Toolbox is installed and set up.</p>
</div><h2><p>Checking Installation</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDaGVjayBpZiBQYXJhbGxlbCBDb21wdXRpbmcgVG9vbGJveCBpcyBpbnN0YWxsZWQKaWYgbGljZW5zZSgndGVzdCcsICdEaXN0cmliX0NvbXB1dGluZ19Ub29sYm94JykKICAgIGRpc3AoJ1BhcmFsbGVsIENvbXB1dGluZyBUb29sYm94IGlzIGluc3RhbGxlZC4nKTsKZWxzZQogICAgZGlzcCgnUGFyYWxsZWwgQ29tcHV0aW5nIFRvb2xib3ggaXMgbm90IGluc3RhbGxlZC4nKTsKZW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Check if Parallel Computing Toolbox is installed
if license('test', 'Distrib_Computing_Toolbox')
    disp('Parallel Computing Toolbox is installed.');
else
    disp('Parallel Computing Toolbox is not installed.');
end</pre></div><div class='content'></div><h2><p>Starting a Parallel Pool</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBTdGFydCBhIHBhcmFsbGVsIHBvb2wgd2l0aCBkZWZhdWx0IHNldHRpbmdzCnBhcnBvb2w7CgolIFN0YXJ0IGEgcGFyYWxsZWwgcG9vbCB3aXRoIGEgc3BlY2lmaWVkIG51bWJlciBvZiB3b3JrZXJzCnBhcnBvb2woJ2xvY2FsJywgNCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Start a parallel pool with default settings
parpool;

% Start a parallel pool with a specified number of workers
parpool('local', 4);</pre></div><div class='content'></div><h1><p>Using parfor Loops</p>
</h1>
<div class='content'><p>The <code>parfor</code> loop allows you to execute iterations of a loop in parallel.</p>
</div><h2><p>Example: Parallel Sum of an Array</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBJbml0aWFsaXplIGFuIGFycmF5CkEgPSByYW5kKDEsIDEwMDAwMDApOwoKJSBJbml0aWFsaXplIGEgdmFyaWFibGUgdG8gc3RvcmUgdGhlIHN1bQp0b3RhbFN1bSA9IDA7CgolIFVzZSBwYXJmb3IgdG8gY29tcHV0ZSB0aGUgc3VtIGluIHBhcmFsbGVsCnBhcmZvciBpID0gMTpsZW5ndGgoQSkKICAgIHRvdGFsU3VtID0gdG90YWxTdW0gKyBBKGkpOwplbmQKCmRpc3AoWydUb3RhbCBTdW06ICcsIG51bTJzdHIodG90YWxTdW0pXSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Initialize an array
A = rand(1, 1000000);

% Initialize a variable to store the sum
totalSum = 0;

% Use parfor to compute the sum in parallel
parfor i = 1:length(A)
    totalSum = totalSum + A(i);
end

disp(['Total Sum: ', num2str(totalSum)]);</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>parfor</code> replaces the standard <code>for</code> loop.</li>
<li>Each iteration of the loop is executed by a different worker in the parallel pool.</li>
<li>Note: The above example has a race condition issue. A better approach is to use reduction variables.</li>
</ul>
</div><h2><p>Corrected Example with Reduction Variable</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBJbml0aWFsaXplIGFuIGFycmF5CkEgPSByYW5kKDEsIDEwMDAwMDApOwoKJSBVc2UgcGFyZm9yIHRvIGNvbXB1dGUgdGhlIHN1bSBpbiBwYXJhbGxlbAp0b3RhbFN1bSA9IDA7CnBhcmZvciBpID0gMTpsZW5ndGgoQSkKICAgIHRvdGFsU3VtID0gdG90YWxTdW0gKyBBKGkpOwplbmQKCmRpc3AoWydUb3RhbCBTdW06ICcsIG51bTJzdHIodG90YWxTdW0pXSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Initialize an array
A = rand(1, 1000000);

% Use parfor to compute the sum in parallel
totalSum = 0;
parfor i = 1:length(A)
    totalSum = totalSum + A(i);
end

disp(['Total Sum: ', num2str(totalSum)]);</pre></div><div class='content'></div><h1><p>Using spmd</p>
</h1>
<div class='content'><p>The <code>spmd</code> construct allows you to run code on multiple workers simultaneously.</p>
</div><h2><p>Example: Distributed Array Creation</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGUgYSBkaXN0cmlidXRlZCBhcnJheQpzcG1kCiAgICBEID0gZGlzdHJpYnV0ZWQucmFuZCgxMDAwLCAxMDAwKTsKZW5kCgolIERpc3BsYXkgdGhlIHNpemUgb2YgdGhlIGRpc3RyaWJ1dGVkIGFycmF5CmRpc3Aoc2l6ZShEKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Create a distributed array
spmd
    D = distributed.rand(1000, 1000);
end

% Display the size of the distributed array
disp(size(D));</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>spmd</code> block runs the code inside it on all workers.</li>
<li><code>distributed</code> function creates an array distributed across the workers.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Parallel Matrix Multiplication</p>
</h2>
<div class='content'><p>Write a MATLAB script to perform matrix multiplication in parallel using <code>parfor</code>.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBJbml0aWFsaXplIHR3byBsYXJnZSBtYXRyaWNlcwpBID0gcmFuZCgxMDAwLCAxMDAwKTsKQiA9IHJhbmQoMTAwMCwgMTAwMCk7CgolIEluaXRpYWxpemUgdGhlIHJlc3VsdCBtYXRyaXgKQyA9IHplcm9zKHNpemUoQSwgMSksIHNpemUoQiwgMikpOwoKJSBQZXJmb3JtIG1hdHJpeCBtdWx0aXBsaWNhdGlvbiBpbiBwYXJhbGxlbApwYXJmb3IgaSA9IDE6c2l6ZShBLCAxKQogICAgZm9yIGogPSAxOnNpemUoQiwgMikKICAgICAgICBDKGksIGopID0gc3VtKEEoaSwgOikgLiogQig6LCBqKScpOwogICAgZW5kCmVuZAoKZGlzcCgnTWF0cml4IG11bHRpcGxpY2F0aW9uIGNvbXBsZXRlZC4nKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Initialize two large matrices
A = rand(1000, 1000);
B = rand(1000, 1000);

% Initialize the result matrix
C = zeros(size(A, 1), size(B, 2));

% Perform matrix multiplication in parallel
parfor i = 1:size(A, 1)
    for j = 1:size(B, 2)
        C(i, j) = sum(A(i, :) .* B(:, j)');
    end
end

disp('Matrix multiplication completed.');</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The outer loop is parallelized using <code>parfor</code>.</li>
<li>Each worker computes a row of the result matrix <code>C</code>.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ol>
<li><strong>Race Conditions</strong>: Ensure that parallel loops do not have dependencies between iterations.</li>
<li><strong>Overhead</strong>: Parallel computing introduces overhead. Use it for large computations to see performance gains.</li>
<li><strong>Memory Usage</strong>: Be mindful of memory usage, as each worker consumes memory.</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned the basics of parallel computing in MATLAB, including setting up a parallel environment, using <code>parfor</code> loops, and leveraging <code>spmd</code> for distributed computing. You also practiced parallel matrix multiplication. In the next module, you will explore applications and projects that utilize these advanced techniques.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-simulink-basics' title="Simulink Basics">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-01-signal-processing' title="Signal Processing">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
