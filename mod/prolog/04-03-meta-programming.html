<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Meta-Programming</title>

    <link rel="alternate" href="https://campusempresa.com/mod/prolog/04-03-meta-programming" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/prolog/04-03-meta-programming" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/prolog/04-03-meta-programming" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/prolog/04-03-meta-programming" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/prolog/04-03-meta-programming" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-cut-negation' title="Cut and Negation">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Meta-Programming</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-definite-clause-grammars' title="Definite Clause Grammars (DCGs)">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Meta-programming in Prolog involves writing programs that manipulate other programs or themselves. This powerful technique allows for more abstract and flexible code, enabling dynamic generation and evaluation of Prolog code. In this section, we will explore the key concepts, practical examples, and exercises to help you master meta-programming in Prolog.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Meta-Predicates</strong>: Predicates that take other predicates as arguments.</li>
<li><strong><code>call/1</code> Predicate</strong>: A built-in predicate used to invoke other predicates dynamically.</li>
<li><strong>Higher-Order Programming</strong>: Writing predicates that operate on other predicates.</li>
<li><strong>Dynamic Code Generation</strong>: Creating and executing Prolog code at runtime.</li>
</ol>
</div><h1>Meta-Predicates</h1>
<div class='content'><p>Meta-predicates are predicates that accept other predicates as arguments. This allows for more abstract and reusable code. Common meta-predicates include <code>maplist/2</code>, <code>maplist/3</code>, and <code>findall/3</code>.</p>
</div><h2>Example: <code>maplist/2</code></h2>
<div class='content'><p>The <code>maplist/2</code> predicate applies a given predicate to each element of a list.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBzaW1wbGUgcHJlZGljYXRlIHRvIGluY3JlbWVudCBhIG51bWJlcgppbmNyZW1lbnQoWCwgWSkgOi0gWSBpcyBYICsgMS4KCiUgVXNlIG1hcGxpc3QvMiB0byBhcHBseSBpbmNyZW1lbnQvMiB0byBlYWNoIGVsZW1lbnQgb2YgYSBsaXN0CmV4YW1wbGVfbWFwbGlzdCA6LQogICAgTGlzdCA9IFsxLCAyLCAzLCA0XSwKICAgIG1hcGxpc3QoaW5jcmVtZW50LCBMaXN0LCBSZXN1bHQpLAogICAgd3JpdGVsbihSZXN1bHQpLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a simple predicate to increment a number
increment(X, Y) :- Y is X + 1.

% Use maplist/2 to apply increment/2 to each element of a list
example_maplist :-
    List = [1, 2, 3, 4],
    maplist(increment, List, Result),
    writeln(Result).</pre></div><div class='content'><p>In this example, <code>maplist/2</code> applies the <code>increment/2</code> predicate to each element of the list <code>[1, 2, 3, 4]</code>, resulting in <code>[2, 3, 4, 5]</code>.</p>
</div><h1><code>call/1</code> Predicate</h1>
<div class='content'><p>The <code>call/1</code> predicate is used to invoke other predicates dynamically. It allows for higher-order programming by enabling predicates to be passed as arguments and called within other predicates.</p>
</div><h2>Example: <code>call/1</code></h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBwcmVkaWNhdGUgdG8gZG91YmxlIGEgbnVtYmVyCmRvdWJsZShYLCBZKSA6LSBZIGlzIFggKiAyLgoKJSBVc2UgY2FsbC8xIHRvIGludm9rZSBkb3VibGUvMiBkeW5hbWljYWxseQpleGFtcGxlX2NhbGwgOi0KICAgIExpc3QgPSBbMSwgMiwgMywgNF0sCiAgICBtYXBsaXN0KGNhbGwoZG91YmxlKSwgTGlzdCwgUmVzdWx0KSwKICAgIHdyaXRlbG4oUmVzdWx0KS4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a predicate to double a number
double(X, Y) :- Y is X * 2.

% Use call/1 to invoke double/2 dynamically
example_call :-
    List = [1, 2, 3, 4],
    maplist(call(double), List, Result),
    writeln(Result).</pre></div><div class='content'><p>In this example, <code>call/1</code> is used to dynamically invoke the <code>double/2</code> predicate within <code>maplist/2</code>, resulting in <code>[2, 4, 6, 8]</code>.</p>
</div><h1>Higher-Order Programming</h1>
<div class='content'><p>Higher-order programming involves writing predicates that operate on other predicates. This allows for more abstract and flexible code.</p>
</div><h2>Example: Higher-Order Predicate</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBoaWdoZXItb3JkZXIgcHJlZGljYXRlIHRvIGFwcGx5IGEgZ2l2ZW4gcHJlZGljYXRlIHRvIGVhY2ggZWxlbWVudCBvZiBhIGxpc3QKYXBwbHlfdG9fYWxsKF8sIFtdLCBbXSkuCmFwcGx5X3RvX2FsbChQcmVkLCBbSHxUXSwgW1J8UlRdKSA6LQogICAgY2FsbChQcmVkLCBILCBSKSwKICAgIGFwcGx5X3RvX2FsbChQcmVkLCBULCBSVCkuCgolIERlZmluZSBhIHByZWRpY2F0ZSB0byBzcXVhcmUgYSBudW1iZXIKc3F1YXJlKFgsIFkpIDotIFkgaXMgWCAqIFguCgolIFVzZSBhcHBseV90b19hbGwvMyB0byBhcHBseSBzcXVhcmUvMiB0byBlYWNoIGVsZW1lbnQgb2YgYSBsaXN0CmV4YW1wbGVfaGlnaGVyX29yZGVyIDotCiAgICBMaXN0ID0gWzEsIDIsIDMsIDRdLAogICAgYXBwbHlfdG9fYWxsKHNxdWFyZSwgTGlzdCwgUmVzdWx0KSwKICAgIHdyaXRlbG4oUmVzdWx0KS4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a higher-order predicate to apply a given predicate to each element of a list
apply_to_all(_, [], []).
apply_to_all(Pred, [H|T], [R|RT]) :-
    call(Pred, H, R),
    apply_to_all(Pred, T, RT).

% Define a predicate to square a number
square(X, Y) :- Y is X * X.

% Use apply_to_all/3 to apply square/2 to each element of a list
example_higher_order :-
    List = [1, 2, 3, 4],
    apply_to_all(square, List, Result),
    writeln(Result).</pre></div><div class='content'><p>In this example, <code>apply_to_all/3</code> is a higher-order predicate that applies the <code>square/2</code> predicate to each element of the list <code>[1, 2, 3, 4]</code>, resulting in <code>[1, 4, 9, 16]</code>.</p>
</div><h1>Dynamic Code Generation</h1>
<div class='content'><p>Dynamic code generation involves creating and executing Prolog code at runtime. This can be useful for generating predicates based on runtime data.</p>
</div><h2>Example: Dynamic Predicate Creation</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBwcmVkaWNhdGUgdG8gY3JlYXRlIGEgZHluYW1pYyBwcmVkaWNhdGUKY3JlYXRlX2R5bmFtaWNfcHJlZGljYXRlKE5hbWUsIEFyaXR5KSA6LQogICAgZnVuY3RvcihQcmVkLCBOYW1lLCBBcml0eSksCiAgICBhc3NlcnR6KChQcmVkIDotIHdyaXRlbG4oJ0R5bmFtaWMgcHJlZGljYXRlIGNhbGxlZCcpKSkuCgolIFVzZSBjcmVhdGVfZHluYW1pY19wcmVkaWNhdGUvMiB0byBjcmVhdGUgYSBkeW5hbWljIHByZWRpY2F0ZQpleGFtcGxlX2R5bmFtaWMgOi0KICAgIGNyZWF0ZV9keW5hbWljX3ByZWRpY2F0ZShkeW5hbWljX3ByZWQsIDApLAogICAgZHluYW1pY19wcmVkLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a predicate to create a dynamic predicate
create_dynamic_predicate(Name, Arity) :-
    functor(Pred, Name, Arity),
    assertz((Pred :- writeln('Dynamic predicate called'))).

% Use create_dynamic_predicate/2 to create a dynamic predicate
example_dynamic :-
    create_dynamic_predicate(dynamic_pred, 0),
    dynamic_pred.</pre></div><div class='content'><p>In this example, <code>create_dynamic_predicate/2</code> creates a dynamic predicate <code>dynamic_pred/0</code> that prints a message when called.</p>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Implement a Meta-Predicate</h2>
<div class='content'><p>Implement a meta-predicate <code>apply_twice/3</code> that applies a given predicate to each element of a list twice.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYXBwbHlfdHdpY2UvMwphcHBseV90d2ljZShfLCBbXSwgW10pLgphcHBseV90d2ljZShQcmVkLCBbSHxUXSwgW1J8UlRdKSA6LQogICAgY2FsbChQcmVkLCBILCBUZW1wKSwKICAgIGNhbGwoUHJlZCwgVGVtcCwgUiksCiAgICBhcHBseV90d2ljZShQcmVkLCBULCBSVCkuCgolIFRlc3QgYXBwbHlfdHdpY2UvMyB3aXRoIGluY3JlbWVudC8yCnRlc3RfYXBwbHlfdHdpY2UgOi0KICAgIExpc3QgPSBbMSwgMiwgMywgNF0sCiAgICBhcHBseV90d2ljZShpbmNyZW1lbnQsIExpc3QsIFJlc3VsdCksCiAgICB3cml0ZWxuKFJlc3VsdCku"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define apply_twice/3
apply_twice(_, [], []).
apply_twice(Pred, [H|T], [R|RT]) :-
    call(Pred, H, Temp),
    call(Pred, Temp, R),
    apply_twice(Pred, T, RT).

% Test apply_twice/3 with increment/2
test_apply_twice :-
    List = [1, 2, 3, 4],
    apply_twice(increment, List, Result),
    writeln(Result).</pre></div><div class='content'></div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYXBwbHlfdHdpY2UvMwphcHBseV90d2ljZShfLCBbXSwgW10pLgphcHBseV90d2ljZShQcmVkLCBbSHxUXSwgW1J8UlRdKSA6LQogICAgY2FsbChQcmVkLCBILCBUZW1wKSwKICAgIGNhbGwoUHJlZCwgVGVtcCwgUiksCiAgICBhcHBseV90d2ljZShQcmVkLCBULCBSVCkuCgolIFRlc3QgYXBwbHlfdHdpY2UvMyB3aXRoIGluY3JlbWVudC8yCnRlc3RfYXBwbHlfdHdpY2UgOi0KICAgIExpc3QgPSBbMSwgMiwgMywgNF0sCiAgICBhcHBseV90d2ljZShpbmNyZW1lbnQsIExpc3QsIFJlc3VsdCksCiAgICB3cml0ZWxuKFJlc3VsdCku"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define apply_twice/3
apply_twice(_, [], []).
apply_twice(Pred, [H|T], [R|RT]) :-
    call(Pred, H, Temp),
    call(Pred, Temp, R),
    apply_twice(Pred, T, RT).

% Test apply_twice/3 with increment/2
test_apply_twice :-
    List = [1, 2, 3, 4],
    apply_twice(increment, List, Result),
    writeln(Result).</pre></div><div class='content'></div><h2>Exercise 2: Create a Dynamic Predicate</h2>
<div class='content'><p>Create a dynamic predicate <code>dynamic_square/1</code> that squares a given number.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgY3JlYXRlX2R5bmFtaWNfc3F1YXJlLzAKY3JlYXRlX2R5bmFtaWNfc3F1YXJlIDotCiAgICBhc3NlcnR6KChkeW5hbWljX3NxdWFyZShYKSA6LSBZIGlzIFggKiBYLCB3cml0ZWxuKFkpKSkuCgolIFRlc3QgY3JlYXRlX2R5bmFtaWNfc3F1YXJlLzAKdGVzdF9keW5hbWljX3NxdWFyZSA6LQogICAgY3JlYXRlX2R5bmFtaWNfc3F1YXJlLAogICAgZHluYW1pY19zcXVhcmUoNSku"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define create_dynamic_square/0
create_dynamic_square :-
    assertz((dynamic_square(X) :- Y is X * X, writeln(Y))).

% Test create_dynamic_square/0
test_dynamic_square :-
    create_dynamic_square,
    dynamic_square(5).</pre></div><div class='content'></div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgY3JlYXRlX2R5bmFtaWNfc3F1YXJlLzAKY3JlYXRlX2R5bmFtaWNfc3F1YXJlIDotCiAgICBhc3NlcnR6KChkeW5hbWljX3NxdWFyZShYKSA6LSBZIGlzIFggKiBYLCB3cml0ZWxuKFkpKSkuCgolIFRlc3QgY3JlYXRlX2R5bmFtaWNfc3F1YXJlLzAKdGVzdF9keW5hbWljX3NxdWFyZSA6LQogICAgY3JlYXRlX2R5bmFtaWNfc3F1YXJlLAogICAgZHluYW1pY19zcXVhcmUoNSku"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define create_dynamic_square/0
create_dynamic_square :-
    assertz((dynamic_square(X) :- Y is X * X, writeln(Y))).

% Test create_dynamic_square/0
test_dynamic_square :-
    create_dynamic_square,
    dynamic_square(5).</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to use <code>call/1</code></strong>: When passing predicates as arguments, remember to use <code>call/1</code> to invoke them.</li>
<li><strong>Incorrect Arity</strong>: Ensure that the arity of the predicates matches when using meta-predicates.</li>
<li><strong>Dynamic Predicate Management</strong>: Be cautious with dynamic predicates to avoid conflicts and ensure proper cleanup.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored meta-programming in Prolog, including meta-predicates, the <code>call/1</code> predicate, higher-order programming, and dynamic code generation. By mastering these concepts, you can write more abstract, flexible, and powerful Prolog programs. Next, we will delve into Definite Clause Grammars (DCGs) to further enhance your Prolog programming skills.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-cut-negation' title="Cut and Negation">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-definite-clause-grammars' title="Definite Clause Grammars (DCGs)">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
