<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Parallel and Concurrent Programming</title>

    <link rel="alternate" href="https://campusempresa.com/mod/prolog/06-03-parallel-concurrent-programming" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/prolog/06-03-parallel-concurrent-programming" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/prolog/06-03-parallel-concurrent-programming" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/prolog/06-03-parallel-concurrent-programming" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/prolog/06-03-parallel-concurrent-programming" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Building today's and tomorrow's society</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Languages</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Tools</a>
				 					<a href="/categ/foundations">Foundations</a>
				 					<a href="/categ/soft-skills">Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-02-memory-management' title="Memory Management">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Parallel and Concurrent Programming</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-04-advanced-constraint-solving' title="Advanced Constraint Solving">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Parallel and concurrent programming in Prolog allows you to execute multiple tasks simultaneously, improving performance and efficiency, especially for computationally intensive applications. This section will cover the basics of parallel and concurrent programming in Prolog, including key concepts, practical examples, and exercises.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Concurrency vs. Parallelism</strong>:</p>
<ul>
<li><strong>Concurrency</strong>: Managing multiple tasks at the same time, but not necessarily executing them simultaneously.</li>
<li><strong>Parallelism</strong>: Executing multiple tasks simultaneously, typically on multiple processors or cores.</li>
</ul>
</li>
<li>
<p><strong>Threads</strong>:</p>
<ul>
<li>Threads are the basic units of execution in concurrent programming. Prolog supports multi-threading, allowing you to create and manage multiple threads.</li>
</ul>
</li>
<li>
<p><strong>Synchronization</strong>:</p>
<ul>
<li>Mechanisms to control the access of multiple threads to shared resources to avoid conflicts and ensure data consistency.</li>
</ul>
</li>
<li>
<p><strong>Message Passing</strong>:</p>
<ul>
<li>A method of communication between threads or processes, where messages are sent and received to coordinate actions.</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Creating and Managing Threads</p>
</h2>
<div class='content'><p>In Prolog, you can create and manage threads using built-in predicates. Hereâ€™s a simple example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBzaW1wbGUgdGFzayBmb3IgYSB0aHJlYWQKdGFzayA6LQogICAgd3JpdGVsbignVGFzayBpcyBydW5uaW5nIGluIGEgc2VwYXJhdGUgdGhyZWFkJykuCgolIENyZWF0ZSBhbmQgc3RhcnQgYSB0aHJlYWQKc3RhcnRfdGhyZWFkIDotCiAgICB0aHJlYWRfY3JlYXRlKHRhc2ssIFRocmVhZElkLCBbXSksCiAgICB3cml0ZWxuKCdUaHJlYWQgY3JlYXRlZCB3aXRoIElEOiAnKSwgd3JpdGVsbihUaHJlYWRJZCkuCgolIFJ1biB0aGUgZXhhbXBsZQo6LSBzdGFydF90aHJlYWQu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a simple task for a thread
task :-
    writeln('Task is running in a separate thread').

% Create and start a thread
start_thread :-
    thread_create(task, ThreadId, []),
    writeln('Thread created with ID: '), writeln(ThreadId).

% Run the example
:- start_thread.</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>task/0</code>: A simple predicate that prints a message.</li>
<li><code>thread_create/3</code>: Creates a new thread to run the <code>task/0</code> predicate. The <code>ThreadId</code> variable will hold the identifier of the created thread.</li>
</ul>
</div><h2><p>Synchronization with Mutexes</p>
</h2>
<div class='content'><p>Mutexes (mutual exclusions) are used to prevent multiple threads from accessing shared resources simultaneously.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBzaGFyZWQgcmVzb3VyY2UKOi0gZHluYW1pYyBzaGFyZWRfcmVzb3VyY2UvMS4Kc2hhcmVkX3Jlc291cmNlKDApLgoKJSBEZWZpbmUgYSBtdXRleAo6LSBtdXRleF9jcmVhdGUobXlfbXV0ZXgpLgoKJSBUYXNrIHRoYXQgbW9kaWZpZXMgdGhlIHNoYXJlZCByZXNvdXJjZQptb2RpZnlfcmVzb3VyY2UgOi0KICAgIG11dGV4X2xvY2sobXlfbXV0ZXgpLAogICAgcmV0cmFjdChzaGFyZWRfcmVzb3VyY2UoVmFsdWUpKSwKICAgIE5ld1ZhbHVlIGlzIFZhbHVlICsgMSwKICAgIGFzc2VydChzaGFyZWRfcmVzb3VyY2UoTmV3VmFsdWUpKSwKICAgIG11dGV4X3VubG9jayhteV9tdXRleCkuCgolIENyZWF0ZSBhbmQgc3RhcnQgbXVsdGlwbGUgdGhyZWFkcwpzdGFydF90aHJlYWRzIDotCiAgICB0aHJlYWRfY3JlYXRlKG1vZGlmeV9yZXNvdXJjZSwgXywgW10pLAogICAgdGhyZWFkX2NyZWF0ZShtb2RpZnlfcmVzb3VyY2UsIF8sIFtdKSwKICAgIHRocmVhZF9jcmVhdGUobW9kaWZ5X3Jlc291cmNlLCBfLCBbXSkuCgolIFJ1biB0aGUgZXhhbXBsZQo6LSBzdGFydF90aHJlYWRzLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a shared resource
:- dynamic shared_resource/1.
shared_resource(0).

% Define a mutex
:- mutex_create(my_mutex).

% Task that modifies the shared resource
modify_resource :-
    mutex_lock(my_mutex),
    retract(shared_resource(Value)),
    NewValue is Value + 1,
    assert(shared_resource(NewValue)),
    mutex_unlock(my_mutex).

% Create and start multiple threads
start_threads :-
    thread_create(modify_resource, _, []),
    thread_create(modify_resource, _, []),
    thread_create(modify_resource, _, []).

% Run the example
:- start_threads.</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>shared_resource/1</code>: A dynamic predicate representing a shared resource.</li>
<li><code>mutex_create/1</code>: Creates a mutex named <code>my_mutex</code>.</li>
<li><code>modify_resource/0</code>: A predicate that locks the mutex, modifies the shared resource, and then unlocks the mutex.</li>
<li><code>start_threads/0</code>: Creates and starts multiple threads that run the <code>modify_resource/0</code> predicate.</li>
</ul>
</div><h2><p>Message Passing</p>
</h2>
<div class='content'><p>Prolog supports message passing between threads using message queues.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBDcmVhdGUgYSBtZXNzYWdlIHF1ZXVlCjotIG1lc3NhZ2VfcXVldWVfY3JlYXRlKG15X3F1ZXVlKS4KCiUgUHJvZHVjZXIgdGhyZWFkIHRoYXQgc2VuZHMgbWVzc2FnZXMKcHJvZHVjZXIgOi0KICAgIHRocmVhZF9zZW5kX21lc3NhZ2UobXlfcXVldWUsIGhlbGxvKSwKICAgIHRocmVhZF9zZW5kX21lc3NhZ2UobXlfcXVldWUsIHdvcmxkKS4KCiUgQ29uc3VtZXIgdGhyZWFkIHRoYXQgcmVjZWl2ZXMgbWVzc2FnZXMKY29uc3VtZXIgOi0KICAgIHRocmVhZF9nZXRfbWVzc2FnZShteV9xdWV1ZSwgTWVzc2FnZSksCiAgICB3cml0ZWxuKCdSZWNlaXZlZCBtZXNzYWdlOiAnKSwgd3JpdGVsbihNZXNzYWdlKS4KCiUgQ3JlYXRlIGFuZCBzdGFydCBwcm9kdWNlciBhbmQgY29uc3VtZXIgdGhyZWFkcwpzdGFydF9tZXNzYWdlX3Bhc3NpbmcgOi0KICAgIHRocmVhZF9jcmVhdGUocHJvZHVjZXIsIF8sIFtdKSwKICAgIHRocmVhZF9jcmVhdGUoY29uc3VtZXIsIF8sIFtdKS4KCiUgUnVuIHRoZSBleGFtcGxlCjotIHN0YXJ0X21lc3NhZ2VfcGFzc2luZy4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Create a message queue
:- message_queue_create(my_queue).

% Producer thread that sends messages
producer :-
    thread_send_message(my_queue, hello),
    thread_send_message(my_queue, world).

% Consumer thread that receives messages
consumer :-
    thread_get_message(my_queue, Message),
    writeln('Received message: '), writeln(Message).

% Create and start producer and consumer threads
start_message_passing :-
    thread_create(producer, _, []),
    thread_create(consumer, _, []).

% Run the example
:- start_message_passing.</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>message_queue_create/1</code>: Creates a message queue named <code>my_queue</code>.</li>
<li><code>producer/0</code>: A predicate that sends messages to the queue.</li>
<li><code>consumer/0</code>: A predicate that receives messages from the queue.</li>
<li><code>start_message_passing/0</code>: Creates and starts producer and consumer threads.</li>
</ul>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a Thread Pool</p>
</h2>
<div class='content'><p>Create a thread pool that can execute a list of tasks concurrently. Each task should be a simple predicate that prints a message.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBsaXN0IG9mIHRhc2tzCnRhc2tzKFt0YXNrMSwgdGFzazIsIHRhc2szLCB0YXNrNCwgdGFzazVdKS4KCiUgRGVmaW5lIHRoZSB0YXNrcwp0YXNrMSA6LSB3cml0ZWxuKCdUYXNrIDEgaXMgcnVubmluZycpLgp0YXNrMiA6LSB3cml0ZWxuKCdUYXNrIDIgaXMgcnVubmluZycpLgp0YXNrMyA6LSB3cml0ZWxuKCdUYXNrIDMgaXMgcnVubmluZycpLgp0YXNrNCA6LSB3cml0ZWxuKCdUYXNrIDQgaXMgcnVubmluZycpLgp0YXNrNSA6LSB3cml0ZWxuKCdUYXNrIDUgaXMgcnVubmluZycpLgoKJSBDcmVhdGUgYW5kIHN0YXJ0IGEgdGhyZWFkIHBvb2wKc3RhcnRfdGhyZWFkX3Bvb2wgOi0KICAgIHRhc2tzKFRhc2tMaXN0KSwKICAgIG1hcGxpc3QodGhyZWFkX2NyZWF0ZSwgVGFza0xpc3QsIFRocmVhZElkcywgW10pLAogICAgd3JpdGVsbignVGhyZWFkIHBvb2wgY3JlYXRlZCB3aXRoIElEczogJyksIHdyaXRlbG4oVGhyZWFkSWRzKS4KCiUgUnVuIHRoZSBleGFtcGxlCjotIHN0YXJ0X3RocmVhZF9wb29sLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a list of tasks
tasks([task1, task2, task3, task4, task5]).

% Define the tasks
task1 :- writeln('Task 1 is running').
task2 :- writeln('Task 2 is running').
task3 :- writeln('Task 3 is running').
task4 :- writeln('Task 4 is running').
task5 :- writeln('Task 5 is running').

% Create and start a thread pool
start_thread_pool :-
    tasks(TaskList),
    maplist(thread_create, TaskList, ThreadIds, []),
    writeln('Thread pool created with IDs: '), writeln(ThreadIds).

% Run the example
:- start_thread_pool.</pre></div><div class='content'></div><h2><p>Exercise 2: Implement a Synchronized Counter</p>
</h2>
<div class='content'><p>Implement a counter that can be incremented by multiple threads concurrently, ensuring that the final value is correct.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JSBEZWZpbmUgYSBzaGFyZWQgY291bnRlcgo6LSBkeW5hbWljIGNvdW50ZXIvMS4KY291bnRlcigwKS4KCiUgRGVmaW5lIGEgbXV0ZXgKOi0gbXV0ZXhfY3JlYXRlKGNvdW50ZXJfbXV0ZXgpLgoKJSBUYXNrIHRoYXQgaW5jcmVtZW50cyB0aGUgY291bnRlcgppbmNyZW1lbnRfY291bnRlciA6LQogICAgbXV0ZXhfbG9jayhjb3VudGVyX211dGV4KSwKICAgIHJldHJhY3QoY291bnRlcihWYWx1ZSkpLAogICAgTmV3VmFsdWUgaXMgVmFsdWUgKyAxLAogICAgYXNzZXJ0KGNvdW50ZXIoTmV3VmFsdWUpKSwKICAgIG11dGV4X3VubG9jayhjb3VudGVyX211dGV4KS4KCiUgQ3JlYXRlIGFuZCBzdGFydCBtdWx0aXBsZSB0aHJlYWRzCnN0YXJ0X2NvdW50ZXJfdGhyZWFkcyA6LQogICAgdGhyZWFkX2NyZWF0ZShpbmNyZW1lbnRfY291bnRlciwgXywgW10pLAogICAgdGhyZWFkX2NyZWF0ZShpbmNyZW1lbnRfY291bnRlciwgXywgW10pLAogICAgdGhyZWFkX2NyZWF0ZShpbmNyZW1lbnRfY291bnRlciwgXywgW10pLgoKJSBSdW4gdGhlIGV4YW1wbGUKOi0gc3RhcnRfY291bnRlcl90aHJlYWRzLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>% Define a shared counter
:- dynamic counter/1.
counter(0).

% Define a mutex
:- mutex_create(counter_mutex).

% Task that increments the counter
increment_counter :-
    mutex_lock(counter_mutex),
    retract(counter(Value)),
    NewValue is Value + 1,
    assert(counter(NewValue)),
    mutex_unlock(counter_mutex).

% Create and start multiple threads
start_counter_threads :-
    thread_create(increment_counter, _, []),
    thread_create(increment_counter, _, []),
    thread_create(increment_counter, _, []).

% Run the example
:- start_counter_threads.</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered the basics of parallel and concurrent programming in Prolog, including:</p>
<ul>
<li>The difference between concurrency and parallelism.</li>
<li>Creating and managing threads.</li>
<li>Synchronization using mutexes.</li>
<li>Message passing between threads.</li>
</ul>
<p>By understanding these concepts and practicing with the provided examples and exercises, you can effectively utilize parallel and concurrent programming in Prolog to build more efficient and responsive applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-02-memory-management' title="Memory Management">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-04-advanced-constraint-solving' title="Advanced Constraint Solving">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
