<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging and Error Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/r/06-02-debugging-error-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/r/06-02-debugging-error-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/r/06-02-debugging-error-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/r/06-02-debugging-error-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/r/06-02-debugging-error-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-writing-functions' title="Writing Functions">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Debugging and Error Handling</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-object-oriented-programming' title="Object-Oriented Programming in R">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Debugging and error handling are crucial skills for any programmer. In R, understanding how to identify, diagnose, and fix errors can save you a lot of time and frustration. This section will cover the following topics:</p>
<ol>
<li><strong>Types of Errors in R</strong></li>
<li><strong>Debugging Tools and Techniques</strong></li>
<li><strong>Error Handling with <code>tryCatch</code></strong></li>
<li><strong>Practical Examples and Exercises</strong></li>
</ol>
</div><h1>1. Types of Errors in R</h1>
<div class='content'><p>Errors in R can be broadly categorized into three types:</p>
<ul>
<li><strong>Syntax Errors</strong>: These occur when the code is not written correctly according to the rules of the R language.</li>
<li><strong>Runtime Errors</strong>: These occur when the code is syntactically correct but fails during execution.</li>
<li><strong>Logical Errors</strong>: These occur when the code runs without errors but produces incorrect results.</li>
</ul>
</div><h2>Examples:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTeW50YXggRXJyb3IKeCA8LSA1CnkgPC0gMTAKeiA8LSB4ICsgeSkgICMgRXh0cmEgcGFyZW50aGVzaXMKCiMgUnVudGltZSBFcnJvcgphIDwtIGMoMSwgMiwgMykKYiA8LSBhICsgInRleHQiICAjIEluY29tcGF0aWJsZSB0eXBlcwoKIyBMb2dpY2FsIEVycm9yCmMgPC0gMTAKZCA8LSAyMAplIDwtIGMgLSBkICAjIEludGVuZGVkIHRvIGFkZCBidXQgc3VidHJhY3RlZCBpbnN0ZWFk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Syntax Error
x &lt;- 5
y &lt;- 10
z &lt;- x + y)  # Extra parenthesis

# Runtime Error
a &lt;- c(1, 2, 3)
b &lt;- a + &quot;text&quot;  # Incompatible types

# Logical Error
c &lt;- 10
d &lt;- 20
e &lt;- c - d  # Intended to add but subtracted instead</pre></div><div class='content'></div><h1>2. Debugging Tools and Techniques</h1>
<div class='content'><p>R provides several tools and functions to help with debugging:</p>
<ul>
<li><strong><code>print()</code> and <code>cat()</code></strong>: Simple functions to print values and messages to the console.</li>
<li><strong><code>traceback()</code></strong>: Displays the call stack after an error occurs.</li>
<li><strong><code>browser()</code></strong>: Pauses execution and allows you to inspect the environment.</li>
<li><strong><code>debug()</code> and <code>undebug()</code></strong>: Allows you to step through the execution of a function.</li>
<li><strong><code>trace()</code> and <code>untrace()</code></strong>: Inserts debugging code into a function.</li>
</ul>
</div><h2>Examples:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBwcmludCgpIGFuZCBjYXQoKQp4IDwtIDUKeSA8LSAxMApwcmludChwYXN0ZSgieDoiLCB4LCAieToiLCB5KSkKY2F0KCJTdW0gb2YgeCBhbmQgeToiLCB4ICsgeSwgIlxuIikKCiMgVXNpbmcgdHJhY2ViYWNrKCkKZiA8LSBmdW5jdGlvbigpIHsKICBnKCkKfQpnIDwtIGZ1bmN0aW9uKCkgewogIHN0b3AoIkFuIGVycm9yIG9jY3VycmVkIikKfQpmKCkKdHJhY2ViYWNrKCkKCiMgVXNpbmcgYnJvd3NlcigpCmggPC0gZnVuY3Rpb24oKSB7CiAgeCA8LSAxCiAgeSA8LSAyCiAgYnJvd3NlcigpICAjIEV4ZWN1dGlvbiB3aWxsIHBhdXNlIGhlcmUKICB6IDwtIHggKyB5CiAgcmV0dXJuKHopCn0KaCgpCgojIFVzaW5nIGRlYnVnKCkgYW5kIHVuZGVidWcoKQppIDwtIGZ1bmN0aW9uKGEsIGIpIHsKICByZXN1bHQgPC0gYSArIGIKICByZXR1cm4ocmVzdWx0KQp9CmRlYnVnKGkpCmkoMywgNCkKdW5kZWJ1ZyhpKQoKIyBVc2luZyB0cmFjZSgpIGFuZCB1bnRyYWNlKCkKdHJhY2UoImkiLCBxdW90ZShjYXQoIkFyZ3VtZW50czoiLCBhLCBiLCAiXG4iKSkpCmkoMywgNCkKdW50cmFjZSgiaSIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using print() and cat()
x &lt;- 5
y &lt;- 10
print(paste(&quot;x:&quot;, x, &quot;y:&quot;, y))
cat(&quot;Sum of x and y:&quot;, x + y, &quot;\n&quot;)

# Using traceback()
f &lt;- function() {
  g()
}
g &lt;- function() {
  stop(&quot;An error occurred&quot;)
}
f()
traceback()

# Using browser()
h &lt;- function() {
  x &lt;- 1
  y &lt;- 2
  browser()  # Execution will pause here
  z &lt;- x + y
  return(z)
}
h()

# Using debug() and undebug()
i &lt;- function(a, b) {
  result &lt;- a + b
  return(result)
}
debug(i)
i(3, 4)
undebug(i)

# Using trace() and untrace()
trace(&quot;i&quot;, quote(cat(&quot;Arguments:&quot;, a, b, &quot;\n&quot;)))
i(3, 4)
untrace(&quot;i&quot;)</pre></div><div class='content'></div><h1>3. Error Handling with `tryCatch`</h1>
<div class='content'><p>The <code>tryCatch</code> function allows you to handle errors gracefully and take appropriate actions when an error occurs.</p>
</div><h2>Syntax:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJ5Q2F0Y2goewogICMgQ29kZSB0aGF0IG1heSBwcm9kdWNlIGFuIGVycm9yCn0sIHdhcm5pbmcgPSBmdW5jdGlvbih3KSB7CiAgIyBDb2RlIHRvIGhhbmRsZSB3YXJuaW5ncwp9LCBlcnJvciA9IGZ1bmN0aW9uKGUpIHsKICAjIENvZGUgdG8gaGFuZGxlIGVycm9ycwp9LCBmaW5hbGx5ID0gewogICMgQ29kZSB0byBydW4gcmVnYXJkbGVzcyBvZiBzdWNjZXNzIG9yIGVycm9yCn0p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>tryCatch({
  # Code that may produce an error
}, warning = function(w) {
  # Code to handle warnings
}, error = function(e) {
  # Code to handle errors
}, finally = {
  # Code to run regardless of success or error
})</pre></div><div class='content'></div><h2>Example:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzdWx0IDwtIHRyeUNhdGNoKHsKICB4IDwtIDEKICB5IDwtICJhIgogIHogPC0geCArIHkgICMgVGhpcyB3aWxsIGNhdXNlIGFuIGVycm9yCn0sIHdhcm5pbmcgPSBmdW5jdGlvbih3KSB7CiAgY2F0KCJXYXJuaW5nOiIsIGNvbmRpdGlvbk1lc3NhZ2UodyksICJcbiIpCn0sIGVycm9yID0gZnVuY3Rpb24oZSkgewogIGNhdCgiRXJyb3I6IiwgY29uZGl0aW9uTWVzc2FnZShlKSwgIlxuIikKICBOQSAgIyBSZXR1cm4gTkEgaW4gY2FzZSBvZiBlcnJvcgp9LCBmaW5hbGx5ID0gewogIGNhdCgiRXhlY3V0aW9uIGNvbXBsZXRlZFxuIikKfSkKCnByaW50KHJlc3VsdCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>result &lt;- tryCatch({
  x &lt;- 1
  y &lt;- &quot;a&quot;
  z &lt;- x + y  # This will cause an error
}, warning = function(w) {
  cat(&quot;Warning:&quot;, conditionMessage(w), &quot;\n&quot;)
}, error = function(e) {
  cat(&quot;Error:&quot;, conditionMessage(e), &quot;\n&quot;)
  NA  # Return NA in case of error
}, finally = {
  cat(&quot;Execution completed\n&quot;)
})

print(result)</pre></div><div class='content'></div><h1>4. Practical Examples and Exercises</h1>
<div class='content'></div><h2>Example 1: Debugging a Function</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGdW5jdGlvbiB3aXRoIGEgbG9naWNhbCBlcnJvcgpzdW1fb2Zfc3F1YXJlcyA8LSBmdW5jdGlvbih4LCB5KSB7CiAgcmVzdWx0IDwtIHheMiAtIHleMiAgIyBJbnRlbmRlZCB0byBhZGQgYnV0IHN1YnRyYWN0ZWQgaW5zdGVhZAogIHJldHVybihyZXN1bHQpCn0KCiMgRGVidWdnaW5nIHRoZSBmdW5jdGlvbgpkZWJ1ZyhzdW1fb2Zfc3F1YXJlcykKc3VtX29mX3NxdWFyZXMoMywgNCkKdW5kZWJ1ZyhzdW1fb2Zfc3F1YXJlcyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Function with a logical error
sum_of_squares &lt;- function(x, y) {
  result &lt;- x^2 - y^2  # Intended to add but subtracted instead
  return(result)
}

# Debugging the function
debug(sum_of_squares)
sum_of_squares(3, 4)
undebug(sum_of_squares)</pre></div><div class='content'></div><h2>Exercise 1: Fix the Logical Error</h2>
<div class='content'><p><strong>Task</strong>: Correct the logical error in the <code>sum_of_squares</code> function.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VtX29mX3NxdWFyZXMgPC0gZnVuY3Rpb24oeCwgeSkgewogIHJlc3VsdCA8LSB4XjIgKyB5XjIgICMgQ29ycmVjdGVkIHRvIGFkZAogIHJldHVybihyZXN1bHQpCn0KCiMgVGVzdCB0aGUgY29ycmVjdGVkIGZ1bmN0aW9uCnN1bV9vZl9zcXVhcmVzKDMsIDQpICAjIFNob3VsZCByZXR1cm4gMjU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sum_of_squares &lt;- function(x, y) {
  result &lt;- x^2 + y^2  # Corrected to add
  return(result)
}

# Test the corrected function
sum_of_squares(3, 4)  # Should return 25</pre></div><div class='content'></div><h2>Example 2: Handling Errors with `tryCatch`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGdW5jdGlvbiB0aGF0IG1heSBwcm9kdWNlIGFuIGVycm9yCmRpdmlkZSA8LSBmdW5jdGlvbihhLCBiKSB7CiAgcmVzdWx0IDwtIHRyeUNhdGNoKHsKICAgIGEgLyBiCiAgfSwgZXJyb3IgPSBmdW5jdGlvbihlKSB7CiAgICBjYXQoIkVycm9yOiIsIGNvbmRpdGlvbk1lc3NhZ2UoZSksICJcbiIpCiAgICBOQSAgIyBSZXR1cm4gTkEgaW4gY2FzZSBvZiBlcnJvcgogIH0pCiAgcmV0dXJuKHJlc3VsdCkKfQoKIyBUZXN0IHRoZSBmdW5jdGlvbgpkaXZpZGUoMTAsIDIpICAjIFNob3VsZCByZXR1cm4gNQpkaXZpZGUoMTAsIDApICAjIFNob3VsZCBoYW5kbGUgZGl2aXNpb24gYnkgemVybyBlcnJvcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Function that may produce an error
divide &lt;- function(a, b) {
  result &lt;- tryCatch({
    a / b
  }, error = function(e) {
    cat(&quot;Error:&quot;, conditionMessage(e), &quot;\n&quot;)
    NA  # Return NA in case of error
  })
  return(result)
}

# Test the function
divide(10, 2)  # Should return 5
divide(10, 0)  # Should handle division by zero error</pre></div><div class='content'></div><h2>Exercise 2: Implement Error Handling</h2>
<div class='content'><p><strong>Task</strong>: Write a function <code>safe_log</code> that calculates the logarithm of a number and handles errors if the input is non-positive.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2FmZV9sb2cgPC0gZnVuY3Rpb24oeCkgewogIHJlc3VsdCA8LSB0cnlDYXRjaCh7CiAgICBsb2coeCkKICB9LCBlcnJvciA9IGZ1bmN0aW9uKGUpIHsKICAgIGNhdCgiRXJyb3I6IiwgY29uZGl0aW9uTWVzc2FnZShlKSwgIlxuIikKICAgIE5BICAjIFJldHVybiBOQSBpbiBjYXNlIG9mIGVycm9yCiAgfSkKICByZXR1cm4ocmVzdWx0KQp9CgojIFRlc3QgdGhlIGZ1bmN0aW9uCnNhZmVfbG9nKDEwKSAgIyBTaG91bGQgcmV0dXJuIDIuMzAyNTg1CnNhZmVfbG9nKC0xKSAgIyBTaG91bGQgaGFuZGxlIGxvZyBvZiBhIG5vbi1wb3NpdGl2ZSBudW1iZXIgZXJyb3I="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>safe_log &lt;- function(x) {
  result &lt;- tryCatch({
    log(x)
  }, error = function(e) {
    cat(&quot;Error:&quot;, conditionMessage(e), &quot;\n&quot;)
    NA  # Return NA in case of error
  })
  return(result)
}

# Test the function
safe_log(10)  # Should return 2.302585
safe_log(-1)  # Should handle log of a non-positive number error</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of debugging and error handling in R. We learned about different types of errors, various debugging tools and techniques, and how to handle errors gracefully using <code>tryCatch</code>. By practicing these skills, you can become more efficient in identifying and fixing issues in your R code. In the next section, we will delve into object-oriented programming in R.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-writing-functions' title="Writing Functions">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-object-oriented-programming' title="Object-Oriented Programming in R">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
