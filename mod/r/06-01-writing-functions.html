<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing Functions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/r/06-01-writing-functions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/r/06-01-writing-functions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/r/06-01-writing-functions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/r/06-01-writing-functions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/r/06-01-writing-functions" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-05-apis-json' title="APIs and JSON">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Writing Functions</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-debugging-error-handling' title="Debugging and Error Handling">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into writing functions in R. Functions are essential for creating reusable code, improving readability, and managing complex tasks. By the end of this module, you will be able to write your own functions, understand their components, and apply them effectively in your R programming projects.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Function Definition</strong></li>
<li><strong>Function Arguments</strong></li>
<li><strong>Return Values</strong></li>
<li><strong>Default Arguments</strong></li>
<li><strong>Variable Scope</strong></li>
<li><strong>Anonymous Functions</strong></li>
</ol>
</div><h1><ol>
<li>Function Definition</li>
</ol>
</h1>
<div class='content'><p>A function in R is defined using the <code>function</code> keyword. The basic syntax is as follows:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb25fbmFtZSA8LSBmdW5jdGlvbihhcmcxLCBhcmcyLCAuLi4pIHsKICAjIEZ1bmN0aW9uIGJvZHkKICAjIENvZGUgdG8gYmUgZXhlY3V0ZWQKICByZXR1cm4odmFsdWUpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function_name &lt;- function(arg1, arg2, ...) {
  # Function body
  # Code to be executed
  return(value)
}</pre></div><div class='content'></div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmUgYSBzaW1wbGUgZnVuY3Rpb24gdG8gYWRkIHR3byBudW1iZXJzCmFkZF9udW1iZXJzIDwtIGZ1bmN0aW9uKGEsIGIpIHsKICBzdW0gPC0gYSArIGIKICByZXR1cm4oc3VtKQp9CgojIENhbGwgdGhlIGZ1bmN0aW9uCnJlc3VsdCA8LSBhZGRfbnVtYmVycyg1LCAzKQpwcmludChyZXN1bHQpICAjIE91dHB1dDogOA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Define a simple function to add two numbers
add_numbers &lt;- function(a, b) {
  sum &lt;- a + b
  return(sum)
}

# Call the function
result &lt;- add_numbers(5, 3)
print(result)  # Output: 8</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>add_numbers</code> is the name of the function.</li>
<li><code>a</code> and <code>b</code> are the arguments.</li>
<li>The function body contains the code to add the two numbers.</li>
<li>The <code>return</code> statement specifies the value to be returned by the function.</li>
</ul>
</div><h1><ol start="2">
<li>Function Arguments</li>
</ol>
</h1>
<div class='content'><p>Functions can take multiple arguments. These arguments can be mandatory or optional (with default values).</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGdW5jdGlvbiB3aXRoIG11bHRpcGxlIGFyZ3VtZW50cwptdWx0aXBseV9udW1iZXJzIDwtIGZ1bmN0aW9uKGEsIGIsIGMgPSAxKSB7CiAgcHJvZHVjdCA8LSBhICogYiAqIGMKICByZXR1cm4ocHJvZHVjdCkKfQoKIyBDYWxsIHRoZSBmdW5jdGlvbiB3aXRoIGFuZCB3aXRob3V0IHRoZSBvcHRpb25hbCBhcmd1bWVudApyZXN1bHQxIDwtIG11bHRpcGx5X251bWJlcnMoMiwgMykKcmVzdWx0MiA8LSBtdWx0aXBseV9udW1iZXJzKDIsIDMsIDQpCgpwcmludChyZXN1bHQxKSAgIyBPdXRwdXQ6IDYKcHJpbnQocmVzdWx0MikgICMgT3V0cHV0OiAyNA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Function with multiple arguments
multiply_numbers &lt;- function(a, b, c = 1) {
  product &lt;- a * b * c
  return(product)
}

# Call the function with and without the optional argument
result1 &lt;- multiply_numbers(2, 3)
result2 &lt;- multiply_numbers(2, 3, 4)

print(result1)  # Output: 6
print(result2)  # Output: 24</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>c</code> is an optional argument with a default value of 1.</li>
<li>If <code>c</code> is not provided, the function uses the default value.</li>
</ul>
</div><h1><ol start="3">
<li>Return Values</li>
</ol>
</h1>
<div class='content'><p>A function can return a single value or multiple values using a list.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGdW5jdGlvbiB0byByZXR1cm4gbXVsdGlwbGUgdmFsdWVzCmNhbGN1bGF0ZV9zdGF0cyA8LSBmdW5jdGlvbih4KSB7CiAgbWVhbl92YWwgPC0gbWVhbih4KQogIHNkX3ZhbCA8LSBzZCh4KQogIHJldHVybihsaXN0KG1lYW4gPSBtZWFuX3ZhbCwgc2QgPSBzZF92YWwpKQp9CgojIENhbGwgdGhlIGZ1bmN0aW9uCnN0YXRzIDwtIGNhbGN1bGF0ZV9zdGF0cyhjKDEsIDIsIDMsIDQsIDUpKQpwcmludChzdGF0cyRtZWFuKSAgIyBPdXRwdXQ6IDMKcHJpbnQoc3RhdHMkc2QpICAgICMgT3V0cHV0OiAxLjU4MTEzOQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Function to return multiple values
calculate_stats &lt;- function(x) {
  mean_val &lt;- mean(x)
  sd_val &lt;- sd(x)
  return(list(mean = mean_val, sd = sd_val))
}

# Call the function
stats &lt;- calculate_stats(c(1, 2, 3, 4, 5))
print(stats$mean)  # Output: 3
print(stats$sd)    # Output: 1.581139</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The function <code>calculate_stats</code> returns a list containing the mean and standard deviation of the input vector <code>x</code>.</li>
</ul>
</div><h1><ol start="4">
<li>Default Arguments</li>
</ol>
</h1>
<div class='content'><p>Default arguments allow you to call a function without specifying all arguments.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGdW5jdGlvbiB3aXRoIGRlZmF1bHQgYXJndW1lbnRzCmdyZWV0IDwtIGZ1bmN0aW9uKG5hbWUsIGdyZWV0aW5nID0gIkhlbGxvIikgewogIG1lc3NhZ2UgPC0gcGFzdGUoZ3JlZXRpbmcsIG5hbWUpCiAgcmV0dXJuKG1lc3NhZ2UpCn0KCiMgQ2FsbCB0aGUgZnVuY3Rpb24gd2l0aCBhbmQgd2l0aG91dCB0aGUgZGVmYXVsdCBhcmd1bWVudAptZXNzYWdlMSA8LSBncmVldCgiQWxpY2UiKQptZXNzYWdlMiA8LSBncmVldCgiQm9iIiwgIkhpIikKCnByaW50KG1lc3NhZ2UxKSAgIyBPdXRwdXQ6ICJIZWxsbyBBbGljZSIKcHJpbnQobWVzc2FnZTIpICAjIE91dHB1dDogIkhpIEJvYiI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Function with default arguments
greet &lt;- function(name, greeting = &quot;Hello&quot;) {
  message &lt;- paste(greeting, name)
  return(message)
}

# Call the function with and without the default argument
message1 &lt;- greet(&quot;Alice&quot;)
message2 &lt;- greet(&quot;Bob&quot;, &quot;Hi&quot;)

print(message1)  # Output: &quot;Hello Alice&quot;
print(message2)  # Output: &quot;Hi Bob&quot;</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>greeting</code> is a default argument with a value of &quot;Hello&quot;.</li>
<li>If <code>greeting</code> is not provided, the function uses the default value.</li>
</ul>
</div><h1><ol start="5">
<li>Variable Scope</li>
</ol>
</h1>
<div class='content'><p>Variables defined inside a function are local to that function and cannot be accessed outside.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBGdW5jdGlvbiBkZW1vbnN0cmF0aW5nIHZhcmlhYmxlIHNjb3BlCnNjb3BlX2V4YW1wbGUgPC0gZnVuY3Rpb24oKSB7CiAgbG9jYWxfdmFyIDwtICJJIGFtIGxvY2FsIgogIHJldHVybihsb2NhbF92YXIpCn0KCiMgQ2FsbCB0aGUgZnVuY3Rpb24KcmVzdWx0IDwtIHNjb3BlX2V4YW1wbGUoKQpwcmludChyZXN1bHQpICAjIE91dHB1dDogIkkgYW0gbG9jYWwiCgojIFRyeWluZyB0byBhY2Nlc3MgbG9jYWxfdmFyIG91dHNpZGUgdGhlIGZ1bmN0aW9uIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yCiMgcHJpbnQobG9jYWxfdmFyKSAgIyBFcnJvcjogb2JqZWN0ICdsb2NhbF92YXInIG5vdCBmb3VuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Function demonstrating variable scope
scope_example &lt;- function() {
  local_var &lt;- &quot;I am local&quot;
  return(local_var)
}

# Call the function
result &lt;- scope_example()
print(result)  # Output: &quot;I am local&quot;

# Trying to access local_var outside the function will result in an error
# print(local_var)  # Error: object 'local_var' not found</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>local_var</code> is a local variable and is only accessible within the <code>scope_example</code> function.</li>
</ul>
</div><h1><ol start="6">
<li>Anonymous Functions</li>
</ol>
</h1>
<div class='content'><p>Anonymous functions are functions without a name, often used for short, throwaway tasks.</p>
</div><h2><p>Example</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2luZyBhbiBhbm9ueW1vdXMgZnVuY3Rpb24gd2l0aCBsYXBwbHkKbnVtYmVycyA8LSBsaXN0KDEsIDIsIDMsIDQsIDUpCnNxdWFyZWRfbnVtYmVycyA8LSBsYXBwbHkobnVtYmVycywgZnVuY3Rpb24oeCkgeF4yKQoKcHJpbnQoc3F1YXJlZF9udW1iZXJzKSAgIyBPdXRwdXQ6IGxpc3QoMSwgNCwgOSwgMTYsIDI1KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Using an anonymous function with lapply
numbers &lt;- list(1, 2, 3, 4, 5)
squared_numbers &lt;- lapply(numbers, function(x) x^2)

print(squared_numbers)  # Output: list(1, 4, 9, 16, 25)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li>The anonymous function <code>function(x) x^2</code> is used to square each element in the list <code>numbers</code>.</li>
</ul>
</div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a Function to Calculate the Area of a Circle</p>
</h2>
<div class='content'><p>Write a function <code>circle_area</code> that takes the radius of a circle as an argument and returns the area. Use the formula: area = Ï€ * radius^2.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2lyY2xlX2FyZWEgPC0gZnVuY3Rpb24ocmFkaXVzKSB7CiAgYXJlYSA8LSBwaSAqIHJhZGl1c14yCiAgcmV0dXJuKGFyZWEpCn0KCiMgVGVzdCB0aGUgZnVuY3Rpb24KcHJpbnQoY2lyY2xlX2FyZWEoMykpICAjIEV4cGVjdGVkIG91dHB1dDogMjguMjc0MzMzODgyMzA4MQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>circle_area &lt;- function(radius) {
  area &lt;- pi * radius^2
  return(area)
}

# Test the function
print(circle_area(3))  # Expected output: 28.2743338823081</pre></div><div class='content'></div><h2><p>Exercise 2: Create a Function to Convert Fahrenheit to Celsius</p>
</h2>
<div class='content'><p>Write a function <code>fahrenheit_to_celsius</code> that takes a temperature in Fahrenheit and returns the temperature in Celsius. Use the formula: celsius = (fahrenheit - 32) * 5/9.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmFocmVuaGVpdF90b19jZWxzaXVzIDwtIGZ1bmN0aW9uKGZhaHJlbmhlaXQpIHsKICBjZWxzaXVzIDwtIChmYWhyZW5oZWl0IC0gMzIpICogNS85CiAgcmV0dXJuKGNlbHNpdXMpCn0KCiMgVGVzdCB0aGUgZnVuY3Rpb24KcHJpbnQoZmFocmVuaGVpdF90b19jZWxzaXVzKDk4LjYpKSAgIyBFeHBlY3RlZCBvdXRwdXQ6IDM3"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fahrenheit_to_celsius &lt;- function(fahrenheit) {
  celsius &lt;- (fahrenheit - 32) * 5/9
  return(celsius)
}

# Test the function
print(fahrenheit_to_celsius(98.6))  # Expected output: 37</pre></div><div class='content'></div><h2><p>Exercise 3: Create a Function to Calculate the Sum of a Vector</p>
</h2>
<div class='content'><p>Write a function <code>sum_vector</code> that takes a numeric vector and returns the sum of its elements.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VtX3ZlY3RvciA8LSBmdW5jdGlvbih2ZWMpIHsKICB0b3RhbCA8LSBzdW0odmVjKQogIHJldHVybih0b3RhbCkKfQoKIyBUZXN0IHRoZSBmdW5jdGlvbgpwcmludChzdW1fdmVjdG9yKGMoMSwgMiwgMywgNCwgNSkpKSAgIyBFeHBlY3RlZCBvdXRwdXQ6IDE1"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sum_vector &lt;- function(vec) {
  total &lt;- sum(vec)
  return(total)
}

# Test the function
print(sum_vector(c(1, 2, 3, 4, 5)))  # Expected output: 15</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Forgetting to return a value:</strong> Ensure your function has a <code>return</code> statement if you need to return a value.</li>
<li><strong>Incorrect argument names:</strong> Make sure the argument names in the function call match those in the function definition.</li>
<li><strong>Variable scope issues:</strong> Remember that variables defined inside a function are not accessible outside.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of writing functions in R, including defining functions, using arguments, returning values, and understanding variable scope. Functions are a powerful tool for creating reusable and modular code. Practice writing your own functions to become proficient in this essential aspect of R programming.</p>
<p>Next, we will explore debugging and error handling to help you write more robust and error-free code.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-05-apis-json' title="APIs and JSON">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-debugging-error-handling' title="Debugging and Error Handling">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
