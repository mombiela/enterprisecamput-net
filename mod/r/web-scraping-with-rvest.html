<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Scraping with rvest</title>

    <link rel="alternate" href="https://campusempresa.com/mod/r/web-scraping-with-rvest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/r/web-scraping-with-rvest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/r/web-scraping-with-rvest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/r/web-scraping-with-rvest" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/r/web-scraping-with-rvest" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='data-import-and-export'>&#x25C4;Data Import and Export</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Web Scraping with rvest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='apis-and-json-data'>APIs and JSON Data &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Web Scraping</h1>
<div class='content'><p>Web scraping is the process of extracting data from websites. It can be useful for collecting data for analysis, research, or building datasets for machine learning.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>HTML</strong>: The standard markup language for creating web pages.</li>
<li><strong>CSS Selectors</strong>: Patterns used to select elements within an HTML document.</li>
<li><strong>XPath</strong>: A language for navigating through elements and attributes in an XML document.</li>
</ul>
</div><h1>Getting Started with rvest</h1>
<div class='content'><p><code>rvest</code> is an R package designed to make it easy to scrape information from web pages.</p>
</div><h2>Installing rvest</h2>
<div class='content'><p>To get started, you need to install the <code>rvest</code> package. You can do this using the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5zdGFsbC5wYWNrYWdlcygicnZlc3QiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>install.packages(&quot;rvest&quot;)</pre></div><div class='content'></div><h2>Loading the Package</h2>
<div class='content'><p>After installation, load the package into your R session:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGlicmFyeShydmVzdCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>library(rvest)</pre></div><div class='content'></div><h1>Basic Web Scraping Workflow</h1>
<div class='content'><ol>
<li><strong>Read the HTML content</strong>: Use <code>read_html()</code> to read the HTML content of a webpage.</li>
<li><strong>Select the nodes</strong>: Use CSS selectors or XPath to select the nodes you are interested in.</li>
<li><strong>Extract the data</strong>: Use functions like <code>html_text()</code>, <code>html_attr()</code>, or <code>html_table()</code> to extract the data.</li>
</ol>
</div><h2>Example: Scraping Titles from a News Website</h2>
<div class='content'><p>Let's scrape the titles of articles from a news website.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBMb2FkIHRoZSBydmVzdCBwYWNrYWdlCmxpYnJhcnkocnZlc3QpCgojIFJlYWQgdGhlIEhUTUwgY29udGVudCBvZiB0aGUgd2VicGFnZQp1cmwgPC0gImh0dHBzOi8vZXhhbXBsZS1uZXdzLXdlYnNpdGUuY29tIgp3ZWJwYWdlIDwtIHJlYWRfaHRtbCh1cmwpCgojIFNlbGVjdCB0aGUgbm9kZXMgY29udGFpbmluZyB0aGUgYXJ0aWNsZSB0aXRsZXMKdGl0bGVzIDwtIHdlYnBhZ2UgJT4lIGh0bWxfbm9kZXMoIi5hcnRpY2xlLXRpdGxlIikgJT4lIGh0bWxfdGV4dCgpCgojIFByaW50IHRoZSB0aXRsZXMKcHJpbnQodGl0bGVzKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Load the rvest package
library(rvest)

# Read the HTML content of the webpage
url &lt;- &quot;https://example-news-website.com&quot;
webpage &lt;- read_html(url)

# Select the nodes containing the article titles
titles &lt;- webpage %&gt;% html_nodes(&quot;.article-title&quot;) %&gt;% html_text()

# Print the titles
print(titles)</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>read_html(url)</code>: Reads the HTML content from the specified URL.</li>
<li><code>html_nodes(&quot;.article-title&quot;)</code>: Selects all nodes with the class <code>article-title</code>.</li>
<li><code>html_text()</code>: Extracts the text content from the selected nodes.</li>
</ul>
</div><h1>Advanced Techniques</h1>
<h2>Handling Pagination</h2>
<div class='content'><p>Many websites display data across multiple pages. You can handle pagination by iterating through the pages and scraping data from each one.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWxsX3RpdGxlcyA8LSBjKCkKCmZvciAoaSBpbiAxOjUpIHsKICB1cmwgPC0gcGFzdGUwKCJodHRwczovL2V4YW1wbGUtbmV3cy13ZWJzaXRlLmNvbS9wYWdlLyIsIGkpCiAgd2VicGFnZSA8LSByZWFkX2h0bWwodXJsKQogIHRpdGxlcyA8LSB3ZWJwYWdlICU+JSBodG1sX25vZGVzKCIuYXJ0aWNsZS10aXRsZSIpICU+JSBodG1sX3RleHQoKQogIGFsbF90aXRsZXMgPC0gYyhhbGxfdGl0bGVzLCB0aXRsZXMpCn0KCnByaW50KGFsbF90aXRsZXMp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>all_titles &lt;- c()

for (i in 1:5) {
  url &lt;- paste0(&quot;https://example-news-website.com/page/&quot;, i)
  webpage &lt;- read_html(url)
  titles &lt;- webpage %&gt;% html_nodes(&quot;.article-title&quot;) %&gt;% html_text()
  all_titles &lt;- c(all_titles, titles)
}

print(all_titles)</pre></div><div class='content'></div><h2>Dealing with Dynamic Content</h2>
<div class='content'><p>Some websites load content dynamically using JavaScript. In such cases, you might need to use additional tools like <code>RSelenium</code> or <code>httr</code> to handle the dynamic content.</p>
</div><h2>Example: Using RSelenium</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBMb2FkIG5lY2Vzc2FyeSBsaWJyYXJpZXMKbGlicmFyeShSU2VsZW5pdW0pCmxpYnJhcnkocnZlc3QpCgojIFN0YXJ0IFJTZWxlbml1bQpyRCA8LSByc0RyaXZlcihicm93c2VyID0gImZpcmVmb3giLCBwb3J0ID0gNDU0NUwpCnJlbURyIDwtIHJEJGNsaWVudAoKIyBOYXZpZ2F0ZSB0byB0aGUgd2VicGFnZQpyZW1EciRuYXZpZ2F0ZSgiaHR0cHM6Ly9leGFtcGxlLWR5bmFtaWMtd2Vic2l0ZS5jb20iKQoKIyBFeHRyYWN0IHRoZSBwYWdlIHNvdXJjZQpwYWdlX3NvdXJjZSA8LSByZW1EciRnZXRQYWdlU291cmNlKClbWzFdXQoKIyBQYXJzZSB0aGUgSFRNTCBjb250ZW50CndlYnBhZ2UgPC0gcmVhZF9odG1sKHBhZ2Vfc291cmNlKQoKIyBTZWxlY3QgYW5kIGV4dHJhY3QgZGF0YQp0aXRsZXMgPC0gd2VicGFnZSAlPiUgaHRtbF9ub2RlcygiLmR5bmFtaWMtdGl0bGUiKSAlPiUgaHRtbF90ZXh0KCkKCnByaW50KHRpdGxlcykKCiMgQ2xvc2UgUlNlbGVuaXVtCnJlbURyJGNsb3NlKCkKckQkc2VydmVyJHN0b3AoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Load necessary libraries
library(RSelenium)
library(rvest)

# Start RSelenium
rD &lt;- rsDriver(browser = &quot;firefox&quot;, port = 4545L)
remDr &lt;- rD$client

# Navigate to the webpage
remDr$navigate(&quot;https://example-dynamic-website.com&quot;)

# Extract the page source
page_source &lt;- remDr$getPageSource()[[1]]

# Parse the HTML content
webpage &lt;- read_html(page_source)

# Select and extract data
titles &lt;- webpage %&gt;% html_nodes(&quot;.dynamic-title&quot;) %&gt;% html_text()

print(titles)

# Close RSelenium
remDr$close()
rD$server$stop()</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Web scraping with <code>rvest</code> in R allows you to extract data from websites efficiently. By understanding the basics of HTML, CSS selectors, and XPath, you can navigate and extract the data you need. For more complex scenarios, such as handling pagination or dynamic content, additional tools and techniques may be required.</p>
</div><h2>Key Takeaways</h2>
<div class='content'><ul>
<li><code>rvest</code> simplifies the process of web scraping in R.</li>
<li>Basic workflow involves reading HTML, selecting nodes, and extracting data.</li>
<li>Advanced techniques include handling pagination and dynamic content.</li>
</ul>
<p>By mastering these techniques, you can automate the process of data collection from the web, making your data analysis tasks more efficient and comprehensive.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='data-import-and-export'>&#x25C4;Data Import and Export</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Web Scraping with rvest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='apis-and-json-data'>APIs and JSON Data &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
