<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallel Computing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/r/06-05-parallel-computing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/r/06-05-parallel-computing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/r/06-05-parallel-computing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/r/06-05-parallel-computing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/r/06-05-parallel-computing" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-functional-programming' title="Functional Programming">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Parallel Computing</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-01-introduction-machine-learning' title="Introduction to Machine Learning">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Parallel computing in R allows you to perform multiple computations simultaneously, significantly speeding up data processing tasks. This is particularly useful for large datasets or computationally intensive operations. In this section, we will cover the basics of parallel computing in R, including key concepts, practical examples, and exercises to help you get started.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Parallel vs. Sequential Computing</strong>:</p>
<ul>
<li><strong>Sequential Computing</strong>: Tasks are executed one after another.</li>
<li><strong>Parallel Computing</strong>: Tasks are divided into smaller sub-tasks that are executed simultaneously on multiple processors.</li>
</ul>
</li>
<li>
<p><strong>Types of Parallelism</strong>:</p>
<ul>
<li><strong>Data Parallelism</strong>: Distributes data across multiple processors.</li>
<li><strong>Task Parallelism</strong>: Distributes tasks across multiple processors.</li>
</ul>
</li>
<li>
<p><strong>Parallel Computing Packages in R</strong>:</p>
<ul>
<li><code>parallel</code>: Base R package for parallel computing.</li>
<li><code>foreach</code>: Provides a looping construct for parallel execution.</li>
<li><code>doParallel</code>: Backend for <code>foreach</code> to execute loops in parallel.</li>
</ul>
</li>
</ol>
</div><h1><p>Setting Up Parallel Computing</p>
</h1>
<div class='content'></div><h2><p>Installing Required Packages</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5zdGFsbC5wYWNrYWdlcygicGFyYWxsZWwiKQppbnN0YWxsLnBhY2thZ2VzKCJmb3JlYWNoIikKaW5zdGFsbC5wYWNrYWdlcygiZG9QYXJhbGxlbCIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>install.packages(&quot;parallel&quot;)
install.packages(&quot;foreach&quot;)
install.packages(&quot;doParallel&quot;)</pre></div><div class='content'></div><h2><p>Loading the Packages</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGlicmFyeShwYXJhbGxlbCkKbGlicmFyeShmb3JlYWNoKQpsaWJyYXJ5KGRvUGFyYWxsZWwp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>library(parallel)
library(foreach)
library(doParallel)</pre></div><div class='content'></div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Example 1: Using the <code>parallel</code> Package</p>
</h2>
<div class='content'><p>The <code>parallel</code> package provides functions to create and manage clusters of R processes.</p>
<h4>Creating a Cluster</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZXRlY3QgdGhlIG51bWJlciBvZiBhdmFpbGFibGUgY29yZXMKbnVtQ29yZXMgPC0gZGV0ZWN0Q29yZXMoKQoKIyBDcmVhdGUgYSBjbHVzdGVyIHdpdGggdGhlIGRldGVjdGVkIG51bWJlciBvZiBjb3JlcwpjbCA8LSBtYWtlQ2x1c3RlcihudW1Db3Jlcyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Detect the number of available cores
numCores &lt;- detectCores()

# Create a cluster with the detected number of cores
cl &lt;- makeCluster(numCores)</pre></div><div class='content'><h4>Parallel Execution with <code>parLapply</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmUgYSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBpbiBwYXJhbGxlbApzcXVhcmUgPC0gZnVuY3Rpb24oeCkgewogIHJldHVybih4XjIpCn0KCiMgQ3JlYXRlIGEgbGlzdCBvZiBudW1iZXJzCm51bWJlcnMgPC0gbGlzdCgxLCAyLCAzLCA0LCA1KQoKIyBVc2UgcGFyTGFwcGx5IHRvIGFwcGx5IHRoZSBmdW5jdGlvbiBpbiBwYXJhbGxlbApyZXN1bHQgPC0gcGFyTGFwcGx5KGNsLCBudW1iZXJzLCBzcXVhcmUpCgojIFByaW50IHRoZSByZXN1bHQKcHJpbnQocmVzdWx0KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Define a function to be executed in parallel
square &lt;- function(x) {
  return(x^2)
}

# Create a list of numbers
numbers &lt;- list(1, 2, 3, 4, 5)

# Use parLapply to apply the function in parallel
result &lt;- parLapply(cl, numbers, square)

# Print the result
print(result)</pre></div><div class='content'><h4>Stopping the Cluster</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdG9wIHRoZSBjbHVzdGVyCnN0b3BDbHVzdGVyKGNsKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Stop the cluster
stopCluster(cl)</pre></div><div class='content'></div><h2><p>Example 2: Using the <code>foreach</code> and <code>doParallel</code> Packages</p>
</h2>
<div class='content'><p>The <code>foreach</code> package provides a simple way to execute loops in parallel, and <code>doParallel</code> acts as a backend for <code>foreach</code>.</p>
<h4>Registering the Parallel Backend</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBSZWdpc3RlciB0aGUgcGFyYWxsZWwgYmFja2VuZApyZWdpc3RlckRvUGFyYWxsZWwoY29yZXMgPSBudW1Db3Jlcyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Register the parallel backend
registerDoParallel(cores = numCores)</pre></div><div class='content'><h4>Parallel Execution with <code>foreach</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2UgZm9yZWFjaCB0byBleGVjdXRlIGEgbG9vcCBpbiBwYXJhbGxlbApyZXN1bHQgPC0gZm9yZWFjaChpID0gMTo1LCAuY29tYmluZSA9IGMpICVkb3BhciUgewogIGleMgp9CgojIFByaW50IHRoZSByZXN1bHQKcHJpbnQocmVzdWx0KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Use foreach to execute a loop in parallel
result &lt;- foreach(i = 1:5, .combine = c) %dopar% {
  i^2
}

# Print the result
print(result)</pre></div><div class='content'></div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Parallel Sum of Squares</p>
</h2>
<div class='content'><p>Write a function that calculates the sum of squares of a given numeric vector in parallel.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmUgdGhlIGZ1bmN0aW9uCnBhcmFsbGVsU3VtT2ZTcXVhcmVzIDwtIGZ1bmN0aW9uKHZlYykgewogICMgQ3JlYXRlIGEgY2x1c3RlcgogIGNsIDwtIG1ha2VDbHVzdGVyKGRldGVjdENvcmVzKCkpCiAgcmVnaXN0ZXJEb1BhcmFsbGVsKGNsKQogIAogICMgQ2FsY3VsYXRlIHRoZSBzdW0gb2Ygc3F1YXJlcyBpbiBwYXJhbGxlbAogIHJlc3VsdCA8LSBmb3JlYWNoKGkgPSB2ZWMsIC5jb21iaW5lID0gJysnKSAlZG9wYXIlIHsKICAgIGleMgogIH0KICAKICAjIFN0b3AgdGhlIGNsdXN0ZXIKICBzdG9wQ2x1c3RlcihjbCkKICAKICByZXR1cm4ocmVzdWx0KQp9CgojIFRlc3QgdGhlIGZ1bmN0aW9uCnZlYyA8LSAxOjEwCnN1bU9mU3F1YXJlcyA8LSBwYXJhbGxlbFN1bU9mU3F1YXJlcyh2ZWMpCnByaW50KHN1bU9mU3F1YXJlcyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Define the function
parallelSumOfSquares &lt;- function(vec) {
  # Create a cluster
  cl &lt;- makeCluster(detectCores())
  registerDoParallel(cl)
  
  # Calculate the sum of squares in parallel
  result &lt;- foreach(i = vec, .combine = '+') %dopar% {
    i^2
  }
  
  # Stop the cluster
  stopCluster(cl)
  
  return(result)
}

# Test the function
vec &lt;- 1:10
sumOfSquares &lt;- parallelSumOfSquares(vec)
print(sumOfSquares)</pre></div><div class='content'></div><h2><p>Exercise 2: Parallel Matrix Multiplication</p>
</h2>
<div class='content'><p>Write a function that performs matrix multiplication in parallel.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZWZpbmUgdGhlIGZ1bmN0aW9uCnBhcmFsbGVsTWF0cml4TXVsdGlwbGljYXRpb24gPC0gZnVuY3Rpb24oQSwgQikgewogICMgQ2hlY2sgaWYgbWF0cmljZXMgY2FuIGJlIG11bHRpcGxpZWQKICBpZiAobmNvbChBKSAhPSBucm93KEIpKSB7CiAgICBzdG9wKCJOdW1iZXIgb2YgY29sdW1ucyBpbiBBIG11c3QgYmUgZXF1YWwgdG8gbnVtYmVyIG9mIHJvd3MgaW4gQiIpCiAgfQogIAogICMgQ3JlYXRlIGEgY2x1c3RlcgogIGNsIDwtIG1ha2VDbHVzdGVyKGRldGVjdENvcmVzKCkpCiAgcmVnaXN0ZXJEb1BhcmFsbGVsKGNsKQogIAogICMgUGVyZm9ybSBtYXRyaXggbXVsdGlwbGljYXRpb24gaW4gcGFyYWxsZWwKICByZXN1bHQgPC0gZm9yZWFjaChpID0gMTpucm93KEEpLCAuY29tYmluZSA9IHJiaW5kKSAlZG9wYXIlIHsKICAgIHJvd1Jlc3VsdCA8LSBudW1lcmljKG5jb2woQikpCiAgICBmb3IgKGogaW4gMTpuY29sKEIpKSB7CiAgICAgIHJvd1Jlc3VsdFtqXSA8LSBzdW0oQVtpLCBdICogQlssIGpdKQogICAgfQogICAgcm93UmVzdWx0CiAgfQogIAogICMgU3RvcCB0aGUgY2x1c3RlcgogIHN0b3BDbHVzdGVyKGNsKQogIAogIHJldHVybihyZXN1bHQpCn0KCiMgVGVzdCB0aGUgZnVuY3Rpb24KQSA8LSBtYXRyaXgoMTo0LCBucm93ID0gMikKQiA8LSBtYXRyaXgoNTo4LCBucm93ID0gMikKcHJvZHVjdCA8LSBwYXJhbGxlbE1hdHJpeE11bHRpcGxpY2F0aW9uKEEsIEIpCnByaW50KHByb2R1Y3Qp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Define the function
parallelMatrixMultiplication &lt;- function(A, B) {
  # Check if matrices can be multiplied
  if (ncol(A) != nrow(B)) {
    stop(&quot;Number of columns in A must be equal to number of rows in B&quot;)
  }
  
  # Create a cluster
  cl &lt;- makeCluster(detectCores())
  registerDoParallel(cl)
  
  # Perform matrix multiplication in parallel
  result &lt;- foreach(i = 1:nrow(A), .combine = rbind) %dopar% {
    rowResult &lt;- numeric(ncol(B))
    for (j in 1:ncol(B)) {
      rowResult[j] &lt;- sum(A[i, ] * B[, j])
    }
    rowResult
  }
  
  # Stop the cluster
  stopCluster(cl)
  
  return(result)
}

# Test the function
A &lt;- matrix(1:4, nrow = 2)
B &lt;- matrix(5:8, nrow = 2)
product &lt;- parallelMatrixMultiplication(A, B)
print(product)</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Cluster Management</strong>: Always ensure that clusters are properly stopped after use to free up system resources.</li>
<li><strong>Data Transfer Overhead</strong>: Be mindful of the overhead associated with transferring data between processes. For small tasks, the overhead might outweigh the benefits of parallelism.</li>
<li><strong>Error Handling</strong>: Use proper error handling within parallel tasks to avoid silent failures.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of parallel computing in R, including key concepts, practical examples, and exercises. Parallel computing can significantly speed up data processing tasks, making it a valuable skill for handling large datasets and computationally intensive operations. In the next module, we will delve into machine learning with R, where parallel computing can also play a crucial role in model training and evaluation.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-functional-programming' title="Functional Programming">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-01-introduction-machine-learning' title="Introduction to Machine Learning">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
