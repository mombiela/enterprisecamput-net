<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>useEffect Hook</title>

    <link rel="alternate" href="https://campusempresa.com/mod/react/useEffect-hook" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/react/useEffect-hook" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/react/useEffect-hook" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/react/useEffect-hook" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/react/useEffect-hook" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='useState-hook'>&#x25C4;useState Hook</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">useEffect Hook</a>
	</div>
	<div class='col-4 text-end'>
					<a href='useContext-hook'>useContext Hook &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to useEffect</h1>
<div class='content'><p>The <code>useEffect</code> hook is a fundamental part of React's functional components. It allows you to perform side effects in your components, such as fetching data, directly interacting with the DOM, and setting up subscriptions.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Side Effects</strong>: Operations that affect something outside the scope of the function being executed.</li>
<li><strong>Dependencies</strong>: Variables or props that the effect depends on. When these change, the effect is re-run.</li>
<li><strong>Cleanup</strong>: A function that can be returned from the effect to clean up resources when the component unmounts or before the effect runs again.</li>
</ul>
</div><h1>Basic Usage of useEffect</h1>
<div class='content'><p>The <code>useEffect</code> hook takes two arguments: a function containing the side effect and an optional array of dependencies.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CgpmdW5jdGlvbiBFeGFtcGxlQ29tcG9uZW50KCkgewogIGNvbnN0IFtjb3VudCwgc2V0Q291bnRdID0gdXNlU3RhdGUoMCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBkb2N1bWVudC50aXRsZSA9IGBZb3UgY2xpY2tlZCAke2NvdW50fSB0aW1lc2A7CiAgfSwgW2NvdW50XSk7IC8vIE9ubHkgcmUtcnVuIHRoZSBlZmZlY3QgaWYgY291bnQgY2hhbmdlcwoKICByZXR1cm4gKAogICAgPGRpdj4KICAgICAgPHA+WW91IGNsaWNrZWQge2NvdW50fSB0aW1lczwvcD4KICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDb3VudChjb3VudCArIDEpfT4KICAgICAgICBDbGljayBtZQogICAgICA8L2J1dHRvbj4KICAgIDwvZGl2PgogICk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useEffect, useState } from 'react';

function ExampleComponent() {
  const [count, setCount] = useState(0);

  useEffect(() =&gt; {
    document.title = `You clicked ${count} times`;
  }, [count]); // Only re-run the effect if count changes

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Effect Function</strong>: The function passed to <code>useEffect</code> runs after the render is committed to the screen.</li>
<li><strong>Dependencies Array</strong>: <code>[count]</code> ensures the effect runs only when <code>count</code> changes.</li>
</ul>
</div><h1>useEffect with No Dependencies</h1>
<div class='content'><p>If you pass an empty array <code>[]</code> as the second argument, the effect will only run once, similar to <code>componentDidMount</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zb2xlLmxvZygnQ29tcG9uZW50IG1vdW50ZWQnKTsKfSwgW10pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  console.log('Component mounted');
}, []);</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Empty Array</strong>: The effect runs only once after the initial render.</li>
</ul>
</div><h1>useEffect with Cleanup</h1>
<div class='content'><p>To clean up resources, return a function from the effect. This is useful for subscriptions or timers.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgIGNvbnNvbGUubG9nKCdUaWNrJyk7CiAgfSwgMTAwMCk7CgogIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKHRpbWVyKTsgLy8gQ2xlYW51cCB0aGUgdGltZXIKfSwgW10pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  const timer = setInterval(() =&gt; {
    console.log('Tick');
  }, 1000);

  return () =&gt; clearInterval(timer); // Cleanup the timer
}, []);</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Cleanup Function</strong>: The returned function runs when the component unmounts or before the effect runs again.</li>
</ul>
</div><h1>Advanced useEffect Patterns</h1>
<h2>Multiple useEffect Hooks</h2>
<div class='content'><p>You can use multiple <code>useEffect</code> hooks to separate concerns within a component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zb2xlLmxvZygnRWZmZWN0IDEnKTsKfSwgW2RlcGVuZGVuY3kxXSk7Cgp1c2VFZmZlY3QoKCkgPT4gewogIGNvbnNvbGUubG9nKCdFZmZlY3QgMicpOwp9LCBbZGVwZW5kZW5jeTJdKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  console.log('Effect 1');
}, [dependency1]);

useEffect(() =&gt; {
  console.log('Effect 2');
}, [dependency2]);</pre></div><div class='content'></div><h2>Conditional Effects</h2>
<div class='content'><p>Sometimes you need to conditionally run an effect based on certain conditions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBpZiAoc29tZUNvbmRpdGlvbikgewogICAgLy8gUGVyZm9ybSB0aGUgZWZmZWN0CiAgfQp9LCBbc29tZUNvbmRpdGlvbl0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  if (someCondition) {
    // Perform the effect
  }
}, [someCondition]);</pre></div><div class='content'></div><h1>Common Pitfalls and Best Practices</h1>
<div class='content'><ul>
<li><strong>Avoid Infinite Loops</strong>: Ensure dependencies are correctly specified to avoid infinite re-renders.</li>
<li><strong>Dependency Arrays</strong>: Always include all dependencies used inside the effect.</li>
<li><strong>Cleanup</strong>: Always clean up subscriptions and timers to avoid memory leaks.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>The <code>useEffect</code> hook is a powerful tool for managing side effects in React functional components. By understanding its basic usage, dependency management, and cleanup mechanisms, you can effectively control the lifecycle of your components and ensure they behave as expected.</p>
</div><h2>Key Takeaways</h2>
<div class='content'><ul>
<li><code>useEffect</code> runs after every render by default.</li>
<li>Use the dependencies array to control when the effect runs.</li>
<li>Always clean up resources to prevent memory leaks.</li>
<li>Separate concerns by using multiple <code>useEffect</code> hooks when necessary.</li>
</ul>
<p>By mastering <code>useEffect</code>, you'll be well-equipped to handle side effects in your React applications, leading to more robust and maintainable code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='useState-hook'>&#x25C4;useState Hook</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">useEffect Hook</a>
	</div>
	<div class='col-4 text-end'>
					<a href='useContext-hook'>useContext Hook &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
