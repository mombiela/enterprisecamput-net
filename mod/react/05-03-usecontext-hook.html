<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>useContext Hook</title>

    <link rel="alternate" href="https://campusempresa.com/mod/react/05-03-usecontext-hook" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/react/05-03-usecontext-hook" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/react/05-03-usecontext-hook" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/react/05-03-usecontext-hook" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/react/05-03-usecontext-hook" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-useeffect-hook' title="useEffect Hook">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">useContext Hook</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-custom-hooks' title="Custom Hooks">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>The <code>useContext</code> hook is a powerful feature in React that allows you to access and manipulate context values without the need for a consumer component. This hook simplifies the process of passing data through the component tree without having to pass props down manually at every level.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Context</strong>: A way to pass data through the component tree without having to pass props down manually at every level.</li>
<li><strong>Provider</strong>: A component that provides the context value to its children.</li>
<li><strong>Consumer</strong>: A component that consumes the context value.</li>
</ol>
</div><h1><p>Creating and Using Context</p>
</h1>
<div class='content'></div><h2><p>Step 1: Create a Context</p>
</h2>
<div class='content'><p>First, you need to create a context using the <code>createContext</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7CgovLyBDcmVhdGUgYSBjb250ZXh0IHdpdGggYSBkZWZhdWx0IHZhbHVlCmNvbnN0IE15Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoJ2RlZmF1bHQgdmFsdWUnKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { createContext } from 'react';

// Create a context with a default value
const MyContext = createContext('default value');</pre></div><div class='content'></div><h2><p>Step 2: Provide the Context</p>
</h2>
<div class='content'><p>Wrap your component tree with the <code>Provider</code> component and pass the value you want to share.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnOwppbXBvcnQgeyBNeUNvbnRleHQgfSBmcm9tICcuL015Q29udGV4dCc7Cgpjb25zdCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7ClJlYWN0RE9NLnJlbmRlcigKICA8TXlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPSJIZWxsbywgV29ybGQhIj4KICAgIDxBcHAgLz4KICA8L015Q29udGV4dC5Qcm92aWRlcj4sCiAgcm9vdEVsZW1lbnQKKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import { MyContext } from './MyContext';

const rootElement = document.getElementById('root');
ReactDOM.render(
  &lt;MyContext.Provider value=&quot;Hello, World!&quot;&gt;
    &lt;App /&gt;
  &lt;/MyContext.Provider&gt;,
  rootElement
);</pre></div><div class='content'></div><h2><p>Step 3: Consume the Context</p>
</h2>
<div class='content'><p>Use the <code>useContext</code> hook to consume the context value in any component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IE15Q29udGV4dCB9IGZyb20gJy4vTXlDb250ZXh0JzsKCmNvbnN0IE15Q29tcG9uZW50ID0gKCkgPT4gewogIGNvbnN0IHZhbHVlID0gdXNlQ29udGV4dChNeUNvbnRleHQpOwogIHJldHVybiA8ZGl2Pnt2YWx1ZX08L2Rpdj47Cn07CgpleHBvcnQgZGVmYXVsdCBNeUNvbXBvbmVudDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useContext } from 'react';
import { MyContext } from './MyContext';

const MyComponent = () =&gt; {
  const value = useContext(MyContext);
  return &lt;div&gt;{value}&lt;/div&gt;;
};

export default MyComponent;</pre></div><div class='content'></div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a more practical example where we manage a theme (light or dark) using the <code>useContext</code> hook.</p>
</div><h2><p>Step 1: Create a Theme Context</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVGhlbWVDb250ZXh0LmpzCmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKCmNvbnN0IFRoZW1lQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTsKCmNvbnN0IFRoZW1lUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgW3RoZW1lLCBzZXRUaGVtZV0gPSB1c2VTdGF0ZSgnbGlnaHQnKTsKCiAgY29uc3QgdG9nZ2xlVGhlbWUgPSAoKSA9PiB7CiAgICBzZXRUaGVtZSgocHJldlRoZW1lKSA9PiAocHJldlRoZW1lID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0JykpOwogIH07CgogIHJldHVybiAoCiAgICA8VGhlbWVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHRoZW1lLCB0b2dnbGVUaGVtZSB9fT4KICAgICAge2NoaWxkcmVufQogICAgPC9UaGVtZUNvbnRleHQuUHJvdmlkZXI+CiAgKTsKfTsKCmV4cG9ydCB7IFRoZW1lQ29udGV4dCwgVGhlbWVQcm92aWRlciB9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// ThemeContext.js
import React, { createContext, useState } from 'react';

const ThemeContext = createContext();

const ThemeProvider = ({ children }) =&gt; {
  const [theme, setTheme] = useState('light');

  const toggleTheme = () =&gt; {
    setTheme((prevTheme) =&gt; (prevTheme === 'light' ? 'dark' : 'light'));
  };

  return (
    &lt;ThemeContext.Provider value={{ theme, toggleTheme }}&gt;
      {children}
    &lt;/ThemeContext.Provider&gt;
  );
};

export { ThemeContext, ThemeProvider };</pre></div><div class='content'></div><h2><p>Step 2: Provide the Theme Context</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gaW5kZXguanMKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnOwppbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSAnLi9UaGVtZUNvbnRleHQnOwoKUmVhY3RET00ucmVuZGVyKAogIDxUaGVtZVByb3ZpZGVyPgogICAgPEFwcCAvPgogIDwvVGhlbWVQcm92aWRlcj4sCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKQopOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// index.js
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import { ThemeProvider } from './ThemeContext';

ReactDOM.render(
  &lt;ThemeProvider&gt;
    &lt;App /&gt;
  &lt;/ThemeProvider&gt;,
  document.getElementById('root')
);</pre></div><div class='content'></div><h2><p>Step 3: Consume the Theme Context</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXBwLmpzCmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICcuL1RoZW1lQ29udGV4dCc7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgY29uc3QgeyB0aGVtZSwgdG9nZ2xlVGhlbWUgfSA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTsKCiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3sgYmFja2dyb3VuZDogdGhlbWUgPT09ICdsaWdodCcgPyAnI2ZmZicgOiAnIzMzMycsIGNvbG9yOiB0aGVtZSA9PT0gJ2xpZ2h0JyA/ICcjMDAwJyA6ICcjZmZmJyB9fT4KICAgICAgPGgxPntgQ3VycmVudCBUaGVtZTogJHt0aGVtZX1gfTwvaDE+CiAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlVGhlbWV9PlRvZ2dsZSBUaGVtZTwvYnV0dG9uPgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEFwcDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// App.js
import React, { useContext } from 'react';
import { ThemeContext } from './ThemeContext';

const App = () =&gt; {
  const { theme, toggleTheme } = useContext(ThemeContext);

  return (
    &lt;div style={{ background: theme === 'light' ? '#fff' : '#333', color: theme === 'light' ? '#000' : '#fff' }}&gt;
      &lt;h1&gt;{`Current Theme: ${theme}`}&lt;/h1&gt;
      &lt;button onClick={toggleTheme}&gt;Toggle Theme&lt;/button&gt;
    &lt;/div&gt;
  );
};

export default App;</pre></div><div class='content'></div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a Language Context</p>
</h2>
<div class='content'><ol>
<li>Create a <code>LanguageContext</code> that provides a language value and a function to change the language.</li>
<li>Use the <code>useContext</code> hook to consume the language value in a component and display the current language.</li>
<li>Add a button to change the language.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTGFuZ3VhZ2VDb250ZXh0LmpzCmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKCmNvbnN0IExhbmd1YWdlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTsKCmNvbnN0IExhbmd1YWdlUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgW2xhbmd1YWdlLCBzZXRMYW5ndWFnZV0gPSB1c2VTdGF0ZSgnRW5nbGlzaCcpOwoKICBjb25zdCBjaGFuZ2VMYW5ndWFnZSA9IChuZXdMYW5ndWFnZSkgPT4gewogICAgc2V0TGFuZ3VhZ2UobmV3TGFuZ3VhZ2UpOwogIH07CgogIHJldHVybiAoCiAgICA8TGFuZ3VhZ2VDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGxhbmd1YWdlLCBjaGFuZ2VMYW5ndWFnZSB9fT4KICAgICAge2NoaWxkcmVufQogICAgPC9MYW5ndWFnZUNvbnRleHQuUHJvdmlkZXI+CiAgKTsKfTsKCmV4cG9ydCB7IExhbmd1YWdlQ29udGV4dCwgTGFuZ3VhZ2VQcm92aWRlciB9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// LanguageContext.js
import React, { createContext, useState } from 'react';

const LanguageContext = createContext();

const LanguageProvider = ({ children }) =&gt; {
  const [language, setLanguage] = useState('English');

  const changeLanguage = (newLanguage) =&gt; {
    setLanguage(newLanguage);
  };

  return (
    &lt;LanguageContext.Provider value={{ language, changeLanguage }}&gt;
      {children}
    &lt;/LanguageContext.Provider&gt;
  );
};

export { LanguageContext, LanguageProvider };</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gaW5kZXguanMKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnOwppbXBvcnQgeyBMYW5ndWFnZVByb3ZpZGVyIH0gZnJvbSAnLi9MYW5ndWFnZUNvbnRleHQnOwoKUmVhY3RET00ucmVuZGVyKAogIDxMYW5ndWFnZVByb3ZpZGVyPgogICAgPEFwcCAvPgogIDwvTGFuZ3VhZ2VQcm92aWRlcj4sCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKQopOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// index.js
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import { LanguageProvider } from './LanguageContext';

ReactDOM.render(
  &lt;LanguageProvider&gt;
    &lt;App /&gt;
  &lt;/LanguageProvider&gt;,
  document.getElementById('root')
);</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXBwLmpzCmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBMYW5ndWFnZUNvbnRleHQgfSBmcm9tICcuL0xhbmd1YWdlQ29udGV4dCc7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgY29uc3QgeyBsYW5ndWFnZSwgY2hhbmdlTGFuZ3VhZ2UgfSA9IHVzZUNvbnRleHQoTGFuZ3VhZ2VDb250ZXh0KTsKCiAgcmV0dXJuICgKICAgIDxkaXY+CiAgICAgIDxoMT57YEN1cnJlbnQgTGFuZ3VhZ2U6ICR7bGFuZ3VhZ2V9YH08L2gxPgogICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGNoYW5nZUxhbmd1YWdlKCdTcGFuaXNoJyl9PkNoYW5nZSB0byBTcGFuaXNoPC9idXR0b24+CiAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gY2hhbmdlTGFuZ3VhZ2UoJ0ZyZW5jaCcpfT5DaGFuZ2UgdG8gRnJlbmNoPC9idXR0b24+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQXBwOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// App.js
import React, { useContext } from 'react';
import { LanguageContext } from './LanguageContext';

const App = () =&gt; {
  const { language, changeLanguage } = useContext(LanguageContext);

  return (
    &lt;div&gt;
      &lt;h1&gt;{`Current Language: ${language}`}&lt;/h1&gt;
      &lt;button onClick={() =&gt; changeLanguage('Spanish')}&gt;Change to Spanish&lt;/button&gt;
      &lt;button onClick={() =&gt; changeLanguage('French')}&gt;Change to French&lt;/button&gt;
    &lt;/div&gt;
  );
};

export default App;</pre></div><div class='content'></div><h1><p>Common Mistakes</p>
</h1>
<div class='content'><ol>
<li><strong>Not wrapping the component tree with the Provider</strong>: Ensure that the component tree is wrapped with the <code>Provider</code> component to provide the context value.</li>
<li><strong>Using the wrong context</strong>: Make sure you are importing and using the correct context in your components.</li>
<li><strong>Forgetting to update the context value</strong>: If the context value is dynamic, ensure you have a mechanism to update it, such as a state or a function.</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>The <code>useContext</code> hook is a powerful tool for managing global state in a React application. It simplifies the process of passing data through the component tree and makes your code more readable and maintainable. By understanding and utilizing the <code>useContext</code> hook, you can create more efficient and scalable React applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-useeffect-hook' title="useEffect Hook">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-custom-hooks' title="Custom Hooks">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
