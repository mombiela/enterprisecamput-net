<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Hooks in React</title>

    <link rel="alternate" href="https://campusempresa.com/mod/react/custom-hooks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/react/custom-hooks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/react/custom-hooks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/react/custom-hooks" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/react/custom-hooks" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='useContext-hook'>&#x25C4;useContext Hook</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Hooks in React</a>
	</div>
	<div class='col-4 text-end'>
					<a href='react-memo'>React Memo &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Custom Hooks</h1>
<div class='content'><p>Custom Hooks are a powerful feature in React that allow you to extract and reuse logic across multiple components. They enable you to encapsulate stateful logic and side effects, making your code more modular and easier to maintain.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Reusability</strong>: Custom Hooks allow you to reuse stateful logic without duplicating code.</li>
<li><strong>Encapsulation</strong>: They help in encapsulating complex logic, making components cleaner and more focused on rendering.</li>
<li><strong>Composition</strong>: Custom Hooks can be composed together to build more complex functionality.</li>
</ul>
</div><h1>Creating a Custom Hook</h1>
<div class='content'><p>To create a custom hook, you simply write a function that uses React hooks like <code>useState</code>, <code>useEffect</code>, etc., and return the necessary values or functions.</p>
</div><h2>Example: useFetch Hook</h2>
<div class='content'><p>Let's create a custom hook called <code>useFetch</code> that fetches data from an API.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKCmZ1bmN0aW9uIHVzZUZldGNoKHVybCkgewogIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKG51bGwpOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOwogICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICBzZXREYXRhKHJlc3VsdCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgc2V0RXJyb3IoZXJyb3IpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgICB9CiAgICB9OwoKICAgIGZldGNoRGF0YSgpOwogIH0sIFt1cmxdKTsKCiAgcmV0dXJuIHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfTsKfQoKZXhwb3J0IGRlZmF1bHQgdXNlRmV0Y2g7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { useState, useEffect } from 'react';

function useFetch(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() =&gt; {
    const fetchData = async () =&gt; {
      try {
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        const result = await response.json();
        setData(result);
      } catch (error) {
        setError(error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [url]);

  return { data, loading, error };
}

export default useFetch;</pre></div><div class='content'></div><h2>Using the useFetch Hook</h2>
<div class='content'><p>Now that we have our <code>useFetch</code> hook, let's use it in a component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHVzZUZldGNoIGZyb20gJy4vdXNlRmV0Y2gnOwoKZnVuY3Rpb24gRGF0YUZldGNoaW5nQ29tcG9uZW50KCkgewogIGNvbnN0IHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfSA9IHVzZUZldGNoKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJyk7CgogIGlmIChsb2FkaW5nKSByZXR1cm4gPHA+TG9hZGluZy4uLjwvcD47CiAgaWYgKGVycm9yKSByZXR1cm4gPHA+RXJyb3I6IHtlcnJvci5tZXNzYWdlfTwvcD47CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8aDE+RmV0Y2hlZCBEYXRhPC9oMT4KICAgICAgPHByZT57SlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMil9PC9wcmU+CiAgICA8L2Rpdj4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBEYXRhRmV0Y2hpbmdDb21wb25lbnQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import useFetch from './useFetch';

function DataFetchingComponent() {
  const { data, loading, error } = useFetch('https://api.example.com/data');

  if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
  if (error) return &lt;p&gt;Error: {error.message}&lt;/p&gt;;

  return (
    &lt;div&gt;
      &lt;h1&gt;Fetched Data&lt;/h1&gt;
      &lt;pre&gt;{JSON.stringify(data, null, 2)}&lt;/pre&gt;
    &lt;/div&gt;
  );
}

export default DataFetchingComponent;</pre></div><div class='content'></div><h1>Advanced Custom Hooks</h1>
<div class='content'><p>Custom Hooks can also manage more complex state and side effects, and they can be composed together to build more sophisticated functionality.</p>
</div><h2>Example: useLocalStorage Hook</h2>
<div class='content'><p>Let's create a custom hook called <code>useLocalStorage</code> that interacts with the browser's local storage.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CgpmdW5jdGlvbiB1c2VMb2NhbFN0b3JhZ2Uoa2V5LCBpbml0aWFsVmFsdWUpIHsKICBjb25zdCBbc3RvcmVkVmFsdWUsIHNldFN0b3JlZFZhbHVlXSA9IHVzZVN0YXRlKCgpID0+IHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IGl0ZW0gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgICAgcmV0dXJuIGl0ZW0gPyBKU09OLnBhcnNlKGl0ZW0pIDogaW5pdGlhbFZhbHVlOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7CiAgICB9CiAgfSk7CgogIGNvbnN0IHNldFZhbHVlID0gKHZhbHVlKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCB2YWx1ZVRvU3RvcmUgPSB2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gdmFsdWUoc3RvcmVkVmFsdWUpIDogdmFsdWU7CiAgICAgIHNldFN0b3JlZFZhbHVlKHZhbHVlVG9TdG9yZSk7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlVG9TdG9yZSkpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9CiAgfTsKCiAgcmV0dXJuIFtzdG9yZWRWYWx1ZSwgc2V0VmFsdWVdOwp9CgpleHBvcnQgZGVmYXVsdCB1c2VMb2NhbFN0b3JhZ2U7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { useState } from 'react';

function useLocalStorage(key, initialValue) {
  const [storedValue, setStoredValue] = useState(() =&gt; {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(error);
      return initialValue;
    }
  });

  const setValue = (value) =&gt; {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(error);
    }
  };

  return [storedValue, setValue];
}

export default useLocalStorage;</pre></div><div class='content'></div><h2>Using the useLocalStorage Hook</h2>
<div class='content'><p>Here's how you can use the <code>useLocalStorage</code> hook in a component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHVzZUxvY2FsU3RvcmFnZSBmcm9tICcuL3VzZUxvY2FsU3RvcmFnZSc7CgpmdW5jdGlvbiBMb2NhbFN0b3JhZ2VDb21wb25lbnQoKSB7CiAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlTG9jYWxTdG9yYWdlKCduYW1lJywgJ0pvaG4gRG9lJyk7CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICA8aDE+SGVsbG8sIHtuYW1lfSE8L2gxPgogICAgICA8aW5wdXQKICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgIHZhbHVlPXtuYW1lfQogICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmFtZShlLnRhcmdldC52YWx1ZSl9CiAgICAgIC8+CiAgICA8L2Rpdj4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBMb2NhbFN0b3JhZ2VDb21wb25lbnQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import useLocalStorage from './useLocalStorage';

function LocalStorageComponent() {
  const [name, setName] = useLocalStorage('name', 'John Doe');

  return (
    &lt;div&gt;
      &lt;h1&gt;Hello, {name}!&lt;/h1&gt;
      &lt;input
        type=&quot;text&quot;
        value={name}
        onChange={(e) =&gt; setName(e.target.value)}
      /&gt;
    &lt;/div&gt;
  );
}

export default LocalStorageComponent;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Custom Hooks are a versatile tool in React that help you write cleaner, more maintainable code by encapsulating stateful logic and side effects. They promote reusability and composition, making your components more focused on rendering and less on managing logic. By understanding and utilizing custom hooks, you can significantly improve the structure and readability of your React applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='useContext-hook'>&#x25C4;useContext Hook</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Hooks in React</a>
	</div>
	<div class='col-4 text-end'>
					<a href='react-memo'>React Memo &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
