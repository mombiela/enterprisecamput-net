<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cl/04-03-error-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cl/04-03-error-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cl/04-03-error-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/cl/04-03-error-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/cl/04-03-error-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-looping-constructs' title="Looping Constructs">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Error Handling</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-subroutines-procedures' title="Subroutines and Procedures">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Error handling is a crucial aspect of any programming language, including Control Language (CL). Proper error handling ensures that your programs can gracefully handle unexpected situations and provide meaningful feedback to users. In this section, we will cover the basics of error handling in CL, including common techniques and commands used to manage errors.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Error Messages</strong>: Understanding how CL communicates errors.</li>
<li><strong>Monitoring for Errors</strong>: Techniques to detect and respond to errors.</li>
<li><strong>Handling Errors</strong>: Strategies to manage errors when they occur.</li>
<li><strong>Logging Errors</strong>: Keeping track of errors for debugging and auditing purposes.</li>
</ol>
</div><h1>Error Messages</h1>
<div class='content'><p>In CL, error messages are generated when something goes wrong during the execution of a command or program. These messages provide information about what went wrong and can be used to diagnose and fix issues.</p>
</div><h2>Example of an Error Message</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1BGMDAwMTogRXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyBjb21tYW5kLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CPF0001: Error occurred while processing command.</pre></div><div class='content'><ul>
<li><strong>CPF0001</strong>: The error code.</li>
<li><strong>Error occurred while processing command</strong>: The error description.</li>
</ul>
</div><h1>Monitoring for Errors</h1>
<div class='content'><p>To handle errors effectively, you need to monitor for them. CL provides several commands and techniques to monitor for errors.</p>
</div><h2>MONMSG Command</h2>
<div class='content'><p>The <code>MONMSG</code> (Monitor Message) command is used to monitor for specific error messages and take action when they occur.</p>
<h4>Syntax</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TU9OTVNHIE1TR0lEKG1lc3NhZ2UtaWQpIEVYRUMoY29tbWFuZCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MONMSG MSGID(message-id) EXEC(command)</pre></div><div class='content'><ul>
<li><strong>MSGID</strong>: The message ID to monitor.</li>
<li><strong>EXEC</strong>: The command to execute if the message is detected.</li>
</ul>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBNT05NU0cgTVNHSUQoQ1BGMDAwMSkgRVhFQyhETykKICAgICAgICAvKiBIYW5kbGUgdGhlIGVycm9yICovCiAgICAgICAgU05EUEdNTVNHIE1TRygnQW4gZXJyb3Igb2NjdXJyZWQ6IENQRjAwMDEnKQogICAgRU5ERE8KICAgIC8qIFlvdXIgcHJvZ3JhbSBsb2dpYyBoZXJlICovCkVORFBHTQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    MONMSG MSGID(CPF0001) EXEC(DO)
        /* Handle the error */
        SNDPGMMSG MSG('An error occurred: CPF0001')
    ENDDO
    /* Your program logic here */
ENDPGM</pre></div><div class='content'><p>In this example, if the error message <code>CPF0001</code> is detected, the program sends a message indicating that an error occurred.</p>
</div><h1>Handling Errors</h1>
<div class='content'><p>Once an error is detected, you need to decide how to handle it. Common strategies include:</p>
<ol>
<li><strong>Retrying the Operation</strong>: Attempting the operation again.</li>
<li><strong>Logging the Error</strong>: Recording the error for later analysis.</li>
<li><strong>Graceful Exit</strong>: Terminating the program in a controlled manner.</li>
</ol>
</div><h2>Example: Retrying an Operation</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBEQ0wgVkFSKCZSRVRSWSkgVFlQRSgqTEdMKSBWQUxVRSgnMScpCiAgICBEQ0wgVkFSKCZDT1VOVCkgVFlQRSgqSU5UKSBWQUxVRSgwKQogICAgCiAgICBNT05NU0cgTVNHSUQoQ1BGMDAwMSkgRVhFQyhETykKICAgICAgICBDSEdWQVIgVkFSKCZDT1VOVCkgVkFMVUUoJkNPVU5UICsgMSkKICAgICAgICBJRiBDT05EKCZDT1VOVCA8IDMpIFRIRU4oRE8pCiAgICAgICAgICAgIENIR1ZBUiBWQVIoJlJFVFJZKSBWQUxVRSgnMScpCiAgICAgICAgRU5ERE8KICAgICAgICBFTFNFIERPCiAgICAgICAgICAgIFNORFBHTU1TRyBNU0coJ09wZXJhdGlvbiBmYWlsZWQgYWZ0ZXIgMyBhdHRlbXB0cycpCiAgICAgICAgICAgIENIR1ZBUiBWQVIoJlJFVFJZKSBWQUxVRSgnMCcpCiAgICAgICAgRU5ERE8KICAgIEVORERPCiAgICAKICAgIFdISUxFIENPTkQoJlJFVFJZKQogICAgICAgIC8qIFlvdXIgb3BlcmF0aW9uIGhlcmUgKi8KICAgICAgICBDSEdWQVIgVkFSKCZSRVRSWSkgVkFMVUUoJzAnKSAvKiBSZXNldCByZXRyeSBmbGFnICovCiAgICBFTkRXSElMRQpFTkRQR00="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    DCL VAR(&amp;RETRY) TYPE(*LGL) VALUE('1')
    DCL VAR(&amp;COUNT) TYPE(*INT) VALUE(0)
    
    MONMSG MSGID(CPF0001) EXEC(DO)
        CHGVAR VAR(&amp;COUNT) VALUE(&amp;COUNT + 1)
        IF COND(&amp;COUNT &lt; 3) THEN(DO)
            CHGVAR VAR(&amp;RETRY) VALUE('1')
        ENDDO
        ELSE DO
            SNDPGMMSG MSG('Operation failed after 3 attempts')
            CHGVAR VAR(&amp;RETRY) VALUE('0')
        ENDDO
    ENDDO
    
    WHILE COND(&amp;RETRY)
        /* Your operation here */
        CHGVAR VAR(&amp;RETRY) VALUE('0') /* Reset retry flag */
    ENDWHILE
ENDPGM</pre></div><div class='content'><p>In this example, the program attempts an operation up to three times if the error <code>CPF0001</code> occurs.</p>
</div><h1>Logging Errors</h1>
<div class='content'><p>Logging errors is essential for debugging and auditing. You can use the <code>SNDPGMMSG</code> (Send Program Message) command to log errors.</p>
</div><h2>Example: Logging an Error</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBNT05NU0cgTVNHSUQoQ1BGMDAwMSkgRVhFQyhETykKICAgICAgICBTTkRQR01NU0cgTVNHKCdFcnJvciBDUEYwMDAxIG9jY3VycmVkJykgVE9VU1IoKlNZU09QUikKICAgIEVORERPCiAgICAvKiBZb3VyIHByb2dyYW0gbG9naWMgaGVyZSAqLwpFTkRQR00="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    MONMSG MSGID(CPF0001) EXEC(DO)
        SNDPGMMSG MSG('Error CPF0001 occurred') TOUSR(*SYSOPR)
    ENDDO
    /* Your program logic here */
ENDPGM</pre></div><div class='content'><p>In this example, if the error <code>CPF0001</code> occurs, a message is sent to the system operator.</p>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Implement Error Handling</h2>
<div class='content'><ol>
<li>Write a CL program that performs a file operation (e.g., copying a file).</li>
<li>Use the <code>MONMSG</code> command to monitor for a specific error (e.g., <code>CPF0001</code>).</li>
<li>If the error occurs, log the error and retry the operation up to three times.</li>
<li>If the operation fails after three attempts, send a message indicating the failure.</li>
</ol>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBEQ0wgVkFSKCZSRVRSWSkgVFlQRSgqTEdMKSBWQUxVRSgnMScpCiAgICBEQ0wgVkFSKCZDT1VOVCkgVFlQRSgqSU5UKSBWQUxVRSgwKQogICAgCiAgICBNT05NU0cgTVNHSUQoQ1BGMDAwMSkgRVhFQyhETykKICAgICAgICBDSEdWQVIgVkFSKCZDT1VOVCkgVkFMVUUoJkNPVU5UICsgMSkKICAgICAgICBJRiBDT05EKCZDT1VOVCA8IDMpIFRIRU4oRE8pCiAgICAgICAgICAgIENIR1ZBUiBWQVIoJlJFVFJZKSBWQUxVRSgnMScpCiAgICAgICAgRU5ERE8KICAgICAgICBFTFNFIERPCiAgICAgICAgICAgIFNORFBHTU1TRyBNU0coJ0ZpbGUgb3BlcmF0aW9uIGZhaWxlZCBhZnRlciAzIGF0dGVtcHRzJykgVE9VU1IoKlNZU09QUikKICAgICAgICAgICAgQ0hHVkFSIFZBUigmUkVUUlkpIFZBTFVFKCcwJykKICAgICAgICBFTkRETwogICAgRU5ERE8KICAgIAogICAgV0hJTEUgQ09ORCgmUkVUUlkpCiAgICAgICAgLyogRmlsZSBvcGVyYXRpb24gaGVyZSAqLwogICAgICAgIENQWUYgRlJPTUZJTEUoTElCUkFSWS9GSUxFMSkgVE9GSUxFKExJQlJBUlkvRklMRTIpIE1CUk9QVCgqUkVQTEFDRSkKICAgICAgICBDSEdWQVIgVkFSKCZSRVRSWSkgVkFMVUUoJzAnKSAvKiBSZXNldCByZXRyeSBmbGFnICovCiAgICBFTkRXSElMRQpFTkRQR00="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    DCL VAR(&amp;RETRY) TYPE(*LGL) VALUE('1')
    DCL VAR(&amp;COUNT) TYPE(*INT) VALUE(0)
    
    MONMSG MSGID(CPF0001) EXEC(DO)
        CHGVAR VAR(&amp;COUNT) VALUE(&amp;COUNT + 1)
        IF COND(&amp;COUNT &lt; 3) THEN(DO)
            CHGVAR VAR(&amp;RETRY) VALUE('1')
        ENDDO
        ELSE DO
            SNDPGMMSG MSG('File operation failed after 3 attempts') TOUSR(*SYSOPR)
            CHGVAR VAR(&amp;RETRY) VALUE('0')
        ENDDO
    ENDDO
    
    WHILE COND(&amp;RETRY)
        /* File operation here */
        CPYF FROMFILE(LIBRARY/FILE1) TOFILE(LIBRARY/FILE2) MBROPT(*REPLACE)
        CHGVAR VAR(&amp;RETRY) VALUE('0') /* Reset retry flag */
    ENDWHILE
ENDPGM</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>In this section, we covered the basics of error handling in CL, including how to monitor for errors using the <code>MONMSG</code> command, strategies for handling errors, and logging errors for debugging and auditing purposes. Proper error handling is essential for creating robust and reliable CL programs. In the next section, we will explore subroutines and procedures to further enhance your CL programming skills.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-looping-constructs' title="Looping Constructs">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-subroutines-procedures' title="Subroutines and Procedures">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
