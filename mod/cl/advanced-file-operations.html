<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced File Operations in CL (Control Language)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cl/advanced-file-operations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cl/advanced-file-operations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cl/advanced-file-operations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/cl/advanced-file-operations" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/cl/advanced-file-operations" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='subroutines-procedures'>&#x25C4;Subroutines and Procedures</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced File Operations in CL (Control Language)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-job-control'>Advanced Job Control &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will delve into advanced file operations using Control Language (CL) on IBM i (formerly AS/400). This topic assumes you have a basic understanding of CL and are familiar with fundamental file operations. We will cover advanced techniques such as file overrides, data area operations, and using APIs for file manipulation.</p>
</div><h1>File Overrides</h1>
<div class='content'><p>File overrides allow you to change the attributes of a file at runtime without modifying the program that uses the file.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>OVRDBF (Override with Database File)</strong>: Redirects file operations to a different file or member.</li>
<li><strong>OVRPRTF (Override with Printer File)</strong>: Changes the attributes of a printer file.</li>
<li><strong>DLTOVR (Delete Override)</strong>: Removes the override.</li>
</ul>
</div><h2>Example: OVRDBF</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogT3ZlcnJpZGUgdGhlIGZpbGUgTVlGSUxFIHRvIHVzZSBtZW1iZXIgTVlNRU1CRVIgKi8KT1ZSREJGIEZJTEUoTVlGSUxFKSBUT0ZJTEUoTVlMSUIvTVlGSUxFKSBNQlIoTVlNRU1CRVIpCgovKiBDYWxsIHRoZSBwcm9ncmFtIHRoYXQgdXNlcyBNWUZJTEUgKi8KQ0FMTCBQR00oTVlQR00pCgovKiBEZWxldGUgdGhlIG92ZXJyaWRlIGFmdGVyIHRoZSBwcm9ncmFtIGNhbGwgKi8KRExUT1ZSIEZJTEUoTVlGSUxFKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Override the file MYFILE to use member MYMEMBER */
OVRDBF FILE(MYFILE) TOFILE(MYLIB/MYFILE) MBR(MYMEMBER)

/* Call the program that uses MYFILE */
CALL PGM(MYPGM)

/* Delete the override after the program call */
DLTOVR FILE(MYFILE)</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>OVRDBF</code> command overrides the file <code>MYFILE</code> to use the member <code>MYMEMBER</code> in the library <code>MYLIB</code>.</li>
<li>The <code>CALL</code> command runs the program <code>MYPGM</code> which will now use the overridden file.</li>
<li><code>DLTOVR</code> removes the override, restoring the original file attributes.</li>
</ul>
</div><h1>Data Area Operations</h1>
<div class='content'><p>Data areas are used to store small amounts of data that can be accessed by multiple programs.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>CRTDTAARA (Create Data Area)</strong>: Creates a data area.</li>
<li><strong>RTVDTAARA (Retrieve Data Area)</strong>: Retrieves the value from a data area.</li>
<li><strong>CHGDTAARA (Change Data Area)</strong>: Changes the value of a data area.</li>
<li><strong>DLTDTAARA (Delete Data Area)</strong>: Deletes a data area.</li>
</ul>
</div><h2>Example: Data Area Operations</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogQ3JlYXRlIGEgZGF0YSBhcmVhIG5hbWVkIE1ZRFRBQVJBICovCkNSVERUQUFSQSBEVEFBUkEoTVlMSUIvTVlEVEFBUkEpIFRZUEUoKkNIQVIpIExFTigxMCkgVkFMVUUoJ0lOSVRJQUwnKQoKLyogUmV0cmlldmUgdGhlIHZhbHVlIGZyb20gdGhlIGRhdGEgYXJlYSAqLwpSVFZEVEFBUkEgRFRBQVJBKE1ZTElCL01ZRFRBQVJBKSBSVE5WQVIoJk1ZVkFSKQoKLyogQ2hhbmdlIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YSBhcmVhICovCkNIR0RUQUFSQSBEVEFBUkEoTVlMSUIvTVlEVEFBUkEpIFZBTFVFKCdORVdWQUxVRScpCgovKiBEZWxldGUgdGhlIGRhdGEgYXJlYSAqLwpETFREVEFBUkEgRFRBQVJBKE1ZTElCL01ZRFRBQVJBKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Create a data area named MYDTAARA */
CRTDTAARA DTAARA(MYLIB/MYDTAARA) TYPE(*CHAR) LEN(10) VALUE('INITIAL')

/* Retrieve the value from the data area */
RTVDTAARA DTAARA(MYLIB/MYDTAARA) RTNVAR(&amp;MYVAR)

/* Change the value of the data area */
CHGDTAARA DTAARA(MYLIB/MYDTAARA) VALUE('NEWVALUE')

/* Delete the data area */
DLTDTAARA DTAARA(MYLIB/MYDTAARA)</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>CRTDTAARA</code> creates a data area <code>MYDTAARA</code> in library <code>MYLIB</code> with an initial value of 'INITIAL'.</li>
<li><code>RTVDTAARA</code> retrieves the value from <code>MYDTAARA</code> into the variable <code>&amp;MYVAR</code>.</li>
<li><code>CHGDTAARA</code> changes the value of <code>MYDTAARA</code> to 'NEWVALUE'.</li>
<li><code>DLTDTAARA</code> deletes the data area <code>MYDTAARA</code>.</li>
</ul>
</div><h1>Using APIs for File Manipulation</h1>
<div class='content'><p>IBM i provides various APIs for advanced file manipulation, such as reading and writing records programmatically.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>QDBRTVFD (Retrieve File Description)</strong>: Retrieves file description information.</li>
<li><strong>QDBGETM (Get Member Information)</strong>: Retrieves information about a file member.</li>
</ul>
</div><h2>Example: Using QDBRTVFD API</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogRGVjbGFyZSB2YXJpYWJsZXMgKi8KRENMICZGSUxFRFNDICpDSEFSIDUwMDAKRENMICZFUlJDT0RFICpDSEFSIDgKCi8qIENhbGwgUURCUlRWRkQgQVBJIHRvIHJldHJpZXZlIGZpbGUgZGVzY3JpcHRpb24gKi8KQ0FMTCBQR00oUURCUlRWRkQpIFBBUk0oJ01ZTElCJyAnTVlGSUxFJyAmRklMRURTQyAmRVJSQ09ERSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Declare variables */
DCL &amp;FILEDSC *CHAR 5000
DCL &amp;ERRCODE *CHAR 8

/* Call QDBRTVFD API to retrieve file description */
CALL PGM(QDBRTVFD) PARM('MYLIB' 'MYFILE' &amp;FILEDSC &amp;ERRCODE)</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>DCL</code> commands declare variables to hold the file description and error code.</li>
<li><code>CALL</code> command invokes the <code>QDBRTVFD</code> API to retrieve the file description for <code>MYFILE</code> in library <code>MYLIB</code>.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored advanced file operations in CL, including file overrides, data area operations, and using APIs for file manipulation. Mastering these techniques will enhance your ability to manage and manipulate files effectively in an IBM i environment. Practice these commands and examples to solidify your understanding and apply them to real-world scenarios.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='subroutines-procedures'>&#x25C4;Subroutines and Procedures</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Advanced File Operations in CL (Control Language)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-job-control'>Advanced Job Control &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
