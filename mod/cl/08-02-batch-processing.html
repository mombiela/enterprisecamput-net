<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batch Processing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cl/08-02-batch-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cl/08-02-batch-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cl/08-02-batch-processing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/cl/08-02-batch-processing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/cl/08-02-batch-processing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-automating-system-tasks' title="Automating System Tasks">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Batch Processing</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-data-integration' title="Data Integration">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Batch processing is a powerful feature in Control Language (CL) that allows you to execute a series of commands or programs without manual intervention. This is particularly useful for tasks that need to be performed regularly or require significant computational resources. In this section, we will cover the basics of batch processing, how to create and manage batch jobs, and practical examples to help you understand and implement batch processing in your CL programs.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Batch Job</strong>: A job that is submitted to the system to be processed at a later time or under specific conditions.</li>
<li><strong>Job Queue</strong>: A queue where batch jobs are placed before they are executed.</li>
<li><strong>Job Description</strong>: A set of attributes that define how a job should be processed.</li>
<li><strong>Job Scheduler</strong>: A system component that manages the execution of batch jobs based on predefined criteria.</li>
</ol>
</div><h1><p>Creating a Batch Job</p>
</h1>
<div class='content'><p>To create a batch job, you need to define the job's attributes and submit it to a job queue. Here is a step-by-step guide:</p>
</div><h2><p>Step 1: Define the Job Description</p>
</h2>
<div class='content'><p>A job description specifies the attributes of the job, such as the job name, user profile, and job queue. You can create a job description using the <code>CRTJOBD</code> (Create Job Description) command.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JUSk9CRCBKT0JEKE1ZSk9CRCkgSk9CUShRQkFUQ0gpIFVTRVIoTVlVU0VSKSBURVhUKCdNeSBCYXRjaCBKb2IgRGVzY3JpcHRpb24nKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CRTJOBD JOBD(MYJOBD) JOBQ(QBATCH) USER(MYUSER) TEXT('My Batch Job Description')</pre></div><div class='content'></div><h2><p>Step 2: Create the CL Program</p>
</h2>
<div class='content'><p>Write a CL program that contains the commands you want to execute as part of the batch job. Save this program in a source physical file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICAvKiBZb3VyIGJhdGNoIHByb2Nlc3NpbmcgY29tbWFuZHMgZ28gaGVyZSAqLwogICAgRENMIFZBUigmTVNHKSBUWVBFKCpDSEFSKSBMRU4oNTApCiAgICBDSEdWQVIgVkFSKCZNU0cpIFZBTFVFKCdCYXRjaCBqb2Igc3RhcnRlZCcpCiAgICBTTkRQR01NU0cgTVNHKCZNU0cpCiAgICAvKiBBZGQgbW9yZSBjb21tYW5kcyBhcyBuZWVkZWQgKi8KRU5EUEdN"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    /* Your batch processing commands go here */
    DCL VAR(&amp;MSG) TYPE(*CHAR) LEN(50)
    CHGVAR VAR(&amp;MSG) VALUE('Batch job started')
    SNDPGMMSG MSG(&amp;MSG)
    /* Add more commands as needed */
ENDPGM</pre></div><div class='content'></div><h2><p>Step 3: Submit the Batch Job</p>
</h2>
<div class='content'><p>Use the <code>SBMJOB</code> (Submit Job) command to submit the CL program to the job queue.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0JNSk9CIENNRChDQUxMIFBHTShNWUxJQi9NWUNMUEdNKSkgSk9CKE1ZQkFUQ0hKT0IpIEpPQkQoTVlKT0JEKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SBMJOB CMD(CALL PGM(MYLIB/MYCLPGM)) JOB(MYBATCHJOB) JOBD(MYJOBD)</pre></div><div class='content'></div><h1><p>Managing Batch Jobs</p>
</h1>
<div class='content'><p>Once a batch job is submitted, you can manage it using various CL commands:</p>
<ul>
<li><strong>WRKJOB</strong>: Work with a specific job.</li>
<li><strong>WRKACTJOB</strong>: Work with active jobs.</li>
<li><strong>WRKSBMJOB</strong>: Work with submitted jobs.</li>
<li><strong>ENDJOB</strong>: End a job.</li>
<li><strong>HLDJOB</strong>: Hold a job.</li>
<li><strong>RLSJOB</strong>: Release a held job.</li>
</ul>
</div><h2><p>Example: Monitoring a Batch Job</p>
</h2>
<div class='content'><p>You can monitor the status of a batch job using the <code>WRKSBMJOB</code> command.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V1JLU0JNSk9CIEpPQihNWUJBVENISk9CKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WRKSBMJOB JOB(MYBATCHJOB)</pre></div><div class='content'><p>This command displays a list of submitted jobs, allowing you to check their status, hold, release, or end them as needed.</p>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a practical example where we automate a daily backup process using batch processing.</p>
</div><h2><p>Step 1: Create the Job Description</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JUSk9CRCBKT0JEKEJBQ0tVUEpPQkQpIEpPQlEoUUJBVENIKSBVU0VSKEJBQ0tVUFVTRVIpIFRFWFQoJ0RhaWx5IEJhY2t1cCBKb2IgRGVzY3JpcHRpb24nKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CRTJOBD JOBD(BACKUPJOBD) JOBQ(QBATCH) USER(BACKUPUSER) TEXT('Daily Backup Job Description')</pre></div><div class='content'></div><h2><p>Step 2: Write the CL Program</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBEQ0wgVkFSKCZNU0cpIFRZUEUoKkNIQVIpIExFTig1MCkKICAgIENIR1ZBUiBWQVIoJk1TRykgVkFMVUUoJ1N0YXJ0aW5nIGRhaWx5IGJhY2t1cCcpCiAgICBTTkRQR01NU0cgTVNHKCZNU0cpCiAgICAKICAgIC8qIEJhY2t1cCBjb21tYW5kcyAqLwogICAgU0FWTElCIExJQihNWUxJQikgREVWKFRBUDAxKSBFTkRPUFQoKkxFQVZFKQogICAgCiAgICBDSEdWQVIgVkFSKCZNU0cpIFZBTFVFKCdEYWlseSBiYWNrdXAgY29tcGxldGVkJykKICAgIFNORFBHTU1TRyBNU0coJk1TRykKRU5EUEdN"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    DCL VAR(&amp;MSG) TYPE(*CHAR) LEN(50)
    CHGVAR VAR(&amp;MSG) VALUE('Starting daily backup')
    SNDPGMMSG MSG(&amp;MSG)
    
    /* Backup commands */
    SAVLIB LIB(MYLIB) DEV(TAP01) ENDOPT(*LEAVE)
    
    CHGVAR VAR(&amp;MSG) VALUE('Daily backup completed')
    SNDPGMMSG MSG(&amp;MSG)
ENDPGM</pre></div><div class='content'></div><h2><p>Step 3: Submit the Batch Job</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0JNSk9CIENNRChDQUxMIFBHTShNWUxJQi9EQUlMWUJBQ0tVUCkpIEpPQihEQUlMWUJBQ0tVUCkgSk9CRChCQUNLVVBKT0JEKSBTQ0REQVRFKCpDVVJSRU5UKSBTQ0RUSU1FKCcyMzAwMDAnKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SBMJOB CMD(CALL PGM(MYLIB/DAILYBACKUP)) JOB(DAILYBACKUP) JOBD(BACKUPJOBD) SCDDATE(*CURRENT) SCDTIME('230000')</pre></div><div class='content'><p>This command schedules the <code>DAILYBACKUP</code> job to run at 11:00 PM every day.</p>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create and Submit a Batch Job</p>
</h2>
<div class='content'><ol>
<li>Create a job description named <code>MYJOBD</code> with the job queue <code>QBATCH</code> and user <code>MYUSER</code>.</li>
<li>Write a CL program that sends a message &quot;Hello, Batch World!&quot;.</li>
<li>Submit the CL program as a batch job named <code>HELLOBATCH</code>.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p>Create the job description:</p>
<pre><code class="language-cl">CRTJOBD JOBD(MYJOBD) JOBQ(QBATCH) USER(MYUSER) TEXT('My Job Description')
</code></pre>
</li>
<li>
<p>Write the CL program:</p>
<pre><code class="language-cl">PGM
    DCL VAR(&amp;MSG) TYPE(*CHAR) LEN(50)
    CHGVAR VAR(&amp;MSG) VALUE('Hello, Batch World!')
    SNDPGMMSG MSG(&amp;MSG)
ENDPGM
</code></pre>
</li>
<li>
<p>Submit the batch job:</p>
<pre><code class="language-cl">SBMJOB CMD(CALL PGM(MYLIB/HELLOCLPGM)) JOB(HELLOBATCH) JOBD(MYJOBD)
</code></pre>
</li>
</ol>
</div><h2><p>Exercise 2: Monitor and Manage a Batch Job</p>
</h2>
<div class='content'><ol>
<li>Submit a batch job that runs a CL program to create a backup of a library.</li>
<li>Use the <code>WRKSBMJOB</code> command to monitor the job.</li>
<li>Hold the job using the <code>HLDJOB</code> command.</li>
<li>Release the job using the <code>RLSJOB</code> command.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p>Submit the batch job:</p>
<pre><code class="language-cl">SBMJOB CMD(CALL PGM(MYLIB/BACKUPCLPGM)) JOB(BACKUPJOB) JOBD(BACKUPJOBD)
</code></pre>
</li>
<li>
<p>Monitor the job:</p>
<pre><code class="language-cl">WRKSBMJOB JOB(BACKUPJOB)
</code></pre>
</li>
<li>
<p>Hold the job:</p>
<pre><code class="language-cl">HLDJOB JOB(BACKUPJOB)
</code></pre>
</li>
<li>
<p>Release the job:</p>
<pre><code class="language-cl">RLSJOB JOB(BACKUPJOB)
</code></pre>
</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of batch processing in CL, including creating and managing batch jobs. We also provided practical examples and exercises to help you understand and implement batch processing in your CL programs. Batch processing is a powerful tool for automating repetitive tasks and optimizing system performance. In the next section, we will explore data integration techniques to further enhance your CL programming skills.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-automating-system-tasks' title="Automating System Tasks">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-data-integration' title="Data Integration">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
