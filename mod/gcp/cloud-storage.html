<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Storage on Google Cloud Platform (GCP)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/cloud-storage" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/cloud-storage" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/cloud-storage" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/gcp/cloud-storage" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/gcp/cloud-storage" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-security-basics'>&#x25C4;Cloud Security Basics</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud Storage on Google Cloud Platform (GCP)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cloud-sql'>Cloud SQL &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Cloud Storage</h1>
<div class='content'><p>Google Cloud Storage is a service for storing and accessing your data on Google's infrastructure. It provides a scalable, secure, and durable object storage solution for developers and enterprises.</p>
<ul>
<li><strong>Key Concepts:</strong>
<ul>
<li><strong>Buckets:</strong> Containers for storing objects.</li>
<li><strong>Objects:</strong> Individual pieces of data stored in buckets.</li>
<li><strong>Classes:</strong> Different storage classes for various use cases (e.g., Standard, Nearline, Coldline, Archive).</li>
<li><strong>Regions:</strong> Geographical locations where data is stored.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Google Cloud Storage</h1>
<h2>Creating a Google Cloud Project</h2>
<div class='content'><ol>
<li>
<p><strong>Sign in to Google Cloud Console:</strong></p>
<ul>
<li>Navigate to <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</li>
<li>Sign in with your Google account.</li>
</ul>
</li>
<li>
<p><strong>Create a new project:</strong></p>
<ul>
<li>Click on the project dropdown and select &quot;New Project.&quot;</li>
<li>Enter a project name and click &quot;Create.&quot;</li>
</ul>
</li>
</ol>
</div><h2>Enabling Cloud Storage API</h2>
<div class='content'><ol>
<li>
<p><strong>Navigate to the API Library:</strong></p>
<ul>
<li>In the Google Cloud Console, go to the &quot;Navigation Menu&quot; &gt; &quot;APIs &amp; Services&quot; &gt; &quot;Library.&quot;</li>
</ul>
</li>
<li>
<p><strong>Enable the Cloud Storage API:</strong></p>
<ul>
<li>Search for &quot;Cloud Storage&quot; and click on it.</li>
<li>Click &quot;Enable.&quot;</li>
</ul>
</li>
</ol>
</div><h1>Working with Buckets</h1>
<h2>Creating a Bucket</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IHN0b3JhZ2UKCmRlZiBjcmVhdGVfYnVja2V0KGJ1Y2tldF9uYW1lKToKICAgICIiIkNyZWF0ZXMgYSBuZXcgYnVja2V0LiIiIgogICAgc3RvcmFnZV9jbGllbnQgPSBzdG9yYWdlLkNsaWVudCgpCiAgICBidWNrZXQgPSBzdG9yYWdlX2NsaWVudC5jcmVhdGVfYnVja2V0KGJ1Y2tldF9uYW1lKQogICAgcHJpbnQoZiJCdWNrZXQge2J1Y2tldC5uYW1lfSBjcmVhdGVkLiIpCgpjcmVhdGVfYnVja2V0KCdteS1uZXctYnVja2V0Jyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from google.cloud import storage

def create_bucket(bucket_name):
    &quot;&quot;&quot;Creates a new bucket.&quot;&quot;&quot;
    storage_client = storage.Client()
    bucket = storage_client.create_bucket(bucket_name)
    print(f&quot;Bucket {bucket.name} created.&quot;)

create_bucket('my-new-bucket')</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>Import the <code>storage</code> module from the <code>google.cloud</code> library.</li>
<li>Create a <code>storage.Client</code> instance.</li>
<li>Use the <code>create_bucket</code> method to create a new bucket with the specified name.</li>
</ul>
</li>
</ul>
</div><h2>Listing Buckets</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGxpc3RfYnVja2V0cygpOgogICAgIiIiTGlzdHMgYWxsIGJ1Y2tldHMuIiIiCiAgICBzdG9yYWdlX2NsaWVudCA9IHN0b3JhZ2UuQ2xpZW50KCkKICAgIGJ1Y2tldHMgPSBzdG9yYWdlX2NsaWVudC5saXN0X2J1Y2tldHMoKQogICAgZm9yIGJ1Y2tldCBpbiBidWNrZXRzOgogICAgICAgIHByaW50KGJ1Y2tldC5uYW1lKQoKbGlzdF9idWNrZXRzKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def list_buckets():
    &quot;&quot;&quot;Lists all buckets.&quot;&quot;&quot;
    storage_client = storage.Client()
    buckets = storage_client.list_buckets()
    for bucket in buckets:
        print(bucket.name)

list_buckets()</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>Use the <code>list_buckets</code> method to retrieve all buckets in the project.</li>
<li>Iterate through the buckets and print their names.</li>
</ul>
</li>
</ul>
</div><h1>Working with Objects</h1>
<h2>Uploading an Object</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHVwbG9hZF9ibG9iKGJ1Y2tldF9uYW1lLCBzb3VyY2VfZmlsZV9uYW1lLCBkZXN0aW5hdGlvbl9ibG9iX25hbWUpOgogICAgIiIiVXBsb2FkcyBhIGZpbGUgdG8gdGhlIGJ1Y2tldC4iIiIKICAgIHN0b3JhZ2VfY2xpZW50ID0gc3RvcmFnZS5DbGllbnQoKQogICAgYnVja2V0ID0gc3RvcmFnZV9jbGllbnQuYnVja2V0KGJ1Y2tldF9uYW1lKQogICAgYmxvYiA9IGJ1Y2tldC5ibG9iKGRlc3RpbmF0aW9uX2Jsb2JfbmFtZSkKICAgIGJsb2IudXBsb2FkX2Zyb21fZmlsZW5hbWUoc291cmNlX2ZpbGVfbmFtZSkKICAgIHByaW50KGYiRmlsZSB7c291cmNlX2ZpbGVfbmFtZX0gdXBsb2FkZWQgdG8ge2Rlc3RpbmF0aW9uX2Jsb2JfbmFtZX0uIikKCnVwbG9hZF9ibG9iKCdteS1uZXctYnVja2V0JywgJ2xvY2FsLWZpbGUudHh0JywgJ3JlbW90ZS1maWxlLnR4dCcp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def upload_blob(bucket_name, source_file_name, destination_blob_name):
    &quot;&quot;&quot;Uploads a file to the bucket.&quot;&quot;&quot;
    storage_client = storage.Client()
    bucket = storage_client.bucket(bucket_name)
    blob = bucket.blob(destination_blob_name)
    blob.upload_from_filename(source_file_name)
    print(f&quot;File {source_file_name} uploaded to {destination_blob_name}.&quot;)

upload_blob('my-new-bucket', 'local-file.txt', 'remote-file.txt')</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>Get the bucket using <code>bucket</code> method.</li>
<li>Create a blob object using <code>blob</code> method.</li>
<li>Upload the file using <code>upload_from_filename</code> method.</li>
</ul>
</li>
</ul>
</div><h2>Downloading an Object</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRvd25sb2FkX2Jsb2IoYnVja2V0X25hbWUsIHNvdXJjZV9ibG9iX25hbWUsIGRlc3RpbmF0aW9uX2ZpbGVfbmFtZSk6CiAgICAiIiJEb3dubG9hZHMgYSBibG9iIGZyb20gdGhlIGJ1Y2tldC4iIiIKICAgIHN0b3JhZ2VfY2xpZW50ID0gc3RvcmFnZS5DbGllbnQoKQogICAgYnVja2V0ID0gc3RvcmFnZV9jbGllbnQuYnVja2V0KGJ1Y2tldF9uYW1lKQogICAgYmxvYiA9IGJ1Y2tldC5ibG9iKHNvdXJjZV9ibG9iX25hbWUpCiAgICBibG9iLmRvd25sb2FkX3RvX2ZpbGVuYW1lKGRlc3RpbmF0aW9uX2ZpbGVfbmFtZSkKICAgIHByaW50KGYiQmxvYiB7c291cmNlX2Jsb2JfbmFtZX0gZG93bmxvYWRlZCB0byB7ZGVzdGluYXRpb25fZmlsZV9uYW1lfS4iKQoKZG93bmxvYWRfYmxvYignbXktbmV3LWJ1Y2tldCcsICdyZW1vdGUtZmlsZS50eHQnLCAnbG9jYWwtZmlsZS50eHQnKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def download_blob(bucket_name, source_blob_name, destination_file_name):
    &quot;&quot;&quot;Downloads a blob from the bucket.&quot;&quot;&quot;
    storage_client = storage.Client()
    bucket = storage_client.bucket(bucket_name)
    blob = bucket.blob(source_blob_name)
    blob.download_to_filename(destination_file_name)
    print(f&quot;Blob {source_blob_name} downloaded to {destination_file_name}.&quot;)

download_blob('my-new-bucket', 'remote-file.txt', 'local-file.txt')</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>Get the blob object using <code>blob</code> method.</li>
<li>Download the file using <code>download_to_filename</code> method.</li>
</ul>
</li>
</ul>
</div><h1>Storage Classes and Lifecycle Management</h1>
<h2>Storage Classes</h2>
<div class='content'><p>Google Cloud Storage offers different storage classes to optimize cost and performance for various use cases:</p>
<p>| Storage Class | Use Case | Durability | Availability |
| --------------| -------- | ---------- | ------------ |
| Standard      | Frequently accessed data | 99.999999999% | 99.99% |
| Nearline      | Infrequently accessed data (once a month) | 99.999999999% | 99.95% |
| Coldline      | Rarely accessed data (once a year) | 99.999999999% | 99.90% |
| Archive       | Long-term storage | 99.999999999% | 99.90% |</p>
</div><h2>Lifecycle Management</h2>
<div class='content'><p>Lifecycle management allows you to define rules to automatically transition objects to different storage classes or delete them after a certain period.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHNldF9idWNrZXRfbGlmZWN5Y2xlKGJ1Y2tldF9uYW1lKToKICAgICIiIlNldHMgYSBsaWZlY3ljbGUgbWFuYWdlbWVudCBwb2xpY3kgb24gYSBidWNrZXQuIiIiCiAgICBzdG9yYWdlX2NsaWVudCA9IHN0b3JhZ2UuQ2xpZW50KCkKICAgIGJ1Y2tldCA9IHN0b3JhZ2VfY2xpZW50LmJ1Y2tldChidWNrZXRfbmFtZSkKICAgIHJ1bGUgPSB7CiAgICAgICAgImFjdGlvbiI6IHsidHlwZSI6ICJTZXRTdG9yYWdlQ2xhc3MiLCAic3RvcmFnZUNsYXNzIjogIkNPTERMSU5FIn0sCiAgICAgICAgImNvbmRpdGlvbiI6IHsiYWdlIjogMzY1fQogICAgfQogICAgbGlmZWN5Y2xlID0gYnVja2V0LmxpZmVjeWNsZV9ydWxlcwogICAgbGlmZWN5Y2xlLmFwcGVuZChydWxlKQogICAgYnVja2V0LnBhdGNoKCkKICAgIHByaW50KGYiTGlmZWN5Y2xlIG1hbmFnZW1lbnQgcG9saWN5IHNldCBmb3IgYnVja2V0IHtidWNrZXRfbmFtZX0uIikKCnNldF9idWNrZXRfbGlmZWN5Y2xlKCdteS1uZXctYnVja2V0Jyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def set_bucket_lifecycle(bucket_name):
    &quot;&quot;&quot;Sets a lifecycle management policy on a bucket.&quot;&quot;&quot;
    storage_client = storage.Client()
    bucket = storage_client.bucket(bucket_name)
    rule = {
        &quot;action&quot;: {&quot;type&quot;: &quot;SetStorageClass&quot;, &quot;storageClass&quot;: &quot;COLDLINE&quot;},
        &quot;condition&quot;: {&quot;age&quot;: 365}
    }
    lifecycle = bucket.lifecycle_rules
    lifecycle.append(rule)
    bucket.patch()
    print(f&quot;Lifecycle management policy set for bucket {bucket_name}.&quot;)

set_bucket_lifecycle('my-new-bucket')</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>Define a rule to transition objects to the Coldline storage class after 365 days.</li>
<li>Append the rule to the bucket's lifecycle rules and apply the changes using <code>patch</code> method.</li>
</ul>
</li>
</ul>
</div><h1>Security and Access Control</h1>
<h2>IAM Policies</h2>
<div class='content'><p>IAM (Identity and Access Management) policies allow you to control who has access to your buckets and objects.</p>
<ul>
<li><strong>Roles:</strong>
<ul>
<li><code>roles/storage.admin</code>: Full control over buckets and objects.</li>
<li><code>roles/storage.objectAdmin</code>: Full control over objects.</li>
<li><code>roles/storage.objectViewer</code>: Read-only access to objects.</li>
</ul>
</li>
</ul>
</div><h2>Setting Bucket Permissions</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHNldF9idWNrZXRfaWFtX3BvbGljeShidWNrZXRfbmFtZSk6CiAgICAiIiJTZXRzIGFuIElBTSBwb2xpY3kgb24gYSBidWNrZXQuIiIiCiAgICBzdG9yYWdlX2NsaWVudCA9IHN0b3JhZ2UuQ2xpZW50KCkKICAgIGJ1Y2tldCA9IHN0b3JhZ2VfY2xpZW50LmJ1Y2tldChidWNrZXRfbmFtZSkKICAgIHBvbGljeSA9IGJ1Y2tldC5nZXRfaWFtX3BvbGljeSgpCiAgICBwb2xpY3lbImJpbmRpbmdzIl0uYXBwZW5kKAogICAgICAgIHsKICAgICAgICAgICAgInJvbGUiOiAicm9sZXMvc3RvcmFnZS5vYmplY3RWaWV3ZXIiLAogICAgICAgICAgICAibWVtYmVycyI6IHsidXNlcjpleGFtcGxlLXVzZXJAZ21haWwuY29tIn0sCiAgICAgICAgfQogICAgKQogICAgYnVja2V0LnNldF9pYW1fcG9saWN5KHBvbGljeSkKICAgIHByaW50KGYiSUFNIHBvbGljeSBzZXQgZm9yIGJ1Y2tldCB7YnVja2V0X25hbWV9LiIpCgpzZXRfYnVja2V0X2lhbV9wb2xpY3koJ215LW5ldy1idWNrZXQnKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def set_bucket_iam_policy(bucket_name):
    &quot;&quot;&quot;Sets an IAM policy on a bucket.&quot;&quot;&quot;
    storage_client = storage.Client()
    bucket = storage_client.bucket(bucket_name)
    policy = bucket.get_iam_policy()
    policy[&quot;bindings&quot;].append(
        {
            &quot;role&quot;: &quot;roles/storage.objectViewer&quot;,
            &quot;members&quot;: {&quot;user:example-user@gmail.com&quot;},
        }
    )
    bucket.set_iam_policy(policy)
    print(f&quot;IAM policy set for bucket {bucket_name}.&quot;)

set_bucket_iam_policy('my-new-bucket')</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>Retrieve the current IAM policy using <code>get_iam_policy</code> method.</li>
<li>Append a new binding to grant read-only access to a specific user.</li>
<li>Apply the updated policy using <code>set_iam_policy</code> method.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Google Cloud Storage provides a robust and flexible solution for storing and managing data in the cloud. By understanding the key concepts, setting up buckets, managing objects, utilizing different storage classes, and implementing security measures, you can effectively leverage Google Cloud Storage for a wide range of applications. Whether you're a beginner or an advanced user, mastering these skills will enable you to build scalable and secure cloud-based solutions.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-security-basics'>&#x25C4;Cloud Security Basics</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud Storage on Google Cloud Platform (GCP)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cloud-sql'>Cloud SQL &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
