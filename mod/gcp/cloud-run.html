<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Run</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/cloud-run" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/cloud-run" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/cloud-run" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/gcp/cloud-run" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/gcp/cloud-run" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-functions'>&#x25C4;Cloud Functions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud Run</a>
	</div>
	<div class='col-4 text-end'>
					<a href='vpc-networks'>VPC Networks &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Cloud Run</h1>
<div class='content'><p>Cloud Run is a fully managed compute platform that automatically scales your stateless containers. It abstracts away all infrastructure management, allowing you to focus on writing code.</p>
<ul>
<li><strong>Fully Managed</strong>: No need to manage servers or clusters.</li>
<li><strong>Scalable</strong>: Automatically scales up and down based on traffic.</li>
<li><strong>Stateless Containers</strong>: Runs any stateless container.</li>
</ul>
</div><h1>Setting Up Cloud Run</h1>
<div class='content'><p>Before deploying to Cloud Run, you need to set up your Google Cloud Platform (GCP) environment.</p>
<ol>
<li>
<p><strong>Create a GCP Project</strong>:</p>
<ul>
<li>Go to the <a href="https://console.cloud.google.com/">GCP Console</a>.</li>
<li>Click on the project dropdown and select &quot;New Project&quot;.</li>
<li>Name your project and click &quot;Create&quot;.</li>
</ul>
</li>
<li>
<p><strong>Enable Billing</strong>:</p>
<ul>
<li>Go to the Billing section in the GCP Console.</li>
<li>Link a billing account to your project.</li>
</ul>
</li>
<li>
<p><strong>Enable Cloud Run API</strong>:</p>
<ul>
<li>Navigate to the API &amp; Services section.</li>
<li>Search for &quot;Cloud Run&quot; and enable the API.</li>
</ul>
</li>
<li>
<p><strong>Install Google Cloud SDK</strong>:</p>
<ul>
<li>Follow the installation instructions for your operating system from the <a href="https://cloud.google.com/sdk/docs/install">Google Cloud SDK documentation</a>.</li>
</ul>
</li>
</ol>
</div><h1>Deploying a Container to Cloud Run</h1>
<h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Write Your Application</strong>:</p>
<ul>
<li>Create a simple web server using your preferred language. Here’s an example in Python using Flask:</li>
</ul>
<pre><code class="language-python"># app.py
from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello():
    return &quot;Hello, World!&quot;

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8080)
</code></pre>
</li>
<li>
<p><strong>Create a Dockerfile</strong>:</p>
<ul>
<li>Dockerfile is used to containerize your application.</li>
</ul>
<pre><code class="language-dockerfile"># Dockerfile
FROM python:3.8-slim

WORKDIR /app

COPY requirements.txt requirements.txt
RUN pip install -r requirements.txt

COPY . .

CMD [&quot;python&quot;, &quot;app.py&quot;]
</code></pre>
</li>
<li>
<p><strong>Build and Push the Container Image</strong>:</p>
<ul>
<li>Use Google Container Registry (GCR) to store your container images.</li>
</ul>
<pre><code class="language-sh"># Build the Docker image
docker build -t gcr.io/[PROJECT-ID]/[IMAGE-NAME]:[TAG] .

# Push the Docker image to GCR
docker push gcr.io/[PROJECT-ID]/[IMAGE-NAME]:[TAG]
</code></pre>
</li>
<li>
<p><strong>Deploy to Cloud Run</strong>:</p>
<ul>
<li>Use the <code>gcloud</code> command-line tool to deploy your container.</li>
</ul>
<pre><code class="language-sh">gcloud run deploy --image gcr.io/[PROJECT-ID]/[IMAGE-NAME]:[TAG] --platform managed
</code></pre>
<ul>
<li>Follow the prompts to specify the service name and region.</li>
</ul>
</li>
</ol>
</div><h1>Advanced Features of Cloud Run</h1>
<h2>Custom Domains</h2>
<div class='content'><ul>
<li><strong>Mapping Custom Domains</strong>: You can map custom domains to your Cloud Run services.
<ul>
<li>Go to the Cloud Run service details page.</li>
<li>Click on &quot;Manage custom domains&quot; and follow the instructions.</li>
</ul>
</li>
</ul>
</div><h2>Traffic Management</h2>
<div class='content'><ul>
<li><strong>Splitting Traffic</strong>: You can split traffic between different revisions of your service.
<ul>
<li>Navigate to the Cloud Run service details page.</li>
<li>Click on &quot;Manage traffic&quot; and allocate percentages to different revisions.</li>
</ul>
</li>
</ul>
</div><h2>Authentication and Authorization</h2>
<div class='content'><ul>
<li><strong>IAM Roles</strong>: Control who can deploy and invoke your services using IAM roles.
<ul>
<li>Assign roles like <code>roles/run.admin</code> and <code>roles/run.invoker</code> to users or service accounts.</li>
</ul>
</li>
</ul>
</div><h1>Monitoring and Logging</h1>
<div class='content'><ul>
<li><strong>Cloud Monitoring</strong>: Use Cloud Monitoring to track the performance of your services.
<ul>
<li>Set up custom dashboards and alerts.</li>
</ul>
</li>
<li><strong>Cloud Logging</strong>: Automatically collects logs from your services.
<ul>
<li>View logs in the Cloud Logging section of the GCP Console.</li>
</ul>
</li>
</ul>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Stateless Services</strong>: Ensure your services are stateless for better scalability.</li>
<li><strong>Environment Variables</strong>: Use environment variables to manage configuration.</li>
<li><strong>Health Checks</strong>: Implement health checks to ensure your service is running properly.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Cloud Run simplifies the deployment and management of containerized applications by abstracting away the underlying infrastructure. It offers powerful features like automatic scaling, custom domains, traffic management, and robust monitoring and logging. By following best practices and leveraging these features, you can efficiently deploy and manage your applications on GCP.</p>
<p>By the end of this topic, you should have a solid understanding of how to set up, deploy, and manage applications using Cloud Run on Google Cloud Platform.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-functions'>&#x25C4;Cloud Functions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud Run</a>
	</div>
	<div class='col-4 text-end'>
					<a href='vpc-networks'>VPC Networks &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
