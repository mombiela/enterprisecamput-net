<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Deployment Manager</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/cloud-deployment-manager" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/cloud-deployment-manager" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/cloud-deployment-manager" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/gcp/cloud-deployment-manager" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/gcp/cloud-deployment-manager" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-source-repositories'>&#x25C4;Cloud Source Repositories</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud Deployment Manager</a>
	</div>
	<div class='col-4 text-end'>
					<a href='stackdriver-monitoring'>Stackdriver Monitoring &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Cloud Deployment Manager</h1>
<div class='content'><p>Google Cloud Deployment Manager is an infrastructure management service that automates the creation and management of Google Cloud resources. It allows you to define all the resources needed for your application in a declarative format using YAML, Python, or Jinja2 templates.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Templates</strong>: Define the resources and their properties.</li>
<li><strong>Configurations</strong>: Specify the resources to be deployed and their configurations.</li>
<li><strong>Deployments</strong>: A collection of resources created and managed together.</li>
</ul>
</div><h1>Getting Started with Cloud Deployment Manager</h1>
<div class='content'></div><h2>Setting Up Your Environment</h2>
<div class='content'><ol>
<li><strong>Install Google Cloud SDK</strong>: Ensure you have the Google Cloud SDK installed.</li>
<li><strong>Authenticate</strong>: Use <code>gcloud auth login</code> to authenticate your account.</li>
<li><strong>Set Project</strong>: Set your active project using <code>gcloud config set project [PROJECT_ID]</code>.</li>
</ol>
</div><h2>Creating Your First Deployment</h2>
<div class='content'><p>Let's create a simple deployment that includes a Google Compute Engine instance.</p>
<h4>Step 1: Create a Configuration File</h4>
<p>Create a file named <code>vm.yaml</code> with the following content:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IG15LXZtCiAgdHlwZTogY29tcHV0ZS52MS5pbnN0YW5jZQogIHByb3BlcnRpZXM6CiAgICB6b25lOiB1cy1jZW50cmFsMS1hCiAgICBtYWNoaW5lVHlwZTogem9uZXMvdXMtY2VudHJhbDEtYS9tYWNoaW5lVHlwZXMvbjEtc3RhbmRhcmQtMQogICAgZGlza3M6CiAgICAtIGRldmljZU5hbWU6IGJvb3QKICAgICAgdHlwZTogUEVSU0lTVEVOVAogICAgICBib290OiB0cnVlCiAgICAgIGF1dG9EZWxldGU6IHRydWUKICAgICAgaW5pdGlhbGl6ZVBhcmFtczoKICAgICAgICBzb3VyY2VJbWFnZTogcHJvamVjdHMvZGViaWFuLWNsb3VkL2dsb2JhbC9pbWFnZXMvZmFtaWx5L2RlYmlhbi05CiAgICBuZXR3b3JrSW50ZXJmYWNlczoKICAgIC0gbmV0d29yazogZ2xvYmFsL25ldHdvcmtzL2RlZmF1bHQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: my-vm
  type: compute.v1.instance
  properties:
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    disks:
    - deviceName: boot
      type: PERSISTENT
      boot: true
      autoDelete: true
      initializeParams:
        sourceImage: projects/debian-cloud/global/images/family/debian-9
    networkInterfaces:
    - network: global/networks/default</pre></div><div class='content'><h4>Step 2: Deploy the Configuration</h4>
<p>Use the following command to deploy the configuration:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBjcmVhdGUgbXktZmlyc3QtZGVwbG95bWVudCAtLWNvbmZpZyB2bS55YW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments create my-first-deployment --config vm.yaml</pre></div><div class='content'></div><h2>Verifying the Deployment</h2>
<div class='content'><p>To verify the deployment, use:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBkZXNjcmliZSBteS1maXJzdC1kZXBsb3ltZW50"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments describe my-first-deployment</pre></div><div class='content'></div><h1>Intermediate Concepts</h1>
<div class='content'></div><h2>Using Templates</h2>
<div class='content'><p>Templates allow you to reuse and parameterize your configurations.</p>
<h4>Creating a Template</h4>
<p>Create a file named <code>vm-template.jinja</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbInZtTmFtZSJdIH19CiAgdHlwZTogY29tcHV0ZS52MS5pbnN0YW5jZQogIHByb3BlcnRpZXM6CiAgICB6b25lOiB7eyBwcm9wZXJ0aWVzWyJ6b25lIl0gfX0KICAgIG1hY2hpbmVUeXBlOiB7eyBwcm9wZXJ0aWVzWyJtYWNoaW5lVHlwZSJdIH19CiAgICBkaXNrczoKICAgIC0gZGV2aWNlTmFtZTogYm9vdAogICAgICB0eXBlOiBQRVJTSVNURU5UCiAgICAgIGJvb3Q6IHRydWUKICAgICAgYXV0b0RlbGV0ZTogdHJ1ZQogICAgICBpbml0aWFsaXplUGFyYW1zOgogICAgICAgIHNvdXJjZUltYWdlOiB7eyBwcm9wZXJ0aWVzWyJzb3VyY2VJbWFnZSJdIH19CiAgICBuZXR3b3JrSW50ZXJmYWNlczoKICAgIC0gbmV0d29yazogZ2xvYmFsL25ldHdvcmtzL2RlZmF1bHQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;vmName&quot;] }}
  type: compute.v1.instance
  properties:
    zone: {{ properties[&quot;zone&quot;] }}
    machineType: {{ properties[&quot;machineType&quot;] }}
    disks:
    - deviceName: boot
      type: PERSISTENT
      boot: true
      autoDelete: true
      initializeParams:
        sourceImage: {{ properties[&quot;sourceImage&quot;] }}
    networkInterfaces:
    - network: global/networks/default</pre></div><div class='content'><h4>Using the Template in a Configuration</h4>
<p>Create a file named <code>vm-config.yaml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0czoKLSBwYXRoOiB2bS10ZW1wbGF0ZS5qaW5qYQoKcmVzb3VyY2VzOgotIG5hbWU6IG15LXZtLWZyb20tdGVtcGxhdGUKICB0eXBlOiB2bS10ZW1wbGF0ZS5qaW5qYQogIHByb3BlcnRpZXM6CiAgICB2bU5hbWU6IG15LXZtCiAgICB6b25lOiB1cy1jZW50cmFsMS1hCiAgICBtYWNoaW5lVHlwZTogem9uZXMvdXMtY2VudHJhbDEtYS9tYWNoaW5lVHlwZXMvbjEtc3RhbmRhcmQtMQogICAgc291cmNlSW1hZ2U6IHByb2plY3RzL2RlYmlhbi1jbG91ZC9nbG9iYWwvaW1hZ2VzL2ZhbWlseS9kZWJpYW4tOQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>imports:
- path: vm-template.jinja

resources:
- name: my-vm-from-template
  type: vm-template.jinja
  properties:
    vmName: my-vm
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    sourceImage: projects/debian-cloud/global/images/family/debian-9</pre></div><div class='content'><p>Deploy the configuration:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBjcmVhdGUgbXktdGVtcGxhdGUtZGVwbG95bWVudCAtLWNvbmZpZyB2bS1jb25maWcueWFtbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments create my-template-deployment --config vm-config.yaml</pre></div><div class='content'></div><h1>Advanced Topics</h1>
<div class='content'></div><h2>Managing Complex Deployments</h2>
<div class='content'><p>For more complex deployments, you can use multiple templates and configurations.</p>
<h4>Example: Multi-Tier Application</h4>
<p>Create a network, a firewall rule, and two VM instances (one for the web server and one for the database).</p>
<ol>
<li><strong>Network Template (<code>network-template.jinja</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbIm5ldHdvcmtOYW1lIl0gfX0KICB0eXBlOiBjb21wdXRlLnYxLm5ldHdvcmsKICBwcm9wZXJ0aWVzOgogICAgYXV0b0NyZWF0ZVN1Ym5ldHdvcmtzOiB0cnVl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;networkName&quot;] }}
  type: compute.v1.network
  properties:
    autoCreateSubnetworks: true</pre></div><div class='content'><ol start="2">
<li><strong>Firewall Template (<code>firewall-template.jinja</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbImZpcmV3YWxsTmFtZSJdIH19CiAgdHlwZTogY29tcHV0ZS52MS5maXJld2FsbAogIHByb3BlcnRpZXM6CiAgICBuZXR3b3JrOiBnbG9iYWwvbmV0d29ya3Mve3sgcHJvcGVydGllc1sibmV0d29ya05hbWUiXSB9fQogICAgYWxsb3dlZDoKICAgIC0gSVBQcm90b2NvbDogdGNwCiAgICAgIHBvcnRzOgogICAgICAtIDgw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;firewallName&quot;] }}
  type: compute.v1.firewall
  properties:
    network: global/networks/{{ properties[&quot;networkName&quot;] }}
    allowed:
    - IPProtocol: tcp
      ports:
      - 80</pre></div><div class='content'><ol start="3">
<li><strong>VM Template (<code>vm-template.jinja</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbInZtTmFtZSJdIH19CiAgdHlwZTogY29tcHV0ZS52MS5pbnN0YW5jZQogIHByb3BlcnRpZXM6CiAgICB6b25lOiB7eyBwcm9wZXJ0aWVzWyJ6b25lIl0gfX0KICAgIG1hY2hpbmVUeXBlOiB7eyBwcm9wZXJ0aWVzWyJtYWNoaW5lVHlwZSJdIH19CiAgICBkaXNrczoKICAgIC0gZGV2aWNlTmFtZTogYm9vdAogICAgICB0eXBlOiBQRVJTSVNURU5UCiAgICAgIGJvb3Q6IHRydWUKICAgICAgYXV0b0RlbGV0ZTogdHJ1ZQogICAgICBpbml0aWFsaXplUGFyYW1zOgogICAgICAgIHNvdXJjZUltYWdlOiB7eyBwcm9wZXJ0aWVzWyJzb3VyY2VJbWFnZSJdIH19CiAgICBuZXR3b3JrSW50ZXJmYWNlczoKICAgIC0gbmV0d29yazogZ2xvYmFsL25ldHdvcmtzL3t7IHByb3BlcnRpZXNbIm5ldHdvcmtOYW1lIl0gfX0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;vmName&quot;] }}
  type: compute.v1.instance
  properties:
    zone: {{ properties[&quot;zone&quot;] }}
    machineType: {{ properties[&quot;machineType&quot;] }}
    disks:
    - deviceName: boot
      type: PERSISTENT
      boot: true
      autoDelete: true
      initializeParams:
        sourceImage: {{ properties[&quot;sourceImage&quot;] }}
    networkInterfaces:
    - network: global/networks/{{ properties[&quot;networkName&quot;] }}</pre></div><div class='content'><ol start="4">
<li><strong>Configuration File (<code>multi-tier-config.yaml</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0czoKLSBwYXRoOiBuZXR3b3JrLXRlbXBsYXRlLmppbmphCi0gcGF0aDogZmlyZXdhbGwtdGVtcGxhdGUuamluamEKLSBwYXRoOiB2bS10ZW1wbGF0ZS5qaW5qYQoKcmVzb3VyY2VzOgotIG5hbWU6IG15LW5ldHdvcmsKICB0eXBlOiBuZXR3b3JrLXRlbXBsYXRlLmppbmphCiAgcHJvcGVydGllczoKICAgIG5ldHdvcmtOYW1lOiBteS1uZXR3b3JrCgotIG5hbWU6IG15LWZpcmV3YWxsCiAgdHlwZTogZmlyZXdhbGwtdGVtcGxhdGUuamluamEKICBwcm9wZXJ0aWVzOgogICAgZmlyZXdhbGxOYW1lOiBteS1maXJld2FsbAogICAgbmV0d29ya05hbWU6IG15LW5ldHdvcmsKCi0gbmFtZTogd2ViLXNlcnZlcgogIHR5cGU6IHZtLXRlbXBsYXRlLmppbmphCiAgcHJvcGVydGllczoKICAgIHZtTmFtZTogd2ViLXNlcnZlcgogICAgem9uZTogdXMtY2VudHJhbDEtYQogICAgbWFjaGluZVR5cGU6IHpvbmVzL3VzLWNlbnRyYWwxLWEvbWFjaGluZVR5cGVzL24xLXN0YW5kYXJkLTEKICAgIHNvdXJjZUltYWdlOiBwcm9qZWN0cy9kZWJpYW4tY2xvdWQvZ2xvYmFsL2ltYWdlcy9mYW1pbHkvZGViaWFuLTkKICAgIG5ldHdvcmtOYW1lOiBteS1uZXR3b3JrCgotIG5hbWU6IGRiLXNlcnZlcgogIHR5cGU6IHZtLXRlbXBsYXRlLmppbmphCiAgcHJvcGVydGllczoKICAgIHZtTmFtZTogZGItc2VydmVyCiAgICB6b25lOiB1cy1jZW50cmFsMS1hCiAgICBtYWNoaW5lVHlwZTogem9uZXMvdXMtY2VudHJhbDEtYS9tYWNoaW5lVHlwZXMvbjEtc3RhbmRhcmQtMQogICAgc291cmNlSW1hZ2U6IHByb2plY3RzL2RlYmlhbi1jbG91ZC9nbG9iYWwvaW1hZ2VzL2ZhbWlseS9kZWJpYW4tOQogICAgbmV0d29ya05hbWU6IG15LW5ldHdvcms="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>imports:
- path: network-template.jinja
- path: firewall-template.jinja
- path: vm-template.jinja

resources:
- name: my-network
  type: network-template.jinja
  properties:
    networkName: my-network

- name: my-firewall
  type: firewall-template.jinja
  properties:
    firewallName: my-firewall
    networkName: my-network

- name: web-server
  type: vm-template.jinja
  properties:
    vmName: web-server
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    sourceImage: projects/debian-cloud/global/images/family/debian-9
    networkName: my-network

- name: db-server
  type: vm-template.jinja
  properties:
    vmName: db-server
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    sourceImage: projects/debian-cloud/global/images/family/debian-9
    networkName: my-network</pre></div><div class='content'><p>Deploy the configuration:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBjcmVhdGUgbXVsdGktdGllci1kZXBsb3ltZW50IC0tY29uZmlnIG11bHRpLXRpZXItY29uZmlnLnlhbWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments create multi-tier-deployment --config multi-tier-config.yaml</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Google Cloud Deployment Manager is a powerful tool for managing your cloud infrastructure in a declarative manner. By using templates and configurations, you can automate the deployment of complex applications, ensuring consistency and reducing the potential for human error. As you become more familiar with Deployment Manager, you can leverage its full capabilities to manage large-scale deployments efficiently.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-source-repositories'>&#x25C4;Cloud Source Repositories</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud Deployment Manager</a>
	</div>
	<div class='col-4 text-end'>
					<a href='stackdriver-monitoring'>Stackdriver Monitoring &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
