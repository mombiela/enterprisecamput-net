<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stackdriver Logging</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/stackdriver-logging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/stackdriver-logging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/stackdriver-logging" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/gcp/stackdriver-logging" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/gcp/stackdriver-logging" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='stackdriver-monitoring'>&#x25C4;Stackdriver Monitoring</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Stackdriver Logging</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cloud-trace-debugger'>Cloud Trace and Debugger &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Stackdriver Logging</h1>
<div class='content'><p>Stackdriver Logging, now known as Google Cloud Logging, is a fully managed service that allows you to store, search, analyze, monitor, and alert on log data and events from Google Cloud Platform (GCP) and Amazon Web Services (AWS). This section will introduce you to the basics of Stackdriver Logging and its importance in cloud environments.</p>
<ul>
<li><strong>Key Concepts:</strong>
<ul>
<li><strong>Log Entries:</strong> Individual records of events.</li>
<li><strong>Log Sinks:</strong> Mechanisms to export logs to other services.</li>
<li><strong>Log-based Metrics:</strong> Metrics derived from log data.</li>
<li><strong>Log Views:</strong> Filters to control which logs are visible.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Stackdriver Logging</h1>
<div class='content'><p>Before you can start using Stackdriver Logging, you need to set it up in your GCP project.</p>
</div><h2>Enabling the Logging API</h2>
<div class='content'><p>To use Stackdriver Logging, you need to enable the Logging API in your GCP project.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIHNlcnZpY2VzIGVuYWJsZSBsb2dnaW5nLmdvb2dsZWFwaXMuY29t"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud services enable logging.googleapis.com</pre></div><div class='content'></div><h2>Creating a Service Account</h2>
<div class='content'><p>A service account is required to interact with Stackdriver Logging programmatically.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGlhbSBzZXJ2aWNlLWFjY291bnRzIGNyZWF0ZSBsb2dnaW5nLXNhIC0tZGlzcGxheS1uYW1lICJMb2dnaW5nIFNlcnZpY2UgQWNjb3VudCI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud iam service-accounts create logging-sa --display-name &quot;Logging Service Account&quot;</pre></div><div class='content'></div><h2>Assigning Roles</h2>
<div class='content'><p>Assign the necessary roles to the service account to allow it to write logs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIHByb2plY3RzIGFkZC1pYW0tcG9saWN5LWJpbmRpbmcgW1BST0pFQ1RfSURdIFwKICAgIC0tbWVtYmVyICJzZXJ2aWNlQWNjb3VudDpsb2dnaW5nLXNhQFtQUk9KRUNUX0lEXS5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIgXAogICAgLS1yb2xlICJyb2xlcy9sb2dnaW5nLmxvZ1dyaXRlciI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud projects add-iam-policy-binding [PROJECT_ID] \
    --member &quot;serviceAccount:logging-sa@[PROJECT_ID].iam.gserviceaccount.com&quot; \
    --role &quot;roles/logging.logWriter&quot;</pre></div><div class='content'></div><h1>Writing Logs</h1>
<div class='content'><p>You can write logs to Stackdriver Logging using various methods, including the GCP Console, the <code>gcloud</code> command-line tool, and client libraries.</p>
</div><h2>Writing Logs Using the GCP Console</h2>
<div class='content'><ol>
<li>Navigate to the Logging section in the GCP Console.</li>
<li>Select the appropriate log type and resource.</li>
<li>Write a log entry and submit it.</li>
</ol>
</div><h2>Writing Logs Using the `gcloud` Command-Line Tool</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgd3JpdGUgbXktbG9nICJIZWxsbywgU3RhY2tkcml2ZXIgTG9nZ2luZyEi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging write my-log &quot;Hello, Stackdriver Logging!&quot;</pre></div><div class='content'></div><h2>Writing Logs Using Client Libraries</h2>
<div class='content'><p>Here is an example of writing logs using the Python client library:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBnb29nbGUuY2xvdWQgaW1wb3J0IGxvZ2dpbmcKCmNsaWVudCA9IGxvZ2dpbmcuQ2xpZW50KCkKbG9nZ2VyID0gY2xpZW50LmxvZ2dlcigibXktbG9nIikKCmxvZ2dlci5sb2dfdGV4dCgiSGVsbG8sIFN0YWNrZHJpdmVyIExvZ2dpbmchIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from google.cloud import logging

client = logging.Client()
logger = client.logger(&quot;my-log&quot;)

logger.log_text(&quot;Hello, Stackdriver Logging!&quot;)</pre></div><div class='content'></div><h1>Viewing and Analyzing Logs</h1>
<div class='content'><p>Once logs are written, you can view and analyze them using the GCP Console or the <code>gcloud</code> command-line tool.</p>
</div><h2>Viewing Logs in the GCP Console</h2>
<div class='content'><ol>
<li>Navigate to the Logging section in the GCP Console.</li>
<li>Use the Logs Viewer to filter and search logs.</li>
</ol>
</div><h2>Viewing Logs Using the `gcloud` Command-Line Tool</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgcmVhZCAibG9nTmFtZT1wcm9qZWN0cy9bUFJPSkVDVF9JRF0vbG9ncy9teS1sb2ci"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging read &quot;logName=projects/[PROJECT_ID]/logs/my-log&quot;</pre></div><div class='content'></div><h1>Exporting Logs</h1>
<div class='content'><p>You can export logs to other GCP services like BigQuery, Cloud Storage, or Pub/Sub for further analysis and long-term storage.</p>
</div><h2>Creating a Log Sink</h2>
<div class='content'><ol>
<li>Navigate to the Logging section in the GCP Console.</li>
<li>Go to the &quot;Exports&quot; tab and create a new sink.</li>
<li>Choose the destination (BigQuery, Cloud Storage, or Pub/Sub).</li>
</ol>
</div><h2>Example: Exporting Logs to BigQuery</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgc2lua3MgY3JlYXRlIG15LXNpbmsgYmlncXVlcnkuZ29vZ2xlYXBpcy5jb20vcHJvamVjdHMvW1BST0pFQ1RfSURdL2RhdGFzZXRzL1tEQVRBU0VUX0lEXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging sinks create my-sink bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET_ID]</pre></div><div class='content'></div><h1>Creating Log-based Metrics</h1>
<div class='content'><p>Log-based metrics allow you to create custom metrics based on log data, which can be used for monitoring and alerting.</p>
</div><h2>Creating a Log-based Metric</h2>
<div class='content'><ol>
<li>Navigate to the Logging section in the GCP Console.</li>
<li>Go to the &quot;Metrics&quot; tab and create a new metric.</li>
<li>Define the filter and metric type.</li>
</ol>
</div><h2>Example: Creating a Log-based Metric Using `gcloud`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgbWV0cmljcyBjcmVhdGUgbXktbWV0cmljIFwKICAgIC0tZGVzY3JpcHRpb249IkEgY3VzdG9tIG1ldHJpYyBiYXNlZCBvbiBsb2cgZGF0YSIgXAogICAgLS1sb2ctZmlsdGVyPSJsb2dOYW1lPXByb2plY3RzL1tQUk9KRUNUX0lEXS9sb2dzL215LWxvZyI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging metrics create my-metric \
    --description=&quot;A custom metric based on log data&quot; \
    --log-filter=&quot;logName=projects/[PROJECT_ID]/logs/my-log&quot;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Stackdriver Logging is a powerful tool for managing and analyzing log data in GCP. By understanding how to set up, write, view, export, and create metrics from logs, you can effectively monitor and troubleshoot your applications and infrastructure. Whether you are a beginner or an advanced user, mastering Stackdriver Logging will significantly enhance your ability to manage cloud resources efficiently.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='stackdriver-monitoring'>&#x25C4;Stackdriver Monitoring</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Stackdriver Logging</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cloud-trace-debugger'>Cloud Trace and Debugger &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
