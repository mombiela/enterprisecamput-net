<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud CDN</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/cloud-cdn" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/cloud-cdn" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/cloud-cdn" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/gcp/cloud-cdn" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/gcp/cloud-cdn" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-load-balancing'>&#x25C4;Cloud Load Balancing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud CDN</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cloud-dns'>Cloud DNS &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Cloud CDN</h1>
<div class='content'><p>Cloud CDN (Content Delivery Network) is a service provided by Google Cloud Platform (GCP) that accelerates content delivery by caching content at strategically located edge points of presence (PoPs) around the world. This reduces latency and improves the user experience by serving content from locations closer to the user.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Edge Caching</strong>: Storing copies of content at various locations to reduce latency.</li>
<li><strong>PoPs (Points of Presence)</strong>: Locations where content is cached.</li>
<li><strong>Origin Server</strong>: The server where the original content is hosted.</li>
<li><strong>Cache Hit</strong>: When requested content is found in the cache.</li>
<li><strong>Cache Miss</strong>: When requested content is not found in the cache and must be fetched from the origin server.</li>
</ul>
</div><h1>Setting Up Cloud CDN</h1>
<h2>Prerequisites</h2>
<div class='content'><ul>
<li>A GCP account.</li>
<li>A configured HTTP(S) load balancer.</li>
</ul>
</div><h2>Steps to Enable Cloud CDN</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Load Balancer</strong>:</p>
<ul>
<li>Navigate to the GCP Console.</li>
<li>Go to the &quot;Load balancing&quot; section.</li>
<li>Click on &quot;Create load balancer&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configure the Backend Service</strong>:</p>
<ul>
<li>Select the backend service that you want to use with Cloud CDN.</li>
<li>Enable the &quot;Cloud CDN&quot; option.</li>
</ul>
</li>
<li>
<p><strong>Configure URL Map and Frontend</strong>:</p>
<ul>
<li>Set up URL maps to route incoming requests.</li>
<li>Configure the frontend to handle HTTP(S) traffic.</li>
</ul>
</li>
<li>
<p><strong>Deploy and Test</strong>:</p>
<ul>
<li>Deploy the load balancer.</li>
<li>Test the setup by accessing the content through the load balancer's IP address or domain.</li>
</ul>
</li>
</ol>
</div><h2>Example: Enabling Cloud CDN</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyBjcmVhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tcHJvdG9jb2wgSFRUUCBcCiAgICAtLXBvcnQtbmFtZSBodHRwIFwKICAgIC0taGVhbHRoLWNoZWNrcyBteS1oZWFsdGgtY2hlY2sgXAogICAgLS1nbG9iYWwKCmdjbG91ZCBjb21wdXRlIGJhY2tlbmQtc2VydmljZXMgYWRkLWJhY2tlbmQgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0taW5zdGFuY2UtZ3JvdXAgbXktaW5zdGFuY2UtZ3JvdXAgXAogICAgLS1pbnN0YW5jZS1ncm91cC16b25lIHVzLWNlbnRyYWwxLWEgXAogICAgLS1nbG9iYWwKCmdjbG91ZCBjb21wdXRlIGJhY2tlbmQtc2VydmljZXMgdXBkYXRlIG15LWJhY2tlbmQtc2VydmljZSBcCiAgICAtLWVuYWJsZS1jZG4gXAogICAgLS1nbG9iYWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services create my-backend-service \
    --protocol HTTP \
    --port-name http \
    --health-checks my-health-check \
    --global

gcloud compute backend-services add-backend my-backend-service \
    --instance-group my-instance-group \
    --instance-group-zone us-central1-a \
    --global

gcloud compute backend-services update my-backend-service \
    --enable-cdn \
    --global</pre></div><div class='content'></div><h1>Advanced Configuration</h1>
<h2>Cache Invalidation</h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: To remove outdated or incorrect content from the cache.</li>
<li><strong>Methods</strong>:
<ul>
<li><strong>Manual Invalidation</strong>: Using the GCP Console or <code>gcloud</code> command.</li>
<li><strong>Programmatic Invalidation</strong>: Using the Cloud CDN API.</li>
</ul>
</li>
</ul>
<h4>Example: Manual Invalidation</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgdXJsLW1hcHMgaW52YWxpZGF0ZS1jZG4tY2FjaGUgbXktdXJsLW1hcCBcCiAgICAtLXBhdGggIi8qIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute url-maps invalidate-cdn-cache my-url-map \
    --path &quot;/*&quot;</pre></div><div class='content'></div><h2>Cache Key Policies</h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: To control how Cloud CDN caches content.</li>
<li><strong>Components</strong>:
<ul>
<li><strong>Include/Exclude Query Strings</strong>: Determine if query strings should be part of the cache key.</li>
<li><strong>Include/Exclude Headers</strong>: Specify which headers should be included in the cache key.</li>
</ul>
</li>
</ul>
<h4>Example: Configuring Cache Key Policy</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tY2FjaGUta2V5LXBvbGljeSBpbmNsdWRlSG9zdD10cnVlLGluY2x1ZGVQcm90b2NvbD10cnVlLGluY2x1ZGVRdWVyeVN0cmluZz10cnVlIFwKICAgIC0tZ2xvYmFs"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --cache-key-policy includeHost=true,includeProtocol=true,includeQueryString=true \
    --global</pre></div><div class='content'></div><h2>Custom Response Headers</h2>
<div class='content'><ul>
<li><strong>Purpose</strong>: To add custom headers to responses served from Cloud CDN.</li>
<li><strong>Use Cases</strong>: Adding security headers, custom metadata, etc.</li>
</ul>
<h4>Example: Adding Custom Headers</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tY3VzdG9tLXJlc3BvbnNlLWhlYWRlciAiWC1DdXN0b20tSGVhZGVyOiBteS12YWx1ZSIgXAogICAgLS1nbG9iYWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --custom-response-header &quot;X-Custom-Header: my-value&quot; \
    --global</pre></div><div class='content'></div><h1>Monitoring and Logging</h1>
<h2>Monitoring</h2>
<div class='content'><ul>
<li><strong>Stackdriver Monitoring</strong>: Use Stackdriver to monitor Cloud CDN metrics such as cache hit ratio, latency, etc.</li>
</ul>
</div><h2>Logging</h2>
<div class='content'><ul>
<li><strong>Cloud Logging</strong>: Enable logging to capture detailed information about requests served by Cloud CDN.</li>
</ul>
<h4>Example: Enabling Logging</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tZW5hYmxlLWxvZ2dpbmcgXAogICAgLS1nbG9iYWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --enable-logging \
    --global</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Cloud CDN is a powerful tool for improving the performance and scalability of your web applications by caching content closer to users. By understanding the basics of setting up and configuring Cloud CDN, as well as advanced features like cache invalidation and custom headers, you can optimize content delivery and enhance user experience. Monitoring and logging capabilities further ensure that you can maintain and troubleshoot your CDN setup effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='cloud-load-balancing'>&#x25C4;Cloud Load Balancing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cloud CDN</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cloud-dns'>Cloud DNS &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
