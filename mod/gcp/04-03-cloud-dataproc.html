<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Dataproc</title>

    <link rel="alternate" href="https://campusempresa.com/mod/gcp/04-03-cloud-dataproc" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/gcp/04-03-cloud-dataproc" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/gcp/04-03-cloud-dataproc" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/gcp/04-03-cloud-dataproc" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/gcp/04-03-cloud-dataproc" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-cloud-dataflow' title="Cloud Dataflow">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Cloud Dataproc</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-cloud-pubsub' title="Cloud Pub/Sub">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction to Cloud Dataproc</p>
</h1>
<div class='content'><p>Cloud Dataproc is a fast, easy-to-use, fully managed cloud service for running Apache Spark and Apache Hadoop clusters. It allows you to process large datasets quickly and efficiently by leveraging the power of Google Cloud Platform (GCP).</p>
</div><h2><p>Key Concepts</p>
</h2>
<div class='content'><ol>
<li><strong>Clusters</strong>: A collection of virtual machines (VMs) that run Hadoop and Spark jobs.</li>
<li><strong>Jobs</strong>: Tasks that you submit to the cluster for processing.</li>
<li><strong>Workflow Templates</strong>: Predefined workflows that automate the process of running jobs on clusters.</li>
<li><strong>Autoscaling</strong>: Automatically adjusts the number of worker nodes in a cluster based on the workload.</li>
</ol>
</div><h2><p>Benefits of Cloud Dataproc</p>
</h2>
<div class='content'><ul>
<li><strong>Speed</strong>: Quickly create and manage clusters.</li>
<li><strong>Cost-Effective</strong>: Pay only for what you use.</li>
<li><strong>Scalability</strong>: Easily scale your clusters up or down.</li>
<li><strong>Integration</strong>: Seamlessly integrates with other GCP services like BigQuery, Cloud Storage, and more.</li>
</ul>
</div><h1><p>Setting Up Cloud Dataproc</p>
</h1>
<div class='content'></div><h2><p>Step 1: Create a GCP Project</p>
</h2>
<div class='content'><ol>
<li>Go to the <a href="https://console.cloud.google.com/">GCP Console</a>.</li>
<li>Click on the project drop-down and select &quot;New Project&quot;.</li>
<li>Enter a project name and click &quot;Create&quot;.</li>
</ol>
</div><h2><p>Step 2: Enable the Cloud Dataproc API</p>
</h2>
<div class='content'><ol>
<li>In the GCP Console, navigate to the &quot;APIs &amp; Services&quot; &gt; &quot;Library&quot;.</li>
<li>Search for &quot;Cloud Dataproc API&quot;.</li>
<li>Click &quot;Enable&quot;.</li>
</ol>
</div><h2><p>Step 3: Create a Cloud Dataproc Cluster</p>
</h2>
<div class='content'><ol>
<li>In the GCP Console, navigate to &quot;Dataproc&quot; &gt; &quot;Clusters&quot;.</li>
<li>Click &quot;Create Cluster&quot;.</li>
<li>Configure the cluster settings:
<ul>
<li><strong>Cluster Name</strong>: Enter a name for your cluster.</li>
<li><strong>Region</strong>: Select a region close to your data.</li>
<li><strong>Zone</strong>: Select a zone within the region.</li>
<li><strong>Cluster Mode</strong>: Choose &quot;Standard&quot; for a multi-node cluster or &quot;Single Node&quot; for a single-node cluster.</li>
</ul>
</li>
<li>Click &quot;Create&quot;.</li>
</ol>
</div><h1><p>Running a Job on Cloud Dataproc</p>
</h1>
<div class='content'></div><h2><p>Example: Running a Spark Job</p>
</h2>
<div class='content'><ol>
<li><strong>Upload Your Data</strong>: Upload your data to a GCP Cloud Storage bucket.</li>
<li><strong>Submit a Job</strong>:
<pre><code class="language-bash">gcloud dataproc jobs submit spark <br>       --cluster=&lt;CLUSTER_NAME&gt; <br>       --region=&lt;REGION&gt; <br>       --class=org.apache.spark.examples.SparkPi <br>       --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar <br>       -- 1000
</code></pre>
<ul>
<li>Replace <code>&lt;CLUSTER_NAME&gt;</code> with the name of your cluster.</li>
<li>Replace <code>&lt;REGION&gt;</code> with the region of your cluster.</li>
</ul>
</li>
</ol>
</div><h2><p>Monitoring Your Job</p>
</h2>
<div class='content'><ol>
<li>In the GCP Console, navigate to &quot;Dataproc&quot; &gt; &quot;Jobs&quot;.</li>
<li>Click on the job you submitted to view its details and logs.</li>
</ol>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create and Run a Hadoop Job</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Cluster</strong>:</p>
<ul>
<li>Follow the steps in &quot;Setting Up Cloud Dataproc&quot; to create a new cluster.</li>
</ul>
</li>
<li>
<p><strong>Upload Data</strong>:</p>
<ul>
<li>Upload a sample dataset to a Cloud Storage bucket.</li>
</ul>
</li>
<li>
<p><strong>Submit a Hadoop Job</strong>:</p>
<pre><code class="language-bash">gcloud dataproc jobs submit hadoop <br>       --cluster=&lt;CLUSTER_NAME&gt; <br>       --region=&lt;REGION&gt; <br>       --jar=file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar <br>       -- wordcount gs://&lt;BUCKET_NAME&gt;/&lt;INPUT_FILE&gt; gs://&lt;BUCKET_NAME&gt;/&lt;OUTPUT_DIR&gt;
</code></pre>
<ul>
<li>Replace <code>&lt;CLUSTER_NAME&gt;</code> with the name of your cluster.</li>
<li>Replace <code>&lt;REGION&gt;</code> with the region of your cluster.</li>
<li>Replace <code>&lt;BUCKET_NAME&gt;</code> with the name of your Cloud Storage bucket.</li>
<li>Replace <code>&lt;INPUT_FILE&gt;</code> with the path to your input file.</li>
<li>Replace <code>&lt;OUTPUT_DIR&gt;</code> with the path to your output directory.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Cluster</strong>:</p>
<ul>
<li>Follow the steps provided in the &quot;Setting Up Cloud Dataproc&quot; section.</li>
</ul>
</li>
<li>
<p><strong>Upload Data</strong>:</p>
<ul>
<li>Use the GCP Console or <code>gsutil</code> command to upload your data:
<pre><code class="language-bash">gsutil cp local-file.txt gs://your-bucket-name/input-file.txt
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Submit a Hadoop Job</strong>:</p>
<pre><code class="language-bash">gcloud dataproc jobs submit hadoop <br>       --cluster=my-cluster <br>       --region=us-central1 <br>       --jar=file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar <br>       -- wordcount gs://my-bucket/input-file.txt gs://my-bucket/output-dir
</code></pre>
</li>
</ol>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Cluster Configuration</strong>: Ensure that your cluster is properly configured with the necessary resources (CPU, memory) to handle your job.</li>
<li><strong>Data Location</strong>: Make sure your data is in the same region as your cluster to minimize latency and costs.</li>
<li><strong>Job Submission</strong>: Double-check the syntax and parameters when submitting jobs to avoid errors.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned about Cloud Dataproc, its key concepts, and how to set up and run jobs on a Dataproc cluster. You also completed a practical exercise to reinforce your understanding. In the next module, we will explore other data and analytics services offered by GCP, such as BigQuery and Cloud Dataflow.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-cloud-dataflow' title="Cloud Dataflow">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-cloud-pubsub' title="Cloud Pub/Sub">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
