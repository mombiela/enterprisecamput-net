<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Integrating with Web Services</title>

    <link rel="alternate" href="https://campusempresa.com/mod/delphi/07-05-integrating-web-services" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/delphi/07-05-integrating-web-services" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/delphi/07-05-integrating-web-services" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/delphi/07-05-integrating-web-services" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/delphi/07-05-integrating-web-services" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Building today's and tomorrow's society</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Languages</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Tools</a>
				 					<a href="/categ/foundations">Foundations</a>
				 					<a href="/categ/soft-skills">Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-deploying-mobile-applications' title="Deploying Mobile Applications">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Integrating with Web Services</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-01-code-organization-documentation' title="Code Organization and Documentation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to integrate Delphi applications with web services. Web services allow applications to communicate with each other over the internet, enabling functionalities such as data exchange, remote procedure calls, and more. We will cover the following topics:</p>
<ol>
<li><strong>Introduction to Web Services</strong></li>
<li><strong>SOAP vs. RESTful Web Services</strong></li>
<li><strong>Consuming RESTful Web Services in Delphi</strong></li>
<li><strong>Consuming SOAP Web Services in Delphi</strong></li>
<li><strong>Practical Examples and Exercises</strong></li>
</ol>
</div><h1><ol>
<li>Introduction to Web Services</li>
</ol>
</h1>
<div class='content'><p>Web services are standardized ways of integrating web-based applications using open standards over an internet protocol backbone. There are two main types of web services:</p>
<ul>
<li><strong>SOAP (Simple Object Access Protocol):</strong> A protocol for exchanging structured information in the implementation of web services.</li>
<li><strong>REST (Representational State Transfer):</strong> An architectural style that uses standard HTTP methods and is more lightweight compared to SOAP.</li>
</ul>
</div><h1><ol start="2">
<li>SOAP vs. RESTful Web Services</li>
</ol>
</h1>
<div class='content'><table>
<thead>
<tr>
<th>Feature</th>
<th>SOAP</th>
<th>RESTful</th>
</tr>
</thead>
<tbody>
<tr>
<td>Protocol</td>
<td>Uses XML-based protocol</td>
<td>Uses standard HTTP methods (GET, POST, etc.)</td>
</tr>
<tr>
<td>Message Format</td>
<td>XML</td>
<td>JSON, XML, or other formats</td>
</tr>
<tr>
<td>Complexity</td>
<td>More complex</td>
<td>Simpler and more lightweight</td>
</tr>
<tr>
<td>Performance</td>
<td>Slower due to XML parsing</td>
<td>Faster due to lightweight nature</td>
</tr>
<tr>
<td>Security</td>
<td>Built-in security features (WS-Security)</td>
<td>Relies on HTTPS for security</td>
</tr>
<tr>
<td>Statefulness</td>
<td>Stateless or stateful</td>
<td>Stateless</td>
</tr>
</tbody>
</table>
</div><h1><ol start="3">
<li>Consuming RESTful Web Services in Delphi</li>
</ol>
</h1>
<div class='content'></div><h2><p>Example: Fetching Data from a RESTful API</p>
</h2>
<div class='content'><p>Let's create a simple Delphi application that fetches data from a RESTful API.</p>
<ol>
<li>
<p><strong>Set up the project:</strong></p>
<ul>
<li>Create a new VCL Forms Application in Delphi.</li>
<li>Add a <code>TButton</code>, <code>TEdit</code>, and <code>TMemo</code> to the form.</li>
</ul>
</li>
<li>
<p><strong>Add the necessary units:</strong></p>
<pre><code class="language-pascal">uses
  System.SysUtils, System.Classes, Vcl.Controls, Vcl.Forms, Vcl.StdCtrls, 
  System.JSON, REST.Client, Data.Bind.Components, Data.Bind.ObjectScope;
</code></pre>
</li>
<li>
<p><strong>Design the form:</strong></p>
<ul>
<li>Set the <code>Caption</code> of the button to &quot;Fetch Data&quot;.</li>
<li>Set the <code>Text</code> of the edit box to the URL of the RESTful API.</li>
<li>Set the <code>Lines</code> property of the memo to display the fetched data.</li>
</ul>
</li>
<li>
<p><strong>Write the code to fetch data:</strong></p>
<pre><code class="language-pascal">procedure TForm1.Button1Click(Sender: TObject);
var
  RESTClient: TRESTClient;
  RESTRequest: TRESTRequest;
  RESTResponse: TRESTResponse;
begin
  RESTClient := TRESTClient.Create(Edit1.Text);
  RESTRequest := TRESTRequest.Create(nil);
  RESTResponse := TRESTResponse.Create(nil);

  try
    RESTRequest.Client := RESTClient;
    RESTRequest.Response := RESTResponse;
    RESTRequest.Execute;

    Memo1.Lines.Text := RESTResponse.Content;
  finally
    RESTClient.Free;
    RESTRequest.Free;
    RESTResponse.Free;
  end;
end;
</code></pre>
</li>
</ol>
</div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>TRESTClient:</strong> Represents the client that connects to the RESTful service.</li>
<li><strong>TRESTRequest:</strong> Represents the request sent to the RESTful service.</li>
<li><strong>TRESTResponse:</strong> Represents the response received from the RESTful service.</li>
</ul>
</div><h1><ol start="4">
<li>Consuming SOAP Web Services in Delphi</li>
</ol>
</h1>
<div class='content'></div><h2><p>Example: Consuming a SOAP Web Service</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Set up the project:</strong></p>
<ul>
<li>Create a new VCL Forms Application in Delphi.</li>
<li>Add a <code>TButton</code>, <code>TEdit</code>, and <code>TMemo</code> to the form.</li>
</ul>
</li>
<li>
<p><strong>Add the necessary units:</strong></p>
<pre><code class="language-pascal">uses
  System.SysUtils, System.Classes, Vcl.Controls, Vcl.Forms, Vcl.StdCtrls, 
  Soap.InvokeRegistry, Soap.Rio, Soap.SOAPHTTPClient;
</code></pre>
</li>
<li>
<p><strong>Design the form:</strong></p>
<ul>
<li>Set the <code>Caption</code> of the button to &quot;Call SOAP Service&quot;.</li>
<li>Set the <code>Text</code> of the edit box to the URL of the SOAP service.</li>
<li>Set the <code>Lines</code> property of the memo to display the response.</li>
</ul>
</li>
<li>
<p><strong>Write the code to call the SOAP service:</strong></p>
<pre><code class="language-pascal">procedure TForm1.Button1Click(Sender: TObject);
var
  HTTPRIO: THTTPRIO;
  Service: IMySOAPService;
  Response: string;
begin
  HTTPRIO := THTTPRIO.Create(nil);
  try
    HTTPRIO.URL := Edit1.Text;
    Service := HTTPRIO as IMySOAPService;
    Response := Service.MySOAPMethod;
    Memo1.Lines.Text := Response;
  finally
    HTTPRIO.Free;
  end;
end;
</code></pre>
</li>
</ol>
</div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>THTTPRIO:</strong> Represents the HTTP client for SOAP services.</li>
<li><strong>IMySOAPService:</strong> Interface representing the SOAP service.</li>
<li><strong>MySOAPMethod:</strong> Method provided by the SOAP service.</li>
</ul>
</div><h1><ol start="5">
<li>Practical Examples and Exercises</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercise 1: Fetch Data from a Public REST API</p>
</h2>
<div class='content'><ol>
<li>Create a new Delphi application.</li>
<li>Use the <code>TRESTClient</code>, <code>TRESTRequest</code>, and <code>TRESTResponse</code> components to fetch data from a public REST API (e.g., https://jsonplaceholder.typicode.com/posts).</li>
<li>Display the fetched data in a <code>TMemo</code>.</li>
</ol>
</div><h2><p>Solution:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRGb3JtMS5CdXR0b24xQ2xpY2soU2VuZGVyOiBUT2JqZWN0KTsKdmFyCiAgUkVTVENsaWVudDogVFJFU1RDbGllbnQ7CiAgUkVTVFJlcXVlc3Q6IFRSRVNUUmVxdWVzdDsKICBSRVNUUmVzcG9uc2U6IFRSRVNUUmVzcG9uc2U7CmJlZ2luCiAgUkVTVENsaWVudCA6PSBUUkVTVENsaWVudC5DcmVhdGUoJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycpOwogIFJFU1RSZXF1ZXN0IDo9IFRSRVNUUmVxdWVzdC5DcmVhdGUobmlsKTsKICBSRVNUUmVzcG9uc2UgOj0gVFJFU1RSZXNwb25zZS5DcmVhdGUobmlsKTsKCiAgdHJ5CiAgICBSRVNUUmVxdWVzdC5DbGllbnQgOj0gUkVTVENsaWVudDsKICAgIFJFU1RSZXF1ZXN0LlJlc3BvbnNlIDo9IFJFU1RSZXNwb25zZTsKICAgIFJFU1RSZXF1ZXN0LkV4ZWN1dGU7CgogICAgTWVtbzEuTGluZXMuVGV4dCA6PSBSRVNUUmVzcG9uc2UuQ29udGVudDsKICBmaW5hbGx5CiAgICBSRVNUQ2xpZW50LkZyZWU7CiAgICBSRVNUUmVxdWVzdC5GcmVlOwogICAgUkVTVFJlc3BvbnNlLkZyZWU7CiAgZW5kOwplbmQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TForm1.Button1Click(Sender: TObject);
var
  RESTClient: TRESTClient;
  RESTRequest: TRESTRequest;
  RESTResponse: TRESTResponse;
begin
  RESTClient := TRESTClient.Create('https://jsonplaceholder.typicode.com/posts');
  RESTRequest := TRESTRequest.Create(nil);
  RESTResponse := TRESTResponse.Create(nil);

  try
    RESTRequest.Client := RESTClient;
    RESTRequest.Response := RESTResponse;
    RESTRequest.Execute;

    Memo1.Lines.Text := RESTResponse.Content;
  finally
    RESTClient.Free;
    RESTRequest.Free;
    RESTResponse.Free;
  end;
end;</pre></div><div class='content'></div><h2><p>Exercise 2: Call a SOAP Web Service</p>
</h2>
<div class='content'><ol>
<li>Create a new Delphi application.</li>
<li>Use the <code>THTTPRIO</code> component to call a SOAP web service (e.g., a weather service).</li>
<li>Display the response in a <code>TMemo</code>.</li>
</ol>
</div><h2><p>Solution:</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIFRGb3JtMS5CdXR0b24xQ2xpY2soU2VuZGVyOiBUT2JqZWN0KTsKdmFyCiAgSFRUUFJJTzogVEhUVFBSSU87CiAgU2VydmljZTogSVdlYXRoZXJTZXJ2aWNlOwogIFJlc3BvbnNlOiBzdHJpbmc7CmJlZ2luCiAgSFRUUFJJTyA6PSBUSFRUUFJJTy5DcmVhdGUobmlsKTsKICB0cnkKICAgIEhUVFBSSU8uVVJMIDo9ICdodHRwOi8vd3d3LndlYnNlcnZpY2V4Lm5ldC9nbG9iYWx3ZWF0aGVyLmFzbXg/V1NETCc7CiAgICBTZXJ2aWNlIDo9IEhUVFBSSU8gYXMgSVdlYXRoZXJTZXJ2aWNlOwogICAgUmVzcG9uc2UgOj0gU2VydmljZS5HZXRXZWF0aGVyKCdOZXcgWW9yaycsICdVbml0ZWQgU3RhdGVzJyk7CiAgICBNZW1vMS5MaW5lcy5UZXh0IDo9IFJlc3BvbnNlOwogIGZpbmFsbHkKICAgIEhUVFBSSU8uRnJlZTsKICBlbmQ7CmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure TForm1.Button1Click(Sender: TObject);
var
  HTTPRIO: THTTPRIO;
  Service: IWeatherService;
  Response: string;
begin
  HTTPRIO := THTTPRIO.Create(nil);
  try
    HTTPRIO.URL := 'http://www.webservicex.net/globalweather.asmx?WSDL';
    Service := HTTPRIO as IWeatherService;
    Response := Service.GetWeather('New York', 'United States');
    Memo1.Lines.Text := Response;
  finally
    HTTPRIO.Free;
  end;
end;</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we have learned how to integrate Delphi applications with web services. We covered the differences between SOAP and RESTful web services, and provided practical examples of consuming both types of services in Delphi. By completing the exercises, you should now be comfortable with fetching data from RESTful APIs and calling SOAP web services. This knowledge will be essential for developing modern Delphi applications that interact with various web services.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-deploying-mobile-applications' title="Deploying Mobile Applications">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-01-code-organization-documentation' title="Code Organization and Documentation">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
