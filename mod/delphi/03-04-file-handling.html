<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/delphi/03-04-file-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/delphi/03-04-file-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/delphi/03-04-file-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/delphi/03-04-file-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/delphi/03-04-file-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-enumerated-subrange-types' title="Enumerated and Subrange Types">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File Handling</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-05-database-access' title="Database Access">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to handle files in Delphi/Object Pascal. File handling is a crucial aspect of programming, allowing you to read from and write to files, which is essential for data storage and retrieval.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>File Types</strong>: Understanding different file types in Delphi.</li>
<li><strong>File Operations</strong>: Basic operations such as opening, reading, writing, and closing files.</li>
<li><strong>Text Files</strong>: Handling text files specifically.</li>
<li><strong>Binary Files</strong>: Handling binary files.</li>
<li><strong>File Management</strong>: Managing file paths, checking file existence, and deleting files.</li>
</ol>
</div><h1>File Types</h1>
<div class='content'><p>Delphi supports several file types, but the most common are:</p>
<ul>
<li><strong>Text Files</strong>: Used for reading and writing text.</li>
<li><strong>Binary Files</strong>: Used for reading and writing binary data.</li>
</ul>
</div><h1>Basic File Operations</h1>
<div class='content'></div><h2>Opening a File</h2>
<div class='content'><p>To open a file, you need to declare a file variable and associate it with a physical file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBUZXh0RmlsZTsKYmVnaW4KICBBc3NpZ25GaWxlKE15RmlsZSwgJ2V4YW1wbGUudHh0Jyk7CiAgUmVzZXQoTXlGaWxlKTsgLy8gT3BlbiB0aGUgZmlsZSBmb3IgcmVhZGluZwogIC8vIG9yCiAgUmV3cml0ZShNeUZpbGUpOyAvLyBPcGVuIHRoZSBmaWxlIGZvciB3cml0aW5nCmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: TextFile;
begin
  AssignFile(MyFile, 'example.txt');
  Reset(MyFile); // Open the file for reading
  // or
  Rewrite(MyFile); // Open the file for writing
end;</pre></div><div class='content'></div><h2>Reading from a File</h2>
<div class='content'><p>To read from a text file, you can use the <code>ReadLn</code> procedure.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBUZXh0RmlsZTsKICBMaW5lOiBzdHJpbmc7CmJlZ2luCiAgQXNzaWduRmlsZShNeUZpbGUsICdleGFtcGxlLnR4dCcpOwogIFJlc2V0KE15RmlsZSk7CiAgd2hpbGUgbm90IEVvZihNeUZpbGUpIGRvCiAgYmVnaW4KICAgIFJlYWRMbihNeUZpbGUsIExpbmUpOwogICAgV3JpdGVMbihMaW5lKTsgLy8gT3V0cHV0IHRoZSBsaW5lIHRvIHRoZSBjb25zb2xlCiAgZW5kOwogIENsb3NlRmlsZShNeUZpbGUpOwplbmQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: TextFile;
  Line: string;
begin
  AssignFile(MyFile, 'example.txt');
  Reset(MyFile);
  while not Eof(MyFile) do
  begin
    ReadLn(MyFile, Line);
    WriteLn(Line); // Output the line to the console
  end;
  CloseFile(MyFile);
end;</pre></div><div class='content'></div><h2>Writing to a File</h2>
<div class='content'><p>To write to a text file, you can use the <code>WriteLn</code> procedure.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBUZXh0RmlsZTsKYmVnaW4KICBBc3NpZ25GaWxlKE15RmlsZSwgJ2V4YW1wbGUudHh0Jyk7CiAgUmV3cml0ZShNeUZpbGUpOwogIFdyaXRlTG4oTXlGaWxlLCAnSGVsbG8sIFdvcmxkIScpOwogIENsb3NlRmlsZShNeUZpbGUpOwplbmQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: TextFile;
begin
  AssignFile(MyFile, 'example.txt');
  Rewrite(MyFile);
  WriteLn(MyFile, 'Hello, World!');
  CloseFile(MyFile);
end;</pre></div><div class='content'></div><h2>Closing a File</h2>
<div class='content'><p>Always close a file after you are done with it to free up system resources.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q2xvc2VGaWxlKE15RmlsZSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CloseFile(MyFile);</pre></div><div class='content'></div><h1>Handling Text Files</h1>
<div class='content'><p>Text files are the most straightforward to handle. Here is a complete example of reading from and writing to a text file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBUZXh0RmlsZTsKICBMaW5lOiBzdHJpbmc7CmJlZ2luCiAgLy8gV3JpdGluZyB0byBhIGZpbGUKICBBc3NpZ25GaWxlKE15RmlsZSwgJ2V4YW1wbGUudHh0Jyk7CiAgUmV3cml0ZShNeUZpbGUpOwogIFdyaXRlTG4oTXlGaWxlLCAnSGVsbG8sIFdvcmxkIScpOwogIFdyaXRlTG4oTXlGaWxlLCAnVGhpcyBpcyBhIHRleHQgZmlsZS4nKTsKICBDbG9zZUZpbGUoTXlGaWxlKTsKCiAgLy8gUmVhZGluZyBmcm9tIGEgZmlsZQogIEFzc2lnbkZpbGUoTXlGaWxlLCAnZXhhbXBsZS50eHQnKTsKICBSZXNldChNeUZpbGUpOwogIHdoaWxlIG5vdCBFb2YoTXlGaWxlKSBkbwogIGJlZ2luCiAgICBSZWFkTG4oTXlGaWxlLCBMaW5lKTsKICAgIFdyaXRlTG4oTGluZSk7CiAgZW5kOwogIENsb3NlRmlsZShNeUZpbGUpOwplbmQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: TextFile;
  Line: string;
begin
  // Writing to a file
  AssignFile(MyFile, 'example.txt');
  Rewrite(MyFile);
  WriteLn(MyFile, 'Hello, World!');
  WriteLn(MyFile, 'This is a text file.');
  CloseFile(MyFile);

  // Reading from a file
  AssignFile(MyFile, 'example.txt');
  Reset(MyFile);
  while not Eof(MyFile) do
  begin
    ReadLn(MyFile, Line);
    WriteLn(Line);
  end;
  CloseFile(MyFile);
end;</pre></div><div class='content'></div><h1>Handling Binary Files</h1>
<div class='content'><p>Binary files are used for storing data in binary format. Here is an example of writing and reading integers to/from a binary file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBGaWxlIG9mIEludGVnZXI7CiAgTnVtYmVyOiBJbnRlZ2VyOwpiZWdpbgogIC8vIFdyaXRpbmcgdG8gYSBiaW5hcnkgZmlsZQogIEFzc2lnbkZpbGUoTXlGaWxlLCAnZXhhbXBsZS5kYXQnKTsKICBSZXdyaXRlKE15RmlsZSk7CiAgZm9yIE51bWJlciA6PSAxIHRvIDEwIGRvCiAgICBXcml0ZShNeUZpbGUsIE51bWJlcik7CiAgQ2xvc2VGaWxlKE15RmlsZSk7CgogIC8vIFJlYWRpbmcgZnJvbSBhIGJpbmFyeSBmaWxlCiAgQXNzaWduRmlsZShNeUZpbGUsICdleGFtcGxlLmRhdCcpOwogIFJlc2V0KE15RmlsZSk7CiAgd2hpbGUgbm90IEVvZihNeUZpbGUpIGRvCiAgYmVnaW4KICAgIFJlYWQoTXlGaWxlLCBOdW1iZXIpOwogICAgV3JpdGVMbihOdW1iZXIpOwogIGVuZDsKICBDbG9zZUZpbGUoTXlGaWxlKTsKZW5kOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: File of Integer;
  Number: Integer;
begin
  // Writing to a binary file
  AssignFile(MyFile, 'example.dat');
  Rewrite(MyFile);
  for Number := 1 to 10 do
    Write(MyFile, Number);
  CloseFile(MyFile);

  // Reading from a binary file
  AssignFile(MyFile, 'example.dat');
  Reset(MyFile);
  while not Eof(MyFile) do
  begin
    Read(MyFile, Number);
    WriteLn(Number);
  end;
  CloseFile(MyFile);
end;</pre></div><div class='content'></div><h1>File Management</h1>
<div class='content'></div><h2>Checking File Existence</h2>
<div class='content'><p>You can check if a file exists using the <code>FileExists</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgRmlsZUV4aXN0cygnZXhhbXBsZS50eHQnKSB0aGVuCiAgV3JpdGVMbignRmlsZSBleGlzdHMnKQplbHNlCiAgV3JpdGVMbignRmlsZSBkb2VzIG5vdCBleGlzdCcpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if FileExists('example.txt') then
  WriteLn('File exists')
else
  WriteLn('File does not exist');</pre></div><div class='content'></div><h2>Deleting a File</h2>
<div class='content'><p>To delete a file, use the <code>DeleteFile</code> function.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgRGVsZXRlRmlsZSgnZXhhbXBsZS50eHQnKSB0aGVuCiAgV3JpdGVMbignRmlsZSBkZWxldGVkIHN1Y2Nlc3NmdWxseScpCmVsc2UKICBXcml0ZUxuKCdGYWlsZWQgdG8gZGVsZXRlIGZpbGUnKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if DeleteFile('example.txt') then
  WriteLn('File deleted successfully')
else
  WriteLn('Failed to delete file');</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Write and Read Text File</h2>
<div class='content'><p><strong>Task</strong>: Write a program that writes a list of names to a text file and then reads and displays them.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBUZXh0RmlsZTsKICBOYW1lczogYXJyYXlbMS4uM10gb2Ygc3RyaW5nID0gKCdBbGljZScsICdCb2InLCAnQ2hhcmxpZScpOwogIExpbmU6IHN0cmluZzsKICBpOiBJbnRlZ2VyOwpiZWdpbgogIC8vIFdyaXRpbmcgdG8gYSBmaWxlCiAgQXNzaWduRmlsZShNeUZpbGUsICduYW1lcy50eHQnKTsKICBSZXdyaXRlKE15RmlsZSk7CiAgZm9yIGkgOj0gMSB0byAzIGRvCiAgICBXcml0ZUxuKE15RmlsZSwgTmFtZXNbaV0pOwogIENsb3NlRmlsZShNeUZpbGUpOwoKICAvLyBSZWFkaW5nIGZyb20gYSBmaWxlCiAgQXNzaWduRmlsZShNeUZpbGUsICduYW1lcy50eHQnKTsKICBSZXNldChNeUZpbGUpOwogIHdoaWxlIG5vdCBFb2YoTXlGaWxlKSBkbwogIGJlZ2luCiAgICBSZWFkTG4oTXlGaWxlLCBMaW5lKTsKICAgIFdyaXRlTG4oTGluZSk7CiAgZW5kOwogIENsb3NlRmlsZShNeUZpbGUpOwplbmQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: TextFile;
  Names: array[1..3] of string = ('Alice', 'Bob', 'Charlie');
  Line: string;
  i: Integer;
begin
  // Writing to a file
  AssignFile(MyFile, 'names.txt');
  Rewrite(MyFile);
  for i := 1 to 3 do
    WriteLn(MyFile, Names[i]);
  CloseFile(MyFile);

  // Reading from a file
  AssignFile(MyFile, 'names.txt');
  Reset(MyFile);
  while not Eof(MyFile) do
  begin
    ReadLn(MyFile, Line);
    WriteLn(Line);
  end;
  CloseFile(MyFile);
end;</pre></div><div class='content'></div><h2>Exercise 2: Write and Read Binary File</h2>
<div class='content'><p><strong>Task</strong>: Write a program that writes an array of integers to a binary file and then reads and displays them.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyCiAgTXlGaWxlOiBGaWxlIG9mIEludGVnZXI7CiAgTnVtYmVyczogYXJyYXlbMS4uNV0gb2YgSW50ZWdlciA9ICgxMCwgMjAsIDMwLCA0MCwgNTApOwogIE51bWJlcjogSW50ZWdlcjsKICBpOiBJbnRlZ2VyOwpiZWdpbgogIC8vIFdyaXRpbmcgdG8gYSBiaW5hcnkgZmlsZQogIEFzc2lnbkZpbGUoTXlGaWxlLCAnbnVtYmVycy5kYXQnKTsKICBSZXdyaXRlKE15RmlsZSk7CiAgZm9yIGkgOj0gMSB0byA1IGRvCiAgICBXcml0ZShNeUZpbGUsIE51bWJlcnNbaV0pOwogIENsb3NlRmlsZShNeUZpbGUpOwoKICAvLyBSZWFkaW5nIGZyb20gYSBiaW5hcnkgZmlsZQogIEFzc2lnbkZpbGUoTXlGaWxlLCAnbnVtYmVycy5kYXQnKTsKICBSZXNldChNeUZpbGUpOwogIHdoaWxlIG5vdCBFb2YoTXlGaWxlKSBkbwogIGJlZ2luCiAgICBSZWFkKE15RmlsZSwgTnVtYmVyKTsKICAgIFdyaXRlTG4oTnVtYmVyKTsKICBlbmQ7CiAgQ2xvc2VGaWxlKE15RmlsZSk7CmVuZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var
  MyFile: File of Integer;
  Numbers: array[1..5] of Integer = (10, 20, 30, 40, 50);
  Number: Integer;
  i: Integer;
begin
  // Writing to a binary file
  AssignFile(MyFile, 'numbers.dat');
  Rewrite(MyFile);
  for i := 1 to 5 do
    Write(MyFile, Numbers[i]);
  CloseFile(MyFile);

  // Reading from a binary file
  AssignFile(MyFile, 'numbers.dat');
  Reset(MyFile);
  while not Eof(MyFile) do
  begin
    Read(MyFile, Number);
    WriteLn(Number);
  end;
  CloseFile(MyFile);
end;</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to Close Files</strong>: Always ensure you close files after operations to avoid memory leaks and file corruption.</li>
<li><strong>File Path Issues</strong>: Use absolute paths or ensure the working directory is correct when dealing with file paths.</li>
<li><strong>Error Handling</strong>: Implement error handling to manage file access issues, such as missing files or permission errors.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of file handling in Delphi/Object Pascal, including how to open, read, write, and close both text and binary files. We also discussed file management techniques such as checking for file existence and deleting files. By practicing the provided exercises, you should now have a solid understanding of file handling in Delphi.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-03-enumerated-subrange-types' title="Enumerated and Subrange Types">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-05-database-access' title="Database Access">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
