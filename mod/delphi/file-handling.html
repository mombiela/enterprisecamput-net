<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Handling in Delphi/Object Pascal</title>

    <link rel="alternate" href="https://campusempresa.com/mod/delphi/file-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/delphi/file-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/delphi/file-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/delphi/file-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/delphi/file-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='interfaces'>&#x25C4;Interfaces</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File Handling in Delphi/Object Pascal</a>
	</div>
	<div class='col-4 text-end'>
					<a href='database-access-with-delphi'>Database Access with Delphi &#x25BA;</a>
			</div>
</div>
<div class='content'><p>File handling is an essential skill for any programmer, as it allows you to read from and write to files, enabling data persistence and manipulation. This topic will guide you through the basics to advanced concepts of file handling in Delphi/Object Pascal.</p>
</div><h1>Introduction to File Handling</h1>
<div class='content'><p>File handling in Delphi involves using various classes and procedures to create, read, write, and manipulate files. Delphi provides a rich set of functions and classes in the <code>System.SysUtils</code> and <code>System.Classes</code> units to work with files.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>File Types</strong>: Text files, binary files.</li>
<li><strong>File Operations</strong>: Creating, opening, reading, writing, closing, and deleting files.</li>
<li><strong>File Modes</strong>: Read, write, append.</li>
</ul>
</div><h1>Basic File Operations</h1>
<div class='content'></div><h2>Creating and Writing to a Text File</h2>
<div class='content'><p>To create and write to a text file, you can use the <code>TextFile</code> type and associated procedures.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBXcml0ZVRvRmlsZTsKCnVzZXMKICBTeXNVdGlsczsKCnZhcgogIE15RmlsZTogVGV4dEZpbGU7CiAgVGV4dDogc3RyaW5nOwpiZWdpbgogIEFzc2lnbkZpbGUoTXlGaWxlLCAnZXhhbXBsZS50eHQnKTsKICBSZXdyaXRlKE15RmlsZSk7ICAvLyBDcmVhdGUgdGhlIGZpbGUgZm9yIHdyaXRpbmcKICAKICBUZXh0IDo9ICdIZWxsbywgRGVscGhpISc7CiAgV3JpdGVsbihNeUZpbGUsIFRleHQpOyAgLy8gV3JpdGUgdGV4dCB0byB0aGUgZmlsZQogIAogIENsb3NlRmlsZShNeUZpbGUpOyAgLy8gQ2xvc2UgdGhlIGZpbGUKZW5kLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program WriteToFile;

uses
  SysUtils;

var
  MyFile: TextFile;
  Text: string;
begin
  AssignFile(MyFile, 'example.txt');
  Rewrite(MyFile);  // Create the file for writing
  
  Text := 'Hello, Delphi!';
  Writeln(MyFile, Text);  // Write text to the file
  
  CloseFile(MyFile);  // Close the file
end.</pre></div><div class='content'></div><h2>Reading from a Text File</h2>
<div class='content'><p>Reading from a text file involves opening the file in read mode and using <code>Readln</code> to read lines.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBSZWFkRnJvbUZpbGU7Cgp1c2VzCiAgU3lzVXRpbHM7Cgp2YXIKICBNeUZpbGU6IFRleHRGaWxlOwogIFRleHQ6IHN0cmluZzsKYmVnaW4KICBBc3NpZ25GaWxlKE15RmlsZSwgJ2V4YW1wbGUudHh0Jyk7CiAgUmVzZXQoTXlGaWxlKTsgIC8vIE9wZW4gdGhlIGZpbGUgZm9yIHJlYWRpbmcKICAKICB3aGlsZSBub3QgRW9mKE15RmlsZSkgZG8KICBiZWdpbgogICAgUmVhZGxuKE15RmlsZSwgVGV4dCk7ICAvLyBSZWFkIGEgbGluZSBmcm9tIHRoZSBmaWxlCiAgICBXcml0ZWxuKFRleHQpOyAgLy8gT3V0cHV0IHRoZSBsaW5lIHRvIHRoZSBjb25zb2xlCiAgZW5kOwogIAogIENsb3NlRmlsZShNeUZpbGUpOyAgLy8gQ2xvc2UgdGhlIGZpbGUKZW5kLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program ReadFromFile;

uses
  SysUtils;

var
  MyFile: TextFile;
  Text: string;
begin
  AssignFile(MyFile, 'example.txt');
  Reset(MyFile);  // Open the file for reading
  
  while not Eof(MyFile) do
  begin
    Readln(MyFile, Text);  // Read a line from the file
    Writeln(Text);  // Output the line to the console
  end;
  
  CloseFile(MyFile);  // Close the file
end.</pre></div><div class='content'></div><h1>Advanced File Handling</h1>
<div class='content'></div><h2>Using TFileStream for Binary Files</h2>
<div class='content'><p>For more advanced file operations, such as handling binary files, you can use the <code>TFileStream</code> class.</p>
<h4>Writing to a Binary File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBXcml0ZUJpbmFyeUZpbGU7Cgp1c2VzCiAgU3lzVXRpbHMsIENsYXNzZXM7Cgp2YXIKICBGaWxlU3RyZWFtOiBURmlsZVN0cmVhbTsKICBEYXRhOiBhcnJheVsxLi41XSBvZiBCeXRlOwogIEk6IEludGVnZXI7CmJlZ2luCiAgRmlsZVN0cmVhbSA6PSBURmlsZVN0cmVhbS5DcmVhdGUoJ2JpbmFyeS5kYXQnLCBmbUNyZWF0ZSk7CiAgdHJ5CiAgICBmb3IgSSA6PSAxIHRvIDUgZG8KICAgICAgRGF0YVtJXSA6PSBJICogMTA7ICAvLyBJbml0aWFsaXplIGRhdGEgYXJyYXkKICAgIAogICAgRmlsZVN0cmVhbS5Xcml0ZUJ1ZmZlcihEYXRhLCBTaXplT2YoRGF0YSkpOyAgLy8gV3JpdGUgZGF0YSB0byB0aGUgZmlsZQogIGZpbmFsbHkKICAgIEZpbGVTdHJlYW0uRnJlZTsKICBlbmQ7CmVuZC4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program WriteBinaryFile;

uses
  SysUtils, Classes;

var
  FileStream: TFileStream;
  Data: array[1..5] of Byte;
  I: Integer;
begin
  FileStream := TFileStream.Create('binary.dat', fmCreate);
  try
    for I := 1 to 5 do
      Data[I] := I * 10;  // Initialize data array
    
    FileStream.WriteBuffer(Data, SizeOf(Data));  // Write data to the file
  finally
    FileStream.Free;
  end;
end.</pre></div><div class='content'><h4>Reading from a Binary File</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBSZWFkQmluYXJ5RmlsZTsKCnVzZXMKICBTeXNVdGlscywgQ2xhc3NlczsKCnZhcgogIEZpbGVTdHJlYW06IFRGaWxlU3RyZWFtOwogIERhdGE6IGFycmF5WzEuLjVdIG9mIEJ5dGU7CiAgSTogSW50ZWdlcjsKYmVnaW4KICBGaWxlU3RyZWFtIDo9IFRGaWxlU3RyZWFtLkNyZWF0ZSgnYmluYXJ5LmRhdCcsIGZtT3BlblJlYWQpOwogIHRyeQogICAgRmlsZVN0cmVhbS5SZWFkQnVmZmVyKERhdGEsIFNpemVPZihEYXRhKSk7ICAvLyBSZWFkIGRhdGEgZnJvbSB0aGUgZmlsZQogICAgCiAgICBmb3IgSSA6PSAxIHRvIDUgZG8KICAgICAgV3JpdGVsbignRGF0YVsnLCBJLCAnXSA9ICcsIERhdGFbSV0pOyAgLy8gT3V0cHV0IHRoZSBkYXRhCiAgZmluYWxseQogICAgRmlsZVN0cmVhbS5GcmVlOwogIGVuZDsKZW5kLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program ReadBinaryFile;

uses
  SysUtils, Classes;

var
  FileStream: TFileStream;
  Data: array[1..5] of Byte;
  I: Integer;
begin
  FileStream := TFileStream.Create('binary.dat', fmOpenRead);
  try
    FileStream.ReadBuffer(Data, SizeOf(Data));  // Read data from the file
    
    for I := 1 to 5 do
      Writeln('Data[', I, '] = ', Data[I]);  // Output the data
  finally
    FileStream.Free;
  end;
end.</pre></div><div class='content'></div><h2>Handling Exceptions</h2>
<div class='content'><p>File operations can fail for various reasons, such as missing files or permission issues. Use <code>try..except</code> blocks to handle exceptions gracefully.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBTYWZlRmlsZUhhbmRsaW5nOwoKdXNlcwogIFN5c1V0aWxzOwoKdmFyCiAgTXlGaWxlOiBUZXh0RmlsZTsKICBUZXh0OiBzdHJpbmc7CmJlZ2luCiAgdHJ5CiAgICBBc3NpZ25GaWxlKE15RmlsZSwgJ2V4YW1wbGUudHh0Jyk7CiAgICBSZXNldChNeUZpbGUpOyAgLy8gQXR0ZW1wdCB0byBvcGVuIHRoZSBmaWxlIGZvciByZWFkaW5nCiAgICAKICAgIHdoaWxlIG5vdCBFb2YoTXlGaWxlKSBkbwogICAgYmVnaW4KICAgICAgUmVhZGxuKE15RmlsZSwgVGV4dCk7ICAvLyBSZWFkIGEgbGluZSBmcm9tIHRoZSBmaWxlCiAgICAgIFdyaXRlbG4oVGV4dCk7ICAvLyBPdXRwdXQgdGhlIGxpbmUgdG8gdGhlIGNvbnNvbGUKICAgIGVuZDsKICAgIAogICAgQ2xvc2VGaWxlKE15RmlsZSk7ICAvLyBDbG9zZSB0aGUgZmlsZQogIGV4Y2VwdAogICAgb24gRTogRUluT3V0RXJyb3IgZG8KICAgICAgV3JpdGVsbignRmlsZSBoYW5kbGluZyBlcnJvciBvY2N1cnJlZDogJywgRS5NZXNzYWdlKTsKICBlbmQ7CmVuZC4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program SafeFileHandling;

uses
  SysUtils;

var
  MyFile: TextFile;
  Text: string;
begin
  try
    AssignFile(MyFile, 'example.txt');
    Reset(MyFile);  // Attempt to open the file for reading
    
    while not Eof(MyFile) do
    begin
      Readln(MyFile, Text);  // Read a line from the file
      Writeln(Text);  // Output the line to the console
    end;
    
    CloseFile(MyFile);  // Close the file
  except
    on E: EInOutError do
      Writeln('File handling error occurred: ', E.Message);
  end;
end.</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>In this topic, we covered the basics and advanced concepts of file handling in Delphi/Object Pascal. You learned how to:</p>
<ul>
<li>Create, write to, and read from text files using <code>TextFile</code>.</li>
<li>Handle binary files using <code>TFileStream</code>.</li>
<li>Manage exceptions during file operations.</li>
</ul>
<p>File handling is a fundamental skill that will enable you to build more robust and feature-rich applications. Practice these concepts to become proficient in managing files in Delphi.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='interfaces'>&#x25C4;Interfaces</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File Handling in Delphi/Object Pascal</a>
	</div>
	<div class='col-4 text-end'>
					<a href='database-access-with-delphi'>Database Access with Delphi &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
