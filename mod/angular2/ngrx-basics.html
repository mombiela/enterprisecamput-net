<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NgRx Basics</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/ngrx-basics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/ngrx-basics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/ngrx-basics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular2/ngrx-basics" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular2/ngrx-basics" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-services-for-state-management'>&#x25C4;Using Services for State Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">NgRx Basics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-ngrx'>Advanced NgRx &#x25BA;</a>
			</div>
</div>
<div class='content'><p>NgRx is a reactive state management library for Angular applications, inspired by Redux. It helps manage the state of your application in a predictable way, making it easier to debug and test.</p>
</div><h1>Introduction to NgRx</h1>
<div class='content'><p>NgRx provides a way to manage state using a single store, which is a single source of truth for your application's state. It uses observables to handle asynchronous operations and state changes.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Store</strong>: The single source of truth for your application's state.</li>
<li><strong>Actions</strong>: Plain objects that describe what happened in the application.</li>
<li><strong>Reducers</strong>: Functions that specify how the application's state changes in response to actions.</li>
<li><strong>Selectors</strong>: Functions that select a slice of the state.</li>
<li><strong>Effects</strong>: Side effects that handle asynchronous operations.</li>
</ul>
</div><h1>Setting Up NgRx</h1>
<div class='content'><p>To get started with NgRx, you need to install the necessary packages.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQG5ncngvc3RvcmUgQG5ncngvZWZmZWN0cyBAbmdyeC9zdG9yZS1kZXZ0b29scw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @ngrx/store @ngrx/effects @ngrx/store-devtools</pre></div><div class='content'></div><h2>Configuring the Store</h2>
<div class='content'><p>Create a new file for your state and configure the store in your <code>AppModule</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLnN0YXRlLnRzCmltcG9ydCB7IEFjdGlvblJlZHVjZXJNYXAgfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGNvdW50ZXJSZWR1Y2VyIH0gZnJvbSAnLi9jb3VudGVyLnJlZHVjZXInOwoKZXhwb3J0IGludGVyZmFjZSBBcHBTdGF0ZSB7CiAgY291bnRlcjogbnVtYmVyOwp9CgpleHBvcnQgY29uc3QgcmVkdWNlcnM6IEFjdGlvblJlZHVjZXJNYXA8QXBwU3RhdGU+ID0gewogIGNvdW50ZXI6IGNvdW50ZXJSZWR1Y2VyCn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.state.ts
import { ActionReducerMap } from '@ngrx/store';
import { counterReducer } from './counter.reducer';

export interface AppState {
  counter: number;
}

export const reducers: ActionReducerMap&lt;AppState&gt; = {
  counter: counterReducer
};</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLm1vZHVsZS50cwppbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBCcm93c2VyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7CmltcG9ydCB7IFN0b3JlTW9kdWxlIH0gZnJvbSAnQG5ncngvc3RvcmUnOwppbXBvcnQgeyByZWR1Y2VycyB9IGZyb20gJy4vYXBwLnN0YXRlJzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSwKICBpbXBvcnRzOiBbCiAgICBCcm93c2VyTW9kdWxlLAogICAgU3RvcmVNb2R1bGUuZm9yUm9vdChyZWR1Y2VycykKICBdLAogIHByb3ZpZGVyczogW10sCiAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XQp9KQpleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHt9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.module.ts
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { StoreModule } from '@ngrx/store';
import { reducers } from './app.state';

@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot(reducers)
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule {}</pre></div><div class='content'></div><h1>Actions</h1>
<div class='content'><p>Actions are plain objects that describe what happened in the application.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5hY3Rpb25zLnRzCmltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKCmV4cG9ydCBjb25zdCBpbmNyZW1lbnQgPSBjcmVhdGVBY3Rpb24oJ1tDb3VudGVyXSBJbmNyZW1lbnQnKTsKZXhwb3J0IGNvbnN0IGRlY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIERlY3JlbWVudCcpOwpleHBvcnQgY29uc3QgcmVzZXQgPSBjcmVhdGVBY3Rpb24oJ1tDb3VudGVyXSBSZXNldCcpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.actions.ts
import { createAction } from '@ngrx/store';

export const increment = createAction('[Counter] Increment');
export const decrement = createAction('[Counter] Decrement');
export const reset = createAction('[Counter] Reset');</pre></div><div class='content'></div><h1>Reducers</h1>
<div class='content'><p>Reducers specify how the application's state changes in response to actions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5yZWR1Y2VyLnRzCmltcG9ydCB7IGNyZWF0ZVJlZHVjZXIsIG9uIH0gZnJvbSAnQG5ncngvc3RvcmUnOwppbXBvcnQgeyBpbmNyZW1lbnQsIGRlY3JlbWVudCwgcmVzZXQgfSBmcm9tICcuL2NvdW50ZXIuYWN0aW9ucyc7CgpleHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0gMDsKCmNvbnN0IF9jb3VudGVyUmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoCiAgaW5pdGlhbFN0YXRlLAogIG9uKGluY3JlbWVudCwgc3RhdGUgPT4gc3RhdGUgKyAxKSwKICBvbihkZWNyZW1lbnQsIHN0YXRlID0+IHN0YXRlIC0gMSksCiAgb24ocmVzZXQsIHN0YXRlID0+IDApCik7CgpleHBvcnQgZnVuY3Rpb24gY291bnRlclJlZHVjZXIoc3RhdGUsIGFjdGlvbikgewogIHJldHVybiBfY291bnRlclJlZHVjZXIoc3RhdGUsIGFjdGlvbik7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.reducer.ts
import { createReducer, on } from '@ngrx/store';
import { increment, decrement, reset } from './counter.actions';

export const initialState = 0;

const _counterReducer = createReducer(
  initialState,
  on(increment, state =&gt; state + 1),
  on(decrement, state =&gt; state - 1),
  on(reset, state =&gt; 0)
);

export function counterReducer(state, action) {
  return _counterReducer(state, action);
}</pre></div><div class='content'></div><h1>Selectors</h1>
<div class='content'><p>Selectors are functions that select a slice of the state.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5zZWxlY3RvcnMudHMKaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IsIGNyZWF0ZUZlYXR1cmVTZWxlY3RvciB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuL2FwcC5zdGF0ZSc7CgpleHBvcnQgY29uc3Qgc2VsZWN0Q291bnRlciA9IGNyZWF0ZUZlYXR1cmVTZWxlY3RvcjxBcHBTdGF0ZSwgbnVtYmVyPignY291bnRlcicpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.selectors.ts
import { createSelector, createFeatureSelector } from '@ngrx/store';
import { AppState } from './app.state';

export const selectCounter = createFeatureSelector&lt;AppState, number&gt;('counter');</pre></div><div class='content'></div><h1>Effects</h1>
<div class='content'><p>Effects handle side effects and asynchronous operations.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5lZmZlY3RzLnRzCmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQWN0aW9ucywgY3JlYXRlRWZmZWN0LCBvZlR5cGUgfSBmcm9tICdAbmdyeC9lZmZlY3RzJzsKaW1wb3J0IHsgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0IH0gZnJvbSAnLi9jb3VudGVyLmFjdGlvbnMnOwppbXBvcnQgeyB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CgpASW5qZWN0YWJsZSgpCmV4cG9ydCBjbGFzcyBDb3VudGVyRWZmZWN0cyB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBhY3Rpb25zJDogQWN0aW9ucykge30KCiAgbG9nQWN0aW9ucyQgPSBjcmVhdGVFZmZlY3QoKCkgPT4KICAgIHRoaXMuYWN0aW9ucyQucGlwZSgKICAgICAgb2ZUeXBlKGluY3JlbWVudCwgZGVjcmVtZW50LCByZXNldCksCiAgICAgIHRhcChhY3Rpb24gPT4gY29uc29sZS5sb2coJ0FjdGlvbiBkaXNwYXRjaGVkOicsIGFjdGlvbikpCiAgICApLAogICAgeyBkaXNwYXRjaDogZmFsc2UgfQogICk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.effects.ts
import { Injectable } from '@angular/core';
import { Actions, createEffect, ofType } from '@ngrx/effects';
import { increment, decrement, reset } from './counter.actions';
import { tap } from 'rxjs/operators';

@Injectable()
export class CounterEffects {
  constructor(private actions$: Actions) {}

  logActions$ = createEffect(() =&gt;
    this.actions$.pipe(
      ofType(increment, decrement, reset),
      tap(action =&gt; console.log('Action dispatched:', action))
    ),
    { dispatch: false }
  );
}</pre></div><div class='content'></div><h1>Using NgRx in Components</h1>
<div class='content'><p>Inject the store into your components to dispatch actions and select state.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5jb21wb25lbnQudHMKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnOwppbXBvcnQgeyBBcHBTdGF0ZSB9IGZyb20gJy4vYXBwLnN0YXRlJzsKaW1wb3J0IHsgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0IH0gZnJvbSAnLi9jb3VudGVyLmFjdGlvbnMnOwppbXBvcnQgeyBzZWxlY3RDb3VudGVyIH0gZnJvbSAnLi9jb3VudGVyLnNlbGVjdG9ycyc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1jb3VudGVyJywKICB0ZW1wbGF0ZTogYAogICAgPGRpdj4KICAgICAgPGJ1dHRvbiAoY2xpY2spPSJpbmNyZW1lbnQoKSI+SW5jcmVtZW50PC9idXR0b24+CiAgICAgIDxidXR0b24gKGNsaWNrKT0iZGVjcmVtZW50KCkiPkRlY3JlbWVudDwvYnV0dG9uPgogICAgICA8YnV0dG9uIChjbGljayk9InJlc2V0KCkiPlJlc2V0PC9idXR0b24+CiAgICAgIDxkaXY+Q3VycmVudCBDb3VudDoge3sgY291bnRlciQgfCBhc3luYyB9fTwvZGl2PgogICAgPC9kaXY+CiAgYAp9KQpleHBvcnQgY2xhc3MgQ291bnRlckNvbXBvbmVudCB7CiAgY291bnRlciQgPSB0aGlzLnN0b3JlLnNlbGVjdChzZWxlY3RDb3VudGVyKTsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBzdG9yZTogU3RvcmU8QXBwU3RhdGU+KSB7fQoKICBpbmNyZW1lbnQoKSB7CiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGluY3JlbWVudCgpKTsKICB9CgogIGRlY3JlbWVudCgpIHsKICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goZGVjcmVtZW50KCkpOwogIH0KCiAgcmVzZXQoKSB7CiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHJlc2V0KCkpOwogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.component.ts
import { Component } from '@angular/core';
import { Store } from '@ngrx/store';
import { AppState } from './app.state';
import { increment, decrement, reset } from './counter.actions';
import { selectCounter } from './counter.selectors';

@Component({
  selector: 'app-counter',
  template: `
    &lt;div&gt;
      &lt;button (click)=&quot;increment()&quot;&gt;Increment&lt;/button&gt;
      &lt;button (click)=&quot;decrement()&quot;&gt;Decrement&lt;/button&gt;
      &lt;button (click)=&quot;reset()&quot;&gt;Reset&lt;/button&gt;
      &lt;div&gt;Current Count: {{ counter$ | async }}&lt;/div&gt;
    &lt;/div&gt;
  `
})
export class CounterComponent {
  counter$ = this.store.select(selectCounter);

  constructor(private store: Store&lt;AppState&gt;) {}

  increment() {
    this.store.dispatch(increment());
  }

  decrement() {
    this.store.dispatch(decrement());
  }

  reset() {
    this.store.dispatch(reset());
  }
}</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>NgRx provides a powerful way to manage state in Angular applications. By understanding the key concepts of store, actions, reducers, selectors, and effects, you can build scalable and maintainable applications. Start by setting up the store, defining actions and reducers, and then use selectors and effects to handle state and side effects. Finally, integrate NgRx into your components to manage state effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-services-for-state-management'>&#x25C4;Using Services for State Management</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">NgRx Basics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-ngrx'>Advanced NgRx &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
