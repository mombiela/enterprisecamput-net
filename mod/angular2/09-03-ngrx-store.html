<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NgRx Store</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/09-03-ngrx-store" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/09-03-ngrx-store" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/09-03-ngrx-store" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular2/09-03-ngrx-store" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular2/09-03-ngrx-store" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-02-using-services-for-state-management' title="Using Services for State Management">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">NgRx Store</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-04-ngrx-effects' title="NgRx Effects">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>NgRx Store is a state management library for Angular applications, inspired by Redux. It provides a single source of truth for the state of your application, making it easier to manage and debug state changes. In this section, we will cover the basics of NgRx Store, including its core concepts, how to set it up, and how to use it in an Angular application.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>State</strong>: The single source of truth for your application's data.</li>
<li><strong>Actions</strong>: Plain objects that describe an event or intention to change the state.</li>
<li><strong>Reducers</strong>: Pure functions that take the current state and an action, and return a new state.</li>
<li><strong>Selectors</strong>: Functions that select a piece of the state.</li>
<li><strong>Effects</strong>: Side effects that handle asynchronous operations.</li>
</ol>
</div><h1><p>Setting Up NgRx Store</p>
</h1>
<div class='content'><p>To get started with NgRx Store, you need to install the necessary packages:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQG5ncngvc3RvcmUgQG5ncngvZWZmZWN0cyBAbmdyeC9zdG9yZS1kZXZ0b29scw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @ngrx/store @ngrx/effects @ngrx/store-devtools</pre></div><div class='content'><p>Next, you need to set up the store in your Angular application. This involves creating actions, reducers, and integrating the store into your application module.</p>
</div><h2><p>Creating Actions</p>
</h2>
<div class='content'><p>Actions are plain objects that describe an event or intention to change the state. They typically have a <code>type</code> property and an optional <code>payload</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdG9yZS9hY3Rpb25zL2NvdW50ZXIuYWN0aW9ucy50cwppbXBvcnQgeyBjcmVhdGVBY3Rpb24sIHByb3BzIH0gZnJvbSAnQG5ncngvc3RvcmUnOwoKZXhwb3J0IGNvbnN0IGluY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIEluY3JlbWVudCcpOwpleHBvcnQgY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdbQ291bnRlcl0gRGVjcmVtZW50Jyk7CmV4cG9ydCBjb25zdCByZXNldCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIFJlc2V0Jyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/store/actions/counter.actions.ts
import { createAction, props } from '@ngrx/store';

export const increment = createAction('[Counter] Increment');
export const decrement = createAction('[Counter] Decrement');
export const reset = createAction('[Counter] Reset');</pre></div><div class='content'></div><h2><p>Creating Reducers</p>
</h2>
<div class='content'><p>Reducers are pure functions that take the current state and an action, and return a new state.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdG9yZS9yZWR1Y2Vycy9jb3VudGVyLnJlZHVjZXIudHMKaW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGluY3JlbWVudCwgZGVjcmVtZW50LCByZXNldCB9IGZyb20gJy4uL2FjdGlvbnMvY291bnRlci5hY3Rpb25zJzsKCmV4cG9ydCBjb25zdCBpbml0aWFsU3RhdGUgPSAwOwoKY29uc3QgX2NvdW50ZXJSZWR1Y2VyID0gY3JlYXRlUmVkdWNlcigKICBpbml0aWFsU3RhdGUsCiAgb24oaW5jcmVtZW50LCBzdGF0ZSA9PiBzdGF0ZSArIDEpLAogIG9uKGRlY3JlbWVudCwgc3RhdGUgPT4gc3RhdGUgLSAxKSwKICBvbihyZXNldCwgc3RhdGUgPT4gMCkKKTsKCmV4cG9ydCBmdW5jdGlvbiBjb3VudGVyUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7CiAgcmV0dXJuIF9jb3VudGVyUmVkdWNlcihzdGF0ZSwgYWN0aW9uKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/store/reducers/counter.reducer.ts
import { createReducer, on } from '@ngrx/store';
import { increment, decrement, reset } from '../actions/counter.actions';

export const initialState = 0;

const _counterReducer = createReducer(
  initialState,
  on(increment, state =&gt; state + 1),
  on(decrement, state =&gt; state - 1),
  on(reset, state =&gt; 0)
);

export function counterReducer(state, action) {
  return _counterReducer(state, action);
}</pre></div><div class='content'></div><h2><p>Integrating the Store</p>
</h2>
<div class='content'><p>To integrate the store into your Angular application, you need to add the <code>StoreModule</code> to your application module.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9hcHAubW9kdWxlLnRzCmltcG9ydCB7IEJyb3dzZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJzsKaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgU3RvcmVNb2R1bGUgfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGNvdW50ZXJSZWR1Y2VyIH0gZnJvbSAnLi9zdG9yZS9yZWR1Y2Vycy9jb3VudGVyLnJlZHVjZXInOwoKaW1wb3J0IHsgQXBwQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAuY29tcG9uZW50JzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbCiAgICBBcHBDb21wb25lbnQKICBdLAogIGltcG9ydHM6IFsKICAgIEJyb3dzZXJNb2R1bGUsCiAgICBTdG9yZU1vZHVsZS5mb3JSb290KHsgY291bnQ6IGNvdW50ZXJSZWR1Y2VyIH0pCiAgXSwKICBwcm92aWRlcnM6IFtdLAogIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0KfSkKZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7IH0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/app.module.ts
import { BrowserModule } from '@angular/platform-browser';
import { NgModule } from '@angular/core';
import { StoreModule } from '@ngrx/store';
import { counterReducer } from './store/reducers/counter.reducer';

import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule,
    StoreModule.forRoot({ count: counterReducer })
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }</pre></div><div class='content'></div><h2><p>Using the Store in Components</p>
</h2>
<div class='content'><p>To use the store in your components, you need to inject the <code>Store</code> service and select the state you want to use.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9jb3VudGVyL2NvdW50ZXIuY29tcG9uZW50LnRzCmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBpbmNyZW1lbnQsIGRlY3JlbWVudCwgcmVzZXQgfSBmcm9tICcuLi9zdG9yZS9hY3Rpb25zL2NvdW50ZXIuYWN0aW9ucyc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1jb3VudGVyJywKICB0ZW1wbGF0ZTogYAogICAgPGRpdj4KICAgICAgPGJ1dHRvbiAoY2xpY2spPSJpbmNyZW1lbnQoKSI+SW5jcmVtZW50PC9idXR0b24+CiAgICAgIDxidXR0b24gKGNsaWNrKT0iZGVjcmVtZW50KCkiPkRlY3JlbWVudDwvYnV0dG9uPgogICAgICA8YnV0dG9uIChjbGljayk9InJlc2V0KCkiPlJlc2V0PC9idXR0b24+CiAgICAgIDxkaXY+Q3VycmVudCBDb3VudDoge3sgY291bnQkIHwgYXN5bmMgfX08L2Rpdj4KICAgIDwvZGl2PgogIGAKfSkKZXhwb3J0IGNsYXNzIENvdW50ZXJDb21wb25lbnQgewogIGNvdW50JDogT2JzZXJ2YWJsZTxudW1iZXI+OwoKICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0b3JlOiBTdG9yZTx7IGNvdW50OiBudW1iZXIgfT4pIHsKICAgIHRoaXMuY291bnQkID0gc3RvcmUuc2VsZWN0KCdjb3VudCcpOwogIH0KCiAgaW5jcmVtZW50KCkgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChpbmNyZW1lbnQoKSk7CiAgfQoKICBkZWNyZW1lbnQoKSB7CiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGRlY3JlbWVudCgpKTsKICB9CgogIHJlc2V0KCkgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZXNldCgpKTsKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/counter/counter.component.ts
import { Component } from '@angular/core';
import { Store } from '@ngrx/store';
import { Observable } from 'rxjs';
import { increment, decrement, reset } from '../store/actions/counter.actions';

@Component({
  selector: 'app-counter',
  template: `
    &lt;div&gt;
      &lt;button (click)=&quot;increment()&quot;&gt;Increment&lt;/button&gt;
      &lt;button (click)=&quot;decrement()&quot;&gt;Decrement&lt;/button&gt;
      &lt;button (click)=&quot;reset()&quot;&gt;Reset&lt;/button&gt;
      &lt;div&gt;Current Count: {{ count$ | async }}&lt;/div&gt;
    &lt;/div&gt;
  `
})
export class CounterComponent {
  count$: Observable&lt;number&gt;;

  constructor(private store: Store&lt;{ count: number }&gt;) {
    this.count$ = store.select('count');
  }

  increment() {
    this.store.dispatch(increment());
  }

  decrement() {
    this.store.dispatch(decrement());
  }

  reset() {
    this.store.dispatch(reset());
  }
}</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Implement a Todo List with NgRx Store</p>
</h2>
<div class='content'><ol>
<li><strong>Create Actions</strong>: Define actions for adding, removing, and toggling todos.</li>
<li><strong>Create Reducers</strong>: Implement reducers to handle the defined actions.</li>
<li><strong>Integrate Store</strong>: Add the store to your application module.</li>
<li><strong>Use Store in Components</strong>: Create a component to display and interact with the todo list.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><h4>Actions</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdG9yZS9hY3Rpb25zL3RvZG8uYWN0aW9ucy50cwppbXBvcnQgeyBjcmVhdGVBY3Rpb24sIHByb3BzIH0gZnJvbSAnQG5ncngvc3RvcmUnOwoKZXhwb3J0IGNvbnN0IGFkZFRvZG8gPSBjcmVhdGVBY3Rpb24oJ1tUb2RvXSBBZGQgVG9kbycsIHByb3BzPHsgdGV4dDogc3RyaW5nIH0+KCkpOwpleHBvcnQgY29uc3QgcmVtb3ZlVG9kbyA9IGNyZWF0ZUFjdGlvbignW1RvZG9dIFJlbW92ZSBUb2RvJywgcHJvcHM8eyBpZDogbnVtYmVyIH0+KCkpOwpleHBvcnQgY29uc3QgdG9nZ2xlVG9kbyA9IGNyZWF0ZUFjdGlvbignW1RvZG9dIFRvZ2dsZSBUb2RvJywgcHJvcHM8eyBpZDogbnVtYmVyIH0+KCkpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/store/actions/todo.actions.ts
import { createAction, props } from '@ngrx/store';

export const addTodo = createAction('[Todo] Add Todo', props&lt;{ text: string }&gt;());
export const removeTodo = createAction('[Todo] Remove Todo', props&lt;{ id: number }&gt;());
export const toggleTodo = createAction('[Todo] Toggle Todo', props&lt;{ id: number }&gt;());</pre></div><div class='content'><h4>Reducers</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdG9yZS9yZWR1Y2Vycy90b2RvLnJlZHVjZXIudHMKaW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGFkZFRvZG8sIHJlbW92ZVRvZG8sIHRvZ2dsZVRvZG8gfSBmcm9tICcuLi9hY3Rpb25zL3RvZG8uYWN0aW9ucyc7CgpleHBvcnQgaW50ZXJmYWNlIFRvZG8gewogIGlkOiBudW1iZXI7CiAgdGV4dDogc3RyaW5nOwogIGNvbXBsZXRlZDogYm9vbGVhbjsKfQoKZXhwb3J0IGNvbnN0IGluaXRpYWxTdGF0ZTogVG9kb1tdID0gW107Cgpjb25zdCBfdG9kb1JlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKAogIGluaXRpYWxTdGF0ZSwKICBvbihhZGRUb2RvLCAoc3RhdGUsIHsgdGV4dCB9KSA9PiBbLi4uc3RhdGUsIHsgaWQ6IHN0YXRlLmxlbmd0aCArIDEsIHRleHQsIGNvbXBsZXRlZDogZmFsc2UgfV0pLAogIG9uKHJlbW92ZVRvZG8sIChzdGF0ZSwgeyBpZCB9KSA9PiBzdGF0ZS5maWx0ZXIodG9kbyA9PiB0b2RvLmlkICE9PSBpZCkpLAogIG9uKHRvZ2dsZVRvZG8sIChzdGF0ZSwgeyBpZCB9KSA9PiBzdGF0ZS5tYXAodG9kbyA9PiB0b2RvLmlkID09PSBpZCA/IHsgLi4udG9kbywgY29tcGxldGVkOiAhdG9kby5jb21wbGV0ZWQgfSA6IHRvZG8pKQopOwoKZXhwb3J0IGZ1bmN0aW9uIHRvZG9SZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHsKICByZXR1cm4gX3RvZG9SZWR1Y2VyKHN0YXRlLCBhY3Rpb24pOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/store/reducers/todo.reducer.ts
import { createReducer, on } from '@ngrx/store';
import { addTodo, removeTodo, toggleTodo } from '../actions/todo.actions';

export interface Todo {
  id: number;
  text: string;
  completed: boolean;
}

export const initialState: Todo[] = [];

const _todoReducer = createReducer(
  initialState,
  on(addTodo, (state, { text }) =&gt; [...state, { id: state.length + 1, text, completed: false }]),
  on(removeTodo, (state, { id }) =&gt; state.filter(todo =&gt; todo.id !== id)),
  on(toggleTodo, (state, { id }) =&gt; state.map(todo =&gt; todo.id === id ? { ...todo, completed: !todo.completed } : todo))
);

export function todoReducer(state, action) {
  return _todoReducer(state, action);
}</pre></div><div class='content'><h4>Integrate Store</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9hcHAubW9kdWxlLnRzCmltcG9ydCB7IEJyb3dzZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJzsKaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgU3RvcmVNb2R1bGUgfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IHRvZG9SZWR1Y2VyIH0gZnJvbSAnLi9zdG9yZS9yZWR1Y2Vycy90b2RvLnJlZHVjZXInOwoKaW1wb3J0IHsgQXBwQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAuY29tcG9uZW50JzsKaW1wb3J0IHsgVG9kb0NvbXBvbmVudCB9IGZyb20gJy4vdG9kby90b2RvLmNvbXBvbmVudCc7CgpATmdNb2R1bGUoewogIGRlY2xhcmF0aW9uczogWwogICAgQXBwQ29tcG9uZW50LAogICAgVG9kb0NvbXBvbmVudAogIF0sCiAgaW1wb3J0czogWwogICAgQnJvd3Nlck1vZHVsZSwKICAgIFN0b3JlTW9kdWxlLmZvclJvb3QoeyB0b2RvczogdG9kb1JlZHVjZXIgfSkKICBdLAogIHByb3ZpZGVyczogW10sCiAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XQp9KQpleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHsgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/app.module.ts
import { BrowserModule } from '@angular/platform-browser';
import { NgModule } from '@angular/core';
import { StoreModule } from '@ngrx/store';
import { todoReducer } from './store/reducers/todo.reducer';

import { AppComponent } from './app.component';
import { TodoComponent } from './todo/todo.component';

@NgModule({
  declarations: [
    AppComponent,
    TodoComponent
  ],
  imports: [
    BrowserModule,
    StoreModule.forRoot({ todos: todoReducer })
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }</pre></div><div class='content'><h4>Use Store in Components</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC90b2RvL3RvZG8uY29tcG9uZW50LnRzCmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJzsKaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBhZGRUb2RvLCByZW1vdmVUb2RvLCB0b2dnbGVUb2RvIH0gZnJvbSAnLi4vc3RvcmUvYWN0aW9ucy90b2RvLmFjdGlvbnMnOwppbXBvcnQgeyBUb2RvIH0gZnJvbSAnLi4vc3RvcmUvcmVkdWNlcnMvdG9kby5yZWR1Y2VyJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLXRvZG8nLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICA8aW5wdXQgWyhuZ01vZGVsKV09Im5ld1RvZG8iIHBsYWNlaG9sZGVyPSJOZXcgVG9kbyI+CiAgICAgIDxidXR0b24gKGNsaWNrKT0iYWRkVG9kbygpIj5BZGQgVG9kbzwvYnV0dG9uPgogICAgICA8dWw+CiAgICAgICAgPGxpICpuZ0Zvcj0ibGV0IHRvZG8gb2YgdG9kb3MkIHwgYXN5bmMiPgogICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBbY2hlY2tlZF09InRvZG8uY29tcGxldGVkIiAoY2hhbmdlKT0idG9nZ2xlVG9kbyh0b2RvLmlkKSI+CiAgICAgICAgICB7eyB0b2RvLnRleHQgfX0KICAgICAgICAgIDxidXR0b24gKGNsaWNrKT0icmVtb3ZlVG9kbyh0b2RvLmlkKSI+UmVtb3ZlPC9idXR0b24+CiAgICAgICAgPC9saT4KICAgICAgPC91bD4KICAgIDwvZGl2PgogIGAKfSkKZXhwb3J0IGNsYXNzIFRvZG9Db21wb25lbnQgewogIG5ld1RvZG86IHN0cmluZzsKICB0b2RvcyQ6IE9ic2VydmFibGU8VG9kb1tdPjsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBzdG9yZTogU3RvcmU8eyB0b2RvczogVG9kb1tdIH0+KSB7CiAgICB0aGlzLnRvZG9zJCA9IHN0b3JlLnNlbGVjdCgndG9kb3MnKTsKICB9CgogIGFkZFRvZG8oKSB7CiAgICBpZiAodGhpcy5uZXdUb2RvLnRyaW0oKSkgewogICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGFkZFRvZG8oeyB0ZXh0OiB0aGlzLm5ld1RvZG8gfSkpOwogICAgICB0aGlzLm5ld1RvZG8gPSAnJzsKICAgIH0KICB9CgogIHJlbW92ZVRvZG8oaWQ6IG51bWJlcikgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZW1vdmVUb2RvKHsgaWQgfSkpOwogIH0KCiAgdG9nZ2xlVG9kbyhpZDogbnVtYmVyKSB7CiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHRvZ2dsZVRvZG8oeyBpZCB9KSk7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/todo/todo.component.ts
import { Component } from '@angular/core';
import { Store } from '@ngrx/store';
import { Observable } from 'rxjs';
import { addTodo, removeTodo, toggleTodo } from '../store/actions/todo.actions';
import { Todo } from '../store/reducers/todo.reducer';

@Component({
  selector: 'app-todo',
  template: `
    &lt;div&gt;
      &lt;input [(ngModel)]=&quot;newTodo&quot; placeholder=&quot;New Todo&quot;&gt;
      &lt;button (click)=&quot;addTodo()&quot;&gt;Add Todo&lt;/button&gt;
      &lt;ul&gt;
        &lt;li *ngFor=&quot;let todo of todos$ | async&quot;&gt;
          &lt;input type=&quot;checkbox&quot; [checked]=&quot;todo.completed&quot; (change)=&quot;toggleTodo(todo.id)&quot;&gt;
          {{ todo.text }}
          &lt;button (click)=&quot;removeTodo(todo.id)&quot;&gt;Remove&lt;/button&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  `
})
export class TodoComponent {
  newTodo: string;
  todos$: Observable&lt;Todo[]&gt;;

  constructor(private store: Store&lt;{ todos: Todo[] }&gt;) {
    this.todos$ = store.select('todos');
  }

  addTodo() {
    if (this.newTodo.trim()) {
      this.store.dispatch(addTodo({ text: this.newTodo }));
      this.newTodo = '';
    }
  }

  removeTodo(id: number) {
    this.store.dispatch(removeTodo({ id }));
  }

  toggleTodo(id: number) {
    this.store.dispatch(toggleTodo({ id }));
  }
}</pre></div><div class='content'></div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we covered the basics of NgRx Store, including its core concepts, how to set it up, and how to use it in an Angular application. We also provided a practical exercise to implement a todo list with NgRx Store. By mastering these concepts, you will be able to manage the state of your Angular applications more effectively and efficiently.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-02-using-services-for-state-management' title="Using Services for State Management">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-04-ngrx-effects' title="NgRx Effects">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
