<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angular Universal (Server-side Rendering)</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/angular-universal" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/angular-universal" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/angular-universal" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular2/angular-universal" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular2/angular-universal" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='lazy-loading-modules'>&#x25C4;Lazy Loading Modules</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Angular Universal (Server-side Rendering)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Angular Universal</h1>
<div class='content'><p>Angular Universal is a technology that allows you to render Angular applications on the server-side. This can improve performance, SEO, and user experience by delivering fully rendered pages to the client.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Server-Side Rendering (SSR)</strong>: The process of rendering web pages on the server instead of the client.</li>
<li><strong>Angular Universal</strong>: A set of tools and libraries that enable SSR for Angular applications.</li>
<li><strong>SEO Benefits</strong>: Search engines can index server-rendered pages more effectively.</li>
<li><strong>Performance Improvements</strong>: Faster initial page load times and better perceived performance.</li>
</ul>
</div><h1>Setting Up Angular Universal</h1>
<div class='content'><p>To get started with Angular Universal, you need to add the necessary packages and configure your Angular application.</p>
</div><h2>Step-by-Step Setup</h2>
<div class='content'><ol>
<li>
<p><strong>Install Angular Universal Packages</strong>:</p>
<pre><code class="language-bash">ng add @nguniversal/express-engine
</code></pre>
<p>This command will install the required packages and make necessary changes to your Angular project.</p>
</li>
<li>
<p><strong>Update Angular Configuration</strong>:
The <code>ng add</code> command will automatically update your <code>angular.json</code> file to include server-side rendering configurations.</p>
</li>
<li>
<p><strong>Create Server Module</strong>:
Angular Universal requires a server module to handle server-side rendering.</p>
<pre><code class="language-typescript">// src/app/app.server.module.ts
import { NgModule } from '@angular/core';
import { ServerModule } from '@angular/platform-server';
import { AppModule } from './app.module';
import { AppComponent } from './app.component';

@NgModule({
  imports: [
    AppModule,
    ServerModule,
  ],
  bootstrap: [AppComponent],
})
export class AppServerModule {}
</code></pre>
</li>
<li>
<p><strong>Create Server File</strong>:
Create a server file to bootstrap the Angular application on the server.</p>
<pre><code class="language-typescript">// server.ts
import 'zone.js/dist/zone-node';
import { ngExpressEngine } from '@nguniversal/express-engine';
import * as express from 'express';
import { join } from 'path';
import { APP_BASE_HREF } from '@angular/common';
import { existsSync } from 'fs';

import { AppServerModule } from './src/main.server';
import { APP_BASE_HREF } from '@angular/common';

const app = express();
const PORT = process.env.PORT || 4000;
const DIST_FOLDER = join(process.cwd(), 'dist/browser');

app.engine('html', ngExpressEngine({
  bootstrap: AppServerModule,
}));

app.set('view engine', 'html');
app.set('views', DIST_FOLDER);

app.get('*.*', express.static(DIST_FOLDER, {
  maxAge: '1y'
}));

app.get('*', (req, res) =&gt; {
  res.render('index', { req, providers: [{ provide: APP_BASE_HREF, useValue: req.baseUrl }] });
});

app.listen(PORT, () =&gt; {
  console.log(`Node server listening on http://localhost:${PORT}`);
});
</code></pre>
</li>
<li>
<p><strong>Build and Serve</strong>:
Build the application for both client and server:</p>
<pre><code class="language-bash">npm run build:ssr
npm run serve:ssr
</code></pre>
</li>
</ol>
</div><h1>Advanced Configuration</h1>
<div class='content'><p>Once you have the basic setup, you can further optimize and configure Angular Universal for your specific needs.</p>
</div><h2>Lazy Loading Modules</h2>
<div class='content'><p>Lazy loading can be configured to work with Angular Universal to improve performance.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLXJvdXRpbmcubW9kdWxlLnRzCmNvbnN0IHJvdXRlczogUm91dGVzID0gWwogIHsKICAgIHBhdGg6ICcnLAogICAgbG9hZENoaWxkcmVuOiAoKSA9PiBpbXBvcnQoJy4vaG9tZS9ob21lLm1vZHVsZScpLnRoZW4obSA9PiBtLkhvbWVNb2R1bGUpCiAgfQpdOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app-routing.module.ts
const routes: Routes = [
  {
    path: '',
    loadChildren: () =&gt; import('./home/home.module').then(m =&gt; m.HomeModule)
  }
];</pre></div><div class='content'></div><h2>Handling API Requests</h2>
<div class='content'><p>Server-side rendering can handle API requests differently. Ensure your server-side code can handle these requests appropriately.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2VydmVyLnRzCmFwcC5nZXQoJy9hcGkvZGF0YScsIChyZXEsIHJlcykgPT4gewogIHJlcy5qc29uKHsgZGF0YTogJ1NlcnZlci1zaWRlIGRhdGEnIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// server.ts
app.get('/api/data', (req, res) =&gt; {
  res.json({ data: 'Server-side data' });
});</pre></div><div class='content'></div><h2>Caching Strategies</h2>
<div class='content'><p>Implement caching strategies to improve performance and reduce server load.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2VydmVyLnRzCmFwcC5nZXQoJyonLCAocmVxLCByZXMpID0+IHsKICBjb25zdCBjYWNoZUtleSA9IHJlcS51cmw7CiAgaWYgKGNhY2hlLmhhcyhjYWNoZUtleSkpIHsKICAgIHJlcy5zZW5kKGNhY2hlLmdldChjYWNoZUtleSkpOwogIH0gZWxzZSB7CiAgICByZXMucmVuZGVyKCdpbmRleCcsIHsgcmVxIH0sIChlcnIsIGh0bWwpID0+IHsKICAgICAgY2FjaGUuc2V0KGNhY2hlS2V5LCBodG1sKTsKICAgICAgcmVzLnNlbmQoaHRtbCk7CiAgICB9KTsKICB9Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// server.ts
app.get('*', (req, res) =&gt; {
  const cacheKey = req.url;
  if (cache.has(cacheKey)) {
    res.send(cache.get(cacheKey));
  } else {
    res.render('index', { req }, (err, html) =&gt; {
      cache.set(cacheKey, html);
      res.send(html);
    });
  }
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Angular Universal provides a powerful way to enhance the performance and SEO of your Angular applications through server-side rendering. By following the setup and configuration steps, you can leverage SSR to deliver faster and more efficient web applications. Advanced configurations such as lazy loading, handling API requests, and implementing caching strategies can further optimize your application for better performance and scalability.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='lazy-loading-modules'>&#x25C4;Lazy Loading Modules</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Angular Universal (Server-side Rendering)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Performance Optimization &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
