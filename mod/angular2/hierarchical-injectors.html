<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hierarchical Injectors in Angular 2+</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/hierarchical-injectors" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/hierarchical-injectors" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/hierarchical-injectors" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular2/hierarchical-injectors" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular2/hierarchical-injectors" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='dependency-injection'>&#x25C4;Dependency Injection</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Hierarchical Injectors in Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='setting-up-routes'>Setting Up Routes &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In Angular, dependency injection (DI) is a powerful pattern used to manage how components and services are instantiated and interact with each other. Hierarchical injectors are a key concept in Angular's DI system, allowing for flexible and efficient dependency management.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Dependency Injection (DI)</strong>: A design pattern in which a class requests dependencies from external sources rather than creating them.</li>
<li><strong>Injector</strong>: A service locator that is responsible for providing instances of dependencies.</li>
<li><strong>Hierarchical Injectors</strong>: Angular's DI system is hierarchical, meaning that injectors can be nested, and child injectors can override dependencies provided by parent injectors.</li>
</ul>
</div><h1>How Hierarchical Injectors Work</h1>
<div class='content'><p>Angular's injectors form a tree structure that parallels the component tree. Each component has its own injector, and these injectors are arranged hierarchically.</p>
<ul>
<li><strong>Root Injector</strong>: The top-level injector that is created when the application starts. It provides singleton services that are available throughout the application.</li>
<li><strong>Child Injectors</strong>: Injectors that are created for each component. These can override services provided by parent injectors.</li>
</ul>
</div><h2>Example: Basic Hierarchical Injector</h2>
<div class='content'><p>Let's start with a simple example to illustrate how hierarchical injectors work.</p>
<h4>app.module.ts</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQnJvd3Nlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOwppbXBvcnQgeyBBcHBDb21wb25lbnQgfSBmcm9tICcuL2FwcC5jb21wb25lbnQnOwppbXBvcnQgeyBQYXJlbnRDb21wb25lbnQgfSBmcm9tICcuL3BhcmVudC9wYXJlbnQuY29tcG9uZW50JzsKaW1wb3J0IHsgQ2hpbGRDb21wb25lbnQgfSBmcm9tICcuL2NoaWxkL2NoaWxkLmNvbXBvbmVudCc7CmltcG9ydCB7IE15U2VydmljZSB9IGZyb20gJy4vbXkuc2VydmljZSc7CgpATmdNb2R1bGUoewogIGRlY2xhcmF0aW9uczogWwogICAgQXBwQ29tcG9uZW50LAogICAgUGFyZW50Q29tcG9uZW50LAogICAgQ2hpbGRDb21wb25lbnQKICBdLAogIGltcG9ydHM6IFsKICAgIEJyb3dzZXJNb2R1bGUKICBdLAogIHByb3ZpZGVyczogW015U2VydmljZV0sCiAgYm9vdHN0cmFwOiBbQXBwQ29tcG9uZW50XQp9KQpleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHsgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { ParentComponent } from './parent/parent.component';
import { ChildComponent } from './child/child.component';
import { MyService } from './my.service';

@NgModule({
  declarations: [
    AppComponent,
    ParentComponent,
    ChildComponent
  ],
  imports: [
    BrowserModule
  ],
  providers: [MyService],
  bootstrap: [AppComponent]
})
export class AppModule { }</pre></div><div class='content'><h4>my.service.ts</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoKQpleHBvcnQgY2xhc3MgTXlTZXJ2aWNlIHsKICBnZXRWYWx1ZSgpOiBzdHJpbmcgewogICAgcmV0dXJuICdTZXJ2aWNlIFZhbHVlIGZyb20gUm9vdCBJbmplY3Rvcic7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable()
export class MyService {
  getValue(): string {
    return 'Service Value from Root Injector';
  }
}</pre></div><div class='content'><h4>parent.component.ts</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IE15U2VydmljZSB9IGZyb20gJy4uL215LnNlcnZpY2UnOwoKQENvbXBvbmVudCh7CiAgc2VsZWN0b3I6ICdhcHAtcGFyZW50JywKICB0ZW1wbGF0ZTogYAogICAgPGRpdj4KICAgICAgUGFyZW50IENvbXBvbmVudDoge3sgdmFsdWUgfX0KICAgICAgPGFwcC1jaGlsZD48L2FwcC1jaGlsZD4KICAgIDwvZGl2PgogIGAsCiAgcHJvdmlkZXJzOiBbTXlTZXJ2aWNlXSAvLyBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIE15U2VydmljZSBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGl0cyBjaGlsZHJlbgp9KQpleHBvcnQgY2xhc3MgUGFyZW50Q29tcG9uZW50IHsKICB2YWx1ZTogc3RyaW5nOwoKICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15U2VydmljZTogTXlTZXJ2aWNlKSB7CiAgICB0aGlzLnZhbHVlID0gdGhpcy5teVNlcnZpY2UuZ2V0VmFsdWUoKTsKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component } from '@angular/core';
import { MyService } from '../my.service';

@Component({
  selector: 'app-parent',
  template: `
    &lt;div&gt;
      Parent Component: {{ value }}
      &lt;app-child&gt;&lt;/app-child&gt;
    &lt;/div&gt;
  `,
  providers: [MyService] // This will create a new instance of MyService for this component and its children
})
export class ParentComponent {
  value: string;

  constructor(private myService: MyService) {
    this.value = this.myService.getValue();
  }
}</pre></div><div class='content'><h4>child.component.ts</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IE15U2VydmljZSB9IGZyb20gJy4uL215LnNlcnZpY2UnOwoKQENvbXBvbmVudCh7CiAgc2VsZWN0b3I6ICdhcHAtY2hpbGQnLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICBDaGlsZCBDb21wb25lbnQ6IHt7IHZhbHVlIH19CiAgICA8L2Rpdj4KICBgCn0pCmV4cG9ydCBjbGFzcyBDaGlsZENvbXBvbmVudCB7CiAgdmFsdWU6IHN0cmluZzsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBteVNlcnZpY2U6IE15U2VydmljZSkgewogICAgdGhpcy52YWx1ZSA9IHRoaXMubXlTZXJ2aWNlLmdldFZhbHVlKCk7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component } from '@angular/core';
import { MyService } from '../my.service';

@Component({
  selector: 'app-child',
  template: `
    &lt;div&gt;
      Child Component: {{ value }}
    &lt;/div&gt;
  `
})
export class ChildComponent {
  value: string;

  constructor(private myService: MyService) {
    this.value = this.myService.getValue();
  }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Root Injector</strong>: The <code>MyService</code> provided in <code>AppModule</code> is available application-wide.</li>
<li><strong>Parent Injector</strong>: The <code>MyService</code> provided in <code>ParentComponent</code> overrides the root injector's <code>MyService</code> for the <code>ParentComponent</code> and its children.</li>
<li><strong>Child Injector</strong>: The <code>ChildComponent</code> uses the <code>MyService</code> provided by its parent, <code>ParentComponent</code>.</li>
</ul>
<p>In this example, the <code>ParentComponent</code> and <code>ChildComponent</code> will both use the <code>MyService</code> instance provided by the <code>ParentComponent</code>'s injector, not the root injector.</p>
</div><h1>Advanced Usage</h1>
<div class='content'></div><h2>Providing Different Instances</h2>
<div class='content'><p>You can provide different instances of a service at different levels of the injector hierarchy.</p>
<h4>Example: Different Instances</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gcGFyZW50LmNvbXBvbmVudC50cwpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1wYXJlbnQnLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICBQYXJlbnQgQ29tcG9uZW50OiB7eyB2YWx1ZSB9fQogICAgICA8YXBwLWNoaWxkPjwvYXBwLWNoaWxkPgogICAgPC9kaXY+CiAgYCwKICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IE15U2VydmljZSwgdXNlQ2xhc3M6IFBhcmVudFNlcnZpY2UgfV0KfSkKZXhwb3J0IGNsYXNzIFBhcmVudENvbXBvbmVudCB7CiAgdmFsdWU6IHN0cmluZzsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBteVNlcnZpY2U6IE15U2VydmljZSkgewogICAgdGhpcy52YWx1ZSA9IHRoaXMubXlTZXJ2aWNlLmdldFZhbHVlKCk7CiAgfQp9CgovLyBwYXJlbnQuc2VydmljZS50cwpASW5qZWN0YWJsZSgpCmV4cG9ydCBjbGFzcyBQYXJlbnRTZXJ2aWNlIGV4dGVuZHMgTXlTZXJ2aWNlIHsKICBnZXRWYWx1ZSgpOiBzdHJpbmcgewogICAgcmV0dXJuICdTZXJ2aWNlIFZhbHVlIGZyb20gUGFyZW50IEluamVjdG9yJzsKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// parent.component.ts
@Component({
  selector: 'app-parent',
  template: `
    &lt;div&gt;
      Parent Component: {{ value }}
      &lt;app-child&gt;&lt;/app-child&gt;
    &lt;/div&gt;
  `,
  providers: [{ provide: MyService, useClass: ParentService }]
})
export class ParentComponent {
  value: string;

  constructor(private myService: MyService) {
    this.value = this.myService.getValue();
  }
}

// parent.service.ts
@Injectable()
export class ParentService extends MyService {
  getValue(): string {
    return 'Service Value from Parent Injector';
  }
}</pre></div><div class='content'><p>In this example, <code>ParentComponent</code> uses <code>ParentService</code>, while <code>ChildComponent</code> uses the same instance provided by <code>ParentComponent</code>.</p>
</div><h1>Summary</h1>
<div class='content'><p>Hierarchical injectors in Angular allow for flexible and efficient dependency management by creating a tree of injectors that parallels the component tree. This enables:</p>
<ul>
<li><strong>Scoped Services</strong>: Services can be scoped to specific components or modules.</li>
<li><strong>Overriding Services</strong>: Child injectors can override services provided by parent injectors.</li>
<li><strong>Efficient Resource Management</strong>: Singleton services can be shared across the application, while other services can be instantiated as needed.</li>
</ul>
<p>Understanding hierarchical injectors is crucial for building scalable and maintainable Angular applications. By leveraging this powerful feature, you can ensure that your services are provided in the most efficient and logical manner.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='dependency-injection'>&#x25C4;Dependency Injection</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Hierarchical Injectors in Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='setting-up-routes'>Setting Up Routes &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
