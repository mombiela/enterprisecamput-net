<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Directives in Angular 2+</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/custom-directives" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/custom-directives" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/custom-directives" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular2/custom-directives" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular2/custom-directives" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='built-in-directives'>&#x25C4;Built-in Directives</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Directives in Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='built-in-pipes'>Built-in Pipes &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Custom directives in Angular 2+ allow you to extend the functionality of HTML elements and create reusable components. Directives can be used to manipulate the DOM, apply styles, or add behavior to elements.</p>
</div><h1>Types of Directives</h1>
<div class='content'><p>Angular 2+ provides three types of directives:</p>
<ul>
<li><strong>Component Directives</strong>: These are the most common directives and are used to create components.</li>
<li><strong>Structural Directives</strong>: These directives change the DOM layout by adding or removing elements (e.g., <code>*ngIf</code>, <code>*ngFor</code>).</li>
<li><strong>Attribute Directives</strong>: These directives change the appearance or behavior of an element, component, or another directive (e.g., <code>ngClass</code>, <code>ngStyle</code>).</li>
</ul>
</div><h1>Creating a Custom Attribute Directive</h1>
<div class='content'><p>Attribute directives are used to change the behavior or appearance of an element. Let's create a simple custom attribute directive that changes the background color of an element when it is hovered over.</p>
</div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Generate the Directive</strong>:
Use Angular CLI to generate a new directive.</p>
<pre><code class="language-bash">ng generate directive highlight
</code></pre>
</li>
<li>
<p><strong>Implement the Directive</strong>:
Open the generated <code>highlight.directive.ts</code> file and implement the directive logic.</p>
<pre><code class="language-typescript">import { Directive, ElementRef, HostListener, Input } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  @Input() defaultColor: string = 'yellow';
  @Input('appHighlight') highlightColor: string;

  constructor(private el: ElementRef) {}

  @HostListener('mouseenter') onMouseEnter() {
    this.highlight(this.highlightColor || this.defaultColor);
  }

  @HostListener('mouseleave') onMouseLeave() {
    this.highlight(null);
  }

  private highlight(color: string) {
    this.el.nativeElement.style.backgroundColor = color;
  }
}
</code></pre>
</li>
<li>
<p><strong>Use the Directive in a Component</strong>:
Apply the directive to an element in your component template.</p>
<pre><code class="language-html">&lt;p appHighlight=&quot;lightblue&quot; defaultColor=&quot;lightgreen&quot;&gt;
  Hover over this text to see the highlight effect.
&lt;/p&gt;
</code></pre>
</li>
</ol>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>@Directive</strong>: Decorator that marks a class as an Angular directive.</li>
<li><strong>selector</strong>: The CSS selector that identifies the directive in a template.</li>
<li><strong>ElementRef</strong>: Service that grants direct access to the DOM element.</li>
<li><strong>@HostListener</strong>: Decorator that listens to DOM events and triggers the specified method.</li>
<li><strong>@Input</strong>: Decorator that allows data to be passed into the directive from the parent component.</li>
</ul>
</div><h1>Creating a Custom Structural Directive</h1>
<div class='content'><p>Structural directives change the DOM layout by adding or removing elements. Let's create a custom structural directive that conditionally includes a template based on a boolean expression.</p>
</div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Generate the Directive</strong>:
Use Angular CLI to generate a new directive.</p>
<pre><code class="language-bash">ng generate directive unless
</code></pre>
</li>
<li>
<p><strong>Implement the Directive</strong>:
Open the generated <code>unless.directive.ts</code> file and implement the directive logic.</p>
<pre><code class="language-typescript">import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';

@Directive({
  selector: '[appUnless]'
})
export class UnlessDirective {
  private hasView = false;

  constructor(
    private templateRef: TemplateRef&lt;any&gt;,
    private viewContainer: ViewContainerRef
  ) {}

  @Input() set appUnless(condition: boolean) {
    if (!condition &amp;&amp; !this.hasView) {
      this.viewContainer.createEmbeddedView(this.templateRef);
      this.hasView = true;
    } else if (condition &amp;&amp; this.hasView) {
      this.viewContainer.clear();
      this.hasView = false;
    }
  }
}
</code></pre>
</li>
<li>
<p><strong>Use the Directive in a Component</strong>:
Apply the directive to an element in your component template.</p>
<pre><code class="language-html">&lt;div *appUnless=&quot;isVisible&quot;&gt;
  This text is displayed only when isVisible is false.
&lt;/div&gt;
</code></pre>
</li>
</ol>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>TemplateRef</strong>: Represents an embedded template that can be used to instantiate embedded views.</li>
<li><strong>ViewContainerRef</strong>: Represents a container where one or more views can be attached.</li>
<li><strong>@Input</strong>: Decorator that allows data to be passed into the directive from the parent component.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Custom directives in Angular 2+ are powerful tools that allow you to extend HTML elements' functionality and create reusable components. By understanding and implementing attribute and structural directives, you can enhance your application's interactivity and maintainability. Practice creating your own custom directives to become proficient in Angular development.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='built-in-directives'>&#x25C4;Built-in Directives</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Directives in Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='built-in-pipes'>Built-in Pipes &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
