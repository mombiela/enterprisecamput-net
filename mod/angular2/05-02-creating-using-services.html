<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating and Using Services</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/05-02-creating-using-services" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/05-02-creating-using-services" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/05-02-creating-using-services" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/angular2/05-02-creating-using-services" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/angular2/05-02-creating-using-services" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-introduction-to-services' title="Introduction to Services">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creating and Using Services</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-dependency-injection' title="Dependency Injection">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In Angular, services are used to encapsulate business logic, data access, and other reusable functionalities. They help keep your components clean and focused on their primary role: managing the user interface. This section will guide you through the process of creating and using services in Angular.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Service</strong>: A class with a specific purpose, often used to share data and functionality across components.</li>
<li><strong>Dependency Injection (DI)</strong>: A design pattern used to implement IoC (Inversion of Control), allowing a class to receive its dependencies from an external source rather than creating them itself.</li>
<li><strong>Provider</strong>: An object that tells the Angular injector how to obtain or create a dependency.</li>
</ol>
</div><h1><p>Steps to Create and Use a Service</p>
</h1>
<div class='content'></div><h2><ol>
<li>Creating a Service</li>
</ol>
</h2>
<div class='content'><p>To create a service, you can use the Angular CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmcgZ2VuZXJhdGUgc2VydmljZSBteS1zZXJ2aWNl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ng generate service my-service</pre></div><div class='content'><p>This command will generate two files:</p>
<ul>
<li><code>my-service.service.ts</code></li>
<li><code>my-service.service.spec.ts</code> (for testing)</li>
</ul>
</div><h2><ol start="2">
<li>Defining the Service</li>
</ol>
</h2>
<div class='content'><p>Open <code>my-service.service.ts</code> and define your service:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoewogIHByb3ZpZGVkSW46ICdyb290JywKfSkKZXhwb3J0IGNsYXNzIE15U2VydmljZSB7CiAgcHJpdmF0ZSBkYXRhOiBzdHJpbmdbXSA9IFtdOwoKICBjb25zdHJ1Y3RvcigpIHt9CgogIGdldERhdGEoKTogc3RyaW5nW10gewogICAgcmV0dXJuIHRoaXMuZGF0YTsKICB9CgogIGFkZERhdGEoaXRlbTogc3RyaW5nKTogdm9pZCB7CiAgICB0aGlzLmRhdGEucHVzaChpdGVtKTsKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class MyService {
  private data: string[] = [];

  constructor() {}

  getData(): string[] {
    return this.data;
  }

  addData(item: string): void {
    this.data.push(item);
  }
}</pre></div><div class='content'></div><h2><ol start="3">
<li>Using the Service in a Component</li>
</ol>
</h2>
<div class='content'><p>To use the service in a component, you need to inject it into the component's constructor.</p>
<h4>Step-by-Step Example</h4>
<ol>
<li>
<p><strong>Import the Service</strong>: Import the service into your component.</p>
<pre><code class="language-typescript">import { Component, OnInit } from '@angular/core';
import { MyService } from './my-service.service';
</code></pre>
</li>
<li>
<p><strong>Inject the Service</strong>: Inject the service into the component's constructor.</p>
<pre><code class="language-typescript">@Component({
  selector: 'app-my-component',
  templateUrl: './my-component.component.html',
  styleUrls: ['./my-component.component.css']
})
export class MyComponent implements OnInit {
  data: string[];

  constructor(private myService: MyService) {}

  ngOnInit(): void {
    this.data = this.myService.getData();
  }

  addItem(item: string): void {
    this.myService.addData(item);
    this.data = this.myService.getData();
  }
}
</code></pre>
</li>
<li>
<p><strong>Use the Service Methods</strong>: Use the service methods within your component to manage data.</p>
<pre><code class="language-html">&lt;!-- my-component.component.html --&gt;
&lt;div&gt;
  &lt;ul&gt;
    &lt;li *ngFor=&quot;let item of data&quot;&gt;{{ item }}&lt;/li&gt;
  &lt;/ul&gt;
  &lt;input #newItem&gt;
  &lt;button (click)=&quot;addItem(newItem.value)&quot;&gt;Add Item&lt;/button&gt;
&lt;/div&gt;
</code></pre>
</li>
</ol>
</div><h2><ol start="4">
<li>Providing the Service</li>
</ol>
</h2>
<div class='content'><p>By default, the <code>@Injectable</code> decorator with <code>{ providedIn: 'root' }</code> makes the service available application-wide. This is the recommended way to provide services in Angular.</p>
<p>However, you can also provide a service at the component level:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QENvbXBvbmVudCh7CiAgc2VsZWN0b3I6ICdhcHAtbXktY29tcG9uZW50JywKICB0ZW1wbGF0ZVVybDogJy4vbXktY29tcG9uZW50LmNvbXBvbmVudC5odG1sJywKICBzdHlsZVVybHM6IFsnLi9teS1jb21wb25lbnQuY29tcG9uZW50LmNzcyddLAogIHByb3ZpZGVyczogW015U2VydmljZV0KfSkKZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHsKICAvLyBDb21wb25lbnQgY29kZSBoZXJlCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Component({
  selector: 'app-my-component',
  templateUrl: './my-component.component.html',
  styleUrls: ['./my-component.component.css'],
  providers: [MyService]
})
export class MyComponent implements OnInit {
  // Component code here
}</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create and Use a Service</p>
</h2>
<div class='content'><ol>
<li><strong>Create a Service</strong>: Create a service named <code>TaskService</code> that manages a list of tasks.</li>
<li><strong>Define Methods</strong>: Add methods to get tasks, add a task, and remove a task.</li>
<li><strong>Use the Service</strong>: Inject the service into a component and use it to display and manage tasks.</li>
</ol>
<h4>Solution</h4>
<ol>
<li>
<p><strong>Create the Service</strong>:</p>
<pre><code class="language-bash">ng generate service task
</code></pre>
</li>
<li>
<p><strong>Define the Service</strong>:</p>
<pre><code class="language-typescript">// task.service.ts
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class TaskService {
  private tasks: string[] = [];

  constructor() {}

  getTasks(): string[] {
    return this.tasks;
  }

  addTask(task: string): void {
    this.tasks.push(task);
  }

  removeTask(task: string): void {
    this.tasks = this.tasks.filter(t =&gt; t !== task);
  }
}
</code></pre>
</li>
<li>
<p><strong>Use the Service in a Component</strong>:</p>
<pre><code class="language-typescript">// app.component.ts
import { Component, OnInit } from '@angular/core';
import { TaskService } from './task.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent implements OnInit {
  tasks: string[];

  constructor(private taskService: TaskService) {}

  ngOnInit(): void {
    this.tasks = this.taskService.getTasks();
  }

  addTask(task: string): void {
    this.taskService.addTask(task);
    this.tasks = this.taskService.getTasks();
  }

  removeTask(task: string): void {
    this.taskService.removeTask(task);
    this.tasks = this.taskService.getTasks();
  }
}
</code></pre>
<pre><code class="language-html">&lt;!-- app.component.html --&gt;
&lt;div&gt;
  &lt;ul&gt;
    &lt;li *ngFor=&quot;let task of tasks&quot;&gt;
      {{ task }}
      &lt;button (click)=&quot;removeTask(task)&quot;&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;input #newTask&gt;
  &lt;button (click)=&quot;addTask(newTask.value)&quot;&gt;Add Task&lt;/button&gt;
&lt;/div&gt;
</code></pre>
</li>
</ol>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, you learned how to create and use services in Angular. Services help encapsulate business logic and data access, making your components cleaner and more focused on the user interface. You also learned how to inject services into components and use their methods to manage data. This foundational knowledge will be crucial as you build more complex Angular applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-introduction-to-services' title="Introduction to Services">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-dependency-injection' title="Dependency Injection">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
