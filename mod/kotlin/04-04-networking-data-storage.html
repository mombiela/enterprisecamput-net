<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Networking and Data Storage</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kotlin/04-04-networking-data-storage" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kotlin/04-04-networking-data-storage" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kotlin/04-04-networking-data-storage" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "kotlin";
  		var TEMA_NAME = "4-4";
  		var TYPE = "mod";
  		var PATH = "mod/kotlin/04-04-networking-data-storage";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.86da6c742a.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/kotlin/04-04-networking-data-storage" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/kotlin/04-04-networking-data-storage" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kotlin">
		<a  href="#" class="text-secondary d-none" data-read-mod="kotlin" data-read-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kotlin" data-unread-unit="4-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-handling-user-input' title="Handling User Input" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-handling-user-input' title="Handling User Input" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Networking and Data Storage</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-05-testing-debugging' title="Testing and Debugging" class="py-2 px-3 btn btn-primary"
				data-read-mod="kotlin" data-read-unit="4-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-05-testing-debugging' title="Testing and Debugging" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kotlin" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to handle networking and data storage in Android applications using Kotlin. This is a crucial aspect of mobile development as most applications need to fetch data from the internet and store it locally.</p>
</div><h1><ol>
<li>Networking in Android</li>
</ol></h1>
<div class='content'></div><h2>1.1. Introduction to Networking</h2>
<div class='content'><p>Networking involves fetching data from the internet or sending data to a server. Common tasks include:</p>
<ul>
<li>Making HTTP requests</li>
<li>Parsing JSON responses</li>
<li>Handling network errors</li>
</ul>
</div><h2>1.2. Using Retrofit for Networking</h2>
<div class='content'><p>Retrofit is a type-safe HTTP client for Android and Java. It simplifies the process of making network requests and handling responses.</p>
<h4>Setting Up Retrofit</h4>
<ol>
<li>
<p>Add Retrofit dependencies to your <code>build.gradle</code> file:</p>
<pre><code class="language-groovy">implementation 'com.squareup.retrofit2:retrofit:2.9.0'
implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
</code></pre>
</li>
<li>
<p>Create a data model class for the JSON response:</p>
<pre><code class="language-kotlin">data class User(
    val id: Int,
    val name: String,
    val email: String
)
</code></pre>
</li>
<li>
<p>Define an API interface:</p>
<pre><code class="language-kotlin">interface ApiService {
    @GET(&quot;users&quot;)
    suspend fun getUsers(): List&lt;User&gt;
}
</code></pre>
</li>
<li>
<p>Create a Retrofit instance:</p>
<pre><code class="language-kotlin">val retrofit = Retrofit.Builder()
    .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)
    .addConverterFactory(GsonConverterFactory.create())
    .build()

val apiService = retrofit.create(ApiService::class.java)
</code></pre>
</li>
<li>
<p>Make a network request:</p>
<pre><code class="language-kotlin">CoroutineScope(Dispatchers.IO).launch {
    try {
        val users = apiService.getUsers()
        withContext(Dispatchers.Main) {
            // Update UI with the fetched data
        }
    } catch (e: Exception) {
        // Handle error
    }
}
</code></pre>
</li>
</ol>
</div><h2>1.3. Handling Network Errors</h2>
<div class='content'><p>Network errors are common and should be handled gracefully. Use try-catch blocks to catch exceptions and provide user feedback.</p>
</div><h1><ol start="2">
<li>Data Storage in Android</li>
</ol></h1>
<div class='content'></div><h2>2.1. SharedPreferences</h2>
<div class='content'><p>SharedPreferences is used for storing simple data in key-value pairs.</p>
<h4>Example:</h4>
<ol>
<li>
<p>Save data:</p>
<pre><code class="language-kotlin">val sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE)
val editor = sharedPreferences.edit()
editor.putString(&quot;username&quot;, &quot;JohnDoe&quot;)
editor.apply()
</code></pre>
</li>
<li>
<p>Retrieve data:</p>
<pre><code class="language-kotlin">val sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE)
val username = sharedPreferences.getString(&quot;username&quot;, null)
</code></pre>
</li>
</ol>
</div><h2>2.2. Room Database</h2>
<div class='content'><p>Room is a persistence library that provides an abstraction layer over SQLite.</p>
<h4>Setting Up Room</h4>
<ol>
<li>
<p>Add Room dependencies to your <code>build.gradle</code> file:</p>
<pre><code class="language-groovy">implementation &quot;androidx.room:room-runtime:2.3.0&quot;
kapt &quot;androidx.room:room-compiler:2.3.0&quot;
</code></pre>
</li>
<li>
<p>Create an entity class:</p>
<pre><code class="language-kotlin">@Entity(tableName = &quot;users&quot;)
data class User(
    @PrimaryKey(autoGenerate = true) val id: Int,
    val name: String,
    val email: String
)
</code></pre>
</li>
<li>
<p>Create a DAO (Data Access Object):</p>
<pre><code class="language-kotlin">@Dao
interface UserDao {
    @Insert
    suspend fun insert(user: User)

    @Query(&quot;SELECT * FROM users&quot;)
    suspend fun getAllUsers(): List&lt;User&gt;
}
</code></pre>
</li>
<li>
<p>Create a database class:</p>
<pre><code class="language-kotlin">@Database(entities = [User::class], version = 1)
abstract class AppDatabase : RoomDatabase() {
    abstract fun userDao(): UserDao
}
</code></pre>
</li>
<li>
<p>Use the database:</p>
<pre><code class="language-kotlin">val db = Room.databaseBuilder(
    applicationContext,
    AppDatabase::class.java, &quot;database-name&quot;
).build()

val userDao = db.userDao()

CoroutineScope(Dispatchers.IO).launch {
    userDao.insert(User(name = &quot;John Doe&quot;, email = &quot;john@example.com&quot;))
    val users = userDao.getAllUsers()
    withContext(Dispatchers.Main) {
        // Update UI with the fetched data
    }
}
</code></pre>
</li>
</ol>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Fetch and Display Data from an API</h2>
<div class='content'><ol>
<li>Use Retrofit to fetch a list of posts from <code>https://jsonplaceholder.typicode.com/posts</code>.</li>
<li>Display the posts in a RecyclerView.</li>
</ol>
</div><h2>Exercise 2: Store and Retrieve Data Using Room</h2>
<div class='content'><ol>
<li>Create a Room database to store user information.</li>
<li>Implement functionality to add a new user and display all users in a RecyclerView.</li>
</ol>
</div><h1>Solutions</h1>
<div class='content'></div><h2>Solution 1: Fetch and Display Data from an API</h2>
<div class='content'><ol>
<li>
<p>Define the data model:</p>
<pre><code class="language-kotlin">data class Post(
    val userId: Int,
    val id: Int,
    val title: String,
    val body: String
)
</code></pre>
</li>
<li>
<p>Define the API interface:</p>
<pre><code class="language-kotlin">interface ApiService {
    @GET(&quot;posts&quot;)
    suspend fun getPosts(): List&lt;Post&gt;
}
</code></pre>
</li>
<li>
<p>Create the Retrofit instance and make the network request:</p>
<pre><code class="language-kotlin">val retrofit = Retrofit.Builder()
    .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)
    .addConverterFactory(GsonConverterFactory.create())
    .build()

val apiService = retrofit.create(ApiService::class.java)

CoroutineScope(Dispatchers.IO).launch {
    try {
        val posts = apiService.getPosts()
        withContext(Dispatchers.Main) {
            // Update RecyclerView with the fetched data
        }
    } catch (e: Exception) {
        // Handle error
    }
}
</code></pre>
</li>
</ol>
</div><h2>Solution 2: Store and Retrieve Data Using Room</h2>
<div class='content'><ol>
<li>Define the entity, DAO, and database classes as shown in the Room setup section.</li>
<li>Implement the functionality to add a new user and display all users in a RecyclerView.</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of networking and data storage in Android using Kotlin. We learned how to use Retrofit for making network requests and Room for local data storage. These skills are essential for building robust and data-driven Android applications. In the next section, we will focus on testing and debugging to ensure our applications are reliable and error-free.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-03-handling-user-input' title="Handling User Input" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-03-handling-user-input' title="Handling User Input" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-05-testing-debugging' title="Testing and Debugging" class="py-2 px-3 btn btn-primary"
				data-read-mod="kotlin" data-read-unit="4-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-05-testing-debugging' title="Testing and Debugging" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kotlin" data-read-unit="4-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Kotlin Programming Course</h1>
<h2>Module 1: Introduction to Kotlin</h2>
<ul>
<li><a href="01-01-introduction-to-kotlin">Introduction to Kotlin</a></li>
<li><a href="01-02-setting-up-development-environment">Setting Up the Development Environment</a></li>
<li><a href="01-03-kotlin-basics-variables-data-types">Kotlin Basics: Variables and Data Types</a></li>
<li><a href="01-04-control-flow-conditionals-loops">Control Flow: Conditionals and Loops</a></li>
<li><a href="01-05-functions-and-lambdas">Functions and Lambdas</a></li>
</ul>
<h2>Module 2: Object-Oriented Programming in Kotlin</h2>
<ul>
<li><a href="02-01-classes-and-objects">Classes and Objects</a></li>
<li><a href="02-02-inheritance-and-interfaces">Inheritance and Interfaces</a></li>
<li><a href="02-03-visibility-modifiers">Visibility Modifiers</a></li>
<li><a href="02-04-data-classes-sealed-classes">Data Classes and Sealed Classes</a></li>
<li><a href="02-05-object-declarations-companion-objects">Object Declarations and Companion Objects</a></li>
</ul>
<h2>Module 3: Advanced Kotlin Features</h2>
<ul>
<li><a href="03-01-collections-and-generics">Collections and Generics</a></li>
<li><a href="03-02-extension-functions">Extension Functions</a></li>
<li><a href="03-03-higher-order-functions-functional-programming">Higher-Order Functions and Functional Programming</a></li>
<li><a href="03-04-coroutines-asynchronous-programming">Coroutines and Asynchronous Programming</a></li>
<li><a href="03-05-dsl-domain-specific-language">DSL (Domain Specific Language) in Kotlin</a></li>
</ul>
<h2>Module 4: Kotlin for Android Development</h2>
<ul>
<li><a href="04-01-introduction-android-development-kotlin">Introduction to Android Development with Kotlin</a></li>
<li><a href="04-02-building-user-interfaces">Building User Interfaces</a></li>
<li><a href="04-03-handling-user-input">Handling User Input</a></li>
<li><a href="04-04-networking-data-storage">Networking and Data Storage</a></li>
<li><a href="04-05-testing-debugging">Testing and Debugging</a></li>
</ul>
<h2>Module 5: Best Practices and Advanced Topics</h2>
<ul>
<li><a href="05-01-code-style-conventions">Code Style and Conventions</a></li>
<li><a href="05-02-performance-optimization">Performance Optimization</a></li>
<li><a href="05-03-security-considerations">Security Considerations</a></li>
<li><a href="05-04-interoperability-with-java">Interoperability with Java</a></li>
<li><a href="05-05-exploring-kotlin-multiplatform">Exploring Kotlin Multiplatform</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
