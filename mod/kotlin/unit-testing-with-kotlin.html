<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing with Kotlin</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kotlin/unit-testing-with-kotlin" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kotlin/unit-testing-with-kotlin" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kotlin/unit-testing-with-kotlin" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/kotlin/unit-testing-with-kotlin" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/kotlin/unit-testing-with-kotlin" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='kotlin-dsl'>&#x25C4;Kotlin DSL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Kotlin</a>
	</div>
	<div class='col-4 text-end'>
					<a href='mocking-in-kotlin'>Mocking in Kotlin &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Unit Testing</h1>
<div class='content'><p>Unit testing is a software testing method where individual units or components of a software are tested. The purpose is to validate that each unit of the software performs as expected. In Kotlin, unit testing is typically done using the JUnit framework.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Unit Test</strong>: A test that checks a single &quot;unit&quot; of code, usually a function or method.</li>
<li><strong>Test Case</strong>: A set of conditions or variables under which a tester determines whether a unit of code is working as expected.</li>
<li><strong>Test Suite</strong>: A collection of test cases.</li>
<li><strong>Mocking</strong>: Creating a fake version of an object to test interactions between objects.</li>
</ul>
</div><h1>Setting Up JUnit in Kotlin</h1>
<div class='content'><p>To start unit testing in Kotlin, you need to set up JUnit in your project. This can be done by adding the necessary dependencies to your <code>build.gradle</code> file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIHRlc3RJbXBsZW1lbnRhdGlvbiAnb3JnLmp1bml0Lmp1cGl0ZXI6anVuaXQtanVwaXRlci1hcGk6NS43LjAnCiAgICB0ZXN0UnVudGltZU9ubHkgJ29yZy5qdW5pdC5qdXBpdGVyOmp1bml0LWp1cGl0ZXItZW5naW5lOjUuNy4wJwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'
}</pre></div><div class='content'></div><h1>Writing Your First Unit Test</h1>
<div class='content'><p>Let's write a simple unit test for a Kotlin function. Suppose we have a function that adds two numbers:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIGFkZChhOiBJbnQsIGI6IEludCk6IEludCB7CiAgICByZXR1cm4gYSArIGIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun add(a: Int, b: Int): Int {
    return a + b
}</pre></div><div class='content'><p>To test this function, we can write a unit test using JUnit:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5Bc3NlcnRpb25zLmFzc2VydEVxdWFscwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3QKCmNsYXNzIE1hdGhUZXN0cyB7CgogICAgQFRlc3QKICAgIGZ1biB0ZXN0QWRkKCkgewogICAgICAgIHZhbCByZXN1bHQgPSBhZGQoMiwgMykKICAgICAgICBhc3NlcnRFcXVhbHMoNSwgcmVzdWx0KQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Assertions.assertEquals
import org.junit.jupiter.api.Test

class MathTests {

    @Test
    fun testAdd() {
        val result = add(2, 3)
        assertEquals(5, result)
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>@Test</strong>: This annotation tells JUnit that the following function is a test case.</li>
<li><strong>assertEquals</strong>: This function checks if the expected value (5) is equal to the actual value (<code>result</code>).</li>
</ul>
</div><h1>Advanced Unit Testing Techniques</h1>
<div class='content'><p>As you become more comfortable with basic unit tests, you can explore more advanced techniques such as mocking and parameterized tests.</p>
</div><h2>Mocking with Mockito</h2>
<div class='content'><p>Mockito is a popular library for creating mock objects in unit tests. To use Mockito, add the following dependency to your <code>build.gradle</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdEltcGxlbWVudGF0aW9uICdvcmcubW9ja2l0bzptb2NraXRvLWNvcmU6My43Ljcn"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>testImplementation 'org.mockito:mockito-core:3.7.7'</pre></div><div class='content'><p>Here's an example of how to use Mockito to mock a dependency:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0CmltcG9ydCBvcmcubW9ja2l0by5Nb2NraXRvLioKCmNsYXNzIFVzZXJTZXJ2aWNlVGVzdCB7CgogICAgQFRlc3QKICAgIGZ1biB0ZXN0R2V0VXNlcigpIHsKICAgICAgICB2YWwgbW9ja1JlcG9zaXRvcnkgPSBtb2NrKFVzZXJSZXBvc2l0b3J5OjpjbGFzcy5qYXZhKQogICAgICAgIGB3aGVuYChtb2NrUmVwb3NpdG9yeS5nZXRVc2VyKDEpKS50aGVuUmV0dXJuKFVzZXIoMSwgIkpvaG4gRG9lIikpCgogICAgICAgIHZhbCB1c2VyU2VydmljZSA9IFVzZXJTZXJ2aWNlKG1vY2tSZXBvc2l0b3J5KQogICAgICAgIHZhbCB1c2VyID0gdXNlclNlcnZpY2UuZ2V0VXNlcigxKQoKICAgICAgICBhc3NlcnRFcXVhbHMoIkpvaG4gRG9lIiwgdXNlci5uYW1lKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test
import org.mockito.Mockito.*

class UserServiceTest {

    @Test
    fun testGetUser() {
        val mockRepository = mock(UserRepository::class.java)
        `when`(mockRepository.getUser(1)).thenReturn(User(1, &quot;John Doe&quot;))

        val userService = UserService(mockRepository)
        val user = userService.getUser(1)

        assertEquals(&quot;John Doe&quot;, user.name)
    }
}</pre></div><div class='content'></div><h2>Parameterized Tests</h2>
<div class='content'><p>Parameterized tests allow you to run the same test with different inputs. JUnit 5 provides support for parameterized tests.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLnBhcmFtcy5QYXJhbWV0ZXJpemVkVGVzdAppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIucGFyYW1zLnByb3ZpZGVyLkNzdlNvdXJjZQppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzCgpjbGFzcyBNYXRoVGVzdHMgewoKICAgIEBQYXJhbWV0ZXJpemVkVGVzdAogICAgQENzdlNvdXJjZSgiMSwgMSwgMiIsICIyLCAzLCA1IiwgIjMsIDUsIDgiKQogICAgZnVuIHRlc3RBZGQoYTogSW50LCBiOiBJbnQsIGV4cGVjdGVkOiBJbnQpIHsKICAgICAgICBhc3NlcnRFcXVhbHMoZXhwZWN0ZWQsIGFkZChhLCBiKSkKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.params.ParameterizedTest
import org.junit.jupiter.params.provider.CsvSource
import org.junit.jupiter.api.Assertions.assertEquals

class MathTests {

    @ParameterizedTest
    @CsvSource(&quot;1, 1, 2&quot;, &quot;2, 3, 5&quot;, &quot;3, 5, 8&quot;)
    fun testAdd(a: Int, b: Int, expected: Int) {
        assertEquals(expected, add(a, b))
    }
}</pre></div><div class='content'></div><h1>Best Practices for Unit Testing</h1>
<div class='content'><ul>
<li><strong>Write Independent Tests</strong>: Each test should be independent of others.</li>
<li><strong>Use Meaningful Test Names</strong>: Test names should clearly describe what they are testing.</li>
<li><strong>Test Edge Cases</strong>: Ensure that you test edge cases and not just the &quot;happy path&quot;.</li>
<li><strong>Keep Tests Fast</strong>: Unit tests should be fast to execute.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Unit testing is a crucial part of software development that ensures your code works as expected. By using JUnit with Kotlin, you can write effective and efficient unit tests. Start with simple tests and gradually incorporate advanced techniques like mocking and parameterized tests. Following best practices will help you maintain a robust and reliable codebase.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='kotlin-dsl'>&#x25C4;Kotlin DSL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Unit Testing with Kotlin</a>
	</div>
	<div class='col-4 text-end'>
					<a href='mocking-in-kotlin'>Mocking in Kotlin &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
