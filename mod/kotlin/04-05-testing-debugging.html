<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing and Debugging</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kotlin/04-05-testing-debugging" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kotlin/04-05-testing-debugging" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kotlin/04-05-testing-debugging" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/kotlin/04-05-testing-debugging" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/kotlin/04-05-testing-debugging" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-04-networking-data-storage' title="Networking and Data Storage">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Testing and Debugging</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-01-code-style-conventions' title="Code Style and Conventions">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover the essential aspects of testing and debugging in Kotlin, particularly in the context of Android development. Testing and debugging are crucial for ensuring the reliability and performance of your applications. This module will guide you through the basics of writing tests, using testing frameworks, and debugging techniques.</p>
</div><h1><p>Table of Contents</p>
</h1>
<div class='content'><ol>
<li>Introduction to Testing</li>
<li>Unit Testing with JUnit</li>
<li>UI Testing with Espresso</li>
<li>Debugging Techniques</li>
<li>Practical Exercises</li>
</ol>
</div><h1><ol>
<li>Introduction to Testing</li>
</ol>
</h1>
<div class='content'><p>Testing is a critical part of the software development process. It helps ensure that your code behaves as expected and can handle edge cases gracefully. There are several types of tests, but the most common ones in Android development are:</p>
<ul>
<li><strong>Unit Tests</strong>: Test individual components or functions in isolation.</li>
<li><strong>Integration Tests</strong>: Test the interaction between different components.</li>
<li><strong>UI Tests</strong>: Test the user interface and user interactions.</li>
</ul>
</div><h1><ol start="2">
<li>Unit Testing with JUnit</li>
</ol>
</h1>
<div class='content'><p>JUnit is a popular testing framework for Java and Kotlin. It allows you to write and run tests to verify the correctness of your code.</p>
</div><h2><p>Setting Up JUnit</p>
</h2>
<div class='content'><p>To use JUnit in your Kotlin project, add the following dependencies to your <code>build.gradle</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIHRlc3RJbXBsZW1lbnRhdGlvbiAnanVuaXQ6anVuaXQ6NC4xMy4yJwogICAgdGVzdEltcGxlbWVudGF0aW9uICdvcmcuamV0YnJhaW5zLmtvdGxpbjprb3RsaW4tdGVzdC1qdW5pdDoxLjUuMjEnCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.jetbrains.kotlin:kotlin-test-junit:1.5.21'
}</pre></div><div class='content'></div><h2><p>Writing a Unit Test</p>
</h2>
<div class='content'><p>Here's a simple example of a unit test in Kotlin using JUnit:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5Bc3NlcnQuYXNzZXJ0RXF1YWxzCmltcG9ydCBvcmcuanVuaXQuVGVzdAoKY2xhc3MgQ2FsY3VsYXRvclRlc3QgewoKICAgIEBUZXN0CiAgICBmdW4gYWRkaXRpb25faXNDb3JyZWN0KCkgewogICAgICAgIHZhbCBjYWxjdWxhdG9yID0gQ2FsY3VsYXRvcigpCiAgICAgICAgdmFsIHJlc3VsdCA9IGNhbGN1bGF0b3IuYWRkKDIsIDMpCiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIHJlc3VsdCkKICAgIH0KfQoKY2xhc3MgQ2FsY3VsYXRvciB7CiAgICBmdW4gYWRkKGE6IEludCwgYjogSW50KTogSW50IHsKICAgICAgICByZXR1cm4gYSArIGIKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.Assert.assertEquals
import org.junit.Test

class CalculatorTest {

    @Test
    fun addition_isCorrect() {
        val calculator = Calculator()
        val result = calculator.add(2, 3)
        assertEquals(5, result)
    }
}

class Calculator {
    fun add(a: Int, b: Int): Int {
        return a + b
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>@Test</code>: This annotation indicates that the method is a test method.</li>
<li><code>assertEquals(expected, actual)</code>: This method checks if the expected value matches the actual value.</li>
</ul>
</div><h1><ol start="3">
<li>UI Testing with Espresso</li>
</ol>
</h1>
<div class='content'><p>Espresso is a testing framework for Android that allows you to write UI tests to simulate user interactions.</p>
</div><h2><p>Setting Up Espresso</p>
</h2>
<div class='content'><p>Add the following dependencies to your <code>build.gradle</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5kcm9pZFRlc3RJbXBsZW1lbnRhdGlvbiAnYW5kcm9pZHgudGVzdC5lc3ByZXNzbzplc3ByZXNzby1jb3JlOjMuNC4wJwphbmRyb2lkVGVzdEltcGxlbWVudGF0aW9uICdhbmRyb2lkeC50ZXN0LmV4dDpqdW5pdDoxLjEuMyc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
androidTestImplementation 'androidx.test.ext:junit:1.1.3'</pre></div><div class='content'></div><h2><p>Writing a UI Test</p>
</h2>
<div class='content'><p>Here's an example of a UI test using Espresso:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFuZHJvaWR4LnRlc3QuZXh0Lmp1bml0LnJ1bm5lcnMuQW5kcm9pZEpVbml0NAppbXBvcnQgYW5kcm9pZHgudGVzdC5ydWxlLkFjdGl2aXR5VGVzdFJ1bGUKaW1wb3J0IGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uRXNwcmVzc28ub25WaWV3CmltcG9ydCBhbmRyb2lkeC50ZXN0LmVzcHJlc3NvLmFjdGlvbi5WaWV3QWN0aW9ucy5jbGljawppbXBvcnQgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5hc3NlcnRpb24uVmlld0Fzc2VydGlvbnMubWF0Y2hlcwppbXBvcnQgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy53aXRoSWQKaW1wb3J0IGFuZHJvaWR4LnRlc3QuZXNwcmVzc28ubWF0Y2hlci5WaWV3TWF0Y2hlcnMud2l0aFRleHQKaW1wb3J0IG9yZy5qdW5pdC5SdWxlCmltcG9ydCBvcmcuanVuaXQuVGVzdAppbXBvcnQgb3JnLmp1bml0LnJ1bm5lci5SdW5XaXRoCgpAUnVuV2l0aChBbmRyb2lkSlVuaXQ0OjpjbGFzcykKY2xhc3MgTWFpbkFjdGl2aXR5VGVzdCB7CgogICAgQGdldDpSdWxlCiAgICB2YWwgYWN0aXZpdHlSdWxlID0gQWN0aXZpdHlUZXN0UnVsZShNYWluQWN0aXZpdHk6OmNsYXNzLmphdmEpCgogICAgQFRlc3QKICAgIGZ1biBidXR0b25DbGlja19jaGFuZ2VzVGV4dCgpIHsKICAgICAgICBvblZpZXcod2l0aElkKFIuaWQuYnV0dG9uKSkucGVyZm9ybShjbGljaygpKQogICAgICAgIG9uVmlldyh3aXRoSWQoUi5pZC50ZXh0VmlldykpLmNoZWNrKG1hdGNoZXMod2l0aFRleHQoIkhlbGxvLCBXb3JsZCEiKSkpCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import androidx.test.ext.junit.runners.AndroidJUnit4
import androidx.test.rule.ActivityTestRule
import androidx.test.espresso.Espresso.onView
import androidx.test.espresso.action.ViewActions.click
import androidx.test.espresso.assertion.ViewAssertions.matches
import androidx.test.espresso.matcher.ViewMatchers.withId
import androidx.test.espresso.matcher.ViewMatchers.withText
import org.junit.Rule
import org.junit.Test
import org.junit.runner.RunWith

@RunWith(AndroidJUnit4::class)
class MainActivityTest {

    @get:Rule
    val activityRule = ActivityTestRule(MainActivity::class.java)

    @Test
    fun buttonClick_changesText() {
        onView(withId(R.id.button)).perform(click())
        onView(withId(R.id.textView)).check(matches(withText(&quot;Hello, World!&quot;)))
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>@RunWith(AndroidJUnit4::class)</code>: This annotation specifies the test runner.</li>
<li><code>@Rule</code>: This annotation provides functional testing of a single activity.</li>
<li><code>onView(withId(R.id.button)).perform(click())</code>: This line simulates a button click.</li>
<li><code>onView(withId(R.id.textView)).check(matches(withText(&quot;Hello, World!&quot;)))</code>: This line checks if the text view displays the expected text.</li>
</ul>
</div><h1><ol start="4">
<li>Debugging Techniques</li>
</ol>
</h1>
<div class='content'><p>Debugging is the process of identifying and fixing bugs in your code. Here are some common debugging techniques:</p>
</div><h2><p>Using Logcat</p>
</h2>
<div class='content'><p>Logcat is a command-line tool that displays logs from your device or emulator. You can use it to print debug messages:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFuZHJvaWQudXRpbC5Mb2cKCmNsYXNzIE1haW5BY3Rpdml0eSA6IEFwcENvbXBhdEFjdGl2aXR5KCkgewoKICAgIG92ZXJyaWRlIGZ1biBvbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGU6IEJ1bmRsZT8pIHsKICAgICAgICBzdXBlci5vbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGUpCiAgICAgICAgc2V0Q29udGVudFZpZXcoUi5sYXlvdXQuYWN0aXZpdHlfbWFpbikKCiAgICAgICAgTG9nLmQoIk1haW5BY3Rpdml0eSIsICJvbkNyZWF0ZSBjYWxsZWQiKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import android.util.Log

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        Log.d(&quot;MainActivity&quot;, &quot;onCreate called&quot;)
    }
}</pre></div><div class='content'></div><h2><p>Using Breakpoints</p>
</h2>
<div class='content'><p>Breakpoints allow you to pause the execution of your code at specific points and inspect the state of your application. To set a breakpoint, click on the left margin next to the line of code where you want to pause.</p>
</div><h2><p>Using the Debugger</p>
</h2>
<div class='content'><p>The Android Studio debugger allows you to step through your code, inspect variables, and evaluate expressions. To start debugging, click the &quot;Debug&quot; button in Android Studio.</p>
</div><h1><ol start="5">
<li>Practical Exercises</li>
</ol>
</h1>
<div class='content'></div><h2><p>Exercise 1: Writing a Unit Test</p>
</h2>
<div class='content'><p>Write a unit test for a function that multiplies two numbers.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5Bc3NlcnQuYXNzZXJ0RXF1YWxzCmltcG9ydCBvcmcuanVuaXQuVGVzdAoKY2xhc3MgTWF0aFRlc3QgewoKICAgIEBUZXN0CiAgICBmdW4gbXVsdGlwbGljYXRpb25faXNDb3JyZWN0KCkgewogICAgICAgIHZhbCByZXN1bHQgPSBtdWx0aXBseSg0LCA1KQogICAgICAgIGFzc2VydEVxdWFscygyMCwgcmVzdWx0KQogICAgfQoKICAgIGZ1biBtdWx0aXBseShhOiBJbnQsIGI6IEludCk6IEludCB7CiAgICAgICAgcmV0dXJuIGEgKiBiCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.Assert.assertEquals
import org.junit.Test

class MathTest {

    @Test
    fun multiplication_isCorrect() {
        val result = multiply(4, 5)
        assertEquals(20, result)
    }

    fun multiply(a: Int, b: Int): Int {
        return a * b
    }
}</pre></div><div class='content'></div><h2><p>Exercise 2: Writing a UI Test</p>
</h2>
<div class='content'><p>Write a UI test that checks if a text view displays &quot;Welcome&quot; when a button is clicked.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFuZHJvaWR4LnRlc3QuZXh0Lmp1bml0LnJ1bm5lcnMuQW5kcm9pZEpVbml0NAppbXBvcnQgYW5kcm9pZHgudGVzdC5ydWxlLkFjdGl2aXR5VGVzdFJ1bGUKaW1wb3J0IGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uRXNwcmVzc28ub25WaWV3CmltcG9ydCBhbmRyb2lkeC50ZXN0LmVzcHJlc3NvLmFjdGlvbi5WaWV3QWN0aW9ucy5jbGljawppbXBvcnQgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5hc3NlcnRpb24uVmlld0Fzc2VydGlvbnMubWF0Y2hlcwppbXBvcnQgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy53aXRoSWQKaW1wb3J0IGFuZHJvaWR4LnRlc3QuZXNwcmVzc28ubWF0Y2hlci5WaWV3TWF0Y2hlcnMud2l0aFRleHQKaW1wb3J0IG9yZy5qdW5pdC5SdWxlCmltcG9ydCBvcmcuanVuaXQuVGVzdAppbXBvcnQgb3JnLmp1bml0LnJ1bm5lci5SdW5XaXRoCgpAUnVuV2l0aChBbmRyb2lkSlVuaXQ0OjpjbGFzcykKY2xhc3MgV2VsY29tZUFjdGl2aXR5VGVzdCB7CgogICAgQGdldDpSdWxlCiAgICB2YWwgYWN0aXZpdHlSdWxlID0gQWN0aXZpdHlUZXN0UnVsZShXZWxjb21lQWN0aXZpdHk6OmNsYXNzLmphdmEpCgogICAgQFRlc3QKICAgIGZ1biBidXR0b25DbGlja19kaXNwbGF5c1dlbGNvbWUoKSB7CiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLndlbGNvbWVCdXR0b24pKS5wZXJmb3JtKGNsaWNrKCkpCiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLndlbGNvbWVUZXh0VmlldykpLmNoZWNrKG1hdGNoZXMod2l0aFRleHQoIldlbGNvbWUiKSkpCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import androidx.test.ext.junit.runners.AndroidJUnit4
import androidx.test.rule.ActivityTestRule
import androidx.test.espresso.Espresso.onView
import androidx.test.espresso.action.ViewActions.click
import androidx.test.espresso.assertion.ViewAssertions.matches
import androidx.test.espresso.matcher.ViewMatchers.withId
import androidx.test.espresso.matcher.ViewMatchers.withText
import org.junit.Rule
import org.junit.Test
import org.junit.runner.RunWith

@RunWith(AndroidJUnit4::class)
class WelcomeActivityTest {

    @get:Rule
    val activityRule = ActivityTestRule(WelcomeActivity::class.java)

    @Test
    fun buttonClick_displaysWelcome() {
        onView(withId(R.id.welcomeButton)).perform(click())
        onView(withId(R.id.welcomeTextView)).check(matches(withText(&quot;Welcome&quot;)))
    }
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of testing and debugging in Kotlin for Android development. We learned how to write unit tests using JUnit, perform UI tests with Espresso, and use various debugging techniques. Testing and debugging are essential skills for any developer, and mastering them will help you create more reliable and maintainable applications. In the next module, we will explore best practices and advanced topics in Kotlin development.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-04-networking-data-storage' title="Networking and Data Storage">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-01-code-style-conventions' title="Code Style and Conventions">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
