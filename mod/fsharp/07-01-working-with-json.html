<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working with JSON</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fsharp/07-01-working-with-json" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fsharp/07-01-working-with-json" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fsharp/07-01-working-with-json" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/fsharp/07-01-working-with-json" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/fsharp/07-01-working-with-json" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-concurrency-patterns' title="Concurrency Patterns">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Working with JSON</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-02-interacting-with-databases' title="Interacting with Databases">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>JSON (JavaScript Object Notation) is a lightweight data interchange format that's easy for humans to read and write, and easy for machines to parse and generate. In F#, working with JSON is straightforward thanks to libraries like <code>Newtonsoft.Json</code> (also known as Json.NET) and <code>FSharp.Data</code>.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>JSON Structure</strong>:</p>
<ul>
<li>JSON objects are collections of key/value pairs.</li>
<li>JSON arrays are ordered lists of values.</li>
<li>Values can be strings, numbers, objects, arrays, <code>true</code>, <code>false</code>, or <code>null</code>.</li>
</ul>
</li>
<li>
<p><strong>Libraries for JSON in F#</strong>:</p>
<ul>
<li><code>Newtonsoft.Json</code>: A popular library for JSON serialization and deserialization.</li>
<li><code>FSharp.Data</code>: Provides type providers for working with JSON data.</li>
</ul>
</li>
</ol>
</div><h1><p>Setting Up</p>
</h1>
<div class='content'><p>Before you start working with JSON in F#, you need to install the necessary libraries. You can do this using the NuGet package manager.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG90bmV0IGFkZCBwYWNrYWdlIE5ld3RvbnNvZnQuSnNvbgpkb3RuZXQgYWRkIHBhY2thZ2UgRlNoYXJwLkRhdGE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dotnet add package Newtonsoft.Json
dotnet add package FSharp.Data</pre></div><div class='content'></div><h1><p>Basic JSON Operations with <code>Newtonsoft.Json</code></p>
</h1>
<div class='content'></div><h2><p>Serialization</p>
</h2>
<div class='content'><p>Serialization is the process of converting an F# object into a JSON string.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBOZXd0b25zb2Z0Lkpzb24KCnR5cGUgUGVyc29uID0gewogICAgTmFtZTogc3RyaW5nCiAgICBBZ2U6IGludAp9CgpsZXQgcGVyc29uID0geyBOYW1lID0gIkpvaG4gRG9lIjsgQWdlID0gMzAgfQpsZXQganNvbiA9IEpzb25Db252ZXJ0LlNlcmlhbGl6ZU9iamVjdChwZXJzb24pCnByaW50Zm4gIlNlcmlhbGl6ZWQgSlNPTjogJXMiIGpzb24="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open Newtonsoft.Json

type Person = {
    Name: string
    Age: int
}

let person = { Name = &quot;John Doe&quot;; Age = 30 }
let json = JsonConvert.SerializeObject(person)
printfn &quot;Serialized JSON: %s&quot; json</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We define a <code>Person</code> type with <code>Name</code> and <code>Age</code> fields.</li>
<li>We create an instance of <code>Person</code>.</li>
<li>We use <code>JsonConvert.SerializeObject</code> to convert the <code>person</code> object to a JSON string.</li>
</ul>
</div><h2><p>Deserialization</p>
</h2>
<div class='content'><p>Deserialization is the process of converting a JSON string back into an F# object.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGpzb24gPSAiIiJ7Ik5hbWUiOiJKb2huIERvZSIsIkFnZSI6MzB9IiIiCmxldCBwZXJzb24gPSBKc29uQ29udmVydC5EZXNlcmlhbGl6ZU9iamVjdDxQZXJzb24+KGpzb24pCnByaW50Zm4gIkRlc2VyaWFsaXplZCBQZXJzb246ICVBIiBwZXJzb24="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let json = &quot;&quot;&quot;{&quot;Name&quot;:&quot;John Doe&quot;,&quot;Age&quot;:30}&quot;&quot;&quot;
let person = JsonConvert.DeserializeObject&lt;Person&gt;(json)
printfn &quot;Deserialized Person: %A&quot; person</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We have a JSON string representing a <code>Person</code>.</li>
<li>We use <code>JsonConvert.DeserializeObject</code> to convert the JSON string back into a <code>Person</code> object.</li>
</ul>
</div><h1><p>Working with <code>FSharp.Data</code></p>
</h1>
<div class='content'><p><code>FSharp.Data</code> provides a type provider for JSON, which allows you to work with JSON data in a strongly-typed manner.</p>
</div><h2><p>Using the JSON Type Provider</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBGU2hhcnAuRGF0YQoKdHlwZSBTYW1wbGVKc29uID0gSnNvblByb3ZpZGVyPCIiInsiTmFtZSI6IkpvaG4gRG9lIiwiQWdlIjozMH0iIiI+CgpsZXQgc2FtcGxlID0gU2FtcGxlSnNvbi5QYXJzZSgiIiJ7Ik5hbWUiOiJKYW5lIERvZSIsIkFnZSI6MjV9IiIiKQpwcmludGZuICJOYW1lOiAlcywgQWdlOiAlZCIgc2FtcGxlLk5hbWUgc2FtcGxlLkFnZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open FSharp.Data

type SampleJson = JsonProvider&lt;&quot;&quot;&quot;{&quot;Name&quot;:&quot;John Doe&quot;,&quot;Age&quot;:30}&quot;&quot;&quot;&gt;

let sample = SampleJson.Parse(&quot;&quot;&quot;{&quot;Name&quot;:&quot;Jane Doe&quot;,&quot;Age&quot;:25}&quot;&quot;&quot;)
printfn &quot;Name: %s, Age: %d&quot; sample.Name sample.Age</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>We define a type <code>SampleJson</code> using the <code>JsonProvider</code> with a sample JSON string.</li>
<li>We parse a JSON string using <code>SampleJson.Parse</code>.</li>
<li>We access the <code>Name</code> and <code>Age</code> properties directly.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Serialize and Deserialize a Complex Object</p>
</h2>
<div class='content'><ol>
<li>Define a type <code>Address</code> with fields <code>Street</code>, <code>City</code>, and <code>ZipCode</code>.</li>
<li>Define a type <code>Person</code> with fields <code>Name</code>, <code>Age</code>, and <code>Address</code>.</li>
<li>Create an instance of <code>Person</code> and serialize it to JSON.</li>
<li>Deserialize the JSON back into a <code>Person</code> object.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBOZXd0b25zb2Z0Lkpzb24KCnR5cGUgQWRkcmVzcyA9IHsKICAgIFN0cmVldDogc3RyaW5nCiAgICBDaXR5OiBzdHJpbmcKICAgIFppcENvZGU6IHN0cmluZwp9Cgp0eXBlIFBlcnNvbiA9IHsKICAgIE5hbWU6IHN0cmluZwogICAgQWdlOiBpbnQKICAgIEFkZHJlc3M6IEFkZHJlc3MKfQoKbGV0IGFkZHJlc3MgPSB7IFN0cmVldCA9ICIxMjMgTWFpbiBTdCI7IENpdHkgPSAiQW55dG93biI7IFppcENvZGUgPSAiMTIzNDUiIH0KbGV0IHBlcnNvbiA9IHsgTmFtZSA9ICJKb2huIERvZSI7IEFnZSA9IDMwOyBBZGRyZXNzID0gYWRkcmVzcyB9CgpsZXQganNvbiA9IEpzb25Db252ZXJ0LlNlcmlhbGl6ZU9iamVjdChwZXJzb24pCnByaW50Zm4gIlNlcmlhbGl6ZWQgSlNPTjogJXMiIGpzb24KCmxldCBkZXNlcmlhbGl6ZWRQZXJzb24gPSBKc29uQ29udmVydC5EZXNlcmlhbGl6ZU9iamVjdDxQZXJzb24+KGpzb24pCnByaW50Zm4gIkRlc2VyaWFsaXplZCBQZXJzb246ICVBIiBkZXNlcmlhbGl6ZWRQZXJzb24="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open Newtonsoft.Json

type Address = {
    Street: string
    City: string
    ZipCode: string
}

type Person = {
    Name: string
    Age: int
    Address: Address
}

let address = { Street = &quot;123 Main St&quot;; City = &quot;Anytown&quot;; ZipCode = &quot;12345&quot; }
let person = { Name = &quot;John Doe&quot;; Age = 30; Address = address }

let json = JsonConvert.SerializeObject(person)
printfn &quot;Serialized JSON: %s&quot; json

let deserializedPerson = JsonConvert.DeserializeObject&lt;Person&gt;(json)
printfn &quot;Deserialized Person: %A&quot; deserializedPerson</pre></div><div class='content'></div><h2><p>Exercise 2: Use the JSON Type Provider</p>
</h2>
<div class='content'><ol>
<li>Define a JSON type provider for a sample JSON with nested objects.</li>
<li>Parse a JSON string using the type provider.</li>
<li>Access nested properties.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBGU2hhcnAuRGF0YQoKdHlwZSBTYW1wbGVKc29uID0gSnNvblByb3ZpZGVyPCIiInsiTmFtZSI6IkpvaG4gRG9lIiwiQWdlIjozMCwiQWRkcmVzcyI6eyJTdHJlZXQiOiIxMjMgTWFpbiBTdCIsIkNpdHkiOiJBbnl0b3duIiwiWmlwQ29kZSI6IjEyMzQ1In19IiIiPgoKbGV0IHNhbXBsZSA9IFNhbXBsZUpzb24uUGFyc2UoIiIieyJOYW1lIjoiSmFuZSBEb2UiLCJBZ2UiOjI1LCJBZGRyZXNzIjp7IlN0cmVldCI6IjQ1NiBFbG0gU3QiLCJDaXR5IjoiT3RoZXJ0b3duIiwiWmlwQ29kZSI6IjY3ODkwIn19IiIiKQpwcmludGZuICJOYW1lOiAlcywgQWdlOiAlZCwgU3RyZWV0OiAlcyIgc2FtcGxlLk5hbWUgc2FtcGxlLkFnZSBzYW1wbGUuQWRkcmVzcy5TdHJlZXQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open FSharp.Data

type SampleJson = JsonProvider&lt;&quot;&quot;&quot;{&quot;Name&quot;:&quot;John Doe&quot;,&quot;Age&quot;:30,&quot;Address&quot;:{&quot;Street&quot;:&quot;123 Main St&quot;,&quot;City&quot;:&quot;Anytown&quot;,&quot;ZipCode&quot;:&quot;12345&quot;}}&quot;&quot;&quot;&gt;

let sample = SampleJson.Parse(&quot;&quot;&quot;{&quot;Name&quot;:&quot;Jane Doe&quot;,&quot;Age&quot;:25,&quot;Address&quot;:{&quot;Street&quot;:&quot;456 Elm St&quot;,&quot;City&quot;:&quot;Othertown&quot;,&quot;ZipCode&quot;:&quot;67890&quot;}}&quot;&quot;&quot;)
printfn &quot;Name: %s, Age: %d, Street: %s&quot; sample.Name sample.Age sample.Address.Street</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Incorrect JSON Format</strong>: Ensure your JSON strings are correctly formatted. Missing commas or braces can cause parsing errors.</li>
<li><strong>Type Mismatch</strong>: Ensure the F# types match the JSON structure. Mismatched types can cause deserialization errors.</li>
<li><strong>Null Values</strong>: Handle <code>null</code> values appropriately, especially when deserializing JSON into F# types.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, you learned how to work with JSON in F# using <code>Newtonsoft.Json</code> and <code>FSharp.Data</code>. You covered serialization, deserialization, and using the JSON type provider. These skills are essential for data interchange in modern applications. Next, you'll explore interacting with databases in F#.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='06-04-concurrency-patterns' title="Concurrency Patterns">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-02-interacting-with-databases' title="Interacting with Databases">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
