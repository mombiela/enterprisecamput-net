<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQLite Databases</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/sqlite-databases" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/sqlite-databases" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/sqlite-databases" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/sqlite-databases" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/sqlite-databases" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='external-storage'>&#x25C4;External Storage</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">SQLite Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='room-persistence-library'>Room Persistence Library &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to SQLite in Android</h1>
<div class='content'><p>SQLite is a lightweight, disk-based database that doesn’t require a separate server process and allows access to the database using a nonstandard variant of the SQL query language. It is a popular choice for local storage in Android applications due to its simplicity and efficiency.</p>
</div><h1>Setting Up SQLite in Android Studio</h1>
<div class='content'><p>To start using SQLite in your Android project, follow these steps:</p>
<ol>
<li><strong>Create a new Android project</strong> in Android Studio.</li>
<li><strong>Add a new class</strong> for managing the database operations.</li>
</ol>
</div><h2>Example: Creating a Database Helper Class</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE15RGF0YWJhc2VIZWxwZXIgZXh0ZW5kcyBTUUxpdGVPcGVuSGVscGVyIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgREFUQUJBU0VfTkFNRSA9ICJteWRhdGFiYXNlLmRiIjsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBEQVRBQkFTRV9WRVJTSU9OID0gMTsKCiAgICBwdWJsaWMgTXlEYXRhYmFzZUhlbHBlcihDb250ZXh0IGNvbnRleHQpIHsKICAgICAgICBzdXBlcihjb250ZXh0LCBEQVRBQkFTRV9OQU1FLCBudWxsLCBEQVRBQkFTRV9WRVJTSU9OKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIG9uQ3JlYXRlKFNRTGl0ZURhdGFiYXNlIGRiKSB7CiAgICAgICAgLy8gQ3JlYXRlIHRhYmxlcwogICAgICAgIFN0cmluZyBDUkVBVEVfVEFCTEUgPSAiQ1JFQVRFIFRBQkxFIG15X3RhYmxlIChpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLCBuYW1lIFRFWFQpIjsKICAgICAgICBkYi5leGVjU1FMKENSRUFURV9UQUJMRSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBvblVwZ3JhZGUoU1FMaXRlRGF0YWJhc2UgZGIsIGludCBvbGRWZXJzaW9uLCBpbnQgbmV3VmVyc2lvbikgewogICAgICAgIC8vIFVwZ3JhZGUgbG9naWMKICAgICAgICBkYi5leGVjU1FMKCJEUk9QIFRBQkxFIElGIEVYSVNUUyBteV90YWJsZSIpOwogICAgICAgIG9uQ3JlYXRlKGRiKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MyDatabaseHelper extends SQLiteOpenHelper {

    private static final String DATABASE_NAME = &quot;mydatabase.db&quot;;
    private static final int DATABASE_VERSION = 1;

    public MyDatabaseHelper(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // Create tables
        String CREATE_TABLE = &quot;CREATE TABLE my_table (id INTEGER PRIMARY KEY, name TEXT)&quot;;
        db.execSQL(CREATE_TABLE);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // Upgrade logic
        db.execSQL(&quot;DROP TABLE IF EXISTS my_table&quot;);
        onCreate(db);
    }
}</pre></div><div class='content'><ul>
<li><strong><code>DATABASE_NAME</code></strong>: The name of the database file.</li>
<li><strong><code>DATABASE_VERSION</code></strong>: The version of the database schema.</li>
<li><strong><code>onCreate</code></strong>: Called when the database is created for the first time.</li>
<li><strong><code>onUpgrade</code></strong>: Called when the database needs to be upgraded.</li>
</ul>
</div><h1>Basic CRUD Operations</h1>
<div class='content'><p>CRUD stands for Create, Read, Update, and Delete. These are the four basic operations you can perform on a database.</p>
</div><h2>Create (Insert)</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHZvaWQgYWRkUmVjb3JkKFN0cmluZyBuYW1lKSB7CiAgICBTUUxpdGVEYXRhYmFzZSBkYiA9IHRoaXMuZ2V0V3JpdGFibGVEYXRhYmFzZSgpOwogICAgQ29udGVudFZhbHVlcyB2YWx1ZXMgPSBuZXcgQ29udGVudFZhbHVlcygpOwogICAgdmFsdWVzLnB1dCgibmFtZSIsIG5hbWUpOwogICAgZGIuaW5zZXJ0KCJteV90YWJsZSIsIG51bGwsIHZhbHVlcyk7CiAgICBkYi5jbG9zZSgpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public void addRecord(String name) {
    SQLiteDatabase db = this.getWritableDatabase();
    ContentValues values = new ContentValues();
    values.put(&quot;name&quot;, name);
    db.insert(&quot;my_table&quot;, null, values);
    db.close();
}</pre></div><div class='content'><ul>
<li><strong><code>ContentValues</code></strong>: A key/value pair structure to insert data into the database.</li>
</ul>
</div><h2>Read (Query)</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIExpc3Q8U3RyaW5nPiBnZXRBbGxSZWNvcmRzKCkgewogICAgTGlzdDxTdHJpbmc+IHJlY29yZHMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKICAgIFNRTGl0ZURhdGFiYXNlIGRiID0gdGhpcy5nZXRSZWFkYWJsZURhdGFiYXNlKCk7CiAgICBDdXJzb3IgY3Vyc29yID0gZGIucmF3UXVlcnkoIlNFTEVDVCAqIEZST00gbXlfdGFibGUiLCBudWxsKTsKICAgIGlmIChjdXJzb3IubW92ZVRvRmlyc3QoKSkgewogICAgICAgIGRvIHsKICAgICAgICAgICAgcmVjb3Jkcy5hZGQoY3Vyc29yLmdldFN0cmluZygxKSk7IC8vIDEgaXMgdGhlIGluZGV4IG9mIHRoZSAnbmFtZScgY29sdW1uCiAgICAgICAgfSB3aGlsZSAoY3Vyc29yLm1vdmVUb05leHQoKSk7CiAgICB9CiAgICBjdXJzb3IuY2xvc2UoKTsKICAgIGRiLmNsb3NlKCk7CiAgICByZXR1cm4gcmVjb3JkczsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public List&lt;String&gt; getAllRecords() {
    List&lt;String&gt; records = new ArrayList&lt;&gt;();
    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(&quot;SELECT * FROM my_table&quot;, null);
    if (cursor.moveToFirst()) {
        do {
            records.add(cursor.getString(1)); // 1 is the index of the 'name' column
        } while (cursor.moveToNext());
    }
    cursor.close();
    db.close();
    return records;
}</pre></div><div class='content'><ul>
<li><strong><code>Cursor</code></strong>: Used to iterate over the result set from a database query.</li>
</ul>
</div><h2>Update</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHZvaWQgdXBkYXRlUmVjb3JkKGludCBpZCwgU3RyaW5nIG5ld05hbWUpIHsKICAgIFNRTGl0ZURhdGFiYXNlIGRiID0gdGhpcy5nZXRXcml0YWJsZURhdGFiYXNlKCk7CiAgICBDb250ZW50VmFsdWVzIHZhbHVlcyA9IG5ldyBDb250ZW50VmFsdWVzKCk7CiAgICB2YWx1ZXMucHV0KCJuYW1lIiwgbmV3TmFtZSk7CiAgICBkYi51cGRhdGUoIm15X3RhYmxlIiwgdmFsdWVzLCAiaWQgPSA/IiwgbmV3IFN0cmluZ1tde1N0cmluZy52YWx1ZU9mKGlkKX0pOwogICAgZGIuY2xvc2UoKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public void updateRecord(int id, String newName) {
    SQLiteDatabase db = this.getWritableDatabase();
    ContentValues values = new ContentValues();
    values.put(&quot;name&quot;, newName);
    db.update(&quot;my_table&quot;, values, &quot;id = ?&quot;, new String[]{String.valueOf(id)});
    db.close();
}</pre></div><div class='content'><ul>
<li><strong><code>update</code></strong>: Updates the specified rows in the database.</li>
</ul>
</div><h2>Delete</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHZvaWQgZGVsZXRlUmVjb3JkKGludCBpZCkgewogICAgU1FMaXRlRGF0YWJhc2UgZGIgPSB0aGlzLmdldFdyaXRhYmxlRGF0YWJhc2UoKTsKICAgIGRiLmRlbGV0ZSgibXlfdGFibGUiLCAiaWQgPSA/IiwgbmV3IFN0cmluZ1tde1N0cmluZy52YWx1ZU9mKGlkKX0pOwogICAgZGIuY2xvc2UoKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public void deleteRecord(int id) {
    SQLiteDatabase db = this.getWritableDatabase();
    db.delete(&quot;my_table&quot;, &quot;id = ?&quot;, new String[]{String.valueOf(id)});
    db.close();
}</pre></div><div class='content'><ul>
<li><strong><code>delete</code></strong>: Deletes the specified rows from the database.</li>
</ul>
</div><h1>Advanced SQLite Features</h1>
<h2>Transactions</h2>
<div class='content'><p>Transactions allow you to execute a series of database operations as a single unit of work.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHZvaWQgcGVyZm9ybVRyYW5zYWN0aW9uKCkgewogICAgU1FMaXRlRGF0YWJhc2UgZGIgPSB0aGlzLmdldFdyaXRhYmxlRGF0YWJhc2UoKTsKICAgIGRiLmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgIHRyeSB7CiAgICAgICAgLy8gUGVyZm9ybSBtdWx0aXBsZSBvcGVyYXRpb25zCiAgICAgICAgZGIuZXhlY1NRTCgiSU5TRVJUIElOVE8gbXlfdGFibGUgKG5hbWUpIFZBTFVFUyAoJ0pvaG4nKSIpOwogICAgICAgIGRiLmV4ZWNTUUwoIklOU0VSVCBJTlRPIG15X3RhYmxlIChuYW1lKSBWQUxVRVMgKCdEb2UnKSIpOwogICAgICAgIGRiLnNldFRyYW5zYWN0aW9uU3VjY2Vzc2Z1bCgpOwogICAgfSBmaW5hbGx5IHsKICAgICAgICBkYi5lbmRUcmFuc2FjdGlvbigpOwogICAgfQogICAgZGIuY2xvc2UoKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public void performTransaction() {
    SQLiteDatabase db = this.getWritableDatabase();
    db.beginTransaction();
    try {
        // Perform multiple operations
        db.execSQL(&quot;INSERT INTO my_table (name) VALUES ('John')&quot;);
        db.execSQL(&quot;INSERT INTO my_table (name) VALUES ('Doe')&quot;);
        db.setTransactionSuccessful();
    } finally {
        db.endTransaction();
    }
    db.close();
}</pre></div><div class='content'><ul>
<li><strong><code>beginTransaction</code></strong>: Begins a new transaction.</li>
<li><strong><code>setTransactionSuccessful</code></strong>: Marks the current transaction as successful.</li>
<li><strong><code>endTransaction</code></strong>: Ends the current transaction.</li>
</ul>
</div><h2>Indexes</h2>
<div class='content'><p>Indexes can improve the performance of your database queries.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QE92ZXJyaWRlCnB1YmxpYyB2b2lkIG9uQ3JlYXRlKFNRTGl0ZURhdGFiYXNlIGRiKSB7CiAgICBTdHJpbmcgQ1JFQVRFX1RBQkxFID0gIkNSRUFURSBUQUJMRSBteV90YWJsZSAoaWQgSU5URUdFUiBQUklNQVJZIEtFWSwgbmFtZSBURVhUKSI7CiAgICBkYi5leGVjU1FMKENSRUFURV9UQUJMRSk7CiAgICBTdHJpbmcgQ1JFQVRFX0lOREVYID0gIkNSRUFURSBJTkRFWCBpbmRleF9uYW1lIE9OIG15X3RhYmxlKG5hbWUpIjsKICAgIGRiLmV4ZWNTUUwoQ1JFQVRFX0lOREVYKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Override
public void onCreate(SQLiteDatabase db) {
    String CREATE_TABLE = &quot;CREATE TABLE my_table (id INTEGER PRIMARY KEY, name TEXT)&quot;;
    db.execSQL(CREATE_TABLE);
    String CREATE_INDEX = &quot;CREATE INDEX index_name ON my_table(name)&quot;;
    db.execSQL(CREATE_INDEX);
}</pre></div><div class='content'><ul>
<li><strong><code>CREATE INDEX</code></strong>: Creates an index on the specified column(s).</li>
</ul>
</div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Use parameterized queries</strong> to prevent SQL injection.</li>
<li><strong>Close database connections</strong> to avoid memory leaks.</li>
<li><strong>Use transactions</strong> for batch operations to ensure data integrity.</li>
<li><strong>Optimize queries</strong> with indexes and proper schema design.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>SQLite is a powerful and efficient database solution for Android applications. By understanding and implementing basic and advanced features, you can effectively manage local data storage in your apps. Practice the CRUD operations, use transactions for complex operations, and follow best practices to ensure your app's database is robust and performant.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='external-storage'>&#x25C4;External Storage</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">SQLite Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='room-persistence-library'>Room Persistence Library &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
