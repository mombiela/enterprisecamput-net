<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViewModel and LiveData in Android Studio</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/viewmodel-and-livedata" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/viewmodel-and-livedata" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/viewmodel-and-livedata" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/viewmodel-and-livedata" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/viewmodel-and-livedata" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='recyclerview-and-adapters'>&#x25C4;RecyclerView and Adapters</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ViewModel and LiveData in Android Studio</a>
	</div>
	<div class='col-4 text-end'>
					<a href='data-binding'>Data Binding &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this module, we will explore the concepts of ViewModel and LiveData in Android development. These components are part of Android's architecture components, designed to help you build robust, maintainable, and testable applications.</p>
</div><h1>What is ViewModel?</h1>
<div class='content'><p>A ViewModel is a class that is responsible for preparing and managing the data for an Activity or a Fragment. It also handles the communication of the Activity/Fragment with the rest of the application (e.g., calling business logic classes).</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Lifecycle Awareness</strong>: ViewModel objects are designed to outlive configuration changes such as screen rotations.</li>
<li><strong>Separation of Concerns</strong>: ViewModel helps in separating the UI data from UI controllers like Activities and Fragments.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTXlWaWV3TW9kZWwgOiBWaWV3TW9kZWwoKSB7CiAgICBwcml2YXRlIHZhbCBfZGF0YSA9IE11dGFibGVMaXZlRGF0YTxTdHJpbmc+KCkKICAgIHZhbCBkYXRhOiBMaXZlRGF0YTxTdHJpbmc+IGdldCgpID0gX2RhdGEKCiAgICBmdW4gbG9hZERhdGEoKSB7CiAgICAgICAgLy8gU2ltdWxhdGUgbG9hZGluZyBkYXRhIGZyb20gYSByZXBvc2l0b3J5CiAgICAgICAgX2RhdGEudmFsdWUgPSAiSGVsbG8sIFZpZXdNb2RlbCEiCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MyViewModel : ViewModel() {
    private val _data = MutableLiveData&lt;String&gt;()
    val data: LiveData&lt;String&gt; get() = _data

    fun loadData() {
        // Simulate loading data from a repository
        _data.value = &quot;Hello, ViewModel!&quot;
    }
}</pre></div><div class='content'></div><h1>What is LiveData?</h1>
<div class='content'><p>LiveData is an observable data holder class. Unlike a regular observable, LiveData is lifecycle-aware, meaning it respects the lifecycle of other app components, such as Activities, Fragments, or Services.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Lifecycle Awareness</strong>: LiveData only updates app component observers that are in an active lifecycle state.</li>
<li><strong>Automatic Cleanup</strong>: LiveData automatically removes observers when their associated lifecycle is destroyed.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTXlBY3Rpdml0eSA6IEFwcENvbXBhdEFjdGl2aXR5KCkgewogICAgcHJpdmF0ZSBsYXRlaW5pdCB2YXIgdmlld01vZGVsOiBNeVZpZXdNb2RlbAoKICAgIG92ZXJyaWRlIGZ1biBvbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGU6IEJ1bmRsZT8pIHsKICAgICAgICBzdXBlci5vbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGUpCiAgICAgICAgc2V0Q29udGVudFZpZXcoUi5sYXlvdXQuYWN0aXZpdHlfbWFpbikKCiAgICAgICAgdmlld01vZGVsID0gVmlld01vZGVsUHJvdmlkZXIodGhpcykuZ2V0KE15Vmlld01vZGVsOjpjbGFzcy5qYXZhKQoKICAgICAgICB2aWV3TW9kZWwuZGF0YS5vYnNlcnZlKHRoaXMsIE9ic2VydmVyIHsgZGF0YSAtPgogICAgICAgICAgICAvLyBVcGRhdGUgdGhlIFVJCiAgICAgICAgICAgIGZpbmRWaWV3QnlJZDxUZXh0Vmlldz4oUi5pZC50ZXh0VmlldykudGV4dCA9IGRhdGEKICAgICAgICB9KQoKICAgICAgICB2aWV3TW9kZWwubG9hZERhdGEoKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MyActivity : AppCompatActivity() {
    private lateinit var viewModel: MyViewModel

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        viewModel = ViewModelProvider(this).get(MyViewModel::class.java)

        viewModel.data.observe(this, Observer { data -&gt;
            // Update the UI
            findViewById&lt;TextView&gt;(R.id.textView).text = data
        })

        viewModel.loadData()
    }
}</pre></div><div class='content'></div><h1>Combining ViewModel and LiveData</h1>
<div class='content'><p>Combining ViewModel and LiveData allows you to create a robust architecture for your Android applications. ViewModel holds and manages UI-related data, while LiveData provides lifecycle-aware data observation.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTXlWaWV3TW9kZWwgOiBWaWV3TW9kZWwoKSB7CiAgICBwcml2YXRlIHZhbCBfZGF0YSA9IE11dGFibGVMaXZlRGF0YTxTdHJpbmc+KCkKICAgIHZhbCBkYXRhOiBMaXZlRGF0YTxTdHJpbmc+IGdldCgpID0gX2RhdGEKCiAgICBmdW4gbG9hZERhdGEoKSB7CiAgICAgICAgLy8gU2ltdWxhdGUgbG9hZGluZyBkYXRhIGZyb20gYSByZXBvc2l0b3J5CiAgICAgICAgX2RhdGEudmFsdWUgPSAiSGVsbG8sIFZpZXdNb2RlbCBhbmQgTGl2ZURhdGEhIgogICAgfQp9CgpjbGFzcyBNeUFjdGl2aXR5IDogQXBwQ29tcGF0QWN0aXZpdHkoKSB7CiAgICBwcml2YXRlIGxhdGVpbml0IHZhciB2aWV3TW9kZWw6IE15Vmlld01vZGVsCgogICAgb3ZlcnJpZGUgZnVuIG9uQ3JlYXRlKHNhdmVkSW5zdGFuY2VTdGF0ZTogQnVuZGxlPykgewogICAgICAgIHN1cGVyLm9uQ3JlYXRlKHNhdmVkSW5zdGFuY2VTdGF0ZSkKICAgICAgICBzZXRDb250ZW50VmlldyhSLmxheW91dC5hY3Rpdml0eV9tYWluKQoKICAgICAgICB2aWV3TW9kZWwgPSBWaWV3TW9kZWxQcm92aWRlcih0aGlzKS5nZXQoTXlWaWV3TW9kZWw6OmNsYXNzLmphdmEpCgogICAgICAgIHZpZXdNb2RlbC5kYXRhLm9ic2VydmUodGhpcywgT2JzZXJ2ZXIgeyBkYXRhIC0+CiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgVUkKICAgICAgICAgICAgZmluZFZpZXdCeUlkPFRleHRWaWV3PihSLmlkLnRleHRWaWV3KS50ZXh0ID0gZGF0YQogICAgICAgIH0pCgogICAgICAgIHZpZXdNb2RlbC5sb2FkRGF0YSgpCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MyViewModel : ViewModel() {
    private val _data = MutableLiveData&lt;String&gt;()
    val data: LiveData&lt;String&gt; get() = _data

    fun loadData() {
        // Simulate loading data from a repository
        _data.value = &quot;Hello, ViewModel and LiveData!&quot;
    }
}

class MyActivity : AppCompatActivity() {
    private lateinit var viewModel: MyViewModel

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        viewModel = ViewModelProvider(this).get(MyViewModel::class.java)

        viewModel.data.observe(this, Observer { data -&gt;
            // Update the UI
            findViewById&lt;TextView&gt;(R.id.textView).text = data
        })

        viewModel.loadData()
    }
}</pre></div><div class='content'></div><h1>Advanced Topics</h1>
<h2>Transformations</h2>
<div class='content'><p>LiveData provides transformation methods such as <code>map</code> and <code>switchMap</code> to manipulate the data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIHRyYW5zZm9ybWVkRGF0YTogTGl2ZURhdGE8U3RyaW5nPiA9IFRyYW5zZm9ybWF0aW9ucy5tYXAodmlld01vZGVsLmRhdGEpIHsgZGF0YSAtPgogICAgIlRyYW5zZm9ybWVkOiAkZGF0YSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val transformedData: LiveData&lt;String&gt; = Transformations.map(viewModel.data) { data -&gt;
    &quot;Transformed: $data&quot;
}</pre></div><div class='content'></div><h2>MediatorLiveData</h2>
<div class='content'><p>MediatorLiveData can observe other LiveData objects and react to their changes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIG1lZGlhdG9yTGl2ZURhdGEgPSBNZWRpYXRvckxpdmVEYXRhPFN0cmluZz4oKQptZWRpYXRvckxpdmVEYXRhLmFkZFNvdXJjZSh2aWV3TW9kZWwuZGF0YSkgeyBkYXRhIC0+CiAgICBtZWRpYXRvckxpdmVEYXRhLnZhbHVlID0gIk1lZGlhdG9yOiAkZGF0YSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val mediatorLiveData = MediatorLiveData&lt;String&gt;()
mediatorLiveData.addSource(viewModel.data) { data -&gt;
    mediatorLiveData.value = &quot;Mediator: $data&quot;
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>ViewModel and LiveData are powerful tools in Android development that help manage UI-related data in a lifecycle-conscious way. By using these components, you can create more robust, maintainable, and testable applications. Understanding and implementing these components effectively will significantly improve your Android development skills.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='recyclerview-and-adapters'>&#x25C4;RecyclerView and Adapters</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ViewModel and LiveData in Android Studio</a>
	</div>
	<div class='col-4 text-end'>
					<a href='data-binding'>Data Binding &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
