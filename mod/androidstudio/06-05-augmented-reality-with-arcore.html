<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Augmented Reality with ARCore</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/06-05-augmented-reality-with-arcore" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/06-05-augmented-reality-with-arcore" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/06-05-augmented-reality-with-arcore" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/06-05-augmented-reality-with-arcore" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/06-05-augmented-reality-with-arcore" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-using-machine-learning-in-android' title="Using Machine Learning in Android">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Augmented Reality with ARCore</h2></a>
			</div>
	<div class='col-2 text-end'>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Augmented Reality (AR) is a technology that overlays digital information on the real world. ARCore is Google's platform for building augmented reality experiences on Android. In this module, we will explore how to integrate ARCore into your Android applications and create immersive AR experiences.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>ARCore Overview</strong>: Understanding the basics of ARCore and its capabilities.</li>
<li><strong>Setting Up ARCore</strong>: Installing and configuring ARCore in your Android Studio project.</li>
<li><strong>ARCore Session</strong>: Managing AR sessions and understanding the lifecycle.</li>
<li><strong>Anchors and Trackables</strong>: Placing and tracking virtual objects in the real world.</li>
<li><strong>Rendering Objects</strong>: Using OpenGL or Sceneform to render 3D objects.</li>
<li><strong>User Interaction</strong>: Handling user input and interaction with AR objects.</li>
</ol>
</div><h1><p>Setting Up ARCore</p>
</h1>
<div class='content'></div><h2><p>Prerequisites</p>
</h2>
<div class='content'><ul>
<li>Android Studio installed.</li>
<li>A physical Android device that supports ARCore.</li>
<li>Basic knowledge of Android development.</li>
</ul>
</div><h2><p>Step-by-Step Setup</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Add ARCore Dependency</strong>:
Add the ARCore dependency to your <code>build.gradle</code> file:</p>
<pre><code class="language-gradle">dependencies {
    implementation 'com.google.ar:core:1.23.0'
}
</code></pre>
</li>
<li>
<p><strong>Update AndroidManifest.xml</strong>:
Add the necessary permissions and features to your <code>AndroidManifest.xml</code>:</p>
<pre><code class="language-xml">&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.camera.ar&quot; android:required=&quot;true&quot;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot;/&gt;
</code></pre>
</li>
<li>
<p><strong>Initialize ARCore</strong>:
Create an AR session in your main activity:</p>
<pre><code class="language-java">import com.google.ar.core.ArCoreApk;
import com.google.ar.core.Session;

public class MainActivity extends AppCompatActivity {
    private Session arSession;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        try {
            if (ArCoreApk.getInstance().checkAvailability(this).isSupported()) {
                arSession = new Session(this);
            } else {
                // Handle the case where ARCore is not supported
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
</li>
</ol>
</div><h1><p>ARCore Session Management</p>
</h1>
<div class='content'></div><h2><p>Starting and Pausing the Session</p>
</h2>
<div class='content'><p>Manage the AR session lifecycle in your activity:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QE92ZXJyaWRlCnByb3RlY3RlZCB2b2lkIG9uUmVzdW1lKCkgewogICAgc3VwZXIub25SZXN1bWUoKTsKICAgIGlmIChhclNlc3Npb24gIT0gbnVsbCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGFyU2Vzc2lvbi5yZXN1bWUoKTsKICAgICAgICB9IGNhdGNoIChDYW1lcmFOb3RBdmFpbGFibGVFeGNlcHRpb24gZSkgewogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICBhclNlc3Npb24gPSBudWxsOwogICAgICAgIH0KICAgIH0KfQoKQE92ZXJyaWRlCnByb3RlY3RlZCB2b2lkIG9uUGF1c2UoKSB7CiAgICBzdXBlci5vblBhdXNlKCk7CiAgICBpZiAoYXJTZXNzaW9uICE9IG51bGwpIHsKICAgICAgICBhclNlc3Npb24ucGF1c2UoKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Override
protected void onResume() {
    super.onResume();
    if (arSession != null) {
        try {
            arSession.resume();
        } catch (CameraNotAvailableException e) {
            e.printStackTrace();
            arSession = null;
        }
    }
}

@Override
protected void onPause() {
    super.onPause();
    if (arSession != null) {
        arSession.pause();
    }
}</pre></div><div class='content'></div><h1><p>Anchors and Trackables</p>
</h1>
<div class='content'></div><h2><p>Placing Anchors</p>
</h2>
<div class='content'><p>Anchors are used to fix virtual objects in the real world. Here's how to place an anchor:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5nb29nbGUuYXIuY29yZS5BbmNob3I7CmltcG9ydCBjb20uZ29vZ2xlLmFyLmNvcmUuSGl0UmVzdWx0OwppbXBvcnQgY29tLmdvb2dsZS5hci5jb3JlLlBsYW5lOwppbXBvcnQgY29tLmdvb2dsZS5hci5jb3JlLlBvc2U7CgpwdWJsaWMgdm9pZCBwbGFjZUFuY2hvcihIaXRSZXN1bHQgaGl0UmVzdWx0KSB7CiAgICBBbmNob3IgYW5jaG9yID0gaGl0UmVzdWx0LmNyZWF0ZUFuY2hvcigpOwogICAgLy8gVXNlIHRoZSBhbmNob3IgdG8gcGxhY2UgYSB2aXJ0dWFsIG9iamVjdAp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.google.ar.core.Anchor;
import com.google.ar.core.HitResult;
import com.google.ar.core.Plane;
import com.google.ar.core.Pose;

public void placeAnchor(HitResult hitResult) {
    Anchor anchor = hitResult.createAnchor();
    // Use the anchor to place a virtual object
}</pre></div><div class='content'></div><h2><p>Detecting Planes</p>
</h2>
<div class='content'><p>Detect planes to place objects on flat surfaces:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5nb29nbGUuYXIuY29yZS5GcmFtZTsKaW1wb3J0IGNvbS5nb29nbGUuYXIuY29yZS5QbGFuZTsKaW1wb3J0IGNvbS5nb29nbGUuYXIuY29yZS5UcmFja2luZ1N0YXRlOwoKcHVibGljIHZvaWQgZGV0ZWN0UGxhbmVzKEZyYW1lIGZyYW1lKSB7CiAgICBmb3IgKFBsYW5lIHBsYW5lIDogZnJhbWUuZ2V0VXBkYXRlZFRyYWNrYWJsZXMoUGxhbmUuY2xhc3MpKSB7CiAgICAgICAgaWYgKHBsYW5lLmdldFRyYWNraW5nU3RhdGUoKSA9PSBUcmFja2luZ1N0YXRlLlRSQUNLSU5HKSB7CiAgICAgICAgICAgIC8vIFBsYW5lIGlzIGRldGVjdGVkIGFuZCB0cmFja2VkCiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.google.ar.core.Frame;
import com.google.ar.core.Plane;
import com.google.ar.core.TrackingState;

public void detectPlanes(Frame frame) {
    for (Plane plane : frame.getUpdatedTrackables(Plane.class)) {
        if (plane.getTrackingState() == TrackingState.TRACKING) {
            // Plane is detected and tracked
        }
    }
}</pre></div><div class='content'></div><h1><p>Rendering Objects</p>
</h1>
<div class='content'></div><h2><p>Using Sceneform</p>
</h2>
<div class='content'><p>Sceneform simplifies rendering 3D objects. Add Sceneform dependencies:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICdjb20uZ29vZ2xlLmFyLnNjZW5lZm9ybS51eDpzY2VuZWZvcm0tdXg6MS4xNS4wJwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation 'com.google.ar.sceneform.ux:sceneform-ux:1.15.0'
}</pre></div><div class='content'></div><h2><p>Rendering a 3D Model</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Sceneform Fragment</strong>:</p>
<pre><code class="language-xml">&lt;fragment
    android:id=&quot;@+id/arFragment&quot;
    android:name=&quot;com.google.ar.sceneform.ux.ArFragment&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;/&gt;
</code></pre>
</li>
<li>
<p><strong>Load and Render the Model</strong>:</p>
<pre><code class="language-java">import com.google.ar.sceneform.AnchorNode;
import com.google.ar.sceneform.rendering.ModelRenderable;
import com.google.ar.sceneform.ux.ArFragment;
import com.google.ar.sceneform.ux.TransformableNode;

public class MainActivity extends AppCompatActivity {
    private ArFragment arFragment;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.arFragment);

        arFragment.setOnTapArPlaneListener((hitResult, plane, motionEvent) -&gt; {
            Anchor anchor = hitResult.createAnchor();
            ModelRenderable.builder()
                .setSource(this, R.raw.model)
                .build()
                .thenAccept(modelRenderable -&gt; placeModel(anchor, modelRenderable));
        });
    }

    private void placeModel(Anchor anchor, ModelRenderable modelRenderable) {
        AnchorNode anchorNode = new AnchorNode(anchor);
        anchorNode.setParent(arFragment.getArSceneView().getScene());

        TransformableNode node = new TransformableNode(arFragment.getTransformationSystem());
        node.setParent(anchorNode);
        node.setRenderable(modelRenderable);
        node.select();
    }
}
</code></pre>
</li>
</ol>
</div><h1><p>User Interaction</p>
</h1>
<div class='content'></div><h2><p>Handling Touch Events</p>
</h2>
<div class='content'><p>Allow users to interact with AR objects:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXJGcmFnbWVudC5nZXRBclNjZW5lVmlldygpLmdldFNjZW5lKCkuYWRkT25VcGRhdGVMaXN0ZW5lcihmcmFtZVRpbWUgLT4gewogICAgLy8gSGFuZGxlIHRvdWNoIGV2ZW50cyBhbmQgaW50ZXJhY3Rpb25zCn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>arFragment.getArSceneView().getScene().addOnUpdateListener(frameTime -&gt; {
    // Handle touch events and interactions
});</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create an AR App</p>
</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Create an AR app that places a 3D model on a detected plane.</li>
<li><strong>Steps</strong>:
<ul>
<li>Set up ARCore and Sceneform in your project.</li>
<li>Detect planes and place anchors.</li>
<li>Load and render a 3D model.</li>
<li>Handle user interactions to move and rotate the model.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><p>Follow the steps outlined in the sections above to complete the exercise. Ensure you test the app on a physical device that supports ARCore.</p>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this module, you learned how to integrate ARCore into your Android applications to create augmented reality experiences. You explored setting up ARCore, managing AR sessions, placing anchors, detecting planes, rendering 3D objects, and handling user interactions. With these skills, you can build immersive AR applications that enhance user experiences.</p>
<p>Next, you will explore other special topics in Android development, such as using machine learning and implementing in-app purchases.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-using-machine-learning-in-android' title="Using Machine Learning in Android">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
