<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Views and ViewGroups</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/custom-views-and-viewgroups" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/custom-views-and-viewgroups" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/custom-views-and-viewgroups" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/custom-views-and-viewgroups" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/custom-views-and-viewgroups" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='data-binding'>&#x25C4;Data Binding</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Views and ViewGroups</a>
	</div>
	<div class='col-4 text-end'>
					<a href='animations-and-transitions'>Animations and Transitions &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In Android development, understanding how to create custom views and view groups is essential for building unique and highly interactive user interfaces. This section will guide you through the process of creating custom views and view groups, from the basics to advanced techniques.</p>
</div><h1>Custom Views</h1>
<div class='content'></div><h2>What is a Custom View?</h2>
<div class='content'><ul>
<li>A custom view is a user-defined component that extends the functionality of existing Android views.</li>
<li>Custom views allow developers to create reusable UI components that can be tailored to specific needs.</li>
</ul>
</div><h2>When to Use Custom Views</h2>
<div class='content'><ul>
<li>When existing views do not meet your design requirements.</li>
<li>When you need to create a reusable component that can be used across multiple activities or fragments.</li>
<li>When you want to optimize performance by reducing the number of view hierarchies.</li>
</ul>
</div><h2>Creating a Simple Custom View</h2>
<div class='content'><ol>
<li>
<p><strong>Extend the View Class</strong></p>
<pre><code class="language-java">public class MyCustomView extends View {
    public MyCustomView(Context context) {
        super(context);
    }

    public MyCustomView(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        // Custom drawing code here
        Paint paint = new Paint();
        paint.setColor(Color.RED);
        canvas.drawCircle(50, 50, 30, paint);
    }
}
</code></pre>
</li>
<li>
<p><strong>Using the Custom View in XML</strong></p>
<pre><code class="language-xml">&lt;com.example.myapp.MyCustomView
    android:layout_width=&quot;wrap_content&quot;
    android:layout_height=&quot;wrap_content&quot;/&gt;
</code></pre>
</li>
</ol>
</div><h2>Handling Custom Attributes</h2>
<div class='content'><ul>
<li>
<p>Define custom attributes in <code>res/values/attrs.xml</code>.</p>
<pre><code class="language-xml">&lt;declare-styleable name=&quot;MyCustomView&quot;&gt;
    &lt;attr name=&quot;customColor&quot; format=&quot;color&quot;/&gt;
&lt;/declare-styleable&gt;
</code></pre>
</li>
<li>
<p>Retrieve custom attributes in the constructor.</p>
<pre><code class="language-java">public MyCustomView(Context context, AttributeSet attrs) {
    super(context, attrs);
    TypedArray a = context.getTheme().obtainStyledAttributes(
        attrs,
        R.styleable.MyCustomView,
        0, 0);

    try {
        int color = a.getColor(R.styleable.MyCustomView_customColor, Color.BLACK);
        // Use the color
    } finally {
        a.recycle();
    }
}
</code></pre>
</li>
</ul>
</div><h1>Custom ViewGroups</h1>
<div class='content'></div><h2>What is a Custom ViewGroup?</h2>
<div class='content'><ul>
<li>A custom view group is a container that can hold multiple child views and manage their layout and drawing.</li>
<li>Custom view groups extend the <code>ViewGroup</code> class and override methods to control the positioning and sizing of child views.</li>
</ul>
</div><h2>Creating a Simple Custom ViewGroup</h2>
<div class='content'><ol>
<li>
<p><strong>Extend the ViewGroup Class</strong></p>
<pre><code class="language-java">public class MyCustomViewGroup extends ViewGroup {
    public MyCustomViewGroup(Context context) {
        super(context);
    }

    public MyCustomViewGroup(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    @Override
    protected void onLayout(boolean changed, int l, int t, int r, int b) {
        // Layout logic for child views
        int childCount = getChildCount();
        for (int i = 0; i &lt; childCount; i++) {
            View child = getChildAt(i);
            child.layout(l, t, r, b);
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>Using the Custom ViewGroup in XML</strong></p>
<pre><code class="language-xml">&lt;com.example.myapp.MyCustomViewGroup
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;&gt;
    &lt;!-- Add child views here --&gt;
    &lt;Button
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Button&quot;/&gt;
&lt;/com.example.myapp.MyCustomViewGroup&gt;
</code></pre>
</li>
</ol>
</div><h2>Custom Layout Logic</h2>
<div class='content'><ul>
<li>Override <code>onMeasure</code> to measure the size of child views.
<pre><code class="language-java">@Override
protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
    int width = 0;
    int height = 0;

    int childCount = getChildCount();
    for (int i = 0; i &lt; childCount; i++) {
        View child = getChildAt(i);
        measureChild(child, widthMeasureSpec, heightMeasureSpec);
        width += child.getMeasuredWidth();
        height = Math.max(height, child.getMeasuredHeight());
    }

    setMeasuredDimension(width, height);
}
</code></pre>
</li>
</ul>
</div><h1>Advanced Techniques</h1>
<div class='content'></div><h2>Custom Drawing and Animations</h2>
<div class='content'><ul>
<li>Use the <code>Canvas</code> class for custom drawing.</li>
<li>Implement animations using <code>ValueAnimator</code> or <code>ObjectAnimator</code>.</li>
</ul>
</div><h2>Performance Optimization</h2>
<div class='content'><ul>
<li>Minimize the number of custom views and view groups.</li>
<li>Use <code>ViewStub</code> for views that are not always needed.</li>
<li>Optimize <code>onDraw</code> and <code>onMeasure</code> methods.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Creating custom views and view groups in Android allows for highly customized and reusable UI components. By understanding the basics of extending <code>View</code> and <code>ViewGroup</code>, handling custom attributes, and optimizing performance, you can create efficient and visually appealing user interfaces. Practice by creating your own custom components and integrating them into your projects to solidify your understanding.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='data-binding'>&#x25C4;Data Binding</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Views and ViewGroups</a>
	</div>
	<div class='col-4 text-end'>
					<a href='animations-and-transitions'>Animations and Transitions &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
