<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SharedPreferences in Android Studio</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/sharedpreferences" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/sharedpreferences" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/sharedpreferences" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/sharedpreferences" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/sharedpreferences" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='fragment-transactions'>&#x25C4;Fragment Transactions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">SharedPreferences in Android Studio</a>
	</div>
	<div class='col-4 text-end'>
					<a href='internal-storage'>Internal Storage &#x25BA;</a>
			</div>
</div>
<div class='content'><p>SharedPreferences is a powerful tool in Android development, allowing you to store and retrieve small amounts of primitive data as key-value pairs. This topic will guide you through the basics to advanced usage of SharedPreferences in Android Studio.</p>
</div><h1>Introduction to SharedPreferences</h1>
<div class='content'><p>SharedPreferences is used for:</p>
<ul>
<li>Storing simple data types (boolean, float, int, long, string).</li>
<li>Persisting user preferences and settings.</li>
<li>Caching small amounts of data.</li>
</ul>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>SharedPreferences</strong>: Interface for accessing and modifying preference data.</li>
<li><strong>Editor</strong>: Interface used for modifying values in a SharedPreferences object.</li>
</ul>
</div><h1>Basic Usage of SharedPreferences</h1>
<div class='content'></div><h2>Creating and Accessing SharedPreferences</h2>
<div class='content'><p>To create or access SharedPreferences, use the <code>getSharedPreferences()</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRpbmcgb3IgYWNjZXNzaW5nIFNoYXJlZFByZWZlcmVuY2VzClNoYXJlZFByZWZlcmVuY2VzIHNoYXJlZFByZWZlcmVuY2VzID0gZ2V0U2hhcmVkUHJlZmVyZW5jZXMoIk15UHJlZnMiLCBNT0RFX1BSSVZBVEUpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creating or accessing SharedPreferences
SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE);</pre></div><div class='content'></div><h2>Storing Data</h2>
<div class='content'><p>To store data, use the <code>SharedPreferences.Editor</code> interface.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3RvcmluZyBkYXRhIGluIFNoYXJlZFByZWZlcmVuY2VzClNoYXJlZFByZWZlcmVuY2VzLkVkaXRvciBlZGl0b3IgPSBzaGFyZWRQcmVmZXJlbmNlcy5lZGl0KCk7CmVkaXRvci5wdXRTdHJpbmcoInVzZXJuYW1lIiwgIkpvaG5Eb2UiKTsKZWRpdG9yLnB1dEludCgidXNlckFnZSIsIDI1KTsKZWRpdG9yLmFwcGx5KCk7IC8vIG9yIGVkaXRvci5jb21taXQoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Storing data in SharedPreferences
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.putString(&quot;username&quot;, &quot;JohnDoe&quot;);
editor.putInt(&quot;userAge&quot;, 25);
editor.apply(); // or editor.commit();</pre></div><div class='content'></div><h2>Retrieving Data</h2>
<div class='content'><p>To retrieve data, use the appropriate <code>get</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUmV0cmlldmluZyBkYXRhIGZyb20gU2hhcmVkUHJlZmVyZW5jZXMKU3RyaW5nIHVzZXJuYW1lID0gc2hhcmVkUHJlZmVyZW5jZXMuZ2V0U3RyaW5nKCJ1c2VybmFtZSIsICJkZWZhdWx0TmFtZSIpOwppbnQgdXNlckFnZSA9IHNoYXJlZFByZWZlcmVuY2VzLmdldEludCgidXNlckFnZSIsIDApOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Retrieving data from SharedPreferences
String username = sharedPreferences.getString(&quot;username&quot;, &quot;defaultName&quot;);
int userAge = sharedPreferences.getInt(&quot;userAge&quot;, 0);</pre></div><div class='content'></div><h1>Advanced Usage of SharedPreferences</h1>
<div class='content'></div><h2>Removing Data</h2>
<div class='content'><p>To remove a specific key-value pair, use the <code>remove()</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUmVtb3ZpbmcgZGF0YSBmcm9tIFNoYXJlZFByZWZlcmVuY2VzClNoYXJlZFByZWZlcmVuY2VzLkVkaXRvciBlZGl0b3IgPSBzaGFyZWRQcmVmZXJlbmNlcy5lZGl0KCk7CmVkaXRvci5yZW1vdmUoInVzZXJuYW1lIik7CmVkaXRvci5hcHBseSgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Removing data from SharedPreferences
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.remove(&quot;username&quot;);
editor.apply();</pre></div><div class='content'></div><h2>Clearing All Data</h2>
<div class='content'><p>To clear all data in SharedPreferences, use the <code>clear()</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2xlYXJpbmcgYWxsIGRhdGEgZnJvbSBTaGFyZWRQcmVmZXJlbmNlcwpTaGFyZWRQcmVmZXJlbmNlcy5FZGl0b3IgZWRpdG9yID0gc2hhcmVkUHJlZmVyZW5jZXMuZWRpdCgpOwplZGl0b3IuY2xlYXIoKTsKZWRpdG9yLmFwcGx5KCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Clearing all data from SharedPreferences
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.clear();
editor.apply();</pre></div><div class='content'></div><h2>Using SharedPreferences with Custom Objects</h2>
<div class='content'><p>SharedPreferences does not support storing custom objects directly. You need to serialize the object to a JSON string.</p>
<h4>Example: Storing a Custom Object</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3VzdG9tIG9iamVjdApjbGFzcyBVc2VyIHsKICAgIFN0cmluZyBuYW1lOwogICAgaW50IGFnZTsKCiAgICAvLyBDb25zdHJ1Y3RvciwgZ2V0dGVycywgYW5kIHNldHRlcnMKfQoKLy8gQ29udmVydCBvYmplY3QgdG8gSlNPTiBzdHJpbmcKR3NvbiBnc29uID0gbmV3IEdzb24oKTsKVXNlciB1c2VyID0gbmV3IFVzZXIoIkpvaG5Eb2UiLCAyNSk7ClN0cmluZyBqc29uID0gZ3Nvbi50b0pzb24odXNlcik7CgovLyBTdG9yZSBKU09OIHN0cmluZyBpbiBTaGFyZWRQcmVmZXJlbmNlcwpTaGFyZWRQcmVmZXJlbmNlcy5FZGl0b3IgZWRpdG9yID0gc2hhcmVkUHJlZmVyZW5jZXMuZWRpdCgpOwplZGl0b3IucHV0U3RyaW5nKCJ1c2VyIiwganNvbik7CmVkaXRvci5hcHBseSgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Custom object
class User {
    String name;
    int age;

    // Constructor, getters, and setters
}

// Convert object to JSON string
Gson gson = new Gson();
User user = new User(&quot;JohnDoe&quot;, 25);
String json = gson.toJson(user);

// Store JSON string in SharedPreferences
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.putString(&quot;user&quot;, json);
editor.apply();</pre></div><div class='content'><h4>Example: Retrieving a Custom Object</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUmV0cmlldmUgSlNPTiBzdHJpbmcgZnJvbSBTaGFyZWRQcmVmZXJlbmNlcwpTdHJpbmcganNvbiA9IHNoYXJlZFByZWZlcmVuY2VzLmdldFN0cmluZygidXNlciIsICIiKTsKCi8vIENvbnZlcnQgSlNPTiBzdHJpbmcgYmFjayB0byBvYmplY3QKVXNlciB1c2VyID0gZ3Nvbi5mcm9tSnNvbihqc29uLCBVc2VyLmNsYXNzKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Retrieve JSON string from SharedPreferences
String json = sharedPreferences.getString(&quot;user&quot;, &quot;&quot;);

// Convert JSON string back to object
User user = gson.fromJson(json, User.class);</pre></div><div class='content'></div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Use apply() over commit()</strong>: <code>apply()</code> is asynchronous and does not block the main thread, while <code>commit()</code> is synchronous.</li>
<li><strong>Keep keys organized</strong>: Use a consistent naming convention for keys to avoid conflicts.</li>
<li><strong>Limit the use of SharedPreferences</strong>: Only use it for small amounts of data. For larger datasets, consider using a database.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>SharedPreferences is a simple yet powerful tool for storing small amounts of data in Android applications. By understanding its basic and advanced usage, you can effectively manage user preferences and other small data requirements in your app. Remember to follow best practices to ensure efficient and organized data storage.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='fragment-transactions'>&#x25C4;Fragment Transactions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">SharedPreferences in Android Studio</a>
	</div>
	<div class='col-4 text-end'>
					<a href='internal-storage'>Internal Storage &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
