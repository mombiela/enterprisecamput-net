<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrating Firebase</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/integrating-firebase" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/integrating-firebase" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/integrating-firebase" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/integrating-firebase" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/integrating-firebase" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-jetpack-compose'>&#x25C4;Using Jetpack Compose</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integrating Firebase</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-navigation-components'>Advanced Navigation Components &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Firebase is a powerful platform provided by Google that offers a variety of tools and services to help developers build high-quality apps. This topic will guide you through integrating Firebase into your Android Studio project, from beginner to advanced levels.</p>
</div><h1>Introduction to Firebase</h1>
<div class='content'><p>Firebase provides backend services such as a real-time NoSQL database, authentication, cloud storage, and more. Integrating Firebase into your Android app can significantly enhance its functionality and scalability.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Firebase Console</strong>: The web interface where you can manage your Firebase projects.</li>
<li><strong>Firebase SDK</strong>: Software Development Kit that you integrate into your Android project.</li>
<li><strong>Firebase Services</strong>: Includes Authentication, Firestore, Realtime Database, Cloud Storage, Cloud Messaging, and more.</li>
</ul>
</div><h1>Setting Up Firebase in Android Studio</h1>
<div class='content'></div><h2>Step 1: Create a Firebase Project</h2>
<div class='content'><ol>
<li>Go to the <a href="https://console.firebase.google.com/">Firebase Console</a>.</li>
<li>Click on &quot;Add project&quot; and follow the prompts to create a new project.</li>
</ol>
</div><h2>Step 2: Add Firebase to Your Android Project</h2>
<div class='content'><ol>
<li>In the Firebase Console, click on &quot;Add app&quot; and select &quot;Android&quot;.</li>
<li>Register your app with the package name of your Android project.</li>
<li>Download the <code>google-services.json</code> file and place it in the <code>app</code> directory of your Android project.</li>
</ol>
</div><h2>Step 3: Configure Your Project</h2>
<div class='content'><ol>
<li>Open your <code>build.gradle</code> file (Project level) and add the following:
<pre><code class="language-gradle">buildscript {
    dependencies {
        // Add this line
        classpath 'com.google.gms:google-services:4.3.10'
    }
}
</code></pre>
</li>
<li>Open your <code>build.gradle</code> file (App level) and add:
<pre><code class="language-gradle">dependencies {
    // Add the dependencies for the Firebase SDKs you need
    implementation 'com.google.firebase:firebase-analytics:19.0.0'
}

// Add this line at the bottom of the file
apply plugin: 'com.google.gms.google-services'
</code></pre>
</li>
</ol>
</div><h1>Using Firebase Authentication</h1>
<div class='content'></div><h2>Email and Password Authentication</h2>
<div class='content'><ol>
<li>Enable Email/Password authentication in the Firebase Console under the Authentication section.</li>
<li>Add the Firebase Authentication dependency to your <code>build.gradle</code> file:
<pre><code class="language-gradle">implementation 'com.google.firebase:firebase-auth:21.0.1'
</code></pre>
</li>
<li>Use the following code to register a new user:
<pre><code class="language-java">FirebaseAuth mAuth = FirebaseAuth.getInstance();

mAuth.createUserWithEmailAndPassword(email, password)
    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {
        @Override
        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {
            if (task.isSuccessful()) {
                // Sign in success
                FirebaseUser user = mAuth.getCurrentUser();
                // Update UI with the signed-in user's information
            } else {
                // If sign in fails, display a message to the user.
            }
        }
    });
</code></pre>
</li>
</ol>
</div><h2>Sign In Existing Users</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bUF1dGguc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKQogICAgLmFkZE9uQ29tcGxldGVMaXN0ZW5lcih0aGlzLCBuZXcgT25Db21wbGV0ZUxpc3RlbmVyPEF1dGhSZXN1bHQ+KCkgewogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyB2b2lkIG9uQ29tcGxldGUoQE5vbk51bGwgVGFzazxBdXRoUmVzdWx0PiB0YXNrKSB7CiAgICAgICAgICAgIGlmICh0YXNrLmlzU3VjY2Vzc2Z1bCgpKSB7CiAgICAgICAgICAgICAgICAvLyBTaWduIGluIHN1Y2Nlc3MKICAgICAgICAgICAgICAgIEZpcmViYXNlVXNlciB1c2VyID0gbUF1dGguZ2V0Q3VycmVudFVzZXIoKTsKICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSB3aXRoIHRoZSBzaWduZWQtaW4gdXNlcidzIGluZm9ybWF0aW9uCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBJZiBzaWduIGluIGZhaWxzLCBkaXNwbGF5IGEgbWVzc2FnZSB0byB0aGUgdXNlci4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mAuth.signInWithEmailAndPassword(email, password)
    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {
        @Override
        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {
            if (task.isSuccessful()) {
                // Sign in success
                FirebaseUser user = mAuth.getCurrentUser();
                // Update UI with the signed-in user's information
            } else {
                // If sign in fails, display a message to the user.
            }
        }
    });</pre></div><div class='content'></div><h1>Using Firebase Firestore</h1>
<div class='content'></div><h2>Setting Up Firestore</h2>
<div class='content'><ol>
<li>Enable Firestore in the Firebase Console.</li>
<li>Add the Firestore dependency to your <code>build.gradle</code> file:
<pre><code class="language-gradle">implementation 'com.google.firebase:firebase-firestore:24.0.0'
</code></pre>
</li>
</ol>
</div><h2>Adding Data to Firestore</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlyZWJhc2VGaXJlc3RvcmUgZGIgPSBGaXJlYmFzZUZpcmVzdG9yZS5nZXRJbnN0YW5jZSgpOwoKLy8gQ3JlYXRlIGEgbmV3IHVzZXIgd2l0aCBhIGZpcnN0IGFuZCBsYXN0IG5hbWUKTWFwPFN0cmluZywgT2JqZWN0PiB1c2VyID0gbmV3IEhhc2hNYXA8PigpOwp1c2VyLnB1dCgiZmlyc3QiLCAiQWRhIik7CnVzZXIucHV0KCJsYXN0IiwgIkxvdmVsYWNlIik7CnVzZXIucHV0KCJib3JuIiwgMTgxNSk7CgovLyBBZGQgYSBuZXcgZG9jdW1lbnQgd2l0aCBhIGdlbmVyYXRlZCBJRApkYi5jb2xsZWN0aW9uKCJ1c2VycyIpCiAgICAuYWRkKHVzZXIpCiAgICAuYWRkT25TdWNjZXNzTGlzdGVuZXIobmV3IE9uU3VjY2Vzc0xpc3RlbmVyPERvY3VtZW50UmVmZXJlbmNlPigpIHsKICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBwdWJsaWMgdm9pZCBvblN1Y2Nlc3MoRG9jdW1lbnRSZWZlcmVuY2UgZG9jdW1lbnRSZWZlcmVuY2UpIHsKICAgICAgICAgICAgTG9nLmQoVEFHLCAiRG9jdW1lbnRTbmFwc2hvdCBhZGRlZCB3aXRoIElEOiAiICsgZG9jdW1lbnRSZWZlcmVuY2UuZ2V0SWQoKSk7CiAgICAgICAgfQogICAgfSkKICAgIC5hZGRPbkZhaWx1cmVMaXN0ZW5lcihuZXcgT25GYWlsdXJlTGlzdGVuZXIoKSB7CiAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgcHVibGljIHZvaWQgb25GYWlsdXJlKEBOb25OdWxsIEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZy53KFRBRywgIkVycm9yIGFkZGluZyBkb2N1bWVudCIsIGUpOwogICAgICAgIH0KICAgIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FirebaseFirestore db = FirebaseFirestore.getInstance();

// Create a new user with a first and last name
Map&lt;String, Object&gt; user = new HashMap&lt;&gt;();
user.put(&quot;first&quot;, &quot;Ada&quot;);
user.put(&quot;last&quot;, &quot;Lovelace&quot;);
user.put(&quot;born&quot;, 1815);

// Add a new document with a generated ID
db.collection(&quot;users&quot;)
    .add(user)
    .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {
        @Override
        public void onSuccess(DocumentReference documentReference) {
            Log.d(TAG, &quot;DocumentSnapshot added with ID: &quot; + documentReference.getId());
        }
    })
    .addOnFailureListener(new OnFailureListener() {
        @Override
        public void onFailure(@NonNull Exception e) {
            Log.w(TAG, &quot;Error adding document&quot;, e);
        }
    });</pre></div><div class='content'></div><h2>Reading Data from Firestore</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbigidXNlcnMiKQogICAgLmdldCgpCiAgICAuYWRkT25Db21wbGV0ZUxpc3RlbmVyKG5ldyBPbkNvbXBsZXRlTGlzdGVuZXI8UXVlcnlTbmFwc2hvdD4oKSB7CiAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgcHVibGljIHZvaWQgb25Db21wbGV0ZShATm9uTnVsbCBUYXNrPFF1ZXJ5U25hcHNob3Q+IHRhc2spIHsKICAgICAgICAgICAgaWYgKHRhc2suaXNTdWNjZXNzZnVsKCkpIHsKICAgICAgICAgICAgICAgIGZvciAoUXVlcnlEb2N1bWVudFNuYXBzaG90IGRvY3VtZW50IDogdGFzay5nZXRSZXN1bHQoKSkgewogICAgICAgICAgICAgICAgICAgIExvZy5kKFRBRywgZG9jdW1lbnQuZ2V0SWQoKSArICIgPT4gIiArIGRvY3VtZW50LmdldERhdGEoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBMb2cudyhUQUcsICJFcnJvciBnZXR0aW5nIGRvY3VtZW50cy4iLCB0YXNrLmdldEV4Y2VwdGlvbigpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection(&quot;users&quot;)
    .get()
    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {
        @Override
        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {
            if (task.isSuccessful()) {
                for (QueryDocumentSnapshot document : task.getResult()) {
                    Log.d(TAG, document.getId() + &quot; =&gt; &quot; + document.getData());
                }
            } else {
                Log.w(TAG, &quot;Error getting documents.&quot;, task.getException());
            }
        }
    });</pre></div><div class='content'></div><h1>Advanced Firebase Features</h1>
<div class='content'></div><h2>Firebase Cloud Messaging (FCM)</h2>
<div class='content'><ol>
<li>Enable FCM in the Firebase Console.</li>
<li>Add the FCM dependency to your <code>build.gradle</code> file:
<pre><code class="language-gradle">implementation 'com.google.firebase:firebase-messaging:23.0.0'
</code></pre>
</li>
</ol>
</div><h2>Sending Notifications</h2>
<div class='content'><ul>
<li>Use the Firebase Console to send notifications.</li>
<li>Handle notifications in your app by extending <code>FirebaseMessagingService</code>:
<pre><code class="language-java">public class MyFirebaseMessagingService extends FirebaseMessagingService {
    @Override
    public void onMessageReceived(RemoteMessage remoteMessage) {
        // Handle FCM messages here.
        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());
        Log.d(TAG, &quot;Notification Message Body: &quot; + remoteMessage.getNotification().getBody());
    }
}
</code></pre>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Integrating Firebase into your Android app can significantly enhance its capabilities, from user authentication to real-time data management and cloud messaging. By following the steps outlined in this topic, you can set up and use various Firebase services effectively. As you become more comfortable with Firebase, you can explore its advanced features to further improve your app's functionality and user experience.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-jetpack-compose'>&#x25C4;Using Jetpack Compose</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integrating Firebase</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-navigation-components'>Advanced Navigation Components &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
