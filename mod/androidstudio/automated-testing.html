<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Testing in Android Studio</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/automated-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/automated-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/automated-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/automated-testing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/automated-testing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='ui-testing-with-espresso'>&#x25C4;UI Testing with Espresso</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Automated Testing in Android Studio</a>
	</div>
	<div class='col-4 text-end'>
					<a href='profiling-and-performance-tuning'>Profiling and Performance Tuning &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Automated testing is a crucial aspect of Android development, ensuring that your application works as expected and remains stable over time. This topic will guide you through the basics to advanced concepts of automated testing in Android Studio.</p>
</div><h1>Introduction to Automated Testing</h1>
<div class='content'><p>Automated testing involves using software tools to run tests on your application automatically. This helps in:</p>
<ul>
<li>Reducing manual testing effort.</li>
<li>Ensuring consistent test execution.</li>
<li>Quickly identifying bugs and issues.</li>
</ul>
</div><h1>Types of Automated Tests</h1>
<div class='content'><p>There are three main types of automated tests in Android development:</p>
<ol>
<li><strong>Unit Tests</strong>: Test individual components or functions.</li>
<li><strong>Integration Tests</strong>: Test the interaction between different components.</li>
<li><strong>UI Tests</strong>: Test the user interface and user interactions.</li>
</ol>
</div><h1>Setting Up Testing in Android Studio</h1>
<div class='content'><p>Before writing tests, you need to set up your Android Studio project for testing.</p>
</div><h2>Adding Testing Dependencies</h2>
<div class='content'><p>Add the following dependencies to your <code>build.gradle</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIC8vIFVuaXQgdGVzdGluZyBkZXBlbmRlbmNpZXMKICAgIHRlc3RJbXBsZW1lbnRhdGlvbiAnanVuaXQ6anVuaXQ6NC4xMy4yJwogICAgdGVzdEltcGxlbWVudGF0aW9uICdvcmcubW9ja2l0bzptb2NraXRvLWNvcmU6My45LjAnCgogICAgLy8gQW5kcm9pZCBJbnN0cnVtZW50YXRpb24gdGVzdGluZyBkZXBlbmRlbmNpZXMKICAgIGFuZHJvaWRUZXN0SW1wbGVtZW50YXRpb24gJ2FuZHJvaWR4LnRlc3QuZXh0Omp1bml0OjEuMS4zJwogICAgYW5kcm9pZFRlc3RJbXBsZW1lbnRhdGlvbiAnYW5kcm9pZHgudGVzdC5lc3ByZXNzbzplc3ByZXNzby1jb3JlOjMuNC4wJwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    // Unit testing dependencies
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.mockito:mockito-core:3.9.0'

    // Android Instrumentation testing dependencies
    androidTestImplementation 'androidx.test.ext:junit:1.1.3'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
}</pre></div><div class='content'></div><h1>Writing Unit Tests</h1>
<div class='content'><p>Unit tests focus on testing individual functions or methods.</p>
</div><h2>Example: Testing a Utility Function</h2>
<div class='content'><p>Consider a simple utility function that adds two numbers:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmlsZTogVXRpbHMua3QKZnVuIGFkZChhOiBJbnQsIGI6IEludCk6IEludCB7CiAgICByZXR1cm4gYSArIGIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// File: Utils.kt
fun add(a: Int, b: Int): Int {
    return a + b
}</pre></div><div class='content'><p>To test this function, create a test class:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmlsZTogVXRpbHNUZXN0Lmt0CmltcG9ydCBvcmcuanVuaXQuQXNzZXJ0LioKaW1wb3J0IG9yZy5qdW5pdC5UZXN0CgpjbGFzcyBVdGlsc1Rlc3QgewoKICAgIEBUZXN0CiAgICBmdW4gdGVzdEFkZCgpIHsKICAgICAgICB2YWwgcmVzdWx0ID0gYWRkKDIsIDMpCiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIHJlc3VsdCkKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// File: UtilsTest.kt
import org.junit.Assert.*
import org.junit.Test

class UtilsTest {

    @Test
    fun testAdd() {
        val result = add(2, 3)
        assertEquals(5, result)
    }
}</pre></div><div class='content'></div><h2>Running Unit Tests</h2>
<div class='content'><p>To run your unit tests:</p>
<ul>
<li>Right-click on the test class or method.</li>
<li>Select &quot;Run 'testAdd'&quot;.</li>
</ul>
</div><h1>Writing Integration Tests</h1>
<div class='content'><p>Integration tests ensure that different parts of your application work together correctly.</p>
</div><h2>Example: Testing a Repository</h2>
<div class='content'><p>Consider a repository that fetches data from a network:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmlsZTogVXNlclJlcG9zaXRvcnkua3QKY2xhc3MgVXNlclJlcG9zaXRvcnkocHJpdmF0ZSB2YWwgYXBpU2VydmljZTogQXBpU2VydmljZSkgewoKICAgIGZ1biBnZXRVc2VyKHVzZXJJZDogU3RyaW5nKTogVXNlciB7CiAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2UuZ2V0VXNlcih1c2VySWQpCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// File: UserRepository.kt
class UserRepository(private val apiService: ApiService) {

    fun getUser(userId: String): User {
        return apiService.getUser(userId)
    }
}</pre></div><div class='content'><p>To test this, you can use a mocking framework like Mockito:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmlsZTogVXNlclJlcG9zaXRvcnlUZXN0Lmt0CmltcG9ydCBvcmcuanVuaXQuQXNzZXJ0LioKaW1wb3J0IG9yZy5qdW5pdC5UZXN0CmltcG9ydCBvcmcubW9ja2l0by5Nb2NraXRvLioKCmNsYXNzIFVzZXJSZXBvc2l0b3J5VGVzdCB7CgogICAgQFRlc3QKICAgIGZ1biB0ZXN0R2V0VXNlcigpIHsKICAgICAgICB2YWwgYXBpU2VydmljZSA9IG1vY2soQXBpU2VydmljZTo6Y2xhc3MuamF2YSkKICAgICAgICB2YWwgdXNlciA9IFVzZXIoIjEiLCAiSm9obiBEb2UiKQogICAgICAgIGB3aGVuYChhcGlTZXJ2aWNlLmdldFVzZXIoIjEiKSkudGhlblJldHVybih1c2VyKQoKICAgICAgICB2YWwgdXNlclJlcG9zaXRvcnkgPSBVc2VyUmVwb3NpdG9yeShhcGlTZXJ2aWNlKQogICAgICAgIHZhbCByZXN1bHQgPSB1c2VyUmVwb3NpdG9yeS5nZXRVc2VyKCIxIikKCiAgICAgICAgYXNzZXJ0RXF1YWxzKHVzZXIsIHJlc3VsdCkKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// File: UserRepositoryTest.kt
import org.junit.Assert.*
import org.junit.Test
import org.mockito.Mockito.*

class UserRepositoryTest {

    @Test
    fun testGetUser() {
        val apiService = mock(ApiService::class.java)
        val user = User(&quot;1&quot;, &quot;John Doe&quot;)
        `when`(apiService.getUser(&quot;1&quot;)).thenReturn(user)

        val userRepository = UserRepository(apiService)
        val result = userRepository.getUser(&quot;1&quot;)

        assertEquals(user, result)
    }
}</pre></div><div class='content'></div><h1>Writing UI Tests</h1>
<div class='content'><p>UI tests interact with the user interface to ensure it behaves as expected.</p>
</div><h2>Example: Testing a Login Screen</h2>
<div class='content'><p>Consider a simple login screen with a username and password field:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBGaWxlOiBhY3Rpdml0eV9sb2dpbi54bWwgLS0+CjxMaW5lYXJMYXlvdXQgLi4uPgogICAgPEVkaXRUZXh0CiAgICAgICAgYW5kcm9pZDppZD0iQCtpZC91c2VybmFtZSIKICAgICAgICAuLi4gLz4KICAgIDxFZGl0VGV4dAogICAgICAgIGFuZHJvaWQ6aWQ9IkAraWQvcGFzc3dvcmQiCiAgICAgICAgLi4uIC8+CiAgICA8QnV0dG9uCiAgICAgICAgYW5kcm9pZDppZD0iQCtpZC9sb2dpbkJ1dHRvbiIKICAgICAgICAuLi4gLz4KPC9MaW5lYXJMYXlvdXQ+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- File: activity_login.xml --&gt;
&lt;LinearLayout ...&gt;
    &lt;EditText
        android:id=&quot;@+id/username&quot;
        ... /&gt;
    &lt;EditText
        android:id=&quot;@+id/password&quot;
        ... /&gt;
    &lt;Button
        android:id=&quot;@+id/loginButton&quot;
        ... /&gt;
&lt;/LinearLayout&gt;</pre></div><div class='content'><p>To test this screen, use Espresso:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRmlsZTogTG9naW5BY3Rpdml0eVRlc3Qua3QKaW1wb3J0IGFuZHJvaWR4LnRlc3QuZXh0Lmp1bml0LnJ1bm5lcnMuQW5kcm9pZEpVbml0NAppbXBvcnQgYW5kcm9pZHgudGVzdC5ydWxlLkFjdGl2aXR5VGVzdFJ1bGUKaW1wb3J0IGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uRXNwcmVzc28uKgppbXBvcnQgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5hc3NlcnRpb24uVmlld0Fzc2VydGlvbnMuKgppbXBvcnQgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy4qCmltcG9ydCBvcmcuanVuaXQuUnVsZQppbXBvcnQgb3JnLmp1bml0LlRlc3QKaW1wb3J0IG9yZy5qdW5pdC5ydW5uZXIuUnVuV2l0aAoKQFJ1bldpdGgoQW5kcm9pZEpVbml0NDo6Y2xhc3MpCmNsYXNzIExvZ2luQWN0aXZpdHlUZXN0IHsKCiAgICBAUnVsZSBASnZtRmllbGQKICAgIHZhbCBhY3Rpdml0eVJ1bGUgPSBBY3Rpdml0eVRlc3RSdWxlKExvZ2luQWN0aXZpdHk6OmNsYXNzLmphdmEpCgogICAgQFRlc3QKICAgIGZ1biB0ZXN0TG9naW5CdXR0b24oKSB7CiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLnVzZXJuYW1lKSkucGVyZm9ybSh0eXBlVGV4dCgidXNlciIpKQogICAgICAgIG9uVmlldyh3aXRoSWQoUi5pZC5wYXNzd29yZCkpLnBlcmZvcm0odHlwZVRleHQoInBhc3N3b3JkIikpCiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLmxvZ2luQnV0dG9uKSkucGVyZm9ybShjbGljaygpKQoKICAgICAgICAvLyBBZGQgYXNzZXJ0aW9ucyB0byB2ZXJpZnkgdGhlIHJlc3VsdAogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// File: LoginActivityTest.kt
import androidx.test.ext.junit.runners.AndroidJUnit4
import androidx.test.rule.ActivityTestRule
import androidx.test.espresso.Espresso.*
import androidx.test.espresso.assertion.ViewAssertions.*
import androidx.test.espresso.matcher.ViewMatchers.*
import org.junit.Rule
import org.junit.Test
import org.junit.runner.RunWith

@RunWith(AndroidJUnit4::class)
class LoginActivityTest {

    @Rule @JvmField
    val activityRule = ActivityTestRule(LoginActivity::class.java)

    @Test
    fun testLoginButton() {
        onView(withId(R.id.username)).perform(typeText(&quot;user&quot;))
        onView(withId(R.id.password)).perform(typeText(&quot;password&quot;))
        onView(withId(R.id.loginButton)).perform(click())

        // Add assertions to verify the result
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Automated testing is an essential practice in Android development that helps maintain code quality and application stability. By writing unit tests, integration tests, and UI tests, you can ensure that your application behaves as expected under various conditions. Start with simple tests and gradually move to more complex scenarios as you become comfortable with the testing frameworks and tools available in Android Studio.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='ui-testing-with-espresso'>&#x25C4;UI Testing with Espresso</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Automated Testing in Android Studio</a>
	</div>
	<div class='col-4 text-end'>
					<a href='profiling-and-performance-tuning'>Profiling and Performance Tuning &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
