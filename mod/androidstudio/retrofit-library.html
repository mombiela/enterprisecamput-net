<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retrofit Library</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/retrofit-library" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/retrofit-library" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/retrofit-library" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/androidstudio/retrofit-library" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/retrofit-library" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='http-and-rest-apis'>&#x25C4;HTTP and REST APIs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Retrofit Library</a>
	</div>
	<div class='col-4 text-end'>
					<a href='handling-json-data'>Handling JSON Data &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Retrofit</h1>
<div class='content'><p>Retrofit is a type-safe HTTP client for Android and Java developed by Square. It simplifies the process of consuming RESTful web services by converting HTTP API into a Java interface.</p>
<ul>
<li><strong>Type-safe</strong>: Ensures that the data types used in the API calls are consistent and correct.</li>
<li><strong>HTTP client</strong>: Handles HTTP requests and responses.</li>
<li><strong>RESTful web services</strong>: Web services that follow the principles of Representational State Transfer (REST).</li>
</ul>
</div><h1>Setting Up Retrofit in Android Studio</h1>
<div class='content'></div><h2>Adding Dependencies</h2>
<div class='content'><p>To use Retrofit in your Android project, you need to add the necessary dependencies to your <code>build.gradle</code> file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICdjb20uc3F1YXJldXAucmV0cm9maXQyOnJldHJvZml0OjIuOS4wJwogICAgaW1wbGVtZW50YXRpb24gJ2NvbS5zcXVhcmV1cC5yZXRyb2ZpdDI6Y29udmVydGVyLWdzb246Mi45LjAnCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
}</pre></div><div class='content'><ul>
<li><strong>retrofit</strong>: The core library for Retrofit.</li>
<li><strong>converter-gson</strong>: A converter library to parse JSON data using Gson.</li>
</ul>
</div><h2>Creating a Retrofit Instance</h2>
<div class='content'><p>To create a Retrofit instance, you need to specify the base URL and the converter factory.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UmV0cm9maXQgcmV0cm9maXQgPSBuZXcgUmV0cm9maXQuQnVpbGRlcigpCiAgICAuYmFzZVVybCgiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vIikKICAgIC5hZGRDb252ZXJ0ZXJGYWN0b3J5KEdzb25Db252ZXJ0ZXJGYWN0b3J5LmNyZWF0ZSgpKQogICAgLmJ1aWxkKCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Retrofit retrofit = new Retrofit.Builder()
    .baseUrl(&quot;https://api.example.com/&quot;)
    .addConverterFactory(GsonConverterFactory.create())
    .build();</pre></div><div class='content'><ul>
<li><strong>baseUrl</strong>: The base URL for the API.</li>
<li><strong>addConverterFactory</strong>: Specifies the converter to use for parsing the response data.</li>
</ul>
</div><h1>Defining API Endpoints</h1>
<div class='content'></div><h2>Creating an Interface</h2>
<div class='content'><p>Define the API endpoints in an interface using Retrofit annotations.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBBcGlTZXJ2aWNlIHsKICAgIEBHRVQoInVzZXJzL3t1c2VyfS9yZXBvcyIpCiAgICBDYWxsPExpc3Q8UmVwbz4+IGxpc3RSZXBvcyhAUGF0aCgidXNlciIpIFN0cmluZyB1c2VyKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface ApiService {
    @GET(&quot;users/{user}/repos&quot;)
    Call&lt;List&lt;Repo&gt;&gt; listRepos(@Path(&quot;user&quot;) String user);
}</pre></div><div class='content'><ul>
<li><strong>@GET</strong>: Specifies the HTTP GET method.</li>
<li><strong>@Path</strong>: Replaces the <code>{user}</code> placeholder with the actual user parameter.</li>
</ul>
</div><h2>Making API Calls</h2>
<div class='content'><p>Create an instance of the API service and make API calls.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QXBpU2VydmljZSBzZXJ2aWNlID0gcmV0cm9maXQuY3JlYXRlKEFwaVNlcnZpY2UuY2xhc3MpOwpDYWxsPExpc3Q8UmVwbz4+IHJlcG9zID0gc2VydmljZS5saXN0UmVwb3MoIm9jdG9jYXQiKTsKCnJlcG9zLmVucXVldWUobmV3IENhbGxiYWNrPExpc3Q8UmVwbz4+KCkgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBvblJlc3BvbnNlKENhbGw8TGlzdDxSZXBvPj4gY2FsbCwgUmVzcG9uc2U8TGlzdDxSZXBvPj4gcmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWNjZXNzZnVsKCkpIHsKICAgICAgICAgICAgTGlzdDxSZXBvPiByZXBvTGlzdCA9IHJlc3BvbnNlLmJvZHkoKTsKICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSByZXNwb25zZQogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIG9uRmFpbHVyZShDYWxsPExpc3Q8UmVwbz4+IGNhbGwsIFRocm93YWJsZSB0KSB7CiAgICAgICAgLy8gSGFuZGxlIHRoZSBlcnJvcgogICAgfQp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ApiService service = retrofit.create(ApiService.class);
Call&lt;List&lt;Repo&gt;&gt; repos = service.listRepos(&quot;octocat&quot;);

repos.enqueue(new Callback&lt;List&lt;Repo&gt;&gt;() {
    @Override
    public void onResponse(Call&lt;List&lt;Repo&gt;&gt; call, Response&lt;List&lt;Repo&gt;&gt; response) {
        if (response.isSuccessful()) {
            List&lt;Repo&gt; repoList = response.body();
            // Handle the response
        }
    }

    @Override
    public void onFailure(Call&lt;List&lt;Repo&gt;&gt; call, Throwable t) {
        // Handle the error
    }
});</pre></div><div class='content'><ul>
<li><strong>create</strong>: Creates an implementation of the API endpoints defined by the interface.</li>
<li><strong>enqueue</strong>: Asynchronously sends the request and notifies the callback of its response or if an error occurred.</li>
</ul>
</div><h1>Advanced Usage</h1>
<div class='content'></div><h2>Adding Interceptors</h2>
<div class='content'><p>Interceptors can be used to modify requests and responses.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("T2tIdHRwQ2xpZW50IGNsaWVudCA9IG5ldyBPa0h0dHBDbGllbnQuQnVpbGRlcigpCiAgICAuYWRkSW50ZXJjZXB0b3IobmV3IEludGVyY2VwdG9yKCkgewogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBSZXNwb25zZSBpbnRlcmNlcHQoQ2hhaW4gY2hhaW4pIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIFJlcXVlc3QgcmVxdWVzdCA9IGNoYWluLnJlcXVlc3QoKS5uZXdCdWlsZGVyKCkKICAgICAgICAgICAgICAgIC5hZGRIZWFkZXIoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyIHRva2VuIikKICAgICAgICAgICAgICAgIC5idWlsZCgpOwogICAgICAgICAgICByZXR1cm4gY2hhaW4ucHJvY2VlZChyZXF1ZXN0KTsKICAgICAgICB9CiAgICB9KQogICAgLmJ1aWxkKCk7CgpSZXRyb2ZpdCByZXRyb2ZpdCA9IG5ldyBSZXRyb2ZpdC5CdWlsZGVyKCkKICAgIC5iYXNlVXJsKCJodHRwczovL2FwaS5leGFtcGxlLmNvbS8iKQogICAgLmNsaWVudChjbGllbnQpCiAgICAuYWRkQ29udmVydGVyRmFjdG9yeShHc29uQ29udmVydGVyRmFjdG9yeS5jcmVhdGUoKSkKICAgIC5idWlsZCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>OkHttpClient client = new OkHttpClient.Builder()
    .addInterceptor(new Interceptor() {
        @Override
        public Response intercept(Chain chain) throws IOException {
            Request request = chain.request().newBuilder()
                .addHeader(&quot;Authorization&quot;, &quot;Bearer token&quot;)
                .build();
            return chain.proceed(request);
        }
    })
    .build();

Retrofit retrofit = new Retrofit.Builder()
    .baseUrl(&quot;https://api.example.com/&quot;)
    .client(client)
    .addConverterFactory(GsonConverterFactory.create())
    .build();</pre></div><div class='content'><ul>
<li><strong>OkHttpClient</strong>: A customizable HTTP client.</li>
<li><strong>addInterceptor</strong>: Adds an interceptor to the client.</li>
</ul>
</div><h2>Handling Different Response Formats</h2>
<div class='content'><p>Retrofit can handle different response formats by using different converters.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICdjb20uc3F1YXJldXAucmV0cm9maXQyOmNvbnZlcnRlci1tb3NoaToyLjkuMCcKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation 'com.squareup.retrofit2:converter-moshi:2.9.0'
}</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UmV0cm9maXQgcmV0cm9maXQgPSBuZXcgUmV0cm9maXQuQnVpbGRlcigpCiAgICAuYmFzZVVybCgiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vIikKICAgIC5hZGRDb252ZXJ0ZXJGYWN0b3J5KE1vc2hpQ29udmVydGVyRmFjdG9yeS5jcmVhdGUoKSkKICAgIC5idWlsZCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Retrofit retrofit = new Retrofit.Builder()
    .baseUrl(&quot;https://api.example.com/&quot;)
    .addConverterFactory(MoshiConverterFactory.create())
    .build();</pre></div><div class='content'><ul>
<li><strong>converter-moshi</strong>: A converter library to parse JSON data using Moshi.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Retrofit is a powerful and flexible library for making HTTP requests in Android applications. By understanding its setup, defining API endpoints, and handling responses, you can efficiently integrate web services into your Android projects. Advanced features like interceptors and different converters further enhance its capabilities, making Retrofit an essential tool for Android developers.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='http-and-rest-apis'>&#x25C4;HTTP and REST APIs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Retrofit Library</a>
	</div>
	<div class='col-4 text-end'>
					<a href='handling-json-data'>Handling JSON Data &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
