<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Paint and Canvas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/08-02-custom-paint-and-canvas" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/08-02-custom-paint-and-canvas" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/08-02-custom-paint-and-canvas" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flutter/08-02-custom-paint-and-canvas" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flutter/08-02-custom-paint-and-canvas" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-animations-in-flutter' title="Animations in Flutter">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Custom Paint and Canvas</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-platform-channels' title="Platform Channels">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to create custom graphics in Flutter using the <code>CustomPaint</code> widget and the <code>Canvas</code> class. This is an advanced topic that allows you to draw directly on the screen, giving you the flexibility to create complex and unique UI elements.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>CustomPaint Widget</strong>: A widget that provides a canvas on which to draw during the paint phase.</li>
<li><strong>CustomPainter Class</strong>: A class that you extend to define your custom painting logic.</li>
<li><strong>Canvas Class</strong>: Provides methods to draw shapes, text, images, and more.</li>
<li><strong>Paint Class</strong>: Defines the style and color properties used when drawing on the canvas.</li>
</ol>
</div><h1>CustomPaint Widget</h1>
<div class='content'><p>The <code>CustomPaint</code> widget is used to create a drawing area. It takes a <code>painter</code> property, which is an instance of a class that extends <code>CustomPainter</code>.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7Cgp2b2lkIG1haW4oKSA9PiBydW5BcHAoTXlBcHAoKSk7CgpjbGFzcyBNeUFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIGhvbWU6IFNjYWZmb2xkKAogICAgICAgIGFwcEJhcjogQXBwQmFyKHRpdGxlOiBUZXh0KCdDdXN0b20gUGFpbnQgRXhhbXBsZScpKSwKICAgICAgICBib2R5OiBDZW50ZXIoCiAgICAgICAgICBjaGlsZDogQ3VzdG9tUGFpbnQoCiAgICAgICAgICAgIHNpemU6IFNpemUoMzAwLCAzMDApLAogICAgICAgICAgICBwYWludGVyOiBNeVBhaW50ZXIoKSwKICAgICAgICAgICksCiAgICAgICAgKSwKICAgICAgKSwKICAgICk7CiAgfQp9CgpjbGFzcyBNeVBhaW50ZXIgZXh0ZW5kcyBDdXN0b21QYWludGVyIHsKICBAb3ZlcnJpZGUKICB2b2lkIHBhaW50KENhbnZhcyBjYW52YXMsIFNpemUgc2l6ZSkgewogICAgZmluYWwgcGFpbnQgPSBQYWludCgpCiAgICAgIC4uY29sb3IgPSBDb2xvcnMuYmx1ZQogICAgICAuLnN0cm9rZVdpZHRoID0gNC4wCiAgICAgIC4uc3R5bGUgPSBQYWludGluZ1N0eWxlLnN0cm9rZTsKCiAgICBmaW5hbCBjZW50ZXIgPSBPZmZzZXQoc2l6ZS53aWR0aCAvIDIsIHNpemUuaGVpZ2h0IC8gMik7CiAgICBmaW5hbCByYWRpdXMgPSBzaXplLndpZHRoIC8gMjsKCiAgICBjYW52YXMuZHJhd0NpcmNsZShjZW50ZXIsIHJhZGl1cywgcGFpbnQpOwogIH0KCiAgQG92ZXJyaWRlCiAgYm9vbCBzaG91bGRSZXBhaW50KGNvdmFyaWFudCBDdXN0b21QYWludGVyIG9sZERlbGVnYXRlKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text('Custom Paint Example')),
        body: Center(
          child: CustomPaint(
            size: Size(300, 300),
            painter: MyPainter(),
          ),
        ),
      ),
    );
  }
}

class MyPainter extends CustomPainter {
  @override
  void paint(Canvas canvas, Size size) {
    final paint = Paint()
      ..color = Colors.blue
      ..strokeWidth = 4.0
      ..style = PaintingStyle.stroke;

    final center = Offset(size.width / 2, size.height / 2);
    final radius = size.width / 2;

    canvas.drawCircle(center, radius, paint);
  }

  @override
  bool shouldRepaint(covariant CustomPainter oldDelegate) {
    return false;
  }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>CustomPaint</strong>: The widget that provides a canvas for drawing.</li>
<li><strong>MyPainter</strong>: A class that extends <code>CustomPainter</code> and overrides the <code>paint</code> method to define the drawing logic.</li>
<li><strong>paint</strong>: The method where you define what to draw on the canvas.</li>
<li><strong>shouldRepaint</strong>: Determines whether the custom painter should repaint. In this simple example, it returns <code>false</code>.</li>
</ul>
</div><h1>Drawing with Canvas</h1>
<div class='content'><p>The <code>Canvas</code> class provides various methods to draw shapes, text, images, and more.</p>
</div><h2>Drawing Shapes</h2>
<div class='content'><h4>Drawing a Circle</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2FudmFzLmRyYXdDaXJjbGUoY2VudGVyLCByYWRpdXMsIHBhaW50KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>canvas.drawCircle(center, radius, paint);</pre></div><div class='content'><h4>Drawing a Rectangle</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmluYWwgcmVjdCA9IFJlY3QuZnJvbUxUV0goNTAsIDUwLCAyMDAsIDEwMCk7CmNhbnZhcy5kcmF3UmVjdChyZWN0LCBwYWludCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>final rect = Rect.fromLTWH(50, 50, 200, 100);
canvas.drawRect(rect, paint);</pre></div><div class='content'><h4>Drawing a Line</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmluYWwgc3RhcnQgPSBPZmZzZXQoMCwgMCk7CmZpbmFsIGVuZCA9IE9mZnNldChzaXplLndpZHRoLCBzaXplLmhlaWdodCk7CmNhbnZhcy5kcmF3TGluZShzdGFydCwgZW5kLCBwYWludCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>final start = Offset(0, 0);
final end = Offset(size.width, size.height);
canvas.drawLine(start, end, paint);</pre></div><div class='content'></div><h2>Drawing Text</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmluYWwgdGV4dFBhaW50ZXIgPSBUZXh0UGFpbnRlcigKICB0ZXh0OiBUZXh0U3BhbigKICAgIHRleHQ6ICdIZWxsbywgQ2FudmFzIScsCiAgICBzdHlsZTogVGV4dFN0eWxlKGNvbG9yOiBDb2xvcnMuYmxhY2ssIGZvbnRTaXplOiAyNCksCiAgKSwKICB0ZXh0RGlyZWN0aW9uOiBUZXh0RGlyZWN0aW9uLmx0ciwKKTsKCnRleHRQYWludGVyLmxheW91dChtaW5XaWR0aDogMCwgbWF4V2lkdGg6IHNpemUud2lkdGgpOwpmaW5hbCBvZmZzZXQgPSBPZmZzZXQoNTAsIDUwKTsKdGV4dFBhaW50ZXIucGFpbnQoY2FudmFzLCBvZmZzZXQpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>final textPainter = TextPainter(
  text: TextSpan(
    text: 'Hello, Canvas!',
    style: TextStyle(color: Colors.black, fontSize: 24),
  ),
  textDirection: TextDirection.ltr,
);

textPainter.layout(minWidth: 0, maxWidth: size.width);
final offset = Offset(50, 50);
textPainter.paint(canvas, offset);</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task</h2>
<div class='content'><p>Create a custom painter that draws a house with a rectangle for the base and a triangle for the roof.</p>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7Cgp2b2lkIG1haW4oKSA9PiBydW5BcHAoTXlBcHAoKSk7CgpjbGFzcyBNeUFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIGhvbWU6IFNjYWZmb2xkKAogICAgICAgIGFwcEJhcjogQXBwQmFyKHRpdGxlOiBUZXh0KCdDdXN0b20gUGFpbnQgRXhlcmNpc2UnKSksCiAgICAgICAgYm9keTogQ2VudGVyKAogICAgICAgICAgY2hpbGQ6IEN1c3RvbVBhaW50KAogICAgICAgICAgICBzaXplOiBTaXplKDMwMCwgMzAwKSwKICAgICAgICAgICAgcGFpbnRlcjogSG91c2VQYWludGVyKCksCiAgICAgICAgICApLAogICAgICAgICksCiAgICAgICksCiAgICApOwogIH0KfQoKY2xhc3MgSG91c2VQYWludGVyIGV4dGVuZHMgQ3VzdG9tUGFpbnRlciB7CiAgQG92ZXJyaWRlCiAgdm9pZCBwYWludChDYW52YXMgY2FudmFzLCBTaXplIHNpemUpIHsKICAgIGZpbmFsIHBhaW50ID0gUGFpbnQoKQogICAgICAuLmNvbG9yID0gQ29sb3JzLmJyb3duCiAgICAgIC4uc3R5bGUgPSBQYWludGluZ1N0eWxlLmZpbGw7CgogICAgLy8gRHJhdyB0aGUgYmFzZSBvZiB0aGUgaG91c2UKICAgIGZpbmFsIGJhc2UgPSBSZWN0LmZyb21MVFdIKDUwLCAxNTAsIDIwMCwgMTAwKTsKICAgIGNhbnZhcy5kcmF3UmVjdChiYXNlLCBwYWludCk7CgogICAgLy8gRHJhdyB0aGUgcm9vZiBvZiB0aGUgaG91c2UKICAgIGZpbmFsIHBhdGggPSBQYXRoKCkKICAgICAgLi5tb3ZlVG8oNTAsIDE1MCkKICAgICAgLi5saW5lVG8oMTUwLCA1MCkKICAgICAgLi5saW5lVG8oMjUwLCAxNTApCiAgICAgIC4uY2xvc2UoKTsKCiAgICBwYWludC5jb2xvciA9IENvbG9ycy5yZWQ7CiAgICBjYW52YXMuZHJhd1BhdGgocGF0aCwgcGFpbnQpOwogIH0KCiAgQG92ZXJyaWRlCiAgYm9vbCBzaG91bGRSZXBhaW50KGNvdmFyaWFudCBDdXN0b21QYWludGVyIG9sZERlbGVnYXRlKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text('Custom Paint Exercise')),
        body: Center(
          child: CustomPaint(
            size: Size(300, 300),
            painter: HousePainter(),
          ),
        ),
      ),
    );
  }
}

class HousePainter extends CustomPainter {
  @override
  void paint(Canvas canvas, Size size) {
    final paint = Paint()
      ..color = Colors.brown
      ..style = PaintingStyle.fill;

    // Draw the base of the house
    final base = Rect.fromLTWH(50, 150, 200, 100);
    canvas.drawRect(base, paint);

    // Draw the roof of the house
    final path = Path()
      ..moveTo(50, 150)
      ..lineTo(150, 50)
      ..lineTo(250, 150)
      ..close();

    paint.color = Colors.red;
    canvas.drawPath(path, paint);
  }

  @override
  bool shouldRepaint(covariant CustomPainter oldDelegate) {
    return false;
  }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>HousePainter</strong>: A custom painter that draws a house.</li>
<li><strong>paint</strong>: Draws a rectangle for the base and a triangle for the roof using a <code>Path</code>.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, you learned how to use the <code>CustomPaint</code> widget and the <code>Canvas</code> class to create custom graphics in Flutter. You explored various methods provided by the <code>Canvas</code> class to draw shapes and text. Finally, you completed a practical exercise to reinforce your understanding.</p>
<p>Next, we will delve into more advanced topics in Flutter, such as platform channels and performance optimization.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-animations-in-flutter' title="Animations in Flutter">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-platform-channels' title="Platform Channels">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
