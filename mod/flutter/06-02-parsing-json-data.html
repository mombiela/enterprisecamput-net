<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parsing JSON Data</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/06-02-parsing-json-data" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/06-02-parsing-json-data" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/06-02-parsing-json-data" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flutter/06-02-parsing-json-data" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flutter/06-02-parsing-json-data" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-fetching-data-from-internet' title="Fetching Data from the Internet">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Parsing JSON Data</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-handling-network-errors' title="Handling Network Errors">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will learn how to parse JSON data in Flutter. JSON (JavaScript Object Notation) is a lightweight data-interchange format that is easy for humans to read and write, and easy for machines to parse and generate. It is commonly used for transmitting data in web applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>JSON Structure</strong>: JSON data is represented as key-value pairs. It can be an object (enclosed in curly braces <code>{}</code>) or an array (enclosed in square brackets <code>[]</code>).</li>
<li><strong>Dart's <code>dart:convert</code> Library</strong>: Dart provides the <code>dart:convert</code> library to handle JSON encoding and decoding.</li>
<li><strong>Model Classes</strong>: Creating model classes to represent the JSON data structure in Dart.</li>
</ol>
</div><h1>Steps to Parse JSON Data</h1>
<div class='content'><ol>
<li><strong>Add the <code>dart:convert</code> Library</strong>: Import the library to use JSON encoding and decoding functions.</li>
<li><strong>Create Model Classes</strong>: Define Dart classes that represent the structure of the JSON data.</li>
<li><strong>Decode JSON</strong>: Convert JSON strings into Dart objects.</li>
<li><strong>Encode JSON</strong>: Convert Dart objects back into JSON strings.</li>
</ol>
</div><h1>Practical Example</h1>
<div class='content'></div><h2>Step 1: Import the `dart:convert` Library</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdkYXJ0OmNvbnZlcnQnOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'dart:convert';</pre></div><div class='content'></div><h2>Step 2: Create Model Classes</h2>
<div class='content'><p>Assume we have the following JSON data representing a user:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJpZCI6IDEsCiAgIm5hbWUiOiAiSm9obiBEb2UiLAogICJlbWFpbCI6ICJqb2huLmRvZUBleGFtcGxlLmNvbSIKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;id&quot;: 1,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;email&quot;: &quot;john.doe@example.com&quot;
}</pre></div><div class='content'><p>We will create a Dart class to represent this data:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlciB7CiAgZmluYWwgaW50IGlkOwogIGZpbmFsIFN0cmluZyBuYW1lOwogIGZpbmFsIFN0cmluZyBlbWFpbDsKCiAgVXNlcih7cmVxdWlyZWQgdGhpcy5pZCwgcmVxdWlyZWQgdGhpcy5uYW1lLCByZXF1aXJlZCB0aGlzLmVtYWlsfSk7CgogIC8vIEZhY3RvcnkgY29uc3RydWN0b3IgdG8gY3JlYXRlIGEgVXNlciBmcm9tIEpTT04KICBmYWN0b3J5IFVzZXIuZnJvbUpzb24oTWFwPFN0cmluZywgZHluYW1pYz4ganNvbikgewogICAgcmV0dXJuIFVzZXIoCiAgICAgIGlkOiBqc29uWydpZCddLAogICAgICBuYW1lOiBqc29uWyduYW1lJ10sCiAgICAgIGVtYWlsOiBqc29uWydlbWFpbCddLAogICAgKTsKICB9CgogIC8vIE1ldGhvZCB0byBjb252ZXJ0IGEgVXNlciBvYmplY3QgdG8gSlNPTgogIE1hcDxTdHJpbmcsIGR5bmFtaWM+IHRvSnNvbigpIHsKICAgIHJldHVybiB7CiAgICAgICdpZCc6IGlkLAogICAgICAnbmFtZSc6IG5hbWUsCiAgICAgICdlbWFpbCc6IGVtYWlsLAogICAgfTsKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User {
  final int id;
  final String name;
  final String email;

  User({required this.id, required this.name, required this.email});

  // Factory constructor to create a User from JSON
  factory User.fromJson(Map&lt;String, dynamic&gt; json) {
    return User(
      id: json['id'],
      name: json['name'],
      email: json['email'],
    );
  }

  // Method to convert a User object to JSON
  Map&lt;String, dynamic&gt; toJson() {
    return {
      'id': id,
      'name': name,
      'email': email,
    };
  }
}</pre></div><div class='content'></div><h2>Step 3: Decode JSON</h2>
<div class='content'><p>Convert a JSON string into a Dart object:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtYWluKCkgewogIFN0cmluZyBqc29uU3RyaW5nID0gJ3siaWQiOiAxLCAibmFtZSI6ICJKb2huIERvZSIsICJlbWFpbCI6ICJqb2huLmRvZUBleGFtcGxlLmNvbSJ9JzsKCiAgLy8gRGVjb2RlIHRoZSBKU09OIHN0cmluZwogIE1hcDxTdHJpbmcsIGR5bmFtaWM+IHVzZXJNYXAgPSBqc29uRGVjb2RlKGpzb25TdHJpbmcpOwoKICAvLyBDcmVhdGUgYSBVc2VyIG9iamVjdCBmcm9tIHRoZSBKU09OIG1hcAogIFVzZXIgdXNlciA9IFVzZXIuZnJvbUpzb24odXNlck1hcCk7CgogIHByaW50KCdVc2VyIElEOiAke3VzZXIuaWR9Jyk7CiAgcHJpbnQoJ1VzZXIgTmFtZTogJHt1c2VyLm5hbWV9Jyk7CiAgcHJpbnQoJ1VzZXIgRW1haWw6ICR7dXNlci5lbWFpbH0nKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void main() {
  String jsonString = '{&quot;id&quot;: 1, &quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john.doe@example.com&quot;}';

  // Decode the JSON string
  Map&lt;String, dynamic&gt; userMap = jsonDecode(jsonString);

  // Create a User object from the JSON map
  User user = User.fromJson(userMap);

  print('User ID: ${user.id}');
  print('User Name: ${user.name}');
  print('User Email: ${user.email}');
}</pre></div><div class='content'></div><h2>Step 4: Encode JSON</h2>
<div class='content'><p>Convert a Dart object back into a JSON string:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtYWluKCkgewogIFVzZXIgdXNlciA9IFVzZXIoaWQ6IDEsIG5hbWU6ICdKb2huIERvZScsIGVtYWlsOiAnam9obi5kb2VAZXhhbXBsZS5jb20nKTsKCiAgLy8gQ29udmVydCB0aGUgVXNlciBvYmplY3QgdG8gYSBKU09OIG1hcAogIE1hcDxTdHJpbmcsIGR5bmFtaWM+IHVzZXJNYXAgPSB1c2VyLnRvSnNvbigpOwoKICAvLyBFbmNvZGUgdGhlIEpTT04gbWFwIHRvIGEgSlNPTiBzdHJpbmcKICBTdHJpbmcganNvblN0cmluZyA9IGpzb25FbmNvZGUodXNlck1hcCk7CgogIHByaW50KCdKU09OIFN0cmluZzogJGpzb25TdHJpbmcnKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void main() {
  User user = User(id: 1, name: 'John Doe', email: 'john.doe@example.com');

  // Convert the User object to a JSON map
  Map&lt;String, dynamic&gt; userMap = user.toJson();

  // Encode the JSON map to a JSON string
  String jsonString = jsonEncode(userMap);

  print('JSON String: $jsonString');
}</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Parsing a List of Users</h2>
<div class='content'><p>Given the following JSON data representing a list of users:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("WwogIHsiaWQiOiAxLCAibmFtZSI6ICJKb2huIERvZSIsICJlbWFpbCI6ICJqb2huLmRvZUBleGFtcGxlLmNvbSJ9LAogIHsiaWQiOiAyLCAibmFtZSI6ICJKYW5lIFNtaXRoIiwgImVtYWlsIjogImphbmUuc21pdGhAZXhhbXBsZS5jb20ifQpd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[
  {&quot;id&quot;: 1, &quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john.doe@example.com&quot;},
  {&quot;id&quot;: 2, &quot;name&quot;: &quot;Jane Smith&quot;, &quot;email&quot;: &quot;jane.smith@example.com&quot;}
]</pre></div><div class='content'><ol>
<li>Create a Dart class to represent the user.</li>
<li>Write a function to parse the JSON data into a list of user objects.</li>
</ol>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlciB7CiAgZmluYWwgaW50IGlkOwogIGZpbmFsIFN0cmluZyBuYW1lOwogIGZpbmFsIFN0cmluZyBlbWFpbDsKCiAgVXNlcih7cmVxdWlyZWQgdGhpcy5pZCwgcmVxdWlyZWQgdGhpcy5uYW1lLCByZXF1aXJlZCB0aGlzLmVtYWlsfSk7CgogIGZhY3RvcnkgVXNlci5mcm9tSnNvbihNYXA8U3RyaW5nLCBkeW5hbWljPiBqc29uKSB7CiAgICByZXR1cm4gVXNlcigKICAgICAgaWQ6IGpzb25bJ2lkJ10sCiAgICAgIG5hbWU6IGpzb25bJ25hbWUnXSwKICAgICAgZW1haWw6IGpzb25bJ2VtYWlsJ10sCiAgICApOwogIH0KCiAgTWFwPFN0cmluZywgZHluYW1pYz4gdG9Kc29uKCkgewogICAgcmV0dXJuIHsKICAgICAgJ2lkJzogaWQsCiAgICAgICduYW1lJzogbmFtZSwKICAgICAgJ2VtYWlsJzogZW1haWwsCiAgICB9OwogIH0KfQoKdm9pZCBtYWluKCkgewogIFN0cmluZyBqc29uU3RyaW5nID0gJycnCiAgWwogICAgeyJpZCI6IDEsICJuYW1lIjogIkpvaG4gRG9lIiwgImVtYWlsIjogImpvaG4uZG9lQGV4YW1wbGUuY29tIn0sCiAgICB7ImlkIjogMiwgIm5hbWUiOiAiSmFuZSBTbWl0aCIsICJlbWFpbCI6ICJqYW5lLnNtaXRoQGV4YW1wbGUuY29tIn0KICBdCiAgJycnOwoKICAvLyBEZWNvZGUgdGhlIEpTT04gc3RyaW5nCiAgTGlzdDxkeW5hbWljPiB1c2VyTGlzdCA9IGpzb25EZWNvZGUoanNvblN0cmluZyk7CgogIC8vIENvbnZlcnQgdGhlIEpTT04gbGlzdCB0byBhIGxpc3Qgb2YgVXNlciBvYmplY3RzCiAgTGlzdDxVc2VyPiB1c2VycyA9IHVzZXJMaXN0Lm1hcCgoanNvbikgPT4gVXNlci5mcm9tSnNvbihqc29uKSkudG9MaXN0KCk7CgogIGZvciAoVXNlciB1c2VyIGluIHVzZXJzKSB7CiAgICBwcmludCgnVXNlciBJRDogJHt1c2VyLmlkfScpOwogICAgcHJpbnQoJ1VzZXIgTmFtZTogJHt1c2VyLm5hbWV9Jyk7CiAgICBwcmludCgnVXNlciBFbWFpbDogJHt1c2VyLmVtYWlsfScpOwogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User {
  final int id;
  final String name;
  final String email;

  User({required this.id, required this.name, required this.email});

  factory User.fromJson(Map&lt;String, dynamic&gt; json) {
    return User(
      id: json['id'],
      name: json['name'],
      email: json['email'],
    );
  }

  Map&lt;String, dynamic&gt; toJson() {
    return {
      'id': id,
      'name': name,
      'email': email,
    };
  }
}

void main() {
  String jsonString = '''
  [
    {&quot;id&quot;: 1, &quot;name&quot;: &quot;John Doe&quot;, &quot;email&quot;: &quot;john.doe@example.com&quot;},
    {&quot;id&quot;: 2, &quot;name&quot;: &quot;Jane Smith&quot;, &quot;email&quot;: &quot;jane.smith@example.com&quot;}
  ]
  ''';

  // Decode the JSON string
  List&lt;dynamic&gt; userList = jsonDecode(jsonString);

  // Convert the JSON list to a list of User objects
  List&lt;User&gt; users = userList.map((json) =&gt; User.fromJson(json)).toList();

  for (User user in users) {
    print('User ID: ${user.id}');
    print('User Name: ${user.name}');
    print('User Email: ${user.email}');
  }
}</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ul>
<li><strong>Incorrect JSON Structure</strong>: Ensure the JSON structure matches the Dart model class.</li>
<li><strong>Type Mismatch</strong>: Verify that the data types in the JSON match the data types in the Dart model class.</li>
<li><strong>Null Safety</strong>: Handle potential null values in JSON data to avoid runtime errors.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to parse JSON data in Flutter using Dart's <code>dart:convert</code> library. We covered the steps to decode JSON strings into Dart objects and encode Dart objects back into JSON strings. We also provided practical examples and exercises to reinforce the concepts. Understanding JSON parsing is crucial for working with APIs and handling data in Flutter applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-fetching-data-from-internet' title="Fetching Data from the Internet">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-handling-network-errors' title="Handling Network Errors">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
