<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Testing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/09-02-unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/09-02-unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/09-02-unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flutter/09-02-unit-testing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flutter/09-02-unit-testing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-introduction-to-testing' title="Introduction to Testing">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Unit Testing</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-widget-testing' title="Widget Testing">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Unit testing is a fundamental aspect of software development that ensures individual units of code work as expected. In Flutter, unit tests are used to test the logic of your app without involving the UI. This module will guide you through the basics of unit testing in Flutter, including setting up tests, writing test cases, and running them.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Unit Test</strong>: A test that verifies the functionality of a specific section of code, usually a function or a method.</li>
<li><strong>Test Suite</strong>: A collection of test cases that are intended to be used together.</li>
<li><strong>Assertions</strong>: Statements that check if a condition is true. If the condition is false, the test fails.</li>
</ol>
</div><h1><p>Setting Up Unit Testing</p>
</h1>
<div class='content'><p>To get started with unit testing in Flutter, you need to add the <code>test</code> package to your <code>pubspec.yaml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGV2X2RlcGVuZGVuY2llczoKICB0ZXN0OiBeMS4xNi4w"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dev_dependencies:
  test: ^1.16.0</pre></div><div class='content'><p>After adding the dependency, run <code>flutter pub get</code> to install it.</p>
</div><h1><p>Writing Your First Unit Test</p>
</h1>
<div class='content'><p>Let's write a simple unit test for a Dart function. Consider the following function that calculates the sum of two numbers:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IGFkZChpbnQgYSwgaW50IGIpIHsKICByZXR1cm4gYSArIGI7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int add(int a, int b) {
  return a + b;
}</pre></div><div class='content'><p>To test this function, create a new file in the <code>test</code> directory, for example, <code>test/add_test.dart</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKaW1wb3J0ICcuLi9saWIvY2FsY3VsYXRvci5kYXJ0JzsgLy8gQWRqdXN0IHRoZSBwYXRoIGFjY29yZGluZyB0byB5b3VyIHByb2plY3Qgc3RydWN0dXJlCgp2b2lkIG1haW4oKSB7CiAgdGVzdCgnYWRkcyB0d28gbnVtYmVycycsICgpIHsKICAgIGV4cGVjdChhZGQoMSwgMiksIDMpOwogIH0pOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';
import '../lib/calculator.dart'; // Adjust the path according to your project structure

void main() {
  test('adds two numbers', () {
    expect(add(1, 2), 3);
  });
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>import 'package:test/test.dart';</strong>: Imports the test package.</li>
<li><strong>import '../lib/calculator.dart';</strong>: Imports the file containing the function to be tested.</li>
<li><strong>void main() { ... }</strong>: The main function where the tests are defined.</li>
<li><strong>test('adds two numbers', () { ... });</strong>: Defines a test case with a description.</li>
<li><strong>expect(add(1, 2), 3);</strong>: An assertion that checks if the result of <code>add(1, 2)</code> is <code>3</code>.</li>
</ul>
</div><h1><p>Running Unit Tests</p>
</h1>
<div class='content'><p>To run the tests, use the following command in your terminal:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zmx1dHRlciB0ZXN0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>flutter test</pre></div><div class='content'><p>This command will execute all the tests in the <code>test</code> directory and display the results.</p>
</div><h1><p>Practical Example: Testing a Class</p>
</h1>
<div class='content'><p>Consider a class <code>Calculator</code> with a method <code>multiply</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ2FsY3VsYXRvciB7CiAgaW50IG11bHRpcGx5KGludCBhLCBpbnQgYikgewogICAgcmV0dXJuIGEgKiBiOwogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Calculator {
  int multiply(int a, int b) {
    return a * b;
  }
}</pre></div><div class='content'><p>Create a test file <code>test/calculator_test.dart</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKaW1wb3J0ICcuLi9saWIvY2FsY3VsYXRvci5kYXJ0JzsKCnZvaWQgbWFpbigpIHsKICBncm91cCgnQ2FsY3VsYXRvcicsICgpIHsKICAgIHRlc3QoJ211bHRpcGxpZXMgdHdvIG51bWJlcnMnLCAoKSB7CiAgICAgIGZpbmFsIGNhbGN1bGF0b3IgPSBDYWxjdWxhdG9yKCk7CiAgICAgIGV4cGVjdChjYWxjdWxhdG9yLm11bHRpcGx5KDIsIDMpLCA2KTsKICAgIH0pOwoKICAgIHRlc3QoJ211bHRpcGxpZXMgd2l0aCB6ZXJvJywgKCkgewogICAgICBmaW5hbCBjYWxjdWxhdG9yID0gQ2FsY3VsYXRvcigpOwogICAgICBleHBlY3QoY2FsY3VsYXRvci5tdWx0aXBseSgwLCA1KSwgMCk7CiAgICB9KTsKICB9KTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';
import '../lib/calculator.dart';

void main() {
  group('Calculator', () {
    test('multiplies two numbers', () {
      final calculator = Calculator();
      expect(calculator.multiply(2, 3), 6);
    });

    test('multiplies with zero', () {
      final calculator = Calculator();
      expect(calculator.multiply(0, 5), 0);
    });
  });
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>group('Calculator', () { ... });</strong>: Groups related tests together.</li>
<li><strong>final calculator = Calculator();</strong>: Creates an instance of the <code>Calculator</code> class.</li>
<li><strong>expect(calculator.multiply(2, 3), 6);</strong>: Checks if <code>multiply(2, 3)</code> returns <code>6</code>.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li><strong>Forgetting to import the test package</strong>: Ensure you have <code>import 'package:test/test.dart';</code> at the top of your test files.</li>
<li><strong>Not running <code>flutter pub get</code> after adding dependencies</strong>: Always run <code>flutter pub get</code> to install new dependencies.</li>
<li><strong>Testing UI in unit tests</strong>: Unit tests should focus on logic. Use widget tests for UI components.</li>
</ul>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Write a Unit Test for a Subtraction Function</p>
</h2>
<div class='content'><p>Create a function <code>subtract</code> and write a unit test for it.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50IHN1YnRyYWN0KGludCBhLCBpbnQgYikgewogIHJldHVybiBhIC0gYjsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int subtract(int a, int b) {
  return a - b;
}</pre></div><div class='content'><p><strong>Test File:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKaW1wb3J0ICcuLi9saWIvY2FsY3VsYXRvci5kYXJ0JzsKCnZvaWQgbWFpbigpIHsKICB0ZXN0KCdzdWJ0cmFjdHMgdHdvIG51bWJlcnMnLCAoKSB7CiAgICBleHBlY3Qoc3VidHJhY3QoNSwgMyksIDIpOwogIH0pOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';
import '../lib/calculator.dart';

void main() {
  test('subtracts two numbers', () {
    expect(subtract(5, 3), 2);
  });
}</pre></div><div class='content'></div><h2><p>Exercise 2: Write a Unit Test for a Division Function</p>
</h2>
<div class='content'><p>Create a function <code>divide</code> and write a unit test for it. Handle division by zero.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG91YmxlIGRpdmlkZShpbnQgYSwgaW50IGIpIHsKICBpZiAoYiA9PSAwKSB7CiAgICB0aHJvdyBBcmd1bWVudEVycm9yKCdDYW5ub3QgZGl2aWRlIGJ5IHplcm8nKTsKICB9CiAgcmV0dXJuIGEgLyBiOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>double divide(int a, int b) {
  if (b == 0) {
    throw ArgumentError('Cannot divide by zero');
  }
  return a / b;
}</pre></div><div class='content'><p><strong>Test File:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOnRlc3QvdGVzdC5kYXJ0JzsKaW1wb3J0ICcuLi9saWIvY2FsY3VsYXRvci5kYXJ0JzsKCnZvaWQgbWFpbigpIHsKICB0ZXN0KCdkaXZpZGVzIHR3byBudW1iZXJzJywgKCkgewogICAgZXhwZWN0KGRpdmlkZSg2LCAyKSwgMy4wKTsKICB9KTsKCiAgdGVzdCgndGhyb3dzIGVycm9yIG9uIGRpdmlzaW9uIGJ5IHplcm8nLCAoKSB7CiAgICBleHBlY3QoKCkgPT4gZGl2aWRlKDYsIDApLCB0aHJvd3NBcmd1bWVudEVycm9yKTsKICB9KTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:test/test.dart';
import '../lib/calculator.dart';

void main() {
  test('divides two numbers', () {
    expect(divide(6, 2), 3.0);
  });

  test('throws error on division by zero', () {
    expect(() =&gt; divide(6, 0), throwsArgumentError);
  });
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Unit testing is crucial for ensuring the reliability and correctness of your code. By writing and running unit tests, you can catch bugs early and maintain a high standard of code quality. In this module, you learned how to set up unit tests, write test cases, and run them in Flutter. Practice writing tests for different functions and classes to become proficient in unit testing.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-01-introduction-to-testing' title="Introduction to Testing">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-03-widget-testing' title="Widget Testing">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
