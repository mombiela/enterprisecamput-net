<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Linking</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/05-05-deep-linking" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/05-05-deep-linking" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/05-05-deep-linking" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flutter/05-05-deep-linking" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flutter/05-05-deep-linking" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-passing-data-between-screens' title="Passing Data Between Screens">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Deep Linking</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-fetching-data-from-internet' title="Fetching Data from the Internet">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Deep linking is a powerful feature in mobile applications that allows you to link directly to specific content within your app. This can enhance user experience by providing a seamless way to navigate to particular screens or functionalities from external sources such as emails, social media, or web pages.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>URL Schemes</strong>: Custom URL schemes allow your app to be opened via a URL. For example, <code>myapp://profile/123</code> could open the profile screen for user ID 123.</li>
<li><strong>Universal Links (iOS) / App Links (Android)</strong>: These are standard web URLs that can open your app if it is installed, or fallback to a web page if it is not.</li>
<li><strong>Navigation</strong>: Handling the navigation within the app when a deep link is triggered.</li>
</ol>
</div><h1><p>Setting Up Deep Linking</p>
</h1>
<div class='content'></div><h2><ol>
<li>Configuring URL Schemes</li>
</ol>
</h2>
<div class='content'><h4>iOS</h4>
<ul>
<li>Open your <code>Info.plist</code> file.</li>
<li>Add a new URL type with a unique scheme.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGtleT5DRkJ1bmRsZVVSTFR5cGVzPC9rZXk+CjxhcnJheT4KICAgIDxkaWN0PgogICAgICAgIDxrZXk+Q0ZCdW5kbGVVUkxOYW1lPC9rZXk+CiAgICAgICAgPHN0cmluZz5jb20uZXhhbXBsZS5teWFwcDwvc3RyaW5nPgogICAgICAgIDxrZXk+Q0ZCdW5kbGVVUkxTY2hlbWVzPC9rZXk+CiAgICAgICAgPGFycmF5PgogICAgICAgICAgICA8c3RyaW5nPm15YXBwPC9zdHJpbmc+CiAgICAgICAgPC9hcnJheT4KICAgIDwvZGljdD4KPC9hcnJheT4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;key&gt;CFBundleURLTypes&lt;/key&gt;
&lt;array&gt;
    &lt;dict&gt;
        &lt;key&gt;CFBundleURLName&lt;/key&gt;
        &lt;string&gt;com.example.myapp&lt;/string&gt;
        &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
        &lt;array&gt;
            &lt;string&gt;myapp&lt;/string&gt;
        &lt;/array&gt;
    &lt;/dict&gt;
&lt;/array&gt;</pre></div><div class='content'><h4>Android</h4>
<ul>
<li>Open your <code>AndroidManifest.xml</code> file.</li>
<li>Add an intent filter to your main activity.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGFjdGl2aXR5CiAgICBhbmRyb2lkOm5hbWU9Ii5NYWluQWN0aXZpdHkiCiAgICBhbmRyb2lkOmxhdW5jaE1vZGU9InNpbmdsZVRhc2siPgogICAgPGludGVudC1maWx0ZXI+CiAgICAgICAgPGFjdGlvbiBhbmRyb2lkOm5hbWU9ImFuZHJvaWQuaW50ZW50LmFjdGlvbi5WSUVXIiAvPgogICAgICAgIDxjYXRlZ29yeSBhbmRyb2lkOm5hbWU9ImFuZHJvaWQuaW50ZW50LmNhdGVnb3J5LkRFRkFVTFQiIC8+CiAgICAgICAgPGNhdGVnb3J5IGFuZHJvaWQ6bmFtZT0iYW5kcm9pZC5pbnRlbnQuY2F0ZWdvcnkuQlJPV1NBQkxFIiAvPgogICAgICAgIDxkYXRhIGFuZHJvaWQ6c2NoZW1lPSJteWFwcCIgLz4KICAgIDwvaW50ZW50LWZpbHRlcj4KPC9hY3Rpdml0eT4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;activity
    android:name=&quot;.MainActivity&quot;
    android:launchMode=&quot;singleTask&quot;&gt;
    &lt;intent-filter&gt;
        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;
        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;
        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;
        &lt;data android:scheme=&quot;myapp&quot; /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;</pre></div><div class='content'></div><h2><ol start="2">
<li>Handling Deep Links in Flutter</li>
</ol>
</h2>
<div class='content'><h4>Adding Dependencies</h4>
<p>Add the <code>uni_links</code> package to your <code>pubspec.yaml</code> file.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzOgogIHVuaV9saW5rczogXjAuNS4x"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies:
  uni_links: ^0.5.1</pre></div><div class='content'><h4>Listening for Deep Links</h4>
<p>Create a method to handle incoming links and navigate to the appropriate screen.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTp1bmlfbGlua3MvdW5pX2xpbmtzLmRhcnQnOwppbXBvcnQgJ2RhcnQ6YXN5bmMnOwoKdm9pZCBtYWluKCkgPT4gcnVuQXBwKE15QXBwKCkpOwoKY2xhc3MgTXlBcHAgZXh0ZW5kcyBTdGF0ZWZ1bFdpZGdldCB7CiAgQG92ZXJyaWRlCiAgX015QXBwU3RhdGUgY3JlYXRlU3RhdGUoKSA9PiBfTXlBcHBTdGF0ZSgpOwp9CgpjbGFzcyBfTXlBcHBTdGF0ZSBleHRlbmRzIFN0YXRlPE15QXBwPiB7CiAgU3RyZWFtU3Vic2NyaXB0aW9uIF9zdWI7CgogIEBvdmVycmlkZQogIHZvaWQgaW5pdFN0YXRlKCkgewogICAgc3VwZXIuaW5pdFN0YXRlKCk7CiAgICBpbml0VW5pTGlua3MoKTsKICB9CgogIEBvdmVycmlkZQogIHZvaWQgZGlzcG9zZSgpIHsKICAgIF9zdWIuY2FuY2VsKCk7CiAgICBzdXBlci5kaXNwb3NlKCk7CiAgfQoKICBGdXR1cmU8dm9pZD4gaW5pdFVuaUxpbmtzKCkgYXN5bmMgewogICAgX3N1YiA9IGdldExpbmtzU3RyZWFtKCkubGlzdGVuKChTdHJpbmcgbGluaykgewogICAgICBpZiAobGluayAhPSBudWxsKSB7CiAgICAgICAgLy8gSGFuZGxlIHRoZSBkZWVwIGxpbmsKICAgICAgICBfbmF2aWdhdGVUbyhsaW5rKTsKICAgICAgfQogICAgfSwgb25FcnJvcjogKGVycikgewogICAgICAvLyBIYW5kbGUgZXJyb3IKICAgIH0pOwogIH0KCiAgdm9pZCBfbmF2aWdhdGVUbyhTdHJpbmcgbGluaykgewogICAgLy8gUGFyc2UgdGhlIGxpbmsgYW5kIG5hdmlnYXRlIHRvIHRoZSBhcHByb3ByaWF0ZSBzY3JlZW4KICAgIGlmIChsaW5rLmNvbnRhaW5zKCdwcm9maWxlJykpIHsKICAgICAgU3RyaW5nIHVzZXJJZCA9IGxpbmsuc3BsaXQoJy8nKS5sYXN0OwogICAgICBOYXZpZ2F0b3IucHVzaCgKICAgICAgICBjb250ZXh0LAogICAgICAgIE1hdGVyaWFsUGFnZVJvdXRlKGJ1aWxkZXI6IChjb250ZXh0KSA9PiBQcm9maWxlU2NyZWVuKHVzZXJJZDogdXNlcklkKSksCiAgICAgICk7CiAgICB9CiAgfQoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBNYXRlcmlhbEFwcCgKICAgICAgaG9tZTogU2NhZmZvbGQoCiAgICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgICB0aXRsZTogVGV4dCgnRGVlcCBMaW5raW5nIEV4YW1wbGUnKSwKICAgICAgICApLAogICAgICAgIGJvZHk6IENlbnRlcigKICAgICAgICAgIGNoaWxkOiBUZXh0KCdIb21lIFNjcmVlbicpLAogICAgICAgICksCiAgICAgICksCiAgICApOwogIH0KfQoKY2xhc3MgUHJvZmlsZVNjcmVlbiBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgZmluYWwgU3RyaW5nIHVzZXJJZDsKCiAgUHJvZmlsZVNjcmVlbih7QHJlcXVpcmVkIHRoaXMudXNlcklkfSk7CgogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIFNjYWZmb2xkKAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogVGV4dCgnUHJvZmlsZSBTY3JlZW4nKSwKICAgICAgKSwKICAgICAgYm9keTogQ2VudGVyKAogICAgICAgIGNoaWxkOiBUZXh0KCdVc2VyIElEOiAkdXNlcklkJyksCiAgICAgICksCiAgICApOwogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';
import 'package:uni_links/uni_links.dart';
import 'dart:async';

void main() =&gt; runApp(MyApp());

class MyApp extends StatefulWidget {
  @override
  _MyAppState createState() =&gt; _MyAppState();
}

class _MyAppState extends State&lt;MyApp&gt; {
  StreamSubscription _sub;

  @override
  void initState() {
    super.initState();
    initUniLinks();
  }

  @override
  void dispose() {
    _sub.cancel();
    super.dispose();
  }

  Future&lt;void&gt; initUniLinks() async {
    _sub = getLinksStream().listen((String link) {
      if (link != null) {
        // Handle the deep link
        _navigateTo(link);
      }
    }, onError: (err) {
      // Handle error
    });
  }

  void _navigateTo(String link) {
    // Parse the link and navigate to the appropriate screen
    if (link.contains('profile')) {
      String userId = link.split('/').last;
      Navigator.push(
        context,
        MaterialPageRoute(builder: (context) =&gt; ProfileScreen(userId: userId)),
      );
    }
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(
          title: Text('Deep Linking Example'),
        ),
        body: Center(
          child: Text('Home Screen'),
        ),
      ),
    );
  }
}

class ProfileScreen extends StatelessWidget {
  final String userId;

  ProfileScreen({@required this.userId});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Profile Screen'),
      ),
      body: Center(
        child: Text('User ID: $userId'),
      ),
    );
  }
}</pre></div><div class='content'></div><h2><ol start="3">
<li>Testing Deep Links</li>
</ol>
</h2>
<div class='content'><h4>iOS</h4>
<ul>
<li>Use the <code>xcrun</code> command to test deep links in the simulator.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("eGNydW4gc2ltY3RsIG9wZW51cmwgYm9vdGVkIG15YXBwOi8vcHJvZmlsZS8xMjM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>xcrun simctl openurl booted myapp://profile/123</pre></div><div class='content'><h4>Android</h4>
<ul>
<li>Use the <code>adb</code> command to test deep links on an emulator or device.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWRiIHNoZWxsIGFtIHN0YXJ0IC1XIC1hIGFuZHJvaWQuaW50ZW50LmFjdGlvbi5WSUVXIC1kICJteWFwcDovL3Byb2ZpbGUvMTIzIiBjb20uZXhhbXBsZS5teWFwcA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>adb shell am start -W -a android.intent.action.VIEW -d &quot;myapp://profile/123&quot; com.example.myapp</pre></div><div class='content'></div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Task</p>
</h2>
<div class='content'><ol>
<li>Set up deep linking in your Flutter app.</li>
<li>Create a screen that displays user profile information.</li>
<li>Handle deep links to navigate to the profile screen with the user ID.</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><ol>
<li><strong>Configure URL Schemes</strong>: Follow the steps above to configure URL schemes for both iOS and Android.</li>
<li><strong>Add Dependencies</strong>: Add the <code>uni_links</code> package to your <code>pubspec.yaml</code>.</li>
<li><strong>Implement Navigation</strong>: Use the provided code example to handle deep links and navigate to the profile screen.</li>
</ol>
</div><h2><p>Common Mistakes</p>
</h2>
<div class='content'><ul>
<li><strong>Incorrect URL Scheme</strong>: Ensure the URL scheme matches exactly in both the app configuration and the deep link.</li>
<li><strong>Missing Permissions</strong>: Ensure your app has the necessary permissions to handle deep links.</li>
<li><strong>Navigation Errors</strong>: Ensure the navigation logic correctly parses the deep link and navigates to the appropriate screen.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Deep linking is an essential feature for modern mobile applications, providing a seamless user experience by allowing direct navigation to specific content within the app. By understanding and implementing deep linking, you can enhance the usability and accessibility of your Flutter applications. In the next module, we will explore networking and APIs, which will further expand your app's capabilities by integrating with external data sources.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-passing-data-between-screens' title="Passing Data Between Screens">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-fetching-data-from-internet' title="Fetching Data from the Internet">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
