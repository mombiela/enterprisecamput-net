<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon Redshift</title>

    <link rel="alternate" href="https://campusempresa.com/mod/aws/06-03-redshift" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/aws/06-03-redshift" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/aws/06-03-redshift" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/aws/06-03-redshift" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/aws/06-03-redshift" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-aurora' title="Amazon Aurora">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Amazon Redshift</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-elasticache' title="Amazon ElastiCache">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Amazon Redshift is a fully managed data warehouse service in the cloud. It allows you to run complex queries and perform analytics on large datasets quickly and efficiently. In this module, we will cover the key concepts, architecture, and practical examples of using Amazon Redshift.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Data Warehouse</strong>: A centralized repository for storing large volumes of structured data from multiple sources.</li>
<li><strong>Cluster</strong>: A collection of nodes, which are the basic building blocks of Amazon Redshift.</li>
<li><strong>Node Types</strong>:
<ul>
<li><strong>Leader Node</strong>: Manages client connections and receives queries.</li>
<li><strong>Compute Nodes</strong>: Perform the actual query processing and data storage.</li>
</ul>
</li>
<li><strong>Columnar Storage</strong>: Data is stored in columns rather than rows, optimizing for read-heavy operations.</li>
<li><strong>Massively Parallel Processing (MPP)</strong>: Distributes data and query load across multiple nodes to improve performance.</li>
<li><strong>SQL Interface</strong>: Supports SQL queries for data manipulation and retrieval.</li>
</ol>
</div><h1>Setting Up Amazon Redshift</h1>
<div class='content'></div><h2>Step 1: Create a Redshift Cluster</h2>
<div class='content'><ol>
<li><strong>Sign in to the AWS Management Console</strong>.</li>
<li><strong>Navigate to the Amazon Redshift service</strong>.</li>
<li><strong>Click on &quot;Create cluster&quot;</strong>.</li>
<li><strong>Configure the cluster settings</strong>:
<ul>
<li><strong>Cluster identifier</strong>: A unique name for your cluster.</li>
<li><strong>Node type</strong>: Choose the type of nodes (e.g., dc2.large).</li>
<li><strong>Number of nodes</strong>: Specify the number of nodes in your cluster.</li>
<li><strong>Database name</strong>: Name your database.</li>
<li><strong>Master user</strong>: Set the master username and password.</li>
</ul>
</li>
<li><strong>Click &quot;Create cluster&quot;</strong>.</li>
</ol>
</div><h2>Step 2: Configure Security Groups</h2>
<div class='content'><ol>
<li><strong>Navigate to the VPC service</strong>.</li>
<li><strong>Select &quot;Security Groups&quot;</strong>.</li>
<li><strong>Create a new security group</strong> or modify an existing one to allow inbound traffic on port 5439 (default Redshift port).</li>
</ol>
</div><h2>Step 3: Connect to the Cluster</h2>
<div class='content'><ol>
<li><strong>Obtain the endpoint</strong> of your Redshift cluster from the AWS Management Console.</li>
<li><strong>Use a SQL client</strong> (e.g., SQL Workbench/J) to connect to the cluster using the endpoint, database name, master username, and password.</li>
</ol>
</div><h1>Practical Example</h1>
<div class='content'></div><h2>Creating a Table and Inserting Data</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXRlIGEgdGFibGUKQ1JFQVRFIFRBQkxFIHNhbGVzICgKICAgIHNhbGVfaWQgSU5ULAogICAgcHJvZHVjdF9pZCBJTlQsCiAgICBxdWFudGl0eSBJTlQsCiAgICBzYWxlX2RhdGUgREFURQopOwoKLS0gSW5zZXJ0IGRhdGEgaW50byB0aGUgdGFibGUKSU5TRVJUIElOVE8gc2FsZXMgKHNhbGVfaWQsIHByb2R1Y3RfaWQsIHF1YW50aXR5LCBzYWxlX2RhdGUpClZBTFVFUwooMSwgMTAxLCAyLCAnMjAyMy0wMS0wMScpLAooMiwgMTAyLCAxLCAnMjAyMy0wMS0wMicpLAooMywgMTAxLCA1LCAnMjAyMy0wMS0wMycpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Create a table
CREATE TABLE sales (
    sale_id INT,
    product_id INT,
    quantity INT,
    sale_date DATE
);

-- Insert data into the table
INSERT INTO sales (sale_id, product_id, quantity, sale_date)
VALUES
(1, 101, 2, '2023-01-01'),
(2, 102, 1, '2023-01-02'),
(3, 101, 5, '2023-01-03');</pre></div><div class='content'></div><h2>Querying Data</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gU2VsZWN0IGFsbCByZWNvcmRzIGZyb20gdGhlIHNhbGVzIHRhYmxlClNFTEVDVCAqIEZST00gc2FsZXM7CgotLSBBZ2dyZWdhdGUgcXVlcnkgdG8gZmluZCB0b3RhbCBxdWFudGl0eSBzb2xkIHBlciBwcm9kdWN0ClNFTEVDVCBwcm9kdWN0X2lkLCBTVU0ocXVhbnRpdHkpIEFTIHRvdGFsX3F1YW50aXR5CkZST00gc2FsZXMKR1JPVVAgQlkgcHJvZHVjdF9pZDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Select all records from the sales table
SELECT * FROM sales;

-- Aggregate query to find total quantity sold per product
SELECT product_id, SUM(quantity) AS total_quantity
FROM sales
GROUP BY product_id;</pre></div><div class='content'></div><h2>Performance Optimization</h2>
<div class='content'><ol>
<li><strong>Distribution Styles</strong>: Choose the right distribution style (e.g., EVEN, KEY, ALL) to optimize data distribution across nodes.</li>
<li><strong>Sort Keys</strong>: Define sort keys to improve query performance by reducing the amount of data scanned.</li>
<li><strong>Compression</strong>: Use column encoding to reduce storage requirements and improve I/O performance.</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Create and Query a Redshift Table</h2>
<div class='content'><ol>
<li>
<p><strong>Create a table</strong> named <code>customers</code> with the following schema:</p>
<ul>
<li><code>customer_id</code> (INT)</li>
<li><code>first_name</code> (VARCHAR)</li>
<li><code>last_name</code> (VARCHAR)</li>
<li><code>email</code> (VARCHAR)</li>
<li><code>signup_date</code> (DATE)</li>
</ul>
</li>
<li>
<p><strong>Insert sample data</strong> into the <code>customers</code> table.</p>
</li>
<li>
<p><strong>Write a query</strong> to find the number of customers who signed up in the year 2023.</p>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXRlIHRoZSBjdXN0b21lcnMgdGFibGUKQ1JFQVRFIFRBQkxFIGN1c3RvbWVycyAoCiAgICBjdXN0b21lcl9pZCBJTlQsCiAgICBmaXJzdF9uYW1lIFZBUkNIQVIoNTApLAogICAgbGFzdF9uYW1lIFZBUkNIQVIoNTApLAogICAgZW1haWwgVkFSQ0hBUigxMDApLAogICAgc2lnbnVwX2RhdGUgREFURQopOwoKLS0gSW5zZXJ0IHNhbXBsZSBkYXRhIGludG8gdGhlIGN1c3RvbWVycyB0YWJsZQpJTlNFUlQgSU5UTyBjdXN0b21lcnMgKGN1c3RvbWVyX2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsLCBzaWdudXBfZGF0ZSkKVkFMVUVTCigxLCAnSm9obicsICdEb2UnLCAnam9obi5kb2VAZXhhbXBsZS5jb20nLCAnMjAyMy0wMS0xNScpLAooMiwgJ0phbmUnLCAnU21pdGgnLCAnamFuZS5zbWl0aEBleGFtcGxlLmNvbScsICcyMDIyLTEyLTIwJyksCigzLCAnQWxpY2UnLCAnSm9obnNvbicsICdhbGljZS5qb2huc29uQGV4YW1wbGUuY29tJywgJzIwMjMtMDMtMTAnKTsKCi0tIFF1ZXJ5IHRvIGZpbmQgdGhlIG51bWJlciBvZiBjdXN0b21lcnMgd2hvIHNpZ25lZCB1cCBpbiAyMDIzClNFTEVDVCBDT1VOVCgqKSBBUyBudW1fY3VzdG9tZXJzXzIwMjMKRlJPTSBjdXN0b21lcnMKV0hFUkUgRVhUUkFDVChZRUFSIEZST00gc2lnbnVwX2RhdGUpID0gMjAyMzs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Create the customers table
CREATE TABLE customers (
    customer_id INT,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(100),
    signup_date DATE
);

-- Insert sample data into the customers table
INSERT INTO customers (customer_id, first_name, last_name, email, signup_date)
VALUES
(1, 'John', 'Doe', 'john.doe@example.com', '2023-01-15'),
(2, 'Jane', 'Smith', 'jane.smith@example.com', '2022-12-20'),
(3, 'Alice', 'Johnson', 'alice.johnson@example.com', '2023-03-10');

-- Query to find the number of customers who signed up in 2023
SELECT COUNT(*) AS num_customers_2023
FROM customers
WHERE EXTRACT(YEAR FROM signup_date) = 2023;</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Security Groups</strong>: Ensure that your security groups are correctly configured to allow inbound traffic on the Redshift port.</li>
<li><strong>Data Distribution</strong>: Improper distribution styles can lead to data skew and performance issues. Analyze your query patterns to choose the right distribution style.</li>
<li><strong>Sort Keys</strong>: Use sort keys wisely to optimize query performance. Avoid using too many sort keys as it can increase the load on the system.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this module, we covered the basics of Amazon Redshift, including its architecture, key concepts, and practical examples. You learned how to set up a Redshift cluster, create tables, insert data, and run queries. We also discussed performance optimization techniques and provided a practical exercise to reinforce your learning. In the next module, we will explore another AWS service to further enhance your cloud computing skills.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-02-aurora' title="Amazon Aurora">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-04-elasticache' title="Amazon ElastiCache">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
