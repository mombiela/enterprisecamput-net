<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon CloudFront</title>

    <link rel="alternate" href="https://campusempresa.com/mod/aws/03-03-amazon-cloudfront" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/aws/03-03-amazon-cloudfront" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/aws/03-03-amazon-cloudfront" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/aws/03-03-amazon-cloudfront" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/aws/03-03-amazon-cloudfront" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-elastic-load-balancing' title="Elastic Load Balancing">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Amazon CloudFront</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-route-53' title="Route 53">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Amazon CloudFront</h1>
<div class='content'><p>Amazon CloudFront is a fast content delivery network (CDN) service that securely delivers data, videos, applications, and APIs to customers globally with low latency and high transfer speeds. CloudFront integrates with other AWS services to provide a seamless experience for developers and businesses.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ol>
<li>
<p><strong>Content Delivery Network (CDN):</strong></p>
<ul>
<li>A CDN is a network of servers distributed globally to deliver content more efficiently to users based on their geographic location.</li>
</ul>
</li>
<li>
<p><strong>Edge Locations:</strong></p>
<ul>
<li>These are data centers where CloudFront caches copies of your content closer to your users to reduce latency.</li>
</ul>
</li>
<li>
<p><strong>Origin:</strong></p>
<ul>
<li>The origin is the source of the content that CloudFront will distribute. It can be an Amazon S3 bucket, an HTTP server, or an AWS MediaPackage channel.</li>
</ul>
</li>
<li>
<p><strong>Distribution:</strong></p>
<ul>
<li>A distribution is the configuration you create to tell CloudFront where you want content to be delivered from and the details about how to track and manage content delivery.</li>
</ul>
</li>
</ol>
</div><h2>Setting Up Amazon CloudFront</h2>
<div class='content'><h4>Step 1: Create a CloudFront Distribution</h4>
<ol>
<li><strong>Log in to the AWS Management Console.</strong></li>
<li><strong>Navigate to the CloudFront service.</strong></li>
<li><strong>Click on &quot;Create Distribution&quot;.</strong></li>
<li><strong>Select the type of distribution:</strong>
<ul>
<li><strong>Web:</strong> For websites, APIs, and other web applications.</li>
<li><strong>RTMP:</strong> For media streaming (Real-Time Messaging Protocol).</li>
</ul>
</li>
</ol>
<h4>Step 2: Configure the Distribution</h4>
<ol>
<li>
<p><strong>Specify the Origin Settings:</strong></p>
<ul>
<li><strong>Origin Domain Name:</strong> Enter the domain name of your origin (e.g., your S3 bucket or HTTP server).</li>
<li><strong>Origin Path:</strong> (Optional) Specify a directory path if needed.</li>
<li><strong>Origin ID:</strong> A unique identifier for the origin.</li>
</ul>
</li>
<li>
<p><strong>Default Cache Behavior Settings:</strong></p>
<ul>
<li><strong>Path Pattern:</strong> Specify the URL path pattern (e.g., <code>/*</code> for all files).</li>
<li><strong>Viewer Protocol Policy:</strong> Choose how CloudFront handles HTTP and HTTPS requests (e.g., Redirect HTTP to HTTPS).</li>
<li><strong>Allowed HTTP Methods:</strong> Select the HTTP methods (GET, HEAD, OPTIONS, etc.) that CloudFront will process.</li>
</ul>
</li>
<li>
<p><strong>Distribution Settings:</strong></p>
<ul>
<li><strong>Price Class:</strong> Choose the price class based on the regions you want to distribute your content to.</li>
<li><strong>Alternate Domain Names (CNAMEs):</strong> (Optional) Add custom domain names.</li>
<li><strong>SSL Certificate:</strong> Choose the SSL certificate for HTTPS (default CloudFront certificate or custom).</li>
</ul>
</li>
<li>
<p><strong>Review and Create:</strong></p>
<ul>
<li>Review your settings and click &quot;Create Distribution&quot;.</li>
</ul>
</li>
</ol>
</div><h2>Practical Example</h2>
<div class='content'><p>Let's create a CloudFront distribution for an S3 bucket.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGJvdG8zCgojIEluaXRpYWxpemUgYSBzZXNzaW9uIHVzaW5nIEFtYXpvbiBDbG91ZEZyb250CmNsaWVudCA9IGJvdG8zLmNsaWVudCgnY2xvdWRmcm9udCcpCgojIENyZWF0ZSBhIENsb3VkRnJvbnQgZGlzdHJpYnV0aW9uCnJlc3BvbnNlID0gY2xpZW50LmNyZWF0ZV9kaXN0cmlidXRpb24oCiAgICBEaXN0cmlidXRpb25Db25maWc9ewogICAgICAgICdDYWxsZXJSZWZlcmVuY2UnOiAndW5pcXVlLXN0cmluZycsCiAgICAgICAgJ09yaWdpbnMnOiB7CiAgICAgICAgICAgICdRdWFudGl0eSc6IDEsCiAgICAgICAgICAgICdJdGVtcyc6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAnSWQnOiAnUzMtb3JpZ2luJywKICAgICAgICAgICAgICAgICAgICAnRG9tYWluTmFtZSc6ICdteWJ1Y2tldC5zMy5hbWF6b25hd3MuY29tJywKICAgICAgICAgICAgICAgICAgICAnUzNPcmlnaW5Db25maWcnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdPcmlnaW5BY2Nlc3NJZGVudGl0eSc6ICcnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAnRGVmYXVsdENhY2hlQmVoYXZpb3InOiB7CiAgICAgICAgICAgICdUYXJnZXRPcmlnaW5JZCc6ICdTMy1vcmlnaW4nLAogICAgICAgICAgICAnVmlld2VyUHJvdG9jb2xQb2xpY3knOiAncmVkaXJlY3QtdG8taHR0cHMnLAogICAgICAgICAgICAnQWxsb3dlZE1ldGhvZHMnOiB7CiAgICAgICAgICAgICAgICAnUXVhbnRpdHknOiAyLAogICAgICAgICAgICAgICAgJ0l0ZW1zJzogWydHRVQnLCAnSEVBRCddLAogICAgICAgICAgICAgICAgJ0NhY2hlZE1ldGhvZHMnOiB7CiAgICAgICAgICAgICAgICAgICAgJ1F1YW50aXR5JzogMiwKICAgICAgICAgICAgICAgICAgICAnSXRlbXMnOiBbJ0dFVCcsICdIRUFEJ10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ0ZvcndhcmRlZFZhbHVlcyc6IHsKICAgICAgICAgICAgICAgICdRdWVyeVN0cmluZyc6IEZhbHNlLAogICAgICAgICAgICAgICAgJ0Nvb2tpZXMnOiB7CiAgICAgICAgICAgICAgICAgICAgJ0ZvcndhcmQnOiAnbm9uZScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ01pblRUTCc6IDAsCiAgICAgICAgICAgICdEZWZhdWx0VFRMJzogODY0MDAsCiAgICAgICAgICAgICdNYXhUVEwnOiAzMTUzNjAwMAogICAgICAgIH0sCiAgICAgICAgJ0NvbW1lbnQnOiAnTXkgQ2xvdWRGcm9udCBEaXN0cmlidXRpb24nLAogICAgICAgICdFbmFibGVkJzogVHJ1ZQogICAgfQopCgpwcmludChyZXNwb25zZSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import boto3

# Initialize a session using Amazon CloudFront
client = boto3.client('cloudfront')

# Create a CloudFront distribution
response = client.create_distribution(
    DistributionConfig={
        'CallerReference': 'unique-string',
        'Origins': {
            'Quantity': 1,
            'Items': [
                {
                    'Id': 'S3-origin',
                    'DomainName': 'mybucket.s3.amazonaws.com',
                    'S3OriginConfig': {
                        'OriginAccessIdentity': ''
                    }
                }
            ]
        },
        'DefaultCacheBehavior': {
            'TargetOriginId': 'S3-origin',
            'ViewerProtocolPolicy': 'redirect-to-https',
            'AllowedMethods': {
                'Quantity': 2,
                'Items': ['GET', 'HEAD'],
                'CachedMethods': {
                    'Quantity': 2,
                    'Items': ['GET', 'HEAD']
                }
            },
            'ForwardedValues': {
                'QueryString': False,
                'Cookies': {
                    'Forward': 'none'
                }
            },
            'MinTTL': 0,
            'DefaultTTL': 86400,
            'MaxTTL': 31536000
        },
        'Comment': 'My CloudFront Distribution',
        'Enabled': True
    }
)

print(response)</pre></div><div class='content'></div><h2>Common Mistakes and Tips</h2>
<div class='content'><ol>
<li>
<p><strong>Incorrect Origin Domain Name:</strong></p>
<ul>
<li>Ensure the origin domain name is correct and accessible. For S3, it should be in the format <code>mybucket.s3.amazonaws.com</code>.</li>
</ul>
</li>
<li>
<p><strong>Viewer Protocol Policy:</strong></p>
<ul>
<li>Always use HTTPS for secure content delivery. Use the &quot;Redirect HTTP to HTTPS&quot; option to enforce this.</li>
</ul>
</li>
<li>
<p><strong>Cache Invalidation:</strong></p>
<ul>
<li>When updating content, remember to invalidate the cache to ensure users get the latest version. This can be done via the CloudFront console or programmatically.</li>
</ul>
</li>
</ol>
</div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Exercise: Create a CloudFront Distribution for a Static Website</strong></p>
<ol>
<li><strong>Create an S3 bucket and upload a static website.</strong></li>
<li><strong>Create a CloudFront distribution with the S3 bucket as the origin.</strong></li>
<li><strong>Configure the distribution to use HTTPS.</strong></li>
<li><strong>Access the website via the CloudFront URL.</strong></li>
</ol>
<p><strong>Solution:</strong></p>
<ol>
<li><strong>Create an S3 bucket and upload your static website files.</strong></li>
<li><strong>Follow the steps in the &quot;Setting Up Amazon CloudFront&quot; section to create a distribution.</strong></li>
<li><strong>Ensure the Viewer Protocol Policy is set to &quot;Redirect HTTP to HTTPS&quot;.</strong></li>
<li><strong>Access the CloudFront URL provided after the distribution is created.</strong></li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, you learned about Amazon CloudFront, its key concepts, and how to set up a CloudFront distribution. You also explored a practical example and completed an exercise to reinforce your understanding. In the next module, we will dive into Route 53, AWS's scalable domain name system (DNS) web service.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-elastic-load-balancing' title="Elastic Load Balancing">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-route-53' title="Route 53">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
