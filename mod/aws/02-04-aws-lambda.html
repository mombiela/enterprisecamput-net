<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Lambda</title>

    <link rel="alternate" href="https://campusempresa.com/mod/aws/02-04-aws-lambda" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/aws/02-04-aws-lambda" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/aws/02-04-aws-lambda" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/aws/02-04-aws-lambda" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/aws/02-04-aws-lambda" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-03-amazon-rds' title="Amazon RDS">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">AWS Lambda</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-amazon-vpc' title="Amazon VPC">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction to AWS Lambda</p>
</h1>
<div class='content'><p>AWS Lambda is a serverless compute service that lets you run code without provisioning or managing servers. With Lambda, you can run code for virtually any type of application or backend service, all with zero administration. Simply upload your code, and Lambda takes care of everything required to run and scale your code with high availability.</p>
</div><h2><p>Key Concepts</p>
</h2>
<div class='content'><ol>
<li><strong>Serverless Architecture</strong>: No need to manage infrastructure.</li>
<li><strong>Event-Driven Execution</strong>: Lambda functions are triggered by events.</li>
<li><strong>Automatic Scaling</strong>: Lambda scales automatically based on the number of incoming requests.</li>
<li><strong>Pay-per-Use</strong>: You only pay for the compute time you consume.</li>
</ol>
</div><h2><p>How AWS Lambda Works</p>
</h2>
<div class='content'><ol>
<li><strong>Upload Code</strong>: Write your code and upload it to Lambda.</li>
<li><strong>Set Triggers</strong>: Configure triggers to invoke your function.</li>
<li><strong>Execution</strong>: Lambda runs your code in response to the triggers.</li>
<li><strong>Scaling</strong>: Lambda automatically scales your application by running code in response to each trigger.</li>
</ol>
</div><h1><p>Setting Up AWS Lambda</p>
</h1>
<div class='content'></div><h2><p>Step-by-Step Guide</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Lambda Function</strong>:</p>
<ul>
<li>Go to the AWS Management Console.</li>
<li>Navigate to the Lambda service.</li>
<li>Click on &quot;Create function&quot;.</li>
<li>Choose &quot;Author from scratch&quot;.</li>
<li>Provide a function name and select a runtime (e.g., Python, Node.js).</li>
</ul>
</li>
<li>
<p><strong>Configure Function</strong>:</p>
<ul>
<li>Set up the execution role that grants your function permission to access AWS services and resources.</li>
<li>Configure the function's memory, timeout, and environment variables.</li>
</ul>
</li>
<li>
<p><strong>Write Code</strong>:</p>
<ul>
<li>You can write your code directly in the inline editor or upload a .zip file containing your code and dependencies.</li>
</ul>
</li>
<li>
<p><strong>Set Triggers</strong>:</p>
<ul>
<li>Add triggers such as S3, DynamoDB, API Gateway, etc., to invoke your function.</li>
</ul>
</li>
<li>
<p><strong>Deploy and Test</strong>:</p>
<ul>
<li>Deploy your function and test it using the built-in test functionality.</li>
</ul>
</li>
</ol>
</div><h2><p>Example: Simple Lambda Function</p>
</h2>
<div class='content'><p>Let's create a simple Lambda function that returns a greeting message.</p>
<h4>Code Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGpzb24KCmRlZiBsYW1iZGFfaGFuZGxlcihldmVudCwgY29udGV4dCk6CiAgICAjIEV4dHJhY3QgbmFtZSBmcm9tIHRoZSBldmVudAogICAgbmFtZSA9IGV2ZW50LmdldCgnbmFtZScsICdXb3JsZCcpCiAgICAKICAgICMgQ3JlYXRlIGEgcmVzcG9uc2UKICAgIHJlc3BvbnNlID0gewogICAgICAgICdzdGF0dXNDb2RlJzogMjAwLAogICAgICAgICdib2R5JzoganNvbi5kdW1wcyhmJ0hlbGxvLCB7bmFtZX0hJykKICAgIH0KICAgIAogICAgcmV0dXJuIHJlc3BvbnNl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import json

def lambda_handler(event, context):
    # Extract name from the event
    name = event.get('name', 'World')
    
    # Create a response
    response = {
        'statusCode': 200,
        'body': json.dumps(f'Hello, {name}!')
    }
    
    return response</pre></div><div class='content'><h4>Explanation</h4>
<ul>
<li><strong>Import json</strong>: Import the JSON module to handle JSON data.</li>
<li><strong>lambda_handler</strong>: This is the main function that Lambda calls to start execution.</li>
<li><strong>event</strong>: Contains the input data to the function.</li>
<li><strong>context</strong>: Provides runtime information to the function.</li>
<li><strong>name</strong>: Extracts the 'name' parameter from the event.</li>
<li><strong>response</strong>: Creates a response object with a status code and a greeting message.</li>
</ul>
</div><h2><p>Practical Exercise</p>
</h2>
<div class='content'><h4>Task</h4>
<p>Create a Lambda function that processes an S3 event and logs the details of the uploaded file.</p>
<h4>Steps</h4>
<ol>
<li>
<p><strong>Create a Lambda Function</strong>:</p>
<ul>
<li>Follow the steps to create a new Lambda function.</li>
<li>Choose &quot;Author from scratch&quot;.</li>
<li>Name your function <code>S3EventProcessor</code>.</li>
<li>Select Python as the runtime.</li>
</ul>
</li>
<li>
<p><strong>Set Up Permissions</strong>:</p>
<ul>
<li>Create an execution role with permissions to access S3 and CloudWatch Logs.</li>
</ul>
</li>
<li>
<p><strong>Write Code</strong>:</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGpzb24KaW1wb3J0IGxvZ2dpbmcKCmxvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCkKbG9nZ2VyLnNldExldmVsKGxvZ2dpbmcuSU5GTykKCmRlZiBsYW1iZGFfaGFuZGxlcihldmVudCwgY29udGV4dCk6CiAgICAjIExvZyB0aGUgcmVjZWl2ZWQgZXZlbnQKICAgIGxvZ2dlci5pbmZvKCJSZWNlaXZlZCBldmVudDogIiArIGpzb24uZHVtcHMoZXZlbnQsIGluZGVudD0yKSkKICAgIAogICAgIyBFeHRyYWN0IGJ1Y2tldCBuYW1lIGFuZCBvYmplY3Qga2V5IGZyb20gdGhlIGV2ZW50CiAgICBidWNrZXQgPSBldmVudFsnUmVjb3JkcyddWzBdWydzMyddWydidWNrZXQnXVsnbmFtZSddCiAgICBrZXkgPSBldmVudFsnUmVjb3JkcyddWzBdWydzMyddWydvYmplY3QnXVsna2V5J10KICAgIAogICAgbG9nZ2VyLmluZm8oZiJCdWNrZXQ6IHtidWNrZXR9LCBLZXk6IHtrZXl9IikKICAgIAogICAgcmV0dXJuIHsKICAgICAgICAnc3RhdHVzQ29kZSc6IDIwMCwKICAgICAgICAnYm9keSc6IGpzb24uZHVtcHMoJ0V2ZW50IHByb2Nlc3NlZCBzdWNjZXNzZnVsbHknKQogICAgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import json
import logging

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def lambda_handler(event, context):
    # Log the received event
    logger.info(&quot;Received event: &quot; + json.dumps(event, indent=2))
    
    # Extract bucket name and object key from the event
    bucket = event['Records'][0]['s3']['bucket']['name']
    key = event['Records'][0]['s3']['object']['key']
    
    logger.info(f&quot;Bucket: {bucket}, Key: {key}&quot;)
    
    return {
        'statusCode': 200,
        'body': json.dumps('Event processed successfully')
    }</pre></div><div class='content'><ol start="4">
<li>
<p><strong>Set S3 Trigger</strong>:</p>
<ul>
<li>Go to the S3 bucket where you want to trigger the Lambda function.</li>
<li>Configure the bucket to send events to your Lambda function on object creation.</li>
</ul>
</li>
<li>
<p><strong>Test</strong>:</p>
<ul>
<li>Upload a file to the S3 bucket and check the CloudWatch Logs to see the details of the uploaded file.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><p>The provided code logs the details of the uploaded file, including the bucket name and object key. This is useful for processing files as they are uploaded to S3.</p>
</div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Permissions</strong>: Ensure your Lambda function has the necessary permissions to access the required AWS services.</li>
<li><strong>Timeouts</strong>: Set appropriate timeout values for your function to avoid unexpected terminations.</li>
<li><strong>Environment Variables</strong>: Use environment variables to manage configuration settings.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>AWS Lambda is a powerful tool for building serverless applications. By understanding its core concepts and learning how to set up and deploy Lambda functions, you can create scalable and efficient applications without the need to manage infrastructure. In the next module, we will explore more AWS services that can be integrated with Lambda to build comprehensive solutions.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-03-amazon-rds' title="Amazon RDS">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-01-amazon-vpc' title="Amazon VPC">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
