<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon CloudWatch</title>

    <link rel="alternate" href="https://campusempresa.com/mod/aws/05-01-cloudwatch" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/aws/05-01-cloudwatch" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/aws/05-01-cloudwatch" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/aws/05-01-cloudwatch" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/aws/05-01-cloudwatch" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-04-aws-waf' title="AWS WAF">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Amazon CloudWatch</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-02-cloudtrail' title="AWS CloudTrail">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Amazon CloudWatch is a monitoring and observability service designed to provide data and actionable insights for AWS, hybrid, and on-premises applications and infrastructure resources. It helps you monitor your AWS resources and applications in real-time, collect and track metrics, collect and monitor log files, and set alarms.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Metrics</strong>: Data points collected over time that represent the performance of your resources.</li>
<li><strong>Alarms</strong>: Notifications triggered based on metric thresholds.</li>
<li><strong>Logs</strong>: Records of events that occur in your applications and systems.</li>
<li><strong>Dashboards</strong>: Customizable visualizations of your metrics and logs.</li>
<li><strong>Events</strong>: Notifications of changes in your AWS resources.</li>
</ol>
</div><h1><p>Setting Up Amazon CloudWatch</p>
</h1>
<div class='content'></div><h2><p>Step 1: Accessing CloudWatch</p>
</h2>
<div class='content'><ol>
<li>Sign in to the AWS Management Console.</li>
<li>In the Services menu, select <strong>CloudWatch</strong>.</li>
</ol>
</div><h2><p>Step 2: Creating a Dashboard</p>
</h2>
<div class='content'><ol>
<li>In the CloudWatch console, select <strong>Dashboards</strong> from the left-hand menu.</li>
<li>Click <strong>Create dashboard</strong>.</li>
<li>Enter a name for your dashboard and click <strong>Create dashboard</strong>.</li>
<li>Add widgets to your dashboard to visualize metrics, logs, and alarms.</li>
</ol>
</div><h2><p>Step 3: Setting Up Alarms</p>
</h2>
<div class='content'><ol>
<li>In the CloudWatch console, select <strong>Alarms</strong> from the left-hand menu.</li>
<li>Click <strong>Create alarm</strong>.</li>
<li>Select a metric to monitor and click <strong>Select metric</strong>.</li>
<li>Define the conditions for the alarm (e.g., threshold, period).</li>
<li>Configure actions to take when the alarm state changes (e.g., send an SNS notification).</li>
<li>Review and create the alarm.</li>
</ol>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'></div><h2><p>Monitoring an EC2 Instance</p>
</h2>
<div class='content'><p>Let's create a CloudWatch alarm to monitor the CPU utilization of an EC2 instance.</p>
<h4>Step-by-Step Guide</h4>
<ol>
<li>
<p><strong>Navigate to CloudWatch</strong>:</p>
<ul>
<li>Open the AWS Management Console.</li>
<li>Go to <strong>CloudWatch</strong>.</li>
</ul>
</li>
<li>
<p><strong>Create an Alarm</strong>:</p>
<ul>
<li>In the left-hand menu, click on <strong>Alarms</strong>.</li>
<li>Click <strong>Create alarm</strong>.</li>
</ul>
</li>
<li>
<p><strong>Select Metric</strong>:</p>
<ul>
<li>Click <strong>Select metric</strong>.</li>
<li>Choose <strong>EC2</strong> from the list of services.</li>
<li>Select <strong>Per-Instance Metrics</strong>.</li>
<li>Choose the instance you want to monitor.</li>
<li>Select the <strong>CPUUtilization</strong> metric.</li>
</ul>
</li>
<li>
<p><strong>Define Alarm Conditions</strong>:</p>
<ul>
<li>Set the threshold type to <strong>Static</strong>.</li>
<li>Define the threshold value (e.g., 80%).</li>
<li>Set the period (e.g., 5 minutes).</li>
<li>Click <strong>Next</strong>.</li>
</ul>
</li>
<li>
<p><strong>Configure Actions</strong>:</p>
<ul>
<li>Choose an existing SNS topic or create a new one to receive notifications.</li>
<li>Click <strong>Next</strong>.</li>
</ul>
</li>
<li>
<p><strong>Review and Create</strong>:</p>
<ul>
<li>Review the alarm settings.</li>
<li>Click <strong>Create alarm</strong>.</li>
</ul>
</li>
</ol>
</div><h2><p>Example Code</p>
</h2>
<div class='content'><p>Here is an example of how to create a CloudWatch alarm using AWS SDK for Python (Boto3):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGJvdG8zCgojIENyZWF0ZSBDbG91ZFdhdGNoIGNsaWVudApjbG91ZHdhdGNoID0gYm90bzMuY2xpZW50KCdjbG91ZHdhdGNoJykKCiMgQ3JlYXRlIGFsYXJtCmNsb3Vkd2F0Y2gucHV0X21ldHJpY19hbGFybSgKICAgIEFsYXJtTmFtZT0nRUMyX0NQVV9VdGlsaXphdGlvbl9BbGFybScsCiAgICBDb21wYXJpc29uT3BlcmF0b3I9J0dyZWF0ZXJUaGFuVGhyZXNob2xkJywKICAgIEV2YWx1YXRpb25QZXJpb2RzPTEsCiAgICBNZXRyaWNOYW1lPSdDUFVVdGlsaXphdGlvbicsCiAgICBOYW1lc3BhY2U9J0FXUy9FQzInLAogICAgUGVyaW9kPTMwMCwKICAgIFN0YXRpc3RpYz0nQXZlcmFnZScsCiAgICBUaHJlc2hvbGQ9ODAuMCwKICAgIEFjdGlvbnNFbmFibGVkPVRydWUsCiAgICBBbGFybUFjdGlvbnM9WwogICAgICAgICdhcm46YXdzOnNuczp1cy1lYXN0LTE6MTIzNDU2Nzg5MDEyOk15U05TVG9waWMnCiAgICBdLAogICAgQWxhcm1EZXNjcmlwdGlvbj0nQWxhcm0gd2hlbiBzZXJ2ZXIgQ1BVIGV4Y2VlZHMgODAlJywKICAgIERpbWVuc2lvbnM9WwogICAgICAgIHsKICAgICAgICAgICAgJ05hbWUnOiAnSW5zdGFuY2VJZCcsCiAgICAgICAgICAgICdWYWx1ZSc6ICdpLTAxMjM0NTY3ODlhYmNkZWYwJwogICAgICAgIH0sCiAgICBdLAogICAgVW5pdD0nUGVyY2VudCcKKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import boto3

# Create CloudWatch client
cloudwatch = boto3.client('cloudwatch')

# Create alarm
cloudwatch.put_metric_alarm(
    AlarmName='EC2_CPU_Utilization_Alarm',
    ComparisonOperator='GreaterThanThreshold',
    EvaluationPeriods=1,
    MetricName='CPUUtilization',
    Namespace='AWS/EC2',
    Period=300,
    Statistic='Average',
    Threshold=80.0,
    ActionsEnabled=True,
    AlarmActions=[
        'arn:aws:sns:us-east-1:123456789012:MySNSTopic'
    ],
    AlarmDescription='Alarm when server CPU exceeds 80%',
    Dimensions=[
        {
            'Name': 'InstanceId',
            'Value': 'i-0123456789abcdef0'
        },
    ],
    Unit='Percent'
)</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>AlarmName</strong>: The name of the alarm.</li>
<li><strong>ComparisonOperator</strong>: The condition to trigger the alarm (e.g., GreaterThanThreshold).</li>
<li><strong>EvaluationPeriods</strong>: The number of periods over which data is compared to the specified threshold.</li>
<li><strong>MetricName</strong>: The name of the metric to monitor (e.g., CPUUtilization).</li>
<li><strong>Namespace</strong>: The namespace of the metric (e.g., AWS/EC2).</li>
<li><strong>Period</strong>: The period, in seconds, over which the specified statistic is applied (e.g., 300 seconds for 5 minutes).</li>
<li><strong>Statistic</strong>: The statistic to apply to the metric (e.g., Average).</li>
<li><strong>Threshold</strong>: The value against which the specified statistic is compared.</li>
<li><strong>ActionsEnabled</strong>: Whether actions should be executed when the alarm state changes.</li>
<li><strong>AlarmActions</strong>: The actions to execute when the alarm state changes (e.g., send an SNS notification).</li>
<li><strong>AlarmDescription</strong>: A description of the alarm.</li>
<li><strong>Dimensions</strong>: The dimensions for the metric (e.g., InstanceId).</li>
<li><strong>Unit</strong>: The unit of the metric (e.g., Percent).</li>
</ul>
</div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a CloudWatch Dashboard</p>
</h2>
<div class='content'><ol>
<li>Create a new CloudWatch dashboard.</li>
<li>Add a widget to monitor the CPU utilization of an EC2 instance.</li>
<li>Add a widget to display the logs from an S3 bucket.</li>
</ol>
</div><h2><p>Exercise 2: Set Up a CloudWatch Alarm</p>
</h2>
<div class='content'><ol>
<li>Create an alarm to monitor the disk read operations of an RDS instance.</li>
<li>Configure the alarm to send an email notification when the threshold is exceeded.</li>
</ol>
</div><h2><p>Solutions</p>
</h2>
<div class='content'><h4>Solution 1: Create a CloudWatch Dashboard</h4>
<ol>
<li>Navigate to the CloudWatch console.</li>
<li>Click <strong>Dashboards</strong> in the left-hand menu.</li>
<li>Click <strong>Create dashboard</strong>.</li>
<li>Enter a name for the dashboard and click <strong>Create dashboard</strong>.</li>
<li>Click <strong>Add widget</strong>.</li>
<li>Select <strong>Line</strong> and click <strong>Configure</strong>.</li>
<li>Choose <strong>EC2</strong> and select the <strong>CPUUtilization</strong> metric for your instance.</li>
<li>Click <strong>Create widget</strong>.</li>
<li>Repeat steps 5-8 to add a widget for S3 logs.</li>
</ol>
<h4>Solution 2: Set Up a CloudWatch Alarm</h4>
<ol>
<li>Navigate to the CloudWatch console.</li>
<li>Click <strong>Alarms</strong> in the left-hand menu.</li>
<li>Click <strong>Create alarm</strong>.</li>
<li>Click <strong>Select metric</strong>.</li>
<li>Choose <strong>RDS</strong> from the list of services.</li>
<li>Select <strong>Per-Instance Metrics</strong>.</li>
<li>Choose the instance you want to monitor.</li>
<li>Select the <strong>ReadIOPS</strong> metric.</li>
<li>Set the threshold type to <strong>Static</strong>.</li>
<li>Define the threshold value (e.g., 1000).</li>
<li>Set the period (e.g., 5 minutes).</li>
<li>Click <strong>Next</strong>.</li>
<li>Choose an existing SNS topic or create a new one to receive notifications.</li>
<li>Click <strong>Next</strong>.</li>
<li>Review the alarm settings.</li>
<li>Click <strong>Create alarm</strong>.</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Amazon CloudWatch is a powerful tool for monitoring and managing your AWS resources. By understanding how to set up metrics, alarms, logs, and dashboards, you can gain valuable insights into the performance and health of your applications and infrastructure. This knowledge is essential for maintaining the reliability and efficiency of your AWS environment.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-04-aws-waf' title="AWS WAF">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-02-cloudtrail' title="AWS CloudTrail">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
