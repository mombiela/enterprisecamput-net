<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS CloudFormation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/aws/09-01-cloudformation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/aws/09-01-cloudformation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/aws/09-01-cloudformation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/aws/09-01-cloudformation" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/aws/09-01-cloudformation" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-04-codepipeline' title="AWS CodePipeline">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">AWS CloudFormation</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-02-elastic-beanstalk' title="AWS Elastic Beanstalk">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>AWS CloudFormation is a service that helps you model and set up your Amazon Web Services resources so that you can spend less time managing those resources and more time focusing on your applications. You create a template that describes all the AWS resources that you want (like Amazon EC2 instances or Amazon RDS DB instances), and AWS CloudFormation takes care of provisioning and configuring those resources for you.</p>
</div><h1>Key Concepts</h1>
<div class='content'></div><h2>1. Templates</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A JSON or YAML formatted text file that describes your AWS infrastructure.</li>
<li><strong>Components</strong>:
<ul>
<li><strong>Resources</strong>: The AWS resources you want to create.</li>
<li><strong>Parameters</strong>: Values that you can pass to your template at runtime.</li>
<li><strong>Mappings</strong>: A way to create conditional values.</li>
<li><strong>Outputs</strong>: Values that you can import into other stacks or use for other purposes.</li>
<li><strong>Conditions</strong>: Define conditions that control whether certain resources are created or certain properties are assigned to resources.</li>
<li><strong>Metadata</strong>: Additional information about the template.</li>
</ul>
</li>
</ul>
</div><h2>2. Stacks</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A collection of AWS resources that you can manage as a single unit.</li>
<li><strong>Operations</strong>:
<ul>
<li><strong>Create</strong>: Launch a new stack.</li>
<li><strong>Update</strong>: Modify an existing stack.</li>
<li><strong>Delete</strong>: Remove a stack and all its resources.</li>
</ul>
</li>
</ul>
</div><h2>3. Change Sets</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: A preview of the changes AWS CloudFormation will make to your stack when you update it.</li>
<li><strong>Usage</strong>: Helps you understand the impact of your changes before applying them.</li>
</ul>
</div><h1>Practical Example</h1>
<div class='content'></div><h2>Creating a Simple EC2 Instance</h2>
<div class='content'><h4>Step 1: Write the Template</h4>
<p>Here is a simple CloudFormation template in YAML format to create an EC2 instance:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uOiAnMjAxMC0wOS0wOScKRGVzY3JpcHRpb246IEEgc2ltcGxlIEVDMiBpbnN0YW5jZQpSZXNvdXJjZXM6CiAgTXlFQzJJbnN0YW5jZToKICAgIFR5cGU6ICdBV1M6OkVDMjo6SW5zdGFuY2UnCiAgICBQcm9wZXJ0aWVzOgogICAgICBJbnN0YW5jZVR5cGU6IHQyLm1pY3JvCiAgICAgIEltYWdlSWQ6IGFtaS0wYzU1YjE1OWNiZmFmZTFmMCAjIEFtYXpvbiBMaW51eCAyIEFNSQogICAgICBLZXlOYW1lOiBteS1rZXktcGFpcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>AWSTemplateFormatVersion: '2010-09-09'
Description: A simple EC2 instance
Resources:
  MyEC2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: t2.micro
      ImageId: ami-0c55b159cbfafe1f0 # Amazon Linux 2 AMI
      KeyName: my-key-pair</pre></div><div class='content'><h4>Step 2: Create the Stack</h4>
<p>You can create the stack using the AWS Management Console, AWS CLI, or AWS SDKs. Here’s how to do it using the AWS CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGNsb3VkZm9ybWF0aW9uIGNyZWF0ZS1zdGFjayAtLXN0YWNrLW5hbWUgTXlFQzJTdGFjayAtLXRlbXBsYXRlLWJvZHkgZmlsZTovL2VjMi1pbnN0YW5jZS55YW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws cloudformation create-stack --stack-name MyEC2Stack --template-body file://ec2-instance.yaml</pre></div><div class='content'><h4>Step 3: Verify the Stack</h4>
<p>Once the stack creation is complete, you can verify the resources in the AWS Management Console or by using the AWS CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGNsb3VkZm9ybWF0aW9uIGRlc2NyaWJlLXN0YWNrcyAtLXN0YWNrLW5hbWUgTXlFQzJTdGFjaw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws cloudformation describe-stacks --stack-name MyEC2Stack</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Create a VPC with Subnets</h2>
<div class='content'><h4>Task</h4>
<p>Create a CloudFormation template to set up a VPC with two subnets.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uOiAnMjAxMC0wOS0wOScKRGVzY3JpcHRpb246IEEgVlBDIHdpdGggdHdvIHN1Ym5ldHMKUmVzb3VyY2VzOgogIE15VlBDOgogICAgVHlwZTogJ0FXUzo6RUMyOjpWUEMnCiAgICBQcm9wZXJ0aWVzOgogICAgICBDaWRyQmxvY2s6ICcxMC4wLjAuMC8xNicKICAgICAgRW5hYmxlRG5zU3VwcG9ydDogdHJ1ZQogICAgICBFbmFibGVEbnNIb3N0bmFtZXM6IHRydWUKICAgICAgVGFnczoKICAgICAgICAtIEtleTogTmFtZQogICAgICAgICAgVmFsdWU6IE15VlBDCgogIE15U3VibmV0MToKICAgIFR5cGU6ICdBV1M6OkVDMjo6U3VibmV0JwogICAgUHJvcGVydGllczoKICAgICAgVnBjSWQ6ICFSZWYgTXlWUEMKICAgICAgQ2lkckJsb2NrOiAnMTAuMC4xLjAvMjQnCiAgICAgIEF2YWlsYWJpbGl0eVpvbmU6ICd1cy1lYXN0LTFhJwogICAgICBUYWdzOgogICAgICAgIC0gS2V5OiBOYW1lCiAgICAgICAgICBWYWx1ZTogTXlTdWJuZXQxCgogIE15U3VibmV0MjoKICAgIFR5cGU6ICdBV1M6OkVDMjo6U3VibmV0JwogICAgUHJvcGVydGllczoKICAgICAgVnBjSWQ6ICFSZWYgTXlWUEMKICAgICAgQ2lkckJsb2NrOiAnMTAuMC4yLjAvMjQnCiAgICAgIEF2YWlsYWJpbGl0eVpvbmU6ICd1cy1lYXN0LTFiJwogICAgICBUYWdzOgogICAgICAgIC0gS2V5OiBOYW1lCiAgICAgICAgICBWYWx1ZTogTXlTdWJuZXQy"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>AWSTemplateFormatVersion: '2010-09-09'
Description: A VPC with two subnets
Resources:
  MyVPC:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: '10.0.0.0/16'
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: Name
          Value: MyVPC

  MySubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref MyVPC
      CidrBlock: '10.0.1.0/24'
      AvailabilityZone: 'us-east-1a'
      Tags:
        - Key: Name
          Value: MySubnet1

  MySubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref MyVPC
      CidrBlock: '10.0.2.0/24'
      AvailabilityZone: 'us-east-1b'
      Tags:
        - Key: Name
          Value: MySubnet2</pre></div><div class='content'></div><h2>Exercise 2: Update the EC2 Instance Type</h2>
<div class='content'><h4>Task</h4>
<p>Update the EC2 instance type in the previous example from <code>t2.micro</code> to <code>t2.small</code>.</p>
<h4>Solution</h4>
<ol>
<li>Modify the <code>InstanceType</code> property in the template:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QVdTVGVtcGxhdGVGb3JtYXRWZXJzaW9uOiAnMjAxMC0wOS0wOScKRGVzY3JpcHRpb246IEEgc2ltcGxlIEVDMiBpbnN0YW5jZQpSZXNvdXJjZXM6CiAgTXlFQzJJbnN0YW5jZToKICAgIFR5cGU6ICdBV1M6OkVDMjo6SW5zdGFuY2UnCiAgICBQcm9wZXJ0aWVzOgogICAgICBJbnN0YW5jZVR5cGU6IHQyLnNtYWxsCiAgICAgIEltYWdlSWQ6IGFtaS0wYzU1YjE1OWNiZmFmZTFmMAogICAgICBLZXlOYW1lOiBteS1rZXktcGFpcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>AWSTemplateFormatVersion: '2010-09-09'
Description: A simple EC2 instance
Resources:
  MyEC2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: t2.small
      ImageId: ami-0c55b159cbfafe1f0
      KeyName: my-key-pair</pre></div><div class='content'><ol start="2">
<li>Update the stack using the AWS CLI:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXdzIGNsb3VkZm9ybWF0aW9uIHVwZGF0ZS1zdGFjayAtLXN0YWNrLW5hbWUgTXlFQzJTdGFjayAtLXRlbXBsYXRlLWJvZHkgZmlsZTovL2VjMi1pbnN0YW5jZS55YW1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>aws cloudformation update-stack --stack-name MyEC2Stack --template-body file://ec2-instance.yaml</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Syntax Errors</strong>: Ensure your JSON or YAML syntax is correct. Use online validators to check your templates.</li>
<li><strong>Resource Dependencies</strong>: Be mindful of resource dependencies. Use the <code>DependsOn</code> attribute if necessary.</li>
<li><strong>Parameter Validation</strong>: Validate your parameters to avoid runtime errors.</li>
<li><strong>Change Set Review</strong>: Always review change sets before applying updates to understand the impact.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>AWS CloudFormation is a powerful tool for automating the setup and management of your AWS resources. By mastering CloudFormation, you can ensure that your infrastructure is consistent, repeatable, and easily manageable. In the next topic, we will explore AWS Elastic Beanstalk, another service that simplifies application deployment and management.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-04-codepipeline' title="AWS CodePipeline">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-02-elastic-beanstalk' title="AWS Elastic Beanstalk">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
