<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment Automation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ci_cd/03-02-automatizacion-despliegue" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ci_cd/03-02-automatitzacio-desplegament" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ci_cd/03-02-deployment-automation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ci_cd/03-02-automatizacion-despliegue" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ci_cd/03-02-automatitzacio-desplegament" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-01-introduction-cd' title="Introduction to Continuous Deployment">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Deployment Automation</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-03-deployment-strategies' title="Deployment Strategies">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the concept of deployment automation, a critical component of Continuous Deployment (CD). Deployment automation ensures that software can be released to production environments reliably and frequently, with minimal manual intervention. This reduces the risk of human error and speeds up the deployment process.</p>
</div><h1>Key Concepts of Deployment Automation</h1>
<div class='content'><ol>
<li>
<p><strong>Automated Deployment Scripts</strong>:</p>
<ul>
<li>Scripts that automate the deployment process, including copying files, configuring environments, and restarting services.</li>
</ul>
</li>
<li>
<p><strong>Infrastructure as Code (IaC)</strong>:</p>
<ul>
<li>Managing and provisioning computing infrastructure through machine-readable definition files, rather than physical hardware configuration or interactive configuration tools.</li>
</ul>
</li>
<li>
<p><strong>Configuration Management Tools</strong>:</p>
<ul>
<li>Tools like Ansible, Puppet, and Chef that automate the configuration of systems and applications.</li>
</ul>
</li>
<li>
<p><strong>Continuous Delivery vs. Continuous Deployment</strong>:</p>
<ul>
<li>Continuous Delivery ensures that code changes are automatically prepared for a release to production.</li>
<li>Continuous Deployment goes a step further by automatically deploying every change that passes the automated tests to production.</li>
</ul>
</li>
</ol>
</div><h1>Benefits of Deployment Automation</h1>
<div class='content'><ul>
<li><strong>Consistency</strong>: Ensures that deployments are performed in the same way every time, reducing errors.</li>
<li><strong>Speed</strong>: Accelerates the deployment process, allowing for more frequent releases.</li>
<li><strong>Reliability</strong>: Reduces the risk of human error, making deployments more reliable.</li>
<li><strong>Scalability</strong>: Makes it easier to deploy to multiple environments and scale applications.</li>
</ul>
</div><h1>Common Deployment Automation Tools</h1>
<div class='content'><table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jenkins</td>
<td>An open-source automation server that supports building, deploying, and automating software.</td>
</tr>
<tr>
<td>GitLab CI</td>
<td>A continuous integration and delivery tool built into GitLab.</td>
</tr>
<tr>
<td>CircleCI</td>
<td>A CI/CD tool that automates the build, test, and deployment process.</td>
</tr>
<tr>
<td>Ansible</td>
<td>An open-source tool for automating software provisioning, configuration management, and application deployment.</td>
</tr>
<tr>
<td>Terraform</td>
<td>An open-source IaC software tool that provides a consistent CLI workflow to manage hundreds of cloud services.</td>
</tr>
</tbody>
</table>
</div><h1>Practical Example: Automating Deployment with Jenkins</h1>
<div class='content'></div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Install Jenkins</strong>:</p>
<ul>
<li>Download and install Jenkins from <a href="https://www.jenkins.io/">Jenkins official website</a>.</li>
</ul>
</li>
<li>
<p><strong>Create a New Job</strong>:</p>
<ul>
<li>Open Jenkins dashboard.</li>
<li>Click on &quot;New Item&quot;.</li>
<li>Enter a name for your job and select &quot;Freestyle project&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configure Source Code Management</strong>:</p>
<ul>
<li>Under &quot;Source Code Management&quot;, select &quot;Git&quot;.</li>
<li>Enter the repository URL and credentials if required.</li>
</ul>
</li>
<li>
<p><strong>Add Build Steps</strong>:</p>
<ul>
<li>Under &quot;Build&quot;, click &quot;Add build step&quot; and select &quot;Execute shell&quot;.</li>
<li>Add the necessary shell commands to build your project.</li>
</ul>
</li>
<li>
<p><strong>Add Post-Build Actions</strong>:</p>
<ul>
<li>Under &quot;Post-build Actions&quot;, click &quot;Add post-build action&quot; and select &quot;Deploy to container&quot;.</li>
<li>Configure the deployment settings, such as the container type and the deployment path.</li>
</ul>
</li>
</ol>
</div><h2>Example Shell Script for Deployment</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKCiMgU3RvcCB0aGUgY3VycmVudCBhcHBsaWNhdGlvbgplY2hvICJTdG9wcGluZyBjdXJyZW50IGFwcGxpY2F0aW9uLi4uIgpzdWRvIHN5c3RlbWN0bCBzdG9wIG15YXBwCgojIENvcHkgbmV3IGZpbGVzCmVjaG8gIkNvcHlpbmcgbmV3IGZpbGVzLi4uIgpjcCAtciAvdmFyL2xpYi9qZW5raW5zL3dvcmtzcGFjZS9teWFwcC8qIC92YXIvd3d3L215YXBwLwoKIyBTdGFydCB0aGUgYXBwbGljYXRpb24KZWNobyAiU3RhcnRpbmcgYXBwbGljYXRpb24uLi4iCnN1ZG8gc3lzdGVtY3RsIHN0YXJ0IG15YXBwCgplY2hvICJEZXBsb3ltZW50IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash

# Stop the current application
echo &quot;Stopping current application...&quot;
sudo systemctl stop myapp

# Copy new files
echo &quot;Copying new files...&quot;
cp -r /var/lib/jenkins/workspace/myapp/* /var/www/myapp/

# Start the application
echo &quot;Starting application...&quot;
sudo systemctl start myapp

echo &quot;Deployment completed successfully!&quot;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Stopping the current application</strong>: Ensures that the application is not running during the deployment process.</li>
<li><strong>Copying new files</strong>: Copies the new build files from the Jenkins workspace to the application directory.</li>
<li><strong>Starting the application</strong>: Restarts the application to apply the new changes.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Automate Deployment with Ansible</h2>
<div class='content'><p><strong>Objective</strong>: Use Ansible to automate the deployment of a web application.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>
<p><strong>Install Ansible</strong>:</p>
<ul>
<li>Follow the installation guide on the <a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html">Ansible documentation</a>.</li>
</ul>
</li>
<li>
<p><strong>Create an Inventory File</strong>:</p>
<ul>
<li>Define the hosts where the application will be deployed.</li>
</ul>
<pre><code class="language-ini">[webservers]
server1 ansible_host=192.168.1.10 ansible_user=deploy
server2 ansible_host=192.168.1.11 ansible_user=deploy
</code></pre>
</li>
<li>
<p><strong>Write an Ansible Playbook</strong>:</p>
<ul>
<li>Create a playbook to automate the deployment process.</li>
</ul>
<pre><code class="language-yaml">---
- name: Deploy web application
  hosts: webservers
  tasks:
    - name: Stop current application
      service:
        name: myapp
        state: stopped

    - name: Copy new files
      copy:
        src: /path/to/new/files/
        dest: /var/www/myapp/
        owner: www-data
        group: www-data
        mode: '0755'

    - name: Start application
      service:
        name: myapp
        state: started
</code></pre>
</li>
<li>
<p><strong>Run the Playbook</strong>:</p>
<ul>
<li>Execute the playbook to deploy the application.</li>
</ul>
<pre><code class="language-sh">ansible-playbook -i inventory deploy.yml
</code></pre>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><ul>
<li>
<p><strong>Inventory File</strong>:</p>
<pre><code class="language-ini">[webservers]
server1 ansible_host=192.168.1.10 ansible_user=deploy
server2 ansible_host=192.168.1.11 ansible_user=deploy
</code></pre>
</li>
<li>
<p><strong>Ansible Playbook</strong>:</p>
<pre><code class="language-yaml">---
- name: Deploy web application
  hosts: webservers
  tasks:
    - name: Stop current application
      service:
        name: myapp
        state: stopped

    - name: Copy new files
      copy:
        src: /path/to/new/files/
        dest: /var/www/myapp/
        owner: www-data
        group: www-data
        mode: '0755'

    - name: Start application
      service:
        name: myapp
        state: started
</code></pre>
</li>
<li>
<p><strong>Run Command</strong>:</p>
<pre><code class="language-sh">ansible-playbook -i inventory deploy.yml
</code></pre>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Deployment automation is a crucial aspect of Continuous Deployment, enabling consistent, reliable, and fast software releases. By leveraging tools like Jenkins and Ansible, you can automate the deployment process, reducing the risk of human error and increasing deployment frequency. In the next section, we will explore various deployment strategies to further enhance your deployment process.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-01-introduction-cd' title="Introduction to Continuous Deployment">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-03-deployment-strategies' title="Deployment Strategies">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
