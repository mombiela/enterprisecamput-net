<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security in CI/CD</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ci_cd/04-03-seguridad-ci-cd" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ci_cd/04-03-seguretat-ci-cd" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ci_cd/04-03-security-ci-cd" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/ci_cd/04-03-seguridad-ci-cd" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/ci_cd/04-03-seguretat-ci-cd" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-dependency-management' title="Dependency Management">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Security in CI/CD</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-scalability-performance' title="Scalability and Performance">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Security is a critical aspect of any CI/CD pipeline. Ensuring that your CI/CD processes are secure helps protect your code, infrastructure, and sensitive data from potential threats. This module will cover the key concepts, best practices, and tools for integrating security into your CI/CD pipeline.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Shift-Left Security</strong>: Incorporating security early in the development process.</li>
<li><strong>Static Application Security Testing (SAST)</strong>: Analyzing source code for vulnerabilities.</li>
<li><strong>Dynamic Application Security Testing (DAST)</strong>: Testing running applications for vulnerabilities.</li>
<li><strong>Software Composition Analysis (SCA)</strong>: Identifying vulnerabilities in third-party libraries and dependencies.</li>
<li><strong>Secrets Management</strong>: Securely managing sensitive information such as API keys and passwords.</li>
<li><strong>Infrastructure as Code (IaC) Security</strong>: Ensuring that infrastructure configurations are secure.</li>
</ol>
</div><h1><p>Best Practices</p>
</h1>
<div class='content'><ol>
<li><strong>Integrate Security Tools</strong>: Use SAST, DAST, and SCA tools in your CI/CD pipeline.</li>
<li><strong>Automate Security Testing</strong>: Automate security tests to run with every build and deployment.</li>
<li><strong>Use Secure Coding Practices</strong>: Follow secure coding guidelines to minimize vulnerabilities.</li>
<li><strong>Manage Secrets Securely</strong>: Use tools like HashiCorp Vault or AWS Secrets Manager to manage secrets.</li>
<li><strong>Regularly Update Dependencies</strong>: Keep third-party libraries and dependencies up-to-date to avoid known vulnerabilities.</li>
<li><strong>Monitor and Audit</strong>: Continuously monitor and audit your CI/CD pipeline for security issues.</li>
</ol>
</div><h1><p>Tools for Security in CI/CD</p>
</h1>
<div class='content'><table>
<thead>
<tr>
<th>Tool</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SonarQube</strong></td>
<td>A tool for continuous inspection of code quality and security vulnerabilities.</td>
</tr>
<tr>
<td><strong>OWASP ZAP</strong></td>
<td>A DAST tool for finding vulnerabilities in web applications.</td>
</tr>
<tr>
<td><strong>Snyk</strong></td>
<td>A tool for finding and fixing vulnerabilities in dependencies.</td>
</tr>
<tr>
<td><strong>HashiCorp Vault</strong></td>
<td>A tool for securely managing secrets and sensitive data.</td>
</tr>
<tr>
<td><strong>Aqua Security</strong></td>
<td>A tool for securing containerized applications.</td>
</tr>
</tbody>
</table>
</div><h1><p>Example: Integrating Snyk into a CI/CD Pipeline</p>
</h1>
<div class='content'><p>Here's an example of how to integrate Snyk, a popular SCA tool, into a CI/CD pipeline using a Jenkinsfile.</p>
</div><h2><p>Jenkinsfile</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQ2hlY2tvdXQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGdpdCAnaHR0cHM6Ly9naXRodWIuY29tL3lvdXItcmVwby95b3VyLXByb2plY3QuZ2l0JwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdCdWlsZCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgc2ggJ212biBjbGVhbiBpbnN0YWxsJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdTbnlrIFNlY3VyaXR5IFNjYW4nKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIHNoICdzbnlrIHRlc3QnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ0RlcGxveScpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgc2ggJ2t1YmVjdGwgYXBwbHkgLWYgazhzL2RlcGxveW1lbnQueWFtbCcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                git 'https://github.com/your-repo/your-project.git'
            }
        }
        stage('Build') {
            steps {
                sh 'mvn clean install'
            }
        }
        stage('Snyk Security Scan') {
            steps {
                sh 'snyk test'
            }
        }
        stage('Deploy') {
            steps {
                sh 'kubectl apply -f k8s/deployment.yaml'
            }
        }
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Checkout</strong>: Clones the repository.</li>
<li><strong>Build</strong>: Builds the project using Maven.</li>
<li><strong>Snyk Security Scan</strong>: Runs a Snyk security scan to identify vulnerabilities in dependencies.</li>
<li><strong>Deploy</strong>: Deploys the application to a Kubernetes cluster.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Integrating OWASP ZAP into a CI/CD Pipeline</p>
</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Integrate OWASP ZAP into your CI/CD pipeline to perform dynamic security testing on a web application.</li>
<li><strong>Steps</strong>:
<ul>
<li>Set up OWASP ZAP in your CI/CD environment.</li>
<li>Configure OWASP ZAP to scan your web application.</li>
<li>Automate the OWASP ZAP scan in your CI/CD pipeline.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution</p>
</h2>
<div class='content'><h4>Jenkinsfile</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQ2hlY2tvdXQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGdpdCAnaHR0cHM6Ly9naXRodWIuY29tL3lvdXItcmVwby95b3VyLXdlYi1hcHAuZ2l0JwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdCdWlsZCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgc2ggJ25wbSBpbnN0YWxsJwogICAgICAgICAgICAgICAgc2ggJ25wbSBydW4gYnVpbGQnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ1N0YXJ0IEFwcGxpY2F0aW9uJykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBzaCAnbnBtIHN0YXJ0ICYnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ09XQVNQIFpBUCBTY2FuJykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBzaCAnemFwLWNsaSBxdWljay1zY2FuIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRGVwbG95JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBzaCAna3ViZWN0bCBhcHBseSAtZiBrOHMvZGVwbG95bWVudC55YW1sJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                git 'https://github.com/your-repo/your-web-app.git'
            }
        }
        stage('Build') {
            steps {
                sh 'npm install'
                sh 'npm run build'
            }
        }
        stage('Start Application') {
            steps {
                sh 'npm start &amp;'
            }
        }
        stage('OWASP ZAP Scan') {
            steps {
                sh 'zap-cli quick-scan http://localhost:3000'
            }
        }
        stage('Deploy') {
            steps {
                sh 'kubectl apply -f k8s/deployment.yaml'
            }
        }
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>Checkout</strong>: Clones the repository.</li>
<li><strong>Build</strong>: Installs dependencies and builds the web application.</li>
<li><strong>Start Application</strong>: Starts the web application.</li>
<li><strong>OWASP ZAP Scan</strong>: Runs an OWASP ZAP scan on the running web application.</li>
<li><strong>Deploy</strong>: Deploys the application to a Kubernetes cluster.</li>
</ul>
</div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>Mistake</strong>: Not running security tests on every build.
<ul>
<li><strong>Tip</strong>: Automate security tests to run with every build to catch vulnerabilities early.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Hardcoding secrets in the pipeline.
<ul>
<li><strong>Tip</strong>: Use a secrets management tool to securely manage sensitive information.</li>
</ul>
</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Integrating security into your CI/CD pipeline is essential for protecting your applications and infrastructure. By following best practices and using the right tools, you can ensure that your CI/CD processes are secure and resilient against potential threats. In the next module, we will explore scalability and performance in CI/CD.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-dependency-management' title="Dependency Management">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-scalability-performance' title="Scalability and Performance">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
