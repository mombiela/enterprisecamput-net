<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using LOD Expressions</title>

    <link rel="alternate" href="https://campusempresa.com/mod/tableau/04-02-using-lod-expressions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/tableau/04-02-using-lod-expressions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/tableau/04-02-using-lod-expressions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/tableau/04-02-using-lod-expressions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/tableau/04-02-using-lod-expressions" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-advanced-chart-types' title="Advanced Chart Types">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Using LOD Expressions</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-creating-dashboards' title="Creating Dashboards">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Level of Detail (LOD) expressions in Tableau allow you to compute values at the data source level and the visualization level, giving you more control over the granularity of your data. LOD expressions are powerful tools for creating complex calculations and aggregations that are not possible with standard calculated fields.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Fixed LOD Expressions</strong>: Compute values using the specified dimensions, ignoring the view's dimensions.</li>
<li><strong>Include LOD Expressions</strong>: Compute values using the specified dimensions in addition to the view's dimensions.</li>
<li><strong>Exclude LOD Expressions</strong>: Compute values using the specified dimensions, excluding certain dimensions from the view.</li>
</ol>
</div><h1><p>Syntax</p>
</h1>
<div class='content'><p>The general syntax for LOD expressions is:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("eyBGSVhFRCBbZGltZW5zaW9uMV0sIFtkaW1lbnNpb24yXSwgLi4uIDogW2FnZ3JlZ2F0ZSBleHByZXNzaW9uXSB9CnsgSU5DTFVERSBbZGltZW5zaW9uMV0sIFtkaW1lbnNpb24yXSwgLi4uIDogW2FnZ3JlZ2F0ZSBleHByZXNzaW9uXSB9CnsgRVhDTFVERSBbZGltZW5zaW9uMV0sIFtkaW1lbnNpb24yXSwgLi4uIDogW2FnZ3JlZ2F0ZSBleHByZXNzaW9uXSB9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{ FIXED [dimension1], [dimension2], ... : [aggregate expression] }
{ INCLUDE [dimension1], [dimension2], ... : [aggregate expression] }
{ EXCLUDE [dimension1], [dimension2], ... : [aggregate expression] }</pre></div><div class='content'></div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Example 1: Fixed LOD Expression</p>
</h2>
<div class='content'><p><strong>Scenario</strong>: Calculate the total sales per region, regardless of the dimensions in the view.</p>
<p><strong>Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("eyBGSVhFRCBbUmVnaW9uXSA6IFNVTShbU2FsZXNdKSB9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{ FIXED [Region] : SUM([Sales]) }</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>This expression calculates the sum of sales for each region, ignoring any other dimensions in the view.</li>
</ul>
</div><h2><p>Example 2: Include LOD Expression</p>
</h2>
<div class='content'><p><strong>Scenario</strong>: Calculate the average sales per customer within each region.</p>
<p><strong>Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("eyBJTkNMVURFIFtDdXN0b21lciBOYW1lXSA6IEFWRyhbU2FsZXNdKSB9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{ INCLUDE [Customer Name] : AVG([Sales]) }</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>This expression calculates the average sales per customer, including the customer name dimension in addition to the dimensions in the view.</li>
</ul>
</div><h2><p>Example 3: Exclude LOD Expression</p>
</h2>
<div class='content'><p><strong>Scenario</strong>: Calculate the total sales for each region, excluding the product category dimension.</p>
<p><strong>Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("eyBFWENMVURFIFtDYXRlZ29yeV0gOiBTVU0oW1NhbGVzXSkgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{ EXCLUDE [Category] : SUM([Sales]) }</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>This expression calculates the sum of sales for each region, excluding the product category dimension from the calculation.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Fixed LOD Expression</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create a fixed LOD expression to calculate the total profit per state, regardless of the dimensions in the view.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Open Tableau and connect to the Sample - Superstore data source.</li>
<li>Create a new calculated field named &quot;Total Profit per State&quot;.</li>
<li>Enter the following code:
<pre><code class="language-plaintext">{ FIXED [State] : SUM([Profit]) }
</code></pre>
</li>
<li>Drag the &quot;State&quot; dimension to the Rows shelf.</li>
<li>Drag the &quot;Total Profit per State&quot; calculated field to the Columns shelf.</li>
</ol>
<p><strong>Solution</strong>:</p>
<ul>
<li>You should see the total profit for each state, regardless of any other dimensions in the view.</li>
</ul>
</div><h2><p>Exercise 2: Include LOD Expression</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create an include LOD expression to calculate the average discount per customer within each region.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a new calculated field named &quot;Average Discount per Customer&quot;.</li>
<li>Enter the following code:
<pre><code class="language-plaintext">{ INCLUDE [Customer Name] : AVG([Discount]) }
</code></pre>
</li>
<li>Drag the &quot;Region&quot; dimension to the Rows shelf.</li>
<li>Drag the &quot;Average Discount per Customer&quot; calculated field to the Columns shelf.</li>
</ol>
<p><strong>Solution</strong>:</p>
<ul>
<li>You should see the average discount per customer for each region.</li>
</ul>
</div><h2><p>Exercise 3: Exclude LOD Expression</p>
</h2>
<div class='content'><p><strong>Task</strong>: Create an exclude LOD expression to calculate the total sales for each region, excluding the product sub-category dimension.</p>
<p><strong>Steps</strong>:</p>
<ol>
<li>Create a new calculated field named &quot;Total Sales per Region Excluding Sub-Category&quot;.</li>
<li>Enter the following code:
<pre><code class="language-plaintext">{ EXCLUDE [Sub-Category] : SUM([Sales]) }
</code></pre>
</li>
<li>Drag the &quot;Region&quot; dimension to the Rows shelf.</li>
<li>Drag the &quot;Total Sales per Region Excluding Sub-Category&quot; calculated field to the Columns shelf.</li>
</ol>
<p><strong>Solution</strong>:</p>
<ul>
<li>You should see the total sales for each region, excluding the product sub-category dimension.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ul>
<li>
<p><strong>Common Mistake</strong>: Misunderstanding the scope of LOD expressions.</p>
<ul>
<li><strong>Tip</strong>: Always remember that <code>FIXED</code> ignores the view's dimensions, <code>INCLUDE</code> adds dimensions to the view, and <code>EXCLUDE</code> removes dimensions from the view.</li>
</ul>
</li>
<li>
<p><strong>Common Mistake</strong>: Using LOD expressions when a simple calculated field would suffice.</p>
<ul>
<li><strong>Tip</strong>: Evaluate whether an LOD expression is necessary for your calculation. Sometimes, a standard calculated field can achieve the same result with less complexity.</li>
</ul>
</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Level of Detail (LOD) expressions are a powerful feature in Tableau that allow you to perform complex calculations and aggregations at different levels of granularity. By mastering LOD expressions, you can create more sophisticated and accurate visualizations. In the next section, we will explore creating dashboards, where you can combine multiple visualizations to tell a comprehensive story with your data.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-advanced-chart-types' title="Advanced Chart Types">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-creating-dashboards' title="Creating Dashboards">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
