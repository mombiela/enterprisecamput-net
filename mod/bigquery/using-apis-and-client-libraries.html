<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using APIs and Client Libraries</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bigquery/using-apis-and-client-libraries" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bigquery/using-apis-and-client-libraries" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bigquery/using-apis-and-client-libraries" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/bigquery/using-apis-and-client-libraries" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/bigquery/using-apis-and-client-libraries" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='scheduling-queries'>&#x25C4;Scheduling Queries</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using APIs and Client Libraries</a>
	</div>
	<div class='col-4 text-end'>
					<a href='understanding-bigquery-security'>Understanding BigQuery Security &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>BigQuery is a fully-managed, serverless data warehouse that enables scalable analysis over petabytes of data. To interact with BigQuery programmatically, you can use APIs and client libraries. This topic will guide you through using BigQuery APIs and client libraries from beginner to advanced levels.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>API (Application Programming Interface):</strong> A set of rules that allows different software entities to communicate with each other.</li>
<li><strong>Client Library:</strong> A collection of pre-written code that developers can use to interact with APIs more easily.</li>
<li><strong>BigQuery API:</strong> Provides programmatic access to BigQuery features.</li>
<li><strong>Authentication:</strong> The process of verifying the identity of a user or application.</li>
</ul>
</div><h1>Setting Up</h1>
<div class='content'><p>Before you can use the BigQuery API or client libraries, you need to set up your environment.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>A Google Cloud Platform (GCP) account.</li>
<li>A GCP project with BigQuery enabled.</li>
<li>Service account credentials for authentication.</li>
</ul>
</div><h2>Authentication</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Service Account:</strong></p>
<ul>
<li>Go to the GCP Console.</li>
<li>Navigate to IAM &amp; Admin &gt; Service Accounts.</li>
<li>Click &quot;Create Service Account&quot; and follow the prompts.</li>
<li>Download the JSON key file.</li>
</ul>
</li>
<li>
<p><strong>Set the Environment Variable:</strong></p>
<pre><code class="language-bash">export GOOGLE_APPLICATION_CREDENTIALS=&quot;/path/to/your/service-account-file.json&quot;
</code></pre>
</li>
</ol>
</div><h1>Using BigQuery API</h1>
<div class='content'><p>The BigQuery API allows you to interact with BigQuery programmatically. Below are steps to perform basic operations using the API.</p>
</div><h2>Making API Requests</h2>
<div class='content'><p>You can use tools like <code>curl</code> or Postman to make HTTP requests to the BigQuery API.</p>
<h4>Example: List Datasets</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3VybCAtWCBHRVQgXAogIC1IICJBdXRob3JpemF0aW9uOiBCZWFyZXIgJChnY2xvdWQgYXV0aCBhcHBsaWNhdGlvbi1kZWZhdWx0IHByaW50LWFjY2Vzcy10b2tlbikiIFwKICAiaHR0cHM6Ly9iaWdxdWVyeS5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy95b3VyLXByb2plY3QtaWQvZGF0YXNldHMi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>curl -X GET \
  -H &quot;Authorization: Bearer $(gcloud auth application-default print-access-token)&quot; \
  &quot;https://bigquery.googleapis.com/bigquery/v2/projects/your-project-id/datasets&quot;</pre></div><div class='content'></div><h2>Parsing API Responses</h2>
<div class='content'><p>API responses are usually in JSON format. You can use tools like <code>jq</code> to parse JSON responses.</p>
<h4>Example: Parse JSON Response</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3VybCAtWCBHRVQgXAogIC1IICJBdXRob3JpemF0aW9uOiBCZWFyZXIgJChnY2xvdWQgYXV0aCBhcHBsaWNhdGlvbi1kZWZhdWx0IHByaW50LWFjY2Vzcy10b2tlbikiIFwKICAiaHR0cHM6Ly9iaWdxdWVyeS5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy95b3VyLXByb2plY3QtaWQvZGF0YXNldHMiIHwganEgLg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>curl -X GET \
  -H &quot;Authorization: Bearer $(gcloud auth application-default print-access-token)&quot; \
  &quot;https://bigquery.googleapis.com/bigquery/v2/projects/your-project-id/datasets&quot; | jq .</pre></div><div class='content'></div><h1>Using Client Libraries</h1>
<div class='content'><p>Client libraries provide a more convenient way to interact with BigQuery. Google provides client libraries for various programming languages.</p>
</div><h2>Python Client Library</h2>
<div class='content'><p>Python is one of the most popular languages for data analysis. Below are steps to use the BigQuery Python client library.</p>
<h4>Installation</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgZ29vZ2xlLWNsb3VkLWJpZ3F1ZXJ5"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install google-cloud-bigquery</pre></div><div class='content'><h4>Basic Operations</h4>
<ol>
<li>
<p><strong>Initialize the Client:</strong></p>
<pre><code class="language-python">from google.cloud import bigquery

client = bigquery.Client()
</code></pre>
</li>
<li>
<p><strong>List Datasets:</strong></p>
<pre><code class="language-python">datasets = list(client.list_datasets())
for dataset in datasets:
    print(dataset.dataset_id)
</code></pre>
</li>
<li>
<p><strong>Run a Query:</strong></p>
<pre><code class="language-python">query = &quot;&quot;&quot;
SELECT name, SUM(number) as total
FROM `bigquery-public-data.usa_names.usa_1910_2013`
WHERE state = 'TX'
GROUP BY name
ORDER BY total DESC
LIMIT 10
&quot;&quot;&quot;
query_job = client.query(query)

for row in query_job:
    print(f&quot;name: {row['name']}, total: {row['total']}&quot;)
</code></pre>
</li>
</ol>
</div><h2>JavaScript Client Library</h2>
<div class='content'><p>JavaScript is widely used for web applications. Below are steps to use the BigQuery JavaScript client library.</p>
<h4>Installation</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlIEBnb29nbGUtY2xvdWQvYmlncXVlcnk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save @google-cloud/bigquery</pre></div><div class='content'><h4>Basic Operations</h4>
<ol>
<li>
<p><strong>Initialize the Client:</strong></p>
<pre><code class="language-javascript">const {BigQuery} = require('@google-cloud/bigquery');
const bigquery = new BigQuery();
</code></pre>
</li>
<li>
<p><strong>List Datasets:</strong></p>
<pre><code class="language-javascript">async function listDatasets() {
  const [datasets] = await bigquery.getDatasets();
  datasets.forEach(dataset =&gt; console.log(dataset.id));
}

listDatasets();
</code></pre>
</li>
<li>
<p><strong>Run a Query:</strong></p>
<pre><code class="language-javascript">async function runQuery() {
  const query = `
  SELECT name, SUM(number) as total
  FROM \`bigquery-public-data.usa_names.usa_1910_2013\`
  WHERE state = 'TX'
  GROUP BY name
  ORDER BY total DESC
  LIMIT 10
  `;
  const [rows] = await bigquery.query(query);
  rows.forEach(row =&gt; console.log(`name: ${row.name}, total: ${row.total}`));
}

runQuery();
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Using APIs and client libraries to interact with BigQuery allows for powerful and flexible data operations. Whether you are using Python, JavaScript, or another language, understanding how to authenticate, make requests, and handle responses is crucial. By mastering these skills, you can leverage BigQuery's full potential for your data analysis needs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='scheduling-queries'>&#x25C4;Scheduling Queries</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Using APIs and Client Libraries</a>
	</div>
	<div class='col-4 text-end'>
					<a href='understanding-bigquery-security'>Understanding BigQuery Security &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
