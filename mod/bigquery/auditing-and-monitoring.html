<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditing and Monitoring in BigQuery</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bigquery/auditing-and-monitoring" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bigquery/auditing-and-monitoring" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bigquery/auditing-and-monitoring" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/bigquery/auditing-and-monitoring" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/bigquery/auditing-and-monitoring" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='data-encryption'>&#x25C4;Data Encryption</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Auditing and Monitoring in BigQuery</a>
	</div>
	<div class='col-4 text-end'>
					<a href='compliance-and-governance'>Compliance and Governance &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Auditing and monitoring are crucial aspects of managing BigQuery environments, ensuring data security, compliance, and performance optimization. This section will guide you through the basics to advanced techniques for auditing and monitoring in BigQuery.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Auditing</strong>: Tracking and recording user activities and access to data.</li>
<li><strong>Monitoring</strong>: Observing system performance and resource usage to maintain optimal operation.</li>
</ul>
</div><h1>Auditing in BigQuery</h1>
<div class='content'></div><h2>Understanding Audit Logs</h2>
<div class='content'><p>BigQuery integrates with Google Cloud's audit logging to provide detailed logs of operations performed on your datasets, tables, and jobs.</p>
<ul>
<li><strong>Admin Activity Logs</strong>: Record administrative actions like creating or deleting datasets.</li>
<li><strong>Data Access Logs</strong>: Track read and write operations on data.</li>
<li><strong>System Event Logs</strong>: Capture system events like VM crashes or network issues.</li>
</ul>
</div><h2>Enabling Audit Logs</h2>
<div class='content'><p>Audit logs are enabled by default for most Google Cloud services, including BigQuery. However, you can configure and manage them through the Google Cloud Console.</p>
</div><h2>Viewing Audit Logs</h2>
<div class='content'><p>You can view audit logs using the Google Cloud Console, <code>gcloud</code> command-line tool, or Cloud Logging API.</p>
<h4>Example: Viewing Audit Logs in Google Cloud Console</h4>
<ol>
<li>Go to the <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</li>
<li>Navigate to <strong>Logging</strong> &gt; <strong>Logs Explorer</strong>.</li>
<li>Use the query builder to filter logs for BigQuery.</li>
</ol>
<h4>Example: Using <code>gcloud</code> to View Logs</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgcmVhZCAicmVzb3VyY2UudHlwZT1iaWdxdWVyeV9yZXNvdXJjZSI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging read &quot;resource.type=bigquery_resource&quot;</pre></div><div class='content'></div><h2>Analyzing Audit Logs</h2>
<div class='content'><p>Audit logs can be exported to BigQuery for detailed analysis.</p>
<h4>Example: Exporting Logs to BigQuery</h4>
<ol>
<li>Go to the <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</li>
<li>Navigate to <strong>Logging</strong> &gt; <strong>Logs Router</strong>.</li>
<li>Create a sink to export logs to a BigQuery dataset.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGxvZ2dpbmcgc2lua3MgY3JlYXRlIG15LXNpbmsgYmlncXVlcnkuZ29vZ2xlYXBpcy5jb20vcHJvamVjdHMvbXktcHJvamVjdC9kYXRhc2V0cy9teV9kYXRhc2V0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud logging sinks create my-sink bigquery.googleapis.com/projects/my-project/datasets/my_dataset</pre></div><div class='content'></div><h1>Monitoring in BigQuery</h1>
<div class='content'></div><h2>Monitoring Metrics</h2>
<div class='content'><p>BigQuery provides several metrics that can be monitored to ensure optimal performance and resource usage.</p>
<ul>
<li><strong>Query Performance</strong>: Metrics like query execution time, bytes processed, and slots used.</li>
<li><strong>Resource Usage</strong>: Metrics for CPU, memory, and storage utilization.</li>
<li><strong>Error Rates</strong>: Monitoring error rates to identify and troubleshoot issues.</li>
</ul>
</div><h2>Using Cloud Monitoring</h2>
<div class='content'><p>Google Cloud Monitoring allows you to create dashboards, set up alerts, and visualize metrics.</p>
<h4>Example: Creating a Dashboard</h4>
<ol>
<li>Go to the <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</li>
<li>Navigate to <strong>Monitoring</strong> &gt; <strong>Dashboards</strong>.</li>
<li>Create a new dashboard and add widgets to visualize BigQuery metrics.</li>
</ol>
</div><h2>Setting Up Alerts</h2>
<div class='content'><p>Alerts can be configured to notify you when specific conditions are met, such as high query latency or excessive resource usage.</p>
<h4>Example: Setting Up an Alert</h4>
<ol>
<li>Go to the <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</li>
<li>Navigate to <strong>Monitoring</strong> &gt; <strong>Alerting</strong>.</li>
<li>Create a new alert policy with conditions based on BigQuery metrics.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGFscGhhIG1vbml0b3JpbmcgcG9saWNpZXMgY3JlYXRlIFwKICAtLWRpc3BsYXktbmFtZT0iSGlnaCBRdWVyeSBMYXRlbmN5IiBcCiAgLS1jb25kaXRpb25zPSJtZXRyaWMudHlwZT1cImJpZ3F1ZXJ5Lmdvb2dsZWFwaXMuY29tL3F1ZXJ5L2xhdGVuY3lcIiBBTkQgbWV0cmljLnZhbHVlID4gMTAwMCI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud alpha monitoring policies create \
  --display-name=&quot;High Query Latency&quot; \
  --conditions=&quot;metric.type=\&quot;bigquery.googleapis.com/query/latency\&quot; AND metric.value &gt; 1000&quot;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Auditing and monitoring are essential practices for maintaining the security, compliance, and performance of your BigQuery environment. By leveraging Google Cloud's audit logging and monitoring tools, you can gain valuable insights into user activities, system performance, and resource utilization, enabling you to make informed decisions and maintain a robust data infrastructure.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='data-encryption'>&#x25C4;Data Encryption</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Auditing and Monitoring in BigQuery</a>
	</div>
	<div class='col-4 text-end'>
					<a href='compliance-and-governance'>Compliance and Governance &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
