<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyzing Public Datasets</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bigquery/analyzing-public-datasets" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bigquery/analyzing-public-datasets" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bigquery/analyzing-public-datasets" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/bigquery/analyzing-public-datasets" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/bigquery/analyzing-public-datasets" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='compliance-and-governance'>&#x25C4;Compliance and Governance</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Analyzing Public Datasets</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-a-data-warehouse'>Building a Data Warehouse &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Analyzing public datasets is a crucial skill for data scientists and analysts. Google BigQuery provides a powerful platform to query and analyze large datasets efficiently. This topic will guide you through the process of analyzing public datasets using BigQuery, from beginner to advanced levels.</p>
</div><h1>Getting Started with BigQuery</h1>
<div class='content'></div><h2>Setting Up Your Environment</h2>
<div class='content'><ul>
<li><strong>Create a Google Cloud Platform (GCP) account</strong>: Sign up for a free tier if you don't have an account.</li>
<li><strong>Enable the BigQuery API</strong>: Navigate to the API library in the GCP console and enable BigQuery.</li>
<li><strong>Create a new project</strong>: This will help you organize your datasets and queries.</li>
</ul>
</div><h2>Accessing Public Datasets</h2>
<div class='content'><ul>
<li><strong>BigQuery Public Datasets</strong>: Google provides a variety of public datasets that you can access directly from BigQuery.</li>
<li><strong>Dataset Browser</strong>: Use the BigQuery web UI to browse available public datasets.</li>
</ul>
</div><h2>Example: Loading a Public Dataset</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRXhhbXBsZSBTUUwgdG8gZXhwbG9yZSBhIHB1YmxpYyBkYXRhc2V0ClNFTEVDVCAKICBuYW1lLCAKICBiaXJ0aF95ZWFyIApGUk9NIAogIGBiaWdxdWVyeS1wdWJsaWMtZGF0YS51c2FfbmFtZXMudXNhXzE5MTBfMjAxM2AgCkxJTUlUIDEwOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Example SQL to explore a public dataset
SELECT 
  name, 
  birth_year 
FROM 
  `bigquery-public-data.usa_names.usa_1910_2013` 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query selects the <code>name</code> and <code>birth_year</code> columns from the <code>usa_names</code> dataset, limiting the results to 10 rows.</li>
</ul>
</div><h1>Basic Querying Techniques</h1>
<div class='content'></div><h2>Selecting Data</h2>
<div class='content'><ul>
<li><strong>SELECT Statement</strong>: Used to specify the columns you want to retrieve.</li>
<li><strong>FROM Clause</strong>: Specifies the dataset and table.</li>
</ul>
</div><h2>Filtering Data</h2>
<div class='content'><ul>
<li><strong>WHERE Clause</strong>: Used to filter records based on conditions.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIAogIG5hbWUsIAogIGJpcnRoX3llYXIgCkZST00gCiAgYGJpZ3F1ZXJ5LXB1YmxpYy1kYXRhLnVzYV9uYW1lcy51c2FfMTkxMF8yMDEzYCAKV0hFUkUgCiAgZ2VuZGVyID0gJ0YnIApMSU1JVCAxMDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT 
  name, 
  birth_year 
FROM 
  `bigquery-public-data.usa_names.usa_1910_2013` 
WHERE 
  gender = 'F' 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query filters the dataset to include only female names.</li>
</ul>
</div><h2>Aggregating Data</h2>
<div class='content'><ul>
<li><strong>GROUP BY Clause</strong>: Used to group rows that have the same values in specified columns.</li>
<li><strong>Aggregate Functions</strong>: Such as <code>COUNT()</code>, <code>SUM()</code>, <code>AVG()</code>, <code>MIN()</code>, and <code>MAX()</code>.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIAogIHN0YXRlLCAKICBDT1VOVChuYW1lKSBBUyBuYW1lX2NvdW50IApGUk9NIAogIGBiaWdxdWVyeS1wdWJsaWMtZGF0YS51c2FfbmFtZXMudXNhXzE5MTBfMjAxM2AgCkdST1VQIEJZIAogIHN0YXRlIApPUkRFUiBCWSAKICBuYW1lX2NvdW50IERFU0MgCkxJTUlUIDEwOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT 
  state, 
  COUNT(name) AS name_count 
FROM 
  `bigquery-public-data.usa_names.usa_1910_2013` 
GROUP BY 
  state 
ORDER BY 
  name_count DESC 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query counts the number of names per state and orders the results in descending order.</li>
</ul>
</div><h1>Intermediate Querying Techniques</h1>
<div class='content'></div><h2>Joining Tables</h2>
<div class='content'><ul>
<li><strong>INNER JOIN</strong>: Combines rows from two tables based on a related column.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIAogIGEubmFtZSwgCiAgYi5wb3B1bGF0aW9uIApGUk9NIAogIGBiaWdxdWVyeS1wdWJsaWMtZGF0YS51c2FfbmFtZXMudXNhXzE5MTBfMjAxM2AgQVMgYSAKSU5ORVIgSk9JTiAKICBgYmlncXVlcnktcHVibGljLWRhdGEuY2Vuc3VzX2J1cmVhdV9pbnRlcm5hdGlvbmFsLnBvcHVsYXRpb25fYnlfY291bnRyeWAgQVMgYiAKT04gCiAgYS5zdGF0ZSA9IGIuY291bnRyeV9jb2RlIApMSU1JVCAxMDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT 
  a.name, 
  b.population 
FROM 
  `bigquery-public-data.usa_names.usa_1910_2013` AS a 
INNER JOIN 
  `bigquery-public-data.census_bureau_international.population_by_country` AS b 
ON 
  a.state = b.country_code 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query joins the <code>usa_names</code> dataset with the <code>population_by_country</code> dataset on the <code>state</code> and <code>country_code</code> columns.</li>
</ul>
</div><h2>Using Subqueries</h2>
<div class='content'><ul>
<li><strong>Subquery</strong>: A query nested inside another query.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIAogIG5hbWUsIAogIGJpcnRoX3llYXIgCkZST00gCiAgKFNFTEVDVCAKICAgIG5hbWUsIAogICAgYmlydGhfeWVhciAKICBGUk9NIAogICAgYGJpZ3F1ZXJ5LXB1YmxpYy1kYXRhLnVzYV9uYW1lcy51c2FfMTkxMF8yMDEzYCAKICBXSEVSRSAKICAgIGdlbmRlciA9ICdNJykgCldIRVJFIAogIGJpcnRoX3llYXIgPiAyMDAwIApMSU1JVCAxMDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT 
  name, 
  birth_year 
FROM 
  (SELECT 
    name, 
    birth_year 
  FROM 
    `bigquery-public-data.usa_names.usa_1910_2013` 
  WHERE 
    gender = 'M') 
WHERE 
  birth_year &gt; 2000 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query first filters for male names and then further filters for names with birth years after 2000.</li>
</ul>
</div><h1>Advanced Querying Techniques</h1>
<div class='content'></div><h2>Window Functions</h2>
<div class='content'><ul>
<li><strong>OVER Clause</strong>: Used with window functions to perform calculations across a set of table rows.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIAogIG5hbWUsIAogIGJpcnRoX3llYXIsIAogIENPVU5UKCopIE9WRVIgKFBBUlRJVElPTiBCWSBiaXJ0aF95ZWFyKSBBUyBiaXJ0aF95ZWFyX2NvdW50IApGUk9NIAogIGBiaWdxdWVyeS1wdWJsaWMtZGF0YS51c2FfbmFtZXMudXNhXzE5MTBfMjAxM2AgCkxJTUlUIDEwOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT 
  name, 
  birth_year, 
  COUNT(*) OVER (PARTITION BY birth_year) AS birth_year_count 
FROM 
  `bigquery-public-data.usa_names.usa_1910_2013` 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query counts the number of names for each birth year using a window function.</li>
</ul>
</div><h2>User-Defined Functions (UDFs)</h2>
<div class='content'><ul>
<li><strong>JavaScript UDFs</strong>: Allows you to write custom functions in JavaScript.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRFTVAgRlVOQ1RJT04gTXVsdGlwbHlCeVR3byh4IElOVDY0KSAKUkVUVVJOUyBJTlQ2NCAKTEFOR1VBR0UganMgQVMgIiIiCiAgcmV0dXJuIHggKiAyOwoiIiI7CgpTRUxFQ1QgCiAgbmFtZSwgCiAgTXVsdGlwbHlCeVR3byhiaXJ0aF95ZWFyKSBBUyBiaXJ0aF95ZWFyX211bHRpcGxpZWQgCkZST00gCiAgYGJpZ3F1ZXJ5LXB1YmxpYy1kYXRhLnVzYV9uYW1lcy51c2FfMTkxMF8yMDEzYCAKTElNSVQgMTA7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TEMP FUNCTION MultiplyByTwo(x INT64) 
RETURNS INT64 
LANGUAGE js AS &quot;&quot;&quot;
  return x * 2;
&quot;&quot;&quot;;

SELECT 
  name, 
  MultiplyByTwo(birth_year) AS birth_year_multiplied 
FROM 
  `bigquery-public-data.usa_names.usa_1910_2013` 
LIMIT 10;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>: This query creates a temporary function that multiplies a number by two and applies it to the <code>birth_year</code> column.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Analyzing public datasets with BigQuery involves understanding how to access datasets, write basic to advanced SQL queries, and utilize BigQuery's powerful features like joins, subqueries, window functions, and UDFs. By mastering these techniques, you can efficiently analyze large datasets and derive meaningful insights.</p>
</div><h2>Summary</h2>
<div class='content'><ul>
<li><strong>Setup</strong>: Create a GCP account, enable BigQuery API, and create a project.</li>
<li><strong>Basic Queries</strong>: SELECT, WHERE, GROUP BY.</li>
<li><strong>Intermediate Queries</strong>: JOINs, subqueries.</li>
<li><strong>Advanced Queries</strong>: Window functions, UDFs.</li>
<li><strong>Practice</strong>: Regularly practice querying different public datasets to enhance your skills.</li>
</ul>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='compliance-and-governance'>&#x25C4;Compliance and Governance</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Analyzing Public Datasets</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-a-data-warehouse'>Building a Data Warehouse &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
