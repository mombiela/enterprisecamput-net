<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Nested and Repeated Fields</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bigquery/04-02-nested-repeated-fields" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bigquery/04-02-nested-repeated-fields" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bigquery/04-02-nested-repeated-fields" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "bigquery";
  		var TEMA_NAME = "4-2";
  		var TYPE = "mod";
  		var PATH = "mod/bigquery/04-02-nested-repeated-fields";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.49d891d32f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/bigquery/04-02-nested-repeated-fields" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/bigquery/04-02-nested-repeated-fields" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="bigquery">
		<a  href="#" class="text-secondary d-none" data-read-mod="bigquery" data-read-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="bigquery" data-unread-unit="4-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-advanced-joins' title="Advanced Joins" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-advanced-joins' title="Advanced Joins" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Nested and Repeated Fields</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-user-defined-functions' title="User-Defined Functions (UDFs)" class="py-2 px-3 btn btn-primary"
				data-read-mod="bigquery" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-user-defined-functions' title="User-Defined Functions (UDFs)" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bigquery" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In BigQuery, nested and repeated fields allow you to represent complex data structures within a single table. This is particularly useful for handling semi-structured data, such as JSON, where you might have arrays or objects within your data. Understanding how to work with these fields can significantly enhance your ability to manage and query complex datasets efficiently.</p>
</div><h1>Key Concepts</h1>
<div class='content'></div><h2>Nested Fields</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: Nested fields are fields within a record that can contain other records or fields.</li>
<li><strong>Use Case</strong>: Useful for representing hierarchical data structures, such as a user profile containing multiple addresses.</li>
</ul>
</div><h2>Repeated Fields</h2>
<div class='content'><ul>
<li><strong>Definition</strong>: Repeated fields are arrays of values, where each value can be a primitive type or a record.</li>
<li><strong>Use Case</strong>: Useful for representing lists of items, such as a list of tags associated with a blog post.</li>
</ul>
</div><h2>Nested and Repeated Fields Together</h2>
<div class='content'><ul>
<li><strong>Combination</strong>: You can combine nested and repeated fields to create complex data structures, such as an array of records.</li>
</ul>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Creating a Table with Nested and Repeated Fields</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIG15X2RhdGFzZXQudXNlcl9wcm9maWxlcyAoCiAgdXNlcl9pZCBJTlQ2NCwKICBuYW1lIFNUUklORywKICBhZGRyZXNzZXMgQVJSQVk8U1RSVUNUPAogICAgc3RyZWV0IFNUUklORywKICAgIGNpdHkgU1RSSU5HLAogICAgc3RhdGUgU1RSSU5HLAogICAgemlwX2NvZGUgU1RSSU5HCiAgPj4KKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE my_dataset.user_profiles (
  user_id INT64,
  name STRING,
  addresses ARRAY&lt;STRUCT&lt;
    street STRING,
    city STRING,
    state STRING,
    zip_code STRING
  &gt;&gt;
);</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>user_id</code>: A simple integer field.</li>
<li><code>name</code>: A simple string field.</li>
<li><code>addresses</code>: An array of records, where each record contains <code>street</code>, <code>city</code>, <code>state</code>, and <code>zip_code</code> fields.</li>
</ul>
</div><h2>Inserting Data into the Table</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gbXlfZGF0YXNldC51c2VyX3Byb2ZpbGVzICh1c2VyX2lkLCBuYW1lLCBhZGRyZXNzZXMpClZBTFVFUwogICgxLCAnSm9obiBEb2UnLCBbU1RSVUNUKCcxMjMgTWFpbiBTdCcsICdTcHJpbmdmaWVsZCcsICdJTCcsICc2MjcwMScpXSksCiAgKDIsICdKYW5lIFNtaXRoJywgW1NUUlVDVCgnNDU2IEVsbSBTdCcsICdTcHJpbmdmaWVsZCcsICdJTCcsICc2MjcwMScpLCBTVFJVQ1QoJzc4OSBPYWsgU3QnLCAnQ2hpY2FnbycsICdJTCcsICc2MDYwMScpXSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO my_dataset.user_profiles (user_id, name, addresses)
VALUES
  (1, 'John Doe', [STRUCT('123 Main St', 'Springfield', 'IL', '62701')]),
  (2, 'Jane Smith', [STRUCT('456 Elm St', 'Springfield', 'IL', '62701'), STRUCT('789 Oak St', 'Chicago', 'IL', '60601')]);</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The first user has one address.</li>
<li>The second user has two addresses, demonstrating the use of repeated fields.</li>
</ul>
</div><h2>Querying Nested and Repeated Fields</h2>
<div class='content'><h4>Flattening Nested and Repeated Fields</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUCiAgdXNlcl9pZCwKICBuYW1lLAogIGFkZHJlc3Muc3RyZWV0LAogIGFkZHJlc3MuY2l0eSwKICBhZGRyZXNzLnN0YXRlLAogIGFkZHJlc3MuemlwX2NvZGUKRlJPTQogIG15X2RhdGFzZXQudXNlcl9wcm9maWxlcywKICBVTk5FU1QoYWRkcmVzc2VzKSBBUyBhZGRyZXNzOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT
  user_id,
  name,
  address.street,
  address.city,
  address.state,
  address.zip_code
FROM
  my_dataset.user_profiles,
  UNNEST(addresses) AS address;</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li><code>UNNEST(addresses) AS address</code>: This flattens the repeated <code>addresses</code> field, allowing you to query each address as a separate row.</li>
</ul>
<h4>Aggregating Data</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUCiAgc3RhdGUsCiAgQ09VTlQoRElTVElOQ1QgdXNlcl9pZCkgQVMgdXNlcl9jb3VudApGUk9NCiAgbXlfZGF0YXNldC51c2VyX3Byb2ZpbGVzLAogIFVOTkVTVChhZGRyZXNzZXMpIEFTIGFkZHJlc3MKR1JPVVAgQlkKICBzdGF0ZTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT
  state,
  COUNT(DISTINCT user_id) AS user_count
FROM
  my_dataset.user_profiles,
  UNNEST(addresses) AS address
GROUP BY
  state;</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>This query counts the number of distinct users in each state.</li>
</ul>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Create a Table with Nested and Repeated Fields</h2>
<div class='content'><ol>
<li>Create a table named <code>orders</code> with the following structure:
<ul>
<li><code>order_id</code>: INT64</li>
<li><code>customer_id</code>: INT64</li>
<li><code>items</code>: ARRAY&lt;STRUCT&lt;
<code>item_id</code>: INT64,
<code>quantity</code>: INT64,
<code>price</code>: FLOAT64</li>
</ul>
<blockquote>
<blockquote>
</blockquote>
</blockquote>
</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIG15X2RhdGFzZXQub3JkZXJzICgKICBvcmRlcl9pZCBJTlQ2NCwKICBjdXN0b21lcl9pZCBJTlQ2NCwKICBpdGVtcyBBUlJBWTxTVFJVQ1Q8CiAgICBpdGVtX2lkIElOVDY0LAogICAgcXVhbnRpdHkgSU5UNjQsCiAgICBwcmljZSBGTE9BVDY0CiAgPj4KKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE my_dataset.orders (
  order_id INT64,
  customer_id INT64,
  items ARRAY&lt;STRUCT&lt;
    item_id INT64,
    quantity INT64,
    price FLOAT64
  &gt;&gt;
);</pre></div><div class='content'></div><h2>Exercise 2: Insert Data into the Table</h2>
<div class='content'><ol>
<li>Insert the following data into the <code>orders</code> table:
<ul>
<li>Order 1: Customer 101, Items: (Item 1, Quantity 2, Price 10.0), (Item 2, Quantity 1, Price 20.0)</li>
<li>Order 2: Customer 102, Items: (Item 3, Quantity 1, Price 15.0)</li>
</ul>
</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gbXlfZGF0YXNldC5vcmRlcnMgKG9yZGVyX2lkLCBjdXN0b21lcl9pZCwgaXRlbXMpClZBTFVFUwogICgxLCAxMDEsIFtTVFJVQ1QoMSwgMiwgMTAuMCksIFNUUlVDVCgyLCAxLCAyMC4wKV0pLAogICgyLCAxMDIsIFtTVFJVQ1QoMywgMSwgMTUuMCldKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO my_dataset.orders (order_id, customer_id, items)
VALUES
  (1, 101, [STRUCT(1, 2, 10.0), STRUCT(2, 1, 20.0)]),
  (2, 102, [STRUCT(3, 1, 15.0)]);</pre></div><div class='content'></div><h2>Exercise 3: Query Nested and Repeated Fields</h2>
<div class='content'><ol>
<li>Write a query to list all items in each order, including the order ID, customer ID, item ID, quantity, and price.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUCiAgb3JkZXJfaWQsCiAgY3VzdG9tZXJfaWQsCiAgaXRlbS5pdGVtX2lkLAogIGl0ZW0ucXVhbnRpdHksCiAgaXRlbS5wcmljZQpGUk9NCiAgbXlfZGF0YXNldC5vcmRlcnMsCiAgVU5ORVNUKGl0ZW1zKSBBUyBpdGVtOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT
  order_id,
  customer_id,
  item.item_id,
  item.quantity,
  item.price
FROM
  my_dataset.orders,
  UNNEST(items) AS item;</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Mistake</strong>: Forgetting to use <code>UNNEST</code> when querying repeated fields.
<ul>
<li><strong>Tip</strong>: Always use <code>UNNEST</code> to flatten repeated fields before querying them.</li>
</ul>
</li>
<li><strong>Mistake</strong>: Misunderstanding the structure of nested fields.
<ul>
<li><strong>Tip</strong>: Carefully design your schema and understand the hierarchy of your data.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Nested and repeated fields in BigQuery allow you to handle complex data structures efficiently. By understanding how to create, insert, and query these fields, you can leverage BigQuery's powerful capabilities to manage and analyze semi-structured data. Practice with the provided exercises to reinforce your understanding and prepare for more advanced topics.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-advanced-joins' title="Advanced Joins" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-advanced-joins' title="Advanced Joins" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-user-defined-functions' title="User-Defined Functions (UDFs)" class="py-2 px-3 btn btn-primary"
				data-read-mod="bigquery" data-read-unit="4-2">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-user-defined-functions' title="User-Defined Functions (UDFs)" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bigquery" data-read-unit="4-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>BigQuery Course</h1>
<h2>Module 1: Introduction to BigQuery</h2>
<ul>
<li><a href="01-01-what-is-bigquery">What is BigQuery?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up Your BigQuery Environment</a></li>
<li><a href="01-03-understanding-architecture">Understanding BigQuery Architecture</a></li>
<li><a href="01-04-console-overview">BigQuery Console Overview</a></li>
</ul>
<h2>Module 2: Basic SQL in BigQuery</h2>
<ul>
<li><a href="02-01-introduction-to-sql">Introduction to SQL</a></li>
<li><a href="02-02-basic-sql-queries">Basic SQL Queries</a></li>
<li><a href="02-03-filtering-sorting-data">Filtering and Sorting Data</a></li>
<li><a href="02-04-aggregating-data">Aggregating Data</a></li>
</ul>
<h2>Module 3: Intermediate SQL in BigQuery</h2>
<ul>
<li><a href="03-01-joins-unions">Joins and Unions</a></li>
<li><a href="03-02-subqueries">Subqueries</a></li>
<li><a href="03-03-common-table-expressions">Common Table Expressions (CTEs)</a></li>
<li><a href="03-04-window-functions">Window Functions</a></li>
</ul>
<h2>Module 4: Advanced SQL in BigQuery</h2>
<ul>
<li><a href="04-01-advanced-joins">Advanced Joins</a></li>
<li><a href="04-02-nested-repeated-fields">Nested and Repeated Fields</a></li>
<li><a href="04-03-user-defined-functions">User-Defined Functions (UDFs)</a></li>
<li><a href="04-04-partitioning-clustering">Partitioning and Clustering</a></li>
</ul>
<h2>Module 5: BigQuery Data Management</h2>
<ul>
<li><a href="05-01-loading-data">Loading Data into BigQuery</a></li>
<li><a href="05-02-exporting-data">Exporting Data from BigQuery</a></li>
<li><a href="05-03-data-transformation-cleaning">Data Transformation and Cleaning</a></li>
<li><a href="05-04-managing-datasets-tables">Managing Datasets and Tables</a></li>
</ul>
<h2>Module 6: BigQuery Performance Optimization</h2>
<ul>
<li><a href="06-01-query-optimization-techniques">Query Optimization Techniques</a></li>
<li><a href="06-02-query-execution-plans">Understanding Query Execution Plans</a></li>
<li><a href="06-03-using-materialized-views">Using Materialized Views</a></li>
<li><a href="06-04-optimizing-storage">Optimizing Storage</a></li>
</ul>
<h2>Module 7: BigQuery Security and Compliance</h2>
<ul>
<li><a href="07-01-access-control-permissions">Access Control and Permissions</a></li>
<li><a href="07-02-data-encryption">Data Encryption</a></li>
<li><a href="07-03-auditing-monitoring">Auditing and Monitoring</a></li>
<li><a href="07-04-compliance-best-practices">Compliance and Best Practices</a></li>
</ul>
<h2>Module 8: BigQuery Integration and Automation</h2>
<ul>
<li><a href="08-01-integrating-google-cloud">Integrating with Google Cloud Services</a></li>
<li><a href="08-02-using-dataflow">Using BigQuery with Dataflow</a></li>
<li><a href="08-03-automating-workflows">Automating Workflows with Cloud Functions</a></li>
<li><a href="08-04-scheduling-queries">Scheduling Queries with Cloud Scheduler</a></li>
</ul>
<h2>Module 9: BigQuery Machine Learning (BQML)</h2>
<ul>
<li><a href="09-01-introduction-bqml">Introduction to BigQuery ML</a></li>
<li><a href="09-02-creating-training-models">Creating and Training Models</a></li>
<li><a href="09-03-evaluating-predicting-models">Evaluating and Predicting with Models</a></li>
<li><a href="09-04-advanced-bqml-features">Advanced BQML Features</a></li>
</ul>
<h2>Module 10: Real-World BigQuery Use Cases</h2>
<ul>
<li><a href="10-01-analyzing-web-app-analytics">Analyzing Web and App Analytics</a></li>
<li><a href="10-02-financial-data-analysis">Financial Data Analysis</a></li>
<li><a href="10-03-iot-data-processing">IoT Data Processing</a></li>
<li><a href="10-04-building-dashboards-data-studio">Building Dashboards with Data Studio</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Email</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Enter your email">
</div>
<button class="btn btn-primary" id="btnRecover">Send recovery link</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	Warning! You are about to delete all registration and progress data.<br><b>This action cannot be undone.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Delete user</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Enter current password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Enter new password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repeat new password">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Change password</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Send verification link</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Disconnect</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Change password</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Delete user</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Log in
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Sign up
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Email</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Enter your email">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Password</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnLogin">Log in</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">Have you forgotten your password?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Email</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Enter your email">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Password</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Enter your password">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Name</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Enter your name">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        I have read and accept the <a href="/privacity" target="blank">Privacy Policy</a> and the <a href="/licence" target="blank">Terms and Conditions of Use</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        I wish to receive news and updates about courses (optional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Sign up</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
