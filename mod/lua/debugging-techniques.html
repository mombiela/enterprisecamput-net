<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging Techniques in Lua</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/debugging-techniques" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/debugging-techniques" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/debugging-techniques" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/lua/debugging-techniques" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/lua/debugging-techniques" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='standard-io-library'>&#x25C4;Standard I/O Library</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Debugging Techniques in Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-the-debug-library'>Using the Debug Library &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Debugging is an essential skill for any programmer. In this section, we will explore various debugging techniques in Lua, ranging from basic to advanced levels. By the end of this topic, you should be able to identify and fix errors in your Lua code efficiently.</p>
</div><h1>Basic Debugging Techniques</h1>
<div class='content'></div><h2>Print Statements</h2>
<div class='content'><p>One of the simplest and most effective debugging techniques is using print statements to output the values of variables and the flow of execution.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gYWRkKGEsIGIpCiAgICBwcmludCgiYToiLCBhLCAiYjoiLCBiKSAgLS0gRGVidWdnaW5nIHByaW50IHN0YXRlbWVudAogICAgcmV0dXJuIGEgKyBiCmVuZAoKcHJpbnQoYWRkKDUsIDMpKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function add(a, b)
    print(&quot;a:&quot;, a, &quot;b:&quot;, b)  -- Debugging print statement
    return a + b
end

print(add(5, 3))</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Easy to implement and understand.</li>
<li><strong>Cons</strong>: Can clutter the code and is not suitable for large projects.</li>
</ul>
</div><h2>Error Function</h2>
<div class='content'><p>Lua provides an <code>error</code> function to terminate the program and display an error message.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gZGl2aWRlKGEsIGIpCiAgICBpZiBiID09IDAgdGhlbgogICAgICAgIGVycm9yKCJEaXZpc2lvbiBieSB6ZXJvIGlzIG5vdCBhbGxvd2VkIikKICAgIGVuZAogICAgcmV0dXJuIGEgLyBiCmVuZAoKcHJpbnQoZGl2aWRlKDEwLCAyKSkKcHJpbnQoZGl2aWRlKDEwLCAwKSkgIC0tIFRoaXMgd2lsbCB0cmlnZ2VyIGFuIGVycm9y"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function divide(a, b)
    if b == 0 then
        error(&quot;Division by zero is not allowed&quot;)
    end
    return a / b
end

print(divide(10, 2))
print(divide(10, 0))  -- This will trigger an error</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Clearly indicates where the error occurred.</li>
<li><strong>Cons</strong>: Stops the program execution.</li>
</ul>
</div><h1>Intermediate Debugging Techniques</h1>
<div class='content'></div><h2>Using `assert`</h2>
<div class='content'><p>The <code>assert</code> function is used to check conditions and throw an error if the condition is false.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gc3FydCh4KQogICAgYXNzZXJ0KHggPj0gMCwgInggbXVzdCBiZSBub24tbmVnYXRpdmUiKQogICAgcmV0dXJuIG1hdGguc3FydCh4KQplbmQKCnByaW50KHNxcnQoOSkpCnByaW50KHNxcnQoLTEpKSAgLS0gVGhpcyB3aWxsIHRyaWdnZXIgYW4gYXNzZXJ0aW9uIGVycm9y"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function sqrt(x)
    assert(x &gt;= 0, &quot;x must be non-negative&quot;)
    return math.sqrt(x)
end

print(sqrt(9))
print(sqrt(-1))  -- This will trigger an assertion error</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Helps in validating assumptions.</li>
<li><strong>Cons</strong>: Stops the program execution if the condition fails.</li>
</ul>
</div><h2>Debug Library</h2>
<div class='content'><p>Lua has a built-in debug library that provides various functions to inspect and manipulate the execution of Lua programs.</p>
<h4><code>debug.traceback</code></h4>
<p>The <code>debug.traceback</code> function returns a string with the call stack.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gZmF1bHR5RnVuY3Rpb24oKQogICAgZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIikKZW5kCgpsb2NhbCBmdW5jdGlvbiB3cmFwcGVyRnVuY3Rpb24oKQogICAgZmF1bHR5RnVuY3Rpb24oKQplbmQKCmxvY2FsIHN0YXR1cywgZXJyID0gcGNhbGwod3JhcHBlckZ1bmN0aW9uKQppZiBub3Qgc3RhdHVzIHRoZW4KICAgIHByaW50KGRlYnVnLnRyYWNlYmFjayhlcnIpKQplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function faultyFunction()
    error(&quot;An error occurred&quot;)
end

local function wrapperFunction()
    faultyFunction()
end

local status, err = pcall(wrapperFunction)
if not status then
    print(debug.traceback(err))
end</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Provides detailed information about the call stack.</li>
<li><strong>Cons</strong>: Requires understanding of the call stack.</li>
</ul>
</div><h1>Advanced Debugging Techniques</h1>
<div class='content'></div><h2>Using `debug.sethook`</h2>
<div class='content'><p>The <code>debug.sethook</code> function allows you to set a hook function that will be called during certain events (e.g., function calls, returns, and line executions).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gaG9vayhldmVudCwgbGluZSkKICAgIGxvY2FsIGluZm8gPSBkZWJ1Zy5nZXRpbmZvKDIpCiAgICBwcmludChldmVudCwgaW5mby5uYW1lLCBsaW5lKQplbmQKCmRlYnVnLnNldGhvb2soaG9vaywgImNybCIpCgpsb2NhbCBmdW5jdGlvbiB0ZXN0RnVuY3Rpb24oKQogICAgbG9jYWwgeCA9IDEwCiAgICB4ID0geCArIDEKICAgIHJldHVybiB4CmVuZAoKcHJpbnQodGVzdEZ1bmN0aW9uKCkp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function hook(event, line)
    local info = debug.getinfo(2)
    print(event, info.name, line)
end

debug.sethook(hook, &quot;crl&quot;)

local function testFunction()
    local x = 10
    x = x + 1
    return x
end

print(testFunction())</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Powerful tool for tracing and profiling.</li>
<li><strong>Cons</strong>: Can be complex and may affect performance.</li>
</ul>
</div><h2>Using External Debuggers</h2>
<div class='content'><p>For large projects, using an external debugger can be very helpful. Some popular Lua debuggers include:</p>
<ul>
<li><strong>ZeroBrane Studio</strong>: An IDE with built-in debugging support for Lua.</li>
<li><strong>MobDebug</strong>: A remote debugger for Lua.</li>
</ul>
<h4>Example with ZeroBrane Studio</h4>
<ol>
<li>Install ZeroBrane Studio.</li>
<li>Open your Lua script in ZeroBrane Studio.</li>
<li>Set breakpoints by clicking on the line numbers.</li>
<li>Run the script in debug mode to step through the code, inspect variables, and evaluate expressions.</li>
</ol>
<ul>
<li><strong>Pros</strong>: Provides a graphical interface and advanced debugging features.</li>
<li><strong>Cons</strong>: Requires installation and setup.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Debugging is a crucial part of the development process. By mastering various debugging techniques, you can efficiently identify and fix errors in your Lua code. Start with basic techniques like print statements and gradually move to more advanced methods like using the debug library and external debuggers. Happy debugging!</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='standard-io-library'>&#x25C4;Standard I/O Library</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Debugging Techniques in Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-the-debug-library'>Using the Debug Library &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
