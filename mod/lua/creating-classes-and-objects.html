<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Classes and Objects in Lua</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/creating-classes-and-objects" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/creating-classes-and-objects" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/creating-classes-and-objects" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/lua/creating-classes-and-objects" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/lua/creating-classes-and-objects" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-oop'>&#x25C4;Introduction to OOP</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Classes and Objects in Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='inheritance'>Inheritance &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Object-Oriented Programming in Lua</h1>
<div class='content'><p>Object-oriented programming (OOP) is a programming paradigm that uses &quot;objects&quot; to design applications and computer programs. Lua, while not a purely object-oriented language, provides mechanisms to implement OOP concepts.</p>
<ul>
<li><strong>Class</strong>: A blueprint for creating objects (instances).</li>
<li><strong>Object</strong>: An instance of a class.</li>
<li><strong>Method</strong>: A function that operates on an object.</li>
</ul>
</div><h1>Defining a Basic Class in Lua</h1>
<div class='content'><p>In Lua, classes can be created using tables and metatables. Here's a step-by-step guide to creating a basic class.</p>
</div><h2>Creating a Class</h2>
<div class='content'><ol>
<li><strong>Define a table to represent the class.</strong></li>
<li><strong>Define a constructor function to initialize objects.</strong></li>
<li><strong>Set the metatable for the class to support inheritance.</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgY2xhc3MgbmFtZWQgJ1BlcnNvbicKUGVyc29uID0ge30KUGVyc29uLl9faW5kZXggPSBQZXJzb24KCi0tIENvbnN0cnVjdG9yIGZvciB0aGUgUGVyc29uIGNsYXNzCmZ1bmN0aW9uIFBlcnNvbjpuZXcobmFtZSwgYWdlKQogICAgbG9jYWwgaW5zdGFuY2UgPSBzZXRtZXRhdGFibGUoe30sIFBlcnNvbikKICAgIGluc3RhbmNlLm5hbWUgPSBuYW1lCiAgICBpbnN0YW5jZS5hZ2UgPSBhZ2UKICAgIHJldHVybiBpbnN0YW5jZQplbmQKCi0tIE1ldGhvZCB0byBkaXNwbGF5IHBlcnNvbidzIGRldGFpbHMKZnVuY3Rpb24gUGVyc29uOmRpc3BsYXkoKQogICAgcHJpbnQoIk5hbWU6ICIgLi4gc2VsZi5uYW1lIC4uICIsIEFnZTogIiAuLiBzZWxmLmFnZSkKZW5kCgotLSBDcmVhdGUgYW4gb2JqZWN0IG9mIHRoZSBQZXJzb24gY2xhc3MKbG9jYWwgcGVyc29uMSA9IFBlcnNvbjpuZXcoIkFsaWNlIiwgMzApCnBlcnNvbjE6ZGlzcGxheSgpICAtLSBPdXRwdXQ6IE5hbWU6IEFsaWNlLCBBZ2U6IDMw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a class named 'Person'
Person = {}
Person.__index = Person

-- Constructor for the Person class
function Person:new(name, age)
    local instance = setmetatable({}, Person)
    instance.name = name
    instance.age = age
    return instance
end

-- Method to display person's details
function Person:display()
    print(&quot;Name: &quot; .. self.name .. &quot;, Age: &quot; .. self.age)
end

-- Create an object of the Person class
local person1 = Person:new(&quot;Alice&quot;, 30)
person1:display()  -- Output: Name: Alice, Age: 30</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Person = {}</strong>: Creates a table to represent the class.</li>
<li><strong>Person.__index = Person</strong>: Sets the metatable's <code>__index</code> field to the class itself, enabling inheritance.</li>
<li><strong>Person:new(name, age)</strong>: Constructor function to initialize new objects.</li>
<li><strong>setmetatable({}, Person)</strong>: Sets the metatable of the new object to the class, allowing method calls.</li>
<li><strong>self</strong>: Refers to the object instance within methods.</li>
</ul>
</div><h1>Adding Methods to a Class</h1>
<div class='content'><p>Methods are functions that operate on instances of the class. They are defined within the class table.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQWRkIGEgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgYWdlCmZ1bmN0aW9uIFBlcnNvbjpzZXRBZ2UobmV3QWdlKQogICAgc2VsZi5hZ2UgPSBuZXdBZ2UKZW5kCgotLSBVcGRhdGUgdGhlIGFnZSBvZiBwZXJzb24xCnBlcnNvbjE6c2V0QWdlKDMxKQpwZXJzb24xOmRpc3BsYXkoKSAgLS0gT3V0cHV0OiBOYW1lOiBBbGljZSwgQWdlOiAzMQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Add a method to update the age
function Person:setAge(newAge)
    self.age = newAge
end

-- Update the age of person1
person1:setAge(31)
person1:display()  -- Output: Name: Alice, Age: 31</pre></div><div class='content'></div><h1>Inheritance in Lua</h1>
<div class='content'><p>Inheritance allows a class to inherit properties and methods from another class. This is achieved using metatables.</p>
</div><h2>Creating a Subclass</h2>
<div class='content'><ol>
<li><strong>Define a new table for the subclass.</strong></li>
<li><strong>Set the metatable of the subclass to the parent class.</strong></li>
<li><strong>Override or add new methods as needed.</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgc3ViY2xhc3MgbmFtZWQgJ0VtcGxveWVlJyB0aGF0IGluaGVyaXRzIGZyb20gJ1BlcnNvbicKRW1wbG95ZWUgPSBzZXRtZXRhdGFibGUoe30sIHtfX2luZGV4ID0gUGVyc29ufSkKRW1wbG95ZWUuX19pbmRleCA9IEVtcGxveWVlCgotLSBDb25zdHJ1Y3RvciBmb3IgdGhlIEVtcGxveWVlIGNsYXNzCmZ1bmN0aW9uIEVtcGxveWVlOm5ldyhuYW1lLCBhZ2UsIHBvc2l0aW9uKQogICAgbG9jYWwgaW5zdGFuY2UgPSBQZXJzb24ubmV3KHNlbGYsIG5hbWUsIGFnZSkKICAgIGluc3RhbmNlLnBvc2l0aW9uID0gcG9zaXRpb24KICAgIHJldHVybiBpbnN0YW5jZQplbmQKCi0tIE92ZXJyaWRlIHRoZSBkaXNwbGF5IG1ldGhvZCB0byBpbmNsdWRlIHBvc2l0aW9uCmZ1bmN0aW9uIEVtcGxveWVlOmRpc3BsYXkoKQogICAgcHJpbnQoIk5hbWU6ICIgLi4gc2VsZi5uYW1lIC4uICIsIEFnZTogIiAuLiBzZWxmLmFnZSAuLiAiLCBQb3NpdGlvbjogIiAuLiBzZWxmLnBvc2l0aW9uKQplbmQKCi0tIENyZWF0ZSBhbiBvYmplY3Qgb2YgdGhlIEVtcGxveWVlIGNsYXNzCmxvY2FsIGVtcGxveWVlMSA9IEVtcGxveWVlOm5ldygiQm9iIiwgMjUsICJEZXZlbG9wZXIiKQplbXBsb3llZTE6ZGlzcGxheSgpICAtLSBPdXRwdXQ6IE5hbWU6IEJvYiwgQWdlOiAyNSwgUG9zaXRpb246IERldmVsb3Blcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a subclass named 'Employee' that inherits from 'Person'
Employee = setmetatable({}, {__index = Person})
Employee.__index = Employee

-- Constructor for the Employee class
function Employee:new(name, age, position)
    local instance = Person.new(self, name, age)
    instance.position = position
    return instance
end

-- Override the display method to include position
function Employee:display()
    print(&quot;Name: &quot; .. self.name .. &quot;, Age: &quot; .. self.age .. &quot;, Position: &quot; .. self.position)
end

-- Create an object of the Employee class
local employee1 = Employee:new(&quot;Bob&quot;, 25, &quot;Developer&quot;)
employee1:display()  -- Output: Name: Bob, Age: 25, Position: Developer</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Employee = setmetatable({}, {__index = Person})</strong>: Sets the metatable of <code>Employee</code> to <code>Person</code>, enabling inheritance.</li>
<li><strong>Employee:new(name, age, position)</strong>: Constructor for the subclass, calling the parent class constructor.</li>
<li><strong>Employee:display()</strong>: Overrides the <code>display</code> method to include the <code>position</code> attribute.</li>
</ul>
</div><h1>Advanced Topics</h1>
<h2>Private and Protected Members</h2>
<div class='content'><p>Lua does not have built-in support for private or protected members, but you can simulate them using local variables and closures.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgY2xhc3Mgd2l0aCBwcml2YXRlIG1lbWJlcnMKUGVyc29uID0ge30KUGVyc29uLl9faW5kZXggPSBQZXJzb24KCmZ1bmN0aW9uIFBlcnNvbjpuZXcobmFtZSwgYWdlKQogICAgbG9jYWwgaW5zdGFuY2UgPSBzZXRtZXRhdGFibGUoe30sIFBlcnNvbikKICAgIGxvY2FsIHByaXZhdGVBZ2UgPSBhZ2UgIC0tIFByaXZhdGUgbWVtYmVyCgogICAgZnVuY3Rpb24gaW5zdGFuY2U6Z2V0QWdlKCkKICAgICAgICByZXR1cm4gcHJpdmF0ZUFnZQogICAgZW5kCgogICAgZnVuY3Rpb24gaW5zdGFuY2U6c2V0QWdlKG5ld0FnZSkKICAgICAgICBwcml2YXRlQWdlID0gbmV3QWdlCiAgICBlbmQKCiAgICBpbnN0YW5jZS5uYW1lID0gbmFtZQogICAgcmV0dXJuIGluc3RhbmNlCmVuZAoKbG9jYWwgcGVyc29uMiA9IFBlcnNvbjpuZXcoIkNoYXJsaWUiLCA0MCkKcHJpbnQocGVyc29uMjpnZXRBZ2UoKSkgIC0tIE91dHB1dDogNDAKcGVyc29uMjpzZXRBZ2UoNDEpCnByaW50KHBlcnNvbjI6Z2V0QWdlKCkpICAtLSBPdXRwdXQ6IDQx"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a class with private members
Person = {}
Person.__index = Person

function Person:new(name, age)
    local instance = setmetatable({}, Person)
    local privateAge = age  -- Private member

    function instance:getAge()
        return privateAge
    end

    function instance:setAge(newAge)
        privateAge = newAge
    end

    instance.name = name
    return instance
end

local person2 = Person:new(&quot;Charlie&quot;, 40)
print(person2:getAge())  -- Output: 40
person2:setAge(41)
print(person2:getAge())  -- Output: 41</pre></div><div class='content'></div><h2>Polymorphism</h2>
<div class='content'><p>Polymorphism allows methods to be used interchangeably between different classes. This is achieved through method overriding.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgbmV3IGNsYXNzICdNYW5hZ2VyJyB0aGF0IGluaGVyaXRzIGZyb20gJ0VtcGxveWVlJwpNYW5hZ2VyID0gc2V0bWV0YXRhYmxlKHt9LCB7X19pbmRleCA9IEVtcGxveWVlfSkKTWFuYWdlci5fX2luZGV4ID0gTWFuYWdlcgoKLS0gT3ZlcnJpZGUgdGhlIGRpc3BsYXkgbWV0aG9kIHRvIGluY2x1ZGUgZGVwYXJ0bWVudApmdW5jdGlvbiBNYW5hZ2VyOmRpc3BsYXkoKQogICAgcHJpbnQoIk5hbWU6ICIgLi4gc2VsZi5uYW1lIC4uICIsIEFnZTogIiAuLiBzZWxmLmFnZSAuLiAiLCBQb3NpdGlvbjogIiAuLiBzZWxmLnBvc2l0aW9uIC4uICIsIERlcGFydG1lbnQ6ICIgLi4gc2VsZi5kZXBhcnRtZW50KQplbmQKCi0tIENyZWF0ZSBhbiBvYmplY3Qgb2YgdGhlIE1hbmFnZXIgY2xhc3MKbG9jYWwgbWFuYWdlcjEgPSBNYW5hZ2VyOm5ldygiRGFuYSIsIDM1LCAiTWFuYWdlciIpCm1hbmFnZXIxLmRlcGFydG1lbnQgPSAiSVQiCm1hbmFnZXIxOmRpc3BsYXkoKSAgLS0gT3V0cHV0OiBOYW1lOiBEYW5hLCBBZ2U6IDM1LCBQb3NpdGlvbjogTWFuYWdlciwgRGVwYXJ0bWVudDogSVQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a new class 'Manager' that inherits from 'Employee'
Manager = setmetatable({}, {__index = Employee})
Manager.__index = Manager

-- Override the display method to include department
function Manager:display()
    print(&quot;Name: &quot; .. self.name .. &quot;, Age: &quot; .. self.age .. &quot;, Position: &quot; .. self.position .. &quot;, Department: &quot; .. self.department)
end

-- Create an object of the Manager class
local manager1 = Manager:new(&quot;Dana&quot;, 35, &quot;Manager&quot;)
manager1.department = &quot;IT&quot;
manager1:display()  -- Output: Name: Dana, Age: 35, Position: Manager, Department: IT</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this topic, we covered the basics of creating classes and objects in Lua, including defining classes, adding methods, and implementing inheritance. We also touched on advanced concepts like private members and polymorphism. By understanding these concepts, you can effectively utilize object-oriented programming in Lua to create robust and maintainable code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-oop'>&#x25C4;Introduction to OOP</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creating Classes and Objects in Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='inheritance'>Inheritance &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
