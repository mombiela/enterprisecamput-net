<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Object-Oriented Programming in Lua</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/04-02-oop-lua" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/04-02-oop-lua" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/04-02-oop-lua" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/lua/04-02-oop-lua" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/lua/04-02-oop-lua" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-coroutines' title="Coroutines">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Object-Oriented Programming in Lua</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-debugging-techniques' title="Debugging Techniques">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Object-Oriented Programming (OOP) is a programming paradigm that uses &quot;objects&quot; to design applications and computer programs. Lua, while not an object-oriented language by default, provides mechanisms to implement OOP concepts. In this section, we will explore how to achieve OOP in Lua.</p>
</div><h1>Key Concepts of OOP</h1>
<div class='content'><ol>
<li><strong>Classes and Objects</strong>: Classes are blueprints for creating objects (instances). Objects are instances of classes.</li>
<li><strong>Encapsulation</strong>: Bundling data (attributes) and methods (functions) that operate on the data into a single unit (class).</li>
<li><strong>Inheritance</strong>: Mechanism by which one class can inherit properties and methods from another class.</li>
<li><strong>Polymorphism</strong>: Ability to process objects differently based on their data type or class.</li>
</ol>
</div><h1>Implementing OOP in Lua</h1>
<div class='content'></div><h2><ol>
<li>Creating a Class</li>
</ol></h2>
<div class='content'><p>In Lua, a class can be represented using tables and functions. Here’s how you can create a simple class:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgY2xhc3MgbmFtZWQgJ0FuaW1hbCcKQW5pbWFsID0ge30KQW5pbWFsLl9faW5kZXggPSBBbmltYWwKCi0tIENvbnN0cnVjdG9yIGZvciB0aGUgQW5pbWFsIGNsYXNzCmZ1bmN0aW9uIEFuaW1hbDpuZXcobmFtZSwgc291bmQpCiAgICBsb2NhbCBpbnN0YW5jZSA9IHNldG1ldGF0YWJsZSh7fSwgQW5pbWFsKQogICAgaW5zdGFuY2UubmFtZSA9IG5hbWUKICAgIGluc3RhbmNlLnNvdW5kID0gc291bmQKICAgIHJldHVybiBpbnN0YW5jZQplbmQKCi0tIE1ldGhvZCB0byBtYWtlIHRoZSBhbmltYWwgc3BlYWsKZnVuY3Rpb24gQW5pbWFsOnNwZWFrKCkKICAgIHByaW50KHNlbGYubmFtZSAuLiAiIHNheXMgIiAuLiBzZWxmLnNvdW5kKQplbmQKCi0tIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBbmltYWwKbG9jYWwgZG9nID0gQW5pbWFsOm5ldygiRG9nIiwgIldvb2YiKQpkb2c6c3BlYWsoKSAgLS0gT3V0cHV0OiBEb2cgc2F5cyBXb29m"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a class named 'Animal'
Animal = {}
Animal.__index = Animal

-- Constructor for the Animal class
function Animal:new(name, sound)
    local instance = setmetatable({}, Animal)
    instance.name = name
    instance.sound = sound
    return instance
end

-- Method to make the animal speak
function Animal:speak()
    print(self.name .. &quot; says &quot; .. self.sound)
end

-- Create an instance of Animal
local dog = Animal:new(&quot;Dog&quot;, &quot;Woof&quot;)
dog:speak()  -- Output: Dog says Woof</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Table as Class</strong>: <code>Animal</code> is a table that acts as a class.</li>
<li><strong>Metatable</strong>: <code>Animal.__index = Animal</code> sets the metatable for instances of <code>Animal</code>.</li>
<li><strong>Constructor</strong>: <code>Animal:new</code> is a constructor function that initializes new instances.</li>
<li><strong>Method</strong>: <code>Animal:speak</code> is a method that prints the animal's sound.</li>
</ul>
</div><h2><ol start="2">
<li>Inheritance</li>
</ol></h2>
<div class='content'><p>Inheritance allows a class to inherit properties and methods from another class. Here’s how you can implement inheritance in Lua:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgc3ViY2xhc3MgbmFtZWQgJ0RvZycgdGhhdCBpbmhlcml0cyBmcm9tICdBbmltYWwnCkRvZyA9IHNldG1ldGF0YWJsZSh7fSwge19faW5kZXggPSBBbmltYWx9KQpEb2cuX19pbmRleCA9IERvZwoKLS0gQ29uc3RydWN0b3IgZm9yIHRoZSBEb2cgY2xhc3MKZnVuY3Rpb24gRG9nOm5ldyhuYW1lKQogICAgbG9jYWwgaW5zdGFuY2UgPSBBbmltYWwubmV3KHNlbGYsIG5hbWUsICJXb29mIikKICAgIHNldG1ldGF0YWJsZShpbnN0YW5jZSwgRG9nKQogICAgcmV0dXJuIGluc3RhbmNlCmVuZAoKLS0gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIERvZwpsb2NhbCBteURvZyA9IERvZzpuZXcoIkJ1ZGR5IikKbXlEb2c6c3BlYWsoKSAgLS0gT3V0cHV0OiBCdWRkeSBzYXlzIFdvb2Y="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a subclass named 'Dog' that inherits from 'Animal'
Dog = setmetatable({}, {__index = Animal})
Dog.__index = Dog

-- Constructor for the Dog class
function Dog:new(name)
    local instance = Animal.new(self, name, &quot;Woof&quot;)
    setmetatable(instance, Dog)
    return instance
end

-- Create an instance of Dog
local myDog = Dog:new(&quot;Buddy&quot;)
myDog:speak()  -- Output: Buddy says Woof</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Subclass</strong>: <code>Dog</code> is a subclass of <code>Animal</code>.</li>
<li><strong>Inheritance</strong>: <code>Dog</code> inherits from <code>Animal</code> using <code>setmetatable({}, {__index = Animal})</code>.</li>
<li><strong>Constructor</strong>: <code>Dog:new</code> calls the <code>Animal</code> constructor to initialize the instance.</li>
</ul>
</div><h2><ol start="3">
<li>Encapsulation</li>
</ol></h2>
<div class='content'><p>Encapsulation is achieved by keeping data private and providing public methods to access and modify the data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIGEgY2xhc3Mgd2l0aCBlbmNhcHN1bGF0aW9uClBlcnNvbiA9IHt9ClBlcnNvbi5fX2luZGV4ID0gUGVyc29uCgpmdW5jdGlvbiBQZXJzb246bmV3KG5hbWUsIGFnZSkKICAgIGxvY2FsIGluc3RhbmNlID0gc2V0bWV0YXRhYmxlKHt9LCBQZXJzb24pCiAgICBpbnN0YW5jZS5uYW1lID0gbmFtZQogICAgaW5zdGFuY2UuYWdlID0gYWdlCiAgICByZXR1cm4gaW5zdGFuY2UKZW5kCgotLSBQdWJsaWMgbWV0aG9kIHRvIGdldCB0aGUgcGVyc29uJ3MgYWdlCmZ1bmN0aW9uIFBlcnNvbjpnZXRBZ2UoKQogICAgcmV0dXJuIHNlbGYuYWdlCmVuZAoKLS0gUHVibGljIG1ldGhvZCB0byBzZXQgdGhlIHBlcnNvbidzIGFnZQpmdW5jdGlvbiBQZXJzb246c2V0QWdlKGFnZSkKICAgIHNlbGYuYWdlID0gYWdlCmVuZAoKLS0gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIFBlcnNvbgpsb2NhbCBqb2huID0gUGVyc29uOm5ldygiSm9obiIsIDMwKQpwcmludChqb2huOmdldEFnZSgpKSAgLS0gT3V0cHV0OiAzMApqb2huOnNldEFnZSgzMSkKcHJpbnQoam9objpnZXRBZ2UoKSkgIC0tIE91dHB1dDogMzE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define a class with encapsulation
Person = {}
Person.__index = Person

function Person:new(name, age)
    local instance = setmetatable({}, Person)
    instance.name = name
    instance.age = age
    return instance
end

-- Public method to get the person's age
function Person:getAge()
    return self.age
end

-- Public method to set the person's age
function Person:setAge(age)
    self.age = age
end

-- Create an instance of Person
local john = Person:new(&quot;John&quot;, 30)
print(john:getAge())  -- Output: 30
john:setAge(31)
print(john:getAge())  -- Output: 31</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Private Data</strong>: <code>name</code> and <code>age</code> are private to the <code>Person</code> class.</li>
<li><strong>Public Methods</strong>: <code>getAge</code> and <code>setAge</code> are public methods to access and modify the private data.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Implement a Vehicle Class</h2>
<div class='content'><ol>
<li>Create a <code>Vehicle</code> class with attributes <code>make</code>, <code>model</code>, and <code>year</code>.</li>
<li>Add a method <code>getDetails</code> that returns a string with the vehicle's details.</li>
<li>Create a subclass <code>Car</code> that inherits from <code>Vehicle</code> and adds an attribute <code>numberOfDoors</code>.</li>
<li>Override the <code>getDetails</code> method in the <code>Car</code> class to include the number of doors.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5lIHRoZSBWZWhpY2xlIGNsYXNzClZlaGljbGUgPSB7fQpWZWhpY2xlLl9faW5kZXggPSBWZWhpY2xlCgpmdW5jdGlvbiBWZWhpY2xlOm5ldyhtYWtlLCBtb2RlbCwgeWVhcikKICAgIGxvY2FsIGluc3RhbmNlID0gc2V0bWV0YXRhYmxlKHt9LCBWZWhpY2xlKQogICAgaW5zdGFuY2UubWFrZSA9IG1ha2UKICAgIGluc3RhbmNlLm1vZGVsID0gbW9kZWwKICAgIGluc3RhbmNlLnllYXIgPSB5ZWFyCiAgICByZXR1cm4gaW5zdGFuY2UKZW5kCgpmdW5jdGlvbiBWZWhpY2xlOmdldERldGFpbHMoKQogICAgcmV0dXJuIHNlbGYueWVhciAuLiAiICIgLi4gc2VsZi5tYWtlIC4uICIgIiAuLiBzZWxmLm1vZGVsCmVuZAoKLS0gRGVmaW5lIHRoZSBDYXIgc3ViY2xhc3MKQ2FyID0gc2V0bWV0YXRhYmxlKHt9LCB7X19pbmRleCA9IFZlaGljbGV9KQpDYXIuX19pbmRleCA9IENhcgoKZnVuY3Rpb24gQ2FyOm5ldyhtYWtlLCBtb2RlbCwgeWVhciwgbnVtYmVyT2ZEb29ycykKICAgIGxvY2FsIGluc3RhbmNlID0gVmVoaWNsZS5uZXcoc2VsZiwgbWFrZSwgbW9kZWwsIHllYXIpCiAgICBpbnN0YW5jZS5udW1iZXJPZkRvb3JzID0gbnVtYmVyT2ZEb29ycwogICAgc2V0bWV0YXRhYmxlKGluc3RhbmNlLCBDYXIpCiAgICByZXR1cm4gaW5zdGFuY2UKZW5kCgpmdW5jdGlvbiBDYXI6Z2V0RGV0YWlscygpCiAgICByZXR1cm4gVmVoaWNsZS5nZXREZXRhaWxzKHNlbGYpIC4uICIgd2l0aCAiIC4uIHNlbGYubnVtYmVyT2ZEb29ycyAuLiAiIGRvb3JzIgplbmQKCi0tIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBDYXIKbG9jYWwgbXlDYXIgPSBDYXI6bmV3KCJUb3lvdGEiLCAiQ29yb2xsYSIsIDIwMjAsIDQpCnByaW50KG15Q2FyOmdldERldGFpbHMoKSkgIC0tIE91dHB1dDogMjAyMCBUb3lvdGEgQ29yb2xsYSB3aXRoIDQgZG9vcnM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Define the Vehicle class
Vehicle = {}
Vehicle.__index = Vehicle

function Vehicle:new(make, model, year)
    local instance = setmetatable({}, Vehicle)
    instance.make = make
    instance.model = model
    instance.year = year
    return instance
end

function Vehicle:getDetails()
    return self.year .. &quot; &quot; .. self.make .. &quot; &quot; .. self.model
end

-- Define the Car subclass
Car = setmetatable({}, {__index = Vehicle})
Car.__index = Car

function Car:new(make, model, year, numberOfDoors)
    local instance = Vehicle.new(self, make, model, year)
    instance.numberOfDoors = numberOfDoors
    setmetatable(instance, Car)
    return instance
end

function Car:getDetails()
    return Vehicle.getDetails(self) .. &quot; with &quot; .. self.numberOfDoors .. &quot; doors&quot;
end

-- Create an instance of Car
local myCar = Car:new(&quot;Toyota&quot;, &quot;Corolla&quot;, 2020, 4)
print(myCar:getDetails())  -- Output: 2020 Toyota Corolla with 4 doors</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Vehicle Class</strong>: Defines the basic attributes and methods for a vehicle.</li>
<li><strong>Car Subclass</strong>: Inherits from <code>Vehicle</code> and adds the <code>numberOfDoors</code> attribute.</li>
<li><strong>Method Override</strong>: <code>Car:getDetails</code> overrides <code>Vehicle:getDetails</code> to include the number of doors.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored how to implement Object-Oriented Programming in Lua using tables and metatables. We covered the key concepts of OOP, including classes, inheritance, and encapsulation, and provided practical examples and exercises to reinforce the concepts. Understanding these principles will help you design more modular and maintainable Lua programs. In the next section, we will delve into debugging techniques to help you troubleshoot and optimize your Lua code.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-coroutines' title="Coroutines">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-debugging-techniques' title="Debugging Techniques">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
