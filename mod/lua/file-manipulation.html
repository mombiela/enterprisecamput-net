<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Manipulation in Lua</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/file-manipulation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/file-manipulation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/file-manipulation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/lua/file-manipulation" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/lua/file-manipulation" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='reading-and-writing-files'>&#x25C4;Reading and Writing Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File Manipulation in Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='standard-io-library'>Standard I/O Library &#x25BA;</a>
			</div>
</div>
<div class='content'><p>File manipulation is an essential skill for any programmer. In Lua, file operations are straightforward and powerful, allowing you to read from, write to, and manipulate files with ease. This section will guide you from the basics to more advanced file manipulation techniques in Lua.</p>
</div><h1>Introduction to File Handling</h1>
<div class='content'><p>Before diving into file manipulation, it's important to understand the basic concepts and functions provided by Lua for handling files.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>File Modes</strong>: Different modes for opening files (<code>r</code>, <code>w</code>, <code>a</code>, etc.).</li>
<li><strong>File Handles</strong>: Objects that represent open files.</li>
<li><strong>Standard I/O Library</strong>: Lua's built-in library for file operations.</li>
</ul>
</div><h2>File Modes</h2>
<div class='content'><table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>r</code></td>
<td>Read mode. Opens the file for reading.</td>
</tr>
<tr>
<td><code>w</code></td>
<td>Write mode. Opens the file for writing (creates a new file or truncates an existing file).</td>
</tr>
<tr>
<td><code>a</code></td>
<td>Append mode. Opens the file for appending.</td>
</tr>
<tr>
<td><code>r+</code></td>
<td>Read/Write mode. Opens the file for both reading and writing.</td>
</tr>
<tr>
<td><code>w+</code></td>
<td>Read/Write mode. Opens the file for both reading and writing (creates a new file or truncates an existing file).</td>
</tr>
<tr>
<td><code>a+</code></td>
<td>Read/Append mode. Opens the file for both reading and appending.</td>
</tr>
</tbody>
</table>
</div><h1>Basic File Operations</h1>
<div class='content'></div><h2>Opening and Closing Files</h2>
<div class='content'><p>To perform any operation on a file, you first need to open it. Lua provides the <code>io.open</code> function for this purpose.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gT3BlbmluZyBhIGZpbGUgaW4gcmVhZCBtb2RlCmxvY2FsIGZpbGUgPSBpby5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikKCi0tIEFsd2F5cyBjaGVjayBpZiB0aGUgZmlsZSB3YXMgc3VjY2Vzc2Z1bGx5IG9wZW5lZAppZiBub3QgZmlsZSB0aGVuCiAgICBwcmludCgiQ291bGQgbm90IG9wZW4gZmlsZSIpCiAgICByZXR1cm4KZW5kCgotLSBQZXJmb3JtIGZpbGUgb3BlcmF0aW9ucy4uLgoKLS0gQ2xvc2luZyB0aGUgZmlsZQpmaWxlOmNsb3NlKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Opening a file in read mode
local file = io.open(&quot;example.txt&quot;, &quot;r&quot;)

-- Always check if the file was successfully opened
if not file then
    print(&quot;Could not open file&quot;)
    return
end

-- Perform file operations...

-- Closing the file
file:close()</pre></div><div class='content'></div><h2>Reading from Files</h2>
<div class='content'><p>There are several ways to read from a file in Lua. You can read the entire file, a specific number of bytes, or line by line.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUmVhZGluZyB0aGUgZW50aXJlIGZpbGUKbG9jYWwgZmlsZSA9IGlvLm9wZW4oImV4YW1wbGUudHh0IiwgInIiKQpsb2NhbCBjb250ZW50ID0gZmlsZTpyZWFkKCIqYWxsIikKcHJpbnQoY29udGVudCkKZmlsZTpjbG9zZSgpCgotLSBSZWFkaW5nIGxpbmUgYnkgbGluZQpsb2NhbCBmaWxlID0gaW8ub3BlbigiZXhhbXBsZS50eHQiLCAiciIpCmZvciBsaW5lIGluIGZpbGU6bGluZXMoKSBkbwogICAgcHJpbnQobGluZSkKZW5kCmZpbGU6Y2xvc2UoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Reading the entire file
local file = io.open(&quot;example.txt&quot;, &quot;r&quot;)
local content = file:read(&quot;*all&quot;)
print(content)
file:close()

-- Reading line by line
local file = io.open(&quot;example.txt&quot;, &quot;r&quot;)
for line in file:lines() do
    print(line)
end
file:close()</pre></div><div class='content'></div><h2>Writing to Files</h2>
<div class='content'><p>Writing to a file is just as straightforward. You can write strings or formatted data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gV3JpdGluZyB0byBhIGZpbGUKbG9jYWwgZmlsZSA9IGlvLm9wZW4oImV4YW1wbGUudHh0IiwgInciKQpmaWxlOndyaXRlKCJIZWxsbywgV29ybGQhXG4iKQpmaWxlOndyaXRlKCJUaGlzIGlzIGEgbmV3IGxpbmUuIikKZmlsZTpjbG9zZSgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Writing to a file
local file = io.open(&quot;example.txt&quot;, &quot;w&quot;)
file:write(&quot;Hello, World!\n&quot;)
file:write(&quot;This is a new line.&quot;)
file:close()</pre></div><div class='content'></div><h1>Advanced File Operations</h1>
<div class='content'></div><h2>Appending to Files</h2>
<div class='content'><p>Appending allows you to add data to the end of an existing file without overwriting its contents.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQXBwZW5kaW5nIHRvIGEgZmlsZQpsb2NhbCBmaWxlID0gaW8ub3BlbigiZXhhbXBsZS50eHQiLCAiYSIpCmZpbGU6d3JpdGUoIlxuQXBwZW5kaW5nIHRoaXMgbGluZS4iKQpmaWxlOmNsb3NlKCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Appending to a file
local file = io.open(&quot;example.txt&quot;, &quot;a&quot;)
file:write(&quot;\nAppending this line.&quot;)
file:close()</pre></div><div class='content'></div><h2>Reading and Writing Binary Files</h2>
<div class='content'><p>For binary files, you need to handle data differently. Lua provides functions to read and write binary data.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gV3JpdGluZyBiaW5hcnkgZGF0YQpsb2NhbCBmaWxlID0gaW8ub3BlbigiZXhhbXBsZS5iaW4iLCAid2IiKQpmaWxlOndyaXRlKHN0cmluZy5jaGFyKDB4NDIsIDB4NDMsIDB4NDQpKQpmaWxlOmNsb3NlKCkKCi0tIFJlYWRpbmcgYmluYXJ5IGRhdGEKbG9jYWwgZmlsZSA9IGlvLm9wZW4oImV4YW1wbGUuYmluIiwgInJiIikKbG9jYWwgZGF0YSA9IGZpbGU6cmVhZCgiKmFsbCIpCmZvciBpID0gMSwgI2RhdGEgZG8KICAgIHByaW50KHN0cmluZy5ieXRlKGRhdGEsIGkpKQplbmQKZmlsZTpjbG9zZSgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Writing binary data
local file = io.open(&quot;example.bin&quot;, &quot;wb&quot;)
file:write(string.char(0x42, 0x43, 0x44))
file:close()

-- Reading binary data
local file = io.open(&quot;example.bin&quot;, &quot;rb&quot;)
local data = file:read(&quot;*all&quot;)
for i = 1, #data do
    print(string.byte(data, i))
end
file:close()</pre></div><div class='content'></div><h2>Error Handling</h2>
<div class='content'><p>Proper error handling is crucial when working with files to avoid crashes and data loss.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRXJyb3IgaGFuZGxpbmcgZXhhbXBsZQpsb2NhbCBmaWxlLCBlcnIgPSBpby5vcGVuKCJub25leGlzdGVudC50eHQiLCAiciIpCmlmIG5vdCBmaWxlIHRoZW4KICAgIHByaW50KCJFcnJvciBvcGVuaW5nIGZpbGU6ICIgLi4gZXJyKQplbHNlCiAgICAtLSBQZXJmb3JtIGZpbGUgb3BlcmF0aW9ucy4uLgogICAgZmlsZTpjbG9zZSgpCmVuZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Error handling example
local file, err = io.open(&quot;nonexistent.txt&quot;, &quot;r&quot;)
if not file then
    print(&quot;Error opening file: &quot; .. err)
else
    -- Perform file operations...
    file:close()
end</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>File manipulation in Lua is a powerful feature that allows you to handle various file operations with ease. By understanding the basic and advanced techniques, you can efficiently read from, write to, and manage files in your Lua programs. Always remember to handle errors gracefully and close files properly to ensure data integrity and program stability.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='reading-and-writing-files'>&#x25C4;Reading and Writing Files</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">File Manipulation in Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='standard-io-library'>Standard I/O Library &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
