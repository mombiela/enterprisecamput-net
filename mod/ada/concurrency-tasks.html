<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concurrency: Tasks</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ada/concurrency-tasks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ada/concurrency-tasks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ada/concurrency-tasks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ada/concurrency-tasks" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ada/concurrency-tasks" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='exception-handling'>&#x25C4;Exception Handling</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Concurrency: Tasks</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protected-objects'>Protected Objects &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Concurrency is a fundamental concept in Ada, allowing programs to perform multiple operations simultaneously. This topic will guide you through the basics of tasks in Ada, from creating simple tasks to more advanced concurrency control mechanisms.</p>
</div><h1>Introduction to Tasks</h1>
<div class='content'><p>In Ada, tasks are the primary means of achieving concurrency. A task is a separate thread of control that can execute concurrently with other tasks.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Task Declaration</strong>: How to declare a task in Ada.</li>
<li><strong>Task Body</strong>: The implementation of the task's behavior.</li>
<li><strong>Task Activation</strong>: When and how tasks start executing.</li>
<li><strong>Task Termination</strong>: How tasks complete their execution.</li>
</ul>
</div><h1>Task Declaration and Body</h1>
<div class='content'><p>To declare a task in Ada, you use the <code>task</code> keyword. The task body defines what the task will do when it runs.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGFzayBNeV9UYXNrIGlzCiAgICAtLSBUYXNrIGRlY2xhcmF0aW9uCmVuZCBNeV9UYXNrOwoKdGFzayBib2R5IE15X1Rhc2sgaXMKYmVnaW4KICAgIC0tIFRhc2sgYm9keSAoaW1wbGVtZW50YXRpb24pCiAgICBmb3IgSSBpbiAxIC4uIDEwIGxvb3AKICAgICAgICBBZGEuVGV4dF9JTy5QdXRfTGluZSgiVGFzayBpcyBydW5uaW5nOiAiICYgSW50ZWdlcidJbWFnZShJKSk7CiAgICBlbmQgbG9vcDsKZW5kIE15X1Rhc2s7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>task My_Task is
    -- Task declaration
end My_Task;

task body My_Task is
begin
    -- Task body (implementation)
    for I in 1 .. 10 loop
        Ada.Text_IO.Put_Line(&quot;Task is running: &quot; &amp; Integer'Image(I));
    end loop;
end My_Task;</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>My_Task</code> is declared as a task.</li>
<li>The task body contains a loop that prints a message ten times.</li>
</ul>
</div><h1>Task Activation</h1>
<div class='content'><p>Tasks are activated automatically when the enclosing block or subprogram is elaborated. This means that tasks start running as soon as the program reaches the point where the task is declared.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvY2VkdXJlIE1haW4gaXMKICAgIHRhc2sgTXlfVGFzayBpcwogICAgZW5kIE15X1Rhc2s7CgogICAgdGFzayBib2R5IE15X1Rhc2sgaXMKICAgIGJlZ2luCiAgICAgICAgQWRhLlRleHRfSU8uUHV0X0xpbmUoIlRhc2sgaXMgYWN0aXZhdGVkISIpOwogICAgZW5kIE15X1Rhc2s7CmJlZ2luCiAgICBBZGEuVGV4dF9JTy5QdXRfTGluZSgiTWFpbiBwcm9jZWR1cmUgc3RhcnRlZC4iKTsKZW5kIE1haW47"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>procedure Main is
    task My_Task is
    end My_Task;

    task body My_Task is
    begin
        Ada.Text_IO.Put_Line(&quot;Task is activated!&quot;);
    end My_Task;
begin
    Ada.Text_IO.Put_Line(&quot;Main procedure started.&quot;);
end Main;</pre></div><div class='content'><p>Output:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TWFpbiBwcm9jZWR1cmUgc3RhcnRlZC4KVGFzayBpcyBhY3RpdmF0ZWQh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Main procedure started.
Task is activated!</pre></div><div class='content'></div><h1>Task Communication</h1>
<div class='content'><p>Tasks often need to communicate with each other. Ada provides several mechanisms for task communication, including protected objects and rendezvous.</p>
</div><h2>Protected Objects</h2>
<div class='content'><p>Protected objects provide a safe way for tasks to share data. They ensure that only one task can access the protected data at a time.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdGVjdGVkIFNoYXJlZF9EYXRhIGlzCiAgICBwcm9jZWR1cmUgV3JpdGUoVmFsdWUgOiBJbnRlZ2VyKTsKICAgIGZ1bmN0aW9uIFJlYWQgcmV0dXJuIEludGVnZXI7CnByaXZhdGUKICAgIERhdGEgOiBJbnRlZ2VyIDo9IDA7CmVuZCBTaGFyZWRfRGF0YTsKCnByb3RlY3RlZCBib2R5IFNoYXJlZF9EYXRhIGlzCiAgICBwcm9jZWR1cmUgV3JpdGUoVmFsdWUgOiBJbnRlZ2VyKSBpcwogICAgYmVnaW4KICAgICAgICBEYXRhIDo9IFZhbHVlOwogICAgZW5kIFdyaXRlOwoKICAgIGZ1bmN0aW9uIFJlYWQgcmV0dXJuIEludGVnZXIgaXMKICAgIGJlZ2luCiAgICAgICAgcmV0dXJuIERhdGE7CiAgICBlbmQgUmVhZDsKZW5kIFNoYXJlZF9EYXRhOwoKdGFzayBXcml0ZXIgaXMKZW5kIFdyaXRlcjsKCnRhc2sgYm9keSBXcml0ZXIgaXMKYmVnaW4KICAgIFNoYXJlZF9EYXRhLldyaXRlKDQyKTsKZW5kIFdyaXRlcjsKCnRhc2sgUmVhZGVyIGlzCmVuZCBSZWFkZXI7Cgp0YXNrIGJvZHkgUmVhZGVyIGlzCmJlZ2luCiAgICBBZGEuVGV4dF9JTy5QdXRfTGluZSgiUmVhZCB2YWx1ZTogIiAmIEludGVnZXInSW1hZ2UoU2hhcmVkX0RhdGEuUmVhZCkpOwplbmQgUmVhZGVyOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>protected Shared_Data is
    procedure Write(Value : Integer);
    function Read return Integer;
private
    Data : Integer := 0;
end Shared_Data;

protected body Shared_Data is
    procedure Write(Value : Integer) is
    begin
        Data := Value;
    end Write;

    function Read return Integer is
    begin
        return Data;
    end Read;
end Shared_Data;

task Writer is
end Writer;

task body Writer is
begin
    Shared_Data.Write(42);
end Writer;

task Reader is
end Reader;

task body Reader is
begin
    Ada.Text_IO.Put_Line(&quot;Read value: &quot; &amp; Integer'Image(Shared_Data.Read));
end Reader;</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>Shared_Data</code> is a protected object with a procedure to write data and a function to read data.</li>
<li><code>Writer</code> task writes a value to <code>Shared_Data</code>.</li>
<li><code>Reader</code> task reads the value from <code>Shared_Data</code>.</li>
</ul>
</div><h2>Rendezvous</h2>
<div class='content'><p>Rendezvous is a mechanism where one task can call an entry of another task, effectively allowing them to synchronize and exchange data.</p>
<h4>Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGFzayBTZXJ2ZXIgaXMKICAgIGVudHJ5IFJlcXVlc3QoVmFsdWUgOiBJbnRlZ2VyKTsKZW5kIFNlcnZlcjsKCnRhc2sgYm9keSBTZXJ2ZXIgaXMKYmVnaW4KICAgIGFjY2VwdCBSZXF1ZXN0KFZhbHVlIDogSW50ZWdlcikgZG8KICAgICAgICBBZGEuVGV4dF9JTy5QdXRfTGluZSgiU2VydmVyIHJlY2VpdmVkOiAiICYgSW50ZWdlcidJbWFnZShWYWx1ZSkpOwogICAgZW5kIFJlcXVlc3Q7CmVuZCBTZXJ2ZXI7Cgp0YXNrIENsaWVudCBpcwplbmQgQ2xpZW50OwoKdGFzayBib2R5IENsaWVudCBpcwpiZWdpbgogICAgU2VydmVyLlJlcXVlc3QoOTkpOwplbmQgQ2xpZW50Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>task Server is
    entry Request(Value : Integer);
end Server;

task body Server is
begin
    accept Request(Value : Integer) do
        Ada.Text_IO.Put_Line(&quot;Server received: &quot; &amp; Integer'Image(Value));
    end Request;
end Server;

task Client is
end Client;

task body Client is
begin
    Server.Request(99);
end Client;</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>Server</code> task has an entry <code>Request</code> that can be called by other tasks.</li>
<li><code>Client</code> task calls the <code>Request</code> entry of <code>Server</code>, passing the value <code>99</code>.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Concurrency in Ada is a powerful feature that allows you to write programs that can perform multiple tasks simultaneously. By understanding task declaration, activation, communication, and synchronization mechanisms like protected objects and rendezvous, you can effectively manage concurrent operations in your Ada programs.</p>
<p>In the next sections, we will delve deeper into advanced concurrency control mechanisms and best practices for writing efficient and safe concurrent programs in Ada.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='exception-handling'>&#x25C4;Exception Handling</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Concurrency: Tasks</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protected-objects'>Protected Objects &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
