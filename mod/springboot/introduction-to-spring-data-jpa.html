<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Spring Data JPA</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/introduction-to-spring-data-jpa" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/introduction-to-spring-data-jpa" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/introduction-to-spring-data-jpa" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/springboot/introduction-to-spring-data-jpa" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/springboot/introduction-to-spring-data-jpa" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='exception-handling-in-spring-boot'>&#x25C4;Exception Handling in Spring Boot</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Spring Data JPA</a>
	</div>
	<div class='col-4 text-end'>
					<a href='configuring-data-sources'>Configuring Data Sources &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Overview</h1>
<div class='content'><p>Spring Data JPA is a part of the larger Spring Data family, which makes it easier to implement JPA-based repositories. It significantly reduces the amount of boilerplate code required to implement data access layers for various persistence stores.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>JPA (Java Persistence API)</strong>: A specification for accessing, persisting, and managing data between Java objects and relational databases.</li>
<li><strong>Spring Data JPA</strong>: A part of the Spring Data project that makes it easier to work with JPA repositories.</li>
<li><strong>Repositories</strong>: Interfaces that provide CRUD operations and more complex queries.</li>
<li><strong>Entities</strong>: Java classes that map to database tables.</li>
<li><strong>Annotations</strong>: Used to define mappings between Java classes and database tables.</li>
</ul>
</div><h1>Setting Up Spring Data JPA</h1>
<div class='content'><p>To start using Spring Data JPA, you need to include the necessary dependencies in your <code>pom.xml</code> if you are using Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWRhdGEtanBhPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+CjxkZXBlbmRlbmN5PgogICAgPGdyb3VwSWQ+Y29tLmgyZGF0YWJhc2U8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5oMjwvYXJ0aWZhY3RJZD4KICAgIDxzY29wZT5ydW50aW1lPC9zY29wZT4KPC9kZXBlbmRlbmN5Pg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.h2database&lt;/groupId&gt;
    &lt;artifactId&gt;h2&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h1>Configuring the Data Source</h1>
<div class='content'><p>You need to configure the data source in your <code>application.properties</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nLmRhdGFzb3VyY2UudXJsPWpkYmM6aDI6bWVtOnRlc3RkYgpzcHJpbmcuZGF0YXNvdXJjZS5kcml2ZXJDbGFzc05hbWU9b3JnLmgyLkRyaXZlcgpzcHJpbmcuZGF0YXNvdXJjZS51c2VybmFtZT1zYQpzcHJpbmcuZGF0YXNvdXJjZS5wYXNzd29yZD1wYXNzd29yZApzcHJpbmcuanBhLmRhdGFiYXNlLXBsYXRmb3JtPW9yZy5oaWJlcm5hdGUuZGlhbGVjdC5IMkRpYWxlY3QKc3ByaW5nLmgyLmNvbnNvbGUuZW5hYmxlZD10cnVl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true</pre></div><div class='content'></div><h1>Defining an Entity</h1>
<div class='content'><p>Entities are simple Java classes annotated with <code>@Entity</code> and other JPA annotations:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkdlbmVyYXRlZFZhbHVlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuR2VuZXJhdGlvblR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5JZDsKCkBFbnRpdHkKcHVibGljIGNsYXNzIFVzZXIgewogICAgQElkCiAgICBAR2VuZXJhdGVkVmFsdWUoc3RyYXRlZ3kgPSBHZW5lcmF0aW9uVHlwZS5JREVOVElUWSkKICAgIHByaXZhdGUgTG9uZyBpZDsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIFN0cmluZyBlbWFpbDsKCiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String email;

    // Getters and Setters
}</pre></div><div class='content'></div><h1>Creating a Repository</h1>
<div class='content'><p>Repositories are interfaces that extend <code>JpaRepository</code> or <code>CrudRepository</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgLy8gQ3VzdG9tIHF1ZXJ5IG1ldGhvZHMgY2FuIGJlIGRlZmluZWQgaGVyZQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.jpa.repository.JpaRepository;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // Custom query methods can be defined here
}</pre></div><div class='content'></div><h1>Using the Repository</h1>
<div class='content'><p>You can use the repository in your service or controller classes:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYmVhbnMuZmFjdG9yeS5hbm5vdGF0aW9uLkF1dG93aXJlZDsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIFVzZXJTZXJ2aWNlIHsKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgVXNlclJlcG9zaXRvcnkgdXNlclJlcG9zaXRvcnk7CgogICAgcHVibGljIExpc3Q8VXNlcj4gZ2V0QWxsVXNlcnMoKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LmZpbmRBbGwoKTsKICAgIH0KCiAgICBwdWJsaWMgVXNlciBnZXRVc2VyQnlJZChMb25nIGlkKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKGlkKS5vckVsc2UobnVsbCk7CiAgICB9CgogICAgcHVibGljIFVzZXIgc2F2ZVVzZXIoVXNlciB1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LnNhdmUodXNlcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGVsZXRlVXNlcihMb25nIGlkKSB7CiAgICAgICAgdXNlclJlcG9zaXRvcnkuZGVsZXRlQnlJZChpZCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;

    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    public User getUserById(Long id) {
        return userRepository.findById(id).orElse(null);
    }

    public User saveUser(User user) {
        return userRepository.save(user);
    }

    public void deleteUser(Long id) {
        userRepository.deleteById(id);
    }
}</pre></div><div class='content'></div><h1>Custom Query Methods</h1>
<div class='content'><p>Spring Data JPA allows you to define custom query methods by simply declaring method signatures in the repository interface:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5MaXN0OwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgTGlzdDxVc2VyPiBmaW5kQnlOYW1lKFN0cmluZyBuYW1lKTsKICAgIExpc3Q8VXNlcj4gZmluZEJ5RW1haWxDb250YWluaW5nKFN0cmluZyBlbWFpbCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.List;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    List&lt;User&gt; findByName(String name);
    List&lt;User&gt; findByEmailContaining(String email);
}</pre></div><div class='content'></div><h1>Advanced Topics</h1>
<div class='content'><ul>
<li><strong>JPQL (Java Persistence Query Language)</strong>: Used for writing custom queries.</li>
<li><strong>Criteria API</strong>: A programmatic way to create queries.</li>
<li><strong>Auditing</strong>: Automatically populating audit-related fields like createdDate, lastModifiedDate.</li>
<li><strong>Pagination and Sorting</strong>: Handling large datasets efficiently.</li>
</ul>
</div><h2>Example of JPQL Query</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5RdWVyeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5yZXBvc2l0b3J5LnF1ZXJ5LlBhcmFtOwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgQFF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVzZXIgdSBXSEVSRSB1LmVtYWlsID0gOmVtYWlsIikKICAgIFVzZXIgZmluZFVzZXJCeUVtYWlsKEBQYXJhbSgiZW1haWwiKSBTdHJpbmcgZW1haWwpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    @Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)
    User findUserByEmail(@Param(&quot;email&quot;) String email);
}</pre></div><div class='content'></div><h2>Example of Pagination and Sorting</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5kb21haW4uUGFnZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5kb21haW4uUGFnZWFibGU7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmRhdGEuZG9tYWluLlNvcnQ7CgpwdWJsaWMgaW50ZXJmYWNlIFVzZXJSZXBvc2l0b3J5IGV4dGVuZHMgSnBhUmVwb3NpdG9yeTxVc2VyLCBMb25nPiB7CiAgICBQYWdlPFVzZXI+IGZpbmRBbGwoUGFnZWFibGUgcGFnZWFibGUpOwogICAgTGlzdDxVc2VyPiBmaW5kQWxsKFNvcnQgc29ydCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.domain.Sort;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    Page&lt;User&gt; findAll(Pageable pageable);
    List&lt;User&gt; findAll(Sort sort);
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Spring Data JPA simplifies the implementation of data access layers by providing a repository abstraction over JPA. It reduces boilerplate code and allows developers to focus on the business logic. By understanding the basics of entities, repositories, and custom queries, you can efficiently manage data in your Spring Boot applications. Advanced features like JPQL, Criteria API, and auditing further enhance the capabilities of Spring Data JPA, making it a powerful tool for any Java developer.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='exception-handling-in-spring-boot'>&#x25C4;Exception Handling in Spring Boot</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Spring Data JPA</a>
	</div>
	<div class='col-4 text-end'>
					<a href='configuring-data-sources'>Configuring Data Sources &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
