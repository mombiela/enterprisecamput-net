<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Common Pitfalls and How to Avoid Them</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/10-02-common-pitfalls" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/10-02-common-pitfalls" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/10-02-common-pitfalls" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/springboot/10-02-common-pitfalls" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/springboot/10-02-common-pitfalls" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-01-spring-boot-best-practices' title="Spring Boot Best Practices">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Common Pitfalls and How to Avoid Them</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-03-tips-writing-clean-code' title="Tips for Writing Clean Code">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore some common pitfalls that developers encounter when working with Spring Boot and provide strategies to avoid them. Understanding these pitfalls will help you write more robust, maintainable, and efficient Spring Boot applications.</p>
</div><h1>1. Misconfiguring Application Properties</h1>
<div class='content'></div><h2>Pitfall</h2>
<div class='content'><p>Misconfiguring application properties can lead to unexpected behavior, application crashes, or security vulnerabilities.</p>
</div><h2>How to Avoid</h2>
<div class='content'><ul>
<li><strong>Use Profiles:</strong> Utilize Spring Boot profiles to manage different configurations for different environments (e.g., development, testing, production).</li>
<li><strong>Validation:</strong> Validate your configuration properties using <code>@ConfigurationProperties</code> and <code>@Validated</code>.</li>
<li><strong>Documentation:</strong> Keep your application properties well-documented and organized.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHBsaWNhdGlvbi55bWwKc3ByaW5nOgogIHByb2ZpbGVzOgogICAgYWN0aXZlOiBkZXYKCiMgYXBwbGljYXRpb24tZGV2LnltbApzZXJ2ZXI6CiAgcG9ydDogODA4MAoKIyBhcHBsaWNhdGlvbi1wcm9kLnltbApzZXJ2ZXI6CiAgcG9ydDogODA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># application.yml
spring:
  profiles:
    active: dev

# application-dev.yml
server:
  port: 8080

# application-prod.yml
server:
  port: 80</pre></div><div class='content'></div><h1>2. Ignoring Dependency Injection Best Practices</h1>
<div class='content'></div><h2>Pitfall</h2>
<div class='content'><p>Improper use of dependency injection can lead to tightly coupled code, making it difficult to test and maintain.</p>
</div><h2>How to Avoid</h2>
<div class='content'><ul>
<li><strong>Constructor Injection:</strong> Prefer constructor injection over field injection for mandatory dependencies.</li>
<li><strong>Optional Dependencies:</strong> Use setter injection for optional dependencies.</li>
<li><strong>Avoid Circular Dependencies:</strong> Be cautious of circular dependencies and refactor your code to avoid them.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uc3RydWN0b3IgSW5qZWN0aW9uCkBTZXJ2aWNlCnB1YmxpYyBjbGFzcyBNeVNlcnZpY2UgewogICAgcHJpdmF0ZSBmaW5hbCBNeVJlcG9zaXRvcnkgbXlSZXBvc2l0b3J5OwoKICAgIEBBdXRvd2lyZWQKICAgIHB1YmxpYyBNeVNlcnZpY2UoTXlSZXBvc2l0b3J5IG15UmVwb3NpdG9yeSkgewogICAgICAgIHRoaXMubXlSZXBvc2l0b3J5ID0gbXlSZXBvc2l0b3J5OwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Constructor Injection
@Service
public class MyService {
    private final MyRepository myRepository;

    @Autowired
    public MyService(MyRepository myRepository) {
        this.myRepository = myRepository;
    }
}</pre></div><div class='content'></div><h1>3. Overlooking Exception Handling</h1>
<div class='content'></div><h2>Pitfall</h2>
<div class='content'><p>Failing to handle exceptions properly can result in poor user experience and unhandled errors.</p>
</div><h2>How to Avoid</h2>
<div class='content'><ul>
<li><strong>Global Exception Handling:</strong> Use <code>@ControllerAdvice</code> to handle exceptions globally.</li>
<li><strong>Custom Exceptions:</strong> Define custom exceptions for specific error scenarios.</li>
<li><strong>Logging:</strong> Ensure all exceptions are logged appropriately.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR2xvYmFsIEV4Y2VwdGlvbiBIYW5kbGVyCkBDb250cm9sbGVyQWR2aWNlCnB1YmxpYyBjbGFzcyBHbG9iYWxFeGNlcHRpb25IYW5kbGVyIHsKCiAgICBARXhjZXB0aW9uSGFuZGxlcihSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLmNsYXNzKQogICAgcHVibGljIFJlc3BvbnNlRW50aXR5PFN0cmluZz4gaGFuZGxlUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbihSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZUVudGl0eTw+KGV4LmdldE1lc3NhZ2UoKSwgSHR0cFN0YXR1cy5OT1RfRk9VTkQpOwogICAgfQoKICAgIEBFeGNlcHRpb25IYW5kbGVyKEV4Y2VwdGlvbi5jbGFzcykKICAgIHB1YmxpYyBSZXNwb25zZUVudGl0eTxTdHJpbmc+IGhhbmRsZUdlbmVyaWNFeGNlcHRpb24oRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZUVudGl0eTw+KCJBbiBlcnJvciBvY2N1cnJlZCIsIEh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Global Exception Handler
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(ResourceNotFoundException.class)
    public ResponseEntity&lt;String&gt; handleResourceNotFoundException(ResourceNotFoundException ex) {
        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.NOT_FOUND);
    }

    @ExceptionHandler(Exception.class)
    public ResponseEntity&lt;String&gt; handleGenericException(Exception ex) {
        return new ResponseEntity&lt;&gt;(&quot;An error occurred&quot;, HttpStatus.INTERNAL_SERVER_ERROR);
    }
}</pre></div><div class='content'></div><h1>4. Inefficient Database Access</h1>
<div class='content'></div><h2>Pitfall</h2>
<div class='content'><p>Inefficient database access can lead to performance issues and increased load on the database.</p>
</div><h2>How to Avoid</h2>
<div class='content'><ul>
<li><strong>Use Pagination:</strong> Implement pagination for queries that return large datasets.</li>
<li><strong>Optimize Queries:</strong> Use appropriate indexes and optimize your queries.</li>
<li><strong>Batch Processing:</strong> Use batch processing for bulk operations.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUGFnaW5hdGlvbiBFeGFtcGxlCnB1YmxpYyBpbnRlcmZhY2UgVXNlclJlcG9zaXRvcnkgZXh0ZW5kcyBKcGFSZXBvc2l0b3J5PFVzZXIsIExvbmc+IHsKICAgIFBhZ2U8VXNlcj4gZmluZEFsbChQYWdlYWJsZSBwYWdlYWJsZSk7Cn0KCi8vIFNlcnZpY2UgTWV0aG9kCnB1YmxpYyBQYWdlPFVzZXI+IGdldFVzZXJzKGludCBwYWdlLCBpbnQgc2l6ZSkgewogICAgUGFnZWFibGUgcGFnZWFibGUgPSBQYWdlUmVxdWVzdC5vZihwYWdlLCBzaXplKTsKICAgIHJldHVybiB1c2VyUmVwb3NpdG9yeS5maW5kQWxsKHBhZ2VhYmxlKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Pagination Example
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    Page&lt;User&gt; findAll(Pageable pageable);
}

// Service Method
public Page&lt;User&gt; getUsers(int page, int size) {
    Pageable pageable = PageRequest.of(page, size);
    return userRepository.findAll(pageable);
}</pre></div><div class='content'></div><h1>5. Ignoring Security Best Practices</h1>
<div class='content'></div><h2>Pitfall</h2>
<div class='content'><p>Ignoring security best practices can expose your application to various security threats.</p>
</div><h2>How to Avoid</h2>
<div class='content'><ul>
<li><strong>Secure Endpoints:</strong> Use Spring Security to secure your endpoints.</li>
<li><strong>Input Validation:</strong> Validate all user inputs to prevent injection attacks.</li>
<li><strong>Use HTTPS:</strong> Always use HTTPS to encrypt data in transit.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2VjdXJpbmcgRW5kcG9pbnRzCkBFbmFibGVXZWJTZWN1cml0eQpwdWJsaWMgY2xhc3MgU2VjdXJpdHlDb25maWcgZXh0ZW5kcyBXZWJTZWN1cml0eUNvbmZpZ3VyZXJBZGFwdGVyIHsKCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIGNvbmZpZ3VyZShIdHRwU2VjdXJpdHkgaHR0cCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaHR0cAogICAgICAgICAgICAuYXV0aG9yaXplUmVxdWVzdHMoKQogICAgICAgICAgICAgICAgLmFudE1hdGNoZXJzKCIvcHVibGljLyoqIikucGVybWl0QWxsKCkKICAgICAgICAgICAgICAgIC5hbnlSZXF1ZXN0KCkuYXV0aGVudGljYXRlZCgpCiAgICAgICAgICAgIC5hbmQoKQogICAgICAgICAgICAuZm9ybUxvZ2luKCkucGVybWl0QWxsKCkKICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgICAgIC5sb2dvdXQoKS5wZXJtaXRBbGwoKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Securing Endpoints
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            .authorizeRequests()
                .antMatchers(&quot;/public/**&quot;).permitAll()
                .anyRequest().authenticated()
            .and()
            .formLogin().permitAll()
            .and()
            .logout().permitAll();
    }
}</pre></div><div class='content'></div><h1>6. Not Writing Tests</h1>
<div class='content'></div><h2>Pitfall</h2>
<div class='content'><p>Not writing tests can lead to fragile code and make it difficult to catch bugs early.</p>
</div><h2>How to Avoid</h2>
<div class='content'><ul>
<li><strong>Unit Tests:</strong> Write unit tests for individual components.</li>
<li><strong>Integration Tests:</strong> Write integration tests to test the interaction between components.</li>
<li><strong>Test Coverage:</strong> Aim for high test coverage to ensure all critical paths are tested.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVW5pdCBUZXN0IEV4YW1wbGUKQFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3QKcHVibGljIGNsYXNzIE15U2VydmljZVRlc3QgewoKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgTXlTZXJ2aWNlIG15U2VydmljZTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFNlcnZpY2VNZXRob2QoKSB7CiAgICAgICAgU3RyaW5nIHJlc3VsdCA9IG15U2VydmljZS5zZXJ2aWNlTWV0aG9kKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJFeHBlY3RlZCBSZXN1bHQiLCByZXN1bHQpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Unit Test Example
@RunWith(SpringRunner.class)
@SpringBootTest
public class MyServiceTest {

    @Autowired
    private MyService myService;

    @Test
    public void testServiceMethod() {
        String result = myService.serviceMethod();
        assertEquals(&quot;Expected Result&quot;, result);
    }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>By being aware of these common pitfalls and implementing the suggested strategies, you can avoid many of the issues that developers face when working with Spring Boot. This will help you build more reliable, maintainable, and efficient applications. In the next section, we will explore tips for writing clean code to further enhance the quality of your Spring Boot projects.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-01-spring-boot-best-practices' title="Spring Boot Best Practices">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-03-tips-writing-clean-code' title="Tips for Writing Clean Code">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
