<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Spring Security</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/05-01-introduction-spring-security" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/05-01-introduction-spring-security" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/05-01-introduction-spring-security" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/springboot/05-01-introduction-spring-security" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/springboot/05-01-introduction-spring-security" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-05-query-methods-spring-data-jpa' title="Query Methods in Spring Data JPA">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Introduction to Spring Security</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-02-configuring-spring-security' title="Configuring Spring Security">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Spring Security is a powerful and highly customizable authentication and access-control framework for Java applications. It is the de-facto standard for securing Spring-based applications. In this section, we will cover the basics of Spring Security, its core concepts, and how to integrate it into a Spring Boot application.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Authentication</strong>: The process of verifying the identity of a user or system.</li>
<li><strong>Authorization</strong>: The process of determining whether an authenticated user has the necessary permissions to perform a specific action.</li>
<li><strong>Principal</strong>: The currently authenticated user.</li>
<li><strong>Granted Authority</strong>: A permission or role assigned to a principal.</li>
<li><strong>Security Context</strong>: Holds the security information of the current user, including authentication and granted authorities.</li>
</ol>
</div><h1><p>Why Use Spring Security?</p>
</h1>
<div class='content'><ul>
<li><strong>Comprehensive Security</strong>: Provides a wide range of security features, including authentication, authorization, and protection against common attacks (e.g., CSRF, XSS).</li>
<li><strong>Integration</strong>: Seamlessly integrates with Spring applications.</li>
<li><strong>Customization</strong>: Highly customizable to meet specific security requirements.</li>
<li><strong>Community Support</strong>: Backed by a large community and extensive documentation.</li>
</ul>
</div><h1><p>Setting Up Spring Security in a Spring Boot Application</p>
</h1>
<div class='content'></div><h2><p>Step 1: Add Spring Security Dependency</p>
</h2>
<div class='content'><p>First, add the Spring Security dependency to your <code>pom.xml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXNlY3VyaXR5PC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2><p>Step 2: Configure Spring Security</p>
</h2>
<div class='content'><p>Create a configuration class to set up Spring Security. This class should extend <code>WebSecurityConfigurerAdapter</code> and override the necessary methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY29udGV4dC5hbm5vdGF0aW9uLkNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvbmZpZy5hbm5vdGF0aW9uLndlYi5idWlsZGVycy5IdHRwU2VjdXJpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvbmZpZy5hbm5vdGF0aW9uLndlYi5jb25maWd1cmF0aW9uLkVuYWJsZVdlYlNlY3VyaXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb25maWcuYW5ub3RhdGlvbi53ZWIuY29uZmlndXJhdGlvbi5XZWJTZWN1cml0eUNvbmZpZ3VyZXJBZGFwdGVyOwoKQENvbmZpZ3VyYXRpb24KQEVuYWJsZVdlYlNlY3VyaXR5CnB1YmxpYyBjbGFzcyBTZWN1cml0eUNvbmZpZyBleHRlbmRzIFdlYlNlY3VyaXR5Q29uZmlndXJlckFkYXB0ZXIgewoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgY29uZmlndXJlKEh0dHBTZWN1cml0eSBodHRwKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBodHRwCiAgICAgICAgICAgIC5hdXRob3JpemVSZXF1ZXN0cygpCiAgICAgICAgICAgICAgICAuYW55UmVxdWVzdCgpLmF1dGhlbnRpY2F0ZWQoKQogICAgICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgICAgIC5mb3JtTG9naW4oKQogICAgICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgICAgIC5odHRwQmFzaWMoKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            .authorizeRequests()
                .anyRequest().authenticated()
                .and()
            .formLogin()
                .and()
            .httpBasic();
    }
}</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><strong>@Configuration</strong>: Indicates that this class contains Spring configuration.</li>
<li><strong>@EnableWebSecurity</strong>: Enables Spring Securityâ€™s web security support.</li>
<li><strong>authorizeRequests()</strong>: Configures authorization for HTTP requests.</li>
<li><strong>anyRequest().authenticated()</strong>: Requires authentication for any request.</li>
<li><strong>formLogin()</strong>: Enables form-based login.</li>
<li><strong>httpBasic()</strong>: Enables HTTP Basic authentication.</li>
</ul>
</div><h2><p>Step 3: Run the Application</p>
</h2>
<div class='content'><p>Run your Spring Boot application. By default, Spring Security will secure all endpoints and provide a default login page. The default username is <code>user</code>, and the password is generated at runtime and printed in the console.</p>
</div><h1><p>Practical Example</p>
</h1>
<div class='content'><p>Let's create a simple Spring Boot application with a secured endpoint.</p>
</div><h2><p>Step 1: Create a Spring Boot Application</p>
</h2>
<div class='content'><p>Use Spring Initializr to create a new Spring Boot project with the following dependencies:</p>
<ul>
<li>Spring Web</li>
<li>Spring Security</li>
</ul>
</div><h2><p>Step 2: Create a Controller</p>
</h2>
<div class='content'><p>Create a simple REST controller with a secured endpoint.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5HZXRNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlc3RDb250cm9sbGVyOwoKQFJlc3RDb250cm9sbGVyCnB1YmxpYyBjbGFzcyBIZWxsb0NvbnRyb2xsZXIgewoKICAgIEBHZXRNYXBwaW5nKCIvaGVsbG8iKQogICAgcHVibGljIFN0cmluZyBoZWxsbygpIHsKICAgICAgICByZXR1cm4gIkhlbGxvLCBXb3JsZCEiOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloController {

    @GetMapping(&quot;/hello&quot;)
    public String hello() {
        return &quot;Hello, World!&quot;;
    }
}</pre></div><div class='content'></div><h2><p>Step 3: Configure Security</p>
</h2>
<div class='content'><p>Create the <code>SecurityConfig</code> class as shown earlier.</p>
</div><h2><p>Step 4: Run the Application</p>
</h2>
<div class='content'><p>Run the application and navigate to <code>http://localhost:8080/hello</code>. You will be prompted to log in. Use the default credentials (<code>user</code> and the generated password) to access the endpoint.</p>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Custom Login Page</p>
</h2>
<div class='content'><p>Modify the <code>SecurityConfig</code> class to use a custom login page.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QE92ZXJyaWRlCnByb3RlY3RlZCB2b2lkIGNvbmZpZ3VyZShIdHRwU2VjdXJpdHkgaHR0cCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICBodHRwCiAgICAgICAgLmF1dGhvcml6ZVJlcXVlc3RzKCkKICAgICAgICAgICAgLmFueVJlcXVlc3QoKS5hdXRoZW50aWNhdGVkKCkKICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgLmZvcm1Mb2dpbigpCiAgICAgICAgICAgIC5sb2dpblBhZ2UoIi9sb2dpbiIpCiAgICAgICAgICAgIC5wZXJtaXRBbGwoKQogICAgICAgICAgICAuYW5kKCkKICAgICAgICAuaHR0cEJhc2ljKCk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Override
protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()
            .anyRequest().authenticated()
            .and()
        .formLogin()
            .loginPage(&quot;/login&quot;)
            .permitAll()
            .and()
        .httpBasic();
}</pre></div><div class='content'><p>Create a simple login page (<code>src/main/resources/templates/login.html</code>):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5Mb2dpbjwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+TG9naW48L2gxPgogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii9sb2dpbiI+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGxhYmVsPlVzZXJuYW1lOjwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSIvPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxsYWJlbD5QYXNzd29yZDo8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIi8+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiPkxvZ2luPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Login&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Login&lt;/h1&gt;
    &lt;form method=&quot;post&quot; action=&quot;/login&quot;&gt;
        &lt;div&gt;
            &lt;label&gt;Username:&lt;/label&gt;
            &lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;label&gt;Password:&lt;/label&gt;
            &lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2><p>Solution</p>
</h2>
<div class='content'><ul>
<li>Update the <code>SecurityConfig</code> class as shown above.</li>
<li>Create the <code>login.html</code> file in the <code>templates</code> directory.</li>
</ul>
</div><h2><p>Exercise 2: Role-Based Authorization</p>
</h2>
<div class='content'><p>Modify the <code>SecurityConfig</code> class to restrict access to the <code>/admin</code> endpoint to users with the <code>ADMIN</code> role.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QE92ZXJyaWRlCnByb3RlY3RlZCB2b2lkIGNvbmZpZ3VyZShIdHRwU2VjdXJpdHkgaHR0cCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICBodHRwCiAgICAgICAgLmF1dGhvcml6ZVJlcXVlc3RzKCkKICAgICAgICAgICAgLmFudE1hdGNoZXJzKCIvYWRtaW4iKS5oYXNSb2xlKCJBRE1JTiIpCiAgICAgICAgICAgIC5hbnlSZXF1ZXN0KCkuYXV0aGVudGljYXRlZCgpCiAgICAgICAgICAgIC5hbmQoKQogICAgICAgIC5mb3JtTG9naW4oKQogICAgICAgICAgICAucGVybWl0QWxsKCkKICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgLmh0dHBCYXNpYygpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Override
protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()
            .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)
            .anyRequest().authenticated()
            .and()
        .formLogin()
            .permitAll()
            .and()
        .httpBasic();
}</pre></div><div class='content'><p>Create a new controller with an <code>/admin</code> endpoint.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5HZXRNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlc3RDb250cm9sbGVyOwoKQFJlc3RDb250cm9sbGVyCnB1YmxpYyBjbGFzcyBBZG1pbkNvbnRyb2xsZXIgewoKICAgIEBHZXRNYXBwaW5nKCIvYWRtaW4iKQogICAgcHVibGljIFN0cmluZyBhZG1pbigpIHsKICAgICAgICByZXR1cm4gIkFkbWluIFBhZ2UiOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class AdminController {

    @GetMapping(&quot;/admin&quot;)
    public String admin() {
        return &quot;Admin Page&quot;;
    }
}</pre></div><div class='content'></div><h2><p>Solution</p>
</h2>
<div class='content'><ul>
<li>Update the <code>SecurityConfig</code> class as shown above.</li>
<li>Create the <code>AdminController</code> class with the <code>/admin</code> endpoint.</li>
</ul>
</div><h1><p>Summary</p>
</h1>
<div class='content'><p>In this section, we introduced Spring Security and its core concepts. We demonstrated how to set up Spring Security in a Spring Boot application, configure basic authentication, and create a custom login page. We also provided practical exercises to reinforce the learned concepts. In the next section, we will delve deeper into configuring Spring Security and implementing user authentication and authorization.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-05-query-methods-spring-data-jpa' title="Query Methods in Spring Data JPA">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-02-configuring-spring-security' title="Configuring Spring Security">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
