<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Spring Security</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/introduction-to-spring-security" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/introduction-to-spring-security" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/introduction-to-spring-security" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/springboot/introduction-to-spring-security" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/springboot/introduction-to-spring-security" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='pagination-and-sorting'>&#x25C4;Pagination and Sorting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Spring Security</a>
	</div>
	<div class='col-4 text-end'>
					<a href='securing-restful-web-services'>Securing RESTful Web Services &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Spring Security is a powerful and highly customizable authentication and access-control framework for Java applications. It is the de-facto standard for securing Spring-based applications. This section will guide you through the basics of Spring Security, from setting up to advanced configurations.</p>
</div><h1>What is Spring Security?</h1>
<div class='content'><p>Spring Security is a framework that focuses on providing both authentication and authorization to Java applications. It is a part of the larger Spring Framework ecosystem and integrates seamlessly with Spring Boot.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Authentication</strong>: Verifying the identity of a user or system.</li>
<li><strong>Authorization</strong>: Determining whether an authenticated user has permission to perform a specific action.</li>
<li><strong>Principal</strong>: The currently authenticated user.</li>
<li><strong>Granted Authority</strong>: A permission or role assigned to a principal.</li>
<li><strong>Security Context</strong>: Holds the authentication information of the current user.</li>
</ul>
</div><h1>Setting Up Spring Security</h1>
<div class='content'><p>To get started with Spring Security in a Spring Boot application, you need to add the Spring Security dependency to your project.</p>
</div><h2>Adding Dependencies</h2>
<div class='content'><p>Add the following dependency to your <code>pom.xml</code> if you are using Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXNlY3VyaXR5PC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'><p>For Gradle, add the following line to your <code>build.gradle</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wbGVtZW50YXRpb24gJ29yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdDpzcHJpbmctYm9vdC1zdGFydGVyLXNlY3VyaXR5Jw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>implementation 'org.springframework.boot:spring-boot-starter-security'</pre></div><div class='content'></div><h1>Basic Configuration</h1>
<div class='content'><p>By default, Spring Security secures all endpoints in your application. To customize the security settings, you need to create a configuration class.</p>
</div><h2>Creating a Security Configuration Class</h2>
<div class='content'><p>Create a class that extends <code>WebSecurityConfigurerAdapter</code> and override the <code>configure</code> methods to customize the security settings.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY29udGV4dC5hbm5vdGF0aW9uLkNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvbmZpZy5hbm5vdGF0aW9uLndlYi5idWlsZGVycy5IdHRwU2VjdXJpdHk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvbmZpZy5hbm5vdGF0aW9uLndlYi5jb25maWd1cmF0aW9uLkVuYWJsZVdlYlNlY3VyaXR5OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5jb25maWcuYW5ub3RhdGlvbi53ZWIuY29uZmlndXJhdGlvbi5XZWJTZWN1cml0eUNvbmZpZ3VyZXJBZGFwdGVyOwoKQENvbmZpZ3VyYXRpb24KQEVuYWJsZVdlYlNlY3VyaXR5CnB1YmxpYyBjbGFzcyBTZWN1cml0eUNvbmZpZyBleHRlbmRzIFdlYlNlY3VyaXR5Q29uZmlndXJlckFkYXB0ZXIgewoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgY29uZmlndXJlKEh0dHBTZWN1cml0eSBodHRwKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBodHRwCiAgICAgICAgICAgIC5hdXRob3JpemVSZXF1ZXN0cygpCiAgICAgICAgICAgICAgICAuYW50TWF0Y2hlcnMoIi9wdWJsaWMvKioiKS5wZXJtaXRBbGwoKSAvLyBBbGxvdyBhY2Nlc3MgdG8gcHVibGljIGVuZHBvaW50cwogICAgICAgICAgICAgICAgLmFueVJlcXVlc3QoKS5hdXRoZW50aWNhdGVkKCkgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBmb3IgYWxsIG90aGVyIGVuZHBvaW50cwogICAgICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgICAgIC5mb3JtTG9naW4oKSAvLyBFbmFibGUgZm9ybS1iYXNlZCBsb2dpbgogICAgICAgICAgICAgICAgLmxvZ2luUGFnZSgiL2xvZ2luIikgLy8gQ3VzdG9tIGxvZ2luIHBhZ2UKICAgICAgICAgICAgICAgIC5wZXJtaXRBbGwoKQogICAgICAgICAgICAgICAgLmFuZCgpCiAgICAgICAgICAgIC5sb2dvdXQoKSAvLyBFbmFibGUgbG9nb3V0CiAgICAgICAgICAgICAgICAucGVybWl0QWxsKCk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;

@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
            .authorizeRequests()
                .antMatchers(&quot;/public/**&quot;).permitAll() // Allow access to public endpoints
                .anyRequest().authenticated() // Require authentication for all other endpoints
                .and()
            .formLogin() // Enable form-based login
                .loginPage(&quot;/login&quot;) // Custom login page
                .permitAll()
                .and()
            .logout() // Enable logout
                .permitAll();
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>@Configuration</code> and <code>@EnableWebSecurity</code>: These annotations indicate that this class is a configuration class and enable Spring Security.</li>
<li><code>authorizeRequests()</code>: Configures URL-based authorization.
<ul>
<li><code>antMatchers(&quot;/public/**&quot;).permitAll()</code>: Allows access to all URLs under <code>/public/</code> without authentication.</li>
<li><code>anyRequest().authenticated()</code>: Requires authentication for any other request.</li>
</ul>
</li>
<li><code>formLogin()</code>: Enables form-based login.
<ul>
<li><code>loginPage(&quot;/login&quot;)</code>: Specifies a custom login page.</li>
<li><code>permitAll()</code>: Allows everyone to access the login page.</li>
</ul>
</li>
<li><code>logout()</code>: Enables logout functionality.</li>
</ul>
</div><h1>Advanced Configuration</h1>
<div class='content'><p>Spring Security provides various advanced features such as custom user details service, method-level security, and more.</p>
</div><h2>Custom UserDetailsService</h2>
<div class='content'><p>To use a custom user details service, you need to implement the <code>UserDetailsService</code> interface and override the <code>loadUserByUsername</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyRGV0YWlsczsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuY29yZS51c2VyZGV0YWlscy5Vc2VyRGV0YWlsc1NlcnZpY2U7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlcm5hbWVOb3RGb3VuZEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIEN1c3RvbVVzZXJEZXRhaWxzU2VydmljZSBpbXBsZW1lbnRzIFVzZXJEZXRhaWxzU2VydmljZSB7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgVXNlckRldGFpbHMgbG9hZFVzZXJCeVVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkgdGhyb3dzIFVzZXJuYW1lTm90Rm91bmRFeGNlcHRpb24gewogICAgICAgIC8vIEZldGNoIHVzZXIgZnJvbSBkYXRhYmFzZSBvciBhbnkgb3RoZXIgc291cmNlCiAgICAgICAgLy8gRm9yIHNpbXBsaWNpdHksIHdlIGFyZSB1c2luZyBhIGhhcmRjb2RlZCB1c2VyCiAgICAgICAgaWYgKCJ1c2VyIi5lcXVhbHModXNlcm5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiBvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmNvcmUudXNlcmRldGFpbHMuVXNlcgogICAgICAgICAgICAgICAgLndpdGhVc2VybmFtZSgidXNlciIpCiAgICAgICAgICAgICAgICAucGFzc3dvcmQoIntub29wfXBhc3N3b3JkIikgLy8ge25vb3B9IGluZGljYXRlcyBubyBwYXNzd29yZCBlbmNvZGluZwogICAgICAgICAgICAgICAgLnJvbGVzKCJVU0VSIikKICAgICAgICAgICAgICAgIC5idWlsZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBVc2VybmFtZU5vdEZvdW5kRXhjZXB0aW9uKCJVc2VyIG5vdCBmb3VuZCIpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

@Service
public class CustomUserDetailsService implements UserDetailsService {

    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
        // Fetch user from database or any other source
        // For simplicity, we are using a hardcoded user
        if (&quot;user&quot;.equals(username)) {
            return org.springframework.security.core.userdetails.User
                .withUsername(&quot;user&quot;)
                .password(&quot;{noop}password&quot;) // {noop} indicates no password encoding
                .roles(&quot;USER&quot;)
                .build();
        } else {
            throw new UsernameNotFoundException(&quot;User not found&quot;);
        }
    }
}</pre></div><div class='content'></div><h2>Method-Level Security</h2>
<div class='content'><p>You can secure individual methods using annotations like <code>@PreAuthorize</code> and <code>@Secured</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYWNjZXNzLnByZXBvc3QuUHJlQXV0aG9yaXplOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLlNlcnZpY2U7CgpAU2VydmljZQpwdWJsaWMgY2xhc3MgU2FtcGxlU2VydmljZSB7CgogICAgQFByZUF1dGhvcml6ZSgiaGFzUm9sZSgnUk9MRV9VU0VSJykiKQogICAgcHVibGljIHZvaWQgc2VjdXJlZE1ldGhvZCgpIHsKICAgICAgICAvLyBNZXRob2QgbG9naWMKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.stereotype.Service;

@Service
public class SampleService {

    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)
    public void securedMethod() {
        // Method logic
    }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>@PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)</code>: Ensures that the method can only be accessed by users with the <code>ROLE_USER</code> authority.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, we covered the basics of Spring Security, including:</p>
<ul>
<li>What Spring Security is and its key concepts.</li>
<li>How to set up Spring Security in a Spring Boot application.</li>
<li>Basic and advanced configurations, including custom user details service and method-level security.</li>
</ul>
<p>Spring Security is a comprehensive framework that provides robust security features for your applications. Understanding its core concepts and configurations will help you secure your Spring Boot applications effectively.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='pagination-and-sorting'>&#x25C4;Pagination and Sorting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introduction to Spring Security</a>
	</div>
	<div class='col-4 text-end'>
					<a href='securing-restful-web-services'>Securing RESTful Web Services &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
