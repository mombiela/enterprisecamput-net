<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoring and Metrics</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/monitoring-and-metrics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/monitoring-and-metrics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/monitoring-and-metrics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/springboot/monitoring-and-metrics" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/springboot/monitoring-and-metrics" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='spring-boot-with-cloud-platforms'>&#x25C4;Spring Boot with Cloud Platforms (AWS, Azure, GCP)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Monitoring and Metrics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='logging-and-log-management'>Logging and Log Management &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Monitoring and Metrics</h1>
<div class='content'><p>Monitoring and metrics are crucial for understanding the health and performance of your Spring Boot applications. This section will cover the basics of monitoring, why it's important, and how to implement it in Spring Boot.</p>
<ul>
<li><strong>Monitoring</strong>: The process of collecting, analyzing, and using information to track the performance and health of an application.</li>
<li><strong>Metrics</strong>: Quantitative measures used to gauge the performance and health of an application.</li>
</ul>
</div><h1>Setting Up Actuator</h1>
<div class='content'><p>Spring Boot Actuator provides production-ready features to help you monitor and manage your application.</p>
</div><h2>Adding Actuator Dependency</h2>
<div class='content'><p>To get started with Actuator, you need to add the following dependency to your <code>pom.xml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWFjdHVhdG9yPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Enabling Actuator Endpoints</h2>
<div class='content'><p>By default, only a few endpoints are enabled. You can enable more endpoints by configuring your <code>application.properties</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWFuYWdlbWVudC5lbmRwb2ludHMud2ViLmV4cG9zdXJlLmluY2x1ZGU9Kg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>management.endpoints.web.exposure.include=*</pre></div><div class='content'></div><h2>Common Actuator Endpoints</h2>
<div class='content'><ul>
<li><strong>/actuator/health</strong>: Shows application health information.</li>
<li><strong>/actuator/info</strong>: Displays arbitrary application info.</li>
<li><strong>/actuator/metrics</strong>: Exposes metrics collected by the application.</li>
</ul>
</div><h1>Customizing Actuator Endpoints</h1>
<div class='content'><p>You can customize the behavior of Actuator endpoints to suit your needs.</p>
</div><h2>Example: Custom Health Indicator</h2>
<div class='content'><p>Create a custom health indicator by implementing the <code>HealthIndicator</code> interface:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5hY3R1YXRlLmhlYWx0aC5IZWFsdGg7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3QuYWN0dWF0ZS5oZWFsdGguSGVhbHRoSW5kaWNhdG9yOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLkNvbXBvbmVudDsKCkBDb21wb25lbnQKcHVibGljIGNsYXNzIEN1c3RvbUhlYWx0aEluZGljYXRvciBpbXBsZW1lbnRzIEhlYWx0aEluZGljYXRvciB7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgSGVhbHRoIGhlYWx0aCgpIHsKICAgICAgICBib29sZWFuIGlzSGVhbHRoeSA9IGNoZWNrSGVhbHRoKCk7CiAgICAgICAgaWYgKGlzSGVhbHRoeSkgewogICAgICAgICAgICByZXR1cm4gSGVhbHRoLnVwKCkud2l0aERldGFpbCgiQ3VzdG9tIEhlYWx0aCIsICJBbGwgc3lzdGVtcyBnbyIpLmJ1aWxkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIEhlYWx0aC5kb3duKCkud2l0aERldGFpbCgiQ3VzdG9tIEhlYWx0aCIsICJTb21ldGhpbmcgaXMgd3JvbmciKS5idWlsZCgpOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIGJvb2xlYW4gY2hlY2tIZWFsdGgoKSB7CiAgICAgICAgLy8gQ3VzdG9tIGhlYWx0aCBjaGVjayBsb2dpYwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.boot.actuate.health.Health;
import org.springframework.boot.actuate.health.HealthIndicator;
import org.springframework.stereotype.Component;

@Component
public class CustomHealthIndicator implements HealthIndicator {

    @Override
    public Health health() {
        boolean isHealthy = checkHealth();
        if (isHealthy) {
            return Health.up().withDetail(&quot;Custom Health&quot;, &quot;All systems go&quot;).build();
        } else {
            return Health.down().withDetail(&quot;Custom Health&quot;, &quot;Something is wrong&quot;).build();
        }
    }

    private boolean checkHealth() {
        // Custom health check logic
        return true;
    }
}</pre></div><div class='content'></div><h1>Metrics Collection</h1>
<div class='content'><p>Spring Boot Actuator integrates with Micrometer to provide a flexible and powerful metrics collection system.</p>
</div><h2>Adding Micrometer Dependency</h2>
<div class='content'><p>Add the Micrometer dependency to your <code>pom.xml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5pby5taWNyb21ldGVyPC9ncm91cElkPgogICAgPGFydGlmYWN0SWQ+bWljcm9tZXRlci1jb3JlPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;
    &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Common Metrics</h2>
<div class='content'><ul>
<li><strong>JVM Metrics</strong>: Memory usage, garbage collection, threads.</li>
<li><strong>HTTP Metrics</strong>: Request count, response times.</li>
<li><strong>Database Metrics</strong>: Connection pool usage, query performance.</li>
</ul>
</div><h2>Example: Custom Metric</h2>
<div class='content'><p>You can create custom metrics using Micrometer's <code>MeterRegistry</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLm1pY3JvbWV0ZXIuY29yZS5pbnN0cnVtZW50Lk1ldGVyUmVnaXN0cnk7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuQ29tcG9uZW50OwoKaW1wb3J0IGphdmF4LmFubm90YXRpb24uUG9zdENvbnN0cnVjdDsKCkBDb21wb25lbnQKcHVibGljIGNsYXNzIEN1c3RvbU1ldHJpY3MgewoKICAgIHByaXZhdGUgZmluYWwgTWV0ZXJSZWdpc3RyeSBtZXRlclJlZ2lzdHJ5OwoKICAgIHB1YmxpYyBDdXN0b21NZXRyaWNzKE1ldGVyUmVnaXN0cnkgbWV0ZXJSZWdpc3RyeSkgewogICAgICAgIHRoaXMubWV0ZXJSZWdpc3RyeSA9IG1ldGVyUmVnaXN0cnk7CiAgICB9CgogICAgQFBvc3RDb25zdHJ1Y3QKICAgIHB1YmxpYyB2b2lkIGluaXQoKSB7CiAgICAgICAgbWV0ZXJSZWdpc3RyeS5jb3VudGVyKCJjdXN0b20ubWV0cmljLmNvdW50ZXIiKS5pbmNyZW1lbnQoKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.micrometer.core.instrument.MeterRegistry;
import org.springframework.stereotype.Component;

import javax.annotation.PostConstruct;

@Component
public class CustomMetrics {

    private final MeterRegistry meterRegistry;

    public CustomMetrics(MeterRegistry meterRegistry) {
        this.meterRegistry = meterRegistry;
    }

    @PostConstruct
    public void init() {
        meterRegistry.counter(&quot;custom.metric.counter&quot;).increment();
    }
}</pre></div><div class='content'></div><h1>Integrating with Monitoring Tools</h1>
<div class='content'><p>Spring Boot Actuator and Micrometer can integrate with various monitoring tools like Prometheus, Grafana, and New Relic.</p>
</div><h2>Example: Integrating with Prometheus</h2>
<div class='content'><p>Add the Prometheus dependency to your <code>pom.xml</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5pby5taWNyb21ldGVyPC9ncm91cElkPgogICAgPGFydGlmYWN0SWQ+bWljcm9tZXRlci1yZWdpc3RyeS1wcm9tZXRoZXVzPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;
    &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'><p>Configure Prometheus in your <code>application.properties</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWFuYWdlbWVudC5tZXRyaWNzLmV4cG9ydC5wcm9tZXRoZXVzLmVuYWJsZWQ9dHJ1ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>management.metrics.export.prometheus.enabled=true</pre></div><div class='content'><p>Prometheus will scrape metrics from the <code>/actuator/prometheus</code> endpoint.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Monitoring and metrics are essential for maintaining the health and performance of your Spring Boot applications. By using Spring Boot Actuator and Micrometer, you can easily collect and analyze metrics, customize health checks, and integrate with popular monitoring tools. This ensures that you can proactively identify and resolve issues, leading to more reliable and efficient applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='spring-boot-with-cloud-platforms'>&#x25C4;Spring Boot with Cloud Platforms (AWS, Azure, GCP)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Monitoring and Metrics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='logging-and-log-management'>Logging and Log Management &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
