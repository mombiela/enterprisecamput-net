<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Services</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rpg/06-01-web-services" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rpg/06-01-web-services" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rpg/06-01-web-services" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rpg/06-01-web-services" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rpg/06-01-web-services" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-service-programs' title="Service Programs and Procedures">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Web Services</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-apis-json' title="APIs and JSON">Next &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Web services allow different applications to communicate with each other over the internet. In RPG programming, integrating web services can enable your RPG applications to interact with other systems, fetch data from external sources, and provide services to other applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Web Services</strong>: A method of communication between two electronic devices over a network.</li>
<li><strong>SOAP (Simple Object Access Protocol)</strong>: A protocol for exchanging structured information in the implementation of web services.</li>
<li><strong>REST (Representational State Transfer)</strong>: An architectural style for designing networked applications.</li>
<li><strong>HTTP Methods</strong>: Common methods include GET, POST, PUT, DELETE.</li>
<li><strong>JSON (JavaScript Object Notation)</strong>: A lightweight data-interchange format.</li>
<li><strong>XML (eXtensible Markup Language)</strong>: A markup language that defines a set of rules for encoding documents.</li>
</ol>
</div><h1>Setting Up for Web Services in RPG</h1>
<div class='content'><p>Before you can start working with web services in RPG, you need to ensure your development environment is set up to handle HTTP requests and parse JSON or XML responses.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li><strong>HTTP APIs</strong>: Ensure you have access to HTTP APIs for making requests.</li>
<li><strong>JSON/XML Parsers</strong>: Libraries or built-in functions to parse JSON or XML data.</li>
</ul>
</div><h1>Making HTTP Requests</h1>
<div class='content'><p>RPG can make HTTP requests using built-in functions or third-party libraries. Below is an example of making a simple GET request to a web service.</p>
</div><h2>Example: Making a GET Request</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("KipmcmVlCmN0bC1vcHQgZGZ0YWN0Z3JwKCpubykgYWN0Z3JwKCdRSUxFJyk7CgpkY2wtcHIgSHR0cEdldFJlcXVlc3QgcG9pbnRlciBleHRwcm9jKCdRdG1oR2V0RW52Jyk7CiAgcmVxdWVzdFVybCBwb2ludGVyIHZhbHVlIG9wdGlvbnMoKnN0cmluZyk7CmVuZC1wcjsKCmRjbC1wciBIdHRwR2V0UmVzcG9uc2UgcG9pbnRlciBleHRwcm9jKCdRdG1oR2V0RW52Jyk7CiAgcmVzcG9uc2VCdWZmZXIgcG9pbnRlciB2YWx1ZSBvcHRpb25zKCpzdHJpbmcpOwplbmQtcHI7CgpkY2wtcyByZXF1ZXN0VXJsIHZhcmNoYXIoMjU2KTsKZGNsLXMgcmVzcG9uc2VCdWZmZXIgdmFyY2hhcigxMDI0KTsKZGNsLXMgcmVzcG9uc2UgcG9pbnRlcjsKCnJlcXVlc3RVcmwgPSAnaHR0cDovL2FwaS5leGFtcGxlLmNvbS9kYXRhJzsKcmVzcG9uc2UgPSBIdHRwR2V0UmVxdWVzdCglYWRkcihyZXF1ZXN0VXJsKSk7CgppZiByZXNwb25zZSA8PiAqbnVsbDsKICByZXNwb25zZUJ1ZmZlciA9ICVzdHIocmVzcG9uc2UpOwogIGRzcGx5IHJlc3BvbnNlQnVmZmVyOwplbHNlOwogIGRzcGx5ICdFcnJvciBtYWtpbmcgSFRUUCByZXF1ZXN0JzsKZW5kaWY7CgoqaW5sciA9ICpvbjs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>**free
ctl-opt dftactgrp(*no) actgrp('QILE');

dcl-pr HttpGetRequest pointer extproc('QtmhGetEnv');
  requestUrl pointer value options(*string);
end-pr;

dcl-pr HttpGetResponse pointer extproc('QtmhGetEnv');
  responseBuffer pointer value options(*string);
end-pr;

dcl-s requestUrl varchar(256);
dcl-s responseBuffer varchar(1024);
dcl-s response pointer;

requestUrl = 'http://api.example.com/data';
response = HttpGetRequest(%addr(requestUrl));

if response &lt;&gt; *null;
  responseBuffer = %str(response);
  dsply responseBuffer;
else;
  dsply 'Error making HTTP request';
endif;

*inlr = *on;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>HttpGetRequest</strong>: A procedure to make an HTTP GET request.</li>
<li><strong>requestUrl</strong>: The URL of the web service.</li>
<li><strong>responseBuffer</strong>: A buffer to store the response from the web service.</li>
<li><strong>response</strong>: A pointer to the response data.</li>
</ul>
</div><h1>Parsing JSON Responses</h1>
<div class='content'><p>Once you have the response from the web service, you need to parse the JSON data to extract useful information.</p>
</div><h2>Example: Parsing JSON Response</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("KipmcmVlCmN0bC1vcHQgZGZ0YWN0Z3JwKCpubykgYWN0Z3JwKCdRSUxFJyk7CgpkY2wtcHIgSHR0cEdldFJlcXVlc3QgcG9pbnRlciBleHRwcm9jKCdRdG1oR2V0RW52Jyk7CiAgcmVxdWVzdFVybCBwb2ludGVyIHZhbHVlIG9wdGlvbnMoKnN0cmluZyk7CmVuZC1wcjsKCmRjbC1wciBKc29uUGFyc2UgcG9pbnRlciBleHRwcm9jKCdRdG1oR2V0RW52Jyk7CiAganNvblN0cmluZyBwb2ludGVyIHZhbHVlIG9wdGlvbnMoKnN0cmluZyk7CmVuZC1wcjsKCmRjbC1zIHJlcXVlc3RVcmwgdmFyY2hhcigyNTYpOwpkY2wtcyByZXNwb25zZUJ1ZmZlciB2YXJjaGFyKDEwMjQpOwpkY2wtcyBqc29uU3RyaW5nIHZhcmNoYXIoMTAyNCk7CmRjbC1zIGpzb25PYmplY3QgcG9pbnRlcjsKCnJlcXVlc3RVcmwgPSAnaHR0cDovL2FwaS5leGFtcGxlLmNvbS9kYXRhJzsKcmVzcG9uc2UgPSBIdHRwR2V0UmVxdWVzdCglYWRkcihyZXF1ZXN0VXJsKSk7CgppZiByZXNwb25zZSA8PiAqbnVsbDsKICByZXNwb25zZUJ1ZmZlciA9ICVzdHIocmVzcG9uc2UpOwogIGpzb25PYmplY3QgPSBKc29uUGFyc2UoJWFkZHIocmVzcG9uc2VCdWZmZXIpKTsKICAvLyBFeHRyYWN0IGRhdGEgZnJvbSBqc29uT2JqZWN0CmVsc2U7CiAgZHNwbHkgJ0Vycm9yIG1ha2luZyBIVFRQIHJlcXVlc3QnOwplbmRpZjsKCippbmxyID0gKm9uOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>**free
ctl-opt dftactgrp(*no) actgrp('QILE');

dcl-pr HttpGetRequest pointer extproc('QtmhGetEnv');
  requestUrl pointer value options(*string);
end-pr;

dcl-pr JsonParse pointer extproc('QtmhGetEnv');
  jsonString pointer value options(*string);
end-pr;

dcl-s requestUrl varchar(256);
dcl-s responseBuffer varchar(1024);
dcl-s jsonString varchar(1024);
dcl-s jsonObject pointer;

requestUrl = 'http://api.example.com/data';
response = HttpGetRequest(%addr(requestUrl));

if response &lt;&gt; *null;
  responseBuffer = %str(response);
  jsonObject = JsonParse(%addr(responseBuffer));
  // Extract data from jsonObject
else;
  dsply 'Error making HTTP request';
endif;

*inlr = *on;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>JsonParse</strong>: A procedure to parse JSON data.</li>
<li><strong>jsonString</strong>: The JSON string to be parsed.</li>
<li><strong>jsonObject</strong>: A pointer to the parsed JSON object.</li>
</ul>
</div><h1>Practical Exercise</h1>
<h2>Task</h2>
<div class='content'><p>Create an RPG program that makes a GET request to a public API (e.g., a weather API) and displays the current temperature.</p>
</div><h2>Solution</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("KipmcmVlCmN0bC1vcHQgZGZ0YWN0Z3JwKCpubykgYWN0Z3JwKCdRSUxFJyk7CgpkY2wtcHIgSHR0cEdldFJlcXVlc3QgcG9pbnRlciBleHRwcm9jKCdRdG1oR2V0RW52Jyk7CiAgcmVxdWVzdFVybCBwb2ludGVyIHZhbHVlIG9wdGlvbnMoKnN0cmluZyk7CmVuZC1wcjsKCmRjbC1wciBKc29uUGFyc2UgcG9pbnRlciBleHRwcm9jKCdRdG1oR2V0RW52Jyk7CiAganNvblN0cmluZyBwb2ludGVyIHZhbHVlIG9wdGlvbnMoKnN0cmluZyk7CmVuZC1wcjsKCmRjbC1zIHJlcXVlc3RVcmwgdmFyY2hhcigyNTYpOwpkY2wtcyByZXNwb25zZUJ1ZmZlciB2YXJjaGFyKDEwMjQpOwpkY2wtcyBqc29uU3RyaW5nIHZhcmNoYXIoMTAyNCk7CmRjbC1zIGpzb25PYmplY3QgcG9pbnRlcjsKZGNsLXMgdGVtcGVyYXR1cmUgdmFyY2hhcigxMCk7CgpyZXF1ZXN0VXJsID0gJ2h0dHA6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvY3VycmVudC5qc29uP2tleT1ZT1VSX0FQSV9LRVkmcT1Mb25kb24nOwpyZXNwb25zZSA9IEh0dHBHZXRSZXF1ZXN0KCVhZGRyKHJlcXVlc3RVcmwpKTsKCmlmIHJlc3BvbnNlIDw+ICpudWxsOwogIHJlc3BvbnNlQnVmZmVyID0gJXN0cihyZXNwb25zZSk7CiAganNvbk9iamVjdCA9IEpzb25QYXJzZSglYWRkcihyZXNwb25zZUJ1ZmZlcikpOwogIC8vIEFzc3VtaW5nIHRoZSBKU09OIHN0cnVjdHVyZSBoYXMgYSBmaWVsZCAidGVtcF9jIiBmb3IgdGVtcGVyYXR1cmUgaW4gQ2Vsc2l1cwogIHRlbXBlcmF0dXJlID0gR2V0SnNvblZhbHVlKGpzb25PYmplY3QsICd0ZW1wX2MnKTsKICBkc3BseSAnQ3VycmVudCBUZW1wZXJhdHVyZTogJyArIHRlbXBlcmF0dXJlOwplbHNlOwogIGRzcGx5ICdFcnJvciBtYWtpbmcgSFRUUCByZXF1ZXN0JzsKZW5kaWY7CgoqaW5sciA9ICpvbjs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>**free
ctl-opt dftactgrp(*no) actgrp('QILE');

dcl-pr HttpGetRequest pointer extproc('QtmhGetEnv');
  requestUrl pointer value options(*string);
end-pr;

dcl-pr JsonParse pointer extproc('QtmhGetEnv');
  jsonString pointer value options(*string);
end-pr;

dcl-s requestUrl varchar(256);
dcl-s responseBuffer varchar(1024);
dcl-s jsonString varchar(1024);
dcl-s jsonObject pointer;
dcl-s temperature varchar(10);

requestUrl = 'http://api.weatherapi.com/v1/current.json?key=YOUR_API_KEY&amp;q=London';
response = HttpGetRequest(%addr(requestUrl));

if response &lt;&gt; *null;
  responseBuffer = %str(response);
  jsonObject = JsonParse(%addr(responseBuffer));
  // Assuming the JSON structure has a field &quot;temp_c&quot; for temperature in Celsius
  temperature = GetJsonValue(jsonObject, 'temp_c');
  dsply 'Current Temperature: ' + temperature;
else;
  dsply 'Error making HTTP request';
endif;

*inlr = *on;</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>GetJsonValue</strong>: A hypothetical function to extract a value from the JSON object.</li>
<li><strong>temperature</strong>: The extracted temperature value from the JSON response.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><p>In this section, you learned how to:</p>
<ul>
<li>Understand the basics of web services.</li>
<li>Make HTTP requests from an RPG program.</li>
<li>Parse JSON responses to extract useful data.</li>
<li>Implement a practical example to fetch and display data from a web service.</li>
</ul>
<p>Next, you will learn about integrating APIs and handling JSON data in more detail.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-service-programs' title="Service Programs and Procedures">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-apis-json' title="APIs and JSON">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
