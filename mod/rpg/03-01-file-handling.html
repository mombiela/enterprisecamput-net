<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Handling</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rpg/03-01-file-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rpg/03-01-file-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rpg/03-01-file-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rpg/03-01-file-handling" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rpg/03-01-file-handling" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-functions-procedures' title="Functions and Procedures">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">File Handling</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-database-access' title="Database Access">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this module, we will explore how to handle files in RPG programming. File handling is a crucial aspect of any programming language, as it allows you to read from and write to files, which is essential for data storage and manipulation.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Types of Files</strong>:</p>
<ul>
<li><strong>Physical Files</strong>: These are the actual files that store data.</li>
<li><strong>Logical Files</strong>: These are views or indexes on physical files, used to access data in different ways.</li>
</ul>
</li>
<li>
<p><strong>File Operations</strong>:</p>
<ul>
<li><strong>Reading Files</strong>: Extracting data from a file.</li>
<li><strong>Writing Files</strong>: Adding or modifying data in a file.</li>
<li><strong>Updating Files</strong>: Changing existing data in a file.</li>
<li><strong>Deleting Files</strong>: Removing data from a file.</li>
</ul>
</li>
<li>
<p><strong>File Access Methods</strong>:</p>
<ul>
<li><strong>Sequential Access</strong>: Reading or writing data in a sequential manner.</li>
<li><strong>Random Access</strong>: Accessing data at any position in the file.</li>
</ul>
</li>
</ol>
</div><h1>Basic File Handling Syntax</h1>
<div class='content'></div><h2>Declaring a File</h2>
<div class='content'><p>In RPG, files are declared in the File Specification (F-spec) section. Here is an example of how to declare a file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Rk1ZRklMRSAgIElGICAgRSAgICAgICAgICAgSyBESVNL"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FMYFILE   IF   E           K DISK</pre></div><div class='content'><ul>
<li><code>F</code>: Indicates a file declaration.</li>
<li><code>MYFILE</code>: The name of the file.</li>
<li><code>I</code>: Input file.</li>
<li><code>F</code>: Full procedural file.</li>
<li><code>E</code>: External file.</li>
<li><code>K</code>: Keyed file.</li>
<li><code>DISK</code>: The file is stored on disk.</li>
</ul>
</div><h2>Reading from a File</h2>
<div class='content'><p>To read data from a file, you use the <code>READ</code> operation code. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QyAgICAgUkVBRCAgICAgIE1ZRklMRQpDICAgICBJRiAgICAgICAgJUVPRihNWUZJTEUpCkMgICAgICAgLy8gRW5kIG9mIGZpbGUgcHJvY2Vzc2luZwpDICAgICBFTkRJRg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>C     READ      MYFILE
C     IF        %EOF(MYFILE)
C       // End of file processing
C     ENDIF</pre></div><div class='content'><ul>
<li><code>READ MYFILE</code>: Reads a record from the file <code>MYFILE</code>.</li>
<li><code>%EOF(MYFILE)</code>: Checks if the end of the file has been reached.</li>
</ul>
</div><h2>Writing to a File</h2>
<div class='content'><p>To write data to a file, you use the <code>WRITE</code> operation code. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QyAgICAgV1JJVEUgICAgIE1ZRklMRQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>C     WRITE     MYFILE</pre></div><div class='content'><ul>
<li><code>WRITE MYFILE</code>: Writes a record to the file <code>MYFILE</code>.</li>
</ul>
</div><h2>Updating a File</h2>
<div class='content'><p>To update data in a file, you use the <code>UPDATE</code> operation code. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QyAgICAgVVBEQVRFICAgIE1ZRklMRQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>C     UPDATE    MYFILE</pre></div><div class='content'><ul>
<li><code>UPDATE MYFILE</code>: Updates the current record in the file <code>MYFILE</code>.</li>
</ul>
</div><h2>Deleting from a File</h2>
<div class='content'><p>To delete data from a file, you use the <code>DELETE</code> operation code. Here is an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QyAgICAgREVMRVRFICAgIE1ZRklMRQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>C     DELETE    MYFILE</pre></div><div class='content'><ul>
<li><code>DELETE MYFILE</code>: Deletes the current record from the file <code>MYFILE</code>.</li>
</ul>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a simple program that reads from a file, processes the data, and writes the results to another file.</p>
</div><h2>Example Program</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RklOUFVURklMRSBJRiAgIEUgICAgICAgICAgIEsgRElTSwpGT1VUUFVURklMRU8gICBFICAgICAgICAgICBLIERJU0sKCkQgTmFtZSAgICAgICAgICAgIFMgICAgICAgICAgICAgNTBBCkQgQWdlICAgICAgICAgICAgIFMgICAgICAgICAgICAgIDNTIDAKCkMgICAgIFJFQUQgICAgICBJTlBVVEZJTEUKQyAgICAgRE9XICAgICAgIE5PVCAlRU9GKElOUFVURklMRSkKQyAgICAgICAvLyBQcm9jZXNzIHRoZSBkYXRhCkMgICAgICAgTmFtZSA9ICVUUklNUihOYW1lKSArICcgUHJvY2Vzc2VkJwpDICAgICAgIEFnZSA9IEFnZSArIDEKQyAgICAgICBXUklURSBPVVRQVVRGSUxFCkMgICAgICAgUkVBRCBJTlBVVEZJTEUKQyAgICAgRU5ERE8KQyAgICAgKklOTFIgPSAqT04="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FINPUTFILE IF   E           K DISK
FOUTPUTFILEO   E           K DISK

D Name            S             50A
D Age             S              3S 0

C     READ      INPUTFILE
C     DOW       NOT %EOF(INPUTFILE)
C       // Process the data
C       Name = %TRIMR(Name) + ' Processed'
C       Age = Age + 1
C       WRITE OUTPUTFILE
C       READ INPUTFILE
C     ENDDO
C     *INLR = *ON</pre></div><div class='content'><ul>
<li><code>FINPUTFILE</code>: Declares the input file.</li>
<li><code>FOUTPUTFILE</code>: Declares the output file.</li>
<li><code>READ INPUTFILE</code>: Reads a record from the input file.</li>
<li><code>DOW NOT %EOF(INPUTFILE)</code>: Loops until the end of the input file.</li>
<li><code>Name = %TRIMR(Name) + ' Processed'</code>: Processes the data.</li>
<li><code>Age = Age + 1</code>: Increments the age.</li>
<li><code>WRITE OUTPUTFILE</code>: Writes the processed data to the output file.</li>
<li><code>*INLR = *ON</code>: Ends the program.</li>
</ul>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Reading and Displaying File Data</h2>
<div class='content'><p>Write a program that reads data from a file and displays it on the screen.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Rk1ZRklMRSAgIElGICAgRSAgICAgICAgICAgSyBESVNLCgpEIE5hbWUgICAgICAgICAgICBTICAgICAgICAgICAgIDUwQQpEIEFnZSAgICAgICAgICAgICBTICAgICAgICAgICAgICAzUyAwCgpDICAgICBSRUFEICAgICAgTVlGSUxFCkMgICAgIERPVyAgICAgICBOT1QgJUVPRihNWUZJTEUpCkMgICAgICAgRFNQTFkgICAgTmFtZQpDICAgICAgIERTUExZICAgIEFnZQpDICAgICAgIFJFQUQgTVlGSUxFCkMgICAgIEVORERPCkMgICAgICpJTkxSID0gKk9O"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FMYFILE   IF   E           K DISK

D Name            S             50A
D Age             S              3S 0

C     READ      MYFILE
C     DOW       NOT %EOF(MYFILE)
C       DSPLY    Name
C       DSPLY    Age
C       READ MYFILE
C     ENDDO
C     *INLR = *ON</pre></div><div class='content'></div><h2>Exercise 2: Writing Data to a File</h2>
<div class='content'><p>Write a program that writes a set of predefined records to a file.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Rk1ZRklMRSAgIE8gICBFICAgICAgICAgICBLIERJU0sKCkQgTmFtZSAgICAgICAgICAgIFMgICAgICAgICAgICAgNTBBCkQgQWdlICAgICAgICAgICAgIFMgICAgICAgICAgICAgIDNTIDAKCkMgICAgIE5hbWUgPSAnSm9obiBEb2UnCkMgICAgIEFnZSA9IDMwCkMgICAgIFdSSVRFIE1ZRklMRQoKQyAgICAgTmFtZSA9ICdKYW5lIFNtaXRoJwpDICAgICBBZ2UgPSAyNQpDICAgICBXUklURSBNWUZJTEUKCkMgICAgICpJTkxSID0gKk9O"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FMYFILE   O   E           K DISK

D Name            S             50A
D Age             S              3S 0

C     Name = 'John Doe'
C     Age = 30
C     WRITE MYFILE

C     Name = 'Jane Smith'
C     Age = 25
C     WRITE MYFILE

C     *INLR = *ON</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to Check for End of File</strong>: Always check for the end of the file to avoid infinite loops.</li>
<li><strong>Incorrect File Declaration</strong>: Ensure that the file is declared correctly in the F-spec section.</li>
<li>*<em>Not Setting <em>INLR</em></em>: Always set <code>*INLR = *ON</code> at the end of the program to close files properly.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of file handling in RPG, including how to read, write, update, and delete records in a file. We also provided practical examples and exercises to reinforce the concepts. Understanding file handling is essential for working with data in RPG programs, and mastering these skills will enable you to build more complex and functional applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-04-functions-procedures' title="Functions and Procedures">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-database-access' title="Database Access">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
