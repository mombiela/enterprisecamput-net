<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Practices and Code Review</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rpg/07-04-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rpg/07-04-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rpg/07-04-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rpg/07-04-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rpg/07-04-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-03-case-study-payroll' title="Case Study: Payroll System">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Best Practices and Code Review</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-01-project-planning' title="Project Planning">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover essential best practices for RPG programming and the importance of code reviews. Adhering to best practices ensures that your code is maintainable, efficient, and easy to understand. Code reviews help catch errors early, improve code quality, and facilitate knowledge sharing among team members.</p>
</div><h1>Best Practices in RPG Programming</h1>
<div class='content'></div><h2>1. Code Readability</h2>
<div class='content'><ul>
<li><strong>Use Meaningful Names</strong>: Choose descriptive names for variables, functions, and procedures.
<pre><code class="language-rpg">// Bad Example
D A       S 10A
// Good Example
D CustomerName S 10A
</code></pre>
</li>
<li><strong>Consistent Indentation</strong>: Maintain consistent indentation to improve code readability.
<pre><code class="language-rpg">// Example
IF CustomerAge &gt; 18;
   AllowPurchase = 'Y';
ELSE;
   AllowPurchase = 'N';
ENDIF;
</code></pre>
</li>
</ul>
</div><h2>2. Modular Programming</h2>
<div class='content'><ul>
<li><strong>Break Down Large Programs</strong>: Divide large programs into smaller, manageable modules or procedures.
<pre><code class="language-rpg">// Example of a procedure
P CalculateDiscount B
D CalculateDiscount PI 10P 2
D  PurchaseAmount  10P 2
D  DiscountRate    10P 2
/FREE
   RETURN PurchaseAmount * DiscountRate / 100;
/END-FREE
P CalculateDiscount E
</code></pre>
</li>
</ul>
</div><h2>3. Error Handling</h2>
<div class='content'><ul>
<li><strong>Use Built-in Error Handling</strong>: Implement error handling to manage unexpected situations gracefully.
<pre><code class="language-rpg">// Example
MONITOR;
   // Code that might fail
ON-ERROR;
   // Error handling code
ENDMON;
</code></pre>
</li>
</ul>
</div><h2>4. Performance Optimization</h2>
<div class='content'><ul>
<li><strong>Efficient Data Access</strong>: Optimize database queries and file handling to improve performance.
<pre><code class="language-rpg">// Example
C/EXEC SQL
   SELECT * INTO :CustomerData FROM Customers WHERE CustomerID = :CustomerID;
C/END-EXEC
</code></pre>
</li>
</ul>
</div><h2>5. Documentation</h2>
<div class='content'><ul>
<li><strong>Comment Your Code</strong>: Provide comments to explain complex logic and important sections of the code.
<pre><code class="language-rpg">// Example
// Calculate the discount based on the purchase amount
Discount = CalculateDiscount(PurchaseAmount, DiscountRate);
</code></pre>
</li>
</ul>
</div><h1>Code Review Process</h1>
<div class='content'></div><h2>1. Peer Review</h2>
<div class='content'><ul>
<li><strong>Collaborative Review</strong>: Have your code reviewed by peers to catch errors and get feedback.</li>
<li><strong>Checklist</strong>: Use a checklist to ensure all aspects of the code are reviewed.
<ul>
<li>Code readability</li>
<li>Adherence to coding standards</li>
<li>Error handling</li>
<li>Performance considerations</li>
</ul>
</li>
</ul>
</div><h2>2. Automated Tools</h2>
<div class='content'><ul>
<li><strong>Static Code Analysis</strong>: Use tools to automatically check for common coding issues.</li>
<li><strong>Unit Testing</strong>: Implement unit tests to verify the functionality of individual components.</li>
</ul>
</div><h2>3. Continuous Improvement</h2>
<div class='content'><ul>
<li><strong>Feedback Loop</strong>: Use feedback from code reviews to continuously improve your coding practices.</li>
<li><strong>Knowledge Sharing</strong>: Share insights and best practices with the team to foster a culture of continuous learning.</li>
</ul>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Refactor and Review</h2>
<div class='content'><p><strong>Task</strong>: Refactor the following code snippet to improve readability, modularity, and error handling. Then, perform a code review using the provided checklist.</p>
<p><strong>Original Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RCBBICAgICAgIFMgMTBBCkQgQiAgICAgICBTIDEwUCAyCkQgQyAgICAgICBTIDEwUCAyCkMvRVhFQyBTUUwKICAgU0VMRUNUICogSU5UTyA6QSBGUk9NIEN1c3RvbWVycyBXSEVSRSBDdXN0b21lcklEID0gOkI7CkMvRU5ELUVYRUMKQyBJRiBCID4gMTAwOwpDICAgQyA9IEIgKiAwLjE7CkMgRUxTRTsKQyAgIEMgPSBCICogMC4wNTsKQyBFTkRJRjs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>D A       S 10A
D B       S 10P 2
D C       S 10P 2
C/EXEC SQL
   SELECT * INTO :A FROM Customers WHERE CustomerID = :B;
C/END-EXEC
C IF B &gt; 100;
C   C = B * 0.1;
C ELSE;
C   C = B * 0.05;
C ENDIF;</pre></div><div class='content'><p><strong>Refactored Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUmVmYWN0b3JlZCBDb2RlCkQgQ3VzdG9tZXJOYW1lICAgUyAxMEEKRCBDdXN0b21lcklEICAgICBTIDEwUCAyCkQgRGlzY291bnRBbW91bnQgUyAxMFAgMgoKLy8gUHJvY2VkdXJlIHRvIGNhbGN1bGF0ZSBkaXNjb3VudApQIENhbGN1bGF0ZURpc2NvdW50IEIKRCBDYWxjdWxhdGVEaXNjb3VudCBQSSAxMFAgMgpEICBQdXJjaGFzZUFtb3VudCAgMTBQIDIKRCAgRGlzY291bnRSYXRlICAgIDEwUCAyCi9GcmVlCiAgIFJldHVybiBQdXJjaGFzZUFtb3VudCAqIERpc2NvdW50UmF0ZSAvIDEwMDsKRW5kLUZyZWUKUCBDYWxjdWxhdGVEaXNjb3VudCBFCgovLyBNYWluIFByb2dyYW0KL0ZyZWUKICAgTW9uaXRvcjsKICAgICAgRXhlYyBTUUwKICAgICAgICAgU2VsZWN0IE5hbWUgSW50byA6Q3VzdG9tZXJOYW1lIEZyb20gQ3VzdG9tZXJzIFdoZXJlIEN1c3RvbWVySUQgPSA6Q3VzdG9tZXJJRDsKICAgICAgRW5kLUV4ZWM7CgogICAgICBJZiBDdXN0b21lcklEID4gMTAwOwogICAgICAgICBEaXNjb3VudEFtb3VudCA9IENhbGN1bGF0ZURpc2NvdW50KEN1c3RvbWVySUQsIDEwKTsKICAgICAgRWxzZTsKICAgICAgICAgRGlzY291bnRBbW91bnQgPSBDYWxjdWxhdGVEaXNjb3VudChDdXN0b21lcklELCA1KTsKICAgICAgRW5kSWY7CiAgIE9uLUVycm9yOwogICAgICAvLyBIYW5kbGUgZXJyb3IKICAgRW5kTW9uOwpFbmQtRnJlZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Refactored Code
D CustomerName   S 10A
D CustomerID     S 10P 2
D DiscountAmount S 10P 2

// Procedure to calculate discount
P CalculateDiscount B
D CalculateDiscount PI 10P 2
D  PurchaseAmount  10P 2
D  DiscountRate    10P 2
/Free
   Return PurchaseAmount * DiscountRate / 100;
End-Free
P CalculateDiscount E

// Main Program
/Free
   Monitor;
      Exec SQL
         Select Name Into :CustomerName From Customers Where CustomerID = :CustomerID;
      End-Exec;

      If CustomerID &gt; 100;
         DiscountAmount = CalculateDiscount(CustomerID, 10);
      Else;
         DiscountAmount = CalculateDiscount(CustomerID, 5);
      EndIf;
   On-Error;
      // Handle error
   EndMon;
End-Free</pre></div><div class='content'><p><strong>Code Review Checklist</strong>:</p>
<ul>
<li>[ ] Are variable names meaningful and descriptive?</li>
<li>[ ] Is the code properly indented and formatted?</li>
<li>[ ] Are procedures used to break down complex logic?</li>
<li>[ ] Is error handling implemented?</li>
<li>[ ] Are comments provided where necessary?</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the best practices for RPG programming, including code readability, modular programming, error handling, performance optimization, and documentation. We also discussed the importance of code reviews and provided a practical exercise to reinforce these concepts. By following these best practices and engaging in regular code reviews, you can ensure that your RPG code is maintainable, efficient, and of high quality.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-03-case-study-payroll' title="Case Study: Payroll System">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-01-project-planning' title="Project Planning">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
