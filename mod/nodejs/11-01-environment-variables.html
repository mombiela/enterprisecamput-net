<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environment Variables</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nodejs/11-01-environment-variables" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nodejs/11-01-environment-variables" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nodejs/11-01-environment-variables" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nodejs/11-01-environment-variables" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nodejs/11-01-environment-variables" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-05-graphql-nodejs' title="GraphQL with Node.js">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Environment Variables</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='11-02-using-pm2' title="Using PM2 for Process Management">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Environment variables are a crucial part of any application, especially when it comes to managing configuration settings that can change between different environments (development, testing, production). In this section, we will cover what environment variables are, how to use them in Node.js, and best practices for managing them.</p>
</div><h1>What are Environment Variables?</h1>
<div class='content'><p>Environment variables are key-value pairs that are used to configure settings for your application. They are typically used to store sensitive information such as API keys, database connection strings, and other configuration settings that should not be hard-coded into your application.</p>
</div><h2>Key Concepts:</h2>
<div class='content'><ul>
<li><strong>Environment Variables</strong>: Key-value pairs used to configure application settings.</li>
<li><strong>Environment</strong>: The context in which your application runs (e.g., development, testing, production).</li>
</ul>
</div><h1>Setting Environment Variables</h1>
<div class='content'></div><h2>On Windows:</h2>
<div class='content'><p>You can set environment variables in the command line using the <code>set</code> command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2V0IE1ZX1ZBUklBQkxFPW15X3ZhbHVl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>set MY_VARIABLE=my_value</pre></div><div class='content'></div><h2>On macOS/Linux:</h2>
<div class='content'><p>You can set environment variables in the terminal using the <code>export</code> command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IE1ZX1ZBUklBQkxFPW15X3ZhbHVl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export MY_VARIABLE=my_value</pre></div><div class='content'></div><h2>Using `.env` Files:</h2>
<div class='content'><p>A common practice is to use a <code>.env</code> file to store environment variables. This file is then loaded into your application using a package like <code>dotenv</code>.</p>
<p>Example <code>.env</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9SVD0zMDAwCkRBVEFCQVNFX1VSTD1tb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L215ZGF0YWJhc2UKQVBJX0tFWT15b3VyX2FwaV9rZXlfaGVyZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PORT=3000
DATABASE_URL=mongodb://localhost:27017/mydatabase
API_KEY=your_api_key_here</pre></div><div class='content'></div><h1>Using Environment Variables in Node.js</h1>
<div class='content'><p>To access environment variables in a Node.js application, you can use <code>process.env</code>. This is a global object that provides access to the environment variables.</p>
</div><h2>Example:</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTG9hZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZnJvbSBhIC5lbnYgZmlsZQpyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTsKCi8vIEFjY2VzcyBlbnZpcm9ubWVudCB2YXJpYWJsZXMKY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDsKY29uc3QgZGF0YWJhc2VVcmwgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkw7CmNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkFQSV9LRVk7Cgpjb25zb2xlLmxvZyhgU2VydmVyIHdpbGwgcnVuIG9uIHBvcnQ6ICR7cG9ydH1gKTsKY29uc29sZS5sb2coYERhdGFiYXNlIFVSTDogJHtkYXRhYmFzZVVybH1gKTsKY29uc29sZS5sb2coYEFQSSBLZXk6ICR7YXBpS2V5fWApOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Load environment variables from a .env file
require('dotenv').config();

// Access environment variables
const port = process.env.PORT || 3000;
const databaseUrl = process.env.DATABASE_URL;
const apiKey = process.env.API_KEY;

console.log(`Server will run on port: ${port}`);
console.log(`Database URL: ${databaseUrl}`);
console.log(`API Key: ${apiKey}`);</pre></div><div class='content'></div><h2>Explanation:</h2>
<div class='content'><ol>
<li><strong>Loading Environment Variables</strong>: The <code>dotenv</code> package is used to load environment variables from a <code>.env</code> file into <code>process.env</code>.</li>
<li><strong>Accessing Variables</strong>: Environment variables are accessed using <code>process.env.VARIABLE_NAME</code>.</li>
<li><strong>Default Values</strong>: You can provide default values using the <code>||</code> operator.</li>
</ol>
</div><h1>Best Practices</h1>
<div class='content'><ol>
<li><strong>Do Not Hard-Code Sensitive Information</strong>: Always use environment variables for sensitive information like API keys and database credentials.</li>
<li><strong>Use a <code>.env</code> File for Local Development</strong>: Store environment variables in a <code>.env</code> file for local development and use a package like <code>dotenv</code> to load them.</li>
<li><strong>Keep <code>.env</code> Files Out of Version Control</strong>: Add <code>.env</code> files to your <code>.gitignore</code> to prevent them from being committed to version control.</li>
<li><strong>Use Environment-Specific Configuration</strong>: Use different environment variables for different environments (development, testing, production).</li>
</ol>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Task:</h2>
<div class='content'><p>Create a simple Node.js application that reads environment variables from a <code>.env</code> file and prints them to the console.</p>
</div><h2>Steps:</h2>
<div class='content'><ol>
<li>
<p><strong>Initialize a Node.js Project</strong>:</p>
<pre><code class="language-sh">mkdir env-demo
cd env-demo
npm init -y
npm install dotenv
</code></pre>
</li>
<li>
<p><strong>Create a <code>.env</code> File</strong>:</p>
<pre><code class="language-sh">touch .env
</code></pre>
<p>Add the following content to the <code>.env</code> file:</p>
<pre><code>PORT=3000
DATABASE_URL=mongodb://localhost:27017/mydatabase
API_KEY=your_api_key_here
</code></pre>
</li>
<li>
<p><strong>Create an <code>index.js</code> File</strong>:</p>
<pre><code class="language-sh">touch index.js
</code></pre>
<p>Add the following content to the <code>index.js</code> file:</p>
<pre><code class="language-javascript">require('dotenv').config();

const port = process.env.PORT || 3000;
const databaseUrl = process.env.DATABASE_URL;
const apiKey = process.env.API_KEY;

console.log(`Server will run on port: ${port}`);
console.log(`Database URL: ${databaseUrl}`);
console.log(`API Key: ${apiKey}`);
</code></pre>
</li>
<li>
<p><strong>Run the Application</strong>:</p>
<pre><code class="language-sh">node index.js
</code></pre>
</li>
</ol>
</div><h2>Solution:</h2>
<div class='content'><p>The output should display the values of the environment variables defined in the <code>.env</code> file.</p>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to Load Environment Variables</strong>: Ensure you call <code>require('dotenv').config()</code> at the beginning of your application.</li>
<li><strong>Incorrect Variable Names</strong>: Environment variable names are case-sensitive. Make sure you use the correct names.</li>
<li><strong>Not Adding <code>.env</code> to <code>.gitignore</code></strong>: Always add your <code>.env</code> file to <code>.gitignore</code> to prevent sensitive information from being committed to version control.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned about environment variables, how to set them, and how to use them in a Node.js application. We also covered best practices for managing environment variables and provided a practical exercise to reinforce the concepts. Understanding and properly managing environment variables is crucial for building secure and configurable applications.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-05-graphql-nodejs' title="GraphQL with Node.js">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='11-02-using-pm2' title="Using PM2 for Process Management">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
