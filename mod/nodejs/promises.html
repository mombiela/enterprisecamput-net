<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises in Node.js</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nodejs/promises" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nodejs/promises" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nodejs/promises" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nodejs/promises" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nodejs/promises" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='callbacks'>&#x25C4;Callbacks</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Promises in Node.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='async-await'>Async/Await &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Promises</h1>
<div class='content'><p>Promises are a modern way to handle asynchronous operations in JavaScript, providing a more readable and manageable approach compared to traditional callbacks.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Asynchronous Operations</strong>: Operations that do not block the execution of the program.</li>
<li><strong>Promise States</strong>:
<ul>
<li><strong>Pending</strong>: Initial state, neither fulfilled nor rejected.</li>
<li><strong>Fulfilled</strong>: Operation completed successfully.</li>
<li><strong>Rejected</strong>: Operation failed.</li>
</ul>
</li>
<li><strong>Promise Methods</strong>:
<ul>
<li><code>.then()</code>: Handles fulfillment.</li>
<li><code>.catch()</code>: Handles rejection.</li>
<li><code>.finally()</code>: Executes regardless of the outcome.</li>
</ul>
</li>
</ul>
</div><h2>Basic Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgbXlQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIGxldCBzdWNjZXNzID0gdHJ1ZTsgLy8gU2ltdWxhdGUgc3VjY2VzcyBvciBmYWlsdXJlCiAgaWYgKHN1Y2Nlc3MpIHsKICAgIHJlc29sdmUoJ09wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bCEnKTsKICB9IGVsc2UgewogICAgcmVqZWN0KCdPcGVyYXRpb24gZmFpbGVkLicpOwogIH0KfSk7CgpteVByb21pc2UKICAudGhlbigobWVzc2FnZSkgPT4gewogICAgY29uc29sZS5sb2cobWVzc2FnZSk7IC8vIE91dHB1dDogT3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsIQogIH0pCiAgLmNhdGNoKChlcnJvcikgPT4gewogICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const myPromise = new Promise((resolve, reject) =&gt; {
  let success = true; // Simulate success or failure
  if (success) {
    resolve('Operation was successful!');
  } else {
    reject('Operation failed.');
  }
});

myPromise
  .then((message) =&gt; {
    console.log(message); // Output: Operation was successful!
  })
  .catch((error) =&gt; {
    console.error(error);
  });</pre></div><div class='content'></div><h1>Creating and Using Promises</h1>
<h2>Creating a Promise</h2>
<div class='content'><p>A Promise is created using the <code>Promise</code> constructor, which takes a function with two parameters: <code>resolve</code> and <code>reject</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAvLyBBc3luY2hyb25vdXMgb3BlcmF0aW9uCiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICByZXNvbHZlKCdEYXRhIGZldGNoZWQgc3VjY2Vzc2Z1bGx5IScpOwogIH0sIDIwMDApOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const promise = new Promise((resolve, reject) =&gt; {
  // Asynchronous operation
  setTimeout(() =&gt; {
    resolve('Data fetched successfully!');
  }, 2000);
});</pre></div><div class='content'></div><h2>Handling Promises with `.then()`, `.catch()`, and `.finally()`</h2>
<div class='content'><ul>
<li><strong><code>.then()</code></strong>: Used to handle the resolved value of the Promise.</li>
<li><strong><code>.catch()</code></strong>: Used to handle any errors or rejections.</li>
<li><strong><code>.finally()</code></strong>: Executes code after the Promise is settled, regardless of its outcome.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvbWlzZQogIC50aGVuKChkYXRhKSA9PiB7CiAgICBjb25zb2xlLmxvZyhkYXRhKTsgLy8gT3V0cHV0OiBEYXRhIGZldGNoZWQgc3VjY2Vzc2Z1bGx5IQogIH0pCiAgLmNhdGNoKChlcnJvcikgPT4gewogICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgfSkKICAuZmluYWxseSgoKSA9PiB7CiAgICBjb25zb2xlLmxvZygnT3BlcmF0aW9uIGNvbXBsZXRlZC4nKTsKICB9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>promise
  .then((data) =&gt; {
    console.log(data); // Output: Data fetched successfully!
  })
  .catch((error) =&gt; {
    console.error(error);
  })
  .finally(() =&gt; {
    console.log('Operation completed.');
  });</pre></div><div class='content'></div><h1>Chaining Promises</h1>
<div class='content'><p>Promises can be chained to handle multiple asynchronous operations in sequence.</p>
</div><h2>Example of Chaining</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZmV0Y2hEYXRhID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIHNldFRpbWVvdXQoKCkgPT4gewogICAgcmVzb2x2ZSgnRGF0YSBmZXRjaGVkJyk7CiAgfSwgMTAwMCk7Cn0pOwoKZmV0Y2hEYXRhCiAgLnRoZW4oKGRhdGEpID0+IHsKICAgIGNvbnNvbGUubG9nKGRhdGEpOyAvLyBPdXRwdXQ6IERhdGEgZmV0Y2hlZAogICAgcmV0dXJuICdQcm9jZXNzaW5nIGRhdGEnOwogIH0pCiAgLnRoZW4oKHByb2Nlc3NNZXNzYWdlKSA9PiB7CiAgICBjb25zb2xlLmxvZyhwcm9jZXNzTWVzc2FnZSk7IC8vIE91dHB1dDogUHJvY2Vzc2luZyBkYXRhCiAgICByZXR1cm4gJ0RhdGEgcHJvY2Vzc2VkJzsKICB9KQogIC50aGVuKChmaW5hbE1lc3NhZ2UpID0+IHsKICAgIGNvbnNvbGUubG9nKGZpbmFsTWVzc2FnZSk7IC8vIE91dHB1dDogRGF0YSBwcm9jZXNzZWQKICB9KQogIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const fetchData = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve('Data fetched');
  }, 1000);
});

fetchData
  .then((data) =&gt; {
    console.log(data); // Output: Data fetched
    return 'Processing data';
  })
  .then((processMessage) =&gt; {
    console.log(processMessage); // Output: Processing data
    return 'Data processed';
  })
  .then((finalMessage) =&gt; {
    console.log(finalMessage); // Output: Data processed
  })
  .catch((error) =&gt; {
    console.error(error);
  });</pre></div><div class='content'></div><h1>Advanced Promise Patterns</h1>
<h2>Promise.all</h2>
<div class='content'><p><code>Promise.all</code> is used to handle multiple Promises concurrently. It resolves when all Promises in the array have resolved.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcHJvbWlzZTEgPSBQcm9taXNlLnJlc29sdmUoJ1Byb21pc2UgMSByZXNvbHZlZCcpOwpjb25zdCBwcm9taXNlMiA9IFByb21pc2UucmVzb2x2ZSgnUHJvbWlzZSAyIHJlc29sdmVkJyk7CgpQcm9taXNlLmFsbChbcHJvbWlzZTEsIHByb21pc2UyXSkKICAudGhlbigocmVzdWx0cykgPT4gewogICAgY29uc29sZS5sb2cocmVzdWx0cyk7IC8vIE91dHB1dDogWydQcm9taXNlIDEgcmVzb2x2ZWQnLCAnUHJvbWlzZSAyIHJlc29sdmVkJ10KICB9KQogIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const promise1 = Promise.resolve('Promise 1 resolved');
const promise2 = Promise.resolve('Promise 2 resolved');

Promise.all([promise1, promise2])
  .then((results) =&gt; {
    console.log(results); // Output: ['Promise 1 resolved', 'Promise 2 resolved']
  })
  .catch((error) =&gt; {
    console.error(error);
  });</pre></div><div class='content'></div><h2>Promise.race</h2>
<div class='content'><p><code>Promise.race</code> resolves or rejects as soon as one of the Promises in the array resolves or rejects.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDAsICdGaXJzdCcpKTsKY29uc3QgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAsICdTZWNvbmQnKSk7CgpQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pCiAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgY29uc29sZS5sb2cocmVzdWx0KTsgLy8gT3V0cHV0OiBTZWNvbmQKICB9KQogIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const promise1 = new Promise((resolve) =&gt; setTimeout(resolve, 500, 'First'));
const promise2 = new Promise((resolve) =&gt; setTimeout(resolve, 100, 'Second'));

Promise.race([promise1, promise2])
  .then((result) =&gt; {
    console.log(result); // Output: Second
  })
  .catch((error) =&gt; {
    console.error(error);
  });</pre></div><div class='content'></div><h1>Error Handling in Promises</h1>
<div class='content'><p>Proper error handling is crucial when working with Promises to ensure that errors are caught and managed appropriately.</p>
</div><h2>Example of Error Handling</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZmF1bHR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIHJlamVjdCgnU29tZXRoaW5nIHdlbnQgd3JvbmchJyk7CiAgfSwgMTAwMCk7Cn0pOwoKZmF1bHR5UHJvbWlzZQogIC50aGVuKChkYXRhKSA9PiB7CiAgICBjb25zb2xlLmxvZyhkYXRhKTsKICB9KQogIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBPdXRwdXQ6IFNvbWV0aGluZyB3ZW50IHdyb25nIQogIH0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const faultyPromise = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    reject('Something went wrong!');
  }, 1000);
});

faultyPromise
  .then((data) =&gt; {
    console.log(data);
  })
  .catch((error) =&gt; {
    console.error(error); // Output: Something went wrong!
  });</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Promises provide a powerful and flexible way to handle asynchronous operations in Node.js. By understanding and utilizing Promises, developers can write cleaner, more readable, and maintainable code. Key takeaways include:</p>
<ul>
<li>Understanding the states and methods of Promises.</li>
<li>Creating and using Promises effectively.</li>
<li>Chaining Promises for sequential operations.</li>
<li>Using advanced patterns like <code>Promise.all</code> and <code>Promise.race</code>.</li>
<li>Properly handling errors in Promises.</li>
</ul>
<p>With these concepts, you can confidently manage asynchronous operations in your Node.js applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='callbacks'>&#x25C4;Callbacks</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Promises in Node.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='async-await'>Async/Await &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
