<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Routing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nodejs/04-04-routing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nodejs/04-04-routing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nodejs/04-04-routing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/nodejs/04-04-routing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/nodejs/04-04-routing" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-serving-static-files' title="Serving Static Files">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Routing</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-introduction-to-npm' title="Introduction to NPM">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Routing is a fundamental concept in web development that involves determining how an application responds to a client request to a particular endpoint, which is a URI (or path) and a specific HTTP request method (GET, POST, etc.). In Node.js, routing is typically handled using frameworks like Express.js, which simplifies the process significantly.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Routes</strong>: Define the endpoints and the HTTP methods that your application will respond to.</li>
<li><strong>Route Handlers</strong>: Functions that are executed when a specific route is matched.</li>
<li><strong>Middleware</strong>: Functions that have access to the request object (req), the response object (res), and the next middleware function in the applicationâ€™s request-response cycle.</li>
</ol>
</div><h1>Setting Up Routing in Node.js with Express</h1>
<div class='content'></div><h2>Step 1: Install Express</h2>
<div class='content'><p>First, ensure you have Express installed in your project. If not, you can install it using npm:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgZXhwcmVzcw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install express</pre></div><div class='content'></div><h2>Step 2: Create a Basic Express Application</h2>
<div class='content'><p>Create a file named <code>app.js</code> and set up a basic Express application:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgYXBwID0gZXhwcmVzcygpOwpjb25zdCBwb3J0ID0gMzAwMDsKCmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gewogIGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const express = require('express');
const app = express();
const port = 3000;

app.listen(port, () =&gt; {
  console.log(`Server is running on http://localhost:${port}`);
});</pre></div><div class='content'></div><h2>Step 3: Define Routes</h2>
<div class='content'><p>Add routes to handle different HTTP methods and paths. For example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR0VUIHJlcXVlc3QgdG8gdGhlIHJvb3QgVVJMICgvKQphcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7CiAgcmVzLnNlbmQoJ0hlbGxvLCBXb3JsZCEnKTsKfSk7CgovLyBHRVQgcmVxdWVzdCB0byAvYWJvdXQKYXBwLmdldCgnL2Fib3V0JywgKHJlcSwgcmVzKSA9PiB7CiAgcmVzLnNlbmQoJ0Fib3V0IFVzJyk7Cn0pOwoKLy8gUE9TVCByZXF1ZXN0IHRvIC9jb250YWN0CmFwcC5wb3N0KCcvY29udGFjdCcsIChyZXEsIHJlcykgPT4gewogIHJlcy5zZW5kKCdDb250YWN0IFVzJyk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// GET request to the root URL (/)
app.get('/', (req, res) =&gt; {
  res.send('Hello, World!');
});

// GET request to /about
app.get('/about', (req, res) =&gt; {
  res.send('About Us');
});

// POST request to /contact
app.post('/contact', (req, res) =&gt; {
  res.send('Contact Us');
});</pre></div><div class='content'></div><h2>Step 4: Route Parameters</h2>
<div class='content'><p>You can define route parameters to capture values in the URL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR0VUIHJlcXVlc3Qgd2l0aCBhIHJvdXRlIHBhcmFtZXRlcgphcHAuZ2V0KCcvdXNlci86aWQnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zLmlkOwogIHJlcy5zZW5kKGBVc2VyIElEOiAke3VzZXJJZH1gKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// GET request with a route parameter
app.get('/user/:id', (req, res) =&gt; {
  const userId = req.params.id;
  res.send(`User ID: ${userId}`);
});</pre></div><div class='content'></div><h2>Step 5: Query Parameters</h2>
<div class='content'><p>Handle query parameters using <code>req.query</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR0VUIHJlcXVlc3Qgd2l0aCBxdWVyeSBwYXJhbWV0ZXJzCmFwcC5nZXQoJy9zZWFyY2gnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCBxdWVyeSA9IHJlcS5xdWVyeS5xOwogIHJlcy5zZW5kKGBTZWFyY2ggUXVlcnk6ICR7cXVlcnl9YCk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// GET request with query parameters
app.get('/search', (req, res) =&gt; {
  const query = req.query.q;
  res.send(`Search Query: ${query}`);
});</pre></div><div class='content'></div><h2>Step 6: Using Middleware</h2>
<div class='content'><p>Middleware functions can be used to handle requests before they reach the route handlers:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWlkZGxld2FyZSB0byBsb2cgcmVxdWVzdCBkZXRhaWxzCmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7CiAgY29uc29sZS5sb2coYCR7cmVxLm1ldGhvZH0gcmVxdWVzdCBmb3IgJyR7cmVxLnVybH0nYCk7CiAgbmV4dCgpOwp9KTsKCi8vIFJvdXRlIGhhbmRsZXIKYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4gewogIHJlcy5zZW5kKCdIZWxsbywgV29ybGQhJyk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Middleware to log request details
app.use((req, res, next) =&gt; {
  console.log(`${req.method} request for '${req.url}'`);
  next();
});

// Route handler
app.get('/', (req, res) =&gt; {
  res.send('Hello, World!');
});</pre></div><div class='content'></div><h1>Practical Example</h1>
<div class='content'><p>Let's create a small application with multiple routes and middleware:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgYXBwID0gZXhwcmVzcygpOwpjb25zdCBwb3J0ID0gMzAwMDsKCi8vIE1pZGRsZXdhcmUgdG8gbG9nIHJlcXVlc3QgZGV0YWlscwphcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4gewogIGNvbnNvbGUubG9nKGAke3JlcS5tZXRob2R9IHJlcXVlc3QgZm9yICcke3JlcS51cmx9J2ApOwogIG5leHQoKTsKfSk7CgovLyBIb21lIHJvdXRlCmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHsKICByZXMuc2VuZCgnV2VsY29tZSB0byB0aGUgSG9tZSBQYWdlJyk7Cn0pOwoKLy8gQWJvdXQgcm91dGUKYXBwLmdldCgnL2Fib3V0JywgKHJlcSwgcmVzKSA9PiB7CiAgcmVzLnNlbmQoJ0Fib3V0IFVzJyk7Cn0pOwoKLy8gVXNlciByb3V0ZSB3aXRoIHBhcmFtZXRlcgphcHAuZ2V0KCcvdXNlci86aWQnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zLmlkOwogIHJlcy5zZW5kKGBVc2VyIElEOiAke3VzZXJJZH1gKTsKfSk7CgovLyBTZWFyY2ggcm91dGUgd2l0aCBxdWVyeSBwYXJhbWV0ZXIKYXBwLmdldCgnL3NlYXJjaCcsIChyZXEsIHJlcykgPT4gewogIGNvbnN0IHF1ZXJ5ID0gcmVxLnF1ZXJ5LnE7CiAgcmVzLnNlbmQoYFNlYXJjaCBRdWVyeTogJHtxdWVyeX1gKTsKfSk7CgphcHAubGlzdGVuKHBvcnQsICgpID0+IHsKICBjb25zb2xlLmxvZyhgU2VydmVyIGlzIHJ1bm5pbmcgb24gaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9YCk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const express = require('express');
const app = express();
const port = 3000;

// Middleware to log request details
app.use((req, res, next) =&gt; {
  console.log(`${req.method} request for '${req.url}'`);
  next();
});

// Home route
app.get('/', (req, res) =&gt; {
  res.send('Welcome to the Home Page');
});

// About route
app.get('/about', (req, res) =&gt; {
  res.send('About Us');
});

// User route with parameter
app.get('/user/:id', (req, res) =&gt; {
  const userId = req.params.id;
  res.send(`User ID: ${userId}`);
});

// Search route with query parameter
app.get('/search', (req, res) =&gt; {
  const query = req.query.q;
  res.send(`Search Query: ${query}`);
});

app.listen(port, () =&gt; {
  console.log(`Server is running on http://localhost:${port}`);
});</pre></div><div class='content'></div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Create a New Route</h2>
<div class='content'><ol>
<li>Add a new route <code>/services</code> that responds with a list of services.</li>
<li>Add a new route <code>/contact</code> that responds with a contact form (just a simple message for now).</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2VydmljZXMgcm91dGUKYXBwLmdldCgnL3NlcnZpY2VzJywgKHJlcSwgcmVzKSA9PiB7CiAgcmVzLnNlbmQoJ091ciBTZXJ2aWNlczogV2ViIERldmVsb3BtZW50LCBNb2JpbGUgQXBwIERldmVsb3BtZW50LCBTRU8nKTsKfSk7CgovLyBDb250YWN0IHJvdXRlCmFwcC5nZXQoJy9jb250YWN0JywgKHJlcSwgcmVzKSA9PiB7CiAgcmVzLnNlbmQoJ0NvbnRhY3QgVXMgYXQgY29udGFjdEBleGFtcGxlLmNvbScpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Services route
app.get('/services', (req, res) =&gt; {
  res.send('Our Services: Web Development, Mobile App Development, SEO');
});

// Contact route
app.get('/contact', (req, res) =&gt; {
  res.send('Contact Us at contact@example.com');
});</pre></div><div class='content'></div><h2>Exercise 2: Route with Parameters</h2>
<div class='content'><ol>
<li>Create a route <code>/product/:id</code> that responds with the product ID.</li>
<li>Create a route <code>/category/:name</code> that responds with the category name.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUHJvZHVjdCByb3V0ZSB3aXRoIHBhcmFtZXRlcgphcHAuZ2V0KCcvcHJvZHVjdC86aWQnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkOwogIHJlcy5zZW5kKGBQcm9kdWN0IElEOiAke3Byb2R1Y3RJZH1gKTsKfSk7CgovLyBDYXRlZ29yeSByb3V0ZSB3aXRoIHBhcmFtZXRlcgphcHAuZ2V0KCcvY2F0ZWdvcnkvOm5hbWUnLCAocmVxLCByZXMpID0+IHsKICBjb25zdCBjYXRlZ29yeU5hbWUgPSByZXEucGFyYW1zLm5hbWU7CiAgcmVzLnNlbmQoYENhdGVnb3J5OiAke2NhdGVnb3J5TmFtZX1gKTsKfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Product route with parameter
app.get('/product/:id', (req, res) =&gt; {
  const productId = req.params.id;
  res.send(`Product ID: ${productId}`);
});

// Category route with parameter
app.get('/category/:name', (req, res) =&gt; {
  const categoryName = req.params.name;
  res.send(`Category: ${categoryName}`);
});</pre></div><div class='content'></div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Forgetting to call <code>next()</code> in middleware</strong>: Always call <code>next()</code> to pass control to the next middleware or route handler.</li>
<li><strong>Order of routes</strong>: Ensure that more specific routes are defined before more general ones to avoid unexpected behavior.</li>
<li><strong>Error handling</strong>: Use middleware to handle errors and send appropriate responses.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Routing is a crucial part of building web applications with Node.js and Express. By understanding how to define routes, handle parameters, and use middleware, you can create robust and scalable applications. In the next module, we will dive deeper into handling HTTP requests and responses, which will further enhance your ability to build dynamic web applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-serving-static-files' title="Serving Static Files">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-introduction-to-npm' title="Introduction to NPM">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
