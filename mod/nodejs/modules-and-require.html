<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modules and require()</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nodejs/modules-and-require" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nodejs/modules-and-require" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nodejs/modules-and-require" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nodejs/modules-and-require" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nodejs/modules-and-require" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='event-loop'>&#x25C4;Understanding the Node.js Event Loop</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Modules and require()</a>
	</div>
	<div class='col-4 text-end'>
					<a href='file-system-operations'>File System Operations &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Modules</h1>
<div class='content'><p>Modules are a fundamental part of Node.js, allowing you to organize your code into reusable pieces. This section will cover the basics of modules and how to use them effectively in your Node.js applications.</p>
</div><h2>What is a Module?</h2>
<div class='content'><ul>
<li>A module is a reusable piece of code that can be exported and imported in other parts of your application.</li>
<li>Node.js uses the CommonJS module system, where each file is treated as a separate module.</li>
</ul>
</div><h2>Why Use Modules?</h2>
<div class='content'><ul>
<li><strong>Code Organization</strong>: Break your code into smaller, manageable pieces.</li>
<li><strong>Reusability</strong>: Use the same code in multiple parts of your application.</li>
<li><strong>Maintainability</strong>: Easier to maintain and update your code.</li>
</ul>
</div><h1>Using require() to Import Modules</h1>
<div class='content'><p>The <code>require()</code> function is used to import modules in Node.js.</p>
</div><h2>Basic Usage</h2>
<div class='content'><p>To import a module, you use the <code>require()</code> function followed by the path to the module.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW1wb3J0aW5nIGEgYnVpbHQtaW4gbW9kdWxlCmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJyk7CgovLyBJbXBvcnRpbmcgYSBsb2NhbCBtb2R1bGUKY29uc3QgbXlNb2R1bGUgPSByZXF1aXJlKCcuL215TW9kdWxlJyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Importing a built-in module
const http = require('http');

// Importing a local module
const myModule = require('./myModule');</pre></div><div class='content'></div><h2>Built-in Modules</h2>
<div class='content'><p>Node.js comes with several built-in modules that you can use without installing anything.</p>
<ul>
<li><strong>http</strong>: Used to create HTTP servers and clients.</li>
<li><strong>fs</strong>: Provides an API for interacting with the file system.</li>
<li><strong>path</strong>: Utilities for working with file and directory paths.</li>
</ul>
<p>Example of using the <code>http</code> module:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKCmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4gewogIHJlcy5zdGF0dXNDb2RlID0gMjAwOwogIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7CiAgcmVzLmVuZCgnSGVsbG8sIFdvcmxkIVxuJyk7Cn0pOwoKc2VydmVyLmxpc3RlbigzMDAwLCAnMTI3LjAuMC4xJywgKCkgPT4gewogIGNvbnNvbGUubG9nKCdTZXJ2ZXIgcnVubmluZyBhdCBodHRwOi8vMTI3LjAuMC4xOjMwMDAvJyk7Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const http = require('http');

const server = http.createServer((req, res) =&gt; {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello, World!\n');
});

server.listen(3000, '127.0.0.1', () =&gt; {
  console.log('Server running at http://127.0.0.1:3000/');
});</pre></div><div class='content'></div><h2>Local Modules</h2>
<div class='content'><p>You can create your own modules and import them using <code>require()</code>.</p>
<p>Example of a local module (<code>math.js</code>):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWF0aC5qcwpmdW5jdGlvbiBhZGQoYSwgYikgewogIHJldHVybiBhICsgYjsKfQoKZnVuY3Rpb24gc3VidHJhY3QoYSwgYikgewogIHJldHVybiBhIC0gYjsKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgYWRkLAogIHN1YnRyYWN0Cn07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// math.js
function add(a, b) {
  return a + b;
}

function subtract(a, b) {
  return a - b;
}

module.exports = {
  add,
  subtract
};</pre></div><div class='content'><p>Importing and using the local module:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYXBwLmpzCmNvbnN0IG1hdGggPSByZXF1aXJlKCcuL21hdGgnKTsKCmNvbnNvbGUubG9nKG1hdGguYWRkKDIsIDMpKTsgLy8gT3V0cHV0OiA1CmNvbnNvbGUubG9nKG1hdGguc3VidHJhY3QoNSwgMikpOyAvLyBPdXRwdXQ6IDM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// app.js
const math = require('./math');

console.log(math.add(2, 3)); // Output: 5
console.log(math.subtract(5, 2)); // Output: 3</pre></div><div class='content'></div><h1>Exporting Modules</h1>
<div class='content'><p>To make functions, objects, or values available to other modules, you need to export them.</p>
</div><h2>module.exports vs exports</h2>
<div class='content'><ul>
<li><strong>module.exports</strong>: The object that is actually returned as the result of a <code>require()</code> call.</li>
<li><strong>exports</strong>: A shorthand for <code>module.exports</code>.</li>
</ul>
<p>Example using <code>module.exports</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbG9nZ2VyLmpzCm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWVzc2FnZSkgewogIGNvbnNvbGUubG9nKG1lc3NhZ2UpOwp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// logger.js
module.exports = function(message) {
  console.log(message);
};</pre></div><div class='content'><p>Example using <code>exports</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY2FsY3VsYXRvci5qcwpleHBvcnRzLmFkZCA9IGZ1bmN0aW9uKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn07CgpleHBvcnRzLnN1YnRyYWN0ID0gZnVuY3Rpb24oYSwgYikgewogIHJldHVybiBhIC0gYjsKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// calculator.js
exports.add = function(a, b) {
  return a + b;
};

exports.subtract = function(a, b) {
  return a - b;
};</pre></div><div class='content'></div><h1>Advanced Module Concepts</h1>
<div class='content'><p>As you become more comfortable with modules, you can explore more advanced concepts.</p>
</div><h2>Circular Dependencies</h2>
<div class='content'><p>Circular dependencies occur when two or more modules depend on each other. Node.js handles this by returning a partially constructed module.</p>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYS5qcwpjb25zdCBiID0gcmVxdWlyZSgnLi9iJyk7CmNvbnNvbGUubG9nKCdJbiBhLmpzLCBiLmRvbmUgPScsIGIuZG9uZSk7CmV4cG9ydHMuZG9uZSA9IHRydWU7CgovLyBiLmpzCmNvbnN0IGEgPSByZXF1aXJlKCcuL2EnKTsKY29uc29sZS5sb2coJ0luIGIuanMsIGEuZG9uZSA9JywgYS5kb25lKTsKZXhwb3J0cy5kb25lID0gdHJ1ZTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// a.js
const b = require('./b');
console.log('In a.js, b.done =', b.done);
exports.done = true;

// b.js
const a = require('./a');
console.log('In b.js, a.done =', a.done);
exports.done = true;</pre></div><div class='content'></div><h2>Caching</h2>
<div class='content'><p>Modules are cached after the first time they are loaded. This means that subsequent <code>require()</code> calls will return the cached version.</p>
<p>Example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gY291bnRlci5qcwpsZXQgY291bnQgPSAwOwoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgaW5jcmVtZW50OiAoKSA9PiBjb3VudCsrLAogIGdldENvdW50OiAoKSA9PiBjb3VudAp9OwoKLy8gYXBwLmpzCmNvbnN0IGNvdW50ZXIgPSByZXF1aXJlKCcuL2NvdW50ZXInKTsKY291bnRlci5pbmNyZW1lbnQoKTsKY29uc29sZS5sb2coY291bnRlci5nZXRDb3VudCgpKTsgLy8gT3V0cHV0OiAxCgpjb25zdCBjb3VudGVyQWdhaW4gPSByZXF1aXJlKCcuL2NvdW50ZXInKTsKY29uc29sZS5sb2coY291bnRlckFnYWluLmdldENvdW50KCkpOyAvLyBPdXRwdXQ6IDEgKGNhY2hlZCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// counter.js
let count = 0;

module.exports = {
  increment: () =&gt; count++,
  getCount: () =&gt; count
};

// app.js
const counter = require('./counter');
counter.increment();
console.log(counter.getCount()); // Output: 1

const counterAgain = require('./counter');
console.log(counterAgain.getCount()); // Output: 1 (cached)</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Understanding modules and the <code>require()</code> function is crucial for developing efficient and maintainable Node.js applications. By organizing your code into modules, you can improve code readability, reusability, and maintainability. As you advance, you'll encounter more complex scenarios like circular dependencies and caching, but the foundational concepts remain the same. Happy coding!</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='event-loop'>&#x25C4;Understanding the Node.js Event Loop</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Modules and require()</a>
	</div>
	<div class='col-4 text-end'>
					<a href='file-system-operations'>File System Operations &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
