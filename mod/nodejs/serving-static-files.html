<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serving Static Files</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nodejs/serving-static-files" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nodejs/serving-static-files" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nodejs/serving-static-files" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nodejs/serving-static-files" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nodejs/serving-static-files" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='routing'>&#x25C4;Routing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serving Static Files</a>
	</div>
	<div class='col-4 text-end'>
					<a href='intro-to-databases'>Introduction to Databases &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to serve static files using Node.js. Static files include HTML, CSS, JavaScript, images, and other resources that do not change dynamically. Serving these files efficiently is crucial for building web applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Static Files</strong>: Files that do not change dynamically and are served as-is to the client.</li>
<li><strong>Node.js</strong>: A JavaScript runtime built on Chrome's V8 JavaScript engine, commonly used for server-side development.</li>
<li><strong>Express.js</strong>: A minimal and flexible Node.js web application framework that provides robust features for web and mobile applications.</li>
</ul>
</div><h1>Setting Up the Project</h1>
<div class='content'><p>Before we start serving static files, let's set up a basic Node.js project.</p>
<ol>
<li>
<p><strong>Initialize a Node.js Project</strong>:</p>
<pre><code class="language-bash">mkdir static-files-example
cd static-files-example
npm init -y
</code></pre>
</li>
<li>
<p><strong>Install Express.js</strong>:</p>
<pre><code class="language-bash">npm install express
</code></pre>
</li>
<li>
<p><strong>Create the Project Structure</strong>:</p>
<pre><code>static-files-example/
├── public/
│   ├── css/
│   │   └── styles.css
│   ├── js/
│   │   └── script.js
│   └── index.html
├── server.js
└── package.json
</code></pre>
</li>
</ol>
</div><h1>Serving Static Files with Express.js</h1>
<div class='content'><p>Express.js makes it straightforward to serve static files using the <code>express.static</code> middleware.</p>
</div><h2>Basic Example</h2>
<div class='content'><ol>
<li>
<p><strong>Create <code>server.js</code></strong>:</p>
<pre><code class="language-javascript">const express = require('express');
const path = require('path');
const app = express();

// Serve static files from the 'public' directory
app.use(express.static(path.join(__dirname, 'public')));

const PORT = process.env.PORT || 3000;
app.listen(PORT, () =&gt; {
    console.log(`Server is running on port ${PORT}`);
});
</code></pre>
</li>
<li>
<p><strong>Create <code>public/index.html</code></strong>:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Static Files Example&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/styles.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
    &lt;script src=&quot;js/script.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>
<p><strong>Create <code>public/css/styles.css</code></strong>:</p>
<pre><code class="language-css">body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    text-align: center;
    padding: 50px;
}
</code></pre>
</li>
<li>
<p><strong>Create <code>public/js/script.js</code></strong>:</p>
<pre><code class="language-javascript">document.addEventListener('DOMContentLoaded', () =&gt; {
    console.log('JavaScript is working!');
});
</code></pre>
</li>
</ol>
</div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>express.static</strong>: This middleware serves static files from the specified directory. In this case, it serves files from the <code>public</code> directory.</li>
<li><strong>path.join</strong>: This method joins the given path segments into a single path, ensuring cross-platform compatibility.</li>
</ul>
</div><h1>Advanced Configuration</h1>
<div class='content'></div><h2>Serving Multiple Directories</h2>
<div class='content'><p>You can serve static files from multiple directories by calling <code>express.static</code> multiple times.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTsKYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnYXNzZXRzJykpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>app.use(express.static(path.join(__dirname, 'public')));
app.use(express.static(path.join(__dirname, 'assets')));</pre></div><div class='content'></div><h2>Customizing Cache Control</h2>
<div class='content'><p>You can customize the cache control headers for the static files by passing options to <code>express.static</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJyksIHsKICAgIG1heEFnZTogJzFkJywgLy8gQ2FjaGUgZmlsZXMgZm9yIG9uZSBkYXkKICAgIGV0YWc6IGZhbHNlICAgLy8gRGlzYWJsZSBFVGFnIGhlYWRlcnMKfSkpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>app.use(express.static(path.join(__dirname, 'public'), {
    maxAge: '1d', // Cache files for one day
    etag: false   // Disable ETag headers
}));</pre></div><div class='content'></div><h2>Handling 404 Errors for Static Files</h2>
<div class='content'><p>To handle 404 errors for static files, you can add a middleware function after the static file middleware.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHsKICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdGaWxlIG5vdCBmb3VuZCcpOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>app.use((req, res, next) =&gt; {
    res.status(404).send('File not found');
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Serving static files is a fundamental aspect of building web applications with Node.js and Express.js. By understanding how to set up and configure static file serving, you can ensure that your web application delivers resources efficiently and effectively. This knowledge forms the foundation for more advanced topics in web development, such as optimizing performance and implementing security measures.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='routing'>&#x25C4;Routing</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serving Static Files</a>
	</div>
	<div class='col-4 text-end'>
					<a href='intro-to-databases'>Introduction to Databases &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
