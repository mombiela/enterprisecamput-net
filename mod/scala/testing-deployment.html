<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing and Deployment</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/testing-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/testing-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/testing-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/scala/testing-deployment" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/scala/testing-deployment" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Deployment</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-presentation'>Project Presentation &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Testing and deployment are critical aspects of software development that ensure your Scala applications are reliable, maintainable, and ready for production. This section will cover the basics of testing in Scala, including unit testing, integration testing, and end-to-end testing. We will also explore deployment strategies and tools to efficiently deploy Scala applications.</p>
</div><h1>Unit Testing in Scala</h1>
<div class='content'><p>Unit testing involves testing individual components or functions in isolation to ensure they work as expected.</p>
<ul>
<li><strong>ScalaTest</strong>: A popular testing framework for Scala.</li>
<li><strong>Assertions</strong>: Methods to check if a condition is true.</li>
<li><strong>Test Suites</strong>: Collections of related tests.</li>
</ul>
</div><h2>Example: Basic Unit Test with ScalaTest</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKCmNsYXNzIENhbGN1bGF0b3JTcGVjIGV4dGVuZHMgQW55RmxhdFNwZWMgewogICJBIENhbGN1bGF0b3IiIHNob3VsZCAiYWRkIHR3byBudW1iZXJzIGNvcnJlY3RseSIgaW4gewogICAgdmFsIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcgogICAgYXNzZXJ0KGNhbGN1bGF0b3IuYWRkKDIsIDMpID09PSA1KQogIH0KfQoKY2xhc3MgQ2FsY3VsYXRvciB7CiAgZGVmIGFkZChhOiBJbnQsIGI6IEludCk6IEludCA9IGEgKyBiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.scalatest.flatspec.AnyFlatSpec

class CalculatorSpec extends AnyFlatSpec {
  &quot;A Calculator&quot; should &quot;add two numbers correctly&quot; in {
    val calculator = new Calculator
    assert(calculator.add(2, 3) === 5)
  }
}

class Calculator {
  def add(a: Int, b: Int): Int = a + b
}</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>AnyFlatSpec</code> is a style of writing tests in ScalaTest.</li>
<li><code>assert</code> checks if the result of <code>calculator.add(2, 3)</code> is equal to <code>5</code>.</li>
</ul>
</div><h1>Integration Testing</h1>
<div class='content'><p>Integration testing involves testing multiple components together to ensure they work correctly as a system.</p>
<ul>
<li><strong>Database Testing</strong>: Testing interactions with the database.</li>
<li><strong>Service Testing</strong>: Testing interactions between different services.</li>
</ul>
</div><h2>Example: Integration Test with a Database</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKaW1wb3J0IG9yZy5zY2FsYXRlc3QuQmVmb3JlQW5kQWZ0ZXIKaW1wb3J0IHNsaWNrLmpkYmMuSDJQcm9maWxlLmFwaS5fCgpjbGFzcyBEYXRhYmFzZVNwZWMgZXh0ZW5kcyBBbnlGbGF0U3BlYyB3aXRoIEJlZm9yZUFuZEFmdGVyIHsKICB2YXIgZGI6IERhdGFiYXNlID0gXwoKICBiZWZvcmUgewogICAgZGIgPSBEYXRhYmFzZS5mb3JDb25maWcoImgybWVtMSIpCiAgICAvLyBTZXR1cCBzY2hlbWEgYW5kIGluc2VydCB0ZXN0IGRhdGEKICB9CgogIGFmdGVyIHsKICAgIGRiLmNsb3NlKCkKICB9CgogICJEYXRhYmFzZSIgc2hvdWxkICJyZXRyaWV2ZSBjb3JyZWN0IGRhdGEiIGluIHsKICAgIHZhbCByZXN1bHQgPSBkYi5ydW4oc3FsIlNFTEVDVCBuYW1lIEZST00gdXNlcnMgV0hFUkUgaWQgPSAxIi5hc1tTdHJpbmddKQogICAgYXNzZXJ0KHJlc3VsdC5oZWFkID09PSAiSm9obiBEb2UiKQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.BeforeAndAfter
import slick.jdbc.H2Profile.api._

class DatabaseSpec extends AnyFlatSpec with BeforeAndAfter {
  var db: Database = _

  before {
    db = Database.forConfig(&quot;h2mem1&quot;)
    // Setup schema and insert test data
  }

  after {
    db.close()
  }

  &quot;Database&quot; should &quot;retrieve correct data&quot; in {
    val result = db.run(sql&quot;SELECT name FROM users WHERE id = 1&quot;.as[String])
    assert(result.head === &quot;John Doe&quot;)
  }
}</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>BeforeAndAfter</code> trait is used to set up and tear down the database before and after tests.</li>
<li><code>db.run</code> executes a SQL query and retrieves data.</li>
</ul>
</div><h1>End-to-End Testing</h1>
<div class='content'><p>End-to-end testing involves testing the entire application flow, from the user interface to the backend services.</p>
<ul>
<li><strong>Selenium</strong>: A tool for automating web browsers.</li>
<li><strong>Cucumber</strong>: A tool for running automated tests written in plain language.</li>
</ul>
</div><h2>Example: End-to-End Test with Selenium</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5vcGVucWEuc2VsZW5pdW0uV2ViRHJpdmVyCmltcG9ydCBvcmcub3BlbnFhLnNlbGVuaXVtLmNocm9tZS5DaHJvbWVEcml2ZXIKaW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKCmNsYXNzIFdlYkFwcFNwZWMgZXh0ZW5kcyBBbnlGbGF0U3BlYyB7CiAgIldlYiBBcHBsaWNhdGlvbiIgc2hvdWxkICJkaXNwbGF5IHRoZSBjb3JyZWN0IHRpdGxlIiBpbiB7CiAgICBTeXN0ZW0uc2V0UHJvcGVydHkoIndlYmRyaXZlci5jaHJvbWUuZHJpdmVyIiwgIi9wYXRoL3RvL2Nocm9tZWRyaXZlciIpCiAgICB2YWwgZHJpdmVyOiBXZWJEcml2ZXIgPSBuZXcgQ2hyb21lRHJpdmVyKCkKICAgIGRyaXZlci5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMCIpCiAgICBhc3NlcnQoZHJpdmVyLmdldFRpdGxlID09PSAiTXkgU2NhbGEgV2ViIEFwcCIpCiAgICBkcml2ZXIucXVpdCgpCiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.openqa.selenium.WebDriver
import org.openqa.selenium.chrome.ChromeDriver
import org.scalatest.flatspec.AnyFlatSpec

class WebAppSpec extends AnyFlatSpec {
  &quot;Web Application&quot; should &quot;display the correct title&quot; in {
    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/path/to/chromedriver&quot;)
    val driver: WebDriver = new ChromeDriver()
    driver.get(&quot;http://localhost:9000&quot;)
    assert(driver.getTitle === &quot;My Scala Web App&quot;)
    driver.quit()
  }
}</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>ChromeDriver</code> is used to control the Chrome browser.</li>
<li><code>driver.get</code> navigates to the specified URL.</li>
<li><code>driver.getTitle</code> retrieves the title of the web page.</li>
</ul>
</div><h1>Deployment Strategies</h1>
<div class='content'><p>Deploying Scala applications involves packaging the application and deploying it to a server or cloud environment.</p>
<ul>
<li><strong>SBT Assembly</strong>: A plugin for creating a fat JAR (Java ARchive) file.</li>
<li><strong>Docker</strong>: A platform for developing, shipping, and running applications in containers.</li>
<li><strong>Kubernetes</strong>: An orchestration system for automating deployment, scaling, and management of containerized applications.</li>
</ul>
</div><h2>Example: Creating a Fat JAR with SBT Assembly</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYnVpbGQuc2J0CmxhenkgdmFsIHJvb3QgPSAocHJvamVjdCBpbiBmaWxlKCIuIikpCiAgLnNldHRpbmdzKAogICAgbmFtZSA6PSAiTXlTY2FsYUFwcCIsCiAgICB2ZXJzaW9uIDo9ICIwLjEiLAogICAgc2NhbGFWZXJzaW9uIDo9ICIyLjEzLjYiLAogICAgbGlicmFyeURlcGVuZGVuY2llcyArPSAib3JnLnNjYWxhdGVzdCIgJSUgInNjYWxhdGVzdCIgJSAiMy4yLjkiICUgVGVzdCwKICAgIGFzc2VtYmx5IC8gbWFpbkNsYXNzIDo9IFNvbWUoImNvbS5leGFtcGxlLk1haW4iKQogICkKCi8vIFRvIGNyZWF0ZSB0aGUgZmF0IEpBUiwgcnVuIHRoZSBmb2xsb3dpbmcgY29tbWFuZCBpbiB0aGUgdGVybWluYWw6CnNidCBhc3NlbWJseQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// build.sbt
lazy val root = (project in file(&quot;.&quot;))
  .settings(
    name := &quot;MyScalaApp&quot;,
    version := &quot;0.1&quot;,
    scalaVersion := &quot;2.13.6&quot;,
    libraryDependencies += &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.9&quot; % Test,
    assembly / mainClass := Some(&quot;com.example.Main&quot;)
  )

// To create the fat JAR, run the following command in the terminal:
sbt assembly</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>assembly / mainClass</code> specifies the main class for the application.</li>
<li>Running <code>sbt assembly</code> creates a fat JAR file that includes all dependencies.</li>
</ul>
</div><h2>Example: Dockerizing a Scala Application</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEb2NrZXJmaWxlCkZST00gb3BlbmpkazoxMQpDT1BZIHRhcmdldC9zY2FsYS0yLjEzL215c2NhbGFhcHAtYXNzZW1ibHktMC4xLmphciAvYXBwL215c2NhbGFhcHAuamFyCkVOVFJZUE9JTlQgWyJqYXZhIiwgIi1qYXIiLCAiL2FwcC9teXNjYWxhYXBwLmphciJd"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Dockerfile
FROM openjdk:11
COPY target/scala-2.13/myscalaapp-assembly-0.1.jar /app/myscalaapp.jar
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/myscalaapp.jar&quot;]</pre></div><div class='content'><p>Explanation:</p>
<ul>
<li><code>FROM openjdk:11</code> specifies the base image.</li>
<li><code>COPY</code> copies the fat JAR into the Docker image.</li>
<li><code>ENTRYPOINT</code> specifies the command to run the application.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Testing and deployment are essential practices for ensuring the quality and reliability of Scala applications. By mastering unit testing, integration testing, and end-to-end testing, you can catch bugs early and ensure your code works as expected. Understanding deployment strategies and tools like SBT Assembly, Docker, and Kubernetes will help you efficiently deploy your Scala applications to production environments.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementation</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Testing and Deployment</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-presentation'>Project Presentation &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
