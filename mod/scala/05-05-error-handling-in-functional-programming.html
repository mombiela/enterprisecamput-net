<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling in Functional Programming</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/05-05-error-handling-in-functional-programming" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/05-05-error-handling-in-functional-programming" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/05-05-error-handling-in-functional-programming" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/scala/05-05-error-handling-in-functional-programming" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/scala/05-05-error-handling-in-functional-programming" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-for-comprehensions' title="For-Comprehensions">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Error Handling in Functional Programming</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-implicit-conversions-and-parameters' title="Implicit Conversions and Parameters">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Error handling is a crucial aspect of any programming language, and Scala provides several functional programming constructs to handle errors gracefully. In this section, we will explore different techniques and best practices for error handling in functional programming using Scala.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Option Type</strong></li>
<li><strong>Either Type</strong></li>
<li><strong>Try Type</strong></li>
<li><strong>Custom Error Handling</strong></li>
<li><strong>Best Practices</strong></li>
</ol>
</div><h1>1. Option Type</h1>
<div class='content'><p>The <code>Option</code> type is used to represent optional values. It can either be <code>Some(value)</code> if a value is present or <code>None</code> if no value is present.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGZpbmRVc2VyQnlJZChpZDogSW50KTogT3B0aW9uW1N0cmluZ10gPSB7CiAgdmFsIHVzZXJzID0gTWFwKDEgLT4gIkFsaWNlIiwgMiAtPiAiQm9iIikKICB1c2Vycy5nZXQoaWQpCn0KCnZhbCB1c2VyMSA9IGZpbmRVc2VyQnlJZCgxKSAvLyBTb21lKCJBbGljZSIpCnZhbCB1c2VyMiA9IGZpbmRVc2VyQnlJZCgzKSAvLyBOb25l"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def findUserById(id: Int): Option[String] = {
  val users = Map(1 -&gt; &quot;Alice&quot;, 2 -&gt; &quot;Bob&quot;)
  users.get(id)
}

val user1 = findUserById(1) // Some(&quot;Alice&quot;)
val user2 = findUserById(3) // None</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>findUserById</code> returns an <code>Option[String]</code>.</li>
<li>If the user is found, it returns <code>Some(user)</code>.</li>
<li>If the user is not found, it returns <code>None</code>.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Task:</strong> Write a function that takes an <code>Option[Int]</code> and returns the square of the integer if it exists, otherwise returns <code>None</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHNxdWFyZU9wdGlvbihvcHQ6IE9wdGlvbltJbnRdKTogT3B0aW9uW0ludF0gPSB7CiAgb3B0IG1hdGNoIHsKICAgIGNhc2UgU29tZSh2YWx1ZSkgPT4gU29tZSh2YWx1ZSAqIHZhbHVlKQogICAgY2FzZSBOb25lID0+IE5vbmUKICB9Cn0KCi8vIFRlc3QgY2FzZXMKcHJpbnRsbihzcXVhcmVPcHRpb24oU29tZSg0KSkpIC8vIFNvbWUoMTYpCnByaW50bG4oc3F1YXJlT3B0aW9uKE5vbmUpKSAgICAvLyBOb25l"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def squareOption(opt: Option[Int]): Option[Int] = {
  opt match {
    case Some(value) =&gt; Some(value * value)
    case None =&gt; None
  }
}

// Test cases
println(squareOption(Some(4))) // Some(16)
println(squareOption(None))    // None</pre></div><div class='content'></div><h1>2. Either Type</h1>
<div class='content'><p>The <code>Either</code> type is used to represent a value of one of two possible types. It can be <code>Left</code> for an error or <code>Right</code> for a success.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRpdmlkZShhOiBJbnQsIGI6IEludCk6IEVpdGhlcltTdHJpbmcsIEludF0gPSB7CiAgaWYgKGIgPT0gMCkgTGVmdCgiRGl2aXNpb24gYnkgemVybyIpCiAgZWxzZSBSaWdodChhIC8gYikKfQoKdmFsIHJlc3VsdDEgPSBkaXZpZGUoNCwgMikgLy8gUmlnaHQoMikKdmFsIHJlc3VsdDIgPSBkaXZpZGUoNCwgMCkgLy8gTGVmdCgiRGl2aXNpb24gYnkgemVybyIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def divide(a: Int, b: Int): Either[String, Int] = {
  if (b == 0) Left(&quot;Division by zero&quot;)
  else Right(a / b)
}

val result1 = divide(4, 2) // Right(2)
val result2 = divide(4, 0) // Left(&quot;Division by zero&quot;)</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>divide</code> returns an <code>Either[String, Int]</code>.</li>
<li>If the division is successful, it returns <code>Right(result)</code>.</li>
<li>If there is an error (e.g., division by zero), it returns <code>Left(errorMessage)</code>.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Task:</strong> Write a function that takes two integers and returns their sum if both are positive, otherwise returns an error message.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGFkZFBvc2l0aXZlKGE6IEludCwgYjogSW50KTogRWl0aGVyW1N0cmluZywgSW50XSA9IHsKICBpZiAoYSA8IDAgfHwgYiA8IDApIExlZnQoIkJvdGggbnVtYmVycyBtdXN0IGJlIHBvc2l0aXZlIikKICBlbHNlIFJpZ2h0KGEgKyBiKQp9CgovLyBUZXN0IGNhc2VzCnByaW50bG4oYWRkUG9zaXRpdmUoMywgNCkpICAvLyBSaWdodCg3KQpwcmludGxuKGFkZFBvc2l0aXZlKC0xLCA0KSkgLy8gTGVmdCgiQm90aCBudW1iZXJzIG11c3QgYmUgcG9zaXRpdmUiKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def addPositive(a: Int, b: Int): Either[String, Int] = {
  if (a &lt; 0 || b &lt; 0) Left(&quot;Both numbers must be positive&quot;)
  else Right(a + b)
}

// Test cases
println(addPositive(3, 4))  // Right(7)
println(addPositive(-1, 4)) // Left(&quot;Both numbers must be positive&quot;)</pre></div><div class='content'></div><h1>3. Try Type</h1>
<div class='content'><p>The <code>Try</code> type is used to handle exceptions in a functional way. It can be <code>Success</code> if the computation is successful or <code>Failure</code> if an exception is thrown.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHNjYWxhLnV0aWwue1RyeSwgU3VjY2VzcywgRmFpbHVyZX0KCmRlZiBwYXJzZUludChzdHI6IFN0cmluZyk6IFRyeVtJbnRdID0gVHJ5KHN0ci50b0ludCkKCnZhbCByZXN1bHQxID0gcGFyc2VJbnQoIjEyMyIpIC8vIFN1Y2Nlc3MoMTIzKQp2YWwgcmVzdWx0MiA9IHBhcnNlSW50KCJhYmMiKSAvLyBGYWlsdXJlKGphdmEubGFuZy5OdW1iZXJGb3JtYXRFeGNlcHRpb24p"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import scala.util.{Try, Success, Failure}

def parseInt(str: String): Try[Int] = Try(str.toInt)

val result1 = parseInt(&quot;123&quot;) // Success(123)
val result2 = parseInt(&quot;abc&quot;) // Failure(java.lang.NumberFormatException)</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>parseInt</code> returns a <code>Try[Int]</code>.</li>
<li>If the string can be parsed to an integer, it returns <code>Success(value)</code>.</li>
<li>If an exception is thrown, it returns <code>Failure(exception)</code>.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Task:</strong> Write a function that takes a list of strings and returns a list of integers, ignoring any strings that cannot be parsed.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHBhcnNlTGlzdChzdHJpbmdzOiBMaXN0W1N0cmluZ10pOiBMaXN0W0ludF0gPSB7CiAgc3RyaW5ncy5mbGF0TWFwKHN0ciA9PiBwYXJzZUludChzdHIpLnRvT3B0aW9uKQp9CgovLyBUZXN0IGNhc2VzCnByaW50bG4ocGFyc2VMaXN0KExpc3QoIjEiLCAiMiIsICJhYmMiLCAiNCIpKSkgLy8gTGlzdCgxLCAyLCA0KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def parseList(strings: List[String]): List[Int] = {
  strings.flatMap(str =&gt; parseInt(str).toOption)
}

// Test cases
println(parseList(List(&quot;1&quot;, &quot;2&quot;, &quot;abc&quot;, &quot;4&quot;))) // List(1, 2, 4)</pre></div><div class='content'></div><h1>4. Custom Error Handling</h1>
<div class='content'><p>Sometimes, you may need to define custom error types to handle specific error cases more effectively.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIHRyYWl0IEN1c3RvbUVycm9yCmNhc2Ugb2JqZWN0IE5vdEZvdW5kIGV4dGVuZHMgQ3VzdG9tRXJyb3IKY2FzZSBvYmplY3QgVW5hdXRob3JpemVkIGV4dGVuZHMgQ3VzdG9tRXJyb3IKCmRlZiBnZXRSZXNvdXJjZShpZDogSW50KTogRWl0aGVyW0N1c3RvbUVycm9yLCBTdHJpbmddID0gewogIGlmIChpZCA9PSAxKSBSaWdodCgiUmVzb3VyY2UiKQogIGVsc2UgTGVmdChOb3RGb3VuZCkKfQoKdmFsIHJlc291cmNlMSA9IGdldFJlc291cmNlKDEpIC8vIFJpZ2h0KCJSZXNvdXJjZSIpCnZhbCByZXNvdXJjZTIgPSBnZXRSZXNvdXJjZSgyKSAvLyBMZWZ0KE5vdEZvdW5kKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed trait CustomError
case object NotFound extends CustomError
case object Unauthorized extends CustomError

def getResource(id: Int): Either[CustomError, String] = {
  if (id == 1) Right(&quot;Resource&quot;)
  else Left(NotFound)
}

val resource1 = getResource(1) // Right(&quot;Resource&quot;)
val resource2 = getResource(2) // Left(NotFound)</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>CustomError</code> is a sealed trait representing custom error types.</li>
<li><code>getResource</code> returns an <code>Either[CustomError, String]</code>.</li>
<li>If the resource is found, it returns <code>Right(resource)</code>.</li>
<li>If the resource is not found, it returns <code>Left(NotFound)</code>.</li>
</ul>
</div><h2>Practical Exercise</h2>
<div class='content'><p><strong>Task:</strong> Write a function that takes a username and password and returns a success message if the credentials are correct, otherwise returns a custom error.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIHRyYWl0IEF1dGhFcnJvcgpjYXNlIG9iamVjdCBJbnZhbGlkQ3JlZGVudGlhbHMgZXh0ZW5kcyBBdXRoRXJyb3IKY2FzZSBvYmplY3QgVXNlck5vdEZvdW5kIGV4dGVuZHMgQXV0aEVycm9yCgpkZWYgYXV0aGVudGljYXRlKHVzZXJuYW1lOiBTdHJpbmcsIHBhc3N3b3JkOiBTdHJpbmcpOiBFaXRoZXJbQXV0aEVycm9yLCBTdHJpbmddID0gewogIHZhbCB1c2VycyA9IE1hcCgidXNlcjEiIC0+ICJwYXNzMSIsICJ1c2VyMiIgLT4gInBhc3MyIikKICB1c2Vycy5nZXQodXNlcm5hbWUpIG1hdGNoIHsKICAgIGNhc2UgU29tZShwYXNzKSBpZiBwYXNzID09IHBhc3N3b3JkID0+IFJpZ2h0KCJBdXRoZW50aWNhdGVkIikKICAgIGNhc2UgU29tZShfKSA9PiBMZWZ0KEludmFsaWRDcmVkZW50aWFscykKICAgIGNhc2UgTm9uZSA9PiBMZWZ0KFVzZXJOb3RGb3VuZCkKICB9Cn0KCi8vIFRlc3QgY2FzZXMKcHJpbnRsbihhdXRoZW50aWNhdGUoInVzZXIxIiwgInBhc3MxIikpIC8vIFJpZ2h0KCJBdXRoZW50aWNhdGVkIikKcHJpbnRsbihhdXRoZW50aWNhdGUoInVzZXIxIiwgIndyb25nIikpIC8vIExlZnQoSW52YWxpZENyZWRlbnRpYWxzKQpwcmludGxuKGF1dGhlbnRpY2F0ZSgidW5rbm93biIsICJwYXNzIikpIC8vIExlZnQoVXNlck5vdEZvdW5kKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed trait AuthError
case object InvalidCredentials extends AuthError
case object UserNotFound extends AuthError

def authenticate(username: String, password: String): Either[AuthError, String] = {
  val users = Map(&quot;user1&quot; -&gt; &quot;pass1&quot;, &quot;user2&quot; -&gt; &quot;pass2&quot;)
  users.get(username) match {
    case Some(pass) if pass == password =&gt; Right(&quot;Authenticated&quot;)
    case Some(_) =&gt; Left(InvalidCredentials)
    case None =&gt; Left(UserNotFound)
  }
}

// Test cases
println(authenticate(&quot;user1&quot;, &quot;pass1&quot;)) // Right(&quot;Authenticated&quot;)
println(authenticate(&quot;user1&quot;, &quot;wrong&quot;)) // Left(InvalidCredentials)
println(authenticate(&quot;unknown&quot;, &quot;pass&quot;)) // Left(UserNotFound)</pre></div><div class='content'></div><h1>5. Best Practices</h1>
<div class='content'><ul>
<li><strong>Use <code>Option</code> for optional values</strong>: Use <code>Option</code> when a value may or may not be present.</li>
<li><strong>Use <code>Either</code> for computations that can fail</strong>: Use <code>Either</code> to handle computations that can result in an error.</li>
<li><strong>Use <code>Try</code> for exception handling</strong>: Use <code>Try</code> to handle exceptions in a functional way.</li>
<li><strong>Define custom error types</strong>: Define custom error types to handle specific error cases more effectively.</li>
<li><strong>Avoid throwing exceptions</strong>: Prefer using <code>Option</code>, <code>Either</code>, or <code>Try</code> over throwing exceptions.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored various techniques for error handling in functional programming using Scala. We covered the <code>Option</code>, <code>Either</code>, and <code>Try</code> types, as well as custom error handling. By following these best practices, you can write more robust and maintainable Scala code. In the next module, we will delve into advanced Scala concepts, starting with implicit conversions and parameters.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-for-comprehensions' title="For-Comprehensions">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-implicit-conversions-and-parameters' title="Implicit Conversions and Parameters">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
