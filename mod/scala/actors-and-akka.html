<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actors and Akka</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/actors-and-akka" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/actors-and-akka" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/actors-and-akka" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/scala/actors-and-akka" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/scala/actors-and-akka" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='futures-and-promises'>&#x25C4;Futures and Promises</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Actors and Akka</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parallel-collections'>Parallel Collections &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Actors and Akka</h1>
<div class='content'><p>Actors are a fundamental concept in concurrent and distributed programming. Akka is a powerful toolkit and runtime for building highly concurrent, distributed, and resilient message-driven applications on the JVM, using the Actor model.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Actor Model</strong>: A mathematical model of concurrent computation that treats &quot;actors&quot; as the universal primitives of concurrent computation.</li>
<li><strong>Akka</strong>: A toolkit and runtime for building concurrent, distributed, and fault-tolerant applications in Scala and Java.</li>
<li><strong>Concurrency</strong>: The ability of different parts or units of a program to execute out-of-order or in partial order, without affecting the final outcome.</li>
<li><strong>Message-Driven</strong>: Communication between actors is done through asynchronous message passing.</li>
</ul>
</div><h1>Setting Up Akka</h1>
<div class='content'><p>To start using Akka in your Scala project, you need to add the Akka dependencies to your <code>build.sbt</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGlicmFyeURlcGVuZGVuY2llcyArPSAiY29tLnR5cGVzYWZlLmFra2EiICUlICJha2thLWFjdG9yLXR5cGVkIiAlICIyLjYuMTYi"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>libraryDependencies += &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot; % &quot;2.6.16&quot;</pre></div><div class='content'></div><h1>Creating Your First Actor</h1>
<div class='content'><p>Let's create a simple actor that receives a message and prints it.</p>
</div><h2>Example: Hello World Actor</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFra2EuYWN0b3IudHlwZWQuQWN0b3JTeXN0ZW0KaW1wb3J0IGFra2EuYWN0b3IudHlwZWQuc2NhbGFkc2wuQmVoYXZpb3JzCgpvYmplY3QgSGVsbG9Xb3JsZCB7CiAgZGVmIGFwcGx5KCk6IEJlaGF2aW9ycy5SZWNlaXZlW1N0cmluZ10gPSBCZWhhdmlvcnMucmVjZWl2ZSB7IChjb250ZXh0LCBtZXNzYWdlKSA9PgogICAgY29udGV4dC5sb2cuaW5mbygiUmVjZWl2ZWQgbWVzc2FnZToge30iLCBtZXNzYWdlKQogICAgQmVoYXZpb3JzLnNhbWUKICB9Cn0KCm9iamVjdCBIZWxsb1dvcmxkTWFpbiB7CiAgZGVmIG1haW4oYXJnczogQXJyYXlbU3RyaW5nXSk6IFVuaXQgPSB7CiAgICB2YWwgc3lzdGVtOiBBY3RvclN5c3RlbVtTdHJpbmddID0gQWN0b3JTeXN0ZW0oSGVsbG9Xb3JsZCgpLCAiaGVsbG8iKQogICAgc3lzdGVtICEgIkhlbGxvLCBBa2thISIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import akka.actor.typed.ActorSystem
import akka.actor.typed.scaladsl.Behaviors

object HelloWorld {
  def apply(): Behaviors.Receive[String] = Behaviors.receive { (context, message) =&gt;
    context.log.info(&quot;Received message: {}&quot;, message)
    Behaviors.same
  }
}

object HelloWorldMain {
  def main(args: Array[String]): Unit = {
    val system: ActorSystem[String] = ActorSystem(HelloWorld(), &quot;hello&quot;)
    system ! &quot;Hello, Akka!&quot;
  }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Behaviors.receive</strong>: Defines the behavior of the actor when it receives a message.</li>
<li><strong>context.log.info</strong>: Logs the received message.</li>
<li><strong>Behaviors.same</strong>: Indicates that the actor's behavior does not change after processing the message.</li>
<li><strong>ActorSystem</strong>: The entry point for Akka, it creates and manages actors.</li>
</ul>
</div><h1>Actor Communication</h1>
<div class='content'><p>Actors communicate by sending messages to each other. Messages are immutable and should be serializable.</p>
</div><h2>Example: Actor Communication</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFra2EuYWN0b3IudHlwZWQuQWN0b3JSZWYKaW1wb3J0IGFra2EuYWN0b3IudHlwZWQuQWN0b3JTeXN0ZW0KaW1wb3J0IGFra2EuYWN0b3IudHlwZWQuc2NhbGFkc2wuQmVoYXZpb3JzCgpvYmplY3QgR3JlZXRlciB7CiAgZmluYWwgY2FzZSBjbGFzcyBHcmVldCh3aG9tOiBTdHJpbmcsIHJlcGx5VG86IEFjdG9yUmVmW0dyZWV0ZWRdKQogIGZpbmFsIGNhc2UgY2xhc3MgR3JlZXRlZCh3aG9tOiBTdHJpbmcsIGZyb206IEFjdG9yUmVmW0dyZWV0XSkKCiAgZGVmIGFwcGx5KCk6IEJlaGF2aW9ycy5SZWNlaXZlW0dyZWV0XSA9IEJlaGF2aW9ycy5yZWNlaXZlIHsgKGNvbnRleHQsIG1lc3NhZ2UpID0+CiAgICBjb250ZXh0LmxvZy5pbmZvKCJIZWxsbyB7fSEiLCBtZXNzYWdlLndob20pCiAgICBtZXNzYWdlLnJlcGx5VG8gISBHcmVldGVkKG1lc3NhZ2Uud2hvbSwgY29udGV4dC5zZWxmKQogICAgQmVoYXZpb3JzLnNhbWUKICB9Cn0KCm9iamVjdCBHcmVldGVyQm90IHsKICBkZWYgYXBwbHkobWF4OiBJbnQpOiBCZWhhdmlvcnMuUmVjZWl2ZVtHcmVldGVyLkdyZWV0ZWRdID0gewogICAgZGVmIGJvdChncmVldGluZ0NvdW50ZXI6IEludCk6IEJlaGF2aW9ycy5SZWNlaXZlW0dyZWV0ZXIuR3JlZXRlZF0gPQogICAgICBCZWhhdmlvcnMucmVjZWl2ZSB7IChjb250ZXh0LCBtZXNzYWdlKSA9PgogICAgICAgIHZhbCBuID0gZ3JlZXRpbmdDb3VudGVyICsgMQogICAgICAgIGNvbnRleHQubG9nLmluZm8oIkdyZWV0aW5nIHt9IGZvciB7fSIsIG4sIG1lc3NhZ2Uud2hvbSkKICAgICAgICBpZiAobiA9PSBtYXgpIHsKICAgICAgICAgIEJlaGF2aW9ycy5zdG9wcGVkCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lc3NhZ2UuZnJvbSAhIEdyZWV0ZXIuR3JlZXQobWVzc2FnZS53aG9tLCBjb250ZXh0LnNlbGYpCiAgICAgICAgICBib3QobikKICAgICAgICB9CiAgICAgIH0KCiAgICBib3QoMCkKICB9Cn0KCm9iamVjdCBHcmVldGVyTWFpbiB7CiAgZGVmIG1haW4oYXJnczogQXJyYXlbU3RyaW5nXSk6IFVuaXQgPSB7CiAgICB2YWwgZ3JlZXRlck1haW46IEFjdG9yU3lzdGVtW0dyZWV0ZXIuR3JlZXRdID0gQWN0b3JTeXN0ZW0oR3JlZXRlcigpLCAiZ3JlZXRlciIpCiAgICB2YWwgZ3JlZXRlckJvdDogQWN0b3JSZWZbR3JlZXRlci5HcmVldGVkXSA9IGdyZWV0ZXJNYWluLnN5c3RlbUFjdG9yT2YoR3JlZXRlckJvdCgzKSwgImdyZWV0ZXJCb3QiKQoKICAgIGdyZWV0ZXJNYWluICEgR3JlZXRlci5HcmVldCgiQWtrYSIsIGdyZWV0ZXJCb3QpCiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import akka.actor.typed.ActorRef
import akka.actor.typed.ActorSystem
import akka.actor.typed.scaladsl.Behaviors

object Greeter {
  final case class Greet(whom: String, replyTo: ActorRef[Greeted])
  final case class Greeted(whom: String, from: ActorRef[Greet])

  def apply(): Behaviors.Receive[Greet] = Behaviors.receive { (context, message) =&gt;
    context.log.info(&quot;Hello {}!&quot;, message.whom)
    message.replyTo ! Greeted(message.whom, context.self)
    Behaviors.same
  }
}

object GreeterBot {
  def apply(max: Int): Behaviors.Receive[Greeter.Greeted] = {
    def bot(greetingCounter: Int): Behaviors.Receive[Greeter.Greeted] =
      Behaviors.receive { (context, message) =&gt;
        val n = greetingCounter + 1
        context.log.info(&quot;Greeting {} for {}&quot;, n, message.whom)
        if (n == max) {
          Behaviors.stopped
        } else {
          message.from ! Greeter.Greet(message.whom, context.self)
          bot(n)
        }
      }

    bot(0)
  }
}

object GreeterMain {
  def main(args: Array[String]): Unit = {
    val greeterMain: ActorSystem[Greeter.Greet] = ActorSystem(Greeter(), &quot;greeter&quot;)
    val greeterBot: ActorRef[Greeter.Greeted] = greeterMain.systemActorOf(GreeterBot(3), &quot;greeterBot&quot;)

    greeterMain ! Greeter.Greet(&quot;Akka&quot;, greeterBot)
  }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Greet and Greeted</strong>: Case classes used as messages.</li>
<li><strong>Greeter</strong>: An actor that sends a greeting message and expects a reply.</li>
<li><strong>GreeterBot</strong>: An actor that counts the number of greetings and stops after a certain number.</li>
<li><strong>ActorRef</strong>: A reference to an actor, used to send messages to it.</li>
</ul>
</div><h1>Advanced Topics</h1>
<h2>Supervision and Fault Tolerance</h2>
<div class='content'><p>Actors can supervise other actors, handling their failures and deciding on a strategy to manage them.</p>
</div><h2>Example: Supervision Strategy</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFra2EuYWN0b3IudHlwZWQuU3VwZXJ2aXNvclN0cmF0ZWd5CmltcG9ydCBha2thLmFjdG9yLnR5cGVkLnNjYWxhZHNsLkJlaGF2aW9ycwoKb2JqZWN0IFN1cGVydmlzb3IgewogIGRlZiBhcHBseSgpOiBCZWhhdmlvcnMuUmVjZWl2ZVtTdHJpbmddID0gQmVoYXZpb3JzLnN1cGVydmlzZShCZWhhdmlvcnMucmVjZWl2ZVtTdHJpbmddIHsgKGNvbnRleHQsIG1lc3NhZ2UpID0+CiAgICBpZiAobWVzc2FnZSA9PSAiZmFpbCIpIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJGYWlsdXJlISIpCiAgICBlbHNlIHsKICAgICAgY29udGV4dC5sb2cuaW5mbygiUmVjZWl2ZWQgbWVzc2FnZToge30iLCBtZXNzYWdlKQogICAgICBCZWhhdmlvcnMuc2FtZQogICAgfQogIH0pLm9uRmFpbHVyZVtSdW50aW1lRXhjZXB0aW9uXShTdXBlcnZpc29yU3RyYXRlZ3kucmVzdGFydCkKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import akka.actor.typed.SupervisorStrategy
import akka.actor.typed.scaladsl.Behaviors

object Supervisor {
  def apply(): Behaviors.Receive[String] = Behaviors.supervise(Behaviors.receive[String] { (context, message) =&gt;
    if (message == &quot;fail&quot;) throw new RuntimeException(&quot;Failure!&quot;)
    else {
      context.log.info(&quot;Received message: {}&quot;, message)
      Behaviors.same
    }
  }).onFailure[RuntimeException](SupervisorStrategy.restart)
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>SupervisorStrategy.restart</strong>: Restarts the actor if a <code>RuntimeException</code> is thrown.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Actors and Akka provide a robust framework for building concurrent and distributed applications in Scala. By understanding the basics of the Actor model, setting up Akka, and creating actors, you can build scalable and resilient systems. Advanced topics like supervision and fault tolerance further enhance the reliability of your applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='futures-and-promises'>&#x25C4;Futures and Promises</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Actors and Akka</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parallel-collections'>Parallel Collections &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
