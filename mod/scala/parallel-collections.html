<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallel Collections</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/parallel-collections" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/parallel-collections" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/parallel-collections" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/scala/parallel-collections" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/scala/parallel-collections" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='actors-and-akka'>&#x25C4;Actors and Akka</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Parallel Collections</a>
	</div>
	<div class='col-4 text-end'>
					<a href='macros-metaprogramming'>Macros and Metaprogramming &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Parallel collections in Scala provide a way to leverage multi-core processors by performing operations on collections in parallel. This can significantly improve performance for certain types of tasks. This topic will cover the basics of parallel collections, how to use them, and some best practices.</p>
</div><h1>Introduction to Parallel Collections</h1>
<div class='content'><p>Parallel collections are a part of the Scala standard library and are designed to make it easy to parallelize operations on collections. They provide a parallel implementation of the standard collection operations like <code>map</code>, <code>filter</code>, <code>reduce</code>, etc.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Parallelism</strong>: The process of executing multiple computations simultaneously.</li>
<li><strong>Concurrency</strong>: The ability to handle multiple tasks at the same time.</li>
<li><strong>Thread Safety</strong>: Ensuring that shared data is accessed by multiple threads in a safe manner.</li>
</ul>
</div><h1>Using Parallel Collections</h1>
<div class='content'></div><h2>Converting to Parallel Collections</h2>
<div class='content'><p>To convert a standard collection to a parallel collection, you can use the <code>.par</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIGxpc3QgPSBMaXN0KDEsIDIsIDMsIDQsIDUpCnZhbCBwYXJMaXN0ID0gbGlzdC5wYXI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val list = List(1, 2, 3, 4, 5)
val parList = list.par</pre></div><div class='content'></div><h2>Basic Operations</h2>
<div class='content'><p>Parallel collections support the same operations as standard collections, but they are executed in parallel.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIGxpc3QgPSBMaXN0KDEsIDIsIDMsIDQsIDUpLnBhcgp2YWwgZG91YmxlZCA9IGxpc3QubWFwKF8gKiAyKQpwcmludGxuKGRvdWJsZWQpIC8vIE91dHB1dCBtaWdodCB2YXJ5IGluIG9yZGVyOiBQYXJWZWN0b3IoMiwgNCwgNiwgOCwgMTAp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val list = List(1, 2, 3, 4, 5).par
val doubled = list.map(_ * 2)
println(doubled) // Output might vary in order: ParVector(2, 4, 6, 8, 10)</pre></div><div class='content'></div><h2>Example: Parallel Map</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIG51bWJlcnMgPSAoMSB0byAxMDAwMDAwKS50b0xpc3QucGFyCnZhbCBzcXVhcmVzID0gbnVtYmVycy5tYXAobiA9PiBuICogbikKcHJpbnRsbihzcXVhcmVzLnRha2UoMTApKSAvLyBPdXRwdXQgbWlnaHQgdmFyeSBpbiBvcmRlcg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val numbers = (1 to 1000000).toList.par
val squares = numbers.map(n =&gt; n * n)
println(squares.take(10)) // Output might vary in order</pre></div><div class='content'></div><h2>Example: Parallel Reduce</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIG51bWJlcnMgPSAoMSB0byAxMDAwMDAwKS50b0xpc3QucGFyCnZhbCBzdW0gPSBudW1iZXJzLnJlZHVjZShfICsgXykKcHJpbnRsbihzdW0pIC8vIE91dHB1dDogNTAwMDAwNTAwMDAw"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val numbers = (1 to 1000000).toList.par
val sum = numbers.reduce(_ + _)
println(sum) // Output: 500000500000</pre></div><div class='content'></div><h1>Performance Considerations</h1>
<div class='content'><p>While parallel collections can improve performance, they are not always the best choice. Here are some considerations:</p>
<ul>
<li><strong>Overhead</strong>: Parallel collections introduce some overhead due to thread management.</li>
<li><strong>Task Granularity</strong>: Tasks should be large enough to justify the overhead of parallelism.</li>
<li><strong>Immutability</strong>: Ensure that operations on collections are thread-safe and do not cause side effects.</li>
</ul>
</div><h2>Example: Comparing Performance</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHNjYWxhLnV0aWwuUmFuZG9tCmltcG9ydCBzY2FsYS5jb2xsZWN0aW9uLnBhcmFsbGVsLkNvbGxlY3Rpb25Db252ZXJ0ZXJzLl8KCnZhbCBzaXplID0gMTAwMDAwMAp2YWwgbGlzdCA9IExpc3QuZmlsbChzaXplKShSYW5kb20ubmV4dEludCgxMDApKQoKdmFsIHN0YXJ0VGltZSA9IFN5c3RlbS5uYW5vVGltZSgpCnZhbCBzdW1TZXEgPSBsaXN0LnN1bQp2YWwgZW5kVGltZSA9IFN5c3RlbS5uYW5vVGltZSgpCnByaW50bG4ocyJTZXF1ZW50aWFsIHN1bTogJHN1bVNlcSwgVGltZTogJHsoZW5kVGltZSAtIHN0YXJ0VGltZSkgLyAxZTZ9IG1zIikKCnZhbCBwYXJMaXN0ID0gbGlzdC5wYXIKdmFsIHN0YXJ0VGltZVBhciA9IFN5c3RlbS5uYW5vVGltZSgpCnZhbCBzdW1QYXIgPSBwYXJMaXN0LnN1bQp2YWwgZW5kVGltZVBhciA9IFN5c3RlbS5uYW5vVGltZSgpCnByaW50bG4ocyJQYXJhbGxlbCBzdW06ICRzdW1QYXIsIFRpbWU6ICR7KGVuZFRpbWVQYXIgLSBzdGFydFRpbWVQYXIpIC8gMWU2fSBtcyIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import scala.util.Random
import scala.collection.parallel.CollectionConverters._

val size = 1000000
val list = List.fill(size)(Random.nextInt(100))

val startTime = System.nanoTime()
val sumSeq = list.sum
val endTime = System.nanoTime()
println(s&quot;Sequential sum: $sumSeq, Time: ${(endTime - startTime) / 1e6} ms&quot;)

val parList = list.par
val startTimePar = System.nanoTime()
val sumPar = parList.sum
val endTimePar = System.nanoTime()
println(s&quot;Parallel sum: $sumPar, Time: ${(endTimePar - startTimePar) / 1e6} ms&quot;)</pre></div><div class='content'></div><h1>Best Practices</h1>
<div class='content'><ul>
<li><strong>Use Immutability</strong>: Prefer immutable collections to avoid concurrency issues.</li>
<li><strong>Measure Performance</strong>: Always measure performance to ensure that parallelism provides a benefit.</li>
<li><strong>Avoid Side Effects</strong>: Ensure that operations on collections do not have side effects.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Parallel collections in Scala provide a powerful way to leverage multi-core processors for improved performance. By converting standard collections to parallel collections, you can perform operations like <code>map</code>, <code>filter</code>, and <code>reduce</code> in parallel. However, it's important to consider the overhead and ensure that tasks are large enough to benefit from parallelism. Always measure performance and follow best practices to avoid common pitfalls.</p>
<p>By understanding and utilizing parallel collections, you can write more efficient and performant Scala programs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='actors-and-akka'>&#x25C4;Actors and Akka</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Parallel Collections</a>
	</div>
	<div class='col-4 text-end'>
					<a href='macros-metaprogramming'>Macros and Metaprogramming &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
