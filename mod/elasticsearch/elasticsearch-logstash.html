<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elasticsearch with Logstash</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/elasticsearch-logstash" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/elasticsearch-logstash" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/elasticsearch-logstash" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/elasticsearch/elasticsearch-logstash" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/elasticsearch/elasticsearch-logstash" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='troubleshooting'>&#x25C4;Troubleshooting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Elasticsearch with Logstash</a>
	</div>
	<div class='col-4 text-end'>
					<a href='elasticsearch-kibana'>Elasticsearch with Kibana &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Logstash</h1>
<div class='content'><p>Logstash is a powerful data processing pipeline tool that can ingest data from various sources, transform it, and send it to your desired destination, such as Elasticsearch. This section will introduce you to the basics of Logstash and how it integrates with Elasticsearch.</p>
<ul>
<li>
<p><strong>What is Logstash?</strong></p>
<ul>
<li>A server-side data processing pipeline.</li>
<li>Ingests data from multiple sources simultaneously.</li>
<li>Transforms data using filter plugins.</li>
<li>Sends data to various destinations, including Elasticsearch.</li>
</ul>
</li>
<li>
<p><strong>Why use Logstash with Elasticsearch?</strong></p>
<ul>
<li>Seamless integration for data ingestion.</li>
<li>Real-time data processing and transformation.</li>
<li>Enhanced data enrichment capabilities.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Logstash</h1>
<div class='content'><p>Before diving into using Logstash with Elasticsearch, you need to set up Logstash on your system.</p>
<ul>
<li>
<p><strong>Installation Steps:</strong></p>
<ol>
<li>Download Logstash from the official Elastic website.</li>
<li>Extract the downloaded file.</li>
<li>Navigate to the Logstash directory.</li>
<li>Run Logstash using the command:</li>
</ol>
<pre><code class="language-sh">bin/logstash -e 'input { stdin { } } output { stdout {} }'
</code></pre>
</li>
<li>
<p><strong>Basic Configuration:</strong></p>
<ul>
<li>Logstash configuration files are written in JSON-like format.</li>
<li>A basic configuration file consists of three sections: <code>input</code>, <code>filter</code>, and <code>output</code>.</li>
</ul>
</li>
</ul>
</div><h1>Logstash Configuration for Elasticsearch</h1>
<div class='content'><p>To send data from Logstash to Elasticsearch, you need to configure the <code>input</code> and <code>output</code> sections appropriately.</p>
<ul>
<li>
<p><strong>Input Section:</strong></p>
<ul>
<li>Defines the source of the data.</li>
<li>Example:
<pre><code class="language-sh">input {
  file {
    path =&gt; &quot;/path/to/your/logfile.log&quot;
    start_position =&gt; &quot;beginning&quot;
  }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Filter Section:</strong></p>
<ul>
<li>Used to transform and enrich the data.</li>
<li>Example:
<pre><code class="language-sh">filter {
  grok {
    match =&gt; { &quot;message&quot; =&gt; &quot;%{COMBINEDAPACHELOG}&quot; }
  }
  date {
    match =&gt; [ &quot;timestamp&quot; , &quot;dd/MMM/yyyy:HH:mm:ss Z&quot; ]
  }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Output Section:</strong></p>
<ul>
<li>Defines the destination for the processed data.</li>
<li>Example:
<pre><code class="language-sh">output {
  elasticsearch {
    hosts =&gt; [&quot;localhost:9200&quot;]
    index =&gt; &quot;logstash-%{+YYYY.MM.dd}&quot;
  }
}
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Practical Example: Ingesting Apache Logs</h1>
<div class='content'><p>Let's walk through a practical example of ingesting Apache logs into Elasticsearch using Logstash.</p>
<ol>
<li>
<p><strong>Create a Logstash Configuration File:</strong></p>
<pre><code class="language-sh">input {
  file {
    path =&gt; &quot;/var/log/apache2/access.log&quot;
    start_position =&gt; &quot;beginning&quot;
  }
}

filter {
  grok {
    match =&gt; { &quot;message&quot; =&gt; &quot;%{COMBINEDAPACHELOG}&quot; }
  }
  date {
    match =&gt; [ &quot;timestamp&quot; , &quot;dd/MMM/yyyy:HH:mm:ss Z&quot; ]
  }
}

output {
  elasticsearch {
    hosts =&gt; [&quot;localhost:9200&quot;]
    index =&gt; &quot;apache-logs-%{+YYYY.MM.dd}&quot;
  }
}
</code></pre>
</li>
<li>
<p><strong>Run Logstash with the Configuration File:</strong></p>
<pre><code class="language-sh">bin/logstash -f /path/to/logstash.conf
</code></pre>
</li>
<li>
<p><strong>Verify Data in Elasticsearch:</strong></p>
<ul>
<li>Use Kibana or Elasticsearch's REST API to verify that the data has been ingested correctly.</li>
<li>Example REST API call:
<pre><code class="language-sh">curl -X GET &quot;localhost:9200/apache-logs-*/_search?pretty&quot;
</code></pre>
</li>
</ul>
</li>
</ol>
</div><h1>Advanced Logstash Features</h1>
<div class='content'><p>As you become more comfortable with Logstash, you can explore its advanced features to enhance your data processing pipeline.</p>
<ul>
<li>
<p><strong>Conditional Processing:</strong></p>
<ul>
<li>Apply filters and outputs conditionally.</li>
<li>Example:
<pre><code class="language-sh">filter {
  if [status] == 404 {
    mutate { add_tag =&gt; &quot;not_found&quot; }
  }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Multiple Pipelines:</strong></p>
<ul>
<li>Run multiple pipelines in a single Logstash instance.</li>
<li>Example configuration:
<pre><code class="language-sh">- pipeline.id: apache_logs
  path.config: &quot;/etc/logstash/conf.d/apache.conf&quot;

- pipeline.id: syslogs
  path.config: &quot;/etc/logstash/conf.d/syslog.conf&quot;
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Using Logstash with Elasticsearch provides a robust solution for ingesting, transforming, and storing data. By understanding the basics of Logstash configuration and exploring advanced features, you can build efficient data pipelines that cater to your specific needs. Whether you're dealing with log files, metrics, or other types of data, Logstash and Elasticsearch together offer a powerful combination for real-time data processing and analysis.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='troubleshooting'>&#x25C4;Troubleshooting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Elasticsearch with Logstash</a>
	</div>
	<div class='col-4 text-end'>
					<a href='elasticsearch-kibana'>Elasticsearch with Kibana &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
