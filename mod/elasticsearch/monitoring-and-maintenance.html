<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoring and Maintenance</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/monitoring-and-maintenance" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/monitoring-and-maintenance" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/monitoring-and-maintenance" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/elasticsearch/monitoring-and-maintenance" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/elasticsearch/monitoring-and-maintenance" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='scaling-elasticsearch'>&#x25C4;Scaling Elasticsearch</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Monitoring and Maintenance</a>
	</div>
	<div class='col-4 text-end'>
					<a href='backup-and-restore'>Backup and Restore &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Monitoring and maintenance are critical aspects of managing an Elasticsearch cluster. Proper monitoring ensures that you can detect and address issues before they impact your system's performance. Maintenance tasks help keep your cluster running smoothly and efficiently.</p>
</div><h1>Monitoring Elasticsearch</h1>
<div class='content'></div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Cluster Health</strong>: Indicates the overall status of the cluster.</li>
<li><strong>Node Statistics</strong>: Provides detailed information about each node in the cluster.</li>
<li><strong>Index Statistics</strong>: Offers insights into the performance and status of indices.</li>
<li><strong>Logging</strong>: Captures events and errors for troubleshooting.</li>
</ul>
</div><h2>Cluster Health</h2>
<div class='content'><p>Cluster health can be checked using the <code>_cluster/health</code> API. The health status can be green, yellow, or red.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9fY2x1c3Rlci9oZWFsdGg="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /_cluster/health</pre></div><div class='content'><ul>
<li><strong>Green</strong>: All primary and replica shards are active.</li>
<li><strong>Yellow</strong>: All primary shards are active, but some replica shards are not.</li>
<li><strong>Red</strong>: Some primary shards are not active.</li>
</ul>
</div><h2>Node Statistics</h2>
<div class='content'><p>Node statistics provide detailed information about the performance and resource usage of each node.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9fbm9kZXMvc3RhdHM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /_nodes/stats</pre></div><div class='content'><ul>
<li><strong>Indices</strong>: Information about index operations.</li>
<li><strong>OS</strong>: Operating system metrics.</li>
<li><strong>Process</strong>: JVM process metrics.</li>
<li><strong>JVM</strong>: Java Virtual Machine metrics.</li>
<li><strong>Thread Pool</strong>: Thread pool statistics.</li>
</ul>
</div><h2>Index Statistics</h2>
<div class='content'><p>Index statistics give insights into the performance and status of indices.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9fc3RhdHM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /_stats</pre></div><div class='content'><ul>
<li><strong>Docs</strong>: Number of documents.</li>
<li><strong>Store</strong>: Storage size.</li>
<li><strong>Indexing</strong>: Indexing operations.</li>
<li><strong>Search</strong>: Search operations.</li>
</ul>
</div><h2>Logging</h2>
<div class='content'><p>Elasticsearch logs are essential for troubleshooting and understanding the behavior of your cluster. Logs can be found in the <code>logs</code> directory of your Elasticsearch installation.</p>
</div><h1>Maintenance Tasks</h1>
<div class='content'></div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Snapshot and Restore</strong>: Backup and restore your data.</li>
<li><strong>Index Management</strong>: Optimize and manage indices.</li>
<li><strong>Cluster Upgrades</strong>: Upgrade Elasticsearch versions.</li>
<li><strong>Node Management</strong>: Add or remove nodes from the cluster.</li>
</ul>
</div><h2>Snapshot and Restore</h2>
<div class='content'><p>Snapshots are backups of your indices that can be stored in a repository. You can restore these snapshots to recover data.</p>
<h4>Create a Snapshot</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9fc25hcHNob3QvbXlfYmFja3VwL3NuYXBzaG90XzE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /_snapshot/my_backup/snapshot_1</pre></div><div class='content'><h4>Restore a Snapshot</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCAvX3NuYXBzaG90L215X2JhY2t1cC9zbmFwc2hvdF8xL19yZXN0b3Jl"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST /_snapshot/my_backup/snapshot_1/_restore</pre></div><div class='content'></div><h2>Index Management</h2>
<div class='content'><p>Regularly managing indices helps maintain performance and efficiency.</p>
<h4>Force Merge</h4>
<p>Force merging reduces the number of segments in each shard.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCAvbXlfaW5kZXgvX2ZvcmNlbWVyZ2U="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST /my_index/_forcemerge</pre></div><div class='content'><h4>Delete Old Indices</h4>
<p>Automate the deletion of old indices to save space.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIC9teV9vbGRfaW5kZXg="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE /my_old_index</pre></div><div class='content'></div><h2>Cluster Upgrades</h2>
<div class='content'><p>Upgrading Elasticsearch involves several steps to ensure a smooth transition.</p>
<h4>Check Compatibility</h4>
<p>Ensure your plugins and configurations are compatible with the new version.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9fbm9kZXMvcGx1Z2lucw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /_nodes/plugins</pre></div><div class='content'><h4>Perform a Rolling Upgrade</h4>
<p>Upgrade nodes one at a time to minimize downtime.</p>
</div><h2>Node Management</h2>
<div class='content'><p>Adding or removing nodes can help scale your cluster or decommission old hardware.</p>
<h4>Add a Node</h4>
<p>Update the <code>elasticsearch.yml</code> configuration file and start the new node.</p>
<h4>Remove a Node</h4>
<p>Use the <code>_cluster/settings</code> API to exclude the node and then shut it down.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9fY2x1c3Rlci9zZXR0aW5ncwp7CiAgInRyYW5zaWVudCI6IHsKICAgICJjbHVzdGVyLnJvdXRpbmcuYWxsb2NhdGlvbi5leGNsdWRlLl9uYW1lIjogIm5vZGVfbmFtZSIKICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /_cluster/settings
{
  &quot;transient&quot;: {
    &quot;cluster.routing.allocation.exclude._name&quot;: &quot;node_name&quot;
  }
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Monitoring and maintenance are essential for the health and performance of your Elasticsearch cluster. By regularly checking cluster health, monitoring node and index statistics, and performing routine maintenance tasks like snapshot and restore, index management, and node management, you can ensure your cluster runs smoothly and efficiently. Proper logging and timely upgrades also play a crucial role in maintaining a robust Elasticsearch environment.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='scaling-elasticsearch'>&#x25C4;Scaling Elasticsearch</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Monitoring and Maintenance</a>
	</div>
	<div class='col-4 text-end'>
					<a href='backup-and-restore'>Backup and Restore &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
