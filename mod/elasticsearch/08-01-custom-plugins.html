<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Plugins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/08-01-custom-plugins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/08-01-custom-plugins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/08-01-custom-plugins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/elasticsearch/08-01-custom-plugins" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/elasticsearch/08-01-custom-plugins" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-elasticsearch-other-tools' title="Elasticsearch with Other Tools">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Custom Plugins</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-02-machine-learning-elasticsearch' title="Machine Learning in Elasticsearch">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction</p>
</h1>
<div class='content'><p>Elasticsearch is a powerful search and analytics engine, but sometimes you may need to extend its capabilities to meet specific requirements. Custom plugins allow you to add new features, modify existing ones, or integrate with other systems. In this section, we will cover the basics of creating and deploying custom plugins in Elasticsearch.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Plugin Structure</strong>: Understand the basic structure of an Elasticsearch plugin.</li>
<li><strong>Plugin Types</strong>: Learn about different types of plugins you can create.</li>
<li><strong>Development Environment</strong>: Set up your development environment for plugin development.</li>
<li><strong>Building and Testing</strong>: Build and test your custom plugin.</li>
<li><strong>Deployment</strong>: Deploy your custom plugin to an Elasticsearch cluster.</li>
</ol>
</div><h1><p>Plugin Structure</p>
</h1>
<div class='content'><p>An Elasticsearch plugin typically consists of the following components:</p>
<ul>
<li><strong>Plugin Descriptor</strong>: A <code>plugin-descriptor.properties</code> file that describes the plugin.</li>
<li><strong>Java Classes</strong>: The core logic of the plugin, written in Java.</li>
<li><strong>Resources</strong>: Any additional resources like configuration files, scripts, etc.</li>
</ul>
</div><h2><p>Example Plugin Structure</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXktY3VzdG9tLXBsdWdpbi8K4pSc4pSA4pSAIHNyYy8K4pSCICAg4pSU4pSA4pSAIG1haW4vCuKUgiAgICAgICDilJzilIDilIAgamF2YS8K4pSCICAgICAgIOKUgiAgIOKUlOKUgOKUgCBjb20vCuKUgiAgICAgICDilIIgICAgICAg4pSU4pSA4pSAIGV4YW1wbGUvCuKUgiAgICAgICDilIIgICAgICAgICAgIOKUlOKUgOKUgCBNeUN1c3RvbVBsdWdpbi5qYXZhCuKUgiAgICAgICDilJTilIDilIAgcmVzb3VyY2VzLwrilIIgICAgICAgICAgIOKUlOKUgOKUgCBwbHVnaW4tZGVzY3JpcHRvci5wcm9wZXJ0aWVzCuKUnOKUgOKUgCBidWlsZC5ncmFkbGUK4pSU4pSA4pSAIHNldHRpbmdzLmdyYWRsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my-custom-plugin/
├── src/
│   └── main/
│       ├── java/
│       │   └── com/
│       │       └── example/
│       │           └── MyCustomPlugin.java
│       └── resources/
│           └── plugin-descriptor.properties
├── build.gradle
└── settings.gradle</pre></div><div class='content'></div><h1><p>Plugin Types</p>
</h1>
<div class='content'><p>Elasticsearch supports various types of plugins, including:</p>
<ul>
<li><strong>Analysis Plugins</strong>: Add custom analyzers, tokenizers, and filters.</li>
<li><strong>Ingest Plugins</strong>: Add custom processors for the ingest pipeline.</li>
<li><strong>Discovery Plugins</strong>: Implement custom discovery mechanisms.</li>
<li><strong>REST Action Plugins</strong>: Add custom REST endpoints.</li>
<li><strong>Script Plugins</strong>: Add custom scripting languages or functions.</li>
</ul>
</div><h1><p>Development Environment</p>
</h1>
<div class='content'><p>To develop a custom plugin, you need to set up a development environment with the following tools:</p>
<ul>
<li><strong>Java Development Kit (JDK)</strong>: Elasticsearch plugins are written in Java.</li>
<li><strong>Gradle</strong>: A build automation tool used by Elasticsearch.</li>
<li><strong>Elasticsearch Source Code</strong>: For reference and testing.</li>
</ul>
</div><h2><p>Setting Up the Environment</p>
</h2>
<div class='content'><ol>
<li><strong>Install JDK</strong>: Ensure you have JDK 8 or later installed.</li>
<li><strong>Install Gradle</strong>: Download and install Gradle from <a href="https://gradle.org/">gradle.org</a>.</li>
<li><strong>Clone Elasticsearch Source Code</strong>: Clone the Elasticsearch repository from GitHub for reference.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGFzdGljL2VsYXN0aWNzZWFyY2guZ2l0"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>git clone https://github.com/elastic/elasticsearch.git</pre></div><div class='content'></div><h1><p>Building a Custom Plugin</p>
</h1>
<div class='content'></div><h2><p>Step 1: Create Plugin Descriptor</p>
</h2>
<div class='content'><p>Create a <code>plugin-descriptor.properties</code> file in the <code>resources</code> directory:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpcHRpb249TXkgQ3VzdG9tIFBsdWdpbgp2ZXJzaW9uPTEuMC4wCm5hbWU9bXktY3VzdG9tLXBsdWdpbgpjbGFzc25hbWU9Y29tLmV4YW1wbGUuTXlDdXN0b21QbHVnaW4KamF2YS52ZXJzaW9uPTEuOAplbGFzdGljc2VhcmNoLnZlcnNpb249Ny4xMC4w"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>description=My Custom Plugin
version=1.0.0
name=my-custom-plugin
classname=com.example.MyCustomPlugin
java.version=1.8
elasticsearch.version=7.10.0</pre></div><div class='content'></div><h2><p>Step 2: Implement Plugin Class</p>
</h2>
<div class='content'><p>Create a Java class that extends <code>org.elasticsearch.plugins.Plugin</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBjb20uZXhhbXBsZTsKCmltcG9ydCBvcmcuZWxhc3RpY3NlYXJjaC5wbHVnaW5zLlBsdWdpbjsKCnB1YmxpYyBjbGFzcyBNeUN1c3RvbVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7CiAgICAvLyBQbHVnaW4gbG9naWMgZ29lcyBoZXJlCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package com.example;

import org.elasticsearch.plugins.Plugin;

public class MyCustomPlugin extends Plugin {
    // Plugin logic goes here
}</pre></div><div class='content'></div><h2><p>Step 3: Build Plugin</p>
</h2>
<div class='content'><p>Create a <code>build.gradle</code> file to define the build process:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGx1Z2lucyB7CiAgICBpZCAnamF2YScKfQoKZ3JvdXAgPSAnY29tLmV4YW1wbGUnCnZlcnNpb24gPSAnMS4wLjAnCgpyZXBvc2l0b3JpZXMgewogICAgbWF2ZW5DZW50cmFsKCkKfQoKZGVwZW5kZW5jaWVzIHsKICAgIGNvbXBpbGVPbmx5ICdvcmcuZWxhc3RpY3NlYXJjaDplbGFzdGljc2VhcmNoOjcuMTAuMCcKfQoKamFyIHsKICAgIG1hbmlmZXN0IHsKICAgICAgICBhdHRyaWJ1dGVzKAogICAgICAgICAgICAnRWxhc3RpY3NlYXJjaC1WZXJzaW9uJzogJzcuMTAuMCcsCiAgICAgICAgICAgICdQbHVnaW4tQ2xhc3MnOiAnY29tLmV4YW1wbGUuTXlDdXN0b21QbHVnaW4nCiAgICAgICAgKQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>plugins {
    id 'java'
}

group = 'com.example'
version = '1.0.0'

repositories {
    mavenCentral()
}

dependencies {
    compileOnly 'org.elasticsearch:elasticsearch:7.10.0'
}

jar {
    manifest {
        attributes(
            'Elasticsearch-Version': '7.10.0',
            'Plugin-Class': 'com.example.MyCustomPlugin'
        )
    }
}</pre></div><div class='content'><p>Build the plugin using Gradle:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z3JhZGxlIGNsZWFuIGJ1aWxk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gradle clean build</pre></div><div class='content'></div><h1><p>Testing the Plugin</p>
</h1>
<div class='content'><p>To test your plugin, you can use the Elasticsearch test framework. Create unit tests for your plugin and run them using Gradle.</p>
</div><h2><p>Example Unit Test</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBjb20uZXhhbXBsZTsKCmltcG9ydCBvcmcuZWxhc3RpY3NlYXJjaC50ZXN0LkVTVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgTXlDdXN0b21QbHVnaW5UZXN0cyBleHRlbmRzIEVTVGVzdENhc2UgewogICAgcHVibGljIHZvaWQgdGVzdFBsdWdpbkZ1bmN0aW9uYWxpdHkoKSB7CiAgICAgICAgLy8gQWRkIHRlc3QgbG9naWMgaGVyZQogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package com.example;

import org.elasticsearch.test.ESTestCase;

public class MyCustomPluginTests extends ESTestCase {
    public void testPluginFunctionality() {
        // Add test logic here
    }
}</pre></div><div class='content'><p>Run the tests:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z3JhZGxlIHRlc3Q="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gradle test</pre></div><div class='content'></div><h1><p>Deployment</p>
</h1>
<div class='content'><p>To deploy your custom plugin to an Elasticsearch cluster:</p>
<ol>
<li><strong>Copy the Plugin</strong>: Copy the built JAR file to the <code>plugins</code> directory of your Elasticsearch installation.</li>
<li><strong>Restart Elasticsearch</strong>: Restart the Elasticsearch node to load the new plugin.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3AgYnVpbGQvbGlicy9teS1jdXN0b20tcGx1Z2luLTEuMC4wLmphciAvcGF0aC90by9lbGFzdGljc2VhcmNoL3BsdWdpbnMv"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cp build/libs/my-custom-plugin-1.0.0.jar /path/to/elasticsearch/plugins/</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of creating and deploying custom plugins in Elasticsearch. You learned about the plugin structure, types of plugins, setting up the development environment, building and testing a plugin, and deploying it to an Elasticsearch cluster. Custom plugins allow you to extend Elasticsearch's capabilities to meet your specific needs, making it a versatile tool for various applications.</p>
</div><h2><p>Next Steps</p>
</h2>
<div class='content'><p>In the next topic, we will explore <strong>Machine Learning in Elasticsearch</strong>, where you will learn how to leverage Elasticsearch's machine learning capabilities to analyze and predict data trends.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-04-elasticsearch-other-tools' title="Elasticsearch with Other Tools">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-02-machine-learning-elasticsearch' title="Machine Learning in Elasticsearch">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
