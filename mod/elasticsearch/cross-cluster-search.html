<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Cluster Search</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/cross-cluster-search" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/cross-cluster-search" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/cross-cluster-search" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/elasticsearch/cross-cluster-search" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/elasticsearch/cross-cluster-search" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='index-templates'>&#x25C4;Index Templates</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cross-Cluster Search</a>
	</div>
	<div class='col-4 text-end'>
					<a href='snapshot-restore'>Snapshot and Restore &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Cross-Cluster Search (CCS) is a powerful feature in Elasticsearch that allows you to search across multiple clusters as if they were a single cluster. This is particularly useful for organizations that have distributed data across different geographical locations or need to manage data across multiple clusters for scalability and redundancy.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Cluster</strong>: A collection of one or more nodes (servers) that together hold your entire data and provide federated indexing and search capabilities.</li>
<li><strong>Cross-Cluster Search</strong>: The ability to perform search queries across multiple Elasticsearch clusters.</li>
<li><strong>Remote Cluster</strong>: A cluster that is configured to be searchable from another cluster.</li>
</ul>
</div><h1>Setting Up Cross-Cluster Search</h1>
<div class='content'></div><h2>Configuring Remote Clusters</h2>
<div class='content'><p>To enable Cross-Cluster Search, you first need to configure remote clusters. This involves setting up the clusters to recognize each other.</p>
<ol>
<li>
<p><strong>Add Remote Cluster Settings</strong>:
You can add remote cluster settings in the <code>elasticsearch.yml</code> configuration file or via the cluster settings API.</p>
<pre><code class="language-yaml">cluster:
  remote:
    cluster_one:
      seeds: [&quot;host1:9300&quot;, &quot;host2:9300&quot;]
    cluster_two:
      seeds: [&quot;host3:9300&quot;, &quot;host4:9300&quot;]
</code></pre>
</li>
<li>
<p><strong>Using the Cluster Settings API</strong>:
You can dynamically add remote clusters using the following API call:</p>
<pre><code class="language-json">PUT /_cluster/settings
{
  &quot;persistent&quot;: {
    &quot;cluster.remote.cluster_one.seeds&quot;: [&quot;host1:9300&quot;, &quot;host2:9300&quot;],
    &quot;cluster.remote.cluster_two.seeds&quot;: [&quot;host3:9300&quot;, &quot;host4:9300&quot;]
  }
}
</code></pre>
</li>
</ol>
</div><h2>Querying Across Clusters</h2>
<div class='content'><p>Once the remote clusters are configured, you can perform searches across them using the following syntax:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9jbHVzdGVyX29uZTppbmRleF9uYW1lLGNsdXN0ZXJfdHdvOmluZGV4X25hbWUvX3NlYXJjaAp7CiAgInF1ZXJ5IjogewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /cluster_one:index_name,cluster_two:index_name/_search
{
  &quot;query&quot;: {
    &quot;match_all&quot;: {}
  }
}</pre></div><div class='content'><p>In this example, <code>cluster_one:index_name</code> and <code>cluster_two:index_name</code> specify the indices in the respective clusters.</p>
</div><h1>Example: Cross-Cluster Search Query</h1>
<div class='content'><p>Let's look at a practical example where we search for documents containing the term &quot;Elasticsearch&quot; across two clusters.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9jbHVzdGVyX29uZTpsb2dzLTIwMjMuMDEsY2x1c3Rlcl90d286bG9ncy0yMDIzLjAxL19zZWFyY2gKewogICJxdWVyeSI6IHsKICAgICJtYXRjaCI6IHsKICAgICAgIm1lc3NhZ2UiOiAiRWxhc3RpY3NlYXJjaCIKICAgIH0KICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /cluster_one:logs-2023.01,cluster_two:logs-2023.01/_search
{
  &quot;query&quot;: {
    &quot;match&quot;: {
      &quot;message&quot;: &quot;Elasticsearch&quot;
    }
  }
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>GET /cluster_one:logs-2023.01,cluster_two:logs-2023.01/_search</strong>: This line specifies that the search should be performed on the <code>logs-2023.01</code> index in both <code>cluster_one</code> and <code>cluster_two</code>.</li>
<li><strong>&quot;query&quot;: { &quot;match&quot;: { &quot;message&quot;: &quot;Elasticsearch&quot; } }</strong>: This part of the query specifies that we are looking for documents where the <code>message</code> field contains the term &quot;Elasticsearch&quot;.</li>
</ul>
</div><h1>Performance Considerations</h1>
<div class='content'><p>When performing Cross-Cluster Searches, it's important to consider the following:</p>
<ul>
<li><strong>Network Latency</strong>: Searching across clusters located in different geographical regions can introduce network latency.</li>
<li><strong>Resource Utilization</strong>: Cross-Cluster Searches can be resource-intensive. Ensure that your clusters are adequately provisioned to handle the load.</li>
<li><strong>Security</strong>: Ensure that secure communication (e.g., TLS) is configured between clusters to protect data in transit.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Cross-Cluster Search in Elasticsearch is a powerful feature that allows you to search across multiple clusters seamlessly. By configuring remote clusters and using the appropriate query syntax, you can leverage this capability to manage and search distributed data effectively. Always consider performance and security implications when setting up Cross-Cluster Search to ensure optimal and secure operations.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='index-templates'>&#x25C4;Index Templates</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cross-Cluster Search</a>
	</div>
	<div class='col-4 text-end'>
					<a href='snapshot-restore'>Snapshot and Restore &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
