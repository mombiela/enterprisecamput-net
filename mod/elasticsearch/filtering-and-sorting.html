<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtering and Sorting in Elasticsearch</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/filtering-and-sorting" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/filtering-and-sorting" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/filtering-and-sorting" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/elasticsearch/filtering-and-sorting" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/elasticsearch/filtering-and-sorting" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='full-text-search'>&#x25C4;Full-Text Search</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Filtering and Sorting in Elasticsearch</a>
	</div>
	<div class='col-4 text-end'>
					<a href='aggregations'>Aggregations &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will explore how to filter and sort data in Elasticsearch. Filtering and sorting are essential operations for querying large datasets efficiently. We will cover the basics and gradually move to more advanced concepts.</p>
</div><h1>Filtering Data</h1>
<div class='content'><p>Filtering allows you to narrow down your search results based on specific criteria. Elasticsearch provides various ways to filter data.</p>
</div><h2>Basic Filters</h2>
<div class='content'><p>Basic filters are straightforward and easy to use. They include term, range, and exists filters.</p>
<ul>
<li>
<p><strong>Term Filter</strong>: Filters documents that contain an exact term in a provided field.</p>
<pre><code class="language-json">{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;status&quot;: &quot;active&quot;
    }
  }
}
</code></pre>
</li>
<li>
<p><strong>Range Filter</strong>: Filters documents that have fields within a certain range.</p>
<pre><code class="language-json">{
  &quot;query&quot;: {
    &quot;range&quot;: {
      &quot;age&quot;: {
        &quot;gte&quot;: 30,
        &quot;lte&quot;: 40
      }
    }
  }
}
</code></pre>
</li>
<li>
<p><strong>Exists Filter</strong>: Filters documents that contain a specific field.</p>
<pre><code class="language-json">{
  &quot;query&quot;: {
    &quot;exists&quot;: {
      &quot;field&quot;: &quot;email&quot;
    }
  }
}
</code></pre>
</li>
</ul>
</div><h2>Compound Filters</h2>
<div class='content'><p>Compound filters combine multiple filters using logical operators like <code>must</code>, <code>should</code>, and <code>must_not</code>.</p>
<ul>
<li>
<p><strong>Bool Query</strong>: Combines multiple filters using boolean logic.</p>
<pre><code class="language-json">{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;must&quot;: [
        { &quot;term&quot;: { &quot;status&quot;: &quot;active&quot; } },
        { &quot;range&quot;: { &quot;age&quot;: { &quot;gte&quot;: 30, &quot;lte&quot;: 40 } } }
      ],
      &quot;must_not&quot;: [
        { &quot;term&quot;: { &quot;role&quot;: &quot;admin&quot; } }
      ]
    }
  }
}
</code></pre>
</li>
</ul>
</div><h2>Advanced Filters</h2>
<div class='content'><p>Advanced filters provide more flexibility and power.</p>
<ul>
<li>
<p><strong>Nested Filter</strong>: Filters documents that contain nested objects or arrays.</p>
<pre><code class="language-json">{
  &quot;query&quot;: {
    &quot;nested&quot;: {
      &quot;path&quot;: &quot;comments&quot;,
      &quot;query&quot;: {
        &quot;bool&quot;: {
          &quot;must&quot;: [
            { &quot;match&quot;: { &quot;comments.author&quot;: &quot;John&quot; } },
            { &quot;range&quot;: { &quot;comments.date&quot;: { &quot;gte&quot;: &quot;2022-01-01&quot; } } }
          ]
        }
      }
    }
  }
}
</code></pre>
</li>
</ul>
</div><h1>Sorting Data</h1>
<div class='content'><p>Sorting allows you to order your search results based on specific fields.</p>
</div><h2>Basic Sorting</h2>
<div class='content'><p>Basic sorting is simple and involves sorting by a single field.</p>
<ul>
<li>
<p><strong>Sort by Field</strong>: Sorts documents by a specified field in ascending or descending order.</p>
<pre><code class="language-json">{
  &quot;sort&quot;: [
    { &quot;age&quot;: { &quot;order&quot;: &quot;asc&quot; } }
  ]
}
</code></pre>
</li>
</ul>
</div><h2>Multi-level Sorting</h2>
<div class='content'><p>Multi-level sorting allows you to sort by multiple fields.</p>
<ul>
<li>
<p><strong>Sort by Multiple Fields</strong>: Sorts documents by multiple fields in a specified order.</p>
<pre><code class="language-json">{
  &quot;sort&quot;: [
    { &quot;age&quot;: { &quot;order&quot;: &quot;asc&quot; } },
    { &quot;name&quot;: { &quot;order&quot;: &quot;desc&quot; } }
  ]
}
</code></pre>
</li>
</ul>
</div><h2>Sorting Nested Fields</h2>
<div class='content'><p>Sorting can also be applied to nested fields within documents.</p>
<ul>
<li>
<p><strong>Sort by Nested Field</strong>: Sorts documents based on fields within nested objects.</p>
<pre><code class="language-json">{
  &quot;sort&quot;: [
    {
      &quot;comments.date&quot;: {
        &quot;order&quot;: &quot;desc&quot;,
        &quot;nested&quot;: {
          &quot;path&quot;: &quot;comments&quot;
        }
      }
    }
  ]
}
</code></pre>
</li>
</ul>
</div><h1>Combining Filtering and Sorting</h1>
<div class='content'><p>Often, you will need to filter and sort data simultaneously. Elasticsearch allows you to combine these operations seamlessly.</p>
<ul>
<li>
<p><strong>Filter and Sort</strong>: Combine filtering and sorting in a single query.</p>
<pre><code class="language-json">{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;must&quot;: [
        { &quot;term&quot;: { &quot;status&quot;: &quot;active&quot; } },
        { &quot;range&quot;: { &quot;age&quot;: { &quot;gte&quot;: 30, &quot;lte&quot;: 40 } } }
      ]
    }
  },
  &quot;sort&quot;: [
    { &quot;age&quot;: { &quot;order&quot;: &quot;asc&quot; } }
  ]
}
</code></pre>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Filtering and sorting are powerful features in Elasticsearch that allow you to efficiently query and organize your data. By understanding and utilizing basic, compound, and advanced filters, as well as sorting techniques, you can perform complex queries and retrieve data in a meaningful order. Practice these concepts with various datasets to become proficient in managing Elasticsearch queries.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='full-text-search'>&#x25C4;Full-Text Search</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Filtering and Sorting in Elasticsearch</a>
	</div>
	<div class='col-4 text-end'>
					<a href='aggregations'>Aggregations &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
