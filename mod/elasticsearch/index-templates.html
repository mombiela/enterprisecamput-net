<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index Templates</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/index-templates" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/index-templates" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/index-templates" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/elasticsearch/index-templates" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/elasticsearch/index-templates" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-analyzers'>&#x25C4;Custom Analyzers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Index Templates</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cross-cluster-search'>Cross-Cluster Search &#x25BA;</a>
			</div>
</div>
<div class='index'><p>Index templates in Elasticsearch allow you to define settings, mappings, and aliases that should be applied automatically to new indices. They are a powerful feature for managing and standardizing the configuration of indices in your Elasticsearch cluster.</p>
</div><h2>Key Concepts</h2>
<div class='index'><ul>
<li><strong>Index Template</strong>: A set of configurations that can be applied to new indices.</li>
<li><strong>Settings</strong>: Configuration options for an index, such as the number of shards and replicas.</li>
<li><strong>Mappings</strong>: Define how documents and their fields are stored and indexed.</li>
<li><strong>Aliases</strong>: Alternative names for indices, which can simplify querying and index management.</li>
</ul>
</div><h2>Creating an Index Template</h2>
<div class='index'><p>To create an index template, you need to define it using a JSON object and send it to the <code>_template</code> endpoint. Here's a basic example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQp7CiAgImluZGV4X3BhdHRlcm5zIjogWyJsb2ctKiJdLAogICJzZXR0aW5ncyI6IHsKICAgICJudW1iZXJfb2Zfc2hhcmRzIjogMQogIH0sCiAgIm1hcHBpbmdzIjogewogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICJ0aW1lc3RhbXAiOiB7CiAgICAgICAgInR5cGUiOiAiZGF0ZSIKICAgICAgfSwKICAgICAgIm1lc3NhZ2UiOiB7CiAgICAgICAgInR5cGUiOiAidGV4dCIKICAgICAgfQogICAgfQogIH0sCiAgImFsaWFzZXMiOiB7CiAgICAibG9ncyI6IHt9CiAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _template/my_template
{
  &quot;index_patterns&quot;: [&quot;log-*&quot;],
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 1
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;timestamp&quot;: {
        &quot;type&quot;: &quot;date&quot;
      },
      &quot;message&quot;: {
        &quot;type&quot;: &quot;text&quot;
      }
    }
  },
  &quot;aliases&quot;: {
    &quot;logs&quot;: {}
  }
}</pre></div><div class='index'></div><h2>Explanation</h2>
<div class='index'><ul>
<li><strong>index_patterns</strong>: Specifies the index name patterns to which this template should be applied. In this case, it applies to any index that starts with &quot;log-&quot;.</li>
<li><strong>settings</strong>: Defines the index settings. Here, we set the number of shards to 1.</li>
<li><strong>mappings</strong>: Defines the field mappings. We have two fields: <code>timestamp</code> of type <code>date</code> and <code>message</code> of type <code>text</code>.</li>
<li><strong>aliases</strong>: Defines an alias named <code>logs</code> for the indices that match the pattern.</li>
</ul>
</div><h2>Applying Index Templates</h2>
<div class='index'><p>When you create a new index that matches the pattern specified in the template, Elasticsearch automatically applies the template settings, mappings, and aliases to the new index.</p>
<p>For example, creating an index named <code>log-2023-10-01</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIGxvZy0yMDIzLTEwLTAx"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT log-2023-10-01</pre></div><div class='index'><p>This index will inherit the settings, mappings, and aliases defined in <code>my_template</code>.</p>
</div><h2>Managing Index Templates</h2>
<div class='index'></div><h2>Listing Index Templates</h2>
<div class='index'><p>To list all index templates, use the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIF90ZW1wbGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET _template</pre></div><div class='index'></div><h2>Retrieving a Specific Template</h2>
<div class='index'><p>To retrieve a specific template, use:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET _template/my_template</pre></div><div class='index'></div><h2>Updating an Index Template</h2>
<div class='index'><p>To update an existing template, use the same <code>PUT</code> request with the updated JSON object. Elasticsearch will overwrite the existing template with the new definition.</p>
</div><h2>Deleting an Index Template</h2>
<div class='index'><p>To delete an index template, use the following command:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("REVMRVRFIF90ZW1wbGF0ZS9teV90ZW1wbGF0ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DELETE _template/my_template</pre></div><div class='index'></div><h2>Example: Advanced Index Template</h2>
<div class='index'><p>Here is a more advanced example that includes additional settings and mappings:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIF90ZW1wbGF0ZS9hZHZhbmNlZF90ZW1wbGF0ZQp7CiAgImluZGV4X3BhdHRlcm5zIjogWyJkYXRhLSoiXSwKICAib3JkZXIiOiAxLAogICJzZXR0aW5ncyI6IHsKICAgICJudW1iZXJfb2Zfc2hhcmRzIjogMywKICAgICJudW1iZXJfb2ZfcmVwbGljYXMiOiAyLAogICAgInJlZnJlc2hfaW50ZXJ2YWwiOiAiMzBzIgogIH0sCiAgIm1hcHBpbmdzIjogewogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICJ1c2VyX2lkIjogewogICAgICAgICJ0eXBlIjogImtleXdvcmQiCiAgICAgIH0sCiAgICAgICJjcmVhdGVkX2F0IjogewogICAgICAgICJ0eXBlIjogImRhdGUiLAogICAgICAgICJmb3JtYXQiOiAieXl5eS1NTS1kZCBISDptbTpzc3x8ZXBvY2hfbWlsbGlzIgogICAgICB9LAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidHlwZSI6ICJ0ZXh0IiwKICAgICAgICAiYW5hbHl6ZXIiOiAic3RhbmRhcmQiCiAgICAgIH0KICAgIH0KICB9LAogICJhbGlhc2VzIjogewogICAgImRhdGFfYWxpYXMiOiB7fQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT _template/advanced_template
{
  &quot;index_patterns&quot;: [&quot;data-*&quot;],
  &quot;order&quot;: 1,
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 3,
    &quot;number_of_replicas&quot;: 2,
    &quot;refresh_interval&quot;: &quot;30s&quot;
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;user_id&quot;: {
        &quot;type&quot;: &quot;keyword&quot;
      },
      &quot;created_at&quot;: {
        &quot;type&quot;: &quot;date&quot;,
        &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss||epoch_millis&quot;
      },
      &quot;content&quot;: {
        &quot;type&quot;: &quot;text&quot;,
        &quot;analyzer&quot;: &quot;standard&quot;
      }
    }
  },
  &quot;aliases&quot;: {
    &quot;data_alias&quot;: {}
  }
}</pre></div><div class='index'></div><h2>Explanation</h2>
<div class='index'><ul>
<li><strong>order</strong>: Determines the order of application if multiple templates match. Higher values have higher precedence.</li>
<li><strong>refresh_interval</strong>: Sets the interval at which the index is refreshed.</li>
<li><strong>mappings</strong>: Includes a <code>user_id</code> field of type <code>keyword</code>, a <code>created_at</code> field with a custom date format, and a <code>content</code> field with a standard analyzer.</li>
</ul>
</div><h2>Conclusion</h2>
<div class='index'><p>Index templates in Elasticsearch are essential for managing and standardizing the configuration of indices. They help ensure consistency across indices and simplify the process of index creation. By understanding and utilizing index templates, you can optimize your Elasticsearch cluster's performance and maintainability.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-analyzers'>&#x25C4;Custom Analyzers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Index Templates</a>
	</div>
	<div class='col-4 text-end'>
					<a href='cross-cluster-search'>Cross-Cluster Search &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
