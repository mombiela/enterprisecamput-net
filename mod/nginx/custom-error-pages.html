<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Error Pages</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nginx/custom-error-pages" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nginx/custom-error-pages" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nginx/custom-error-pages" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nginx/custom-error-pages" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nginx/custom-error-pages" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='nginx-modules-and-extensions'>&#x25C4;NGINX Modules and Extensions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Error Pages</a>
	</div>
	<div class='col-4 text-end'>
					<a href='monitoring-nginx'>Monitoring NGINX &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Custom error pages are an essential part of web development, providing a better user experience when something goes wrong. In this section, we will explore how to set up custom error pages in NGINX, from basic configurations to more advanced setups.</p>
</div><h1>Introduction to Custom Error Pages</h1>
<div class='content'><p>Custom error pages allow you to:</p>
<ul>
<li>Provide a user-friendly message when an error occurs.</li>
<li>Maintain a consistent look and feel across your website.</li>
<li>Offer helpful information or navigation options to users.</li>
</ul>
</div><h1>Basic Configuration</h1>
<div class='content'><p>To start with custom error pages in NGINX, you need to modify your NGINX configuration file. The most common errors to handle are 404 (Not Found) and 500 (Internal Server Error).</p>
</div><h2>Example: Basic 404 Error Page</h2>
<div class='content'><ol>
<li><strong>Create a Custom Error Page</strong>: Create an HTML file for your custom error page, e.g., <code>404.html</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+UGFnZSBOb3QgRm91bmQ8L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPjQwNCAtIFBhZ2UgTm90IEZvdW5kPC9oMT4KICAgIDxwPlNvcnJ5LCB0aGUgcGFnZSB5b3UgYXJlIGxvb2tpbmcgZm9yIGRvZXMgbm90IGV4aXN0LjwvcD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Page Not Found&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;404 - Page Not Found&lt;/h1&gt;
    &lt;p&gt;Sorry, the page you are looking for does not exist.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ol start="2">
<li><strong>Modify NGINX Configuration</strong>: Edit your NGINX configuration file (usually located at <code>/etc/nginx/nginx.conf</code> or <code>/etc/nginx/sites-available/default</code>).</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIHlvdXJkb21haW4uY29tOwoKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHRyeV9maWxlcyAkdXJpICR1cmkvID00MDQ7CiAgICB9CgogICAgZXJyb3JfcGFnZSA0MDQgLzQwNC5odG1sOwogICAgbG9jYXRpb24gPSAvNDA0Lmh0bWwgewogICAgICAgIHJvb3QgL3Vzci9zaGFyZS9uZ2lueC9odG1sOwogICAgICAgIGludGVybmFsOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name yourdomain.com;

    location / {
        try_files $uri $uri/ =404;
    }

    error_page 404 /404.html;
    location = /404.html {
        root /usr/share/nginx/html;
        internal;
    }
}</pre></div><div class='content'><ul>
<li><code>error_page 404 /404.html;</code>: This directive tells NGINX to use <code>404.html</code> for 404 errors.</li>
<li><code>location = /404.html { ... }</code>: This block specifies where the <code>404.html</code> file is located and makes it internal, so it cannot be accessed directly by users.</li>
</ul>
</div><h1>Handling Multiple Error Codes</h1>
<div class='content'><p>You can handle multiple error codes by specifying them in the <code>error_page</code> directive.</p>
</div><h2>Example: Handling 404 and 500 Errors</h2>
<div class='content'><ol>
<li><strong>Create Custom Error Pages</strong>: Create <code>404.html</code> and <code>500.html</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSA0MDQuaHRtbCAtLT4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+UGFnZSBOb3QgRm91bmQ8L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPjQwNCAtIFBhZ2UgTm90IEZvdW5kPC9oMT4KICAgIDxwPlNvcnJ5LCB0aGUgcGFnZSB5b3UgYXJlIGxvb2tpbmcgZm9yIGRvZXMgbm90IGV4aXN0LjwvcD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- 404.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Page Not Found&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;404 - Page Not Found&lt;/h1&gt;
    &lt;p&gt;Sorry, the page you are looking for does not exist.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSA1MDAuaHRtbCAtLT4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+SW50ZXJuYWwgU2VydmVyIEVycm9yPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxoMT41MDAgLSBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3I8L2gxPgogICAgPHA+U29ycnksIHNvbWV0aGluZyB3ZW50IHdyb25nIG9uIG91ciBlbmQuPC9wPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- 500.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Internal Server Error&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;500 - Internal Server Error&lt;/h1&gt;
    &lt;p&gt;Sorry, something went wrong on our end.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ol start="2">
<li><strong>Modify NGINX Configuration</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIHlvdXJkb21haW4uY29tOwoKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHRyeV9maWxlcyAkdXJpICR1cmkvID00MDQ7CiAgICB9CgogICAgZXJyb3JfcGFnZSA0MDQgLzQwNC5odG1sOwogICAgZXJyb3JfcGFnZSA1MDAgNTAyIDUwMyA1MDQgLzUwMC5odG1sOwoKICAgIGxvY2F0aW9uID0gLzQwNC5odG1sIHsKICAgICAgICByb290IC91c3Ivc2hhcmUvbmdpbngvaHRtbDsKICAgICAgICBpbnRlcm5hbDsKICAgIH0KCiAgICBsb2NhdGlvbiA9IC81MDAuaHRtbCB7CiAgICAgICAgcm9vdCAvdXNyL3NoYXJlL25naW54L2h0bWw7CiAgICAgICAgaW50ZXJuYWw7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name yourdomain.com;

    location / {
        try_files $uri $uri/ =404;
    }

    error_page 404 /404.html;
    error_page 500 502 503 504 /500.html;

    location = /404.html {
        root /usr/share/nginx/html;
        internal;
    }

    location = /500.html {
        root /usr/share/nginx/html;
        internal;
    }
}</pre></div><div class='content'><ul>
<li><code>error_page 500 502 503 504 /500.html;</code>: This directive handles multiple server error codes with a single custom error page.</li>
</ul>
</div><h1>Advanced Custom Error Pages</h1>
<div class='content'><p>For more advanced setups, you might want to include dynamic content or use server-side scripting.</p>
</div><h2>Example: Using a PHP Script for Custom Error Pages</h2>
<div class='content'><ol>
<li><strong>Create a PHP Script</strong>: Create <code>error.php</code> to handle errors dynamically.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJGVycm9yX2NvZGUgPSAkX0dFVFsnY29kZSddOwo/Pgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT5FcnJvciA8P3BocCBlY2hvICRlcnJvcl9jb2RlOyA/PjwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+RXJyb3IgPD9waHAgZWNobyAkZXJyb3JfY29kZTsgPz48L2gxPgogICAgPHA+U29ycnksIGFuIGVycm9yIG9jY3VycmVkOiA8P3BocCBlY2hvICRlcnJvcl9jb2RlOyA/PjwvcD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$error_code = $_GET['code'];
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Error &lt;?php echo $error_code; ?&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Error &lt;?php echo $error_code; ?&gt;&lt;/h1&gt;
    &lt;p&gt;Sorry, an error occurred: &lt;?php echo $error_code; ?&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ol start="2">
<li><strong>Modify NGINX Configuration</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIHlvdXJkb21haW4uY29tOwoKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHRyeV9maWxlcyAkdXJpICR1cmkvID00MDQ7CiAgICB9CgogICAgZXJyb3JfcGFnZSA0MDQgPSAvZXJyb3IucGhwP2NvZGU9NDA0OwogICAgZXJyb3JfcGFnZSA1MDAgNTAyIDUwMyA1MDQgPSAvZXJyb3IucGhwP2NvZGU9NTAwOwoKICAgIGxvY2F0aW9uIH4gXC5waHAkIHsKICAgICAgICBpbmNsdWRlIHNuaXBwZXRzL2Zhc3RjZ2ktcGhwLmNvbmY7CiAgICAgICAgZmFzdGNnaV9wYXNzIHVuaXg6L3Zhci9ydW4vcGhwL3BocDcuNC1mcG0uc29jazsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name yourdomain.com;

    location / {
        try_files $uri $uri/ =404;
    }

    error_page 404 = /error.php?code=404;
    error_page 500 502 503 504 = /error.php?code=500;

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
    }
}</pre></div><div class='content'><ul>
<li><code>error_page 404 = /error.php?code=404;</code>: This directive uses a PHP script to handle the error, passing the error code as a parameter.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Custom error pages in NGINX enhance the user experience by providing informative and aesthetically pleasing error messages. By following the steps outlined in this section, you can create basic to advanced custom error pages tailored to your website's needs. Remember to test your configurations thoroughly to ensure they work as expected.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='nginx-modules-and-extensions'>&#x25C4;NGINX Modules and Extensions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Error Pages</a>
	</div>
	<div class='col-4 text-end'>
					<a href='monitoring-nginx'>Monitoring NGINX &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
