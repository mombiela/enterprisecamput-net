<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serving Static Content</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nginx/02-01-serving-static-content" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nginx/02-01-serving-static-content" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nginx/02-01-serving-static-content" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nginx/02-01-serving-static-content" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nginx/02-01-serving-static-content" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='01-04-starting-stopping-nginx' title="Starting and Stopping NGINX">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Serving Static Content</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-02-directory-listings' title="Directory Listings">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will learn how to configure NGINX to serve static content such as HTML, CSS, JavaScript, images, and other files. Serving static content is one of the most common uses of NGINX, and it is a fundamental skill for anyone looking to use NGINX as a web server.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li><strong>Static Content</strong>: Files that do not change dynamically and are served directly to the client.</li>
<li><strong>Document Root</strong>: The directory on the server where the static files are stored.</li>
<li><strong>NGINX Configuration File</strong>: The file where you define how NGINX should handle requests.</li>
</ol>
</div><h1><p>Steps to Serve Static Content</p>
</h1>
<div class='content'></div><h2><ol>
<li>Setting Up the Document Root</li>
</ol>
</h2>
<div class='content'><p>First, you need to create a directory on your server where you will store your static files. This directory is known as the document root.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBta2RpciAtcCAvdmFyL3d3dy9teXdlYnNpdGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo mkdir -p /var/www/mywebsite</pre></div><div class='content'></div><h2><ol start="2">
<li>Creating Sample Static Files</li>
</ol>
</h2>
<div class='content'><p>Create a simple HTML file to serve as an example.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZWNobyAiPCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5XZWxjb21lIHRvIE15IFdlYnNpdGU8L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPkhlbGxvLCBXb3JsZCE8L2gxPgogICAgPHA+VGhpcyBpcyBhIHN0YXRpYyBIVE1MIHBhZ2Ugc2VydmVkIGJ5IE5HSU5YLjwvcD4KPC9ib2R5Pgo8L2h0bWw+IiB8IHN1ZG8gdGVlIC92YXIvd3d3L215d2Vic2l0ZS9pbmRleC5odG1s"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>echo &quot;&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Welcome to My Website&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
    &lt;p&gt;This is a static HTML page served by NGINX.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;&quot; | sudo tee /var/www/mywebsite/index.html</pre></div><div class='content'></div><h2><ol start="3">
<li>Configuring NGINX</li>
</ol>
</h2>
<div class='content'><p>Edit the NGINX configuration file to point to your document root. The default configuration file is usually located at <code>/etc/nginx/nginx.conf</code> or <code>/etc/nginx/sites-available/default</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBuYW5vIC9ldGMvbmdpbngvc2l0ZXMtYXZhaWxhYmxlL2RlZmF1bHQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo nano /etc/nginx/sites-available/default</pre></div><div class='content'><p>Add the following server block to the configuration file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIG15d2Vic2l0ZS5jb207CgogICAgbG9jYXRpb24gLyB7CiAgICAgICAgcm9vdCAvdmFyL3d3dy9teXdlYnNpdGU7CiAgICAgICAgaW5kZXggaW5kZXguaHRtbDsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name mywebsite.com;

    location / {
        root /var/www/mywebsite;
        index index.html;
    }
}</pre></div><div class='content'></div><h2><ol start="4">
<li>Testing the Configuration</li>
</ol>
</h2>
<div class='content'><p>Before restarting NGINX, it's a good practice to test the configuration for any syntax errors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBuZ2lueCAtdA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo nginx -t</pre></div><div class='content'><p>If the test is successful, you should see a message like:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmdpbng6IHRoZSBjb25maWd1cmF0aW9uIGZpbGUgL2V0Yy9uZ2lueC9uZ2lueC5jb25mIHN5bnRheCBpcyBvawpuZ2lueDogY29uZmlndXJhdGlvbiBmaWxlIC9ldGMvbmdpbngvbmdpbnguY29uZiB0ZXN0IGlzIHN1Y2Nlc3NmdWw="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful</pre></div><div class='content'></div><h2><ol start="5">
<li>Restarting NGINX</li>
</ol>
</h2>
<div class='content'><p>Restart NGINX to apply the new configuration.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBuZ2lueA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo systemctl restart nginx</pre></div><div class='content'></div><h2><ol start="6">
<li>Accessing the Static Content</li>
</ol>
</h2>
<div class='content'><p>Open a web browser and navigate to <code>http://your_server_ip/</code> or <code>http://mywebsite.com/</code> (if you have configured DNS). You should see the HTML page you created.</p>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Serve Additional Static Files</p>
</h2>
<div class='content'><ol>
<li>Create a new directory called <code>assets</code> inside <code>/var/www/mywebsite</code>.</li>
<li>Add a CSS file and an image to the <code>assets</code> directory.</li>
<li>Update the HTML file to include the CSS file and display the image.</li>
<li>Modify the NGINX configuration to serve these additional files.</li>
</ol>
<h4>Solution</h4>
<ol>
<li>Create the <code>assets</code> directory:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBta2RpciAtcCAvdmFyL3d3dy9teXdlYnNpdGUvYXNzZXRz"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo mkdir -p /var/www/mywebsite/assets</pre></div><div class='content'><ol start="2">
<li>Add a CSS file and an image:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZWNobyAiYm9keSB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDsgfSIgfCBzdWRvIHRlZSAvdmFyL3d3dy9teXdlYnNpdGUvYXNzZXRzL3N0eWxlcy5jc3MKc3VkbyBjcCAvcGF0aC90by95b3VyL2ltYWdlLmpwZyAvdmFyL3d3dy9teXdlYnNpdGUvYXNzZXRzLw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>echo &quot;body { font-family: Arial, sans-serif; background-color: #f0f0f0; }&quot; | sudo tee /var/www/mywebsite/assets/styles.css
sudo cp /path/to/your/image.jpg /var/www/mywebsite/assets/</pre></div><div class='content'><ol start="3">
<li>Update the HTML file:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT5XZWxjb21lIHRvIE15IFdlYnNpdGU8L3RpdGxlPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Fzc2V0cy9zdHlsZXMuY3NzIj4KPC9oZWFkPgo8Ym9keT4KICAgIDxoMT5IZWxsbywgV29ybGQhPC9oMT4KICAgIDxwPlRoaXMgaXMgYSBzdGF0aWMgSFRNTCBwYWdlIHNlcnZlZCBieSBOR0lOWC48L3A+CiAgICA8aW1nIHNyYz0iL2Fzc2V0cy9pbWFnZS5qcGciIGFsdD0iU2FtcGxlIEltYWdlIj4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Welcome to My Website&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/assets/styles.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
    &lt;p&gt;This is a static HTML page served by NGINX.&lt;/p&gt;
    &lt;img src=&quot;/assets/image.jpg&quot; alt=&quot;Sample Image&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ol start="4">
<li>No need to modify the NGINX configuration further, as the <code>location /</code> block will serve all files under <code>/var/www/mywebsite</code>.</li>
</ol>
</div><h2><p>Common Mistakes and Tips</p>
</h2>
<div class='content'><ul>
<li><strong>File Permissions</strong>: Ensure that the NGINX process has read permissions for the files in the document root.</li>
<li><strong>Configuration Syntax</strong>: Always test the NGINX configuration after making changes to avoid syntax errors.</li>
<li><strong>Caching</strong>: Use caching headers to improve the performance of serving static content.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we learned how to configure NGINX to serve static content. We covered setting up the document root, creating sample static files, configuring NGINX, and testing the setup. We also provided a practical exercise to reinforce the concepts. In the next section, we will explore how to enable directory listings in NGINX.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='01-04-starting-stopping-nginx' title="Starting and Stopping NGINX">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-02-directory-listings' title="Directory Listings">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
