<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGINX and FastCGI</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nginx/nginx-and-fastcgi" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nginx/nginx-and-fastcgi" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nginx/nginx-and-fastcgi" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/nginx/nginx-and-fastcgi" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/nginx/nginx-and-fastcgi" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='nginx-as-web-server'>&#x25C4;Using NGINX as a Web Server</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">NGINX and FastCGI</a>
	</div>
	<div class='col-4 text-end'>
					<a href='nginx-modules-and-extensions'>NGINX Modules and Extensions &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to FastCGI</h1>
<div class='content'><p>FastCGI is a protocol for interfacing interactive programs with a web server. It is an improvement over the older Common Gateway Interface (CGI) and provides better performance and scalability.</p>
<ul>
<li><strong>CGI vs FastCGI</strong>:
<ul>
<li><strong>CGI</strong>: Each request spawns a new process, leading to high overhead.</li>
<li><strong>FastCGI</strong>: Keeps processes alive to handle multiple requests, reducing overhead.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up NGINX with FastCGI</h1>
<div class='content'><p>To use FastCGI with NGINX, you need to configure NGINX to pass requests to a FastCGI server.</p>
</div><h2>Installing FastCGI</h2>
<div class='content'><p>First, ensure you have a FastCGI server installed. For PHP applications, you can use <code>php-fpm</code> (PHP FastCGI Process Manager).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQtZ2V0IGluc3RhbGwgcGhwLWZwbQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt-get install php-fpm</pre></div><div class='content'></div><h2>Configuring NGINX to Use FastCGI</h2>
<div class='content'><p>Edit your NGINX configuration file to include FastCGI parameters.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIGV4YW1wbGUuY29tOwoKICAgIHJvb3QgL3Zhci93d3cvaHRtbDsKCiAgICBsb2NhdGlvbiAvIHsKICAgICAgICB0cnlfZmlsZXMgJHVyaSAkdXJpLyA9NDA0OwogICAgfQoKICAgIGxvY2F0aW9uIH4gXC5waHAkIHsKICAgICAgICBpbmNsdWRlIHNuaXBwZXRzL2Zhc3RjZ2ktcGhwLmNvbmY7CiAgICAgICAgZmFzdGNnaV9wYXNzIHVuaXg6L3Zhci9ydW4vcGhwL3BocDcuNC1mcG0uc29jazsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name example.com;

    root /var/www/html;

    location / {
        try_files $uri $uri/ =404;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>server</code>: Defines a virtual server.</li>
<li><code>listen 80</code>: Listens on port 80.</li>
<li><code>server_name example.com</code>: The domain name.</li>
<li><code>root /var/www/html</code>: The root directory for the server.</li>
<li><code>location /</code>: Handles requests to the root.</li>
<li><code>try_files $uri $uri/ =404</code>: Tries to serve the file, directory, or returns a 404.</li>
<li><code>location ~ \.php$</code>: Handles PHP files.</li>
<li><code>include snippets/fastcgi-php.conf</code>: Includes FastCGI configuration.</li>
<li><code>fastcgi_pass unix:/var/run/php/php7.4-fpm.sock</code>: Passes the request to the PHP-FPM socket.</li>
</ul>
</li>
</ul>
</div><h2>FastCGI Parameters</h2>
<div class='content'><p>You can fine-tune FastCGI parameters to optimize performance.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYXRpb24gfiBcLnBocCQgewogICAgaW5jbHVkZSBmYXN0Y2dpX3BhcmFtczsKICAgIGZhc3RjZ2lfcGFyYW0gU0NSSVBUX0ZJTEVOQU1FICRkb2N1bWVudF9yb290JGZhc3RjZ2lfc2NyaXB0X25hbWU7CiAgICBmYXN0Y2dpX3Bhc3MgdW5peDovdmFyL3J1bi9waHAvcGhwNy40LWZwbS5zb2NrOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>location ~ \.php$ {
    include fastcgi_params;
    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name</code>: Sets the script filename parameter for FastCGI.</li>
</ul>
</li>
</ul>
</div><h1>Advanced FastCGI Configuration</h1>
<div class='content'><p>For more advanced configurations, you can adjust the FastCGI buffer sizes and timeouts.</p>
</div><h2>Buffer Sizes</h2>
<div class='content'><p>Adjusting buffer sizes can help manage large responses.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYXRpb24gfiBcLnBocCQgewogICAgaW5jbHVkZSBmYXN0Y2dpX3BhcmFtczsKICAgIGZhc3RjZ2lfcGFzcyB1bml4Oi92YXIvcnVuL3BocC9waHA3LjQtZnBtLnNvY2s7CiAgICBmYXN0Y2dpX2J1ZmZlcnMgMTYgMTZrOwogICAgZmFzdGNnaV9idWZmZXJfc2l6ZSAzMms7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>location ~ \.php$ {
    include fastcgi_params;
    fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
    fastcgi_buffers 16 16k;
    fastcgi_buffer_size 32k;
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>fastcgi_buffers 16 16k</code>: Sets the number and size of FastCGI buffers.</li>
<li><code>fastcgi_buffer_size 32k</code>: Sets the size of the FastCGI buffer.</li>
</ul>
</li>
</ul>
</div><h2>Timeouts</h2>
<div class='content'><p>Setting appropriate timeouts can prevent hanging requests.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYXRpb24gfiBcLnBocCQgewogICAgaW5jbHVkZSBmYXN0Y2dpX3BhcmFtczsKICAgIGZhc3RjZ2lfcGFzcyB1bml4Oi92YXIvcnVuL3BocC9waHA3LjQtZnBtLnNvY2s7CiAgICBmYXN0Y2dpX2Nvbm5lY3RfdGltZW91dCA2MHM7CiAgICBmYXN0Y2dpX3NlbmRfdGltZW91dCA2MHM7CiAgICBmYXN0Y2dpX3JlYWRfdGltZW91dCA2MHM7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>location ~ \.php$ {
    include fastcgi_params;
    fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
    fastcgi_connect_timeout 60s;
    fastcgi_send_timeout 60s;
    fastcgi_read_timeout 60s;
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>fastcgi_connect_timeout 60s</code>: Timeout for connecting to FastCGI.</li>
<li><code>fastcgi_send_timeout 60s</code>: Timeout for sending data to FastCGI.</li>
<li><code>fastcgi_read_timeout 60s</code>: Timeout for reading data from FastCGI.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>NGINX and FastCGI work together to provide a powerful and efficient way to serve dynamic content. By understanding and configuring FastCGI parameters, you can optimize your server's performance and handle high traffic loads effectively. This section covered the basics of setting up and configuring NGINX with FastCGI, as well as advanced configurations for better performance.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='nginx-as-web-server'>&#x25C4;Using NGINX as a Web Server</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">NGINX and FastCGI</a>
	</div>
	<div class='col-4 text-end'>
					<a href='nginx-modules-and-extensions'>NGINX Modules and Extensions &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
