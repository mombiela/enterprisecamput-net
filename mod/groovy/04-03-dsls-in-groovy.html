<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSLs in Groovy</title>

    <link rel="alternate" href="https://campusempresa.com/mod/groovy/04-03-dsls-in-groovy" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/groovy/04-03-dsls-in-groovy" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/groovy/04-03-dsls-in-groovy" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/groovy/04-03-dsls-in-groovy" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/groovy/04-03-dsls-in-groovy" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-ast-transformations' title="AST Transformations">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">DSLs in Groovy</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-groovy-java-integration' title="Groovy and Java Integration">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introduction to DSLs</p>
</h1>
<div class='content'></div><h2><p>What is a DSL?</p>
</h2>
<div class='content'><p>A Domain-Specific Language (DSL) is a specialized mini-language designed to solve problems in a specific domain. Unlike general-purpose programming languages, DSLs are tailored to a particular set of tasks, making them more expressive and easier to use within their domain.</p>
</div><h2><p>Why Use DSLs?</p>
</h2>
<div class='content'><ul>
<li><strong>Expressiveness</strong>: DSLs allow you to write code that is more readable and closer to the problem domain.</li>
<li><strong>Productivity</strong>: They can reduce the amount of boilerplate code and make complex tasks simpler.</li>
<li><strong>Maintainability</strong>: DSLs can make the codebase easier to understand and maintain, especially for domain experts who may not be programmers.</li>
</ul>
</div><h1><p>Creating DSLs in Groovy</p>
</h1>
<div class='content'></div><h2><p>Groovy's Strengths for DSLs</p>
</h2>
<div class='content'><p>Groovy is particularly well-suited for creating DSLs due to its:</p>
<ul>
<li><strong>Dynamic nature</strong>: Groovy's dynamic typing and metaprogramming capabilities make it flexible.</li>
<li><strong>Concise syntax</strong>: Groovy's syntax is less verbose than Java, making it easier to create readable DSLs.</li>
<li><strong>Closures</strong>: Groovy's closures provide a powerful way to encapsulate behavior.</li>
</ul>
</div><h2><p>Basic DSL Example</p>
</h2>
<div class='content'><p>Let's start with a simple example of a DSL for defining a person.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIFN0cmluZyBuYW1lCiAgICBpbnQgYWdlCn0KCmRlZiBwZXJzb24oQ2xvc3VyZSBjbG9zdXJlKSB7CiAgICBkZWYgcCA9IG5ldyBQZXJzb24oKQogICAgY2xvc3VyZS5kZWxlZ2F0ZSA9IHAKICAgIGNsb3N1cmUoKQogICAgcmV0dXJuIHAKfQoKZGVmIHAgPSBwZXJzb24gewogICAgbmFtZSA9ICdKb2huIERvZScKICAgIGFnZSA9IDMwCn0KCnByaW50bG4gIk5hbWU6ICR7cC5uYW1lfSwgQWdlOiAke3AuYWdlfSI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    String name
    int age
}

def person(Closure closure) {
    def p = new Person()
    closure.delegate = p
    closure()
    return p
}

def p = person {
    name = 'John Doe'
    age = 30
}

println &quot;Name: ${p.name}, Age: ${p.age}&quot;</pre></div><div class='content'><h4>Explanation</h4>
<ol>
<li><strong>Person Class</strong>: A simple class with <code>name</code> and <code>age</code> properties.</li>
<li><strong>person Method</strong>: This method takes a closure, creates a new <code>Person</code> object, sets the closure's delegate to this object, and then executes the closure.</li>
<li><strong>DSL Usage</strong>: The DSL is used to create a <code>Person</code> object with a more readable syntax.</li>
</ol>
</div><h2><p>Advanced DSL Features</p>
</h2>
<div class='content'><h4>Nested DSLs</h4>
<p>You can create more complex DSLs by nesting closures. For example, let's create a DSL for defining a family.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRmFtaWx5IHsKICAgIFN0cmluZyBmYW1pbHlOYW1lCiAgICBMaXN0PFBlcnNvbj4gbWVtYmVycyA9IFtdCiAgICAKICAgIHZvaWQgbWVtYmVyKENsb3N1cmUgY2xvc3VyZSkgewogICAgICAgIGRlZiBwID0gbmV3IFBlcnNvbigpCiAgICAgICAgY2xvc3VyZS5kZWxlZ2F0ZSA9IHAKICAgICAgICBjbG9zdXJlKCkKICAgICAgICBtZW1iZXJzIDw8IHAKICAgIH0KfQoKZGVmIGZhbWlseShDbG9zdXJlIGNsb3N1cmUpIHsKICAgIGRlZiBmID0gbmV3IEZhbWlseSgpCiAgICBjbG9zdXJlLmRlbGVnYXRlID0gZgogICAgY2xvc3VyZSgpCiAgICByZXR1cm4gZgp9CgpkZWYgZiA9IGZhbWlseSB7CiAgICBmYW1pbHlOYW1lID0gJ1NtaXRoJwogICAgbWVtYmVyIHsKICAgICAgICBuYW1lID0gJ0pvaG4gU21pdGgnCiAgICAgICAgYWdlID0gNDAKICAgIH0KICAgIG1lbWJlciB7CiAgICAgICAgbmFtZSA9ICdKYW5lIFNtaXRoJwogICAgICAgIGFnZSA9IDM4CiAgICB9Cn0KCnByaW50bG4gIkZhbWlseTogJHtmLmZhbWlseU5hbWV9IgpmLm1lbWJlcnMuZWFjaCB7IHByaW50bG4gIk1lbWJlcjogJHtpdC5uYW1lfSwgQWdlOiAke2l0LmFnZX0iIH0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Family {
    String familyName
    List&lt;Person&gt; members = []
    
    void member(Closure closure) {
        def p = new Person()
        closure.delegate = p
        closure()
        members &lt;&lt; p
    }
}

def family(Closure closure) {
    def f = new Family()
    closure.delegate = f
    closure()
    return f
}

def f = family {
    familyName = 'Smith'
    member {
        name = 'John Smith'
        age = 40
    }
    member {
        name = 'Jane Smith'
        age = 38
    }
}

println &quot;Family: ${f.familyName}&quot;
f.members.each { println &quot;Member: ${it.name}, Age: ${it.age}&quot; }</pre></div><div class='content'><h4>Explanation</h4>
<ol>
<li><strong>Family Class</strong>: A class with <code>familyName</code> and a list of <code>members</code>.</li>
<li><strong>member Method</strong>: This method allows adding <code>Person</code> objects to the family.</li>
<li><strong>family Method</strong>: Similar to the <code>person</code> method, but for creating a <code>Family</code> object.</li>
<li><strong>DSL Usage</strong>: The DSL is used to create a <code>Family</code> object with nested <code>Person</code> objects.</li>
</ol>
</div><h1><p>Practical Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create a DSL for a Shopping Cart</p>
</h2>
<div class='content'><p>Create a DSL to define a shopping cart with items. Each item should have a name and a price.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgSXRlbSB7CiAgICBTdHJpbmcgbmFtZQogICAgZG91YmxlIHByaWNlCn0KCmNsYXNzIFNob3BwaW5nQ2FydCB7CiAgICBMaXN0PEl0ZW0+IGl0ZW1zID0gW10KICAgIAogICAgdm9pZCBpdGVtKENsb3N1cmUgY2xvc3VyZSkgewogICAgICAgIGRlZiBpID0gbmV3IEl0ZW0oKQogICAgICAgIGNsb3N1cmUuZGVsZWdhdGUgPSBpCiAgICAgICAgY2xvc3VyZSgpCiAgICAgICAgaXRlbXMgPDwgaQogICAgfQp9CgpkZWYgY2FydChDbG9zdXJlIGNsb3N1cmUpIHsKICAgIGRlZiBjID0gbmV3IFNob3BwaW5nQ2FydCgpCiAgICBjbG9zdXJlLmRlbGVnYXRlID0gYwogICAgY2xvc3VyZSgpCiAgICByZXR1cm4gYwp9CgpkZWYgbXlDYXJ0ID0gY2FydCB7CiAgICBpdGVtIHsKICAgICAgICBuYW1lID0gJ0FwcGxlJwogICAgICAgIHByaWNlID0gMC45OQogICAgfQogICAgaXRlbSB7CiAgICAgICAgbmFtZSA9ICdCYW5hbmEnCiAgICAgICAgcHJpY2UgPSAxLjI5CiAgICB9Cn0KCnByaW50bG4gIlNob3BwaW5nIENhcnQ6IgpteUNhcnQuaXRlbXMuZWFjaCB7IHByaW50bG4gIkl0ZW06ICR7aXQubmFtZX0sIFByaWNlOiBcJCR7aXQucHJpY2V9IiB9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Item {
    String name
    double price
}

class ShoppingCart {
    List&lt;Item&gt; items = []
    
    void item(Closure closure) {
        def i = new Item()
        closure.delegate = i
        closure()
        items &lt;&lt; i
    }
}

def cart(Closure closure) {
    def c = new ShoppingCart()
    closure.delegate = c
    closure()
    return c
}

def myCart = cart {
    item {
        name = 'Apple'
        price = 0.99
    }
    item {
        name = 'Banana'
        price = 1.29
    }
}

println &quot;Shopping Cart:&quot;
myCart.items.each { println &quot;Item: ${it.name}, Price: \$${it.price}&quot; }</pre></div><div class='content'></div><h2><p>Exercise 2: Create a DSL for a Configuration File</p>
</h2>
<div class='content'><p>Create a DSL to define a configuration file with sections and key-value pairs.</p>
<h4>Solution</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ29uZmlnU2VjdGlvbiB7CiAgICBTdHJpbmcgbmFtZQogICAgTWFwPFN0cmluZywgU3RyaW5nPiBwcm9wZXJ0aWVzID0gWzpdCiAgICAKICAgIHZvaWQgcHJvcGVydHkoU3RyaW5nIGtleSwgU3RyaW5nIHZhbHVlKSB7CiAgICAgICAgcHJvcGVydGllc1trZXldID0gdmFsdWUKICAgIH0KfQoKY2xhc3MgQ29uZmlnRmlsZSB7CiAgICBMaXN0PENvbmZpZ1NlY3Rpb24+IHNlY3Rpb25zID0gW10KICAgIAogICAgdm9pZCBzZWN0aW9uKFN0cmluZyBuYW1lLCBDbG9zdXJlIGNsb3N1cmUpIHsKICAgICAgICBkZWYgcyA9IG5ldyBDb25maWdTZWN0aW9uKG5hbWU6IG5hbWUpCiAgICAgICAgY2xvc3VyZS5kZWxlZ2F0ZSA9IHMKICAgICAgICBjbG9zdXJlKCkKICAgICAgICBzZWN0aW9ucyA8PCBzCiAgICB9Cn0KCmRlZiBjb25maWdGaWxlKENsb3N1cmUgY2xvc3VyZSkgewogICAgZGVmIGNmID0gbmV3IENvbmZpZ0ZpbGUoKQogICAgY2xvc3VyZS5kZWxlZ2F0ZSA9IGNmCiAgICBjbG9zdXJlKCkKICAgIHJldHVybiBjZgp9CgpkZWYgY29uZmlnID0gY29uZmlnRmlsZSB7CiAgICBzZWN0aW9uKCdkYXRhYmFzZScpIHsKICAgICAgICBwcm9wZXJ0eSAndXJsJywgJ2pkYmM6bXlzcWw6Ly9sb2NhbGhvc3Q6MzMwNi9teWRiJwogICAgICAgIHByb3BlcnR5ICd1c2VyJywgJ3Jvb3QnCiAgICAgICAgcHJvcGVydHkgJ3Bhc3N3b3JkJywgJ3Bhc3N3b3JkJwogICAgfQogICAgc2VjdGlvbignc2VydmVyJykgewogICAgICAgIHByb3BlcnR5ICdwb3J0JywgJzgwODAnCiAgICAgICAgcHJvcGVydHkgJ2NvbnRleHRQYXRoJywgJy9hcHAnCiAgICB9Cn0KCmNvbmZpZy5zZWN0aW9ucy5lYWNoIHsgc2VjdGlvbiAtPgogICAgcHJpbnRsbiAiU2VjdGlvbjogJHtzZWN0aW9uLm5hbWV9IgogICAgc2VjdGlvbi5wcm9wZXJ0aWVzLmVhY2ggeyBrZXksIHZhbHVlIC0+CiAgICAgICAgcHJpbnRsbiAiICAke2tleX06ICR7dmFsdWV9IgogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ConfigSection {
    String name
    Map&lt;String, String&gt; properties = [:]
    
    void property(String key, String value) {
        properties[key] = value
    }
}

class ConfigFile {
    List&lt;ConfigSection&gt; sections = []
    
    void section(String name, Closure closure) {
        def s = new ConfigSection(name: name)
        closure.delegate = s
        closure()
        sections &lt;&lt; s
    }
}

def configFile(Closure closure) {
    def cf = new ConfigFile()
    closure.delegate = cf
    closure()
    return cf
}

def config = configFile {
    section('database') {
        property 'url', 'jdbc:mysql://localhost:3306/mydb'
        property 'user', 'root'
        property 'password', 'password'
    }
    section('server') {
        property 'port', '8080'
        property 'contextPath', '/app'
    }
}

config.sections.each { section -&gt;
    println &quot;Section: ${section.name}&quot;
    section.properties.each { key, value -&gt;
        println &quot;  ${key}: ${value}&quot;
    }
}</pre></div><div class='content'></div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we explored the concept of Domain-Specific Languages (DSLs) and how Groovy's features make it an excellent choice for creating them. We covered basic and advanced DSL examples and provided practical exercises to reinforce the concepts. By mastering DSLs in Groovy, you can create more expressive, maintainable, and domain-specific code, enhancing your productivity and code quality.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-02-ast-transformations' title="AST Transformations">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-04-groovy-java-integration' title="Groovy and Java Integration">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
