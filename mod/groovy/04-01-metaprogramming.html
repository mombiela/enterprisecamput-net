<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Metaprogramming</title>

    <link rel="alternate" href="https://campusempresa.com/mod/groovy/04-01-metaprogramming" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/groovy/04-01-metaprogramming" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/groovy/04-01-metaprogramming" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/groovy/04-01-metaprogramming" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/groovy/04-01-metaprogramming" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>All the knowledge within your reach</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-05-encapsulation' title="Encapsulation">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Metaprogramming</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-02-ast-transformations' title="AST Transformations">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Metaprogramming is a powerful feature in Groovy that allows you to write code that can manipulate other code at runtime. This can be used to add methods, properties, or even change the behavior of existing classes dynamically. In this section, we will explore the key concepts of metaprogramming in Groovy, provide practical examples, and offer exercises to reinforce your understanding.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Dynamic Method Invocation</strong>: Adding methods to classes at runtime.</li>
<li><strong>ExpandoMetaClass</strong>: A mechanism to add methods, properties, and constructors to classes dynamically.</li>
<li><strong>Method Missing</strong>: Handling calls to methods that do not exist.</li>
<li><strong>Property Missing</strong>: Handling access to properties that do not exist.</li>
<li><strong>Category Classes</strong>: Temporarily adding methods to existing classes.</li>
</ol>
</div><h1>Dynamic Method Invocation</h1>
<div class='content'><p>Dynamic method invocation allows you to add methods to classes at runtime. This can be done using the <code>metaClass</code> property of a class.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIFN0cmluZyBuYW1lCn0KClBlcnNvbi5tZXRhQ2xhc3Muc2F5SGVsbG8gPSB7IC0+CiAgICAiSGVsbG8sIG15IG5hbWUgaXMgJHtuYW1lfSIKfQoKZGVmIHBlcnNvbiA9IG5ldyBQZXJzb24obmFtZTogJ0pvaG4nKQpwcmludGxuKHBlcnNvbi5zYXlIZWxsbygpKSAgLy8gT3V0cHV0OiBIZWxsbywgbXkgbmFtZSBpcyBKb2hu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    String name
}

Person.metaClass.sayHello = { -&gt;
    &quot;Hello, my name is ${name}&quot;
}

def person = new Person(name: 'John')
println(person.sayHello())  // Output: Hello, my name is John</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We define a <code>Person</code> class with a <code>name</code> property.</li>
<li>Using <code>Person.metaClass</code>, we add a new method <code>sayHello</code> to the <code>Person</code> class.</li>
<li>We create an instance of <code>Person</code> and call the <code>sayHello</code> method, which was added dynamically.</li>
</ul>
</div><h1>ExpandoMetaClass</h1>
<div class='content'><p>ExpandoMetaClass allows you to add methods, properties, and constructors to classes dynamically.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RXhwYW5kb01ldGFDbGFzcy5lbmFibGVHbG9iYWxseSgpCgpjbGFzcyBDYXIgewogICAgU3RyaW5nIG1vZGVsCn0KCkNhci5tZXRhQ2xhc3Muc3RhcnRFbmdpbmUgPSB7IC0+CiAgICAiRW5naW5lIHN0YXJ0ZWQgZm9yICR7bW9kZWx9Igp9CgpkZWYgY2FyID0gbmV3IENhcihtb2RlbDogJ1Rlc2xhJykKcHJpbnRsbihjYXIuc3RhcnRFbmdpbmUoKSkgIC8vIE91dHB1dDogRW5naW5lIHN0YXJ0ZWQgZm9yIFRlc2xhCgpFeHBhbmRvTWV0YUNsYXNzLmRpc2FibGVHbG9iYWxseSgp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ExpandoMetaClass.enableGlobally()

class Car {
    String model
}

Car.metaClass.startEngine = { -&gt;
    &quot;Engine started for ${model}&quot;
}

def car = new Car(model: 'Tesla')
println(car.startEngine())  // Output: Engine started for Tesla

ExpandoMetaClass.disableGlobally()</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We enable <code>ExpandoMetaClass</code> globally.</li>
<li>We define a <code>Car</code> class with a <code>model</code> property.</li>
<li>Using <code>Car.metaClass</code>, we add a new method <code>startEngine</code> to the <code>Car</code> class.</li>
<li>We create an instance of <code>Car</code> and call the <code>startEngine</code> method, which was added dynamically.</li>
<li>Finally, we disable <code>ExpandoMetaClass</code> globally.</li>
</ul>
</div><h1>Method Missing</h1>
<div class='content'><p>The <code>methodMissing</code> method allows you to handle calls to methods that do not exist.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRHluYW1pY01ldGhvZHMgewogICAgZGVmIG1ldGhvZE1pc3NpbmcoU3RyaW5nIG5hbWUsIGRlZiBhcmdzKSB7CiAgICAgICAgcmV0dXJuICJNZXRob2QgJHtuYW1lfSB3aXRoIGFyZ3VtZW50cyAke2FyZ3N9IGlzIG5vdCBkZWZpbmVkIgogICAgfQp9CgpkZWYgb2JqID0gbmV3IER5bmFtaWNNZXRob2RzKCkKcHJpbnRsbihvYmouc29tZVVuZGVmaW5lZE1ldGhvZCgxLCAyLCAzKSkgIC8vIE91dHB1dDogTWV0aG9kIHNvbWVVbmRlZmluZWRNZXRob2Qgd2l0aCBhcmd1bWVudHMgWzEsIDIsIDNdIGlzIG5vdCBkZWZpbmVk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DynamicMethods {
    def methodMissing(String name, def args) {
        return &quot;Method ${name} with arguments ${args} is not defined&quot;
    }
}

def obj = new DynamicMethods()
println(obj.someUndefinedMethod(1, 2, 3))  // Output: Method someUndefinedMethod with arguments [1, 2, 3] is not defined</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We define a <code>DynamicMethods</code> class with a <code>methodMissing</code> method.</li>
<li>The <code>methodMissing</code> method is called when a method that does not exist is invoked.</li>
<li>We create an instance of <code>DynamicMethods</code> and call an undefined method <code>someUndefinedMethod</code>.</li>
</ul>
</div><h1>Property Missing</h1>
<div class='content'><p>The <code>propertyMissing</code> method allows you to handle access to properties that do not exist.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRHluYW1pY1Byb3BlcnRpZXMgewogICAgZGVmIHByb3BlcnR5TWlzc2luZyhTdHJpbmcgbmFtZSkgewogICAgICAgIHJldHVybiAiUHJvcGVydHkgJHtuYW1lfSBpcyBub3QgZGVmaW5lZCIKICAgIH0KfQoKZGVmIG9iaiA9IG5ldyBEeW5hbWljUHJvcGVydGllcygpCnByaW50bG4ob2JqLnNvbWVVbmRlZmluZWRQcm9wZXJ0eSkgIC8vIE91dHB1dDogUHJvcGVydHkgc29tZVVuZGVmaW5lZFByb3BlcnR5IGlzIG5vdCBkZWZpbmVk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DynamicProperties {
    def propertyMissing(String name) {
        return &quot;Property ${name} is not defined&quot;
    }
}

def obj = new DynamicProperties()
println(obj.someUndefinedProperty)  // Output: Property someUndefinedProperty is not defined</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We define a <code>DynamicProperties</code> class with a <code>propertyMissing</code> method.</li>
<li>The <code>propertyMissing</code> method is called when a property that does not exist is accessed.</li>
<li>We create an instance of <code>DynamicProperties</code> and access an undefined property <code>someUndefinedProperty</code>.</li>
</ul>
</div><h1>Category Classes</h1>
<div class='content'><p>Category classes allow you to temporarily add methods to existing classes.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU3RyaW5nQ2F0ZWdvcnkgewogICAgc3RhdGljIFN0cmluZyBzaG91dChTdHJpbmcgc2VsZikgewogICAgICAgIHJldHVybiBzZWxmLnRvVXBwZXJDYXNlKCkgKyAiISEhIgogICAgfQp9Cgp1c2UoU3RyaW5nQ2F0ZWdvcnkpIHsKICAgIHByaW50bG4gImhlbGxvIi5zaG91dCgpICAvLyBPdXRwdXQ6IEhFTExPISEhCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class StringCategory {
    static String shout(String self) {
        return self.toUpperCase() + &quot;!!!&quot;
    }
}

use(StringCategory) {
    println &quot;hello&quot;.shout()  // Output: HELLO!!!
}</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We define a <code>StringCategory</code> class with a static method <code>shout</code>.</li>
<li>Using the <code>use</code> keyword, we temporarily add the <code>shout</code> method to the <code>String</code> class.</li>
<li>We call the <code>shout</code> method on a string within the <code>use</code> block.</li>
</ul>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Dynamic Method Addition</h2>
<div class='content'><p>Add a method <code>greet</code> to the <code>Person</code> class that returns a greeting message.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIFN0cmluZyBuYW1lCn0KCi8vIEFkZCB5b3VyIGNvZGUgaGVyZQoKZGVmIHBlcnNvbiA9IG5ldyBQZXJzb24obmFtZTogJ0FsaWNlJykKcHJpbnRsbihwZXJzb24uZ3JlZXQoKSkgIC8vIE91dHB1dDogSGVsbG8sIEFsaWNlIQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    String name
}

// Add your code here

def person = new Person(name: 'Alice')
println(person.greet())  // Output: Hello, Alice!</pre></div><div class='content'></div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIFN0cmluZyBuYW1lCn0KClBlcnNvbi5tZXRhQ2xhc3MuZ3JlZXQgPSB7IC0+CiAgICAiSGVsbG8sICR7bmFtZX0hIgp9CgpkZWYgcGVyc29uID0gbmV3IFBlcnNvbihuYW1lOiAnQWxpY2UnKQpwcmludGxuKHBlcnNvbi5ncmVldCgpKSAgLy8gT3V0cHV0OiBIZWxsbywgQWxpY2Uh"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    String name
}

Person.metaClass.greet = { -&gt;
    &quot;Hello, ${name}!&quot;
}

def person = new Person(name: 'Alice')
println(person.greet())  // Output: Hello, Alice!</pre></div><div class='content'></div><h2>Exercise 2: Handling Undefined Methods</h2>
<div class='content'><p>Create a class <code>DynamicMethods</code> that handles calls to undefined methods by returning a custom message.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRHluYW1pY01ldGhvZHMgewogICAgLy8gQWRkIHlvdXIgY29kZSBoZXJlCn0KCmRlZiBvYmogPSBuZXcgRHluYW1pY01ldGhvZHMoKQpwcmludGxuKG9iai51bmRlZmluZWRNZXRob2QoMSwgMiwgMykpICAvLyBPdXRwdXQ6IE1ldGhvZCB1bmRlZmluZWRNZXRob2Qgd2l0aCBhcmd1bWVudHMgWzEsIDIsIDNdIGlzIG5vdCBkZWZpbmVk"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DynamicMethods {
    // Add your code here
}

def obj = new DynamicMethods()
println(obj.undefinedMethod(1, 2, 3))  // Output: Method undefinedMethod with arguments [1, 2, 3] is not defined</pre></div><div class='content'></div><h2>Solution</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRHluYW1pY01ldGhvZHMgewogICAgZGVmIG1ldGhvZE1pc3NpbmcoU3RyaW5nIG5hbWUsIGRlZiBhcmdzKSB7CiAgICAgICAgcmV0dXJuICJNZXRob2QgJHtuYW1lfSB3aXRoIGFyZ3VtZW50cyAke2FyZ3N9IGlzIG5vdCBkZWZpbmVkIgogICAgfQp9CgpkZWYgb2JqID0gbmV3IER5bmFtaWNNZXRob2RzKCkKcHJpbnRsbihvYmoudW5kZWZpbmVkTWV0aG9kKDEsIDIsIDMpKSAgLy8gT3V0cHV0OiBNZXRob2QgdW5kZWZpbmVkTWV0aG9kIHdpdGggYXJndW1lbnRzIFsxLCAyLCAzXSBpcyBub3QgZGVmaW5lZA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class DynamicMethods {
    def methodMissing(String name, def args) {
        return &quot;Method ${name} with arguments ${args} is not defined&quot;
    }
}

def obj = new DynamicMethods()
println(obj.undefinedMethod(1, 2, 3))  // Output: Method undefinedMethod with arguments [1, 2, 3] is not defined</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored the powerful metaprogramming capabilities of Groovy. We learned how to add methods and properties dynamically, handle calls to undefined methods and properties, and use category classes to temporarily extend existing classes. These techniques can greatly enhance the flexibility and dynamism of your Groovy code. In the next section, we will delve into AST transformations, another advanced feature of Groovy.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-05-encapsulation' title="Encapsulation">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-02-ast-transformations' title="AST Transformations">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
