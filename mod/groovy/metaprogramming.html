<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metaprogramming in Groovy</title>

    <link rel="alternate" href="https://campusempresa.com/mod/groovy/metaprogramming" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/groovy/metaprogramming" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/groovy/metaprogramming" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/groovy/metaprogramming" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/groovy/metaprogramming" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='traits'>&#x25C4;Traits</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Metaprogramming in Groovy</a>
	</div>
	<div class='col-4 text-end'>
					<a href='builders'>Builders &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Metaprogramming is a powerful feature in Groovy that allows you to write code that writes or modifies other code at runtime. This can be particularly useful for creating more flexible and dynamic applications. In this section, we will explore the basics of metaprogramming in Groovy, moving from beginner concepts to more advanced techniques.</p>
</div><h1>Introduction to Metaprogramming</h1>
<div class='content'><p>Metaprogramming in Groovy can be divided into two main categories:</p>
<ul>
<li><strong>Compile-time Metaprogramming</strong>: Modifying code during the compilation process.</li>
<li><strong>Runtime Metaprogramming</strong>: Modifying code while the program is running.</li>
</ul>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Dynamic Method Invocation</strong>: Adding methods to classes at runtime.</li>
<li><strong>ExpandoMetaClass</strong>: A class that allows you to add methods, properties, and constructors to existing classes.</li>
<li><strong>Categories</strong>: Temporarily adding methods to classes within a specific scope.</li>
<li><strong>AST Transformations</strong>: Modifying the Abstract Syntax Tree (AST) during compilation.</li>
</ul>
</div><h1>Dynamic Method Invocation</h1>
<div class='content'><p>Dynamic method invocation allows you to add methods to classes at runtime. This can be done using the <code>metaClass</code> property.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIFN0cmluZyBuYW1lCn0KClBlcnNvbi5tZXRhQ2xhc3Muc2F5SGVsbG8gPSB7IC0+CiAgICBwcmludGxuICJIZWxsbywgbXkgbmFtZSBpcyAke2RlbGVnYXRlLm5hbWV9Igp9CgpkZWYgam9obiA9IG5ldyBQZXJzb24obmFtZTogJ0pvaG4nKQpqb2huLnNheUhlbGxvKCkgIC8vIE91dHB1dDogSGVsbG8sIG15IG5hbWUgaXMgSm9obg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    String name
}

Person.metaClass.sayHello = { -&gt;
    println &quot;Hello, my name is ${delegate.name}&quot;
}

def john = new Person(name: 'John')
john.sayHello()  // Output: Hello, my name is John</pre></div><div class='content'><p>In this example, we dynamically add a <code>sayHello</code> method to the <code>Person</code> class.</p>
</div><h1>ExpandoMetaClass</h1>
<div class='content'><p>The <code>ExpandoMetaClass</code> allows you to add methods, properties, and constructors to existing classes. It is enabled by default in Groovy.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ2FyIHsKICAgIFN0cmluZyBtb2RlbAp9CgpDYXIubWV0YUNsYXNzLnN0YXJ0RW5naW5lID0geyAtPgogICAgcHJpbnRsbiAiRW5naW5lIHN0YXJ0ZWQgZm9yICR7ZGVsZWdhdGUubW9kZWx9Igp9CgpkZWYgdGVzbGEgPSBuZXcgQ2FyKG1vZGVsOiAnVGVzbGEgTW9kZWwgUycpCnRlc2xhLnN0YXJ0RW5naW5lKCkgIC8vIE91dHB1dDogRW5naW5lIHN0YXJ0ZWQgZm9yIFRlc2xhIE1vZGVsIFM="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Car {
    String model
}

Car.metaClass.startEngine = { -&gt;
    println &quot;Engine started for ${delegate.model}&quot;
}

def tesla = new Car(model: 'Tesla Model S')
tesla.startEngine()  // Output: Engine started for Tesla Model S</pre></div><div class='content'><p>Here, we add a <code>startEngine</code> method to the <code>Car</code> class using <code>ExpandoMetaClass</code>.</p>
</div><h1>Categories</h1>
<div class='content'><p>Categories allow you to add methods to classes within a specific scope. This is useful when you want to extend classes temporarily.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU3RyaW5nQ2F0ZWdvcnkgewogICAgc3RhdGljIFN0cmluZyBzaG91dChTdHJpbmcgc3RyKSB7CiAgICAgICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpICsgIiEhISIKICAgIH0KfQoKdXNlKFN0cmluZ0NhdGVnb3J5KSB7CiAgICBwcmludGxuICJoZWxsbyIuc2hvdXQoKSAgLy8gT3V0cHV0OiBIRUxMTyEhIQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class StringCategory {
    static String shout(String str) {
        return str.toUpperCase() + &quot;!!!&quot;
    }
}

use(StringCategory) {
    println &quot;hello&quot;.shout()  // Output: HELLO!!!
}</pre></div><div class='content'><p>In this example, we define a <code>StringCategory</code> class with a <code>shout</code> method and use it within a specific scope.</p>
</div><h1>AST Transformations</h1>
<div class='content'><p>AST (Abstract Syntax Tree) transformations allow you to modify the code structure during the compilation process. Groovy provides several built-in AST transformations, such as <code>@Delegate</code>, <code>@Immutable</code>, and <code>@Singleton</code>.</p>
</div><h2>Example</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGdyb292eS50cmFuc2Zvcm0uSW1tdXRhYmxlCgpASW1tdXRhYmxlCmNsYXNzIFBvaW50IHsKICAgIGludCB4LCB5Cn0KCmRlZiBwID0gbmV3IFBvaW50KHg6IDEwLCB5OiAyMCkKcHJpbnRsbiBwICAvLyBPdXRwdXQ6IFBvaW50KDEwLCAyMCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import groovy.transform.Immutable

@Immutable
class Point {
    int x, y
}

def p = new Point(x: 10, y: 20)
println p  // Output: Point(10, 20)</pre></div><div class='content'><p>In this example, the <code>@Immutable</code> transformation makes the <code>Point</code> class immutable, meaning its properties cannot be changed after initialization.</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Metaprogramming in Groovy provides powerful tools to dynamically modify and extend your code. By understanding and utilizing dynamic method invocation, <code>ExpandoMetaClass</code>, categories, and AST transformations, you can create more flexible and dynamic applications. As you become more comfortable with these concepts, you'll be able to leverage the full power of Groovy's metaprogramming capabilities.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='traits'>&#x25C4;Traits</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Metaprogramming in Groovy</a>
	</div>
	<div class='col-4 text-end'>
					<a href='builders'>Builders &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
