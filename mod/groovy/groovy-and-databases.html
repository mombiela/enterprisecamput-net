<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groovy and Databases</title>

    <link rel="alternate" href="https://campusempresa.com/mod/groovy/groovy-and-databases" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/groovy/groovy-and-databases" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/groovy/groovy-and-databases" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/groovy/groovy-and-databases" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/groovy/groovy-and-databases" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='groovy-for-scripting'>&#x25C4;Groovy for Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Groovy and Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-with-groovy'>Testing with Groovy &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Groovy is a powerful, optionally typed and dynamic language, with static-typing and static compilation capabilities, for the Java platform aimed at improving developer productivity. One of its strengths is its seamless integration with databases. This section will cover how to interact with databases using Groovy, from basic operations to advanced techniques.</p>
</div><h1>Setting Up the Environment</h1>
<div class='content'><p>Before diving into database operations, ensure you have the necessary tools and libraries installed.</p>
<ul>
<li><strong>Groovy Installation</strong>: Ensure Groovy is installed on your system.</li>
<li><strong>Database</strong>: Have a database (e.g., MySQL, PostgreSQL) set up and running.</li>
<li><strong>JDBC Driver</strong>: Download the JDBC driver for your database.</li>
</ul>
</div><h2>Example: Setting Up a MySQL Database</h2>
<div class='content'><ol>
<li><strong>Install MySQL</strong>: Follow the installation instructions for your operating system.</li>
<li><strong>Create a Database</strong>:
<pre><code class="language-sql">CREATE DATABASE groovydb;
CREATE USER 'groovyuser'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON groovydb.* TO 'groovyuser'@'localhost';
FLUSH PRIVILEGES;
</code></pre>
</li>
</ol>
</div><h1>Connecting to a Database</h1>
<div class='content'><p>Groovy provides a simple way to connect to databases using the <code>groovy.sql.Sql</code> class.</p>
</div><h2>Example: Connecting to MySQL</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QEdyYWJDb25maWcoc3lzdGVtQ2xhc3NMb2FkZXI9dHJ1ZSkKQEdyYWIoJ215c3FsOm15c3FsLWNvbm5lY3Rvci1qYXZhOjguMC4yMycpCgppbXBvcnQgZ3Jvb3Z5LnNxbC5TcWwKCmRlZiBkYlVybCA9ICdqZGJjOm15c3FsOi8vbG9jYWxob3N0OjMzMDYvZ3Jvb3Z5ZGInCmRlZiBkYlVzZXIgPSAnZ3Jvb3Z5dXNlcicKZGVmIGRiUGFzc3dvcmQgPSAncGFzc3dvcmQnCmRlZiBkcml2ZXIgPSAnY29tLm15c3FsLmNqLmpkYmMuRHJpdmVyJwoKU3FsIHNxbCA9IFNxbC5uZXdJbnN0YW5jZShkYlVybCwgZGJVc2VyLCBkYlBhc3N3b3JkLCBkcml2ZXIpCnByaW50bG4gIkNvbm5lY3RlZCB0byB0aGUgZGF0YWJhc2UhIg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@GrabConfig(systemClassLoader=true)
@Grab('mysql:mysql-connector-java:8.0.23')

import groovy.sql.Sql

def dbUrl = 'jdbc:mysql://localhost:3306/groovydb'
def dbUser = 'groovyuser'
def dbPassword = 'password'
def driver = 'com.mysql.cj.jdbc.Driver'

Sql sql = Sql.newInstance(dbUrl, dbUser, dbPassword, driver)
println &quot;Connected to the database!&quot;</pre></div><div class='content'></div><h1>Basic CRUD Operations</h1>
<div class='content'><p>CRUD stands for Create, Read, Update, and Delete. These are the basic operations you can perform on a database.</p>
</div><h2>Create</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGUoJycnCiAgICBDUkVBVEUgVEFCTEUgdXNlcnMgKAogICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lIFZBUkNIQVIoMTAwKSwKICAgICAgICBlbWFpbCBWQVJDSEFSKDEwMCkKICAgICkKJycnKQoKc3FsLmV4ZWN1dGUoIklOU0VSVCBJTlRPIHVzZXJzIChuYW1lLCBlbWFpbCkgVkFMVUVTICgnSm9obiBEb2UnLCAnam9obi5kb2VAZXhhbXBsZS5jb20nKSIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.execute('''
    CREATE TABLE users (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(100),
        email VARCHAR(100)
    )
''')

sql.execute(&quot;INSERT INTO users (name, email) VALUES ('John Doe', 'john.doe@example.com')&quot;)</pre></div><div class='content'></div><h2>Read</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmVhY2hSb3coJ1NFTEVDVCAqIEZST00gdXNlcnMnKSB7IHJvdyAtPgogICAgcHJpbnRsbiAiSUQ6ICR7cm93LmlkfSwgTmFtZTogJHtyb3cubmFtZX0sIEVtYWlsOiAke3Jvdy5lbWFpbH0iCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.eachRow('SELECT * FROM users') { row -&gt;
    println &quot;ID: ${row.id}, Name: ${row.name}, Email: ${row.email}&quot;
}</pre></div><div class='content'></div><h2>Update</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGVVcGRhdGUoIlVQREFURSB1c2VycyBTRVQgZW1haWwgPSAnam9obi5uZXdAZXhhbXBsZS5jb20nIFdIRVJFIG5hbWUgPSAnSm9obiBEb2UnIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.executeUpdate(&quot;UPDATE users SET email = 'john.new@example.com' WHERE name = 'John Doe'&quot;)</pre></div><div class='content'></div><h2>Delete</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGUoIkRFTEVURSBGUk9NIHVzZXJzIFdIRVJFIG5hbWUgPSAnSm9obiBEb2UnIik="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.execute(&quot;DELETE FROM users WHERE name = 'John Doe'&quot;)</pre></div><div class='content'></div><h1>Advanced Database Operations</h1>
<h2>Transactions</h2>
<div class='content'><p>Transactions ensure that a series of database operations are executed as a single unit of work.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLndpdGhUcmFuc2FjdGlvbiB7CiAgICBzcWwuZXhlY3V0ZSgiSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsKSBWQUxVRVMgKCdKYW5lIERvZScsICdqYW5lLmRvZUBleGFtcGxlLmNvbScpIikKICAgIHNxbC5leGVjdXRlKCJVUERBVEUgdXNlcnMgU0VUIGVtYWlsID0gJ2phbmUubmV3QGV4YW1wbGUuY29tJyBXSEVSRSBuYW1lID0gJ0phbmUgRG9lJyIpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.withTransaction {
    sql.execute(&quot;INSERT INTO users (name, email) VALUES ('Jane Doe', 'jane.doe@example.com')&quot;)
    sql.execute(&quot;UPDATE users SET email = 'jane.new@example.com' WHERE name = 'Jane Doe'&quot;)
}</pre></div><div class='content'></div><h2>Prepared Statements</h2>
<div class='content'><p>Prepared statements help prevent SQL injection and improve performance.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGluc2VydFVzZXIgPSBzcWwuZXhlY3V0ZUluc2VydCgnSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsKSBWQUxVRVMgKD8sID8pJywgWydBbGljZScsICdhbGljZUBleGFtcGxlLmNvbSddKQpwcmludGxuICJJbnNlcnRlZCB1c2VyIHdpdGggSUQ6ICR7aW5zZXJ0VXNlclswXVswXX0i"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def insertUser = sql.executeInsert('INSERT INTO users (name, email) VALUES (?, ?)', ['Alice', 'alice@example.com'])
println &quot;Inserted user with ID: ${insertUser[0][0]}&quot;</pre></div><div class='content'></div><h2>Handling Large Result Sets</h2>
<div class='content'><p>For large result sets, use <code>eachRow</code> with a closure to process rows one at a time.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmVhY2hSb3coJ1NFTEVDVCAqIEZST00gdXNlcnMnKSB7IHJvdyAtPgogICAgcHJpbnRsbiAiSUQ6ICR7cm93LmlkfSwgTmFtZTogJHtyb3cubmFtZX0sIEVtYWlsOiAke3Jvdy5lbWFpbH0iCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.eachRow('SELECT * FROM users') { row -&gt;
    println &quot;ID: ${row.id}, Name: ${row.name}, Email: ${row.email}&quot;
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered how to interact with databases using Groovy. We started with setting up the environment, then moved on to basic CRUD operations, and finally explored advanced techniques like transactions and prepared statements. With these skills, you can efficiently manage database operations in your Groovy applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='groovy-for-scripting'>&#x25C4;Groovy for Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Groovy and Databases</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-with-groovy'>Testing with Groovy &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
