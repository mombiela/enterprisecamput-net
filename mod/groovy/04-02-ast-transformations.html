<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>AST Transformations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/groovy/04-02-ast-transformations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/groovy/04-02-ast-transformations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/groovy/04-02-ast-transformations" hreflang="en" />
    
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
	<link href="/css/bootstrap/bootstrap.css?v=1" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.2b8e6213f8.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "languages";
  		var MOD_NAME = "groovy";
  		var TEMA_NAME = "04-02";
  		var TYPE = "mod";
  		var PATH = "mod/groovy/04-02-ast-transformations";
  		var IS_INDEX = false;
  		var DEVELOP = sessionStorage.getItem("DEVELOP") == "true";
  		  		var ALL_PAGES_MOD = ["01-01-what-is-groovy","01-02-setting-up-environment","01-03-groovy-basics","01-04-first-groovy-script","02-01-variables-data-types","02-02-operators","02-03-control-structures","02-04-collections","02-05-closures","03-01-classes-objects","03-02-inheritance","03-03-interfaces-traits","03-04-polymorphism","03-05-encapsulation","04-01-metaprogramming","04-02-ast-transformations","04-03-dsls-in-groovy","04-04-groovy-java-integration","05-01-file-io","05-02-xml-json","05-03-database-access","05-04-web-development","06-01-unit-testing","06-02-mocking-stubbing","06-03-debugging","07-01-gradle-build-tool","07-02-spock-testing-framework","07-03-grails-framework","07-04-other-groovy-libraries","08-01-code-style-conventions","08-02-performance-optimization","08-03-security-considerations","08-04-concurrency","09-01-project-overview","09-02-project-setup","09-03-implementation","09-04-testing-deployment"];
  		  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<!-- <script type="text/javascript" src="/js/main.js"></script> -->
  	<script type="module" src="/js/app.198aab099d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/groovy/04-02-ast-transformations" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/groovy/04-02-ast-transformations" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="groovy">
		<a  href="#" class="text-secondary d-none" data-read-mod="groovy" data-read-unit="04-02" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="groovy" data-unread-unit="04-02" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-metaprogramming' title="Metaprogramming" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-metaprogramming' title="Metaprogramming" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">AST Transformations</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-dsls-in-groovy' title="DSLs in Groovy" class="py-2 px-3 btn btn-primary"
				data-read-mod="groovy" data-read-unit="04-02">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-dsls-in-groovy' title="DSLs in Groovy" class="py-2 px-3 btn btn-primary" 
				data-read-mod="groovy" data-read-unit="04-02">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>Abstract Syntax Tree (AST) Transformations are a powerful feature in Groovy that allows you to modify the structure of your code at compile time. This can be used to add new behavior, optimize code, or enforce coding standards. In this section, we will explore what AST Transformations are, how they work, and how you can use them in your Groovy projects.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Abstract Syntax Tree (AST)</strong>: A tree representation of the abstract syntactic structure of source code.</li>
<li><strong>Compile-time Metaprogramming</strong>: Modifying code during the compilation process.</li>
<li><strong>Annotations</strong>: Special markers in the code that can trigger AST Transformations.</li>
</ol>
</div><h1>Types of AST Transformations</h1>
<div class='content'><ol>
<li><strong>Local Transformations</strong>: Applied to specific code elements, such as methods or classes, using annotations.</li>
<li><strong>Global Transformations</strong>: Applied to the entire codebase, typically through a custom compiler configuration.</li>
</ol>
</div><h1>Common AST Transformations in Groovy</h1>
<div class='content'><ul>
<li><strong>@ToString</strong>: Automatically generates a <code>toString()</code> method.</li>
<li><strong>@EqualsAndHashCode</strong>: Generates <code>equals()</code> and <code>hashCode()</code> methods.</li>
<li><strong>@Immutable</strong>: Makes a class immutable.</li>
<li><strong>@Delegate</strong>: Delegates method calls to another object.</li>
</ul>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Example 1: Using @ToString</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGdyb292eS50cmFuc2Zvcm0uVG9TdHJpbmcKCkBUb1N0cmluZwpjbGFzcyBQZXJzb24gewogICAgU3RyaW5nIG5hbWUKICAgIGludCBhZ2UKfQoKZGVmIHBlcnNvbiA9IG5ldyBQZXJzb24obmFtZTogJ0pvaG4gRG9lJywgYWdlOiAzMCkKcHJpbnRsbiBwZXJzb24udG9TdHJpbmcoKSAgLy8gT3V0cHV0OiBQZXJzb24oSm9obiBEb2UsIDMwKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import groovy.transform.ToString

@ToString
class Person {
    String name
    int age
}

def person = new Person(name: 'John Doe', age: 30)
println person.toString()  // Output: Person(John Doe, 30)</pre></div><div class='content'><p><strong>Explanation</strong>: The <code>@ToString</code> annotation automatically generates a <code>toString()</code> method for the <code>Person</code> class, which includes the class name and its properties.</p>
</div><h2>Example 2: Using @EqualsAndHashCode</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGdyb292eS50cmFuc2Zvcm0uRXF1YWxzQW5kSGFzaENvZGUKCkBFcXVhbHNBbmRIYXNoQ29kZQpjbGFzcyBQZXJzb24gewogICAgU3RyaW5nIG5hbWUKICAgIGludCBhZ2UKfQoKZGVmIHBlcnNvbjEgPSBuZXcgUGVyc29uKG5hbWU6ICdKb2huIERvZScsIGFnZTogMzApCmRlZiBwZXJzb24yID0gbmV3IFBlcnNvbihuYW1lOiAnSm9obiBEb2UnLCBhZ2U6IDMwKQoKYXNzZXJ0IHBlcnNvbjEgPT0gcGVyc29uMiAgLy8gVHJ1ZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import groovy.transform.EqualsAndHashCode

@EqualsAndHashCode
class Person {
    String name
    int age
}

def person1 = new Person(name: 'John Doe', age: 30)
def person2 = new Person(name: 'John Doe', age: 30)

assert person1 == person2  // True</pre></div><div class='content'><p><strong>Explanation</strong>: The <code>@EqualsAndHashCode</code> annotation generates <code>equals()</code> and <code>hashCode()</code> methods, allowing for proper comparison of <code>Person</code> objects.</p>
</div><h2>Example 3: Using @Immutable</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGdyb292eS50cmFuc2Zvcm0uSW1tdXRhYmxlCgpASW1tdXRhYmxlCmNsYXNzIFBvaW50IHsKICAgIGludCB4LCB5Cn0KCmRlZiBwb2ludCA9IG5ldyBQb2ludCh4OiAxMCwgeTogMjApCi8vIHBvaW50LnggPSAzMCAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGVycm9yIGJlY2F1c2UgdGhlIGNsYXNzIGlzIGltbXV0YWJsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import groovy.transform.Immutable

@Immutable
class Point {
    int x, y
}

def point = new Point(x: 10, y: 20)
// point.x = 30  // This will throw an error because the class is immutable</pre></div><div class='content'><p><strong>Explanation</strong>: The <code>@Immutable</code> annotation makes the <code>Point</code> class immutable, meaning its properties cannot be changed after instantiation.</p>
</div><h1>Creating Custom AST Transformations</h1>
<div class='content'></div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li><strong>Define the Annotation</strong>: Create a custom annotation to mark where the transformation should be applied.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkVsZW1lbnRUeXBlCmltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5SZXRlbnRpb24KaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlJldGVudGlvblBvbGljeQppbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0CgpAUmV0ZW50aW9uKFJldGVudGlvblBvbGljeS5TT1VSQ0UpCkBUYXJnZXQoW0VsZW1lbnRUeXBlLlRZUEVdKQpAaW50ZXJmYWNlIEN1c3RvbUFubm90YXRpb24ge30="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.lang.annotation.ElementType
import java.lang.annotation.Retention
import java.lang.annotation.RetentionPolicy
import java.lang.annotation.Target

@Retention(RetentionPolicy.SOURCE)
@Target([ElementType.TYPE])
@interface CustomAnnotation {}</pre></div><div class='content'><ol start="2">
<li><strong>Implement the Transformation</strong>: Create a class that implements <code>ASTTransformation</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkuYXN0LioKaW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkuYXN0LmJ1aWxkZXIuQXN0QnVpbGRlcgppbXBvcnQgb3JnLmNvZGVoYXVzLmdyb292eS5jb250cm9sLioKaW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkudHJhbnNmb3JtLioKCkBHcm9vdnlBU1RUcmFuc2Zvcm1hdGlvbihwaGFzZSA9IENvbXBpbGVQaGFzZS5DQU5PTklDQUxJWkFUSU9OKQpjbGFzcyBDdXN0b21UcmFuc2Zvcm1hdGlvbiBpbXBsZW1lbnRzIEFTVFRyYW5zZm9ybWF0aW9uIHsKICAgIHZvaWQgdmlzaXQoQVNUTm9kZVtdIG5vZGVzLCBTb3VyY2VVbml0IHNvdXJjZSkgewogICAgICAgIC8vIFRyYW5zZm9ybWF0aW9uIGxvZ2ljIGhlcmUKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.codehaus.groovy.ast.*
import org.codehaus.groovy.ast.builder.AstBuilder
import org.codehaus.groovy.control.*
import org.codehaus.groovy.transform.*

@GroovyASTTransformation(phase = CompilePhase.CANONICALIZATION)
class CustomTransformation implements ASTTransformation {
    void visit(ASTNode[] nodes, SourceUnit source) {
        // Transformation logic here
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Register the Transformation</strong>: Register the transformation in <code>META-INF/services/org.codehaus.groovy.transform.ASTTransformation</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29tLmV4YW1wbGUuQ3VzdG9tVHJhbnNmb3JtYXRpb24="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>com.example.CustomTransformation</pre></div><div class='content'></div><h2>Example: Adding a Custom Method</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkuYXN0LioKaW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkuYXN0LmJ1aWxkZXIuQXN0QnVpbGRlcgppbXBvcnQgb3JnLmNvZGVoYXVzLmdyb292eS5jb250cm9sLioKaW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkudHJhbnNmb3JtLioKCkBHcm9vdnlBU1RUcmFuc2Zvcm1hdGlvbihwaGFzZSA9IENvbXBpbGVQaGFzZS5DQU5PTklDQUxJWkFUSU9OKQpjbGFzcyBBZGRNZXRob2RUcmFuc2Zvcm1hdGlvbiBpbXBsZW1lbnRzIEFTVFRyYW5zZm9ybWF0aW9uIHsKICAgIHZvaWQgdmlzaXQoQVNUTm9kZVtdIG5vZGVzLCBTb3VyY2VVbml0IHNvdXJjZSkgewogICAgICAgIGlmIChub2Rlc1swXSBpbnN0YW5jZW9mIEFubm90YXRpb25Ob2RlICYmIG5vZGVzWzFdIGluc3RhbmNlb2YgQW5ub3RhdGVkTm9kZSkgewogICAgICAgICAgICBBbm5vdGF0ZWROb2RlIGFubm90YXRlZE5vZGUgPSAoQW5ub3RhdGVkTm9kZSkgbm9kZXNbMV0KICAgICAgICAgICAgaWYgKGFubm90YXRlZE5vZGUgaW5zdGFuY2VvZiBDbGFzc05vZGUpIHsKICAgICAgICAgICAgICAgIENsYXNzTm9kZSBjbGFzc05vZGUgPSAoQ2xhc3NOb2RlKSBhbm5vdGF0ZWROb2RlCiAgICAgICAgICAgICAgICBNZXRob2ROb2RlIG5ld01ldGhvZCA9IG5ldyBNZXRob2ROb2RlKAogICAgICAgICAgICAgICAgICAgICdjdXN0b21NZXRob2QnLAogICAgICAgICAgICAgICAgICAgIEFDQ19QVUJMSUMsCiAgICAgICAgICAgICAgICAgICAgQ2xhc3NIZWxwZXIuVk9JRF9UWVBFLAogICAgICAgICAgICAgICAgICAgIFtdIGFzIFBhcmFtZXRlcltdLAogICAgICAgICAgICAgICAgICAgIFtdIGFzIENsYXNzTm9kZVtdLAogICAgICAgICAgICAgICAgICAgIG5ldyBCbG9ja1N0YXRlbWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgW25ldyBFeHByZXNzaW9uU3RhdGVtZW50KG5ldyBDb25zdGFudEV4cHJlc3Npb24oJ0N1c3RvbSBNZXRob2QgRXhlY3V0ZWQnKSldLAogICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmFyaWFibGVTY29wZSgpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgY2xhc3NOb2RlLmFkZE1ldGhvZChuZXdNZXRob2QpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.codehaus.groovy.ast.*
import org.codehaus.groovy.ast.builder.AstBuilder
import org.codehaus.groovy.control.*
import org.codehaus.groovy.transform.*

@GroovyASTTransformation(phase = CompilePhase.CANONICALIZATION)
class AddMethodTransformation implements ASTTransformation {
    void visit(ASTNode[] nodes, SourceUnit source) {
        if (nodes[0] instanceof AnnotationNode &amp;&amp; nodes[1] instanceof AnnotatedNode) {
            AnnotatedNode annotatedNode = (AnnotatedNode) nodes[1]
            if (annotatedNode instanceof ClassNode) {
                ClassNode classNode = (ClassNode) annotatedNode
                MethodNode newMethod = new MethodNode(
                    'customMethod',
                    ACC_PUBLIC,
                    ClassHelper.VOID_TYPE,
                    [] as Parameter[],
                    [] as ClassNode[],
                    new BlockStatement(
                        [new ExpressionStatement(new ConstantExpression('Custom Method Executed'))],
                        new VariableScope()
                    )
                )
                classNode.addMethod(newMethod)
            }
        }
    }
}</pre></div><div class='content'><p><strong>Explanation</strong>: This custom transformation adds a method named <code>customMethod</code> to any class annotated with <code>@CustomAnnotation</code>.</p>
</div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Create a Custom AST Transformation</h2>
<div class='content'><ol>
<li><strong>Objective</strong>: Create a custom AST Transformation that adds a <code>greet()</code> method to any class annotated with <code>@Greetable</code>.</li>
<li><strong>Steps</strong>:
<ul>
<li>Define the <code>@Greetable</code> annotation.</li>
<li>Implement the <code>GreetTransformation</code> class.</li>
<li>Register the transformation.</li>
<li>Test the transformation.</li>
</ul>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><ol>
<li><strong>Define the Annotation</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkVsZW1lbnRUeXBlCmltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5SZXRlbnRpb24KaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlJldGVudGlvblBvbGljeQppbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0CgpAUmV0ZW50aW9uKFJldGVudGlvblBvbGljeS5TT1VSQ0UpCkBUYXJnZXQoW0VsZW1lbnRUeXBlLlRZUEVdKQpAaW50ZXJmYWNlIEdyZWV0YWJsZSB7fQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.lang.annotation.ElementType
import java.lang.annotation.Retention
import java.lang.annotation.RetentionPolicy
import java.lang.annotation.Target

@Retention(RetentionPolicy.SOURCE)
@Target([ElementType.TYPE])
@interface Greetable {}</pre></div><div class='content'><ol start="2">
<li><strong>Implement the Transformation</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkuYXN0LioKaW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkuYXN0LmJ1aWxkZXIuQXN0QnVpbGRlcgppbXBvcnQgb3JnLmNvZGVoYXVzLmdyb292eS5jb250cm9sLioKaW1wb3J0IG9yZy5jb2RlaGF1cy5ncm9vdnkudHJhbnNmb3JtLioKCkBHcm9vdnlBU1RUcmFuc2Zvcm1hdGlvbihwaGFzZSA9IENvbXBpbGVQaGFzZS5DQU5PTklDQUxJWkFUSU9OKQpjbGFzcyBHcmVldFRyYW5zZm9ybWF0aW9uIGltcGxlbWVudHMgQVNUVHJhbnNmb3JtYXRpb24gewogICAgdm9pZCB2aXNpdChBU1ROb2RlW10gbm9kZXMsIFNvdXJjZVVuaXQgc291cmNlKSB7CiAgICAgICAgaWYgKG5vZGVzWzBdIGluc3RhbmNlb2YgQW5ub3RhdGlvbk5vZGUgJiYgbm9kZXNbMV0gaW5zdGFuY2VvZiBBbm5vdGF0ZWROb2RlKSB7CiAgICAgICAgICAgIEFubm90YXRlZE5vZGUgYW5ub3RhdGVkTm9kZSA9IChBbm5vdGF0ZWROb2RlKSBub2Rlc1sxXQogICAgICAgICAgICBpZiAoYW5ub3RhdGVkTm9kZSBpbnN0YW5jZW9mIENsYXNzTm9kZSkgewogICAgICAgICAgICAgICAgQ2xhc3NOb2RlIGNsYXNzTm9kZSA9IChDbGFzc05vZGUpIGFubm90YXRlZE5vZGUKICAgICAgICAgICAgICAgIE1ldGhvZE5vZGUgZ3JlZXRNZXRob2QgPSBuZXcgTWV0aG9kTm9kZSgKICAgICAgICAgICAgICAgICAgICAnZ3JlZXQnLAogICAgICAgICAgICAgICAgICAgIEFDQ19QVUJMSUMsCiAgICAgICAgICAgICAgICAgICAgQ2xhc3NIZWxwZXIuVk9JRF9UWVBFLAogICAgICAgICAgICAgICAgICAgIFtdIGFzIFBhcmFtZXRlcltdLAogICAgICAgICAgICAgICAgICAgIFtdIGFzIENsYXNzTm9kZVtdLAogICAgICAgICAgICAgICAgICAgIG5ldyBCbG9ja1N0YXRlbWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgW25ldyBFeHByZXNzaW9uU3RhdGVtZW50KG5ldyBDb25zdGFudEV4cHJlc3Npb24oJ0hlbGxvLCBXb3JsZCEnKSldLAogICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmFyaWFibGVTY29wZSgpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgY2xhc3NOb2RlLmFkZE1ldGhvZChncmVldE1ldGhvZCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.codehaus.groovy.ast.*
import org.codehaus.groovy.ast.builder.AstBuilder
import org.codehaus.groovy.control.*
import org.codehaus.groovy.transform.*

@GroovyASTTransformation(phase = CompilePhase.CANONICALIZATION)
class GreetTransformation implements ASTTransformation {
    void visit(ASTNode[] nodes, SourceUnit source) {
        if (nodes[0] instanceof AnnotationNode &amp;&amp; nodes[1] instanceof AnnotatedNode) {
            AnnotatedNode annotatedNode = (AnnotatedNode) nodes[1]
            if (annotatedNode instanceof ClassNode) {
                ClassNode classNode = (ClassNode) annotatedNode
                MethodNode greetMethod = new MethodNode(
                    'greet',
                    ACC_PUBLIC,
                    ClassHelper.VOID_TYPE,
                    [] as Parameter[],
                    [] as ClassNode[],
                    new BlockStatement(
                        [new ExpressionStatement(new ConstantExpression('Hello, World!'))],
                        new VariableScope()
                    )
                )
                classNode.addMethod(greetMethod)
            }
        }
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Register the Transformation</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29tLmV4YW1wbGUuR3JlZXRUcmFuc2Zvcm1hdGlvbg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>com.example.GreetTransformation</pre></div><div class='content'><ol start="4">
<li><strong>Test the Transformation</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QEdyZWV0YWJsZQpjbGFzcyBHcmVldGVyIHt9CgpkZWYgZ3JlZXRlciA9IG5ldyBHcmVldGVyKCkKZ3JlZXRlci5ncmVldCgpICAvLyBPdXRwdXQ6IEhlbGxvLCBXb3JsZCE="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Greetable
class Greeter {}

def greeter = new Greeter()
greeter.greet()  // Output: Hello, World!</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored AST Transformations in Groovy, including their types, common transformations, and how to create custom transformations. AST Transformations are a powerful tool for compile-time metaprogramming, allowing you to modify and enhance your code in ways that are not possible with runtime metaprogramming alone. By mastering AST Transformations, you can create more efficient, maintainable, and expressive Groovy code.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='04-01-metaprogramming' title="Metaprogramming" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='04-01-metaprogramming' title="Metaprogramming" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-03-dsls-in-groovy' title="DSLs in Groovy" class="py-2 px-3 btn btn-primary"
				data-read-mod="groovy" data-read-unit="04-02">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-03-dsls-in-groovy' title="DSLs in Groovy" class="py-2 px-3 btn btn-primary" 
				data-read-mod="groovy" data-read-unit="04-02">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Groovy Programming Course</h1>
<h2>Module 1: Introduction to Groovy</h2>
<ul>
<li><a href="01-01-what-is-groovy">What is Groovy?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Environment</a></li>
<li><a href="01-03-groovy-basics">Groovy Basics</a></li>
<li><a href="01-04-first-groovy-script">First Groovy Script</a></li>
</ul>
<h2>Module 2: Groovy Syntax and Language Features</h2>
<ul>
<li><a href="02-01-variables-data-types">Variables and Data Types</a></li>
<li><a href="02-02-operators">Operators</a></li>
<li><a href="02-03-control-structures">Control Structures</a></li>
<li><a href="02-04-collections">Collections</a></li>
<li><a href="02-05-closures">Closures</a></li>
</ul>
<h2>Module 3: Object-Oriented Programming in Groovy</h2>
<ul>
<li><a href="03-01-classes-objects">Classes and Objects</a></li>
<li><a href="03-02-inheritance">Inheritance</a></li>
<li><a href="03-03-interfaces-traits">Interfaces and Traits</a></li>
<li><a href="03-04-polymorphism">Polymorphism</a></li>
<li><a href="03-05-encapsulation">Encapsulation</a></li>
</ul>
<h2>Module 4: Advanced Groovy Features</h2>
<ul>
<li><a href="04-01-metaprogramming">Metaprogramming</a></li>
<li><a href="04-02-ast-transformations">AST Transformations</a></li>
<li><a href="04-03-dsls-in-groovy">DSLs in Groovy</a></li>
<li><a href="04-04-groovy-java-integration">Groovy and Java Integration</a></li>
</ul>
<h2>Module 5: Groovy in Practice</h2>
<ul>
<li><a href="05-01-file-io">File I/O</a></li>
<li><a href="05-02-xml-json">Working with XML and JSON</a></li>
<li><a href="05-03-database-access">Database Access</a></li>
<li><a href="05-04-web-development">Web Development with Groovy</a></li>
</ul>
<h2>Module 6: Testing and Debugging</h2>
<ul>
<li><a href="06-01-unit-testing">Unit Testing with Groovy</a></li>
<li><a href="06-02-mocking-stubbing">Mocking and Stubbing</a></li>
<li><a href="06-03-debugging">Debugging Groovy Code</a></li>
</ul>
<h2>Module 7: Groovy Ecosystem and Tools</h2>
<ul>
<li><a href="07-01-gradle-build-tool">Gradle Build Tool</a></li>
<li><a href="07-02-spock-testing-framework">Spock Testing Framework</a></li>
<li><a href="07-03-grails-framework">Grails Framework</a></li>
<li><a href="07-04-other-groovy-libraries">Other Groovy Libraries and Tools</a></li>
</ul>
<h2>Module 8: Best Practices and Advanced Topics</h2>
<ul>
<li><a href="08-01-code-style-conventions">Code Style and Conventions</a></li>
<li><a href="08-02-performance-optimization">Performance Optimization</a></li>
<li><a href="08-03-security-considerations">Security Considerations</a></li>
<li><a href="08-04-concurrency">Concurrency in Groovy</a></li>
</ul>
<h2>Module 9: Capstone Project</h2>
<ul>
<li><a href="09-01-project-overview">Project Overview</a></li>
<li><a href="09-02-project-setup">Project Setup</a></li>
<li><a href="09-03-implementation">Implementation</a></li>
<li><a href="09-04-testing-deployment">Testing and Deployment</a></li>
</ul>

	</div>










			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Email</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Enter your email">
</div>
<button class="btn btn-primary" id="btnRecover">Send recovery link</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	Warning! You are about to delete all registration and progress data.<br><b>This action cannot be undone.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Delete user</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Enter current password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Enter new password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repeat new password">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Change password</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Send verification link</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Disconnect</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Change password</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Delete user</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Log in
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Sign up
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Email</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Enter your email">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Password</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnLogin">Log in</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">Have you forgotten your password?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Email</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Enter your email">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Password</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Enter your password">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Name</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Enter your name">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        I have read and accept the <a href="/privacity" target="blank">Privacy Policy</a> and the <a href="/licence" target="blank">Terms and Conditions of Use</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        I wish to receive news and updates about courses (optional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Sign up</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
