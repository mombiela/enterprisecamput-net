<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Ownership</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rust/understanding-ownership" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rust/understanding-ownership" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rust/understanding-ownership" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rust/understanding-ownership" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rust/understanding-ownership" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='control-flow'>&#x25C4;Control Flow</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Understanding Ownership</a>
	</div>
	<div class='col-4 text-end'>
					<a href='references-and-borrowing'>References and Borrowing &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Ownership is one of the most unique and powerful features of Rust. It enables Rust to manage memory safely and efficiently without a garbage collector. This topic will guide you through the core concepts of ownership, borrowing, and lifetimes, providing you with a solid foundation to write safe and efficient Rust code.</p>
</div><h1>Key Concepts of Ownership</h1>
<div class='content'><ul>
<li><strong>Ownership</strong>: Each value in Rust has a variable that’s called its owner.</li>
<li><strong>Borrowing</strong>: References to a value without taking ownership.</li>
<li><strong>Lifetimes</strong>: Ensuring that references are valid as long as they are used.</li>
</ul>
</div><h1>Ownership Rules</h1>
<div class='content'><ol>
<li>Each value in Rust has a single owner.</li>
<li>When the owner goes out of scope, the value is dropped.</li>
<li>Ownership can be transferred (moved) to another variable.</li>
</ol>
</div><h2>Example: Basic Ownership</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCBzMSA9IFN0cmluZzo6ZnJvbSgiaGVsbG8iKTsgLy8gczEgb3ducyB0aGUgU3RyaW5nCiAgICBsZXQgczIgPSBzMTsgLy8gT3duZXJzaGlwIG9mIHRoZSBTdHJpbmcgaXMgbW92ZWQgdG8gczIKICAgIC8vIHByaW50bG4hKCJ7fSIsIHMxKTsgLy8gVGhpcyB3b3VsZCBjYXVzZSBhIGNvbXBpbGUtdGltZSBlcnJvciBiZWNhdXNlIHMxIG5vIGxvbmdlciBvd25zIHRoZSBTdHJpbmcKICAgIHByaW50bG4hKCJ7fSIsIHMyKTsgLy8gVGhpcyBpcyB2YWxpZAp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let s1 = String::from(&quot;hello&quot;); // s1 owns the String
    let s2 = s1; // Ownership of the String is moved to s2
    // println!(&quot;{}&quot;, s1); // This would cause a compile-time error because s1 no longer owns the String
    println!(&quot;{}&quot;, s2); // This is valid
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>s1</code> initially owns the <code>String</code>.</li>
<li>Ownership is transferred to <code>s2</code> when <code>s1</code> is assigned to <code>s2</code>.</li>
<li>Attempting to use <code>s1</code> after the transfer results in a compile-time error.</li>
</ul>
</div><h1>Borrowing</h1>
<div class='content'><p>Borrowing allows you to reference a value without taking ownership. This is done using references (<code>&amp;</code>).</p>
</div><h2>Example: Borrowing</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCBzMSA9IFN0cmluZzo6ZnJvbSgiaGVsbG8iKTsKICAgIGxldCBsZW4gPSBjYWxjdWxhdGVfbGVuZ3RoKCZzMSk7IC8vIEJvcnJvd2luZyBzMQogICAgcHJpbnRsbiEoIlRoZSBsZW5ndGggb2YgJ3t9JyBpcyB7fS4iLCBzMSwgbGVuKTsgLy8gczEgY2FuIHN0aWxsIGJlIHVzZWQgaGVyZQp9CgpmbiBjYWxjdWxhdGVfbGVuZ3RoKHM6ICZTdHJpbmcpIC0+IHVzaXplIHsKICAgIHMubGVuKCkKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let s1 = String::from(&quot;hello&quot;);
    let len = calculate_length(&amp;s1); // Borrowing s1
    println!(&quot;The length of '{}' is {}.&quot;, s1, len); // s1 can still be used here
}

fn calculate_length(s: &amp;String) -&gt; usize {
    s.len()
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>s1</code> is borrowed by <code>calculate_length</code> function.</li>
<li><code>s1</code> can still be used after the function call because ownership is not transferred.</li>
</ul>
</div><h1>Mutable Borrowing</h1>
<div class='content'><p>Rust enforces that you can have either one mutable reference or any number of immutable references, but not both simultaneously.</p>
</div><h2>Example: Mutable Borrowing</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCBtdXQgcyA9IFN0cmluZzo6ZnJvbSgiaGVsbG8iKTsKICAgIGNoYW5nZSgmbXV0IHMpOyAvLyBNdXRhYmxlIGJvcnJvdwogICAgcHJpbnRsbiEoInt9Iiwgcyk7IC8vIHMgY2FuIHN0aWxsIGJlIHVzZWQgaGVyZQp9CgpmbiBjaGFuZ2Uoc29tZV9zdHJpbmc6ICZtdXQgU3RyaW5nKSB7CiAgICBzb21lX3N0cmluZy5wdXNoX3N0cigiLCB3b3JsZCIpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let mut s = String::from(&quot;hello&quot;);
    change(&amp;mut s); // Mutable borrow
    println!(&quot;{}&quot;, s); // s can still be used here
}

fn change(some_string: &amp;mut String) {
    some_string.push_str(&quot;, world&quot;);
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>s</code> is mutable and borrowed mutably by <code>change</code>.</li>
<li><code>change</code> modifies the <code>String</code> by appending <code>&quot;, world&quot;</code>.</li>
</ul>
</div><h1>Lifetimes</h1>
<div class='content'><p>Lifetimes ensure that references are valid for as long as they are used. Rust uses lifetimes to prevent dangling references.</p>
</div><h2>Example: Lifetimes</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCByOwogICAgewogICAgICAgIGxldCB4ID0gNTsKICAgICAgICByID0gJng7CiAgICB9CiAgICAvLyBwcmludGxuISgicjoge30iLCByKTsgLy8gVGhpcyB3b3VsZCBjYXVzZSBhIGNvbXBpbGUtdGltZSBlcnJvcgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let r;
    {
        let x = 5;
        r = &amp;x;
    }
    // println!(&quot;r: {}&quot;, r); // This would cause a compile-time error
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>x</code> goes out of scope before <code>r</code> is used, leading to a dangling reference.</li>
<li>Rust prevents this by enforcing lifetimes.</li>
</ul>
</div><h1>Summary</h1>
<div class='content'><ul>
<li><strong>Ownership</strong>: Ensures each value has a single owner, and values are dropped when the owner goes out of scope.</li>
<li><strong>Borrowing</strong>: Allows references to a value without taking ownership, enabling safe access.</li>
<li><strong>Lifetimes</strong>: Ensure references are valid for as long as they are used, preventing dangling references.</li>
</ul>
<p>Understanding these concepts is crucial for writing safe and efficient Rust code. Practice these concepts with various examples to solidify your understanding.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='control-flow'>&#x25C4;Control Flow</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Understanding Ownership</a>
	</div>
	<div class='col-4 text-end'>
					<a href='references-and-borrowing'>References and Borrowing &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
