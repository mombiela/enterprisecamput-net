<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Practices</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rust/10-04-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rust/10-04-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rust/10-04-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rust/10-04-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rust/10-04-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-03-documentation' title="Documentation">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Best Practices</h2></a>
			</div>
	<div class='col-2 text-end'>
			</div>
</div>
<div class='content'><p>In this final section, we will cover some best practices for writing clean, efficient, and maintainable Rust code. Following these guidelines will help you avoid common pitfalls and make your code more robust and easier to understand.</p>
</div><h1>1. Code Formatting</h1>
<div class='content'></div><h2>Use `rustfmt`</h2>
<div class='content'><p>Rust has a built-in tool called <code>rustfmt</code> that automatically formats your code according to the official Rust style guidelines. Consistent formatting makes your code easier to read and maintain.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWxsIHJ1c3RmbXQgaWYgeW91IGhhdmVuJ3QgYWxyZWFkeQpydXN0dXAgY29tcG9uZW50IGFkZCBydXN0Zm10CgojIEZvcm1hdCB5b3VyIGNvZGUKY2FyZ28gZm10"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Install rustfmt if you haven't already
rustup component add rustfmt

# Format your code
cargo fmt</pre></div><div class='content'></div><h2>Example</h2>
<div class='content'><p>Before <code>rustfmt</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsgbGV0IHggPSA1OyBwcmludGxuISgieCBpczoge30iLCB4KTsgfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() { let x = 5; println!(&quot;x is: {}&quot;, x); }</pre></div><div class='content'><p>After <code>rustfmt</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Zm4gbWFpbigpIHsKICAgIGxldCB4ID0gNTsKICAgIHByaW50bG4hKCJ4IGlzOiB7fSIsIHgpOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fn main() {
    let x = 5;
    println!(&quot;x is: {}&quot;, x);
}</pre></div><div class='content'></div><h1>2. Naming Conventions</h1>
<div class='content'></div><h2>Use Descriptive Names</h2>
<div class='content'><p>Choose variable, function, and type names that clearly describe their purpose. This makes your code more readable and easier to understand.</p>
</div><h2>Follow Rust Naming Conventions</h2>
<div class='content'><ul>
<li><strong>Variables and functions</strong>: Use snake_case.</li>
<li><strong>Types and traits</strong>: Use CamelCase.</li>
<li><strong>Constants</strong>: Use SCREAMING_SNAKE_CASE.</li>
</ul>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gR29vZApsZXQgdXNlcl9uYW1lID0gIkFsaWNlIjsKZm4gY2FsY3VsYXRlX2FyZWEocmFkaXVzOiBmNjQpIC0+IGY2NCB7CiAgICAzLjE0ICogcmFkaXVzICogcmFkaXVzCn0KCi8vIEJhZApsZXQgdXNlcm5hbWUgPSAiQWxpY2UiOwpmbiBjYWxjKHI6IGY2NCkgLT4gZjY0IHsKICAgIDMuMTQgKiByICogcgp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Good
let user_name = &quot;Alice&quot;;
fn calculate_area(radius: f64) -&gt; f64 {
    3.14 * radius * radius
}

// Bad
let username = &quot;Alice&quot;;
fn calc(r: f64) -&gt; f64 {
    3.14 * r * r
}</pre></div><div class='content'></div><h1>3. Error Handling</h1>
<div class='content'></div><h2>Prefer `Result` and `Option` Over `panic!`</h2>
<div class='content'><p>Use <code>Result</code> and <code>Option</code> types for error handling instead of using <code>panic!</code>. This makes your code more robust and allows you to handle errors gracefully.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVXNpbmcgUmVzdWx0CmZuIGRpdmlkZShhOiBmNjQsIGI6IGY2NCkgLT4gUmVzdWx0PGY2NCwgU3RyaW5nPiB7CiAgICBpZiBiID09IDAuMCB7CiAgICAgICAgRXJyKFN0cmluZzo6ZnJvbSgiRGl2aXNpb24gYnkgemVybyIpKQogICAgfSBlbHNlIHsKICAgICAgICBPayhhIC8gYikKICAgIH0KfQoKLy8gVXNpbmcgT3B0aW9uCmZuIGZpbmRfZWxlbWVudCh2ZWM6ICZWZWM8aTMyPiwgaW5kZXg6IHVzaXplKSAtPiBPcHRpb248aTMyPiB7CiAgICBpZiBpbmRleCA8IHZlYy5sZW4oKSB7CiAgICAgICAgU29tZSh2ZWNbaW5kZXhdKQogICAgfSBlbHNlIHsKICAgICAgICBOb25lCiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Using Result
fn divide(a: f64, b: f64) -&gt; Result&lt;f64, String&gt; {
    if b == 0.0 {
        Err(String::from(&quot;Division by zero&quot;))
    } else {
        Ok(a / b)
    }
}

// Using Option
fn find_element(vec: &amp;Vec&lt;i32&gt;, index: usize) -&gt; Option&lt;i32&gt; {
    if index &lt; vec.len() {
        Some(vec[index])
    } else {
        None
    }
}</pre></div><div class='content'></div><h1>4. Ownership and Borrowing</h1>
<div class='content'></div><h2>Minimize Cloning</h2>
<div class='content'><p>Cloning data can be expensive. Try to minimize the use of <code>.clone()</code> by leveraging Rust's ownership and borrowing system.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXZvaWQgdW5uZWNlc3NhcnkgY2xvbmluZwpmbiBwcmludF92ZWN0b3IodmVjOiAmVmVjPGkzMj4pIHsKICAgIGZvciBpIGluIHZlYyB7CiAgICAgICAgcHJpbnRsbiEoInt9IiwgaSk7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Avoid unnecessary cloning
fn print_vector(vec: &amp;Vec&lt;i32&gt;) {
    for i in vec {
        println!(&quot;{}&quot;, i);
    }
}</pre></div><div class='content'></div><h1>5. Documentation</h1>
<div class='content'></div><h2>Write Documentation Comments</h2>
<div class='content'><p>Use <code>///</code> to write documentation comments for your functions, structs, and modules. This helps others understand your code and how to use it.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8vIENhbGN1bGF0ZXMgdGhlIGFyZWEgb2YgYSBjaXJjbGUgZ2l2ZW4gaXRzIHJhZGl1cy4KLy8vCi8vLyAjIEFyZ3VtZW50cwovLy8KLy8vICogYHJhZGl1c2AgLSBBIGY2NCB0aGF0IGhvbGRzIHRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZS4KLy8vCi8vLyAjIFJldHVybnMKLy8vCi8vLyAqIEEgZjY0IHRoYXQgaG9sZHMgdGhlIGFyZWEgb2YgdGhlIGNpcmNsZS4KZm4gY2FsY3VsYXRlX2FyZWEocmFkaXVzOiBmNjQpIC0+IGY2NCB7CiAgICAzLjE0ICogcmFkaXVzICogcmFkaXVzCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/// Calculates the area of a circle given its radius.
///
/// # Arguments
///
/// * `radius` - A f64 that holds the radius of the circle.
///
/// # Returns
///
/// * A f64 that holds the area of the circle.
fn calculate_area(radius: f64) -&gt; f64 {
    3.14 * radius * radius
}</pre></div><div class='content'></div><h1>6. Testing</h1>
<div class='content'></div><h2>Write Unit Tests</h2>
<div class='content'><p>Write unit tests to ensure that your code works as expected. Use the <code>#[cfg(test)]</code> attribute to mark test modules.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I1tjZmcodGVzdCldCm1vZCB0ZXN0cyB7CiAgICB1c2Ugc3VwZXI6Oio7CgogICAgI1t0ZXN0XQogICAgZm4gdGVzdF9jYWxjdWxhdGVfYXJlYSgpIHsKICAgICAgICBsZXQgcmFkaXVzID0gMi4wOwogICAgICAgIGxldCBhcmVhID0gY2FsY3VsYXRlX2FyZWEocmFkaXVzKTsKICAgICAgICBhc3NlcnRfZXEhKGFyZWEsIDEyLjU2KTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_calculate_area() {
        let radius = 2.0;
        let area = calculate_area(radius);
        assert_eq!(area, 12.56);
    }
}</pre></div><div class='content'></div><h1>7. Use Iterators and Closures</h1>
<div class='content'></div><h2>Prefer Iterators Over Loops</h2>
<div class='content'><p>Using iterators can make your code more concise and expressive.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVXNpbmcgaXRlcmF0b3JzCmxldCB2ZWMgPSB2ZWMhWzEsIDIsIDMsIDQsIDVdOwpsZXQgc3VtOiBpMzIgPSB2ZWMuaXRlcigpLnN1bSgpOwpwcmludGxuISgiU3VtOiB7fSIsIHN1bSk7CgovLyBVc2luZyBsb29wcwpsZXQgbXV0IHN1bSA9IDA7CmZvciBpIGluICZ2ZWMgewogICAgc3VtICs9IGk7Cn0KcHJpbnRsbiEoIlN1bToge30iLCBzdW0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Using iterators
let vec = vec![1, 2, 3, 4, 5];
let sum: i32 = vec.iter().sum();
println!(&quot;Sum: {}&quot;, sum);

// Using loops
let mut sum = 0;
for i in &amp;vec {
    sum += i;
}
println!(&quot;Sum: {}&quot;, sum);</pre></div><div class='content'></div><h1>8. Concurrency</h1>
<div class='content'></div><h2>Use Safe Concurrency Primitives</h2>
<div class='content'><p>Prefer using Rust's safe concurrency primitives like <code>Mutex</code>, <code>RwLock</code>, and channels over raw threads to avoid data races and other concurrency issues.</p>
</div><h2>Example</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0ZDo6c3luYzo6e0FyYywgTXV0ZXh9Owp1c2Ugc3RkOjp0aHJlYWQ7CgpmbiBtYWluKCkgewogICAgbGV0IGNvdW50ZXIgPSBBcmM6Om5ldyhNdXRleDo6bmV3KDApKTsKICAgIGxldCBtdXQgaGFuZGxlcyA9IHZlYyFbXTsKCiAgICBmb3IgXyBpbiAwLi4xMCB7CiAgICAgICAgbGV0IGNvdW50ZXIgPSBBcmM6OmNsb25lKCZjb3VudGVyKTsKICAgICAgICBsZXQgaGFuZGxlID0gdGhyZWFkOjpzcGF3bihtb3ZlIHx8IHsKICAgICAgICAgICAgbGV0IG11dCBudW0gPSBjb3VudGVyLmxvY2soKS51bndyYXAoKTsKICAgICAgICAgICAgKm51bSArPSAxOwogICAgICAgIH0pOwogICAgICAgIGhhbmRsZXMucHVzaChoYW5kbGUpOwogICAgfQoKICAgIGZvciBoYW5kbGUgaW4gaGFuZGxlcyB7CiAgICAgICAgaGFuZGxlLmpvaW4oKS51bndyYXAoKTsKICAgIH0KCiAgICBwcmludGxuISgiUmVzdWx0OiB7fSIsICpjb3VudGVyLmxvY2soKS51bndyYXAoKSk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use std::sync::{Arc, Mutex};
use std::thread;

fn main() {
    let counter = Arc::new(Mutex::new(0));
    let mut handles = vec![];

    for _ in 0..10 {
        let counter = Arc::clone(&amp;counter);
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();
            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!(&quot;Result: {}&quot;, *counter.lock().unwrap());
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>By following these best practices, you can write Rust code that is clean, efficient, and maintainable. These guidelines will help you avoid common pitfalls and make your code more robust. As you continue to develop your skills in Rust, always strive to write code that is not only functional but also easy to read and understand. Happy coding!</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-03-documentation' title="Documentation">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
