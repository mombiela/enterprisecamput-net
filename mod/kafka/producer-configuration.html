<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producer Configuration</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kafka/producer-configuration" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kafka/producer-configuration" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kafka/producer-configuration" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/kafka/producer-configuration" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/kafka/producer-configuration" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='sending-messages'>&#x25C4;Sending Messages</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Producer Configuration</a>
	</div>
	<div class='col-4 text-end'>
					<a href='error-handling-and-retries'>Error Handling and Retries &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover the configuration of Kafka producers. This is essential for ensuring that your Kafka producers are optimized for performance, reliability, and security. We will start with the basics and move towards more advanced configurations.</p>
</div><h1>Basic Producer Configuration</h1>
<div class='content'><p>To start with Kafka producers, you need to understand the basic configuration properties. These properties are essential for setting up a producer that can send messages to Kafka topics.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Bootstrap Servers</strong>: A list of host/port pairs to use for establishing the initial connection to the Kafka cluster.</li>
<li><strong>Key Serializer</strong>: Serializer class for the key that implements the <code>org.apache.kafka.common.serialization.Serializer</code> interface.</li>
<li><strong>Value Serializer</strong>: Serializer class for the value that implements the <code>org.apache.kafka.common.serialization.Serializer</code> interface.</li>
<li><strong>Acks</strong>: The number of acknowledgments the producer requires the leader to have received before considering a request complete.</li>
</ul>
</div><h2>Example Configuration</h2>
<div class='content'><p>Here is an example of a basic producer configuration in Java:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUua2Fma2EuY2xpZW50cy5wcm9kdWNlci5LYWZrYVByb2R1Y2VyOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jbGllbnRzLnByb2R1Y2VyLlByb2R1Y2VyQ29uZmlnOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jb21tb24uc2VyaWFsaXphdGlvbi5TdHJpbmdTZXJpYWxpemVyOwoKaW1wb3J0IGphdmEudXRpbC5Qcm9wZXJ0aWVzOwoKcHVibGljIGNsYXNzIEJhc2ljUHJvZHVjZXJDb25maWcgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFByb3BlcnRpZXMgcHJvcHMgPSBuZXcgUHJvcGVydGllcygpOwogICAgICAgIHByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5CT09UU1RSQVBfU0VSVkVSU19DT05GSUcsICJsb2NhbGhvc3Q6OTA5MiIpOwogICAgICAgIHByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5LRVlfU0VSSUFMSVpFUl9DTEFTU19DT05GSUcsIFN0cmluZ1NlcmlhbGl6ZXIuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuVkFMVUVfU0VSSUFMSVpFUl9DTEFTU19DT05GSUcsIFN0cmluZ1NlcmlhbGl6ZXIuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuQUNLU19DT05GSUcsICJhbGwiKTsKCiAgICAgICAgS2Fma2FQcm9kdWNlcjxTdHJpbmcsIFN0cmluZz4gcHJvZHVjZXIgPSBuZXcgS2Fma2FQcm9kdWNlcjw+KHByb3BzKTsKICAgICAgICAvLyBVc2UgdGhlIHByb2R1Y2VyIHRvIHNlbmQgbWVzc2FnZXMKICAgICAgICBwcm9kdWNlci5jbG9zZSgpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.kafka.clients.producer.KafkaProducer;
import org.apache.kafka.clients.producer.ProducerConfig;
import org.apache.kafka.common.serialization.StringSerializer;

import java.util.Properties;

public class BasicProducerConfig {
    public static void main(String[] args) {
        Properties props = new Properties();
        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);
        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
        props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);

        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);
        // Use the producer to send messages
        producer.close();
    }
}</pre></div><div class='content'></div><h1>Advanced Producer Configuration</h1>
<div class='content'><p>Once you are comfortable with the basic configuration, you can explore more advanced settings to fine-tune your producer's performance and reliability.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Retries</strong>: The number of times to retry sending a message if it fails.</li>
<li><strong>Batch Size</strong>: The size of the batch for sending messages.</li>
<li><strong>Linger.ms</strong>: The time to wait before sending a batch of messages.</li>
<li><strong>Buffer Memory</strong>: The total bytes of memory the producer can use to buffer records waiting to be sent to the server.</li>
<li><strong>Compression Type</strong>: The compression type for all data generated by the producer.</li>
</ul>
</div><h2>Example Configuration</h2>
<div class='content'><p>Here is an example of an advanced producer configuration in Java:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUua2Fma2EuY2xpZW50cy5wcm9kdWNlci5LYWZrYVByb2R1Y2VyOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jbGllbnRzLnByb2R1Y2VyLlByb2R1Y2VyQ29uZmlnOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jb21tb24uc2VyaWFsaXphdGlvbi5TdHJpbmdTZXJpYWxpemVyOwoKaW1wb3J0IGphdmEudXRpbC5Qcm9wZXJ0aWVzOwoKcHVibGljIGNsYXNzIEFkdmFuY2VkUHJvZHVjZXJDb25maWcgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFByb3BlcnRpZXMgcHJvcHMgPSBuZXcgUHJvcGVydGllcygpOwogICAgICAgIHByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5CT09UU1RSQVBfU0VSVkVSU19DT05GSUcsICJsb2NhbGhvc3Q6OTA5MiIpOwogICAgICAgIHByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5LRVlfU0VSSUFMSVpFUl9DTEFTU19DT05GSUcsIFN0cmluZ1NlcmlhbGl6ZXIuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuVkFMVUVfU0VSSUFMSVpFUl9DTEFTU19DT05GSUcsIFN0cmluZ1NlcmlhbGl6ZXIuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuQUNLU19DT05GSUcsICJhbGwiKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuUkVUUklFU19DT05GSUcsIDMpOwogICAgICAgIHByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5CQVRDSF9TSVpFX0NPTkZJRywgMTYzODQpOwogICAgICAgIHByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5MSU5HRVJfTVNfQ09ORklHLCAxKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuQlVGRkVSX01FTU9SWV9DT05GSUcsIDMzNTU0NDMyKTsKICAgICAgICBwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuQ09NUFJFU1NJT05fVFlQRV9DT05GSUcsICJnemlwIik7CgogICAgICAgIEthZmthUHJvZHVjZXI8U3RyaW5nLCBTdHJpbmc+IHByb2R1Y2VyID0gbmV3IEthZmthUHJvZHVjZXI8Pihwcm9wcyk7CiAgICAgICAgLy8gVXNlIHRoZSBwcm9kdWNlciB0byBzZW5kIG1lc3NhZ2VzCiAgICAgICAgcHJvZHVjZXIuY2xvc2UoKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.kafka.clients.producer.KafkaProducer;
import org.apache.kafka.clients.producer.ProducerConfig;
import org.apache.kafka.common.serialization.StringSerializer;

import java.util.Properties;

public class AdvancedProducerConfig {
    public static void main(String[] args) {
        Properties props = new Properties();
        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);
        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
        props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);
        props.put(ProducerConfig.RETRIES_CONFIG, 3);
        props.put(ProducerConfig.BATCH_SIZE_CONFIG, 16384);
        props.put(ProducerConfig.LINGER_MS_CONFIG, 1);
        props.put(ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432);
        props.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, &quot;gzip&quot;);

        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);
        // Use the producer to send messages
        producer.close();
    }
}</pre></div><div class='content'></div><h1>Comparison of Basic and Advanced Configurations</h1>
<div class='content'><table>
<thead>
<tr>
<th>Property</th>
<th>Basic Configuration</th>
<th>Advanced Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bootstrap Servers</td>
<td>localhost:9092</td>
<td>localhost:9092</td>
</tr>
<tr>
<td>Key Serializer</td>
<td>StringSerializer</td>
<td>StringSerializer</td>
</tr>
<tr>
<td>Value Serializer</td>
<td>StringSerializer</td>
<td>StringSerializer</td>
</tr>
<tr>
<td>Acks</td>
<td>all</td>
<td>all</td>
</tr>
<tr>
<td>Retries</td>
<td>N/A</td>
<td>3</td>
</tr>
<tr>
<td>Batch Size</td>
<td>N/A</td>
<td>16384</td>
</tr>
<tr>
<td>Linger.ms</td>
<td>N/A</td>
<td>1</td>
</tr>
<tr>
<td>Buffer Memory</td>
<td>N/A</td>
<td>33554432</td>
</tr>
<tr>
<td>Compression Type</td>
<td>N/A</td>
<td>gzip</td>
</tr>
</tbody>
</table>
</div><h1>Conclusion</h1>
<div class='content'><p>Configuring Kafka producers correctly is crucial for achieving optimal performance and reliability. Starting with the basic configuration properties, you can ensure that your producer can connect to the Kafka cluster and serialize messages correctly. As you become more experienced, you can fine-tune your producer with advanced configurations to handle retries, batching, and compression, among other settings. Understanding and applying these configurations will help you build robust and efficient Kafka producers.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='sending-messages'>&#x25C4;Sending Messages</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Producer Configuration</a>
	</div>
	<div class='col-4 text-end'>
					<a href='error-handling-and-retries'>Error Handling and Retries &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
