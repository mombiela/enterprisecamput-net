<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript with MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/mod/typescript/typescript-mongodb" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/typescript/typescript-mongodb" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/typescript/typescript-mongodb" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/typescript/typescript-mongodb" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/typescript/typescript-mongodb" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='typescript-graphql'>&#x25C4;TypeScript with GraphQL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">TypeScript with MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='deploying-applications'>Deploying TypeScript Applications &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this section, we will explore how to use TypeScript with MongoDB, a popular NoSQL database. We will cover the basics of connecting to MongoDB, performing CRUD (Create, Read, Update, Delete) operations, and using TypeScript to ensure type safety and improve code quality.</p>
</div><h1>Setting Up the Environment</h1>
<div class='content'><p>Before we start coding, we need to set up our development environment.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>Node.js installed</li>
<li>TypeScript installed</li>
<li>MongoDB installed and running</li>
</ul>
</div><h2>Installing Required Packages</h2>
<div class='content'><p>To interact with MongoDB in a TypeScript project, we need to install the following packages:</p>
<ul>
<li><code>mongodb</code>: MongoDB driver for Node.js</li>
<li><code>@types/mongodb</code>: Type definitions for the MongoDB driver</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgbW9uZ29kYiBAdHlwZXMvbW9uZ29kYg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install mongodb @types/mongodb</pre></div><div class='content'></div><h1>Connecting to MongoDB</h1>
<div class='content'><p>To connect to MongoDB, we need to create a MongoClient instance and connect it to our MongoDB server.</p>
</div><h2>Example Code</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tICdtb25nb2RiJzsKCmNvbnN0IHVyaSA9ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3JzsKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7Cgphc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHsKICAgIHRyeSB7CiAgICAgICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTsKICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBNb25nb0RCOicsIGVycm9yKTsKICAgIH0KfQoKY29ubmVjdFRvRGF0YWJhc2UoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { MongoClient } from 'mongodb';

const uri = 'mongodb://localhost:27017';
const client = new MongoClient(uri);

async function connectToDatabase() {
    try {
        await client.connect();
        console.log('Connected to MongoDB');
    } catch (error) {
        console.error('Error connecting to MongoDB:', error);
    }
}

connectToDatabase();</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We import <code>MongoClient</code> from the <code>mongodb</code> package.</li>
<li>We define the URI for our MongoDB server.</li>
<li>We create a new instance of <code>MongoClient</code>.</li>
<li>We define an asynchronous function <code>connectToDatabase</code> to connect to the MongoDB server.</li>
<li>We use <code>await client.connect()</code> to establish the connection.</li>
<li>We handle any connection errors using a try-catch block.</li>
</ul>
</div><h1>CRUD Operations</h1>
<div class='content'><p>CRUD operations are fundamental when working with databases. Let's see how to perform these operations using TypeScript and MongoDB.</p>
</div><h2>Create</h2>
<div class='content'><p>To insert documents into a MongoDB collection, we use the <code>insertOne</code> or <code>insertMany</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnQoKSB7CiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignbXlkYXRhYmFzZScpOwogICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ215Y29sbGVjdGlvbicpOwoKICAgIGNvbnN0IG5ld0RvY3VtZW50ID0geyBuYW1lOiAnSm9obiBEb2UnLCBhZ2U6IDMwIH07CgogICAgdHJ5IHsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZShuZXdEb2N1bWVudCk7CiAgICAgICAgY29uc29sZS5sb2coJ0RvY3VtZW50IGluc2VydGVkIHdpdGggX2lkOicsIHJlc3VsdC5pbnNlcnRlZElkKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5zZXJ0aW5nIGRvY3VtZW50OicsIGVycm9yKTsKICAgIH0KfQoKY3JlYXRlRG9jdW1lbnQoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function createDocument() {
    const db = client.db('mydatabase');
    const collection = db.collection('mycollection');

    const newDocument = { name: 'John Doe', age: 30 };

    try {
        const result = await collection.insertOne(newDocument);
        console.log('Document inserted with _id:', result.insertedId);
    } catch (error) {
        console.error('Error inserting document:', error);
    }
}

createDocument();</pre></div><div class='content'></div><h2>Read</h2>
<div class='content'><p>To read documents from a MongoDB collection, we use the <code>find</code> method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gcmVhZERvY3VtZW50cygpIHsKICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKCdteWRhdGFiYXNlJyk7CiAgICBjb25zdCBjb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignbXljb2xsZWN0aW9uJyk7CgogICAgdHJ5IHsKICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoe30pLnRvQXJyYXkoKTsKICAgICAgICBjb25zb2xlLmxvZygnRG9jdW1lbnRzOicsIGRvY3VtZW50cyk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgZG9jdW1lbnRzOicsIGVycm9yKTsKICAgIH0KfQoKcmVhZERvY3VtZW50cygpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function readDocuments() {
    const db = client.db('mydatabase');
    const collection = db.collection('mycollection');

    try {
        const documents = await collection.find({}).toArray();
        console.log('Documents:', documents);
    } catch (error) {
        console.error('Error reading documents:', error);
    }
}

readDocuments();</pre></div><div class='content'></div><h2>Update</h2>
<div class='content'><p>To update documents in a MongoDB collection, we use the <code>updateOne</code> or <code>updateMany</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gdXBkYXRlRG9jdW1lbnQoKSB7CiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignbXlkYXRhYmFzZScpOwogICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ215Y29sbGVjdGlvbicpOwoKICAgIGNvbnN0IGZpbHRlciA9IHsgbmFtZTogJ0pvaG4gRG9lJyB9OwogICAgY29uc3QgdXBkYXRlID0geyAkc2V0OiB7IGFnZTogMzEgfSB9OwoKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi51cGRhdGVPbmUoZmlsdGVyLCB1cGRhdGUpOwogICAgICAgIGNvbnNvbGUubG9nKCdEb2N1bWVudHMgbWF0Y2hlZDonLCByZXN1bHQubWF0Y2hlZENvdW50KTsKICAgICAgICBjb25zb2xlLmxvZygnRG9jdW1lbnRzIG1vZGlmaWVkOicsIHJlc3VsdC5tb2RpZmllZENvdW50KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZG9jdW1lbnQ6JywgZXJyb3IpOwogICAgfQp9Cgp1cGRhdGVEb2N1bWVudCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function updateDocument() {
    const db = client.db('mydatabase');
    const collection = db.collection('mycollection');

    const filter = { name: 'John Doe' };
    const update = { $set: { age: 31 } };

    try {
        const result = await collection.updateOne(filter, update);
        console.log('Documents matched:', result.matchedCount);
        console.log('Documents modified:', result.modifiedCount);
    } catch (error) {
        console.error('Error updating document:', error);
    }
}

updateDocument();</pre></div><div class='content'></div><h2>Delete</h2>
<div class='content'><p>To delete documents from a MongoDB collection, we use the <code>deleteOne</code> or <code>deleteMany</code> methods.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXN5bmMgZnVuY3Rpb24gZGVsZXRlRG9jdW1lbnQoKSB7CiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignbXlkYXRhYmFzZScpOwogICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ215Y29sbGVjdGlvbicpOwoKICAgIGNvbnN0IGZpbHRlciA9IHsgbmFtZTogJ0pvaG4gRG9lJyB9OwoKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5kZWxldGVPbmUoZmlsdGVyKTsKICAgICAgICBjb25zb2xlLmxvZygnRG9jdW1lbnRzIGRlbGV0ZWQ6JywgcmVzdWx0LmRlbGV0ZWRDb3VudCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGRvY3VtZW50OicsIGVycm9yKTsKICAgIH0KfQoKZGVsZXRlRG9jdW1lbnQoKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>async function deleteDocument() {
    const db = client.db('mydatabase');
    const collection = db.collection('mycollection');

    const filter = { name: 'John Doe' };

    try {
        const result = await collection.deleteOne(filter);
        console.log('Documents deleted:', result.deletedCount);
    } catch (error) {
        console.error('Error deleting document:', error);
    }
}

deleteDocument();</pre></div><div class='content'></div><h1>Using TypeScript Interfaces</h1>
<div class='content'><p>To ensure type safety, we can define TypeScript interfaces for our documents.</p>
</div><h2>Example Interface</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFVzZXIgewogICAgbmFtZTogc3RyaW5nOwogICAgYWdlOiBudW1iZXI7Cn0KCmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVR5cGVkRG9jdW1lbnQoKSB7CiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignbXlkYXRhYmFzZScpOwogICAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb248VXNlcj4oJ3VzZXJzJyk7CgogICAgY29uc3QgbmV3VXNlcjogVXNlciA9IHsgbmFtZTogJ0phbmUgRG9lJywgYWdlOiAyNSB9OwoKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRPbmUobmV3VXNlcik7CiAgICAgICAgY29uc29sZS5sb2coJ0RvY3VtZW50IGluc2VydGVkIHdpdGggX2lkOicsIHJlc3VsdC5pbnNlcnRlZElkKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5zZXJ0aW5nIGRvY3VtZW50OicsIGVycm9yKTsKICAgIH0KfQoKY3JlYXRlVHlwZWREb2N1bWVudCgpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface User {
    name: string;
    age: number;
}

async function createTypedDocument() {
    const db = client.db('mydatabase');
    const collection = db.collection&lt;User&gt;('users');

    const newUser: User = { name: 'Jane Doe', age: 25 };

    try {
        const result = await collection.insertOne(newUser);
        console.log('Document inserted with _id:', result.insertedId);
    } catch (error) {
        console.error('Error inserting document:', error);
    }
}

createTypedDocument();</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li>We define an interface <code>User</code> with properties <code>name</code> and <code>age</code>.</li>
<li>We use the interface when defining the collection type: <code>db.collection&lt;User&gt;('users')</code>.</li>
<li>We create a new user document that adheres to the <code>User</code> interface.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered how to use TypeScript with MongoDB. We learned how to set up the environment, connect to MongoDB, and perform CRUD operations. Additionally, we saw how to use TypeScript interfaces to ensure type safety. By combining TypeScript with MongoDB, we can write more robust and maintainable code.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='typescript-graphql'>&#x25C4;TypeScript with GraphQL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">TypeScript with MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='deploying-applications'>Deploying TypeScript Applications &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
