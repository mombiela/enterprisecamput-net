<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Type Manipulation</title>

    <link rel="alternate" href="https://campusempresa.com/mod/typescript/07-02-advanced-type-manipulation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/typescript/07-02-advanced-type-manipulation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/typescript/07-02-advanced-type-manipulation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/typescript/07-02-advanced-type-manipulation" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/typescript/07-02-advanced-type-manipulation" class="px-2">CA</a>
<br>
			<cite>Building today's and tomorrow's society</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Programming Languages</a>
				 					<a href="/categ/frameworks">Frameworks and Libraries</a>
				 					<a href="/categ/tech-tools">Technical Tools</a>
				 					<a href="/categ/foundations">Theoretical Foundations</a>
				 					<a href="/categ/soft-skills">Social Skills</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-compiler-api' title="TypeScript Compiler API">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Advanced Type Manipulation</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-performance-optimization' title="Performance Optimization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into advanced techniques for manipulating types in TypeScript. These techniques are essential for creating more flexible and reusable code, especially in large-scale applications. We will cover the following topics:</p>
<ol>
<li><strong>Mapped Types</strong></li>
<li><strong>Conditional Types</strong></li>
<li><strong>Template Literal Types</strong></li>
<li><strong>Key Remapping in Mapped Types</strong></li>
<li><strong>Recursive Types</strong></li>
</ol>
</div><h1><ol>
<li>Mapped Types</li>
</ol>
</h1>
<div class='content'><p>Mapped types allow you to create new types by transforming properties of an existing type. They are particularly useful for creating variations of a type.</p>
</div><h2><p>Example: Readonly Type</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBSZWFkb25seTxUPiA9IHsKICByZWFkb25seSBbUCBpbiBrZXlvZiBUXTogVFtQXTsKfTsKCmludGVyZmFjZSBVc2VyIHsKICBpZDogbnVtYmVyOwogIG5hbWU6IHN0cmluZzsKfQoKY29uc3QgdXNlcjogUmVhZG9ubHk8VXNlcj4gPSB7CiAgaWQ6IDEsCiAgbmFtZTogIkFsaWNlIgp9OwoKLy8gdXNlci5pZCA9IDI7IC8vIEVycm9yOiBDYW5ub3QgYXNzaWduIHRvICdpZCcgYmVjYXVzZSBpdCBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eS4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type Readonly&lt;T&gt; = {
  readonly [P in keyof T]: T[P];
};

interface User {
  id: number;
  name: string;
}

const user: Readonly&lt;User&gt; = {
  id: 1,
  name: &quot;Alice&quot;
};

// user.id = 2; // Error: Cannot assign to 'id' because it is a read-only property.</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>Readonly&lt;T&gt;</code> is a mapped type that takes a type <code>T</code> and makes all its properties read-only.</li>
<li><code>[P in keyof T]</code> iterates over each property <code>P</code> in the type <code>T</code>.</li>
<li><code>readonly</code> makes each property read-only.</li>
</ul>
</div><h1><ol start="2">
<li>Conditional Types</li>
</ol>
</h1>
<div class='content'><p>Conditional types allow you to create types based on a condition. They are written using the <code>extends</code> keyword.</p>
</div><h2><p>Example: Extracting Types</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBFeHRyYWN0U3RyaW5nPFQ+ID0gVCBleHRlbmRzIHN0cmluZyA/IFQgOiBuZXZlcjsKCnR5cGUgQSA9IEV4dHJhY3RTdHJpbmc8c3RyaW5nPjsgLy8gc3RyaW5nCnR5cGUgQiA9IEV4dHJhY3RTdHJpbmc8bnVtYmVyPjsgLy8gbmV2ZXI="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type ExtractString&lt;T&gt; = T extends string ? T : never;

type A = ExtractString&lt;string&gt;; // string
type B = ExtractString&lt;number&gt;; // never</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>ExtractString&lt;T&gt;</code> checks if <code>T</code> extends <code>string</code>.</li>
<li>If <code>T</code> is a string, it returns <code>T</code>; otherwise, it returns <code>never</code>.</li>
</ul>
</div><h1><ol start="3">
<li>Template Literal Types</li>
</ol>
</h1>
<div class='content'><p>Template literal types allow you to create new string literal types by combining string literals.</p>
</div><h2><p>Example: Creating URL Types</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBQcm90b2NvbCA9ICJodHRwIiB8ICJodHRwcyI7CnR5cGUgRG9tYWluID0gImV4YW1wbGUuY29tIiB8ICJleGFtcGxlLm9yZyI7Cgp0eXBlIFVSTCA9IGAke1Byb3RvY29sfTovLyR7RG9tYWlufWA7Cgpjb25zdCB1cmwxOiBVUkwgPSAiaHR0cDovL2V4YW1wbGUuY29tIjsgLy8gVmFsaWQKY29uc3QgdXJsMjogVVJMID0gImZ0cDovL2V4YW1wbGUuY29tIjsgLy8gRXJyb3I6IFR5cGUgJyJmdHA6Ly9leGFtcGxlLmNvbSInIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ1VSTCcu"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type Protocol = &quot;http&quot; | &quot;https&quot;;
type Domain = &quot;example.com&quot; | &quot;example.org&quot;;

type URL = `${Protocol}://${Domain}`;

const url1: URL = &quot;http://example.com&quot;; // Valid
const url2: URL = &quot;ftp://example.com&quot;; // Error: Type '&quot;ftp://example.com&quot;' is not assignable to type 'URL'.</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>${Protocol}://${Domain}</code> creates a new type by combining <code>Protocol</code> and <code>Domain</code> using template literals.</li>
</ul>
</div><h1><ol start="4">
<li>Key Remapping in Mapped Types</li>
</ol>
</h1>
<div class='content'><p>Key remapping allows you to transform the keys of a type in a mapped type.</p>
</div><h2><p>Example: Prefixing Keys</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBQcmVmaXhLZXlzPFQsIFByZWZpeCBleHRlbmRzIHN0cmluZz4gPSB7CiAgW0sgaW4ga2V5b2YgVCBhcyBgJHtQcmVmaXh9JHtLICYgc3RyaW5nfWBdOiBUW0tdOwp9OwoKaW50ZXJmYWNlIFVzZXIgewogIGlkOiBudW1iZXI7CiAgbmFtZTogc3RyaW5nOwp9Cgp0eXBlIFByZWZpeGVkVXNlciA9IFByZWZpeEtleXM8VXNlciwgInVzZXJfIj47CgovLyBSZXN1bHRpbmcgdHlwZToKLy8gdHlwZSBQcmVmaXhlZFVzZXIgPSB7Ci8vICAgdXNlcl9pZDogbnVtYmVyOwovLyAgIHVzZXJfbmFtZTogc3RyaW5nOwovLyB9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type PrefixKeys&lt;T, Prefix extends string&gt; = {
  [K in keyof T as `${Prefix}${K &amp; string}`]: T[K];
};

interface User {
  id: number;
  name: string;
}

type PrefixedUser = PrefixKeys&lt;User, &quot;user_&quot;&gt;;

// Resulting type:
// type PrefixedUser = {
//   user_id: number;
//   user_name: string;
// }</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>[K in keyof T as </code>${Prefix}${K &amp; string}<code>]</code> remaps the keys of <code>T</code> by prefixing them with <code>Prefix</code>.</li>
</ul>
</div><h1><ol start="5">
<li>Recursive Types</li>
</ol>
</h1>
<div class='content'><p>Recursive types are types that reference themselves. They are useful for representing nested structures.</p>
</div><h2><p>Example: JSON Type</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBKU09OVmFsdWUgPSAKICB8IHN0cmluZwogIHwgbnVtYmVyCiAgfCBib29sZWFuCiAgfCBudWxsCiAgfCBKU09OVmFsdWVbXQogIHwgeyBba2V5OiBzdHJpbmddOiBKU09OVmFsdWUgfTsKCmNvbnN0IGpzb246IEpTT05WYWx1ZSA9IHsKICBuYW1lOiAiQWxpY2UiLAogIGFnZTogMzAsCiAgaXNBZG1pbjogdHJ1ZSwKICBmcmllbmRzOiBbIkJvYiIsICJDaGFybGllIl0sCiAgYWRkcmVzczogewogICAgY2l0eTogIldvbmRlcmxhbmQiLAogICAgemlwOiAiMTIzNDUiCiAgfQp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type JSONValue = 
  | string
  | number
  | boolean
  | null
  | JSONValue[]
  | { [key: string]: JSONValue };

const json: JSONValue = {
  name: &quot;Alice&quot;,
  age: 30,
  isAdmin: true,
  friends: [&quot;Bob&quot;, &quot;Charlie&quot;],
  address: {
    city: &quot;Wonderland&quot;,
    zip: &quot;12345&quot;
  }
};</pre></div><div class='content'></div><h2><p>Explanation</p>
</h2>
<div class='content'><ul>
<li><code>JSONValue</code> is a recursive type that can be a string, number, boolean, null, an array of <code>JSONValue</code>, or an object with <code>JSONValue</code> properties.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise: Create a Deep Readonly Type</p>
</h2>
<div class='content'><p>Create a type <code>DeepReadonly&lt;T&gt;</code> that makes all properties of <code>T</code> and its nested objects read-only.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBEZWVwUmVhZG9ubHk8VD4gPSB7CiAgcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IFRbUF0gZXh0ZW5kcyBvYmplY3QgPyBEZWVwUmVhZG9ubHk8VFtQXT4gOiBUW1BdOwp9OwoKaW50ZXJmYWNlIFVzZXIgewogIGlkOiBudW1iZXI7CiAgbmFtZTogc3RyaW5nOwogIGFkZHJlc3M6IHsKICAgIGNpdHk6IHN0cmluZzsKICAgIHppcDogc3RyaW5nOwogIH07Cn0KCmNvbnN0IHVzZXI6IERlZXBSZWFkb25seTxVc2VyPiA9IHsKICBpZDogMSwKICBuYW1lOiAiQWxpY2UiLAogIGFkZHJlc3M6IHsKICAgIGNpdHk6ICJXb25kZXJsYW5kIiwKICAgIHppcDogIjEyMzQ1IgogIH0KfTsKCi8vIHVzZXIuaWQgPSAyOyAvLyBFcnJvcjogQ2Fubm90IGFzc2lnbiB0byAnaWQnIGJlY2F1c2UgaXQgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkuCi8vIHVzZXIuYWRkcmVzcy5jaXR5ID0gIk5ldyBDaXR5IjsgLy8gRXJyb3I6IENhbm5vdCBhc3NpZ24gdG8gJ2NpdHknIGJlY2F1c2UgaXQgaXMgYSByZWFkLW9ubHkgcHJvcGVydHku"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type DeepReadonly&lt;T&gt; = {
  readonly [P in keyof T]: T[P] extends object ? DeepReadonly&lt;T[P]&gt; : T[P];
};

interface User {
  id: number;
  name: string;
  address: {
    city: string;
    zip: string;
  };
}

const user: DeepReadonly&lt;User&gt; = {
  id: 1,
  name: &quot;Alice&quot;,
  address: {
    city: &quot;Wonderland&quot;,
    zip: &quot;12345&quot;
  }
};

// user.id = 2; // Error: Cannot assign to 'id' because it is a read-only property.
// user.address.city = &quot;New City&quot;; // Error: Cannot assign to 'city' because it is a read-only property.</pre></div><div class='content'></div><h2><p>Solution Explanation</p>
</h2>
<div class='content'><ul>
<li><code>DeepReadonly&lt;T&gt;</code> makes all properties of <code>T</code> read-only.</li>
<li>If a property is an object, it recursively applies <code>DeepReadonly</code> to that property.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we explored advanced type manipulation techniques in TypeScript, including mapped types, conditional types, template literal types, key remapping in mapped types, and recursive types. These techniques are powerful tools for creating flexible and reusable types, especially in complex applications. Understanding and mastering these concepts will significantly enhance your TypeScript skills and enable you to write more robust and maintainable code.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-compiler-api' title="TypeScript Compiler API">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-performance-optimization' title="Performance Optimization">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Advertising</h1>
<p>This space is reserved for advertising.</p>
<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>Thank you for collaborating!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
