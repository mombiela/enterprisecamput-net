<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Method Decorators</title>

    <link rel="alternate" href="https://campusempresa.com/mod/typescript/method-decorators" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/typescript/method-decorators" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/typescript/method-decorators" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/typescript/method-decorators" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/typescript/method-decorators" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='class-decorators'>&#x25C4;Class Decorators</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Method Decorators</a>
	</div>
	<div class='col-4 text-end'>
					<a href='property-decorators'>Property Decorators &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Method Decorators</h1>
<div class='content'><p>Method decorators are a powerful feature in TypeScript that allow you to modify the behavior of methods in classes. They are functions that are applied to methods to add, modify, or extend their functionality without altering the method's actual code.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Decorator Function</strong>: A function that takes specific arguments and returns a function that modifies the target method.</li>
<li><strong>Target</strong>: The prototype of the class.</li>
<li><strong>Property Key</strong>: The name of the method being decorated.</li>
<li><strong>Descriptor</strong>: The property descriptor of the method, which contains information about the method such as its value, writable status, etc.</li>
</ul>
</div><h1>Basic Syntax</h1>
<div class='content'><p>A method decorator is defined using the <code>@</code> symbol followed by the decorator function name, placed above the method definition.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gc2ltcGxlRGVjb3JhdG9yKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpIHsKICAgIGNvbnNvbGUubG9nKCJNZXRob2QgRGVjb3JhdG9yIGNhbGxlZCBvbjoiLCBwcm9wZXJ0eUtleSk7Cn0KCmNsYXNzIEV4YW1wbGVDbGFzcyB7CiAgICBAc2ltcGxlRGVjb3JhdG9yCiAgICBleGFtcGxlTWV0aG9kKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJFeGFtcGxlIE1ldGhvZCIpOwogICAgfQp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function simpleDecorator(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    console.log(&quot;Method Decorator called on:&quot;, propertyKey);
}

class ExampleClass {
    @simpleDecorator
    exampleMethod() {
        console.log(&quot;Example Method&quot;);
    }
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>simpleDecorator</code> is a method decorator.</li>
<li>It logs the name of the method it decorates.</li>
<li><code>exampleMethod</code> is the method being decorated.</li>
</ul>
</div><h1>Creating a Method Decorator</h1>
<div class='content'><p>To create a method decorator, you need to define a function that takes three parameters:</p>
<ol>
<li><code>target</code>: The prototype of the class.</li>
<li><code>propertyKey</code>: The name of the method.</li>
<li><code>descriptor</code>: The property descriptor of the method.</li>
</ol>
</div><h2>Example: Logging Decorator</h2>
<div class='content'><p>Let's create a decorator that logs the execution time of a method.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG9nRXhlY3V0aW9uVGltZSh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7CiAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7CgogICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkgewogICAgICAgIGNvbnNvbGUubG9nKGBFeGVjdXRpbmcgJHtwcm9wZXJ0eUtleX0gd2l0aCBhcmd1bWVudHM6ICR7SlNPTi5zdHJpbmdpZnkoYXJncyl9YCk7CiAgICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBvcmlnaW5hbE1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBjb25zb2xlLmxvZyhgRXhlY3V0aW9uIHRpbWU6ICR7ZW5kIC0gc3RhcnR9IG1pbGxpc2Vjb25kc2ApOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwoKICAgIHJldHVybiBkZXNjcmlwdG9yOwp9CgpjbGFzcyBDYWxjdWxhdG9yIHsKICAgIEBsb2dFeGVjdXRpb25UaW1lCiAgICBhZGQoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgewogICAgICAgIHJldHVybiBhICsgYjsKICAgIH0KfQoKY29uc3QgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CmNhbGN1bGF0b3IuYWRkKDUsIDMpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function logExecutionTime(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value;

    descriptor.value = function (...args: any[]) {
        console.log(`Executing ${propertyKey} with arguments: ${JSON.stringify(args)}`);
        const start = performance.now();
        const result = originalMethod.apply(this, args);
        const end = performance.now();
        console.log(`Execution time: ${end - start} milliseconds`);
        return result;
    };

    return descriptor;
}

class Calculator {
    @logExecutionTime
    add(a: number, b: number): number {
        return a + b;
    }
}

const calculator = new Calculator();
calculator.add(5, 3);</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>logExecutionTime</code> is a decorator that logs the execution time of the <code>add</code> method.</li>
<li>It wraps the original method, logs the start time, calls the original method, logs the end time, and calculates the duration.</li>
</ul>
</div><h1>Advanced Usage</h1>
<div class='content'><p>Method decorators can be used for more advanced scenarios such as access control, validation, and more.</p>
</div><h2>Example: Access Control Decorator</h2>
<div class='content'><p>Let's create a decorator that restricts access to a method based on user roles.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gYXV0aG9yaXplKHJvbGVzOiBzdHJpbmdbXSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7CiAgICAgICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlOwoKICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7CiAgICAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gYXJnc1swXTsgLy8gQXNzdW1pbmcgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSB1c2VyIHJvbGUKICAgICAgICAgICAgaWYgKCFyb2xlcy5pbmNsdWRlcyh1c2VyUm9sZSkpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5hdXRob3JpemVkIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBkZXNjcmlwdG9yOwogICAgfTsKfQoKY2xhc3MgU2VjdXJlU2VydmljZSB7CiAgICBAYXV0aG9yaXplKFsnYWRtaW4nXSkKICAgIHNlY3VyZU1ldGhvZCh1c2VyUm9sZTogc3RyaW5nKSB7CiAgICAgICAgY29uc29sZS5sb2coIlNlY3VyZSBNZXRob2QgQWNjZXNzZWQiKTsKICAgIH0KfQoKY29uc3Qgc2VydmljZSA9IG5ldyBTZWN1cmVTZXJ2aWNlKCk7CnRyeSB7CiAgICBzZXJ2aWNlLnNlY3VyZU1ldGhvZCgndXNlcicpOyAvLyBUaHJvd3MgZXJyb3IKfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7Cn0Kc2VydmljZS5zZWN1cmVNZXRob2QoJ2FkbWluJyk7IC8vIFdvcmtzIGZpbmU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function authorize(roles: string[]) {
    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
        const originalMethod = descriptor.value;

        descriptor.value = function (...args: any[]) {
            const userRole = args[0]; // Assuming the first argument is the user role
            if (!roles.includes(userRole)) {
                throw new Error(&quot;Unauthorized&quot;);
            }
            return originalMethod.apply(this, args);
        };

        return descriptor;
    };
}

class SecureService {
    @authorize(['admin'])
    secureMethod(userRole: string) {
        console.log(&quot;Secure Method Accessed&quot;);
    }
}

const service = new SecureService();
try {
    service.secureMethod('user'); // Throws error
} catch (error) {
    console.error(error.message);
}
service.secureMethod('admin'); // Works fine</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>authorize</code> is a decorator that restricts access based on user roles.</li>
<li>It checks if the user role is included in the allowed roles before executing the method.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Method decorators in TypeScript provide a flexible way to modify and extend the behavior of methods in classes. They can be used for logging, access control, validation, and many other purposes. By understanding how to create and apply method decorators, you can write cleaner and more maintainable code.</p>
</div><h2>Summary</h2>
<div class='content'><ul>
<li>Method decorators are functions that modify the behavior of methods.</li>
<li>They take three parameters: <code>target</code>, <code>propertyKey</code>, and <code>descriptor</code>.</li>
<li>Basic usage involves logging or modifying method behavior.</li>
<li>Advanced usage can include access control, validation, and more.</li>
</ul>
<p>By mastering method decorators, you can enhance your TypeScript classes with powerful, reusable functionality.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='class-decorators'>&#x25C4;Class Decorators</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Method Decorators</a>
	</div>
	<div class='col-4 text-end'>
					<a href='property-decorators'>Property Decorators &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
