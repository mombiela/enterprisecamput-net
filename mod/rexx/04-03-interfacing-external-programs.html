<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfacing with External Programs</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rexx/04-03-interfacing-external-programs" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rexx/04-03-interfacing-external-programs" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rexx/04-03-interfacing-external-programs" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/rexx/04-03-interfacing-external-programs" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/rexx/04-03-interfacing-external-programs" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-parsing-techniques' title="Parsing Techniques">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Interfacing with External Programs</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-rexx-macros' title="REXX Macros">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to interface REXX with external programs. This capability allows REXX scripts to interact with other software, execute system commands, and leverage external utilities, thereby extending the functionality of REXX programs.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Calling External Programs</strong>: Learn how to execute external programs and system commands from within a REXX script.</li>
<li><strong>Capturing Output</strong>: Understand how to capture the output of external programs for further processing in REXX.</li>
<li><strong>Error Handling</strong>: Manage errors that may occur when interfacing with external programs.</li>
<li><strong>Practical Examples</strong>: Implement practical examples to solidify understanding.</li>
</ol>
</div><h1>Calling External Programs</h1>
<div class='content'><p>REXX provides the <code>ADDRESS</code> instruction to execute commands in different environments. The most common environment is the system command line.</p>
</div><h2>Syntax</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QUREUkVTUyBlbnZpcm9ubWVudCBjb21tYW5k"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ADDRESS environment command</pre></div><div class='content'><ul>
<li><strong>environment</strong>: Specifies the command environment (e.g., <code>SYSTEM</code> for system commands).</li>
<li><strong>command</strong>: The command to be executed.</li>
</ul>
</div><h2>Example: Running a System Command</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgdG8gbGlzdCBmaWxlcyBpbiB0aGUgY3VycmVudCBkaXJlY3RvcnkgKi8KQUREUkVTUyBTWVNURU0gJ2Rpcic="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script to list files in the current directory */
ADDRESS SYSTEM 'dir'</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>ADDRESS SYSTEM 'dir'</code>: Executes the <code>dir</code> command in the system environment, listing the files in the current directory.</li>
</ul>
</div><h1>Capturing Output</h1>
<div class='content'><p>To capture the output of an external command, you can use the <code>LINEIN</code> function to read the output line by line.</p>
</div><h2>Example: Capturing Command Output</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgdG8gY2FwdHVyZSBhbmQgZGlzcGxheSB0aGUgb3V0cHV0IG9mIGEgc3lzdGVtIGNvbW1hbmQgKi8KQUREUkVTUyBTWVNURU0gJ2RpciA+IG91dHB1dC50eHQnCm91dHB1dCA9ICcnCkRPIFdISUxFIExJTkVTKCdvdXRwdXQudHh0JykgPiAwCiAgICBvdXRwdXQgPSBMSU5FSU4oJ291dHB1dC50eHQnKQogICAgU0FZIG91dHB1dApFTkQKQ0FMTCBMSU5FT1VUICdvdXRwdXQudHh0JywgJ0NMT1NFJw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script to capture and display the output of a system command */
ADDRESS SYSTEM 'dir &gt; output.txt'
output = ''
DO WHILE LINES('output.txt') &gt; 0
    output = LINEIN('output.txt')
    SAY output
END
CALL LINEOUT 'output.txt', 'CLOSE'</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>ADDRESS SYSTEM 'dir &gt; output.txt'</code>: Redirects the output of the <code>dir</code> command to a file named <code>output.txt</code>.</li>
<li><code>DO WHILE LINES('output.txt') &gt; 0</code>: Loops through each line of the output file.</li>
<li><code>output = LINEIN('output.txt')</code>: Reads a line from the output file.</li>
<li><code>SAY output</code>: Displays the line.</li>
<li><code>CALL LINEOUT 'output.txt', 'CLOSE'</code>: Closes the output file.</li>
</ul>
</div><h1>Error Handling</h1>
<div class='content'><p>When interfacing with external programs, it is crucial to handle potential errors gracefully.</p>
</div><h2>Example: Error Handling</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgd2l0aCBlcnJvciBoYW5kbGluZyBmb3IgZXh0ZXJuYWwgY29tbWFuZCBleGVjdXRpb24gKi8KQUREUkVTUyBTWVNURU0gJ25vbmV4aXN0ZW50X2NvbW1hbmQgPiBvdXRwdXQudHh0JwpJRiBSQyBcPSAwIFRIRU4KICAgIFNBWSAnRXJyb3I6IENvbW1hbmQgZXhlY3V0aW9uIGZhaWxlZCB3aXRoIHJldHVybiBjb2RlJyBSQwpFTFNFCiAgICBTQVkgJ0NvbW1hbmQgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5Jw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script with error handling for external command execution */
ADDRESS SYSTEM 'nonexistent_command &gt; output.txt'
IF RC \= 0 THEN
    SAY 'Error: Command execution failed with return code' RC
ELSE
    SAY 'Command executed successfully'</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><code>ADDRESS SYSTEM 'nonexistent_command &gt; output.txt'</code>: Attempts to execute a nonexistent command.</li>
<li><code>IF RC \= 0 THEN</code>: Checks if the return code (<code>RC</code>) is not zero, indicating an error.</li>
<li><code>SAY 'Error: Command execution failed with return code' RC</code>: Displays an error message with the return code.</li>
<li><code>ELSE SAY 'Command executed successfully'</code>: Displays a success message if the command executed without errors.</li>
</ul>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Example 1: Running a Python Script from REXX</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgdG8gcnVuIGEgUHl0aG9uIHNjcmlwdCBhbmQgY2FwdHVyZSBpdHMgb3V0cHV0ICovCkFERFJFU1MgU1lTVEVNICdweXRob24gbXlzY3JpcHQucHkgPiBvdXRwdXQudHh0JwpvdXRwdXQgPSAnJwpETyBXSElMRSBMSU5FUygnb3V0cHV0LnR4dCcpID4gMAogICAgb3V0cHV0ID0gTElORUlOKCdvdXRwdXQudHh0JykKICAgIFNBWSBvdXRwdXQKRU5ECkNBTEwgTElORU9VVCAnb3V0cHV0LnR4dCcsICdDTE9TRSc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script to run a Python script and capture its output */
ADDRESS SYSTEM 'python myscript.py &gt; output.txt'
output = ''
DO WHILE LINES('output.txt') &gt; 0
    output = LINEIN('output.txt')
    SAY output
END
CALL LINEOUT 'output.txt', 'CLOSE'</pre></div><div class='content'></div><h2>Example 2: Pinging a Server</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgdG8gcGluZyBhIHNlcnZlciBhbmQgZGlzcGxheSB0aGUgcmVzdWx0ICovCkFERFJFU1MgU1lTVEVNICdwaW5nIHd3dy5leGFtcGxlLmNvbSA+IHBpbmdfcmVzdWx0LnR4dCcKb3V0cHV0ID0gJycKRE8gV0hJTEUgTElORVMoJ3BpbmdfcmVzdWx0LnR4dCcpID4gMAogICAgb3V0cHV0ID0gTElORUlOKCdwaW5nX3Jlc3VsdC50eHQnKQogICAgU0FZIG91dHB1dApFTkQKQ0FMTCBMSU5FT1VUICdwaW5nX3Jlc3VsdC50eHQnLCAnQ0xPU0Un"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script to ping a server and display the result */
ADDRESS SYSTEM 'ping www.example.com &gt; ping_result.txt'
output = ''
DO WHILE LINES('ping_result.txt') &gt; 0
    output = LINEIN('ping_result.txt')
    SAY output
END
CALL LINEOUT 'ping_result.txt', 'CLOSE'</pre></div><div class='content'></div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Execute a System Command</h2>
<div class='content'><p>Write a REXX script to execute the <code>date</code> command and display the current date and time.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgdG8gZGlzcGxheSB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lICovCkFERFJFU1MgU1lTVEVNICdkYXRlID4gZGF0ZV9vdXRwdXQudHh0JwpvdXRwdXQgPSAnJwpETyBXSElMRSBMSU5FUygnZGF0ZV9vdXRwdXQudHh0JykgPiAwCiAgICBvdXRwdXQgPSBMSU5FSU4oJ2RhdGVfb3V0cHV0LnR4dCcpCiAgICBTQVkgb3V0cHV0CkVORApDQUxMIExJTkVPVVQgJ2RhdGVfb3V0cHV0LnR4dCcsICdDTE9TRSc="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script to display the current date and time */
ADDRESS SYSTEM 'date &gt; date_output.txt'
output = ''
DO WHILE LINES('date_output.txt') &gt; 0
    output = LINEIN('date_output.txt')
    SAY output
END
CALL LINEOUT 'date_output.txt', 'CLOSE'</pre></div><div class='content'></div><h2>Exercise 2: Error Handling</h2>
<div class='content'><p>Modify the above script to handle errors if the <code>date</code> command fails.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogUkVYWCBzY3JpcHQgdG8gZGlzcGxheSB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lIHdpdGggZXJyb3IgaGFuZGxpbmcgKi8KQUREUkVTUyBTWVNURU0gJ2RhdGUgPiBkYXRlX291dHB1dC50eHQnCklGIFJDIFw9IDAgVEhFTgogICAgU0FZICdFcnJvcjogQ29tbWFuZCBleGVjdXRpb24gZmFpbGVkIHdpdGggcmV0dXJuIGNvZGUnIFJDCkVMU0UgRE8KICAgIG91dHB1dCA9ICcnCiAgICBETyBXSElMRSBMSU5FUygnZGF0ZV9vdXRwdXQudHh0JykgPiAwCiAgICAgICAgb3V0cHV0ID0gTElORUlOKCdkYXRlX291dHB1dC50eHQnKQogICAgICAgIFNBWSBvdXRwdXQKICAgIEVORAogICAgQ0FMTCBMSU5FT1VUICdkYXRlX291dHB1dC50eHQnLCAnQ0xPU0UnCkVORA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* REXX script to display the current date and time with error handling */
ADDRESS SYSTEM 'date &gt; date_output.txt'
IF RC \= 0 THEN
    SAY 'Error: Command execution failed with return code' RC
ELSE DO
    output = ''
    DO WHILE LINES('date_output.txt') &gt; 0
        output = LINEIN('date_output.txt')
        SAY output
    END
    CALL LINEOUT 'date_output.txt', 'CLOSE'
END</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to interface REXX with external programs, execute system commands, capture their output, and handle errors. These skills are essential for extending the functionality of REXX scripts and integrating them with other software and system utilities. In the next section, we will delve into REXX macros, which provide powerful ways to automate and extend REXX capabilities.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-parsing-techniques' title="Parsing Techniques">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-rexx-macros' title="REXX Macros">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
