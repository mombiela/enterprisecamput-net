<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolvers</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/resolvers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/resolvers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/resolvers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/graphql/resolvers" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/graphql/resolvers" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='queries-and-mutations'>&#x25C4;Queries and Mutations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Resolvers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='graphql-variables'>GraphQL Variables &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Resolvers are a fundamental concept in GraphQL. They are responsible for fetching the data for the fields in your schema. This topic will guide you from the basics of resolvers to advanced usage, ensuring you understand how to effectively use them in your GraphQL applications.</p>
</div><h1>What are Resolvers?</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Resolvers are functions that handle the fetching of data for a specific field in a GraphQL schema.</li>
<li><strong>Purpose</strong>: They connect the schema to the underlying data sources, such as databases or APIs.</li>
</ul>
</div><h1>Basic Structure of Resolvers</h1>
<div class='content'><p>A resolver function typically follows this structure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBmaWVsZE5hbWU6IChwYXJlbnQsIGFyZ3MsIGNvbnRleHQsIGluZm8pID0+IHsKICAgICAgLy8gRmV0Y2ggYW5kIHJldHVybiBkYXRhIGZvciB0aGUgZmllbGQKICAgIH0sCiAgfSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    fieldName: (parent, args, context, info) =&gt; {
      // Fetch and return data for the field
    },
  },
};</pre></div><div class='content'><ul>
<li><strong>parent</strong>: The result of the previous resolver in the resolver chain.</li>
<li><strong>args</strong>: The arguments provided to the field in the query.</li>
<li><strong>context</strong>: A shared object passed to every resolver, useful for authentication, database connections, etc.</li>
<li><strong>info</strong>: Information about the execution state of the query.</li>
</ul>
</div><h2>Example: Basic Resolver</h2>
<div class='content'><p>Let's create a simple resolver for a <code>hello</code> field that returns a greeting message.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBoZWxsbzogKCkgPT4gewogICAgICByZXR1cm4gIkhlbGxvLCB3b3JsZCEiOwogICAgfSwKICB9LAp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    hello: () =&gt; {
      return &quot;Hello, world!&quot;;
    },
  },
};</pre></div><div class='content'></div><h1>Handling Arguments</h1>
<div class='content'><p>Resolvers can accept arguments to filter or modify the data they return.</p>
</div><h2>Example: Resolver with Arguments</h2>
<div class='content'><p>Consider a <code>user</code> field that fetches a user by ID:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIGNvbnN0IHsgaWQgfSA9IGFyZ3M7CiAgICAgIHJldHVybiBjb250ZXh0LmRiLmdldFVzZXJCeUlkKGlkKTsKICAgIH0sCiAgfSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    user: (parent, args, context, info) =&gt; {
      const { id } = args;
      return context.db.getUserById(id);
    },
  },
};</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>args</code> object contains the arguments passed to the <code>user</code> field.</li>
<li><code>context.db.getUserById(id)</code> fetches the user from a database.</li>
</ul>
</div><h1>Context in Resolvers</h1>
<div class='content'><p>The <code>context</code> parameter is useful for sharing data across resolvers, such as authentication information or database connections.</p>
</div><h2>Example: Using Context</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBjdXJyZW50VXNlcjogKHBhcmVudCwgYXJncywgY29udGV4dCwgaW5mbykgPT4gewogICAgICByZXR1cm4gY29udGV4dC51c2VyOwogICAgfSwKICB9LAp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    currentUser: (parent, args, context, info) =&gt; {
      return context.user;
    },
  },
};</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>context.user</code> contains the authenticated user information.</li>
</ul>
</div><h1>Nested Resolvers</h1>
<div class='content'><p>Resolvers can be nested to handle complex data structures.</p>
</div><h2>Example: Nested Resolvers</h2>
<div class='content'><p>Consider a <code>Post</code> type with an <code>author</code> field:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBwb3N0OiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIHJldHVybiBjb250ZXh0LmRiLmdldFBvc3RCeUlkKGFyZ3MuaWQpOwogICAgfSwKICB9LAogIFBvc3Q6IHsKICAgIGF1dGhvcjogKHBhcmVudCwgYXJncywgY29udGV4dCwgaW5mbykgPT4gewogICAgICByZXR1cm4gY29udGV4dC5kYi5nZXRVc2VyQnlJZChwYXJlbnQuYXV0aG9ySWQpOwogICAgfSwKICB9LAp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    post: (parent, args, context, info) =&gt; {
      return context.db.getPostById(args.id);
    },
  },
  Post: {
    author: (parent, args, context, info) =&gt; {
      return context.db.getUserById(parent.authorId);
    },
  },
};</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The <code>post</code> resolver fetches a post by ID.</li>
<li>The <code>author</code> resolver fetches the author of the post using the <code>authorId</code> from the parent post object.</li>
</ul>
</div><h1>Error Handling in Resolvers</h1>
<div class='content'><p>Proper error handling is crucial for building robust GraphQL APIs.</p>
</div><h2>Example: Error Handling</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyOiBhc3luYyAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNvbnRleHQuZGIuZ2V0VXNlckJ5SWQoYXJncy5pZCk7CiAgICAgICAgaWYgKCF1c2VyKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlVzZXIgbm90IGZvdW5kIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiB1c2VyOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHVzZXI6ICR7ZXJyb3IubWVzc2FnZX1gKTsKICAgICAgfQogICAgfSwKICB9LAp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    user: async (parent, args, context, info) =&gt; {
      try {
        const user = await context.db.getUserById(args.id);
        if (!user) {
          throw new Error(&quot;User not found&quot;);
        }
        return user;
      } catch (error) {
        throw new Error(`Failed to fetch user: ${error.message}`);
      }
    },
  },
};</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>Errors are caught and a meaningful error message is thrown.</li>
</ul>
</div><h1>Advanced Resolver Techniques</h1>
<div class='content'></div><h2>Batch Loading with DataLoader</h2>
<div class='content'><p>DataLoader is a utility to batch and cache database requests, reducing the number of database calls.</p>
</div><h2>Example: Using DataLoader</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgRGF0YUxvYWRlciA9IHJlcXVpcmUoJ2RhdGFsb2FkZXInKTsKCmNvbnN0IHVzZXJMb2FkZXIgPSBuZXcgRGF0YUxvYWRlcihrZXlzID0+IGNvbnRleHQuZGIuYmF0Y2hHZXRVc2VycyhrZXlzKSk7Cgpjb25zdCByZXNvbHZlcnMgPSB7CiAgUXVlcnk6IHsKICAgIHVzZXJzOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIHJldHVybiB1c2VyTG9hZGVyLmxvYWRNYW55KGFyZ3MuaWRzKTsKICAgIH0sCiAgfSwKfTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const DataLoader = require('dataloader');

const userLoader = new DataLoader(keys =&gt; context.db.batchGetUsers(keys));

const resolvers = {
  Query: {
    users: (parent, args, context, info) =&gt; {
      return userLoader.loadMany(args.ids);
    },
  },
};</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>DataLoader</code> batches and caches requests to fetch users by IDs.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Resolvers are the backbone of any GraphQL server, connecting your schema to your data sources. By understanding the basics and advanced techniques of resolvers, you can build efficient and scalable GraphQL APIs. Remember to handle arguments, use context wisely, manage nested resolvers, and implement proper error handling to ensure a robust application. Advanced techniques like DataLoader can further optimize your data fetching strategies.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='queries-and-mutations'>&#x25C4;Queries and Mutations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Resolvers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='graphql-variables'>GraphQL Variables &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
