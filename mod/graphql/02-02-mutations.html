<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Mutations</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/02-02-mutations" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/02-02-mutations" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/02-02-mutations" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/graphql/02-02-mutations" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/graphql/02-02-mutations" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<!-- <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

			</div>
		</div>
	</div>
</div>
 -->
 
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-01-queries' title="Queries">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Mutations</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-03-resolvers' title="Resolvers">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into GraphQL mutations, which are used to modify data on the server. Mutations are similar to queries in GraphQL, but they allow you to perform operations that change the state of the data, such as creating, updating, or deleting records.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Definition</strong>: Mutations are a type of operation in GraphQL that allows you to modify server-side data.</li>
<li><strong>Structure</strong>: Mutations have a similar structure to queries but typically include input arguments to specify the data to be modified.</li>
<li><strong>Resolvers</strong>: Each mutation must have a corresponding resolver function that handles the logic for modifying the data.</li>
</ol>
</div><h1>Basic Mutation Structure</h1>
<div class='content'><p>A mutation in GraphQL is defined in the schema and includes the following components:</p>
<ul>
<li><strong>Mutation Type</strong>: Defines the available mutation operations.</li>
<li><strong>Input Arguments</strong>: Specifies the data required to perform the mutation.</li>
<li><strong>Return Type</strong>: Defines the type of data returned after the mutation is executed.</li>
</ul>
</div><h2>Example Schema Definition</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBNdXRhdGlvbiB7CiAgYWRkVXNlcihuYW1lOiBTdHJpbmchLCBhZ2U6IEludCEpOiBVc2VyCn0KCnR5cGUgVXNlciB7CiAgaWQ6IElEIQogIG5hbWU6IFN0cmluZyEKICBhZ2U6IEludCEKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type Mutation {
  addUser(name: String!, age: Int!): User
}

type User {
  id: ID!
  name: String!
  age: Int!
}</pre></div><div class='content'><p>In this example:</p>
<ul>
<li><code>addUser</code> is a mutation that takes <code>name</code> and <code>age</code> as input arguments and returns a <code>User</code> type.</li>
</ul>
</div><h2>Example Resolver</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIE11dGF0aW9uOiB7CiAgICBhZGRVc2VyOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIGNvbnN0IG5ld1VzZXIgPSB7CiAgICAgICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSwKICAgICAgICBuYW1lOiBhcmdzLm5hbWUsCiAgICAgICAgYWdlOiBhcmdzLmFnZSwKICAgICAgfTsKICAgICAgLy8gTG9naWMgdG8gc2F2ZSB0aGUgbmV3IHVzZXIgdG8gdGhlIGRhdGFiYXNlCiAgICAgIHVzZXJzLnB1c2gobmV3VXNlcik7CiAgICAgIHJldHVybiBuZXdVc2VyOwogICAgfSwKICB9LAp9Ow=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Mutation: {
    addUser: (parent, args, context, info) =&gt; {
      const newUser = {
        id: generateUniqueId(),
        name: args.name,
        age: args.age,
      };
      // Logic to save the new user to the database
      users.push(newUser);
      return newUser;
    },
  },
};</pre></div><div class='content'><p>In this resolver:</p>
<ul>
<li><code>addUser</code> function takes <code>args</code> containing the input arguments (<code>name</code> and <code>age</code>).</li>
<li>A new user object is created and added to the <code>users</code> array.</li>
<li>The newly created user is returned.</li>
</ul>
</div><h1>Practical Example</h1>
<div class='content'><p>Let's create a simple GraphQL server with a mutation to add a user.</p>
</div><h2>Step 1: Setting Up the Server</h2>
<div class='content'><p>First, set up a basic GraphQL server using <code>express</code> and <code>apollo-server-express</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgeyBBcG9sbG9TZXJ2ZXIsIGdxbCB9ID0gcmVxdWlyZSgnYXBvbGxvLXNlcnZlci1leHByZXNzJyk7Cgpjb25zdCBhcHAgPSBleHByZXNzKCk7CmNvbnN0IHBvcnQgPSA0MDAwOwoKY29uc3QgdHlwZURlZnMgPSBncWxgCiAgdHlwZSBVc2VyIHsKICAgIGlkOiBJRCEKICAgIG5hbWU6IFN0cmluZyEKICAgIGFnZTogSW50IQogIH0KCiAgdHlwZSBNdXRhdGlvbiB7CiAgICBhZGRVc2VyKG5hbWU6IFN0cmluZyEsIGFnZTogSW50ISk6IFVzZXIKICB9CgogIHR5cGUgUXVlcnkgewogICAgdXNlcnM6IFtVc2VyXQogIH0KYDsKCmxldCB1c2VycyA9IFtdOwoKY29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyczogKCkgPT4gdXNlcnMsCiAgfSwKICBNdXRhdGlvbjogewogICAgYWRkVXNlcjogKHBhcmVudCwgYXJncykgPT4gewogICAgICBjb25zdCBuZXdVc2VyID0gewogICAgICAgIGlkOiB1c2Vycy5sZW5ndGggKyAxLAogICAgICAgIG5hbWU6IGFyZ3MubmFtZSwKICAgICAgICBhZ2U6IGFyZ3MuYWdlLAogICAgICB9OwogICAgICB1c2Vycy5wdXNoKG5ld1VzZXIpOwogICAgICByZXR1cm4gbmV3VXNlcjsKICAgIH0sCiAgfSwKfTsKCmNvbnN0IHNlcnZlciA9IG5ldyBBcG9sbG9TZXJ2ZXIoeyB0eXBlRGVmcywgcmVzb2x2ZXJzIH0pOwpzZXJ2ZXIuYXBwbHlNaWRkbGV3YXJlKHsgYXBwIH0pOwoKYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7CiAgY29uc29sZS5sb2coYFNlcnZlciBpcyBydW5uaW5nIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fSR7c2VydmVyLmdyYXBocWxQYXRofWApOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const express = require('express');
const { ApolloServer, gql } = require('apollo-server-express');

const app = express();
const port = 4000;

const typeDefs = gql`
  type User {
    id: ID!
    name: String!
    age: Int!
  }

  type Mutation {
    addUser(name: String!, age: Int!): User
  }

  type Query {
    users: [User]
  }
`;

let users = [];

const resolvers = {
  Query: {
    users: () =&gt; users,
  },
  Mutation: {
    addUser: (parent, args) =&gt; {
      const newUser = {
        id: users.length + 1,
        name: args.name,
        age: args.age,
      };
      users.push(newUser);
      return newUser;
    },
  },
};

const server = new ApolloServer({ typeDefs, resolvers });
server.applyMiddleware({ app });

app.listen(port, () =&gt; {
  console.log(`Server is running at http://localhost:${port}${server.graphqlPath}`);
});</pre></div><div class='content'></div><h2>Step 2: Testing the Mutation</h2>
<div class='content'><p>You can test the mutation using GraphiQL or any other GraphQL client.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXV0YXRpb24gewogIGFkZFVzZXIobmFtZTogIkpvaG4gRG9lIiwgYWdlOiAzMCkgewogICAgaWQKICAgIG5hbWUKICAgIGFnZQogIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mutation {
  addUser(name: &quot;John Doe&quot;, age: 30) {
    id
    name
    age
  }
}</pre></div><div class='content'><p>This mutation will add a new user with the name &quot;John Doe&quot; and age 30 to the server.</p>
</div><h1>Exercises</h1>
<div class='content'></div><h2>Exercise 1: Add a New Mutation</h2>
<div class='content'><p><strong>Task</strong>: Add a mutation to update a user's age.</p>
<ol>
<li>
<p><strong>Schema Definition</strong>:</p>
<pre><code class="language-graphql">type Mutation {
  updateUserAge(id: ID!, age: Int!): User
}
</code></pre>
</li>
<li>
<p><strong>Resolver</strong>:</p>
<pre><code class="language-javascript">const resolvers = {
  Mutation: {
    updateUserAge: (parent, args) =&gt; {
      const user = users.find(user =&gt; user.id === args.id);
      if (!user) {
        throw new Error('User not found');
      }
      user.age = args.age;
      return user;
    },
  },
};
</code></pre>
</li>
<li>
<p><strong>Test the Mutation</strong>:</p>
<pre><code class="language-graphql">mutation {
  updateUserAge(id: 1, age: 35) {
    id
    name
    age
  }
}
</code></pre>
</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><ol>
<li>
<p><strong>Schema Definition</strong>:</p>
<pre><code class="language-graphql">type Mutation {
  updateUserAge(id: ID!, age: Int!): User
}
</code></pre>
</li>
<li>
<p><strong>Resolver</strong>:</p>
<pre><code class="language-javascript">const resolvers = {
  Mutation: {
    updateUserAge: (parent, args) =&gt; {
      const user = users.find(user =&gt; user.id === args.id);
      if (!user) {
        throw new Error('User not found');
      }
      user.age = args.age;
      return user;
    },
  },
};
</code></pre>
</li>
<li>
<p><strong>Test the Mutation</strong>:</p>
<pre><code class="language-graphql">mutation {
  updateUserAge(id: 1, age: 35) {
    id
    name
    age
  }
}
</code></pre>
</li>
</ol>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Missing Input Arguments</strong>: Ensure that all required input arguments are provided when calling a mutation.</li>
<li><strong>Error Handling</strong>: Always handle errors gracefully in your resolvers to provide meaningful feedback to the client.</li>
<li><strong>Validation</strong>: Validate input data to prevent invalid data from being processed.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of GraphQL mutations, including their structure, how to define them in the schema, and how to implement resolvers. We also provided a practical example and exercises to reinforce the concepts. Understanding mutations is crucial for performing data modifications in a GraphQL server, and mastering them will enable you to build more dynamic and interactive applications.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-01-queries' title="Queries">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-03-resolvers' title="Resolvers">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>GraphQL Course</h1>
<h2>Module 1: Introduction to GraphQL</h2>
<ul>
<li><a href="01-01-what-is-graphql">What is GraphQL?</a></li>
<li><a href="01-02-graphql-vs-rest">GraphQL vs REST</a></li>
<li><a href="01-03-setting-up-graphql-server">Setting Up a GraphQL Server</a></li>
<li><a href="01-04-graphql-schema-basics">GraphQL Schema Basics</a></li>
</ul>
<h2>Module 2: Core Concepts</h2>
<ul>
<li><a href="02-01-queries">Queries</a></li>
<li><a href="02-02-mutations">Mutations</a></li>
<li><a href="02-03-resolvers">Resolvers</a></li>
<li><a href="02-04-graphql-types">GraphQL Types</a></li>
<li><a href="02-05-graphql-scalars">GraphQL Scalars</a></li>
</ul>
<h2>Module 3: Advanced Schema Design</h2>
<ul>
<li><a href="03-01-interfaces">Interfaces</a></li>
<li><a href="03-02-unions">Unions</a></li>
<li><a href="03-03-enums">Enums</a></li>
<li><a href="03-04-input-types">Input Types</a></li>
<li><a href="03-05-custom-scalars">Custom Scalars</a></li>
</ul>
<h2>Module 4: Working with Data</h2>
<ul>
<li><a href="04-01-connecting-to-database">Connecting to a Database</a></li>
<li><a href="04-02-data-fetching-strategies">Data Fetching Strategies</a></li>
<li><a href="04-03-batching-and-caching">Batching and Caching</a></li>
<li><a href="04-04-error-handling">Error Handling</a></li>
</ul>
<h2>Module 5: Performance and Security</h2>
<ul>
<li><a href="05-01-query-optimization">Query Optimization</a></li>
<li><a href="05-02-rate-limiting">Rate Limiting</a></li>
<li><a href="05-03-authentication-authorization">Authentication and Authorization</a></li>
<li><a href="05-04-persisted-queries">Persisted Queries</a></li>
</ul>
<h2>Module 6: Tooling and Ecosystem</h2>
<ul>
<li><a href="06-01-graphiql-playground">GraphiQL and Playground</a></li>
<li><a href="06-02-apollo-client">Apollo Client</a></li>
<li><a href="06-03-relay">Relay</a></li>
<li><a href="06-04-graphql-subscriptions">GraphQL Subscriptions</a></li>
</ul>
<h2>Module 7: Testing and Deployment</h2>
<ul>
<li><a href="07-01-unit-testing-resolvers">Unit Testing Resolvers</a></li>
<li><a href="07-02-integration-testing">Integration Testing</a></li>
<li><a href="07-03-continuous-integration">Continuous Integration</a></li>
<li><a href="07-04-deploying-graphql-servers">Deploying GraphQL Servers</a></li>
</ul>
<h2>Module 8: Real-world Applications</h2>
<ul>
<li><a href="08-01-building-fullstack-application">Building a Full-stack Application</a></li>
<li><a href="08-02-graphql-in-microservices">GraphQL in Microservices</a></li>
<li><a href="08-03-graphql-federation">GraphQL Federation</a></li>
<li><a href="08-04-case-studies">Case Studies</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>
