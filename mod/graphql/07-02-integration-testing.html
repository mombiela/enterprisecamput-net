<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Integration Testing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/07-02-integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/07-02-integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/07-02-integration-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/graphql/07-02-integration-testing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/graphql/07-02-integration-testing" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Course Content
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-unit-testing-resolvers' title="Unit Testing Resolvers">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Integration Testing</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-continuous-integration' title="Continuous Integration">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>Integration testing is a crucial step in ensuring that different parts of your GraphQL application work together as expected. This module will guide you through the process of setting up and executing integration tests for your GraphQL server.</p>
</div><h1>Objectives</h1>
<div class='content'><ul>
<li>Understand the importance of integration testing.</li>
<li>Learn how to set up an environment for integration testing.</li>
<li>Write and execute integration tests for GraphQL queries and mutations.</li>
<li>Handle common issues and errors in integration testing.</li>
</ul>
</div><h1>What is Integration Testing?</h1>
<div class='content'><p>Integration testing involves testing multiple components of an application together to ensure they work as expected. Unlike unit tests, which test individual functions or methods, integration tests focus on the interaction between different parts of the system.</p>
</div><h2>Why is Integration Testing Important?</h2>
<div class='content'><ul>
<li><strong>Ensures Compatibility:</strong> Verifies that different modules or services work together.</li>
<li><strong>Detects Issues Early:</strong> Identifies problems that may not be apparent in unit tests.</li>
<li><strong>Improves Confidence:</strong> Provides greater assurance that the application will function correctly in a production environment.</li>
</ul>
</div><h1>Setting Up Integration Testing</h1>
<div class='content'></div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>A working GraphQL server.</li>
<li>A testing framework (e.g., Jest, Mocha).</li>
<li>A library for making HTTP requests (e.g., <code>supertest</code>).</li>
</ul>
</div><h2>Step-by-Step Setup</h2>
<div class='content'><ol>
<li>
<p><strong>Install Dependencies:</strong></p>
<pre><code class="language-bash">npm install --save-dev jest supertest
</code></pre>
</li>
<li>
<p><strong>Configure Jest:</strong>
Create a <code>jest.config.js</code> file in the root of your project:</p>
<pre><code class="language-javascript">module.exports = {
  testEnvironment: 'node',
  setupFilesAfterEnv: ['./jest.setup.js'],
};
</code></pre>
</li>
<li>
<p><strong>Setup File:</strong>
Create a <code>jest.setup.js</code> file to initialize any global settings:</p>
<pre><code class="language-javascript">// jest.setup.js
jest.setTimeout(30000); // Set a longer timeout for integration tests
</code></pre>
</li>
<li>
<p><strong>Start Your Server:</strong>
Ensure your GraphQL server is running before executing tests. You can use a script to start the server in a test environment.</p>
</li>
</ol>
</div><h1>Writing Integration Tests</h1>
<div class='content'></div><h2>Example: Testing a Query</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Test File:</strong>
Create a file named <code>integration.test.js</code> in your <code>tests</code> directory.</p>
</li>
<li>
<p><strong>Write a Test for a Query:</strong></p>
<pre><code class="language-javascript">const request = require('supertest');
const app = require('../src/app'); // Import your GraphQL server

describe('GraphQL Integration Tests', () =&gt; {
  it('should fetch a list of users', async () =&gt; {
    const query = `
      query {
        users {
          id
          name
          email
        }
      }
    `;

    const response = await request(app)
      .post('/graphql')
      .send({ query });

    expect(response.status).toBe(200);
    expect(response.body.data.users).toBeInstanceOf(Array);
    expect(response.body.data.users.length).toBeGreaterThan(0);
  });
});
</code></pre>
</li>
</ol>
</div><h2>Example: Testing a Mutation</h2>
<div class='content'><ol>
<li><strong>Write a Test for a Mutation:</strong>
<pre><code class="language-javascript">describe('GraphQL Integration Tests', () =&gt; {
  it('should create a new user', async () =&gt; {
    const mutation = `
      mutation {
        createUser(input: { name: &quot;John Doe&quot;, email: &quot;john@example.com&quot; }) {
          id
          name
          email
        }
      }
    `;

    const response = await request(app)
      .post('/graphql')
      .send({ query: mutation });

    expect(response.status).toBe(200);
    expect(response.body.data.createUser).toHaveProperty('id');
    expect(response.body.data.createUser.name).toBe('John Doe');
    expect(response.body.data.createUser.email).toBe('john@example.com');
  });
});
</code></pre>
</li>
</ol>
</div><h1>Handling Common Issues</h1>
<div class='content'></div><h2>Common Mistakes</h2>
<div class='content'><ul>
<li><strong>Server Not Running:</strong> Ensure your server is running before executing tests.</li>
<li><strong>Incorrect Query/Mutation:</strong> Double-check your GraphQL queries and mutations for syntax errors.</li>
<li><strong>Timeouts:</strong> Increase the timeout setting if your tests are timing out.</li>
</ul>
</div><h2>Tips</h2>
<div class='content'><ul>
<li><strong>Use Test Databases:</strong> Use a separate database for testing to avoid affecting your production data.</li>
<li><strong>Mock External Services:</strong> Mock any external services to ensure your tests are isolated and reliable.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Integration testing is essential for ensuring that your GraphQL server works correctly in a real-world environment. By following the steps outlined in this module, you can set up and execute integration tests that provide confidence in the functionality and reliability of your application.</p>
<p>In the next module, we will explore continuous integration and how to automate your testing and deployment processes.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-01-unit-testing-resolvers' title="Unit Testing Resolvers">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-03-continuous-integration' title="Continuous Integration">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>GraphQL Course</h1>
<h2>Module 1: Introduction to GraphQL</h2>
<ul>
<li><a href="01-01-what-is-graphql">What is GraphQL?</a></li>
<li><a href="01-02-graphql-vs-rest">GraphQL vs REST</a></li>
<li><a href="01-03-setting-up-graphql-server">Setting Up a GraphQL Server</a></li>
<li><a href="01-04-graphql-schema-basics">GraphQL Schema Basics</a></li>
</ul>
<h2>Module 2: Core Concepts</h2>
<ul>
<li><a href="02-01-queries">Queries</a></li>
<li><a href="02-02-mutations">Mutations</a></li>
<li><a href="02-03-resolvers">Resolvers</a></li>
<li><a href="02-04-graphql-types">GraphQL Types</a></li>
<li><a href="02-05-graphql-scalars">GraphQL Scalars</a></li>
</ul>
<h2>Module 3: Advanced Schema Design</h2>
<ul>
<li><a href="03-01-interfaces">Interfaces</a></li>
<li><a href="03-02-unions">Unions</a></li>
<li><a href="03-03-enums">Enums</a></li>
<li><a href="03-04-input-types">Input Types</a></li>
<li><a href="03-05-custom-scalars">Custom Scalars</a></li>
</ul>
<h2>Module 4: Working with Data</h2>
<ul>
<li><a href="04-01-connecting-to-database">Connecting to a Database</a></li>
<li><a href="04-02-data-fetching-strategies">Data Fetching Strategies</a></li>
<li><a href="04-03-batching-and-caching">Batching and Caching</a></li>
<li><a href="04-04-error-handling">Error Handling</a></li>
</ul>
<h2>Module 5: Performance and Security</h2>
<ul>
<li><a href="05-01-query-optimization">Query Optimization</a></li>
<li><a href="05-02-rate-limiting">Rate Limiting</a></li>
<li><a href="05-03-authentication-authorization">Authentication and Authorization</a></li>
<li><a href="05-04-persisted-queries">Persisted Queries</a></li>
</ul>
<h2>Module 6: Tooling and Ecosystem</h2>
<ul>
<li><a href="06-01-graphiql-playground">GraphiQL and Playground</a></li>
<li><a href="06-02-apollo-client">Apollo Client</a></li>
<li><a href="06-03-relay">Relay</a></li>
<li><a href="06-04-graphql-subscriptions">GraphQL Subscriptions</a></li>
</ul>
<h2>Module 7: Testing and Deployment</h2>
<ul>
<li><a href="07-01-unit-testing-resolvers">Unit Testing Resolvers</a></li>
<li><a href="07-02-integration-testing">Integration Testing</a></li>
<li><a href="07-03-continuous-integration">Continuous Integration</a></li>
<li><a href="07-04-deploying-graphql-servers">Deploying GraphQL Servers</a></li>
</ul>
<h2>Module 8: Real-world Applications</h2>
<ul>
<li><a href="08-01-building-fullstack-application">Building a Full-stack Application</a></li>
<li><a href="08-02-graphql-in-microservices">GraphQL in Microservices</a></li>
<li><a href="08-03-graphql-federation">GraphQL Federation</a></li>
<li><a href="08-04-case-studies">Case Studies</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
