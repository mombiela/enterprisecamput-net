<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Ray Tracing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/direct_x/07-04-ray-tracing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/direct_x/07-04-ray-tracing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/direct_x/07-04-ray-tracing" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "direct_x";
  		var TEMA_NAME = "7-4";
  		var TYPE = "mod";
  		var PATH = "mod/direct_x/07-04-ray-tracing";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.49d891d32f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/direct_x/07-04-ray-tracing" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/direct_x/07-04-ray-tracing" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="direct_x">
		<a  href="#" class="text-secondary d-none" data-read-mod="direct_x" data-read-unit="7-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="direct_x" data-unread-unit="7-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-03-tessellation' title="Tessellation" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-03-tessellation' title="Tessellation" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Ray Tracing</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-01-building-game-engine' title="Building a Game Engine" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="7-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-01-building-game-engine' title="Building a Game Engine" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="7-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Ray tracing is an advanced rendering technique that simulates the way light interacts with objects to produce highly realistic images. Unlike traditional rasterization, which processes each triangle independently, ray tracing traces the path of light rays as they travel through a scene, allowing for more accurate reflections, refractions, and shadows.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>Rays and Ray Casting</strong>:</p>
<ul>
<li><strong>Primary Rays</strong>: Rays that originate from the camera and travel into the scene.</li>
<li><strong>Secondary Rays</strong>: Rays that are generated when primary rays interact with objects (e.g., reflection rays, refraction rays, shadow rays).</li>
</ul>
</li>
<li>
<p><strong>Intersection Tests</strong>:</p>
<ul>
<li>Determining where rays intersect with objects in the scene.</li>
<li>Calculating the exact point of intersection and the surface normal at that point.</li>
</ul>
</li>
<li>
<p><strong>Shading Models</strong>:</p>
<ul>
<li><strong>Phong Shading</strong>: A simple model that includes ambient, diffuse, and specular components.</li>
<li><strong>Physically Based Rendering (PBR)</strong>: A more complex model that simulates real-world materials and lighting.</li>
</ul>
</li>
<li>
<p><strong>Acceleration Structures</strong>:</p>
<ul>
<li><strong>Bounding Volume Hierarchies (BVH)</strong>: A tree structure that groups objects to speed up intersection tests.</li>
<li><strong>Grids and Octrees</strong>: Other spatial partitioning methods to optimize ray tracing performance.</li>
</ul>
</li>
</ol>
</div><h1>Practical Example: Basic Ray Tracing in DirectX</h1>
<div class='content'></div><h2>Step 1: Setting Up the Ray Tracing Pipeline</h2>
<div class='content'><p>First, ensure your development environment supports DirectX Raytracing (DXR). You will need a compatible GPU and the latest DirectX 12 SDK.</p>
</div><h2>Step 2: Creating the Ray Tracing Pipeline State Object (RTPSO)</h2>
<div class='content'><p>The RTPSO defines the shaders and resources used in the ray tracing process.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5lIHRoZSByYXkgdHJhY2luZyBwaXBlbGluZSBzdGF0ZSBvYmplY3QgKFJUUFNPKQpEM0QxMl9TVEFURV9PQkpFQ1RfREVTQyByYXl0cmFjaW5nUGlwZWxpbmVEZXNjID0ge307CnJheXRyYWNpbmdQaXBlbGluZURlc2MuVHlwZSA9IEQzRDEyX1NUQVRFX09CSkVDVF9UWVBFX1JBWVRSQUNJTkdfUElQRUxJTkU7CgovLyBBZGQgcmF5IGdlbmVyYXRpb24sIG1pc3MsIGFuZCBoaXQgc2hhZGVycwovLyAoQXNzdW1lIHNoYWRlciBieXRlY29kZSBpcyBhbHJlYWR5IGNvbXBpbGVkKQpEM0QxMl9EWElMX0xJQlJBUllfREVTQyBkeGlsTGliRGVzYyA9IHt9OwpkeGlsTGliRGVzYy5EWElMTGlicmFyeS5wU2hhZGVyQnl0ZWNvZGUgPSBwU2hhZGVyQnl0ZWNvZGU7CmR4aWxMaWJEZXNjLkRYSUxMaWJyYXJ5LkJ5dGVjb2RlTGVuZ3RoID0gc2hhZGVyQnl0ZWNvZGVTaXplOwpyYXl0cmFjaW5nUGlwZWxpbmVEZXNjLnBTdWJvYmplY3RzID0gJmR4aWxMaWJEZXNjOwpyYXl0cmFjaW5nUGlwZWxpbmVEZXNjLk51bVN1Ym9iamVjdHMgPSAxOwoKLy8gQ3JlYXRlIHRoZSBSVFBTTwpJRDNEMTJTdGF0ZU9iamVjdCogcFJheXRyYWNpbmdQaXBlbGluZVN0YXRlOwpkZXZpY2UtPkNyZWF0ZVN0YXRlT2JqZWN0KCZyYXl0cmFjaW5nUGlwZWxpbmVEZXNjLCBJSURfUFBWX0FSR1MoJnBSYXl0cmFjaW5nUGlwZWxpbmVTdGF0ZSkpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Define the ray tracing pipeline state object (RTPSO)
D3D12_STATE_OBJECT_DESC raytracingPipelineDesc = {};
raytracingPipelineDesc.Type = D3D12_STATE_OBJECT_TYPE_RAYTRACING_PIPELINE;

// Add ray generation, miss, and hit shaders
// (Assume shader bytecode is already compiled)
D3D12_DXIL_LIBRARY_DESC dxilLibDesc = {};
dxilLibDesc.DXILLibrary.pShaderBytecode = pShaderBytecode;
dxilLibDesc.DXILLibrary.BytecodeLength = shaderBytecodeSize;
raytracingPipelineDesc.pSubobjects = &amp;dxilLibDesc;
raytracingPipelineDesc.NumSubobjects = 1;

// Create the RTPSO
ID3D12StateObject* pRaytracingPipelineState;
device-&gt;CreateStateObject(&amp;raytracingPipelineDesc, IID_PPV_ARGS(&amp;pRaytracingPipelineState));</pre></div><div class='content'></div><h2>Step 3: Defining the Ray Generation Shader</h2>
<div class='content'><p>The ray generation shader is responsible for casting primary rays into the scene.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUmF5IGdlbmVyYXRpb24gc2hhZGVyIChITFNMKQpbc2hhZGVyKCJyYXlnZW5lcmF0aW9uIildCnZvaWQgUmF5R2VuU2hhZGVyKCkKewogICAgLy8gQ2FsY3VsYXRlIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gY2FtZXJhIHBhcmFtZXRlcnMKICAgIGZsb2F0MyByYXlPcmlnaW4gPSBjYW1lcmFQb3NpdGlvbjsKICAgIGZsb2F0MyByYXlEaXJlY3Rpb24gPSBDYWxjdWxhdGVSYXlEaXJlY3Rpb24oKTsKCiAgICAvLyBUcmFjZSB0aGUgcmF5CiAgICBSYXlEZXNjIHJheTsKICAgIHJheS5PcmlnaW4gPSByYXlPcmlnaW47CiAgICByYXkuRGlyZWN0aW9uID0gcmF5RGlyZWN0aW9uOwogICAgcmF5LlRNaW4gPSAwLjBmOwogICAgcmF5LlRNYXggPSAxMDAwLjBmOwoKICAgIC8vIFBlcmZvcm0gcmF5IHRyYWNpbmcKICAgIFJheXRyYWNpbmdBY2NlbGVyYXRpb25TdHJ1Y3R1cmUgc2NlbmVBUyA9IEdldFNjZW5lQWNjZWxlcmF0aW9uU3RydWN0dXJlKCk7CiAgICBUcmFjZVJheShzY2VuZUFTLCBSQVlfRkxBR19OT05FLCAweEZGLCAwLCAxLCAwLCByYXksIEhpdEdyb3VwLCBNaXNzU2hhZGVyKTsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ray generation shader (HLSL)
[shader(&quot;raygeneration&quot;)]
void RayGenShader()
{
    // Calculate ray direction based on camera parameters
    float3 rayOrigin = cameraPosition;
    float3 rayDirection = CalculateRayDirection();

    // Trace the ray
    RayDesc ray;
    ray.Origin = rayOrigin;
    ray.Direction = rayDirection;
    ray.TMin = 0.0f;
    ray.TMax = 1000.0f;

    // Perform ray tracing
    RaytracingAccelerationStructure sceneAS = GetSceneAccelerationStructure();
    TraceRay(sceneAS, RAY_FLAG_NONE, 0xFF, 0, 1, 0, ray, HitGroup, MissShader);
}</pre></div><div class='content'></div><h2>Step 4: Handling Ray-Object Intersections</h2>
<div class='content'><p>The hit shader processes intersections between rays and objects.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2xvc2VzdCBoaXQgc2hhZGVyIChITFNMKQpbc2hhZGVyKCJjbG9zZXN0aGl0IildCnZvaWQgQ2xvc2VzdEhpdFNoYWRlcihpbm91dCBQYXlsb2FkIHBheWxvYWQsIGluIEF0dHJpYnV0ZXMgYXR0cmliKQp7CiAgICAvLyBDYWxjdWxhdGUgbGlnaHRpbmcgYW5kIHNoYWRpbmcgYXQgdGhlIGludGVyc2VjdGlvbiBwb2ludAogICAgZmxvYXQzIGhpdFBvaW50ID0gYXR0cmliLmhpdFBvaW50OwogICAgZmxvYXQzIG5vcm1hbCA9IGF0dHJpYi5ub3JtYWw7CiAgICBmbG9hdDMgdmlld0RpciA9IG5vcm1hbGl6ZShjYW1lcmFQb3NpdGlvbiAtIGhpdFBvaW50KTsKCiAgICAvLyBTaW1wbGUgUGhvbmcgc2hhZGluZwogICAgZmxvYXQzIGNvbG9yID0gUGhvbmdTaGFkaW5nKGhpdFBvaW50LCBub3JtYWwsIHZpZXdEaXIpOwogICAgcGF5bG9hZC5jb2xvciA9IGNvbG9yOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Closest hit shader (HLSL)
[shader(&quot;closesthit&quot;)]
void ClosestHitShader(inout Payload payload, in Attributes attrib)
{
    // Calculate lighting and shading at the intersection point
    float3 hitPoint = attrib.hitPoint;
    float3 normal = attrib.normal;
    float3 viewDir = normalize(cameraPosition - hitPoint);

    // Simple Phong shading
    float3 color = PhongShading(hitPoint, normal, viewDir);
    payload.color = color;
}</pre></div><div class='content'></div><h2>Step 5: Compiling and Running the Ray Tracing Application</h2>
<div class='content'><p>Compile the shaders and link them to the RTPSO. Then, execute the ray tracing pipeline in your render loop.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlY3V0ZSB0aGUgcmF5IHRyYWNpbmcgcGlwZWxpbmUKY29tbWFuZExpc3QtPlNldFBpcGVsaW5lU3RhdGUocFJheXRyYWNpbmdQaXBlbGluZVN0YXRlKTsKY29tbWFuZExpc3QtPkRpc3BhdGNoUmF5cygmZGlzcGF0Y2hEZXNjKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Execute the ray tracing pipeline
commandList-&gt;SetPipelineState(pRaytracingPipelineState);
commandList-&gt;DispatchRays(&amp;dispatchDesc);</pre></div><div class='content'></div><h1>Practical Exercise</h1>
<div class='content'></div><h2>Exercise: Implement a Basic Ray Tracer</h2>
<div class='content'><ol>
<li><strong>Setup</strong>: Ensure your environment supports DXR and set up a basic DirectX 12 application.</li>
<li><strong>Shaders</strong>: Write the ray generation, miss, and closest hit shaders.</li>
<li><strong>RTPSO</strong>: Create the ray tracing pipeline state object.</li>
<li><strong>Intersection</strong>: Implement intersection tests and shading in the closest hit shader.</li>
<li><strong>Render</strong>: Integrate the ray tracing pipeline into your render loop and display the results.</li>
</ol>
</div><h2>Solution</h2>
<div class='content'><p>Refer to the provided code snippets and expand them to create a complete ray tracing application. Ensure you handle all necessary DirectX 12 setup and resource management.</p>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li><strong>Performance</strong>: Ray tracing can be computationally expensive. Use acceleration structures like BVH to optimize performance.</li>
<li><strong>Debugging</strong>: Use tools like PIX for Windows to debug and profile your ray tracing application.</li>
<li><strong>Precision</strong>: Ensure your intersection tests are precise to avoid artifacts in the rendered image.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Ray tracing is a powerful technique for achieving realistic rendering in graphics applications. By understanding the key concepts and following the practical example, you can start implementing ray tracing in your DirectX applications. This knowledge will also prepare you for more advanced topics in rendering and graphics programming.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-03-tessellation' title="Tessellation" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-03-tessellation' title="Tessellation" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-01-building-game-engine' title="Building a Game Engine" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="7-4">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-01-building-game-engine' title="Building a Game Engine" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="7-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>DirectX Programming Course</h1>
<h2>Module 1: Introduction to DirectX</h2>
<ul>
<li><a href="01-01-what-is-directx">What is DirectX?</a></li>
<li><a href="01-02-setting-up-environment">Setting Up the Development Environment</a></li>
<li><a href="01-03-understanding-directx-api">Understanding the DirectX API</a></li>
<li><a href="01-04-creating-first-application">Creating Your First DirectX Application</a></li>
</ul>
<h2>Module 2: Direct3D Basics</h2>
<ul>
<li><a href="02-01-introduction-to-direct3d">Introduction to Direct3D</a></li>
<li><a href="02-02-initializing-direct3d">Initializing Direct3D</a></li>
<li><a href="02-03-rendering-a-triangle">Rendering a Triangle</a></li>
<li><a href="02-04-handling-render-loop">Handling the Render Loop</a></li>
</ul>
<h2>Module 3: Working with Shaders</h2>
<ul>
<li><a href="03-01-introduction-to-shaders">Introduction to Shaders</a></li>
<li><a href="03-02-writing-vertex-shaders">Writing Vertex Shaders</a></li>
<li><a href="03-03-writing-pixel-shaders">Writing Pixel Shaders</a></li>
<li><a href="03-04-compiling-using-shaders">Compiling and Using Shaders</a></li>
</ul>
<h2>Module 4: Advanced Rendering Techniques</h2>
<ul>
<li><a href="04-01-texture-mapping">Texture Mapping</a></li>
<li><a href="04-02-lighting-and-materials">Lighting and Materials</a></li>
<li><a href="04-03-advanced-lighting-techniques">Advanced Lighting Techniques</a></li>
<li><a href="04-04-shadow-mapping">Shadow Mapping</a></li>
</ul>
<h2>Module 5: 3D Models and Animation</h2>
<ul>
<li><a href="05-01-loading-3d-models">Loading 3D Models</a></li>
<li><a href="05-02-animating-3d-models">Animating 3D Models</a></li>
<li><a href="05-03-skeletal-animation">Skeletal Animation</a></li>
<li><a href="05-04-morph-target-animation">Morph Target Animation</a></li>
</ul>
<h2>Module 6: Performance Optimization</h2>
<ul>
<li><a href="06-01-profiling-debugging">Profiling and Debugging</a></li>
<li><a href="06-02-optimizing-rendering-performance">Optimizing Rendering Performance</a></li>
<li><a href="06-03-memory-management">Memory Management</a></li>
<li><a href="06-04-multithreading-directx">Multithreading in DirectX</a></li>
</ul>
<h2>Module 7: Advanced Topics</h2>
<ul>
<li><a href="07-01-deferred-shading">Deferred Shading</a></li>
<li><a href="07-02-post-processing-effects">Post-Processing Effects</a></li>
<li><a href="07-03-tessellation">Tessellation</a></li>
<li><a href="07-04-ray-tracing">Ray Tracing</a></li>
</ul>
<h2>Module 8: DirectX in Practice</h2>
<ul>
<li><a href="08-01-building-game-engine">Building a Game Engine</a></li>
<li><a href="08-02-integrating-physics">Integrating Physics</a></li>
<li><a href="08-03-networking-directx">Networking in DirectX</a></li>
<li><a href="08-04-publishing-application">Publishing Your DirectX Application</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Email</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Enter your email">
</div>
<button class="btn btn-primary" id="btnRecover">Send recovery link</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	Warning! You are about to delete all registration and progress data.<br><b>This action cannot be undone.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Delete user</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Enter current password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Enter new password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repeat new password">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Change password</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Send verification link</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Disconnect</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Change password</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Delete user</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Log in
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Sign up
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Email</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Enter your email">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Password</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnLogin">Log in</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">Have you forgotten your password?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Email</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Enter your email">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Password</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Enter your password">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Name</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Enter your name">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        I have read and accept the <a href="/privacity" target="blank">Privacy Policy</a> and the <a href="/licence" target="blank">Terms and Conditions of Use</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        I wish to receive news and updates about courses (optional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Sign up</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
