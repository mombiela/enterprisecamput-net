<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developing a RESTful API</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flask/developing-restful-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flask/developing-restful-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flask/developing-restful-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flask/developing-restful-api" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flask/developing-restful-api" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-ecommerce-site'>&#x25C4;Creating an E-commerce Site</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Developing a RESTful API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-chat-application'>Building a Chat Application &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to RESTful APIs</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: REST (Representational State Transfer) is an architectural style for designing networked applications.</li>
<li><strong>Key Concepts</strong>:
<ul>
<li><strong>Resources</strong>: Objects or representations of data that clients interact with.</li>
<li><strong>HTTP Methods</strong>: GET, POST, PUT, DELETE, etc.</li>
<li><strong>Statelessness</strong>: Each request from a client contains all the information needed to process the request.</li>
<li><strong>Endpoints</strong>: URLs that represent resources.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Flask</h1>
<div class='content'><ul>
<li><strong>Installation</strong>:
<pre><code class="language-bash">pip install Flask
</code></pre>
</li>
<li><strong>Basic Flask Application</strong>:
<pre><code class="language-python">from flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return &quot;Hello, Flask!&quot;

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
</li>
</ul>
</div><h1>Creating a Simple RESTful API</h1>
<div class='content'><ul>
<li><strong>Creating Endpoints</strong>:
<pre><code class="language-python">from flask import Flask, jsonify, request

app = Flask(__name__)

@app.route('/api/resource', methods=['GET'])
def get_resource():
    return jsonify({&quot;message&quot;: &quot;GET request received&quot;})

@app.route('/api/resource', methods=['POST'])
def create_resource():
    data = request.get_json()
    return jsonify({&quot;message&quot;: &quot;POST request received&quot;, &quot;data&quot;: data}), 201

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
</li>
<li><strong>Explanation</strong>:
<ul>
<li><code>@app.route('/api/resource', methods=['GET'])</code>: Defines a GET endpoint.</li>
<li><code>@app.route('/api/resource', methods=['POST'])</code>: Defines a POST endpoint.</li>
<li><code>request.get_json()</code>: Parses the incoming JSON request data.</li>
</ul>
</li>
</ul>
</div><h1>Handling CRUD Operations</h1>
<div class='content'><ul>
<li>
<p><strong>CRUD Operations</strong>:</p>
<ul>
<li><strong>Create</strong>: POST</li>
<li><strong>Read</strong>: GET</li>
<li><strong>Update</strong>: PUT</li>
<li><strong>Delete</strong>: DELETE</li>
</ul>
</li>
<li>
<p><strong>Example</strong>:</p>
<pre><code class="language-python">from flask import Flask, jsonify, request

app = Flask(__name__)

resources = []

@app.route('/api/resources', methods=['GET'])
def get_resources():
    return jsonify(resources)

@app.route('/api/resources', methods=['POST'])
def create_resource():
    data = request.get_json()
    resources.append(data)
    return jsonify(data), 201

@app.route('/api/resources/&lt;int:id&gt;', methods=['PUT'])
def update_resource(id):
    data = request.get_json()
    resources[id] = data
    return jsonify(data)

@app.route('/api/resources/&lt;int:id&gt;', methods=['DELETE'])
def delete_resource(id):
    resources.pop(id)
    return '', 204

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
</li>
<li>
<p><strong>Explanation</strong>:</p>
<ul>
<li><code>resources = []</code>: A simple in-memory list to store resources.</li>
<li><code>@app.route('/api/resources', methods=['GET'])</code>: Retrieves all resources.</li>
<li><code>@app.route('/api/resources', methods=['POST'])</code>: Creates a new resource.</li>
<li><code>@app.route('/api/resources/&lt;int:id&gt;', methods=['PUT'])</code>: Updates a resource by ID.</li>
<li><code>@app.route('/api/resources/&lt;int:id&gt;', methods=['DELETE'])</code>: Deletes a resource by ID.</li>
</ul>
</li>
</ul>
</div><h1>Error Handling</h1>
<div class='content'><ul>
<li><strong>Custom Error Responses</strong>:
<pre><code class="language-python">from flask import Flask, jsonify

app = Flask(__name__)

@app.errorhandler(404)
def not_found(error):
    return jsonify({&quot;error&quot;: &quot;Resource not found&quot;}), 404

@app.errorhandler(500)
def internal_error(error):
    return jsonify({&quot;error&quot;: &quot;Internal server error&quot;}), 500

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
</li>
<li><strong>Explanation</strong>:
<ul>
<li><code>@app.errorhandler(404)</code>: Custom handler for 404 errors.</li>
<li><code>@app.errorhandler(500)</code>: Custom handler for 500 errors.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Topics</h1>
<div class='content'><ul>
<li><strong>Authentication and Authorization</strong>:
<ul>
<li><strong>JWT (JSON Web Tokens)</strong>:
<pre><code class="language-python">from flask import Flask, jsonify, request
import jwt
import datetime

app = Flask(__name__)
app.config['SECRET_KEY'] = 'your_secret_key'

@app.route('/login', methods=['POST'])
def login():
    auth_data = request.get_json()
    if auth_data['username'] == 'user' and auth_data['password'] == 'pass':
        token = jwt.encode({'user': auth_data['username'], 'exp': datetime.datetime.utcnow() + datetime.timedelta(minutes=30)}, app.config['SECRET_KEY'])
        return jsonify({'token': token})
    return jsonify({'message': 'Invalid credentials'}), 401

@app.route('/protected', methods=['GET'])
def protected():
    token = request.headers.get('x-access-tokens')
    if not token:
        return jsonify({'message': 'Token is missing'}), 401
    try:
        data = jwt.decode(token, app.config['SECRET_KEY'], algorithms=[&quot;HS256&quot;])
    except:
        return jsonify({'message': 'Token is invalid'}), 401
    return jsonify({'message': 'Protected route accessed'})

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
</li>
<li><strong>Explanation</strong>:
<ul>
<li><code>jwt.encode()</code>: Encodes a payload into a JWT token.</li>
<li><code>jwt.decode()</code>: Decodes a JWT token.</li>
<li><code>@app.route('/login', methods=['POST'])</code>: Endpoint to authenticate and generate a token.</li>
<li><code>@app.route('/protected', methods=['GET'])</code>: Protected endpoint that requires a valid token.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Developing a RESTful API with Flask involves understanding the basics of REST architecture, setting up Flask, creating endpoints, handling CRUD operations, and implementing error handling. Advanced topics like authentication and authorization can be added to secure the API. With these concepts, you can build robust and scalable APIs using Flask.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-ecommerce-site'>&#x25C4;Creating an E-commerce Site</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Developing a RESTful API</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-chat-application'>Building a Chat Application &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
