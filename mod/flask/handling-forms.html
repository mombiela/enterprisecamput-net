<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling Forms in Flask</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flask/handling-forms" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flask/handling-forms" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flask/handling-forms" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flask/handling-forms" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flask/handling-forms" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-url-for'>&#x25C4;Using URL_for for Dynamic URLs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling Forms in Flask</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-validation-wtforms'>Form Validation with WTForms &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Forms in Flask</h1>
<div class='content'><p>Forms are a fundamental part of web applications, allowing users to interact with the application by submitting data. Flask provides several ways to handle forms, from basic HTML forms to more advanced form handling using Flask-WTF.</p>
</div><h1>Basic HTML Forms</h1>
<div class='content'><p>To start with forms in Flask, you can use plain HTML forms. Here's a simple example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSB0ZW1wbGF0ZXMvZm9ybS5odG1sIC0tPgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT5TaW1wbGUgRm9ybTwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8Zm9ybSBhY3Rpb249Ii9zdWJtaXQiIG1ldGhvZD0icG9zdCI+CiAgICAgICAgPGxhYmVsIGZvcj0ibmFtZSI+TmFtZTo8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFtZSIgbmFtZT0ibmFtZSI+CiAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCI+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- templates/form.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Simple Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;/submit&quot; method=&quot;post&quot;&gt;
        &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Handling Form Submission</h2>
<div class='content'><p>To handle the form submission, you need to create a route in your Flask application:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIHJlbmRlcl90ZW1wbGF0ZQoKYXBwID0gRmxhc2soX19uYW1lX18pCgpAYXBwLnJvdXRlKCcvJykKZGVmIGluZGV4KCk6CiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdmb3JtLmh0bWwnKQoKQGFwcC5yb3V0ZSgnL3N1Ym1pdCcsIG1ldGhvZHM9WydQT1NUJ10pCmRlZiBzdWJtaXQoKToKICAgIG5hbWUgPSByZXF1ZXN0LmZvcm1bJ25hbWUnXQogICAgcmV0dXJuIGYnSGVsbG8sIHtuYW1lfSEnCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXBwLnJ1bihkZWJ1Zz1UcnVlKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask, request, render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('form.html')

@app.route('/submit', methods=['POST'])
def submit():
    name = request.form['name']
    return f'Hello, {name}!'

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'><ul>
<li><code>request.form</code>: A dictionary object containing form data.</li>
<li><code>methods=['POST']</code>: Specifies that the route should handle POST requests.</li>
</ul>
</div><h1>Using Flask-WTF for Form Handling</h1>
<div class='content'><p>Flask-WTF is an extension that integrates Flask with WTForms, providing a more robust way to handle forms.</p>
</div><h2>Installation</h2>
<div class='content'><p>First, install Flask-WTF:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgRmxhc2stV1RG"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install Flask-WTF</pre></div><div class='content'></div><h2>Creating a Form Class</h2>
<div class='content'><p>Define a form class using Flask-WTF:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmb3Jtcy5weQpmcm9tIGZsYXNrX3d0ZiBpbXBvcnQgRmxhc2tGb3JtCmZyb20gd3Rmb3JtcyBpbXBvcnQgU3RyaW5nRmllbGQsIFN1Ym1pdEZpZWxkCmZyb20gd3Rmb3Jtcy52YWxpZGF0b3JzIGltcG9ydCBEYXRhUmVxdWlyZWQKCmNsYXNzIE5hbWVGb3JtKEZsYXNrRm9ybSk6CiAgICBuYW1lID0gU3RyaW5nRmllbGQoJ05hbWUnLCB2YWxpZGF0b3JzPVtEYXRhUmVxdWlyZWQoKV0pCiAgICBzdWJtaXQgPSBTdWJtaXRGaWVsZCgnU3VibWl0Jyk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># forms.py
from flask_wtf import FlaskForm
from wtforms import StringField, SubmitField
from wtforms.validators import DataRequired

class NameForm(FlaskForm):
    name = StringField('Name', validators=[DataRequired()])
    submit = SubmitField('Submit')</pre></div><div class='content'></div><h2>Rendering the Form</h2>
<div class='content'><p>Update your route to use the form class:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IKZnJvbSBmb3JtcyBpbXBvcnQgTmFtZUZvcm0KCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQphcHAuY29uZmlnWydTRUNSRVRfS0VZJ10gPSAneW91cl9zZWNyZXRfa2V5JwoKQGFwcC5yb3V0ZSgnLycsIG1ldGhvZHM9WydHRVQnLCAnUE9TVCddKQpkZWYgaW5kZXgoKToKICAgIGZvcm0gPSBOYW1lRm9ybSgpCiAgICBpZiBmb3JtLnZhbGlkYXRlX29uX3N1Ym1pdCgpOgogICAgICAgIG5hbWUgPSBmb3JtLm5hbWUuZGF0YQogICAgICAgIHJldHVybiByZWRpcmVjdCh1cmxfZm9yKCdncmVldCcsIG5hbWU9bmFtZSkpCiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdmb3JtX3d0Zi5odG1sJywgZm9ybT1mb3JtKQoKQGFwcC5yb3V0ZSgnL2dyZWV0LzxuYW1lPicpCmRlZiBncmVldChuYW1lKToKICAgIHJldHVybiBmJ0hlbGxvLCB7bmFtZX0hJwoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4oZGVidWc9VHJ1ZSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask, render_template, redirect, url_for
from forms import NameForm

app = Flask(__name__)
app.config['SECRET_KEY'] = 'your_secret_key'

@app.route('/', methods=['GET', 'POST'])
def index():
    form = NameForm()
    if form.validate_on_submit():
        name = form.name.data
        return redirect(url_for('greet', name=name))
    return render_template('form_wtf.html', form=form)

@app.route('/greet/&lt;name&gt;')
def greet(name):
    return f'Hello, {name}!'

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Template for Flask-WTF Form</h2>
<div class='content'><p>Create a template to render the form:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSB0ZW1wbGF0ZXMvZm9ybV93dGYuaHRtbCAtLT4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+Rmxhc2stV1RGIEZvcm08L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGZvcm0gbWV0aG9kPSJwb3N0Ij4KICAgICAgICB7eyBmb3JtLmhpZGRlbl90YWcoKSB9fQogICAgICAgIDxwPgogICAgICAgICAgICB7eyBmb3JtLm5hbWUubGFiZWwgfX08YnI+CiAgICAgICAgICAgIHt7IGZvcm0ubmFtZShzaXplPTMyKSB9fTxicj4KICAgICAgICAgICAgeyUgZm9yIGVycm9yIGluIGZvcm0ubmFtZS5lcnJvcnMgJX0KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+W3t7IGVycm9yIH19XTwvc3Bhbj4KICAgICAgICAgICAgeyUgZW5kZm9yICV9CiAgICAgICAgPC9wPgogICAgICAgIDxwPnt7IGZvcm0uc3VibWl0KCkgfX08L3A+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- templates/form_wtf.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Flask-WTF Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method=&quot;post&quot;&gt;
        {{ form.hidden_tag() }}
        &lt;p&gt;
            {{ form.name.label }}&lt;br&gt;
            {{ form.name(size=32) }}&lt;br&gt;
            {% for error in form.name.errors %}
                &lt;span style=&quot;color: red;&quot;&gt;[{{ error }}]&lt;/span&gt;
            {% endfor %}
        &lt;/p&gt;
        &lt;p&gt;{{ form.submit() }}&lt;/p&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ul>
<li><code>form.hidden_tag()</code>: Generates hidden fields for CSRF protection.</li>
<li><code>form.name(size=32)</code>: Renders the input field with a specified size.</li>
<li><code>form.submit()</code>: Renders the submit button.</li>
</ul>
</div><h1>Advanced Form Handling</h1>
<h2>File Uploads</h2>
<div class='content'><p>Handling file uploads requires additional setup. Here's an example:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmb3Jtcy5weQpmcm9tIGZsYXNrX3d0Zi5maWxlIGltcG9ydCBGaWxlRmllbGQsIEZpbGVSZXF1aXJlZAoKY2xhc3MgVXBsb2FkRm9ybShGbGFza0Zvcm0pOgogICAgZmlsZSA9IEZpbGVGaWVsZCgnRmlsZScsIHZhbGlkYXRvcnM9W0ZpbGVSZXF1aXJlZCgpXSkKICAgIHN1Ym1pdCA9IFN1Ym1pdEZpZWxkKCdVcGxvYWQnKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># forms.py
from flask_wtf.file import FileField, FileRequired

class UploadForm(FlaskForm):
    file = FileField('File', validators=[FileRequired()])
    submit = SubmitField('Upload')</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZSwgcmVxdWVzdApmcm9tIGZvcm1zIGltcG9ydCBVcGxvYWRGb3JtCmltcG9ydCBvcwoKYXBwID0gRmxhc2soX19uYW1lX18pCmFwcC5jb25maWdbJ1NFQ1JFVF9LRVknXSA9ICd5b3VyX3NlY3JldF9rZXknCmFwcC5jb25maWdbJ1VQTE9BRF9GT0xERVInXSA9ICd1cGxvYWRzLycKCkBhcHAucm91dGUoJy91cGxvYWQnLCBtZXRob2RzPVsnR0VUJywgJ1BPU1QnXSkKZGVmIHVwbG9hZCgpOgogICAgZm9ybSA9IFVwbG9hZEZvcm0oKQogICAgaWYgZm9ybS52YWxpZGF0ZV9vbl9zdWJtaXQoKToKICAgICAgICBmaWxlID0gZm9ybS5maWxlLmRhdGEKICAgICAgICBmaWxlLnNhdmUob3MucGF0aC5qb2luKGFwcC5jb25maWdbJ1VQTE9BRF9GT0xERVInXSwgZmlsZS5maWxlbmFtZSkpCiAgICAgICAgcmV0dXJuICdGaWxlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseSEnCiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCd1cGxvYWQuaHRtbCcsIGZvcm09Zm9ybSkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGRlYnVnPVRydWUp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask, render_template, request
from forms import UploadForm
import os

app = Flask(__name__)
app.config['SECRET_KEY'] = 'your_secret_key'
app.config['UPLOAD_FOLDER'] = 'uploads/'

@app.route('/upload', methods=['GET', 'POST'])
def upload():
    form = UploadForm()
    if form.validate_on_submit():
        file = form.file.data
        file.save(os.path.join(app.config['UPLOAD_FOLDER'], file.filename))
        return 'File uploaded successfully!'
    return render_template('upload.html', form=form)

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Template for File Upload Form</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSB0ZW1wbGF0ZXMvdXBsb2FkLmh0bWwgLS0+CjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPHRpdGxlPkZpbGUgVXBsb2FkPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSI+CiAgICAgICAge3sgZm9ybS5oaWRkZW5fdGFnKCkgfX0KICAgICAgICA8cD4KICAgICAgICAgICAge3sgZm9ybS5maWxlLmxhYmVsIH19PGJyPgogICAgICAgICAgICB7eyBmb3JtLmZpbGUoKSB9fTxicj4KICAgICAgICAgICAgeyUgZm9yIGVycm9yIGluIGZvcm0uZmlsZS5lcnJvcnMgJX0KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+W3t7IGVycm9yIH19XTwvc3Bhbj4KICAgICAgICAgICAgeyUgZW5kZm9yICV9CiAgICAgICAgPC9wPgogICAgICAgIDxwPnt7IGZvcm0uc3VibWl0KCkgfX08L3A+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- templates/upload.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;File Upload&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
        {{ form.hidden_tag() }}
        &lt;p&gt;
            {{ form.file.label }}&lt;br&gt;
            {{ form.file() }}&lt;br&gt;
            {% for error in form.file.errors %}
                &lt;span style=&quot;color: red;&quot;&gt;[{{ error }}]&lt;/span&gt;
            {% endfor %}
        &lt;/p&gt;
        &lt;p&gt;{{ form.submit() }}&lt;/p&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Handling forms in Flask can range from simple HTML forms to more complex forms using Flask-WTF. Understanding both methods allows you to choose the best approach for your application's needs. Flask-WTF provides a more structured and secure way to handle forms, including features like CSRF protection and form validation.</p>
<p>By mastering form handling in Flask, you can create interactive and user-friendly web applications that effectively capture and process user input.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-url-for'>&#x25C4;Using URL_for for Dynamic URLs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Handling Forms in Flask</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-validation-wtforms'>Form Validation with WTForms &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
