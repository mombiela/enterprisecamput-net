<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handling HTTP Methods</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flask/02-02-handling-http-methods" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flask/02-02-handling-http-methods" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flask/02-02-handling-http-methods" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flask/02-02-handling-http-methods" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flask/02-02-handling-http-methods" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-routing-url-mapping' title="Routing and URL Mapping">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Handling HTTP Methods</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-rendering-templates' title="Rendering Templates with Jinja2">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to handle different HTTP methods in Flask. HTTP methods are essential for defining the actions that can be performed on a resource. The most common HTTP methods are GET, POST, PUT, DELETE, and PATCH. Understanding how to handle these methods in Flask is crucial for building robust web applications.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li>
<p><strong>HTTP Methods Overview</strong>:</p>
<ul>
<li><strong>GET</strong>: Retrieve data from the server.</li>
<li><strong>POST</strong>: Send data to the server to create a new resource.</li>
<li><strong>PUT</strong>: Update an existing resource on the server.</li>
<li><strong>DELETE</strong>: Remove a resource from the server.</li>
<li><strong>PATCH</strong>: Partially update a resource on the server.</li>
</ul>
</li>
<li>
<p><strong>Flask Route Decorators</strong>:</p>
<ul>
<li>Use <code>@app.route</code> to define routes and specify the allowed methods.</li>
</ul>
</li>
<li>
<p><strong>Accessing Request Data</strong>:</p>
<ul>
<li>Use <code>request</code> object to access data sent with the request.</li>
</ul>
</li>
</ol>
</div><h1>Practical Examples</h1>
<div class='content'></div><h2>Example 1: Handling GET and POST Requests</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKQGFwcC5yb3V0ZSgnL2RhdGEnLCBtZXRob2RzPVsnR0VUJywgJ1BPU1QnXSkKZGVmIGhhbmRsZV9kYXRhKCk6CiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnR0VUJzoKICAgICAgICByZXR1cm4ganNvbmlmeSh7Im1lc3NhZ2UiOiAiVGhpcyBpcyBhIEdFVCByZXF1ZXN0In0pCiAgICBlbGlmIHJlcXVlc3QubWV0aG9kID09ICdQT1NUJzoKICAgICAgICBkYXRhID0gcmVxdWVzdC5qc29uCiAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJtZXNzYWdlIjogIkRhdGEgcmVjZWl2ZWQiLCAiZGF0YSI6IGRhdGF9KQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4oZGVidWc9VHJ1ZSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/data', methods=['GET', 'POST'])
def handle_data():
    if request.method == 'GET':
        return jsonify({&quot;message&quot;: &quot;This is a GET request&quot;})
    elif request.method == 'POST':
        data = request.json
        return jsonify({&quot;message&quot;: &quot;Data received&quot;, &quot;data&quot;: data})

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The route <code>/data</code> can handle both GET and POST requests.</li>
<li>For GET requests, it returns a simple JSON message.</li>
<li>For POST requests, it retrieves the JSON data sent in the request body and returns it in the response.</li>
</ul>
</div><h2>Example 2: Handling PUT and DELETE Requests</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QGFwcC5yb3V0ZSgnL3Jlc291cmNlLzxpbnQ6aWQ+JywgbWV0aG9kcz1bJ1BVVCcsICdERUxFVEUnXSkKZGVmIG1vZGlmeV9yZXNvdXJjZShpZCk6CiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUFVUJzoKICAgICAgICBkYXRhID0gcmVxdWVzdC5qc29uCiAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJtZXNzYWdlIjogZiJSZXNvdXJjZSB7aWR9IHVwZGF0ZWQiLCAiZGF0YSI6IGRhdGF9KQogICAgZWxpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnREVMRVRFJzoKICAgICAgICByZXR1cm4ganNvbmlmeSh7Im1lc3NhZ2UiOiBmIlJlc291cmNlIHtpZH0gZGVsZXRlZCJ9KQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4oZGVidWc9VHJ1ZSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@app.route('/resource/&lt;int:id&gt;', methods=['PUT', 'DELETE'])
def modify_resource(id):
    if request.method == 'PUT':
        data = request.json
        return jsonify({&quot;message&quot;: f&quot;Resource {id} updated&quot;, &quot;data&quot;: data})
    elif request.method == 'DELETE':
        return jsonify({&quot;message&quot;: f&quot;Resource {id} deleted&quot;})

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The route <code>/resource/&lt;int:id&gt;</code> can handle both PUT and DELETE requests.</li>
<li>For PUT requests, it retrieves the JSON data sent in the request body and returns a message indicating the resource has been updated.</li>
<li>For DELETE requests, it returns a message indicating the resource has been deleted.</li>
</ul>
</div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Create a Flask Application to Handle Different HTTP Methods</h2>
<div class='content'><p><strong>Task</strong>:</p>
<ol>
<li>Create a Flask application with a route <code>/items</code> that handles GET and POST requests.</li>
<li>Create another route <code>/items/&lt;int:item_id&gt;</code> that handles PUT and DELETE requests.</li>
</ol>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKaXRlbXMgPSBbXQoKQGFwcC5yb3V0ZSgnL2l0ZW1zJywgbWV0aG9kcz1bJ0dFVCcsICdQT1NUJ10pCmRlZiBtYW5hZ2VfaXRlbXMoKToKICAgIGlmIHJlcXVlc3QubWV0aG9kID09ICdHRVQnOgogICAgICAgIHJldHVybiBqc29uaWZ5KGl0ZW1zKQogICAgZWxpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgaXRlbSA9IHJlcXVlc3QuanNvbgogICAgICAgIGl0ZW1zLmFwcGVuZChpdGVtKQogICAgICAgIHJldHVybiBqc29uaWZ5KHsibWVzc2FnZSI6ICJJdGVtIGFkZGVkIiwgIml0ZW0iOiBpdGVtfSksIDIwMQoKQGFwcC5yb3V0ZSgnL2l0ZW1zLzxpbnQ6aXRlbV9pZD4nLCBtZXRob2RzPVsnUFVUJywgJ0RFTEVURSddKQpkZWYgbW9kaWZ5X2l0ZW0oaXRlbV9pZCk6CiAgICBpZiBpdGVtX2lkID49IGxlbihpdGVtcykgb3IgaXRlbV9pZCA8IDA6CiAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJtZXNzYWdlIjogIkl0ZW0gbm90IGZvdW5kIn0pLCA0MDQKCiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUFVUJzoKICAgICAgICBpdGVtID0gcmVxdWVzdC5qc29uCiAgICAgICAgaXRlbXNbaXRlbV9pZF0gPSBpdGVtCiAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJtZXNzYWdlIjogIkl0ZW0gdXBkYXRlZCIsICJpdGVtIjogaXRlbX0pCiAgICBlbGlmIHJlcXVlc3QubWV0aG9kID09ICdERUxFVEUnOgogICAgICAgIGl0ZW1zLnBvcChpdGVtX2lkKQogICAgICAgIHJldHVybiBqc29uaWZ5KHsibWVzc2FnZSI6ICJJdGVtIGRlbGV0ZWQifSkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGRlYnVnPVRydWUp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, request, jsonify

app = Flask(__name__)

items = []

@app.route('/items', methods=['GET', 'POST'])
def manage_items():
    if request.method == 'GET':
        return jsonify(items)
    elif request.method == 'POST':
        item = request.json
        items.append(item)
        return jsonify({&quot;message&quot;: &quot;Item added&quot;, &quot;item&quot;: item}), 201

@app.route('/items/&lt;int:item_id&gt;', methods=['PUT', 'DELETE'])
def modify_item(item_id):
    if item_id &gt;= len(items) or item_id &lt; 0:
        return jsonify({&quot;message&quot;: &quot;Item not found&quot;}), 404

    if request.method == 'PUT':
        item = request.json
        items[item_id] = item
        return jsonify({&quot;message&quot;: &quot;Item updated&quot;, &quot;item&quot;: item})
    elif request.method == 'DELETE':
        items.pop(item_id)
        return jsonify({&quot;message&quot;: &quot;Item deleted&quot;})

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'><p><strong>Explanation</strong>:</p>
<ul>
<li>The <code>/items</code> route handles GET requests to retrieve all items and POST requests to add a new item.</li>
<li>The <code>/items/&lt;int:item_id&gt;</code> route handles PUT requests to update an item and DELETE requests to remove an item.</li>
</ul>
</div><h1>Common Mistakes and Tips</h1>
<div class='content'><ul>
<li>
<p><strong>Common Mistake</strong>: Not specifying the allowed methods in the route decorator.</p>
<ul>
<li><strong>Tip</strong>: Always specify the methods parameter in the <code>@app.route</code> decorator to avoid unexpected behavior.</li>
</ul>
</li>
<li>
<p><strong>Common Mistake</strong>: Not handling different HTTP methods properly within a single route.</p>
<ul>
<li><strong>Tip</strong>: Use <code>request.method</code> to differentiate between the methods and handle them accordingly.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we learned how to handle different HTTP methods in Flask. We covered the basics of GET, POST, PUT, and DELETE methods, and how to use the <code>@app.route</code> decorator to define routes that handle these methods. We also provided practical examples and exercises to reinforce the concepts. Understanding how to handle HTTP methods is fundamental for building RESTful APIs and web applications with Flask.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-routing-url-mapping' title="Routing and URL Mapping">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-rendering-templates' title="Rendering Templates with Jinja2">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
