<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Practices for Flask Development</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flask/09-04-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flask/09-04-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flask/09-04-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/flask/09-04-best-practices" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/flask/09-04-best-practices" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-03-test-coverage' title="Test Coverage">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Best Practices for Flask Development</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-01-popular-extensions' title="Popular Flask Extensions">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will cover some of the best practices for developing applications with Flask. Following these guidelines will help you write clean, maintainable, and scalable code.</p>
</div><h1><ol>
<li>Project Structure</li>
</ol>
</h1>
<div class='content'><p>A well-organized project structure is crucial for maintaining and scaling your application. Here is a recommended structure:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXlfZmxhc2tfYXBwLwrilIIK4pSc4pSA4pSAIGFwcC8K4pSCICAg4pSc4pSA4pSAIF9faW5pdF9fLnB5CuKUgiAgIOKUnOKUgOKUgCBtb2RlbHMucHkK4pSCICAg4pSc4pSA4pSAIHZpZXdzLnB5CuKUgiAgIOKUnOKUgOKUgCBmb3Jtcy5weQrilIIgICDilJzilIDilIAgdGVtcGxhdGVzLwrilIIgICDilJTilIDilIAgc3RhdGljLwrilIIK4pSc4pSA4pSAIG1pZ3JhdGlvbnMvCuKUggrilJzilIDilIAgdGVzdHMvCuKUgiAgIOKUnOKUgOKUgCBfX2luaXRfXy5weQrilIIgICDilJzilIDilIAgdGVzdF9tb2RlbHMucHkK4pSCICAg4pSc4pSA4pSAIHRlc3Rfdmlld3MucHkK4pSCICAg4pSU4pSA4pSAIHRlc3RfZm9ybXMucHkK4pSCCuKUnOKUgOKUgCBjb25maWcucHkK4pSc4pSA4pSAIHJlcXVpcmVtZW50cy50eHQK4pSc4pSA4pSAIHJ1bi5weQrilJTilIDilIAgLmVudg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my_flask_app/
│
├── app/
│   ├── __init__.py
│   ├── models.py
│   ├── views.py
│   ├── forms.py
│   ├── templates/
│   └── static/
│
├── migrations/
│
├── tests/
│   ├── __init__.py
│   ├── test_models.py
│   ├── test_views.py
│   └── test_forms.py
│
├── config.py
├── requirements.txt
├── run.py
└── .env</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>app/</strong>: Contains the main application code.
<ul>
<li><strong><strong>init</strong>.py</strong>: Initializes the Flask app and brings together different components.</li>
<li><strong>models.py</strong>: Defines the database models.</li>
<li><strong>views.py</strong>: Contains the route handlers.</li>
<li><strong>forms.py</strong>: Contains form classes.</li>
<li><strong>templates/</strong>: Stores HTML templates.</li>
<li><strong>static/</strong>: Stores static files like CSS, JavaScript, and images.</li>
</ul>
</li>
<li><strong>migrations/</strong>: Contains database migration files.</li>
<li><strong>tests/</strong>: Contains unit and integration tests.</li>
<li><strong>config.py</strong>: Configuration settings for different environments.</li>
<li><strong>requirements.txt</strong>: Lists the dependencies.</li>
<li><strong>run.py</strong>: The entry point to run the application.</li>
<li><strong>.env</strong>: Environment variables.</li>
</ul>
</div><h1><ol start="2">
<li>Configuration Management</li>
</ol>
</h1>
<div class='content'><p>Use a configuration file to manage different settings for development, testing, and production environments. Here is an example of a <code>config.py</code> file:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9zCgpjbGFzcyBDb25maWc6CiAgICBTRUNSRVRfS0VZID0gb3MuZW52aXJvbi5nZXQoJ1NFQ1JFVF9LRVknKSBvciAnYV9oYXJkX3RvX2d1ZXNzX3N0cmluZycKICAgIFNRTEFMQ0hFTVlfREFUQUJBU0VfVVJJID0gb3MuZW52aXJvbi5nZXQoJ0RBVEFCQVNFX1VSTCcpIG9yICdzcWxpdGU6Ly8vYXBwLmRiJwogICAgU1FMQUxDSEVNWV9UUkFDS19NT0RJRklDQVRJT05TID0gRmFsc2UKCmNsYXNzIERldmVsb3BtZW50Q29uZmlnKENvbmZpZyk6CiAgICBERUJVRyA9IFRydWUKCmNsYXNzIFRlc3RpbmdDb25maWcoQ29uZmlnKToKICAgIFRFU1RJTkcgPSBUcnVlCiAgICBTUUxBTENIRU1ZX0RBVEFCQVNFX1VSSSA9ICdzcWxpdGU6Ly8vdGVzdC5kYicKCmNsYXNzIFByb2R1Y3Rpb25Db25maWcoQ29uZmlnKToKICAgIERFQlVHID0gRmFsc2U="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import os

class Config:
    SECRET_KEY = os.environ.get('SECRET_KEY') or 'a_hard_to_guess_string'
    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or 'sqlite:///app.db'
    SQLALCHEMY_TRACK_MODIFICATIONS = False

class DevelopmentConfig(Config):
    DEBUG = True

class TestingConfig(Config):
    TESTING = True
    SQLALCHEMY_DATABASE_URI = 'sqlite:///test.db'

class ProductionConfig(Config):
    DEBUG = False</pre></div><div class='content'></div><h1><ol start="3">
<li>Use Blueprints</li>
</ol>
</h1>
<div class='content'><p>Blueprints help you organize your application into smaller, reusable components. Here is an example of how to use blueprints:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAvX19pbml0X18ucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2sKZnJvbSBhcHAudmlld3MgaW1wb3J0IG1haW4KCmRlZiBjcmVhdGVfYXBwKCk6CiAgICBhcHAgPSBGbGFzayhfX25hbWVfXykKICAgIGFwcC5jb25maWcuZnJvbV9vYmplY3QoJ2NvbmZpZy5EZXZlbG9wbWVudENvbmZpZycpCiAgICBhcHAucmVnaXN0ZXJfYmx1ZXByaW50KG1haW4pCiAgICByZXR1cm4gYXBwCgojIGFwcC92aWV3cy5weQpmcm9tIGZsYXNrIGltcG9ydCBCbHVlcHJpbnQsIHJlbmRlcl90ZW1wbGF0ZQoKbWFpbiA9IEJsdWVwcmludCgnbWFpbicsIF9fbmFtZV9fKQoKQG1haW4ucm91dGUoJy8nKQpkZWYgaW5kZXgoKToKICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoJ2luZGV4Lmh0bWwnKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app/__init__.py
from flask import Flask
from app.views import main

def create_app():
    app = Flask(__name__)
    app.config.from_object('config.DevelopmentConfig')
    app.register_blueprint(main)
    return app

# app/views.py
from flask import Blueprint, render_template

main = Blueprint('main', __name__)

@main.route('/')
def index():
    return render_template('index.html')</pre></div><div class='content'></div><h1><ol start="4">
<li>Error Handling</li>
</ol>
</h1>
<div class='content'><p>Implement custom error handlers to provide better user experience and debugging information:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAvX19pbml0X18ucHkKZGVmIGNyZWF0ZV9hcHAoKToKICAgIGFwcCA9IEZsYXNrKF9fbmFtZV9fKQogICAgYXBwLmNvbmZpZy5mcm9tX29iamVjdCgnY29uZmlnLkRldmVsb3BtZW50Q29uZmlnJykKICAgIGFwcC5yZWdpc3Rlcl9ibHVlcHJpbnQobWFpbikKCiAgICBAYXBwLmVycm9yaGFuZGxlcig0MDQpCiAgICBkZWYgbm90X2ZvdW5kX2Vycm9yKGVycm9yKToKICAgICAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCc0MDQuaHRtbCcpLCA0MDQKCiAgICBAYXBwLmVycm9yaGFuZGxlcig1MDApCiAgICBkZWYgaW50ZXJuYWxfZXJyb3IoZXJyb3IpOgogICAgICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoJzUwMC5odG1sJyksIDUwMAoKICAgIHJldHVybiBhcHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app/__init__.py
def create_app():
    app = Flask(__name__)
    app.config.from_object('config.DevelopmentConfig')
    app.register_blueprint(main)

    @app.errorhandler(404)
    def not_found_error(error):
        return render_template('404.html'), 404

    @app.errorhandler(500)
    def internal_error(error):
        return render_template('500.html'), 500

    return app</pre></div><div class='content'></div><h1><ol start="5">
<li>Logging</li>
</ol>
</h1>
<div class='content'><p>Set up logging to capture errors and other important events:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGxvZ2dpbmcKZnJvbSBsb2dnaW5nLmhhbmRsZXJzIGltcG9ydCBSb3RhdGluZ0ZpbGVIYW5kbGVyCgpkZWYgY3JlYXRlX2FwcCgpOgogICAgYXBwID0gRmxhc2soX19uYW1lX18pCiAgICBhcHAuY29uZmlnLmZyb21fb2JqZWN0KCdjb25maWcuRGV2ZWxvcG1lbnRDb25maWcnKQogICAgYXBwLnJlZ2lzdGVyX2JsdWVwcmludChtYWluKQoKICAgIGlmIG5vdCBhcHAuZGVidWc6CiAgICAgICAgZmlsZV9oYW5kbGVyID0gUm90YXRpbmdGaWxlSGFuZGxlcignbG9ncy9hcHAubG9nJywgbWF4Qnl0ZXM9MTAyNDAsIGJhY2t1cENvdW50PTEwKQogICAgICAgIGZpbGVfaGFuZGxlci5zZXRGb3JtYXR0ZXIobG9nZ2luZy5Gb3JtYXR0ZXIoCiAgICAgICAgICAgICclKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzOiAlKG1lc3NhZ2UpcyBbaW4gJShwYXRobmFtZSlzOiUobGluZW5vKWRdJwogICAgICAgICkpCiAgICAgICAgZmlsZV9oYW5kbGVyLnNldExldmVsKGxvZ2dpbmcuSU5GTykKICAgICAgICBhcHAubG9nZ2VyLmFkZEhhbmRsZXIoZmlsZV9oYW5kbGVyKQoKICAgIHJldHVybiBhcHA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import logging
from logging.handlers import RotatingFileHandler

def create_app():
    app = Flask(__name__)
    app.config.from_object('config.DevelopmentConfig')
    app.register_blueprint(main)

    if not app.debug:
        file_handler = RotatingFileHandler('logs/app.log', maxBytes=10240, backupCount=10)
        file_handler.setFormatter(logging.Formatter(
            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'
        ))
        file_handler.setLevel(logging.INFO)
        app.logger.addHandler(file_handler)

    return app</pre></div><div class='content'></div><h1><ol start="6">
<li>Security Best Practices</li>
</ol>
</h1>
<div class='content'><ul>
<li><strong>Use HTTPS</strong>: Ensure that your application uses HTTPS to encrypt data in transit.</li>
<li><strong>Input Validation</strong>: Always validate and sanitize user inputs to prevent SQL injection and XSS attacks.</li>
<li><strong>CSRF Protection</strong>: Use Flask-WTF to protect against Cross-Site Request Forgery (CSRF) attacks.</li>
<li><strong>Password Hashing</strong>: Use libraries like <code>werkzeug.security</code> to hash passwords securely.</li>
</ul>
</div><h1><ol start="7">
<li>Testing</li>
</ol>
</h1>
<div class='content'><p>Write unit and integration tests to ensure your application works as expected:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB0ZXN0cy90ZXN0X3ZpZXdzLnB5CmltcG9ydCB1bml0dGVzdApmcm9tIGFwcCBpbXBvcnQgY3JlYXRlX2FwcAoKY2xhc3MgVmlld1Rlc3RzKHVuaXR0ZXN0LlRlc3RDYXNlKToKICAgIGRlZiBzZXRVcChzZWxmKToKICAgICAgICBzZWxmLmFwcCA9IGNyZWF0ZV9hcHAoKQogICAgICAgIHNlbGYuYXBwLmNvbmZpZ1snVEVTVElORyddID0gVHJ1ZQogICAgICAgIHNlbGYuY2xpZW50ID0gc2VsZi5hcHAudGVzdF9jbGllbnQoKQoKICAgIGRlZiB0ZXN0X2luZGV4KHNlbGYpOgogICAgICAgIHJlc3BvbnNlID0gc2VsZi5jbGllbnQuZ2V0KCcvJykKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJlc3BvbnNlLnN0YXR1c19jb2RlLCAyMDApCiAgICAgICAgc2VsZi5hc3NlcnRJbihiJ1dlbGNvbWUnLCByZXNwb25zZS5kYXRhKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHVuaXR0ZXN0Lm1haW4oKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># tests/test_views.py
import unittest
from app import create_app

class ViewTests(unittest.TestCase):
    def setUp(self):
        self.app = create_app()
        self.app.config['TESTING'] = True
        self.client = self.app.test_client()

    def test_index(self):
        response = self.client.get('/')
        self.assertEqual(response.status_code, 200)
        self.assertIn(b'Welcome', response.data)

if __name__ == '__main__':
    unittest.main()</pre></div><div class='content'></div><h1><ol start="8">
<li>Documentation</li>
</ol>
</h1>
<div class='content'><p>Document your code and APIs using tools like Sphinx or Swagger. Good documentation helps other developers understand and contribute to your project.</p>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>By following these best practices, you can create robust, maintainable, and scalable Flask applications. These guidelines will help you avoid common pitfalls and ensure that your codebase remains clean and efficient as your project grows.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-03-test-coverage' title="Test Coverage">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-01-popular-extensions' title="Popular Flask Extensions">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
