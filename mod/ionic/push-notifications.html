<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Push Notifications in Ionic</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ionic/push-notifications" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ionic/push-notifications" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ionic/push-notifications" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ionic/push-notifications" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ionic/push-notifications" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-capacitor'>&#x25C4;Working with Capacitor</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Push Notifications in Ionic</a>
	</div>
	<div class='col-4 text-end'>
					<a href='geolocation-and-maps'>Geolocation and Maps &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Push notifications are a powerful tool for engaging users by delivering timely and relevant information directly to their devices. In this topic, we will cover the essentials of implementing push notifications in an Ionic application, from beginner to advanced levels.</p>
</div><h1>Introduction to Push Notifications</h1>
<div class='content'><ul>
<li><strong>Definition</strong>: Push notifications are messages sent from a server to a user's device, even when the app is not actively running.</li>
<li><strong>Use Cases</strong>: Alerts, reminders, promotions, updates, etc.</li>
<li><strong>Platforms</strong>: Android, iOS, and Web.</li>
</ul>
</div><h1>Setting Up Push Notifications in Ionic</h1>
<div class='content'></div><h2>Prerequisites</h2>
<div class='content'><ul>
<li><strong>Ionic CLI</strong>: Ensure you have the latest version of the Ionic CLI installed.</li>
<li><strong>Firebase Account</strong>: Firebase Cloud Messaging (FCM) will be used for sending notifications.</li>
<li><strong>Capacitor or Cordova</strong>: Ionic supports both Capacitor and Cordova for native functionality.</li>
</ul>
</div><h2>Installing Necessary Plugins</h2>
<div class='content'><ol>
<li>
<p><strong>Capacitor</strong>:</p>
<pre><code class="language-bash">npm install @capacitor/push-notifications
npx cap sync
</code></pre>
</li>
<li>
<p><strong>Cordova</strong>:</p>
<pre><code class="language-bash">ionic cordova plugin add phonegap-plugin-push
npm install @ionic-native/push
</code></pre>
</li>
</ol>
</div><h2>Configuring Firebase</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Firebase Project</strong>:</p>
<ul>
<li>Go to the Firebase Console.</li>
<li>Create a new project or use an existing one.</li>
</ul>
</li>
<li>
<p><strong>Add Your App to Firebase</strong>:</p>
<ul>
<li>Register your app (iOS and Android).</li>
<li>Download the <code>google-services.json</code> (for Android) and <code>GoogleService-Info.plist</code> (for iOS) files and place them in the appropriate directories.</li>
</ul>
</li>
</ol>
</div><h2>Initializing Push Notifications</h2>
<div class='content'><h4>Capacitor Example</h4>
<ol>
<li>
<p><strong>Import and Initialize</strong>:</p>
<pre><code class="language-typescript">import { PushNotifications } from '@capacitor/push-notifications';

PushNotifications.requestPermissions().then(result =&gt; {
  if (result.receive === 'granted') {
    PushNotifications.register();
  } else {
    // Show some error
  }
});
</code></pre>
</li>
<li>
<p><strong>Handling Notifications</strong>:</p>
<pre><code class="language-typescript">PushNotifications.addListener('pushNotificationReceived', (notification) =&gt; {
  console.log('Notification received: ', notification);
});

PushNotifications.addListener('pushNotificationActionPerformed', (notification) =&gt; {
  console.log('Notification action performed: ', notification);
});
</code></pre>
</li>
</ol>
<h4>Cordova Example</h4>
<ol>
<li><strong>Import and Initialize</strong>:
<pre><code class="language-typescript">import { Push, PushObject, PushOptions } from '@ionic-native/push/ngx';

constructor(private push: Push) {}

initializePushNotifications() {
  const options: PushOptions = {
    android: {},
    ios: {
      alert: 'true',
      badge: true,
      sound: 'false'
    }
  };

  const pushObject: PushObject = this.push.init(options);

  pushObject.on('notification').subscribe((notification: any) =&gt; {
    console.log('Received a notification', notification);
  });

  pushObject.on('registration').subscribe((registration: any) =&gt; {
    console.log('Device registered', registration);
  });

  pushObject.on('error').subscribe(error =&gt; console.error('Error with Push plugin', error));
}
</code></pre>
</li>
</ol>
</div><h1>Advanced Topics</h1>
<div class='content'></div><h2>Customizing Notifications</h2>
<div class='content'><ul>
<li><strong>Payload Structure</strong>: Customize the payload to include additional data.
<pre><code class="language-json">{
  &quot;to&quot;: &quot;device_token&quot;,
  &quot;notification&quot;: {
    &quot;title&quot;: &quot;New Message&quot;,
    &quot;body&quot;: &quot;You have received a new message.&quot;,
    &quot;icon&quot;: &quot;myicon&quot;
  },
  &quot;data&quot;: {
    &quot;additionalData&quot;: &quot;value&quot;
  }
}
</code></pre>
</li>
</ul>
</div><h2>Handling Background Notifications</h2>
<div class='content'><ul>
<li>
<p><strong>Capacitor</strong>:</p>
<pre><code class="language-typescript">PushNotifications.addListener('pushNotificationReceived', (notification) =&gt; {
  if (notification.foreground) {
    // Handle foreground notification
  } else {
    // Handle background notification
  }
});
</code></pre>
</li>
<li>
<p><strong>Cordova</strong>:</p>
<pre><code class="language-typescript">pushObject.on('notification').subscribe((notification: any) =&gt; {
  if (notification.additionalData.foreground) {
    // Handle foreground notification
  } else {
    // Handle background notification
  }
});
</code></pre>
</li>
</ul>
</div><h2>Scheduling Notifications</h2>
<div class='content'><ul>
<li><strong>Local Notifications</strong>: Use the <code>Local Notifications</code> plugin to schedule notifications.
<pre><code class="language-typescript">import { LocalNotifications } from '@capacitor/local-notifications';

LocalNotifications.schedule({
  notifications: [
    {
      title: &quot;Scheduled Notification&quot;,
      body: &quot;This is a scheduled notification.&quot;,
      id: 1,
      schedule: { at: new Date(Date.now() + 1000 * 60 * 5) }, // 5 minutes from now
      sound: null,
      attachments: null,
      actionTypeId: &quot;&quot;,
      extra: null
    }
  ]
});
</code></pre>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Push notifications are a crucial feature for modern mobile applications, enabling real-time communication with users. By following this guide, you should be able to set up and customize push notifications in your Ionic application, handle them in both foreground and background states, and even schedule local notifications. As you advance, consider exploring more complex use cases and integrating analytics to measure the effectiveness of your notifications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-capacitor'>&#x25C4;Working with Capacitor</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Push Notifications in Ionic</a>
	</div>
	<div class='col-4 text-end'>
					<a href='geolocation-and-maps'>Geolocation and Maps &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
