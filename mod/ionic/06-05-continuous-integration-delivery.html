<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuous Integration and Delivery</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ionic/06-05-continuous-integration-delivery" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ionic/06-05-continuous-integration-delivery" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ionic/06-05-continuous-integration-delivery" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ionic/06-05-continuous-integration-delivery" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ionic/06-05-continuous-integration-delivery" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-deploying-app-stores' title="Deploying to App Stores">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Continuous Integration and Delivery</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-performance-optimization' title="Performance Optimization">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Continuous Integration (CI) and Continuous Delivery (CD) are essential practices in modern software development. They help ensure that your code is always in a deployable state, and they automate the process of deploying your app to production. In this section, we will cover the following topics:</p>
<ol>
<li><strong>Introduction to CI/CD</strong></li>
<li><strong>Setting Up a CI/CD Pipeline</strong></li>
<li><strong>Using GitHub Actions for CI/CD</strong></li>
<li><strong>Automating Tests in CI/CD</strong></li>
<li><strong>Deploying to App Stores with CI/CD</strong></li>
</ol>
</div><h1><ol>
<li>Introduction to CI/CD</li>
</ol>
</h1>
<div class='content'></div><h2><p>What is Continuous Integration (CI)?</p>
</h2>
<div class='content'><p>Continuous Integration is a development practice where developers integrate code into a shared repository frequently. Each integration is verified by an automated build and automated tests to detect integration errors as quickly as possible.</p>
</div><h2><p>What is Continuous Delivery (CD)?</p>
</h2>
<div class='content'><p>Continuous Delivery is a software development practice where code changes are automatically prepared for a release to production. It ensures that the software can be reliably released at any time.</p>
</div><h2><p>Benefits of CI/CD</p>
</h2>
<div class='content'><ul>
<li><strong>Early Detection of Errors:</strong> Automated tests run on every commit, catching errors early.</li>
<li><strong>Faster Release Cycles:</strong> Automating the build and deployment process speeds up the release cycle.</li>
<li><strong>Improved Collaboration:</strong> CI/CD encourages frequent code integration, improving collaboration among team members.</li>
</ul>
</div><h1><ol start="2">
<li>Setting Up a CI/CD Pipeline</li>
</ol>
</h1>
<div class='content'><p>A CI/CD pipeline automates the process of building, testing, and deploying your application. Here’s a basic outline of the steps involved:</p>
<ol>
<li><strong>Code Commit:</strong> Developers commit code to a version control system (e.g., GitHub).</li>
<li><strong>Build:</strong> The CI server builds the application.</li>
<li><strong>Test:</strong> Automated tests are run to ensure the code is working as expected.</li>
<li><strong>Deploy:</strong> The application is deployed to a staging or production environment.</li>
</ol>
</div><h1><ol start="3">
<li>Using GitHub Actions for CI/CD</li>
</ol>
</h1>
<div class='content'><p>GitHub Actions is a powerful tool for automating workflows directly in your GitHub repository. Here’s how to set up a basic CI/CD pipeline using GitHub Actions.</p>
</div><h2><p>Step-by-Step Guide</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a GitHub Repository:</strong></p>
<ul>
<li>Create a new repository on GitHub or use an existing one.</li>
</ul>
</li>
<li>
<p><strong>Add a Workflow File:</strong></p>
<ul>
<li>In your repository, create a <code>.github/workflows</code> directory.</li>
<li>Inside this directory, create a file named <code>ci-cd.yml</code>.</li>
</ul>
</li>
<li>
<p><strong>Define the Workflow:</strong></p>
<ul>
<li>Add the following content to <code>ci-cd.yml</code>:</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSBuYW1lOiBDaGVja291dCBjb2RlCiAgICAgIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKCiAgICAtIG5hbWU6IFNldCB1cCBOb2RlLmpzCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtbm9kZUB2MgogICAgICB3aXRoOgogICAgICAgIG5vZGUtdmVyc2lvbjogJzE0JwoKICAgIC0gbmFtZTogSW5zdGFsbCBkZXBlbmRlbmNpZXMKICAgICAgcnVuOiBucG0gaW5zdGFsbAoKICAgIC0gbmFtZTogQnVpbGQgdGhlIGFwcAogICAgICBydW46IG5wbSBydW4gYnVpbGQKCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBydW46IG5wbSB0ZXN0CgogICAgLSBuYW1lOiBEZXBsb3kgdG8gRmlyZWJhc2UKICAgICAgZW52OgogICAgICAgIEZJUkVCQVNFX1RPS0VOOiAke3sgc2VjcmV0cy5GSVJFQkFTRV9UT0tFTiB9fQogICAgICBydW46IHwKICAgICAgICBucG0gaW5zdGFsbCAtZyBmaXJlYmFzZS10b29scwogICAgICAgIGZpcmViYXNlIGRlcGxveSAtLW9ubHkgaG9zdGluZw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'

    - name: Install dependencies
      run: npm install

    - name: Build the app
      run: npm run build

    - name: Run tests
      run: npm test

    - name: Deploy to Firebase
      env:
        FIREBASE_TOKEN: ${{ secrets.FIREBASE_TOKEN }}
      run: |
        npm install -g firebase-tools
        firebase deploy --only hosting</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>name:</strong> The name of the workflow.</li>
<li><strong>on:</strong> Specifies the event that triggers the workflow (e.g., push to the main branch).</li>
<li><strong>jobs:</strong> Defines the jobs to be run.
<ul>
<li><strong>build:</strong> The name of the job.</li>
<li><strong>runs-on:</strong> Specifies the environment to run the job (e.g., <code>ubuntu-latest</code>).</li>
<li><strong>steps:</strong> The steps to be executed in the job.
<ul>
<li><strong>Checkout code:</strong> Checks out the repository code.</li>
<li><strong>Set up Node.js:</strong> Sets up the Node.js environment.</li>
<li><strong>Install dependencies:</strong> Installs the project dependencies.</li>
<li><strong>Build the app:</strong> Builds the Ionic app.</li>
<li><strong>Run tests:</strong> Runs the automated tests.</li>
<li><strong>Deploy to Firebase:</strong> Deploys the app to Firebase Hosting.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1><ol start="4">
<li>Automating Tests in CI/CD</li>
</ol>
</h1>
<div class='content'><p>Automated tests are a crucial part of the CI/CD pipeline. They ensure that your code is working as expected before it is deployed. Here’s how to add automated tests to your pipeline:</p>
</div><h2><p>Example Test Script</p>
</h2>
<div class='content'><p>Add the following test script to your <code>package.json</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("InNjcmlwdHMiOiB7CiAgInRlc3QiOiAibmcgdGVzdCAtLXdhdGNoPWZhbHNlIC0tYnJvd3NlcnM9Q2hyb21lSGVhZGxlc3MiCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&quot;scripts&quot;: {
  &quot;test&quot;: &quot;ng test --watch=false --browsers=ChromeHeadless&quot;
}</pre></div><div class='content'><p>This script runs the tests in a headless Chrome browser, which is suitable for CI environments.</p>
</div><h1><ol start="5">
<li>Deploying to App Stores with CI/CD</li>
</ol>
</h1>
<div class='content'><p>Deploying your app to app stores can also be automated using CI/CD. Here’s a basic outline of the steps involved:</p>
<ol>
<li><strong>Build the App:</strong> Build the app for production.</li>
<li><strong>Sign the App:</strong> Sign the app with the appropriate certificates.</li>
<li><strong>Upload to App Stores:</strong> Use tools like <code>fastlane</code> to upload the app to the App Store and Google Play.</li>
</ol>
</div><h2><p>Example Fastlane Configuration</p>
</h2>
<div class='content'><p>Create a <code>Fastfile</code> in your project’s <code>fastlane</code> directory with the following content:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGxhdGZvcm0gOmlvcyBkbwogIGRlc2MgIkRlcGxveSB0byBBcHAgU3RvcmUiCiAgbGFuZSA6ZGVwbG95IGRvCiAgICBidWlsZF9hcHAoc2NoZW1lOiAiWW91ckFwcFNjaGVtZSIpCiAgICB1cGxvYWRfdG9fYXBwX3N0b3JlCiAgZW5kCmVuZAoKcGxhdGZvcm0gOmFuZHJvaWQgZG8KICBkZXNjICJEZXBsb3kgdG8gR29vZ2xlIFBsYXkiCiAgbGFuZSA6ZGVwbG95IGRvCiAgICBncmFkbGUodGFzazogImFzc2VtYmxlUmVsZWFzZSIpCiAgICB1cGxvYWRfdG9fcGxheV9zdG9yZQogIGVuZAplbmQ="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>platform :ios do
  desc &quot;Deploy to App Store&quot;
  lane :deploy do
    build_app(scheme: &quot;YourAppScheme&quot;)
    upload_to_app_store
  end
end

platform :android do
  desc &quot;Deploy to Google Play&quot;
  lane :deploy do
    gradle(task: &quot;assembleRelease&quot;)
    upload_to_play_store
  end
end</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>platform:</strong> Specifies the platform (iOS or Android).</li>
<li><strong>desc:</strong> A description of the lane.</li>
<li><strong>lane:</strong> Defines a lane, which is a sequence of actions.</li>
<li><strong>build_app:</strong> Builds the iOS app.</li>
<li><strong>upload_to_app_store:</strong> Uploads the iOS app to the App Store.</li>
<li><strong>gradle:</strong> Builds the Android app.</li>
<li><strong>upload_to_play_store:</strong> Uploads the Android app to Google Play.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we covered the basics of Continuous Integration and Delivery, including setting up a CI/CD pipeline, using GitHub Actions, automating tests, and deploying to app stores. By implementing CI/CD, you can ensure that your Ionic app is always in a deployable state and that the deployment process is automated and reliable. This will help you deliver high-quality software faster and more efficiently.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-deploying-app-stores' title="Deploying to App Stores">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-01-performance-optimization' title="Performance Optimization">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
