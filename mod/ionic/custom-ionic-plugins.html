<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Ionic Plugins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ionic/custom-ionic-plugins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ionic/custom-ionic-plugins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ionic/custom-ionic-plugins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/ionic/custom-ionic-plugins" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/ionic/custom-ionic-plugins" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='advanced-animations-and-transitions'>&#x25C4;Advanced Animations and Transitions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Ionic Plugins</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
<div class='content'><p>Creating custom plugins in Ionic allows developers to extend the functionality of their applications by integrating native device features or third-party libraries that are not available in the standard Ionic/Cordova plugin ecosystem. This topic will guide you through the process of creating, integrating, and using custom Ionic plugins.</p>
</div><h1>Introduction to Custom Ionic Plugins</h1>
<div class='content'><ul>
<li>
<p><strong>What are Ionic Plugins?</strong></p>
<ul>
<li>Plugins are add-ons that provide access to native device features such as the camera, GPS, and file system.</li>
<li>Ionic plugins are typically built on top of Cordova plugins.</li>
</ul>
</li>
<li>
<p><strong>Why Create Custom Plugins?</strong></p>
<ul>
<li>To access specific native functionalities not covered by existing plugins.</li>
<li>To integrate third-party native libraries.</li>
<li>To optimize performance for specific use cases.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up the Environment</h1>
<div class='content'><p>Before creating a custom plugin, ensure you have the following tools installed:</p>
<ul>
<li>Node.js and npm</li>
<li>Ionic CLI</li>
<li>Cordova CLI</li>
</ul>
</div><h2>Steps to Install Required Tools</h2>
<div class='content'><ol>
<li>
<p><strong>Install Node.js and npm:</strong></p>
<pre><code class="language-bash">sudo apt-get install nodejs
sudo apt-get install npm
</code></pre>
</li>
<li>
<p><strong>Install Ionic CLI:</strong></p>
<pre><code class="language-bash">npm install -g @ionic/cli
</code></pre>
</li>
<li>
<p><strong>Install Cordova CLI:</strong></p>
<pre><code class="language-bash">npm install -g cordova
</code></pre>
</li>
</ol>
</div><h1>Creating a Custom Plugin</h1>
<div class='content'></div><h2>Step-by-Step Guide</h2>
<div class='content'><ol>
<li>
<p><strong>Create a New Plugin Directory:</strong></p>
<pre><code class="language-bash">mkdir my-custom-plugin
cd my-custom-plugin
</code></pre>
</li>
<li>
<p><strong>Initialize the Plugin:</strong></p>
<pre><code class="language-bash">cordova create plugin com.example.myplugin MyPlugin
cd plugin
cordova platform add android
cordova platform add ios
</code></pre>
</li>
<li>
<p><strong>Define Plugin Metadata:</strong></p>
<ul>
<li>Edit <code>plugin.xml</code> to define the plugin's metadata, including its ID, version, and supported platforms.</li>
</ul>
<pre><code class="language-xml">&lt;plugin id=&quot;com.example.myplugin&quot; version=&quot;1.0.0&quot; xmlns=&quot;http://apache.org/cordova/ns/plugins/1.0&quot;&gt;
    &lt;name&gt;MyPlugin&lt;/name&gt;
    &lt;description&gt;A custom plugin for Ionic&lt;/description&gt;
    &lt;license&gt;MIT&lt;/license&gt;
    &lt;keywords&gt;cordova, ionic, plugin&lt;/keywords&gt;
    &lt;platform name=&quot;android&quot;&gt;
        &lt;config-file target=&quot;config.xml&quot; parent=&quot;/*&quot;&gt;
            &lt;feature name=&quot;MyPlugin&quot;&gt;
                &lt;param name=&quot;android-package&quot; value=&quot;com.example.myplugin.MyPlugin&quot;/&gt;
            &lt;/feature&gt;
        &lt;/config-file&gt;
        &lt;source-file src=&quot;src/android/MyPlugin.java&quot; target-dir=&quot;src/com/example/myplugin&quot;/&gt;
    &lt;/platform&gt;
    &lt;platform name=&quot;ios&quot;&gt;
        &lt;config-file target=&quot;config.xml&quot; parent=&quot;/*&quot;&gt;
            &lt;feature name=&quot;MyPlugin&quot;&gt;
                &lt;param name=&quot;ios-package&quot; value=&quot;MyPlugin&quot;/&gt;
            &lt;/feature&gt;
        &lt;/config-file&gt;
        &lt;source-file src=&quot;src/ios/MyPlugin.m&quot; target-dir=&quot;src&quot;/&gt;
    &lt;/platform&gt;
&lt;/plugin&gt;
</code></pre>
</li>
<li>
<p><strong>Implement Native Code:</strong></p>
<ul>
<li>Create the native code for Android and iOS platforms.</li>
</ul>
<p><strong>Android (Java):</strong></p>
<pre><code class="language-java">package com.example.myplugin;

import org.apache.cordova.CordovaPlugin;
import org.apache.cordova.CallbackContext;
import org.json.JSONArray;
import org.json.JSONException;

public class MyPlugin extends CordovaPlugin {
    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
        if (action.equals(&quot;coolMethod&quot;)) {
            String message = args.getString(0);
            this.coolMethod(message, callbackContext);
            return true;
        }
        return false;
    }

    private void coolMethod(String message, CallbackContext callbackContext) {
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error(&quot;Expected one non-empty string argument.&quot;);
        }
    }
}
</code></pre>
<p><strong>iOS (Objective-C):</strong></p>
<pre><code class="language-objective-c">#import &lt;Cordova/CDV.h&gt;

@interface MyPlugin : CDVPlugin
- (void)coolMethod:(CDVInvokedUrlCommand*)command;
@end

@implementation MyPlugin

- (void)coolMethod:(CDVInvokedUrlCommand*)command {
    CDVPluginResult* pluginResult = nil;
    NSString* echo = [command.arguments objectAtIndex:0];

    if (echo != nil &amp;&amp; [echo length] &gt; 0) {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:echo];
    } else {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR messageAsString:@&quot;Expected one non-empty string argument.&quot;];
    }

    [self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];
}

@end
</code></pre>
</li>
</ol>
</div><h1>Integrating the Custom Plugin in an Ionic Project</h1>
<div class='content'><ol>
<li>
<p><strong>Add the Plugin to Your Ionic Project:</strong></p>
<pre><code class="language-bash">ionic cordova plugin add /path/to/my-custom-plugin
</code></pre>
</li>
<li>
<p><strong>Use the Plugin in Your Ionic Application:</strong></p>
<ul>
<li>Create a service or directly use the plugin in your components.</li>
</ul>
<p><strong>Example Service:</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@angular/core';
import { Platform } from '@ionic/angular';
declare var cordova: any;

@Injectable({
  providedIn: 'root'
})
export class MyPluginService {
  constructor(private platform: Platform) {}

  coolMethod(message: string): Promise&lt;any&gt; {
    return new Promise((resolve, reject) =&gt; {
      this.platform.ready().then(() =&gt; {
        cordova.plugins.MyPlugin.coolMethod(message, resolve, reject);
      });
    });
  }
}
</code></pre>
<p><strong>Using the Service in a Component:</strong></p>
<pre><code class="language-typescript">import { Component } from '@angular/core';
import { MyPluginService } from '../services/my-plugin.service';

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
})
export class HomePage {
  constructor(private myPluginService: MyPluginService) {}

  callPlugin() {
    this.myPluginService.coolMethod('Hello, World!')
      .then(response =&gt; {
        console.log('Success:', response);
      })
      .catch(error =&gt; {
        console.error('Error:', error);
      });
  }
}
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>Creating custom Ionic plugins allows you to extend the capabilities of your Ionic applications by integrating unique native functionalities. By following the steps outlined in this topic, you can set up your environment, create a custom plugin, and integrate it into your Ionic project. This process not only enhances your app's functionality but also provides a deeper understanding of how Ionic and Cordova work together to bridge the gap between web and native technologies.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='advanced-animations-and-transitions'>&#x25C4;Advanced Animations and Transitions</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Custom Ionic Plugins</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
