<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Classic Concurrency Problems</title>

    <link rel="alternate" href="https://campusempresa.com/mod/sistemas_operativos/03-04-problemas-clasicos" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/sistemas_operativos/03-04-problemes-classics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/sistemas_operativos/03-04-classic-problems" hreflang="en" />
    
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
	<link href="/css/bootstrap/bootstrap.css?v=1" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.2b8e6213f8.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "en";
  		var CATEGORY = "foundations";
  		var MOD_NAME = "sistemas_operativos";
  		var TEMA_NAME = "03-04";
  		var TYPE = "mod";
  		var PATH = "mod/sistemas_operativos/03-04-classic-problems";
  		var IS_INDEX = false;
  		var DEVELOP = sessionStorage.getItem("DEVELOP") == "true";
  		  		var ALL_PAGES_MOD = ["01-01-basic-concepts","01-02-history-evolution","01-03-types-operating-systems","01-04-main-functions","02-01-process-management","02-02-memory-management","02-03-storage-management","02-04-device-management","03-01-concepts-concurrency","03-02-threads-processes","03-03-synchronization-mutual-exclusion","03-04-classic-problems","04-01-file-systems","04-02-directory-structures","04-03-file-management","04-04-security-permissions"];
  		  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<!-- <script type="text/javascript" src="/js/main.js"></script> -->
  	<script type="module" src="/js/app.198aab099d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<b id="lit_lang_es" class="px-2">EN</b>
	|
	<a href="https://campusempresa.com/mod/sistemas_operativos/03-04-problemas-clasicos" class="px-2">ES</a></b>
	|
	<a href="https://campusempresa.cat/mod/sistemas_operativos/03-04-problemes-classics" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>All the knowledge within your reach</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>My courses</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Completed             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="sistemas_operativos">
		<a  href="#" class="text-secondary d-none" data-read-mod="sistemas_operativos" data-read-unit="03-04" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Mark as read
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="sistemas_operativos" data-unread-unit="03-04" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Mark as unread
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Course Content
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-03-synchronization-mutual-exclusion' title="Synchronization and Mutual Exclusion" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-03-synchronization-mutual-exclusion' title="Synchronization and Mutual Exclusion" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Classic Concurrency Problems</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-01-file-systems' title="File Systems" class="py-2 px-3 btn btn-primary"
				data-read-mod="sistemas_operativos" data-read-unit="03-04">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-01-file-systems' title="File Systems" class="py-2 px-3 btn btn-primary" 
				data-read-mod="sistemas_operativos" data-read-unit="03-04">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Concurrency in operating systems involves multiple processes or threads executing simultaneously. This can lead to complex issues that need to be managed to ensure system stability and efficiency. In this section, we will explore some classic concurrency problems, their implications, and solutions.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ol>
<li><strong>Race Condition</strong>: A situation where the behavior of software depends on the sequence or timing of uncontrollable events such as thread execution order.</li>
<li><strong>Deadlock</strong>: A state where two or more processes are unable to proceed because each is waiting for the other to release a resource.</li>
<li><strong>Starvation</strong>: A situation where a process is perpetually denied necessary resources to proceed.</li>
<li><strong>Critical Section</strong>: A part of the code that accesses shared resources and must not be concurrently executed by more than one thread.</li>
</ol>
</div><h1>Classic Concurrency Problems</h1>
<div class='content'></div><h2><ol>
<li>The Producer-Consumer Problem</li>
</ol></h2>
<div class='content'><p><strong>Description</strong>: This problem involves two types of processes: producers that generate data and place it in a buffer, and consumers that take data from the buffer. The challenge is to ensure that producers do not add data to a full buffer and consumers do not remove data from an empty buffer.</p>
<p><strong>Solution</strong>: Use semaphores to synchronize access to the buffer.</p>
<p><strong>Example Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCgpidWZmZXIgPSBbXQpidWZmZXJfc2l6ZSA9IDEwCmVtcHR5ID0gdGhyZWFkaW5nLlNlbWFwaG9yZShidWZmZXJfc2l6ZSkKZnVsbCA9IHRocmVhZGluZy5TZW1hcGhvcmUoMCkKbXV0ZXggPSB0aHJlYWRpbmcuTG9jaygpCgpkZWYgcHJvZHVjZXIoKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgaXRlbSA9IHJhbmRvbS5yYW5kaW50KDEsIDEwMCkKICAgICAgICBlbXB0eS5hY3F1aXJlKCkKICAgICAgICBtdXRleC5hY3F1aXJlKCkKICAgICAgICBidWZmZXIuYXBwZW5kKGl0ZW0pCiAgICAgICAgcHJpbnQoZiJQcm9kdWNlZDoge2l0ZW19IikKICAgICAgICBtdXRleC5yZWxlYXNlKCkKICAgICAgICBmdWxsLnJlbGVhc2UoKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQoKZGVmIGNvbnN1bWVyKCk6CiAgICB3aGlsZSBUcnVlOgogICAgICAgIGZ1bGwuYWNxdWlyZSgpCiAgICAgICAgbXV0ZXguYWNxdWlyZSgpCiAgICAgICAgaXRlbSA9IGJ1ZmZlci5wb3AoMCkKICAgICAgICBwcmludChmIkNvbnN1bWVkOiB7aXRlbX0iKQogICAgICAgIG11dGV4LnJlbGVhc2UoKQogICAgICAgIGVtcHR5LnJlbGVhc2UoKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQoKcHJvZHVjZXJfdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cHJvZHVjZXIpCmNvbnN1bWVyX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvbnN1bWVyKQpwcm9kdWNlcl90aHJlYWQuc3RhcnQoKQpjb25zdW1lcl90aHJlYWQuc3RhcnQoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading
import time
import random

buffer = []
buffer_size = 10
empty = threading.Semaphore(buffer_size)
full = threading.Semaphore(0)
mutex = threading.Lock()

def producer():
    while True:
        item = random.randint(1, 100)
        empty.acquire()
        mutex.acquire()
        buffer.append(item)
        print(f&quot;Produced: {item}&quot;)
        mutex.release()
        full.release()
        time.sleep(random.random())

def consumer():
    while True:
        full.acquire()
        mutex.acquire()
        item = buffer.pop(0)
        print(f&quot;Consumed: {item}&quot;)
        mutex.release()
        empty.release()
        time.sleep(random.random())

producer_thread = threading.Thread(target=producer)
consumer_thread = threading.Thread(target=consumer)
producer_thread.start()
consumer_thread.start()</pre></div><div class='content'></div><h2><ol start="2">
<li>The Dining Philosophers Problem</li>
</ol></h2>
<div class='content'><p><strong>Description</strong>: Five philosophers sit around a table with a fork between each pair. They alternate between thinking and eating. A philosopher needs both forks to eat. The challenge is to prevent deadlock and ensure that no philosopher starves.</p>
<p><strong>Solution</strong>: Use a strategy to ensure that no two neighbors pick up forks at the same time.</p>
<p><strong>Example Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwppbXBvcnQgdGltZQoKY2xhc3MgUGhpbG9zb3BoZXIodGhyZWFkaW5nLlRocmVhZCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSwgbGVmdF9mb3JrLCByaWdodF9mb3JrKToKICAgICAgICB0aHJlYWRpbmcuVGhyZWFkLl9faW5pdF9fKHNlbGYpCiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgICAgIHNlbGYubGVmdF9mb3JrID0gbGVmdF9mb3JrCiAgICAgICAgc2VsZi5yaWdodF9mb3JrID0gcmlnaHRfZm9yawoKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgcHJpbnQoZiJ7c2VsZi5uYW1lfSBpcyB0aGlua2luZy4iKQogICAgICAgICAgICB0aW1lLnNsZWVwKHJhbmRvbS5yYW5kb20oKSkKICAgICAgICAgICAgcHJpbnQoZiJ7c2VsZi5uYW1lfSBpcyBodW5ncnkuIikKICAgICAgICAgICAgc2VsZi5kaW5lKCkKCiAgICBkZWYgZGluZShzZWxmKToKICAgICAgICBmb3JrMSwgZm9yazIgPSBzZWxmLmxlZnRfZm9yaywgc2VsZi5yaWdodF9mb3JrCiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgZm9yazEuYWNxdWlyZShUcnVlKQogICAgICAgICAgICBsb2NrZWQgPSBmb3JrMi5hY3F1aXJlKEZhbHNlKQogICAgICAgICAgICBpZiBsb2NrZWQ6IGJyZWFrCiAgICAgICAgICAgIGZvcmsxLnJlbGVhc2UoKQogICAgICAgICAgICBwcmludChmIntzZWxmLm5hbWV9IHN3YXBzIGZvcmtzLiIpCiAgICAgICAgICAgIGZvcmsxLCBmb3JrMiA9IGZvcmsyLCBmb3JrMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYuZWF0aW5nKCkKICAgICAgICBmb3JrMi5yZWxlYXNlKCkKICAgICAgICBmb3JrMS5yZWxlYXNlKCkKCiAgICBkZWYgZWF0aW5nKHNlbGYpOgogICAgICAgIHByaW50KGYie3NlbGYubmFtZX0gc3RhcnRzIGVhdGluZy4iKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQogICAgICAgIHByaW50KGYie3NlbGYubmFtZX0gZmluaXNoZXMgZWF0aW5nIGFuZCBsZWF2ZXMgdG8gdGhpbmsuIikKCmZvcmtzID0gW3RocmVhZGluZy5Mb2NrKCkgZm9yIF8gaW4gcmFuZ2UoNSldCnBoaWxvc29waGVycyA9IFtQaGlsb3NvcGhlcihmIlBoaWxvc29waGVyIHtpfSIsIGZvcmtzW2kgJSA1XSwgZm9ya3NbKGkgKyAxKSAlIDVdKSBmb3IgaSBpbiByYW5nZSg1KV0KCmZvciBwIGluIHBoaWxvc29waGVyczoKICAgIHAuc3RhcnQoKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading
import time

class Philosopher(threading.Thread):
    def __init__(self, name, left_fork, right_fork):
        threading.Thread.__init__(self)
        self.name = name
        self.left_fork = left_fork
        self.right_fork = right_fork

    def run(self):
        while True:
            print(f&quot;{self.name} is thinking.&quot;)
            time.sleep(random.random())
            print(f&quot;{self.name} is hungry.&quot;)
            self.dine()

    def dine(self):
        fork1, fork2 = self.left_fork, self.right_fork
        while True:
            fork1.acquire(True)
            locked = fork2.acquire(False)
            if locked: break
            fork1.release()
            print(f&quot;{self.name} swaps forks.&quot;)
            fork1, fork2 = fork2, fork1
        else:
            return
        self.eating()
        fork2.release()
        fork1.release()

    def eating(self):
        print(f&quot;{self.name} starts eating.&quot;)
        time.sleep(random.random())
        print(f&quot;{self.name} finishes eating and leaves to think.&quot;)

forks = [threading.Lock() for _ in range(5)]
philosophers = [Philosopher(f&quot;Philosopher {i}&quot;, forks[i % 5], forks[(i + 1) % 5]) for i in range(5)]

for p in philosophers:
    p.start()</pre></div><div class='content'></div><h2><ol start="3">
<li>The Readers-Writers Problem</li>
</ol></h2>
<div class='content'><p><strong>Description</strong>: This problem involves a shared resource (e.g., a database) that can be read by multiple readers simultaneously but must be written by only one writer at a time. The challenge is to ensure that readers do not read while a writer is writing and vice versa.</p>
<p><strong>Solution</strong>: Use reader and writer locks to manage access.</p>
<p><strong>Example Code</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwppbXBvcnQgdGltZQoKcmVhZGVycyA9IDAKcmVzb3VyY2VfbG9jayA9IHRocmVhZGluZy5Mb2NrKCkKcmVhZGVyc19sb2NrID0gdGhyZWFkaW5nLkxvY2soKQoKZGVmIHJlYWRlcigpOgogICAgZ2xvYmFsIHJlYWRlcnMKICAgIHdoaWxlIFRydWU6CiAgICAgICAgcmVhZGVyc19sb2NrLmFjcXVpcmUoKQogICAgICAgIHJlYWRlcnMgKz0gMQogICAgICAgIGlmIHJlYWRlcnMgPT0gMToKICAgICAgICAgICAgcmVzb3VyY2VfbG9jay5hY3F1aXJlKCkKICAgICAgICByZWFkZXJzX2xvY2sucmVsZWFzZSgpCiAgICAgICAgcHJpbnQoIlJlYWRpbmcuLi4iKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQogICAgICAgIHJlYWRlcnNfbG9jay5hY3F1aXJlKCkKICAgICAgICByZWFkZXJzIC09IDEKICAgICAgICBpZiByZWFkZXJzID09IDA6CiAgICAgICAgICAgIHJlc291cmNlX2xvY2sucmVsZWFzZSgpCiAgICAgICAgcmVhZGVyc19sb2NrLnJlbGVhc2UoKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQoKZGVmIHdyaXRlcigpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICByZXNvdXJjZV9sb2NrLmFjcXVpcmUoKQogICAgICAgIHByaW50KCJXcml0aW5nLi4uIikKICAgICAgICB0aW1lLnNsZWVwKHJhbmRvbS5yYW5kb20oKSkKICAgICAgICByZXNvdXJjZV9sb2NrLnJlbGVhc2UoKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQoKcmVhZGVyX3RocmVhZHMgPSBbdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cmVhZGVyKSBmb3IgXyBpbiByYW5nZSg1KV0Kd3JpdGVyX3RocmVhZHMgPSBbdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9d3JpdGVyKSBmb3IgXyBpbiByYW5nZSgyKV0KCmZvciB0IGluIHJlYWRlcl90aHJlYWRzICsgd3JpdGVyX3RocmVhZHM6CiAgICB0LnN0YXJ0KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading
import time

readers = 0
resource_lock = threading.Lock()
readers_lock = threading.Lock()

def reader():
    global readers
    while True:
        readers_lock.acquire()
        readers += 1
        if readers == 1:
            resource_lock.acquire()
        readers_lock.release()
        print(&quot;Reading...&quot;)
        time.sleep(random.random())
        readers_lock.acquire()
        readers -= 1
        if readers == 0:
            resource_lock.release()
        readers_lock.release()
        time.sleep(random.random())

def writer():
    while True:
        resource_lock.acquire()
        print(&quot;Writing...&quot;)
        time.sleep(random.random())
        resource_lock.release()
        time.sleep(random.random())

reader_threads = [threading.Thread(target=reader) for _ in range(5)]
writer_threads = [threading.Thread(target=writer) for _ in range(2)]

for t in reader_threads + writer_threads:
    t.start()</pre></div><div class='content'></div><h1>Practical Exercises</h1>
<div class='content'></div><h2>Exercise 1: Implement the Producer-Consumer Problem</h2>
<div class='content'><p><strong>Task</strong>: Modify the producer-consumer example to handle multiple producers and consumers.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCgpidWZmZXIgPSBbXQpidWZmZXJfc2l6ZSA9IDEwCmVtcHR5ID0gdGhyZWFkaW5nLlNlbWFwaG9yZShidWZmZXJfc2l6ZSkKZnVsbCA9IHRocmVhZGluZy5TZW1hcGhvcmUoMCkKbXV0ZXggPSB0aHJlYWRpbmcuTG9jaygpCgpkZWYgcHJvZHVjZXIoaWQpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpdGVtID0gcmFuZG9tLnJhbmRpbnQoMSwgMTAwKQogICAgICAgIGVtcHR5LmFjcXVpcmUoKQogICAgICAgIG11dGV4LmFjcXVpcmUoKQogICAgICAgIGJ1ZmZlci5hcHBlbmQoaXRlbSkKICAgICAgICBwcmludChmIlByb2R1Y2VyIHtpZH0gcHJvZHVjZWQ6IHtpdGVtfSIpCiAgICAgICAgbXV0ZXgucmVsZWFzZSgpCiAgICAgICAgZnVsbC5yZWxlYXNlKCkKICAgICAgICB0aW1lLnNsZWVwKHJhbmRvbS5yYW5kb20oKSkKCmRlZiBjb25zdW1lcihpZCk6CiAgICB3aGlsZSBUcnVlOgogICAgICAgIGZ1bGwuYWNxdWlyZSgpCiAgICAgICAgbXV0ZXguYWNxdWlyZSgpCiAgICAgICAgaXRlbSA9IGJ1ZmZlci5wb3AoMCkKICAgICAgICBwcmludChmIkNvbnN1bWVyIHtpZH0gY29uc3VtZWQ6IHtpdGVtfSIpCiAgICAgICAgbXV0ZXgucmVsZWFzZSgpCiAgICAgICAgZW1wdHkucmVsZWFzZSgpCiAgICAgICAgdGltZS5zbGVlcChyYW5kb20ucmFuZG9tKCkpCgpwcm9kdWNlcl90aHJlYWRzID0gW3RocmVhZGluZy5UaHJlYWQodGFyZ2V0PXByb2R1Y2VyLCBhcmdzPShpLCkpIGZvciBpIGluIHJhbmdlKDMpXQpjb25zdW1lcl90aHJlYWRzID0gW3RocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvbnN1bWVyLCBhcmdzPShpLCkpIGZvciBpIGluIHJhbmdlKDMpXQoKZm9yIHQgaW4gcHJvZHVjZXJfdGhyZWFkcyArIGNvbnN1bWVyX3RocmVhZHM6CiAgICB0LnN0YXJ0KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading
import time
import random

buffer = []
buffer_size = 10
empty = threading.Semaphore(buffer_size)
full = threading.Semaphore(0)
mutex = threading.Lock()

def producer(id):
    while True:
        item = random.randint(1, 100)
        empty.acquire()
        mutex.acquire()
        buffer.append(item)
        print(f&quot;Producer {id} produced: {item}&quot;)
        mutex.release()
        full.release()
        time.sleep(random.random())

def consumer(id):
    while True:
        full.acquire()
        mutex.acquire()
        item = buffer.pop(0)
        print(f&quot;Consumer {id} consumed: {item}&quot;)
        mutex.release()
        empty.release()
        time.sleep(random.random())

producer_threads = [threading.Thread(target=producer, args=(i,)) for i in range(3)]
consumer_threads = [threading.Thread(target=consumer, args=(i,)) for i in range(3)]

for t in producer_threads + consumer_threads:
    t.start()</pre></div><div class='content'></div><h2>Exercise 2: Solve the Dining Philosophers Problem with a Different Strategy</h2>
<div class='content'><p><strong>Task</strong>: Modify the dining philosophers example to use a different strategy to prevent deadlock, such as using a waiter.</p>
<p><strong>Solution</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRocmVhZGluZwppbXBvcnQgdGltZQoKY2xhc3MgUGhpbG9zb3BoZXIodGhyZWFkaW5nLlRocmVhZCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSwgbGVmdF9mb3JrLCByaWdodF9mb3JrLCB3YWl0ZXIpOgogICAgICAgIHRocmVhZGluZy5UaHJlYWQuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICAgICAgc2VsZi5sZWZ0X2ZvcmsgPSBsZWZ0X2ZvcmsKICAgICAgICBzZWxmLnJpZ2h0X2ZvcmsgPSByaWdodF9mb3JrCiAgICAgICAgc2VsZi53YWl0ZXIgPSB3YWl0ZXIKCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIHByaW50KGYie3NlbGYubmFtZX0gaXMgdGhpbmtpbmcuIikKICAgICAgICAgICAgdGltZS5zbGVlcChyYW5kb20ucmFuZG9tKCkpCiAgICAgICAgICAgIHByaW50KGYie3NlbGYubmFtZX0gaXMgaHVuZ3J5LiIpCiAgICAgICAgICAgIHNlbGYuZGluZSgpCgogICAgZGVmIGRpbmUoc2VsZik6CiAgICAgICAgd2l0aCBzZWxmLndhaXRlcjoKICAgICAgICAgICAgd2l0aCBzZWxmLmxlZnRfZm9yazoKICAgICAgICAgICAgICAgIHdpdGggc2VsZi5yaWdodF9mb3JrOgogICAgICAgICAgICAgICAgICAgIHNlbGYuZWF0aW5nKCkKCiAgICBkZWYgZWF0aW5nKHNlbGYpOgogICAgICAgIHByaW50KGYie3NlbGYubmFtZX0gc3RhcnRzIGVhdGluZy4iKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnJhbmRvbSgpKQogICAgICAgIHByaW50KGYie3NlbGYubmFtZX0gZmluaXNoZXMgZWF0aW5nIGFuZCBsZWF2ZXMgdG8gdGhpbmsuIikKCmZvcmtzID0gW3RocmVhZGluZy5Mb2NrKCkgZm9yIF8gaW4gcmFuZ2UoNSldCndhaXRlciA9IHRocmVhZGluZy5Mb2NrKCkKcGhpbG9zb3BoZXJzID0gW1BoaWxvc29waGVyKGYiUGhpbG9zb3BoZXIge2l9IiwgZm9ya3NbaSAlIDVdLCBmb3Jrc1soaSArIDEpICUgNV0sIHdhaXRlcikgZm9yIGkgaW4gcmFuZ2UoNSldCgpmb3IgcCBpbiBwaGlsb3NvcGhlcnM6CiAgICBwLnN0YXJ0KCk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import threading
import time

class Philosopher(threading.Thread):
    def __init__(self, name, left_fork, right_fork, waiter):
        threading.Thread.__init__(self)
        self.name = name
        self.left_fork = left_fork
        self.right_fork = right_fork
        self.waiter = waiter

    def run(self):
        while True:
            print(f&quot;{self.name} is thinking.&quot;)
            time.sleep(random.random())
            print(f&quot;{self.name} is hungry.&quot;)
            self.dine()

    def dine(self):
        with self.waiter:
            with self.left_fork:
                with self.right_fork:
                    self.eating()

    def eating(self):
        print(f&quot;{self.name} starts eating.&quot;)
        time.sleep(random.random())
        print(f&quot;{self.name} finishes eating and leaves to think.&quot;)

forks = [threading.Lock() for _ in range(5)]
waiter = threading.Lock()
philosophers = [Philosopher(f&quot;Philosopher {i}&quot;, forks[i % 5], forks[(i + 1) % 5], waiter) for i in range(5)]

for p in philosophers:
    p.start()</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this section, we explored classic concurrency problems such as the Producer-Consumer Problem, the Dining Philosophers Problem, and the Readers-Writers Problem. We discussed their implications and provided solutions using synchronization mechanisms like semaphores and locks. Understanding these problems and their solutions is crucial for managing concurrency in operating systems effectively. In the next module, we will delve into file structures, exploring file systems, directory structures, file management, and file security and permissions.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-03-synchronization-mutual-exclusion' title="Synchronization and Mutual Exclusion" class="py-2 px-3 btn btn-primary">
				&#x25C4; Previous 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-03-synchronization-mutual-exclusion' title="Synchronization and Mutual Exclusion" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='04-01-file-systems' title="File Systems" class="py-2 px-3 btn btn-primary"
				data-read-mod="sistemas_operativos" data-read-unit="03-04">
				Next &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='04-01-file-systems' title="File Systems" class="py-2 px-3 btn btn-primary" 
				data-read-mod="sistemas_operativos" data-read-unit="03-04">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Fundamentals of Operating Systems</h1>
<h2>Module 1: Introduction to Operating Systems</h2>
<ul>
<li><a href="01-01-basic-concepts">Basic Concepts of Operating Systems</a></li>
<li><a href="01-02-history-evolution">History and Evolution of Operating Systems</a></li>
<li><a href="01-03-types-operating-systems">Types of Operating Systems</a></li>
<li><a href="01-04-main-functions">Main Functions of an Operating System</a></li>
</ul>
<h2>Module 2: Resource Management</h2>
<ul>
<li><a href="02-01-process-management">Process Management</a></li>
<li><a href="02-02-memory-management">Memory Management</a></li>
<li><a href="02-03-storage-management">Storage Management</a></li>
<li><a href="02-04-device-management">Device Management</a></li>
</ul>
<h2>Module 3: Concurrency</h2>
<ul>
<li><a href="03-01-concepts-concurrency">Concepts of Concurrency</a></li>
<li><a href="03-02-threads-processes">Threads and Processes</a></li>
<li><a href="03-03-synchronization-mutual-exclusion">Synchronization and Mutual Exclusion</a></li>
<li><a href="03-04-classic-problems">Classic Concurrency Problems</a></li>
</ul>
<h2>Module 4: File Structures</h2>
<ul>
<li><a href="04-01-file-systems">File Systems</a></li>
<li><a href="04-02-directory-structures">Directory Structures</a></li>
<li><a href="04-03-file-management">File Management</a></li>
<li><a href="04-04-security-permissions">File Security and Permissions</a></li>
</ul>

	</div>










			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">The Project</a> | 
<a href="/about">About Us</a> | 
<a href="/contribute">Contribute</a> | 
<a href="/donate">Donations</a> | 
<a href="/licence">License</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">User not authenticated</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Email</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Enter your email">
</div>
<button class="btn btn-primary" id="btnRecover">Send recovery link</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	Warning! You are about to delete all registration and progress data.<br><b>This action cannot be undone.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Delete user</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Enter current password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Enter new password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repeat new password">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Change password</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Send verification link</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Disconnect</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Change password</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Delete user</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Log in
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Sign up
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Email</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Enter your email">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Password</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Enter your password">
</div>
<button class="btn btn-primary" id="btnLogin">Log in</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">Have you forgotten your password?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Email</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Enter your email">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Password</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Enter your password">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Name</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Enter your name">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        I have read and accept the <a href="/privacity" target="blank">Privacy Policy</a> and the <a href="/licence" target="blank">Terms and Conditions of Use</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        I wish to receive news and updates about courses (optional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Sign up</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
