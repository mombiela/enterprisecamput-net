<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conditional Processing</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jcl/05-01-conditional-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jcl/05-01-conditional-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jcl/05-01-conditional-processing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/jcl/05-01-conditional-processing" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/jcl/05-01-conditional-processing" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-04-overriding-parameters' title="Overriding Parameters">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Conditional Processing</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-02-jcllib-include-statements' title="JCLLIB and INCLUDE Statements">Next &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Conditional processing in JCL allows you to control the execution of job steps based on the success or failure of previous steps. This is crucial for creating robust and efficient job streams that can handle various scenarios without manual intervention.</p>
</div><h1><p>Key Concepts</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Return Codes (RC):</strong></p>
<ul>
<li>Each job step in JCL returns a code upon completion, known as the Return Code (RC).</li>
<li>Return codes typically range from 0 to 4095, where 0 usually indicates success, and any non-zero value indicates some form of error or warning.</li>
</ul>
</li>
<li>
<p><strong>COND Parameter:</strong></p>
<ul>
<li>The <code>COND</code> parameter is used to specify conditions under which a job step should be bypassed.</li>
<li>Syntax: <code>COND=(code,operator,stepname)</code>
<ul>
<li><code>code</code>: The return code to compare against.</li>
<li><code>operator</code>: The comparison operator (e.g., <code>EQ</code>, <code>NE</code>, <code>GT</code>, <code>LT</code>, <code>GE</code>, <code>LE</code>).</li>
<li><code>stepname</code>: The name of the previous step whose return code is being checked.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>IF/THEN/ELSE/ENDIF Statements:</strong></p>
<ul>
<li>These statements provide a more readable and flexible way to handle conditional processing.</li>
<li>Syntax:
<pre><code class="language-jcl">//IF (condition) THEN
//    [JCL statements]
//ELSE
//    [JCL statements]
//ENDIF
</code></pre>
</li>
</ul>
</li>
</ol>
</div><h1><p>Practical Examples</p>
</h1>
<div class='content'></div><h2><p>Example 1: Using the COND Parameter</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9TVEVQMSAgICBFWEVDIFBHTT1NWVBST0cKLy9TVEVQMiAgICBFWEVDIFBHTT1BTk9USEVSUEdNLENPTkQ9KDQsTFQsU1RFUDEp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//STEP1    EXEC PGM=MYPROG
//STEP2    EXEC PGM=ANOTHERPGM,COND=(4,LT,STEP1)</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li><code>STEP2</code> will be bypassed if <code>STEP1</code> returns a code less than 4.</li>
</ul>
</li>
</ul>
</div><h2><p>Example 2: Using IF/THEN/ELSE/ENDIF Statements</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9TVEVQMSAgICBFWEVDIFBHTT1NWVBST0cKLy9JRiAoU1RFUDEuUkMgPSAwKSBUSEVOCi8vU1RFUDIgICAgRVhFQyBQR009U1VDQ0VTU1BHTQovL0VMU0UKLy9TVEVQMyAgICBFWEVDIFBHTT1GQUlMVVJFUEdNCi8vRU5ESUY="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//STEP1    EXEC PGM=MYPROG
//IF (STEP1.RC = 0) THEN
//STEP2    EXEC PGM=SUCCESSPGM
//ELSE
//STEP3    EXEC PGM=FAILUREPGM
//ENDIF</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li>If <code>STEP1</code> completes successfully (RC=0), <code>STEP2</code> will execute.</li>
<li>If <code>STEP1</code> fails (RCâ‰ 0), <code>STEP3</code> will execute.</li>
</ul>
</li>
</ul>
</div><h1><p>Exercises</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Basic Conditional Processing</p>
</h2>
<div class='content'><p><strong>Task:</strong>
Write a JCL script that runs <code>PGM1</code>. If <code>PGM1</code> completes with a return code of 0, run <code>PGM2</code>. Otherwise, run <code>PGM3</code>.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9TVEVQMSAgICBFWEVDIFBHTT1QR00xCi8vSUYgKFNURVAxLlJDID0gMCkgVEhFTgovL1NURVAyICAgIEVYRUMgUEdNPVBHTTIKLy9FTFNFCi8vU1RFUDMgICAgRVhFQyBQR009UEdNMwovL0VORElG"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//STEP1    EXEC PGM=PGM1
//IF (STEP1.RC = 0) THEN
//STEP2    EXEC PGM=PGM2
//ELSE
//STEP3    EXEC PGM=PGM3
//ENDIF</pre></div><div class='content'></div><h2><p>Exercise 2: Using the COND Parameter</p>
</h2>
<div class='content'><p><strong>Task:</strong>
Write a JCL script that runs <code>PGM1</code> and <code>PGM2</code>. Skip <code>PGM2</code> if <code>PGM1</code> returns a code greater than or equal to 8.</p>
<p><strong>Solution:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9TVEVQMSAgICBFWEVDIFBHTT1QR00xCi8vU1RFUDIgICAgRVhFQyBQR009UEdNMixDT05EPSg4LEdFLFNURVAxKQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//STEP1    EXEC PGM=PGM1
//STEP2    EXEC PGM=PGM2,COND=(8,GE,STEP1)</pre></div><div class='content'></div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>Incorrect Return Code Comparisons:</strong></p>
<ul>
<li>Ensure you are using the correct comparison operators (<code>EQ</code>, <code>NE</code>, <code>GT</code>, <code>LT</code>, <code>GE</code>, <code>LE</code>).</li>
</ul>
</li>
<li>
<p><strong>Misplaced IF/THEN/ELSE/ENDIF Blocks:</strong></p>
<ul>
<li>Ensure that the <code>IF/THEN/ELSE/ENDIF</code> blocks are correctly nested and properly closed.</li>
</ul>
</li>
<li>
<p><strong>Overusing COND Parameter:</strong></p>
<ul>
<li>While the <code>COND</code> parameter is useful, overusing it can make the JCL script hard to read. Consider using <code>IF/THEN/ELSE/ENDIF</code> for better readability.</li>
</ul>
</li>
</ol>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>Conditional processing in JCL is a powerful feature that allows you to create dynamic and flexible job streams. By understanding and utilizing return codes, the <code>COND</code> parameter, and <code>IF/THEN/ELSE/ENDIF</code> statements, you can control the flow of your jobs based on the outcomes of previous steps. This ensures that your jobs can handle various scenarios efficiently and effectively.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-04-overriding-parameters' title="Overriding Parameters">&#x25C4;Previous</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-02-jcllib-include-statements' title="JCLLIB and INCLUDE Statements">Next &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiÃ¨ncia d'Ãºs i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
