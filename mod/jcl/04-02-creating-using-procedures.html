<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating and Using Procedures</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jcl/04-02-creating-using-procedures" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jcl/04-02-creating-using-procedures" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jcl/04-02-creating-using-procedures" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo-header_enterprise.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/mod/jcl/04-02-creating-using-procedures" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/mod/jcl/04-02-creating-using-procedures" class="px-2">CA</a>
					</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Course Content</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Technical Skills</a>
				<a href="/all/conocimientos">Knowledge</a>
				<a href="/all/soft_skills">Social Skills</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-introduction-procedures' title="Introduction to Procedures">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Creating and Using Procedures</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-symbolic-parameters' title="Symbolic Parameters">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>In this section, we will delve into the creation and usage of procedures in JCL. Procedures, often referred to as PROCs, are reusable sets of JCL statements that can be invoked by multiple jobs, making your JCL code more modular and easier to maintain.</p>
</div><h1><p>What is a Procedure?</p>
</h1>
<div class='content'><p>A procedure in JCL is a pre-defined set of JCL statements that can be included in a job. Procedures help in reducing redundancy and improving the maintainability of JCL scripts. They are stored in partitioned data sets (PDS) and can be invoked using the <code>EXEC</code> statement.</p>
</div><h2><p>Key Concepts:</p>
</h2>
<div class='content'><ul>
<li><strong>Procedure (PROC):</strong> A reusable set of JCL statements.</li>
<li><strong>EXEC Statement:</strong> Used to call a procedure.</li>
<li><strong>Symbolic Parameters:</strong> Variables within procedures that can be overridden at execution time.</li>
</ul>
</div><h1><p>Creating a Procedure</p>
</h1>
<div class='content'><p>To create a procedure, you need to define it in a member of a partitioned data set (PDS). Here is a simple example of a procedure that copies data from one data set to another:</p>
</div><h2><p>Example Procedure (COPYPROC)</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9DT1BZUFJPQyBQUk9DCi8vU1RFUDEgICAgRVhFQyBQR009SUVCR0VORVIKLy9TWVNQUklOVCBERCBTWVNPVVQ9KgovL1NZU0lOICAgIEREIERVTU1ZCi8vU1lTVVQxICAgREQgRFNOPSZJTkZJTEUsRElTUD1TSFIKLy9TWVNVVDIgICBERCBEU049Jk9VVEZJTEUsRElTUD0oTkVXLENBVExHLERFTEVURSksCi8vICAgICAgICAgICAgU1BBQ0U9KFRSSywoMSwxKSksVU5JVD1TWVNEQQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//COPYPROC PROC
//STEP1    EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DUMMY
//SYSUT1   DD DSN=&amp;INFILE,DISP=SHR
//SYSUT2   DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE),
//            SPACE=(TRK,(1,1)),UNIT=SYSDA</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>COPYPROC PROC:</strong> Defines the procedure named <code>COPYPROC</code>.</li>
<li><strong>STEP1 EXEC PGM=IEBGENER:</strong> Executes the IEBGENER utility program.</li>
<li><strong>SYSPRINT DD SYSOUT=</strong>*: Directs the output to the system output.</li>
<li><strong>SYSIN DD DUMMY:</strong> Specifies a dummy data set for SYSIN.</li>
<li><strong>SYSUT1 DD DSN=&amp;INFILE,DISP=SHR:</strong> Defines the input data set using a symbolic parameter <code>&amp;INFILE</code>.</li>
<li><strong>SYSUT2 DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE), SPACE=(TRK,(1,1)),UNIT=SYSDA:</strong> Defines the output data set using a symbolic parameter <code>&amp;OUTFILE</code>.</li>
</ul>
</div><h1><p>Using a Procedure</p>
</h1>
<div class='content'><p>To use a procedure in a JCL job, you need to call it using the <code>EXEC</code> statement and provide values for any symbolic parameters.</p>
</div><h2><p>Example JCL Job Using COPYPROC</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgICBKT0IgKEFDQ1QpLCdDT1BZIEpPQicsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgICAgRVhFQyBDT1BZUFJPQyxJTkZJTEU9TVkuSU5QVVQuREFUQVNFVCxPVVRGSUxFPU1ZLk9VVFBVVC5EQVRBU0VU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB    JOB (ACCT),'COPY JOB',CLASS=A,MSGCLASS=A
//STEP1    EXEC COPYPROC,INFILE=MY.INPUT.DATASET,OUTFILE=MY.OUTPUT.DATASET</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>MYJOB JOB (ACCT),'COPY JOB',CLASS=A,MSGCLASS=A:</strong> Defines the job.</li>
<li><strong>STEP1 EXEC COPYPROC,INFILE=MY.INPUT.DATASET,OUTFILE=MY.OUTPUT.DATASET:</strong> Executes the <code>COPYPROC</code> procedure, providing values for the <code>INFILE</code> and <code>OUTFILE</code> symbolic parameters.</li>
</ul>
</div><h1><p>Practical Exercise</p>
</h1>
<div class='content'></div><h2><p>Exercise 1: Create and Use a Procedure</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Create a Procedure:</strong></p>
<ul>
<li>Create a procedure named <code>SORTPROC</code> that sorts a data set using the <code>SORT</code> utility.</li>
<li>Use symbolic parameters for the input and output data sets.</li>
</ul>
</li>
<li>
<p><strong>Use the Procedure:</strong></p>
<ul>
<li>Write a JCL job that uses the <code>SORTPROC</code> procedure to sort a data set named <code>MY.INPUT.DATASET</code> and output the sorted data to <code>MY.SORTED.DATASET</code>.</li>
</ul>
</li>
</ol>
</div><h2><p>Solution:</p>
</h2>
<div class='content'><h4>SORTPROC Procedure</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9TT1JUUFJPQyBQUk9DCi8vU1RFUDEgICAgRVhFQyBQR009U09SVAovL1NZU09VVCAgIEREIFNZU09VVD0qCi8vU09SVElOICAgREQgRFNOPSZJTkZJTEUsRElTUD1TSFIKLy9TT1JUT1VUICBERCBEU049Jk9VVEZJTEUsRElTUD0oTkVXLENBVExHLERFTEVURSksCi8vICAgICAgICAgICAgU1BBQ0U9KFRSSywoMSwxKSksVU5JVD1TWVNEQQovL1NZU0lOICAgIEREICoKICBTT1JUIEZJRUxEUz0oMSwxMCxDSCxBKQovKg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//SORTPROC PROC
//STEP1    EXEC PGM=SORT
//SYSOUT   DD SYSOUT=*
//SORTIN   DD DSN=&amp;INFILE,DISP=SHR
//SORTOUT  DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE),
//            SPACE=(TRK,(1,1)),UNIT=SYSDA
//SYSIN    DD *
  SORT FIELDS=(1,10,CH,A)
/*</pre></div><div class='content'><h4>JCL Job Using SORTPROC</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly9NWUpPQiAgICBKT0IgKEFDQ1QpLCdTT1JUIEpPQicsQ0xBU1M9QSxNU0dDTEFTUz1BCi8vU1RFUDEgICAgRVhFQyBTT1JUUFJPQyxJTkZJTEU9TVkuSU5QVVQuREFUQVNFVCxPVVRGSUxFPU1ZLlNPUlRFRC5EQVRBU0VU"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>//MYJOB    JOB (ACCT),'SORT JOB',CLASS=A,MSGCLASS=A
//STEP1    EXEC SORTPROC,INFILE=MY.INPUT.DATASET,OUTFILE=MY.SORTED.DATASET</pre></div><div class='content'></div><h2><p>Explanation:</p>
</h2>
<div class='content'><ul>
<li><strong>SORTPROC PROC:</strong> Defines the procedure named <code>SORTPROC</code>.</li>
<li><strong>STEP1 EXEC PGM=SORT:</strong> Executes the SORT utility program.</li>
<li><strong>SYSOUT DD SYSOUT=</strong>*: Directs the output to the system output.</li>
<li><strong>SORTIN DD DSN=&amp;INFILE,DISP=SHR:</strong> Defines the input data set using a symbolic parameter <code>&amp;INFILE</code>.</li>
<li><strong>SORTOUT DD DSN=&amp;OUTFILE,DISP=(NEW,CATLG,DELETE), SPACE=(TRK,(1,1)),UNIT=SYSDA:</strong> Defines the output data set using a symbolic parameter <code>&amp;OUTFILE</code>.</li>
<li>*<em>SYSIN DD <em>:</em></em> Provides the SORT control statements directly in the JCL.</li>
</ul>
</div><h1><p>Common Mistakes and Tips</p>
</h1>
<div class='content'></div><h2><p>Common Mistakes:</p>
</h2>
<div class='content'><ul>
<li><strong>Forgetting to Define Symbolic Parameters:</strong> Ensure all symbolic parameters used in the procedure are defined and provided values when the procedure is called.</li>
<li><strong>Incorrect DISP Parameters:</strong> Ensure the DISP parameters are correctly set to avoid data set conflicts.</li>
</ul>
</div><h2><p>Tips:</p>
</h2>
<div class='content'><ul>
<li><strong>Use Descriptive Names:</strong> Use descriptive names for procedures and symbolic parameters to make the JCL more readable.</li>
<li><strong>Modularize Your JCL:</strong> Break down complex JCL jobs into smaller, reusable procedures to improve maintainability.</li>
</ul>
</div><h1><p>Conclusion</p>
</h1>
<div class='content'><p>In this section, we learned how to create and use procedures in JCL. Procedures help in making your JCL scripts modular and easier to maintain. We covered the basics of defining a procedure, using symbolic parameters, and invoking procedures in a JCL job. By practicing the provided exercise, you should now be comfortable creating and using procedures in your JCL jobs.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-01-introduction-procedures' title="Introduction to Procedures">
				<span class="d-none d-md-inline">&#x25C4; Previous</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-03-symbolic-parameters' title="Symbolic Parameters">
				<span class="d-none d-md-inline">Next &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	We use cookies to improve your user experience and offer content tailored to your interests.
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
