<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Memory Allocation in C++</title>

    <link rel="alternate" href="https://campusempresa.com/cplusplus/dynamic-memory-allocation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cplusplus/dynamic-memory-allocation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/cplusplus/dynamic-memory-allocation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/cplusplus/dynamic-memory-allocation" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/cplusplus/dynamic-memory-allocation" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='references'>&#x25C4;References</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dynamic Memory Allocation in C++</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-oop'>Introduction to OOP &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Dynamic memory allocation is a crucial concept in C++ that allows programs to request memory at runtime. This is essential for creating flexible and efficient applications that can handle varying amounts of data.</p>
</div><h1>Introduction to Dynamic Memory Allocation</h1>
<div class='content'><p>Dynamic memory allocation enables programs to allocate memory as needed during execution, rather than at compile time. This is particularly useful for handling data structures whose size cannot be determined beforehand.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Heap vs. Stack</strong>:
<ul>
<li><strong>Stack</strong>: Memory allocated at compile time, automatically managed, and limited in size.</li>
<li><strong>Heap</strong>: Memory allocated at runtime, manually managed, and generally larger than the stack.</li>
</ul>
</li>
<li><strong>Pointers</strong>: Variables that store memory addresses, essential for dynamic memory allocation.</li>
<li><strong>Operators</strong>: <code>new</code> and <code>delete</code> for single objects, <code>new[]</code> and <code>delete[]</code> for arrays.</li>
</ul>
</div><h1>Basic Dynamic Memory Allocation</h1>
<div class='content'></div><h2>Allocating and Deallocating Single Objects</h2>
<div class='content'><p>To allocate memory for a single object, use the <code>new</code> operator. To deallocate, use the <code>delete</code> operator.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50KiBwdHIgPSBuZXcgaW50OyAvLyBBbGxvY2F0ZSBtZW1vcnkgZm9yIGFuIGludGVnZXIKKnB0ciA9IDEwOyAgICAgICAgIC8vIEFzc2lnbiBhIHZhbHVlIHRvIHRoZSBhbGxvY2F0ZWQgbWVtb3J5CmRlbGV0ZSBwdHI7ICAgICAgICAvLyBEZWFsbG9jYXRlIHRoZSBtZW1vcnk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int* ptr = new int; // Allocate memory for an integer
*ptr = 10;         // Assign a value to the allocated memory
delete ptr;        // Deallocate the memory</pre></div><div class='content'></div><h2>Allocating and Deallocating Arrays</h2>
<div class='content'><p>For arrays, use <code>new[]</code> and <code>delete[]</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50KiBhcnIgPSBuZXcgaW50WzVdOyAvLyBBbGxvY2F0ZSBtZW1vcnkgZm9yIGFuIGFycmF5IG9mIDUgaW50ZWdlcnMKZm9yIChpbnQgaSA9IDA7IGkgPCA1OyArK2kpIHsKICAgIGFycltpXSA9IGkgKiAxMDsgIC8vIEFzc2lnbiB2YWx1ZXMgdG8gdGhlIGFycmF5Cn0KZGVsZXRlW10gYXJyOyAgICAgICAgIC8vIERlYWxsb2NhdGUgdGhlIG1lbW9yeQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>int* arr = new int[5]; // Allocate memory for an array of 5 integers
for (int i = 0; i &lt; 5; ++i) {
    arr[i] = i * 10;  // Assign values to the array
}
delete[] arr;         // Deallocate the memory</pre></div><div class='content'></div><h1>Advanced Dynamic Memory Allocation</h1>
<div class='content'></div><h2>Custom Deleters</h2>
<div class='content'><p>When using smart pointers, custom deleters can be specified to manage resource cleanup.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPG1lbW9yeT4KI2luY2x1ZGUgPGlvc3RyZWFtPgoKdm9pZCBjdXN0b21EZWxldGVyKGludCogcHRyKSB7CiAgICBzdGQ6OmNvdXQgPDwgIkN1c3RvbSBkZWxldGVyIGNhbGxlZFxuIjsKICAgIGRlbGV0ZSBwdHI7Cn0KCmludCBtYWluKCkgewogICAgc3RkOjp1bmlxdWVfcHRyPGludCwgdm9pZCgqKShpbnQqKT4gcHRyKG5ldyBpbnQsIGN1c3RvbURlbGV0ZXIpOwogICAgKnB0ciA9IDIwOwogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;memory&gt;
#include &lt;iostream&gt;

void customDeleter(int* ptr) {
    std::cout &lt;&lt; &quot;Custom deleter called\n&quot;;
    delete ptr;
}

int main() {
    std::unique_ptr&lt;int, void(*)(int*)&gt; ptr(new int, customDeleter);
    *ptr = 20;
    return 0;
}</pre></div><div class='content'></div><h2>Memory Leaks and Management</h2>
<div class='content'><p>Proper memory management is crucial to avoid memory leaks, where allocated memory is not properly deallocated.</p>
<ul>
<li><strong>Memory Leak Example</strong>:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBtZW1vcnlMZWFrKCkgewogICAgaW50KiBwdHIgPSBuZXcgaW50KDEwKTsKICAgIC8vIEZvcmdvdCB0byBkZWxldGUgcHRyLCBjYXVzaW5nIGEgbWVtb3J5IGxlYWsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void memoryLeak() {
    int* ptr = new int(10);
    // Forgot to delete ptr, causing a memory leak
}</pre></div><div class='content'><ul>
<li><strong>Avoiding Memory Leaks</strong>:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBub01lbW9yeUxlYWsoKSB7CiAgICBpbnQqIHB0ciA9IG5ldyBpbnQoMTApOwogICAgZGVsZXRlIHB0cjsgLy8gUHJvcGVybHkgZGVhbGxvY2F0ZSBtZW1vcnkKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void noMemoryLeak() {
    int* ptr = new int(10);
    delete ptr; // Properly deallocate memory
}</pre></div><div class='content'></div><h2>Smart Pointers</h2>
<div class='content'><p>Smart pointers (<code>std::unique_ptr</code>, <code>std::shared_ptr</code>, <code>std::weak_ptr</code>) help manage dynamic memory automatically.</p>
<ul>
<li><strong>Unique Pointer</strong>:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPG1lbW9yeT4KCnN0ZDo6dW5pcXVlX3B0cjxpbnQ+IHVuaXF1ZVB0cihuZXcgaW50KDEwKSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;memory&gt;

std::unique_ptr&lt;int&gt; uniquePtr(new int(10));</pre></div><div class='content'><ul>
<li><strong>Shared Pointer</strong>:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPG1lbW9yeT4KCnN0ZDo6c2hhcmVkX3B0cjxpbnQ+IHNoYXJlZFB0cjEgPSBzdGQ6Om1ha2Vfc2hhcmVkPGludD4oMTApOwpzdGQ6OnNoYXJlZF9wdHI8aW50PiBzaGFyZWRQdHIyID0gc2hhcmVkUHRyMTsgLy8gU2hhcmVkIG93bmVyc2hpcA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;memory&gt;

std::shared_ptr&lt;int&gt; sharedPtr1 = std::make_shared&lt;int&gt;(10);
std::shared_ptr&lt;int&gt; sharedPtr2 = sharedPtr1; // Shared ownership</pre></div><div class='content'></div><h1>Summary</h1>
<div class='content'><p>Dynamic memory allocation in C++ allows for flexible and efficient memory management at runtime. Key concepts include the use of the heap, pointers, and the <code>new</code> and <code>delete</code> operators. Advanced techniques involve custom deleters and smart pointers to manage memory automatically and avoid leaks. Proper understanding and application of these concepts are essential for developing robust C++ applications.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='references'>&#x25C4;References</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dynamic Memory Allocation in C++</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-oop'>Introduction to OOP &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
