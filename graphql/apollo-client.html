<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apollo Client</title>

    <link rel="alternate" href="https://campusempresa.com/graphql/apollo-client" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/graphql/apollo-client" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/graphql/apollo-client" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/graphql/apollo-client" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/graphql/apollo-client" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='graphiql-and-playground'>&#x25C4;GraphiQL and Playground</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Apollo Client</a>
	</div>
	<div class='col-4 text-end'>
					<a href='relay'>Relay &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Apollo Client is a comprehensive state management library for JavaScript that enables you to manage both local and remote data with GraphQL. It is designed to work seamlessly with any GraphQL server and can be integrated with any JavaScript framework.</p>
</div><h1>Introduction to Apollo Client</h1>
<div class='content'><ul>
<li>
<p><strong>What is Apollo Client?</strong></p>
<ul>
<li>A state management library for JavaScript applications.</li>
<li>Works with GraphQL to manage both local and remote data.</li>
<li>Can be integrated with any JavaScript framework (React, Vue, Angular, etc.).</li>
</ul>
</li>
<li>
<p><strong>Why use Apollo Client?</strong></p>
<ul>
<li>Simplifies data fetching and state management.</li>
<li>Provides powerful tools for caching, error handling, and more.</li>
<li>Enhances developer productivity with features like query batching and optimistic UI updates.</li>
</ul>
</li>
</ul>
</div><h1>Setting Up Apollo Client</h1>
<div class='content'></div><h2>Installation</h2>
<div class='content'><p>To get started with Apollo Client, you need to install the necessary packages. For a React application, you would typically install <code>@apollo/client</code> and <code>graphql</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQGFwb2xsby9jbGllbnQgZ3JhcGhxbA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @apollo/client graphql</pre></div><div class='content'></div><h2>Basic Setup</h2>
<div class='content'><p>After installing the packages, you need to set up the Apollo Client in your application. Here's a basic example of how to configure Apollo Client in a React application:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQXBvbGxvQ2xpZW50LCBJbk1lbW9yeUNhY2hlLCBBcG9sbG9Qcm92aWRlciB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JzsKCmNvbnN0IGNsaWVudCA9IG5ldyBBcG9sbG9DbGllbnQoewogIHVyaTogJ2h0dHBzOi8veW91ci1ncmFwaHFsLWVuZHBvaW50LmNvbS9ncmFwaHFsJywKICBjYWNoZTogbmV3IEluTWVtb3J5Q2FjaGUoKQp9KTsKCmNvbnN0IEFwcCA9ICgpID0+ICgKICA8QXBvbGxvUHJvdmlkZXIgY2xpZW50PXtjbGllbnR9PgogICAgPFlvdXJDb21wb25lbnQgLz4KICA8L0Fwb2xsb1Byb3ZpZGVyPgopOwoKZXhwb3J0IGRlZmF1bHQgQXBwOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import { ApolloClient, InMemoryCache, ApolloProvider } from '@apollo/client';

const client = new ApolloClient({
  uri: 'https://your-graphql-endpoint.com/graphql',
  cache: new InMemoryCache()
});

const App = () =&gt; (
  &lt;ApolloProvider client={client}&gt;
    &lt;YourComponent /&gt;
  &lt;/ApolloProvider&gt;
);

export default App;</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li><code>ApolloClient</code>: Creates a new instance of Apollo Client.</li>
<li><code>InMemoryCache</code>: A caching mechanism provided by Apollo Client.</li>
<li><code>ApolloProvider</code>: A React component that provides the Apollo Client instance to your React component tree.</li>
</ul>
</li>
</ul>
</div><h1>Fetching Data with Queries</h1>
<div class='content'></div><h2>Basic Query</h2>
<div class='content'><p>To fetch data, you use the <code>useQuery</code> hook provided by Apollo Client. Here's an example of how to fetch data from a GraphQL endpoint:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlUXVlcnksIGdxbCB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JzsKCmNvbnN0IEdFVF9EQVRBID0gZ3FsYAogIHF1ZXJ5IEdldERhdGEgewogICAgZGF0YSB7CiAgICAgIGlkCiAgICAgIG5hbWUKICAgIH0KICB9CmA7Cgpjb25zdCBEYXRhQ29tcG9uZW50ID0gKCkgPT4gewogIGNvbnN0IHsgbG9hZGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KEdFVF9EQVRBKTsKCiAgaWYgKGxvYWRpbmcpIHJldHVybiA8cD5Mb2FkaW5nLi4uPC9wPjsKICBpZiAoZXJyb3IpIHJldHVybiA8cD5FcnJvcjoge2Vycm9yLm1lc3NhZ2V9PC9wPjsKCiAgcmV0dXJuICgKICAgIDx1bD4KICAgICAge2RhdGEuZGF0YS5tYXAoaXRlbSA9PiAoCiAgICAgICAgPGxpIGtleT17aXRlbS5pZH0+e2l0ZW0ubmFtZX08L2xpPgogICAgICApKX0KICAgIDwvdWw+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IERhdGFDb21wb25lbnQ7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import { useQuery, gql } from '@apollo/client';

const GET_DATA = gql`
  query GetData {
    data {
      id
      name
    }
  }
`;

const DataComponent = () =&gt; {
  const { loading, error, data } = useQuery(GET_DATA);

  if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
  if (error) return &lt;p&gt;Error: {error.message}&lt;/p&gt;;

  return (
    &lt;ul&gt;
      {data.data.map(item =&gt; (
        &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  );
};

export default DataComponent;</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li><code>gql</code>: A function to parse GraphQL queries.</li>
<li><code>useQuery</code>: A hook to execute the query and manage its state (loading, error, data).</li>
</ul>
</li>
</ul>
</div><h1>Mutating Data with Mutations</h1>
<div class='content'></div><h2>Basic Mutation</h2>
<div class='content'><p>To modify data, you use the <code>useMutation</code> hook. Here's an example of how to perform a mutation:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VNdXRhdGlvbiwgZ3FsIH0gZnJvbSAnQGFwb2xsby9jbGllbnQnOwoKY29uc3QgQUREX0RBVEEgPSBncWxgCiAgbXV0YXRpb24gQWRkRGF0YSgkbmFtZTogU3RyaW5nISkgewogICAgYWRkRGF0YShuYW1lOiAkbmFtZSkgewogICAgICBpZAogICAgICBuYW1lCiAgICB9CiAgfQpgOwoKY29uc3QgQWRkRGF0YUNvbXBvbmVudCA9ICgpID0+IHsKICBjb25zdCBbbmFtZSwgc2V0TmFtZV0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW2FkZERhdGEsIHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfV0gPSB1c2VNdXRhdGlvbihBRERfREFUQSk7CgogIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlKSA9PiB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBhZGREYXRhKHsgdmFyaWFibGVzOiB7IG5hbWUgfSB9KTsKICB9OwoKICBpZiAobG9hZGluZykgcmV0dXJuIDxwPkxvYWRpbmcuLi48L3A+OwogIGlmIChlcnJvcikgcmV0dXJuIDxwPkVycm9yOiB7ZXJyb3IubWVzc2FnZX08L3A+OwoKICByZXR1cm4gKAogICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+CiAgICAgIDxpbnB1dAogICAgICAgIHR5cGU9InRleHQiCiAgICAgICAgdmFsdWU9e25hbWV9CiAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROYW1lKGUudGFyZ2V0LnZhbHVlKX0KICAgICAgLz4KICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiPkFkZCBEYXRhPC9idXR0b24+CiAgICAgIHtkYXRhICYmIDxwPkFkZGVkOiB7ZGF0YS5hZGREYXRhLm5hbWV9PC9wPn0KICAgIDwvZm9ybT4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQWRkRGF0YUNvbXBvbmVudDs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState } from 'react';
import { useMutation, gql } from '@apollo/client';

const ADD_DATA = gql`
  mutation AddData($name: String!) {
    addData(name: $name) {
      id
      name
    }
  }
`;

const AddDataComponent = () =&gt; {
  const [name, setName] = useState('');
  const [addData, { data, loading, error }] = useMutation(ADD_DATA);

  const handleSubmit = (e) =&gt; {
    e.preventDefault();
    addData({ variables: { name } });
  };

  if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
  if (error) return &lt;p&gt;Error: {error.message}&lt;/p&gt;;

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input
        type=&quot;text&quot;
        value={name}
        onChange={(e) =&gt; setName(e.target.value)}
      /&gt;
      &lt;button type=&quot;submit&quot;&gt;Add Data&lt;/button&gt;
      {data &amp;&amp; &lt;p&gt;Added: {data.addData.name}&lt;/p&gt;}
    &lt;/form&gt;
  );
};

export default AddDataComponent;</pre></div><div class='content'><ul>
<li><strong>Explanation:</strong>
<ul>
<li><code>useMutation</code>: A hook to execute the mutation and manage its state (loading, error, data).</li>
<li><code>variables</code>: An object containing the variables required by the mutation.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Features</h1>
<div class='content'></div><h2>Caching</h2>
<div class='content'><p>Apollo Client provides a powerful caching mechanism to improve performance and reduce network requests. The <code>InMemoryCache</code> is the default cache implementation.</p>
<ul>
<li><strong>Cache Configuration:</strong>
<ul>
<li>You can configure the cache to manage how data is normalized and stored.</li>
<li>Example: Customizing cache keys.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgY2FjaGUgPSBuZXcgSW5NZW1vcnlDYWNoZSh7CiAgdHlwZVBvbGljaWVzOiB7CiAgICBRdWVyeTogewogICAgICBmaWVsZHM6IHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBrZXlBcmdzOiBmYWxzZSwKICAgICAgICAgIG1lcmdlKGV4aXN0aW5nID0gW10sIGluY29taW5nKSB7CiAgICAgICAgICAgIHJldHVybiBbLi4uZXhpc3RpbmcsIC4uLmluY29taW5nXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0pOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const cache = new InMemoryCache({
  typePolicies: {
    Query: {
      fields: {
        data: {
          keyArgs: false,
          merge(existing = [], incoming) {
            return [...existing, ...incoming];
          }
        }
      }
    }
  }
});</pre></div><div class='content'></div><h2>Error Handling</h2>
<div class='content'><p>Apollo Client provides built-in error handling mechanisms to manage errors gracefully.</p>
<ul>
<li><strong>Error Handling Example:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgY2xpZW50ID0gbmV3IEFwb2xsb0NsaWVudCh7CiAgdXJpOiAnaHR0cHM6Ly95b3VyLWdyYXBocWwtZW5kcG9pbnQuY29tL2dyYXBocWwnLAogIGNhY2hlOiBuZXcgSW5NZW1vcnlDYWNoZSgpLAogIG9uRXJyb3I6ICh7IGdyYXBoUUxFcnJvcnMsIG5ldHdvcmtFcnJvciB9KSA9PiB7CiAgICBpZiAoZ3JhcGhRTEVycm9ycykgewogICAgICBncmFwaFFMRXJyb3JzLmZvckVhY2goKHsgbWVzc2FnZSwgbG9jYXRpb25zLCBwYXRoIH0pID0+CiAgICAgICAgY29uc29sZS5sb2coYFtHcmFwaFFMIGVycm9yXTogTWVzc2FnZTogJHttZXNzYWdlfSwgTG9jYXRpb246ICR7bG9jYXRpb25zfSwgUGF0aDogJHtwYXRofWApCiAgICAgICk7CiAgICB9CiAgICBpZiAobmV0d29ya0Vycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGBbTmV0d29yayBlcnJvcl06ICR7bmV0d29ya0Vycm9yfWApOwogICAgfQogIH0KfSk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const client = new ApolloClient({
  uri: 'https://your-graphql-endpoint.com/graphql',
  cache: new InMemoryCache(),
  onError: ({ graphQLErrors, networkError }) =&gt; {
    if (graphQLErrors) {
      graphQLErrors.forEach(({ message, locations, path }) =&gt;
        console.log(`[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`)
      );
    }
    if (networkError) {
      console.log(`[Network error]: ${networkError}`);
    }
  }
});</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Apollo Client is a powerful tool for managing GraphQL data in JavaScript applications. It simplifies data fetching, caching, and state management, making it easier to build robust and efficient applications. By understanding the basics of setting up Apollo Client, fetching and mutating data, and leveraging advanced features like caching and error handling, you can effectively integrate GraphQL into your projects and enhance your development workflow.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='graphiql-and-playground'>&#x25C4;GraphiQL and Playground</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Apollo Client</a>
	</div>
	<div class='col-4 text-end'>
					<a href='relay'>Relay &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
