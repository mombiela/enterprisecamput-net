<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementing the Frontend</title>

    <link rel="alternate" href="https://campusempresa.com/graphql/implementing-frontend" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/graphql/implementing-frontend" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/graphql/implementing-frontend" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/graphql/implementing-frontend" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/graphql/implementing-frontend" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='implementing-backend'>&#x25C4;Implementing the Backend</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Implementing the Frontend</a>
	</div>
	<div class='col-4 text-end'>
					<a href='deploying-application'>Deploying the Application &#x25BA;</a>
			</div>
</div>
<div class='content'><p>In this section, we will explore how to implement a frontend that interacts with a GraphQL API. We will cover the basics of setting up a frontend project, making GraphQL queries and mutations, and handling responses. By the end of this section, you will be able to create a simple frontend application that communicates with a GraphQL server.</p>
</div><h1>Setting Up the Frontend Project</h1>
<div class='content'><p>To get started, we need to set up a frontend project. We will use React for this example, but the concepts can be applied to other frontend frameworks as well.</p>
</div><h2>Prerequisites</h2>
<div class='content'><ul>
<li>Node.js and npm installed</li>
<li>Basic knowledge of React</li>
</ul>
</div><h2>Steps to Set Up</h2>
<div class='content'><ol>
<li>
<p><strong>Create a new React project:</strong></p>
<pre><code class="language-bash">npx create-react-app graphql-frontend
cd graphql-frontend
</code></pre>
</li>
<li>
<p><strong>Install Apollo Client:</strong></p>
<p>Apollo Client is a popular library for interacting with GraphQL APIs in a React application.</p>
<pre><code class="language-bash">npm install @apollo/client graphql
</code></pre>
</li>
<li>
<p><strong>Set up Apollo Client:</strong></p>
<p>Create a new file <code>src/apolloClient.js</code> and configure Apollo Client.</p>
<pre><code class="language-javascript">import { ApolloClient, InMemoryCache, ApolloProvider } from '@apollo/client';

const client = new ApolloClient({
  uri: 'http://localhost:4000/graphql', // Replace with your GraphQL server URL
  cache: new InMemoryCache()
});

export default client;
</code></pre>
</li>
<li>
<p><strong>Wrap your application with ApolloProvider:</strong></p>
<p>Modify <code>src/index.js</code> to include ApolloProvider.</p>
<pre><code class="language-javascript">import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import client from './apolloClient';
import { ApolloProvider } from '@apollo/client';

ReactDOM.render(
  &lt;ApolloProvider client={client}&gt;
    &lt;App /&gt;
  &lt;/ApolloProvider&gt;,
  document.getElementById('root')
);
</code></pre>
</li>
</ol>
</div><h1>Making GraphQL Queries</h1>
<div class='content'><p>Now that we have set up our project, let's make a GraphQL query to fetch data from the server.</p>
</div><h2>Example Query</h2>
<div class='content'><ol>
<li>
<p><strong>Define the query:</strong></p>
<p>Create a new file <code>src/queries.js</code> and define your GraphQL query.</p>
<pre><code class="language-javascript">import { gql } from '@apollo/client';

export const GET_USERS = gql`
  query GetUsers {
    users {
      id
      name
      email
    }
  }
`;
</code></pre>
</li>
<li>
<p><strong>Use the query in a component:</strong></p>
<p>Modify <code>src/App.js</code> to use the query.</p>
<pre><code class="language-javascript">import React from 'react';
import { useQuery } from '@apollo/client';
import { GET_USERS } from './queries';

function App() {
  const { loading, error, data } = useQuery(GET_USERS);

  if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
  if (error) return &lt;p&gt;Error :(&lt;/p&gt;;

  return (
    &lt;div&gt;
      &lt;h1&gt;Users&lt;/h1&gt;
      &lt;ul&gt;
        {data.users.map(user =&gt; (
          &lt;li key={user.id}&gt;
            {user.name} - {user.email}
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
</ol>
</div><h1>Making GraphQL Mutations</h1>
<div class='content'><p>In addition to queries, we can also perform mutations to modify data on the server.</p>
</div><h2>Example Mutation</h2>
<div class='content'><ol>
<li>
<p><strong>Define the mutation:</strong></p>
<p>Add a mutation to <code>src/queries.js</code>.</p>
<pre><code class="language-javascript">export const ADD_USER = gql`
  mutation AddUser($name: String!, $email: String!) {
    addUser(name: $name, email: $email) {
      id
      name
      email
    }
  }
`;
</code></pre>
</li>
<li>
<p><strong>Use the mutation in a component:</strong></p>
<p>Modify <code>src/App.js</code> to include a form for adding a new user.</p>
<pre><code class="language-javascript">import React, { useState } from 'react';
import { useQuery, useMutation } from '@apollo/client';
import { GET_USERS, ADD_USER } from './queries';

function App() {
  const { loading, error, data } = useQuery(GET_USERS);
  const [addUser] = useMutation(ADD_USER);
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');

  const handleSubmit = async (e) =&gt; {
    e.preventDefault();
    await addUser({ variables: { name, email } });
    setName('');
    setEmail('');
  };

  if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
  if (error) return &lt;p&gt;Error :(&lt;/p&gt;;

  return (
    &lt;div&gt;
      &lt;h1&gt;Users&lt;/h1&gt;
      &lt;ul&gt;
        {data.users.map(user =&gt; (
          &lt;li key={user.id}&gt;
            {user.name} - {user.email}
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
      &lt;h2&gt;Add User&lt;/h2&gt;
      &lt;form onSubmit={handleSubmit}&gt;
        &lt;input
          type=&quot;text&quot;
          placeholder=&quot;Name&quot;
          value={name}
          onChange={(e) =&gt; setName(e.target.value)}
        /&gt;
        &lt;input
          type=&quot;email&quot;
          placeholder=&quot;Email&quot;
          value={email}
          onChange={(e) =&gt; setEmail(e.target.value)}
        /&gt;
        &lt;button type=&quot;submit&quot;&gt;Add User&lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
</ol>
</div><h1>Handling Responses and Errors</h1>
<div class='content'><p>Handling responses and errors is crucial for a robust application.</p>
</div><h2>Example</h2>
<div class='content'><ol>
<li>
<p><strong>Loading and Error States:</strong></p>
<p>Ensure you handle loading and error states in your components.</p>
<pre><code class="language-javascript">if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
if (error) return &lt;p&gt;Error :(&lt;/p&gt;;
</code></pre>
</li>
<li>
<p><strong>Optimistic UI Updates:</strong></p>
<p>For a better user experience, you can use optimistic UI updates when performing mutations.</p>
<pre><code class="language-javascript">const [addUser] = useMutation(ADD_USER, {
  optimisticResponse: {
    addUser: {
      id: -1, // Temporary ID
      name,
      email,
      __typename: 'User'
    }
  },
  update: (cache, { data: { addUser } }) =&gt; {
    const { users } = cache.readQuery({ query: GET_USERS });
    cache.writeQuery({
      query: GET_USERS,
      data: { users: users.concat([addUser]) }
    });
  }
});
</code></pre>
</li>
</ol>
</div><h1>Conclusion</h1>
<div class='content'><p>In this section, we covered the basics of implementing a frontend that interacts with a GraphQL API. We set up a React project with Apollo Client, made GraphQL queries and mutations, and handled responses and errors. With these skills, you can build more complex applications that leverage the power of GraphQL for efficient data fetching and manipulation.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementing-backend'>&#x25C4;Implementing the Backend</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Implementing the Frontend</a>
	</div>
	<div class='col-4 text-end'>
					<a href='deploying-application'>Deploying the Application &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
