<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Study: Financial Transactions</title>

    <link rel="alternate" href="https://campusempresa.com/postgresql/case-study-financial-transactions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/postgresql/case-study-financial-transactions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/postgresql/case-study-financial-transactions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/postgresql/case-study-financial-transactions" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/postgresql/case-study-financial-transactions" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='case-study-analytics-platform'>&#x25C4;Case Study: Analytics Platform</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Case Study: Financial Transactions</a>
	</div>
	<div class='col-4 text-end'>
					<a href='best-practices-and-lessons-learned'>Best Practices and Lessons Learned &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction</h1>
<div class='content'><p>In this case study, we will explore how to manage financial transactions using PostgreSQL. This will include creating tables, inserting data, performing queries, and ensuring data integrity. By the end of this section, you will have a solid understanding of how to handle financial data in a relational database.</p>
</div><h1>Setting Up the Database</h1>
<div class='content'></div><h2>Creating the Database</h2>
<div class='content'><p>First, let's create a new database for our financial transactions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIERBVEFCQVNFIGZpbmFuY2lhbF90cmFuc2FjdGlvbnM7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE DATABASE financial_transactions;</pre></div><div class='content'></div><h2>Connecting to the Database</h2>
<div class='content'><p>Connect to the newly created database.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("XGMgZmluYW5jaWFsX3RyYW5zYWN0aW9uczs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>\c financial_transactions;</pre></div><div class='content'></div><h1>Creating Tables</h1>
<div class='content'></div><h2>Accounts Table</h2>
<div class='content'><p>We need a table to store account information.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGFjY291bnRzICgKICAgIGFjY291bnRfaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgYWNjb3VudF9uYW1lIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCwKICAgIGJhbGFuY2UgTlVNRVJJQygxNSwgMikgTk9UIE5VTEwgREVGQVVMVCAwLjAwCik7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE accounts (
    account_id SERIAL PRIMARY KEY,
    account_name VARCHAR(100) NOT NULL,
    balance NUMERIC(15, 2) NOT NULL DEFAULT 0.00
);</pre></div><div class='content'><ul>
<li><code>account_id</code>: Unique identifier for each account.</li>
<li><code>account_name</code>: Name of the account holder.</li>
<li><code>balance</code>: Current balance of the account.</li>
</ul>
</div><h2>Transactions Table</h2>
<div class='content'><p>Next, we create a table to store transaction details.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHRyYW5zYWN0aW9ucyAoCiAgICB0cmFuc2FjdGlvbl9pZCBTRVJJQUwgUFJJTUFSWSBLRVksCiAgICBhY2NvdW50X2lkIElOVCBSRUZFUkVOQ0VTIGFjY291bnRzKGFjY291bnRfaWQpLAogICAgdHJhbnNhY3Rpb25fZGF0ZSBUSU1FU1RBTVAgTk9UIE5VTEwgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCwKICAgIGFtb3VudCBOVU1FUklDKDE1LCAyKSBOT1QgTlVMTCwKICAgIHRyYW5zYWN0aW9uX3R5cGUgVkFSQ0hBUigxMCkgQ0hFQ0sgKHRyYW5zYWN0aW9uX3R5cGUgSU4gKCdjcmVkaXQnLCAnZGViaXQnKSkKKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE transactions (
    transaction_id SERIAL PRIMARY KEY,
    account_id INT REFERENCES accounts(account_id),
    transaction_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    amount NUMERIC(15, 2) NOT NULL,
    transaction_type VARCHAR(10) CHECK (transaction_type IN ('credit', 'debit'))
);</pre></div><div class='content'><ul>
<li><code>transaction_id</code>: Unique identifier for each transaction.</li>
<li><code>account_id</code>: Foreign key referencing the <code>accounts</code> table.</li>
<li><code>transaction_date</code>: Date and time of the transaction.</li>
<li><code>amount</code>: Amount of the transaction.</li>
<li><code>transaction_type</code>: Type of transaction, either 'credit' or 'debit'.</li>
</ul>
</div><h1>Inserting Data</h1>
<div class='content'></div><h2>Adding Accounts</h2>
<div class='content'><p>Let's add some accounts to our <code>accounts</code> table.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gYWNjb3VudHMgKGFjY291bnRfbmFtZSwgYmFsYW5jZSkgVkFMVUVTCignQWxpY2UnLCAxMDAwLjAwKSwKKCdCb2InLCAxNTAwLjAwKSwKKCdDaGFybGllJywgMjAwMC4wMCk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO accounts (account_name, balance) VALUES
('Alice', 1000.00),
('Bob', 1500.00),
('Charlie', 2000.00);</pre></div><div class='content'></div><h2>Adding Transactions</h2>
<div class='content'><p>Now, we will add some transactions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gdHJhbnNhY3Rpb25zIChhY2NvdW50X2lkLCBhbW91bnQsIHRyYW5zYWN0aW9uX3R5cGUpIFZBTFVFUwooMSwgMjAwLjAwLCAnY3JlZGl0JyksCigyLCAzMDAuMDAsICdkZWJpdCcpLAooMywgMTUwLjAwLCAnY3JlZGl0JyksCigxLCA1MC4wMCwgJ2RlYml0Jyk7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO transactions (account_id, amount, transaction_type) VALUES
(1, 200.00, 'credit'),
(2, 300.00, 'debit'),
(3, 150.00, 'credit'),
(1, 50.00, 'debit');</pre></div><div class='content'></div><h1>Querying Data</h1>
<div class='content'></div><h2>Viewing Account Balances</h2>
<div class='content'><p>To view the current balance of all accounts:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBhY2NvdW50czs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM accounts;</pre></div><div class='content'></div><h2>Viewing Transactions</h2>
<div class='content'><p>To view all transactions:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSB0cmFuc2FjdGlvbnM7"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM transactions;</pre></div><div class='content'></div><h2>Joining Tables</h2>
<div class='content'><p>To get a detailed view of transactions along with account names:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHQudHJhbnNhY3Rpb25faWQsIGEuYWNjb3VudF9uYW1lLCB0LnRyYW5zYWN0aW9uX2RhdGUsIHQuYW1vdW50LCB0LnRyYW5zYWN0aW9uX3R5cGUKRlJPTSB0cmFuc2FjdGlvbnMgdApKT0lOIGFjY291bnRzIGEgT04gdC5hY2NvdW50X2lkID0gYS5hY2NvdW50X2lkOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT t.transaction_id, a.account_name, t.transaction_date, t.amount, t.transaction_type
FROM transactions t
JOIN accounts a ON t.account_id = a.account_id;</pre></div><div class='content'></div><h1>Ensuring Data Integrity</h1>
<div class='content'></div><h2>Using Transactions</h2>
<div class='content'><p>To ensure data integrity during complex operations, use transactions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU47CgpVUERBVEUgYWNjb3VudHMgU0VUIGJhbGFuY2UgPSBiYWxhbmNlIC0gMTAwIFdIRVJFIGFjY291bnRfaWQgPSAxOwpJTlNFUlQgSU5UTyB0cmFuc2FjdGlvbnMgKGFjY291bnRfaWQsIGFtb3VudCwgdHJhbnNhY3Rpb25fdHlwZSkgVkFMVUVTICgxLCAxMDAuMDAsICdkZWJpdCcpOwoKQ09NTUlUOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN;

UPDATE accounts SET balance = balance - 100 WHERE account_id = 1;
INSERT INTO transactions (account_id, amount, transaction_type) VALUES (1, 100.00, 'debit');

COMMIT;</pre></div><div class='content'></div><h2>Rollback Example</h2>
<div class='content'><p>If something goes wrong, you can rollback the transaction.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU47CgpVUERBVEUgYWNjb3VudHMgU0VUIGJhbGFuY2UgPSBiYWxhbmNlIC0gMTAwIFdIRVJFIGFjY291bnRfaWQgPSAxOwotLSBTaW11bGF0ZSBhbiBlcnJvcgotLSBJTlNFUlQgSU5UTyB0cmFuc2FjdGlvbnMgKGFjY291bnRfaWQsIGFtb3VudCwgdHJhbnNhY3Rpb25fdHlwZSkgVkFMVUVTICgxLCAnaW52YWxpZF9hbW91bnQnLCAnZGViaXQnKTsKClJPTExCQUNLOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN;

UPDATE accounts SET balance = balance - 100 WHERE account_id = 1;
-- Simulate an error
-- INSERT INTO transactions (account_id, amount, transaction_type) VALUES (1, 'invalid_amount', 'debit');

ROLLBACK;</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>In this case study, we have covered the basics of managing financial transactions in PostgreSQL. We created tables for accounts and transactions, inserted data, performed queries, and ensured data integrity using transactions. This foundational knowledge will help you manage financial data effectively in a relational database.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='case-study-analytics-platform'>&#x25C4;Case Study: Analytics Platform</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Case Study: Financial Transactions</a>
	</div>
	<div class='col-4 text-end'>
					<a href='best-practices-and-lessons-learned'>Best Practices and Lessons Learned &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
