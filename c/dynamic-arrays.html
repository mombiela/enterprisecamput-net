<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Arrays in C</title>

    <link rel="alternate" href="https://campusempresa.com/c/dynamic-arrays" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/c/dynamic-arrays" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/c/dynamic-arrays" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/c/dynamic-arrays" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/c/dynamic-arrays" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='malloc-calloc-realloc-free'>&#x25C4;malloc, calloc, realloc, and free</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dynamic Arrays in C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='memory-leaks-and-management'>Memory Leaks and Management &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Dynamic arrays are a crucial concept in C programming, allowing you to create arrays whose size can be determined at runtime. This flexibility is essential for handling data that can change in size during the execution of a program.</p>
</div><h1>Introduction to Dynamic Arrays</h1>
<div class='content'><p>Dynamic arrays differ from static arrays in that their size is not fixed at compile time. Instead, memory for dynamic arrays is allocated during runtime using pointers and specific functions from the C standard library.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Static Arrays</strong>: Arrays with a fixed size determined at compile time.</li>
<li><strong>Dynamic Arrays</strong>: Arrays whose size can be determined and modified at runtime.</li>
<li><strong>Memory Allocation</strong>: Using functions like <code>malloc</code>, <code>calloc</code>, <code>realloc</code>, and <code>free</code> to manage memory for dynamic arrays.</li>
</ul>
</div><h1>Memory Allocation Functions</h1>
<div class='content'><p>To work with dynamic arrays, you need to understand the following memory allocation functions:</p>
<ul>
<li><code>malloc</code>: Allocates a specified number of bytes and returns a pointer to the first byte.</li>
<li><code>calloc</code>: Allocates memory for an array of elements, initializes them to zero, and returns a pointer to the memory.</li>
<li><code>realloc</code>: Changes the size of the previously allocated memory block.</li>
<li><code>free</code>: Deallocates the memory previously allocated by <code>malloc</code>, <code>calloc</code>, or <code>realloc</code>.</li>
</ul>
</div><h2>Example: Using `malloc` and `free`</h2>
<div class='content'><p>Here's a simple example demonstrating how to create and free a dynamic array using <code>malloc</code> and <code>free</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50IG47CiAgICBwcmludGYoIkVudGVyIHRoZSBudW1iZXIgb2YgZWxlbWVudHM6ICIpOwogICAgc2NhbmYoIiVkIiwgJm4pOwoKICAgIC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgbiBpbnRlZ2VycwogICAgaW50ICphcnIgPSAoaW50ICopbWFsbG9jKG4gKiBzaXplb2YoaW50KSk7CiAgICBpZiAoYXJyID09IE5VTEwpIHsKICAgICAgICBwcmludGYoIk1lbW9yeSBhbGxvY2F0aW9uIGZhaWxlZFxuIik7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgLy8gSW5pdGlhbGl6ZSBhbmQgcHJpbnQgdGhlIGFycmF5CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGFycltpXSA9IGkgKyAxOwogICAgICAgIHByaW50ZigiJWQgIiwgYXJyW2ldKTsKICAgIH0KICAgIHByaW50ZigiXG4iKTsKCiAgICAvLyBGcmVlIHRoZSBhbGxvY2F0ZWQgbWVtb3J5CiAgICBmcmVlKGFycik7CgogICAgcmV0dXJuIDA7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int n;
    printf(&quot;Enter the number of elements: &quot;);
    scanf(&quot;%d&quot;, &amp;n);

    // Allocate memory for n integers
    int *arr = (int *)malloc(n * sizeof(int));
    if (arr == NULL) {
        printf(&quot;Memory allocation failed\n&quot;);
        return 1;
    }

    // Initialize and print the array
    for (int i = 0; i &lt; n; i++) {
        arr[i] = i + 1;
        printf(&quot;%d &quot;, arr[i]);
    }
    printf(&quot;\n&quot;);

    // Free the allocated memory
    free(arr);

    return 0;
}</pre></div><div class='content'></div><h2>Example: Using `calloc`</h2>
<div class='content'><p><code>calloc</code> is similar to <code>malloc</code> but initializes the allocated memory to zero.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50IG47CiAgICBwcmludGYoIkVudGVyIHRoZSBudW1iZXIgb2YgZWxlbWVudHM6ICIpOwogICAgc2NhbmYoIiVkIiwgJm4pOwoKICAgIC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgbiBpbnRlZ2VycyBhbmQgaW5pdGlhbGl6ZSB0byB6ZXJvCiAgICBpbnQgKmFyciA9IChpbnQgKiljYWxsb2Mobiwgc2l6ZW9mKGludCkpOwogICAgaWYgKGFyciA9PSBOVUxMKSB7CiAgICAgICAgcHJpbnRmKCJNZW1vcnkgYWxsb2NhdGlvbiBmYWlsZWRcbiIpOwogICAgICAgIHJldHVybiAxOwogICAgfQoKICAgIC8vIFByaW50IHRoZSBhcnJheSAoYWxsIGVsZW1lbnRzIHNob3VsZCBiZSB6ZXJvKQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICBwcmludGYoIiVkICIsIGFycltpXSk7CiAgICB9CiAgICBwcmludGYoIlxuIik7CgogICAgLy8gRnJlZSB0aGUgYWxsb2NhdGVkIG1lbW9yeQogICAgZnJlZShhcnIpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int n;
    printf(&quot;Enter the number of elements: &quot;);
    scanf(&quot;%d&quot;, &amp;n);

    // Allocate memory for n integers and initialize to zero
    int *arr = (int *)calloc(n, sizeof(int));
    if (arr == NULL) {
        printf(&quot;Memory allocation failed\n&quot;);
        return 1;
    }

    // Print the array (all elements should be zero)
    for (int i = 0; i &lt; n; i++) {
        printf(&quot;%d &quot;, arr[i]);
    }
    printf(&quot;\n&quot;);

    // Free the allocated memory
    free(arr);

    return 0;
}</pre></div><div class='content'></div><h2>Example: Using `realloc`</h2>
<div class='content'><p><code>realloc</code> allows you to resize an existing dynamic array.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50IG4sIG5ld19uOwogICAgcHJpbnRmKCJFbnRlciB0aGUgaW5pdGlhbCBudW1iZXIgb2YgZWxlbWVudHM6ICIpOwogICAgc2NhbmYoIiVkIiwgJm4pOwoKICAgIC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgbiBpbnRlZ2VycwogICAgaW50ICphcnIgPSAoaW50ICopbWFsbG9jKG4gKiBzaXplb2YoaW50KSk7CiAgICBpZiAoYXJyID09IE5VTEwpIHsKICAgICAgICBwcmludGYoIk1lbW9yeSBhbGxvY2F0aW9uIGZhaWxlZFxuIik7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgLy8gSW5pdGlhbGl6ZSB0aGUgYXJyYXkKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgYXJyW2ldID0gaSArIDE7CiAgICB9CgogICAgLy8gUmVzaXplIHRoZSBhcnJheQogICAgcHJpbnRmKCJFbnRlciB0aGUgbmV3IG51bWJlciBvZiBlbGVtZW50czogIik7CiAgICBzY2FuZigiJWQiLCAmbmV3X24pOwogICAgYXJyID0gKGludCAqKXJlYWxsb2MoYXJyLCBuZXdfbiAqIHNpemVvZihpbnQpKTsKICAgIGlmIChhcnIgPT0gTlVMTCkgewogICAgICAgIHByaW50ZigiTWVtb3J5IHJlYWxsb2NhdGlvbiBmYWlsZWRcbiIpOwogICAgICAgIHJldHVybiAxOwogICAgfQoKICAgIC8vIEluaXRpYWxpemUgbmV3IGVsZW1lbnRzIGlmIHRoZSBhcnJheSBoYXMgZ3Jvd24KICAgIGZvciAoaW50IGkgPSBuOyBpIDwgbmV3X247IGkrKykgewogICAgICAgIGFycltpXSA9IGkgKyAxOwogICAgfQoKICAgIC8vIFByaW50IHRoZSBhcnJheQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuZXdfbjsgaSsrKSB7CiAgICAgICAgcHJpbnRmKCIlZCAiLCBhcnJbaV0pOwogICAgfQogICAgcHJpbnRmKCJcbiIpOwoKICAgIC8vIEZyZWUgdGhlIGFsbG9jYXRlZCBtZW1vcnkKICAgIGZyZWUoYXJyKTsKCiAgICByZXR1cm4gMDsKfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int n, new_n;
    printf(&quot;Enter the initial number of elements: &quot;);
    scanf(&quot;%d&quot;, &amp;n);

    // Allocate memory for n integers
    int *arr = (int *)malloc(n * sizeof(int));
    if (arr == NULL) {
        printf(&quot;Memory allocation failed\n&quot;);
        return 1;
    }

    // Initialize the array
    for (int i = 0; i &lt; n; i++) {
        arr[i] = i + 1;
    }

    // Resize the array
    printf(&quot;Enter the new number of elements: &quot;);
    scanf(&quot;%d&quot;, &amp;new_n);
    arr = (int *)realloc(arr, new_n * sizeof(int));
    if (arr == NULL) {
        printf(&quot;Memory reallocation failed\n&quot;);
        return 1;
    }

    // Initialize new elements if the array has grown
    for (int i = n; i &lt; new_n; i++) {
        arr[i] = i + 1;
    }

    // Print the array
    for (int i = 0; i &lt; new_n; i++) {
        printf(&quot;%d &quot;, arr[i]);
    }
    printf(&quot;\n&quot;);

    // Free the allocated memory
    free(arr);

    return 0;
}</pre></div><div class='content'></div><h1>Best Practices</h1>
<div class='content'><ul>
<li>Always check if the memory allocation was successful by verifying if the pointer is <code>NULL</code>.</li>
<li>Free the allocated memory using <code>free</code> to avoid memory leaks.</li>
<li>Be cautious when using <code>realloc</code> as it can return <code>NULL</code> if the reallocation fails, potentially leading to memory leaks if the original pointer is lost.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Dynamic arrays provide flexibility in managing collections of data whose size can change during program execution. Understanding how to use <code>malloc</code>, <code>calloc</code>, <code>realloc</code>, and <code>free</code> is essential for effective memory management in C. By following best practices, you can avoid common pitfalls such as memory leaks and segmentation faults.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='malloc-calloc-realloc-free'>&#x25C4;malloc, calloc, realloc, and free</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dynamic Arrays in C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='memory-leaks-and-management'>Memory Leaks and Management &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
