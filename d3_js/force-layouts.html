<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Force Layouts in D3.js</title>

    <link rel="alternate" href="https://campusempresa.com/d3_js/force-layouts" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/d3_js/force-layouts" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/d3_js/force-layouts" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/d3_js/force-layouts" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/d3_js/force-layouts" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='hierarchical-data-and-tree-layouts'>&#x25C4;Hierarchical Data and Tree Layouts</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Force Layouts in D3.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='choropleth-maps'>Choropleth Maps &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Force Layouts</h1>
<div class='content'><p>Force layouts are a powerful feature in D3.js that allow you to create dynamic, interactive visualizations of network data. They use physical simulation to position nodes and links in a way that reveals the structure of the data.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Nodes</strong>: Represent entities in the network.</li>
<li><strong>Links</strong>: Represent relationships between nodes.</li>
<li><strong>Forces</strong>: Simulate physical forces to position nodes and links.</li>
</ul>
</div><h1>Setting Up a Basic Force Layout</h1>
<div class='content'><p>To get started with force layouts in D3.js, you need to set up your HTML and JavaScript environment.</p>
</div><h2>HTML Setup</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+Rm9yY2UgTGF5b3V0IEV4YW1wbGU8L3RpdGxlPgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vZDNqcy5vcmcvZDMudjYubWluLmpzIj48L3NjcmlwdD4KICAgIDxzdHlsZT4KICAgICAgICAubm9kZSB7CiAgICAgICAgICAgIHN0cm9rZTogI2ZmZjsKICAgICAgICAgICAgc3Ryb2tlLXdpZHRoOiAxLjVweDsKICAgICAgICB9CiAgICAgICAgLmxpbmsgewogICAgICAgICAgICBzdHJva2U6ICM5OTk7CiAgICAgICAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjY7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxzdmcgd2lkdGg9Ijk2MCIgaGVpZ2h0PSI2MDAiPjwvc3ZnPgogICAgPHNjcmlwdCBzcmM9ImZvcmNlLWxheW91dC5qcyI+PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Force Layout Example&lt;/title&gt;
    &lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;
    &lt;style&gt;
        .node {
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .link {
            stroke: #999;
            stroke-opacity: 0.6;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;svg width=&quot;960&quot; height=&quot;600&quot;&gt;&lt;/svg&gt;
    &lt;script src=&quot;force-layout.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>JavaScript Setup</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3Qgc3ZnID0gZDMuc2VsZWN0KCJzdmciKSwKICAgIHdpZHRoID0gK3N2Zy5hdHRyKCJ3aWR0aCIpLAogICAgaGVpZ2h0ID0gK3N2Zy5hdHRyKCJoZWlnaHQiKTsKCmNvbnN0IG5vZGVzID0gWwogICAgeyBpZDogMSB9LCB7IGlkOiAyIH0sIHsgaWQ6IDMgfSwgeyBpZDogNCB9Cl07Cgpjb25zdCBsaW5rcyA9IFsKICAgIHsgc291cmNlOiAxLCB0YXJnZXQ6IDIgfSwKICAgIHsgc291cmNlOiAyLCB0YXJnZXQ6IDMgfSwKICAgIHsgc291cmNlOiAzLCB0YXJnZXQ6IDQgfSwKICAgIHsgc291cmNlOiA0LCB0YXJnZXQ6IDEgfQpdOwoKY29uc3Qgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbihub2RlcykKICAgIC5mb3JjZSgibGluayIsIGQzLmZvcmNlTGluayhsaW5rcykuaWQoZCA9PiBkLmlkKSkKICAgIC5mb3JjZSgiY2hhcmdlIiwgZDMuZm9yY2VNYW55Qm9keSgpKQogICAgLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3aWR0aCAvIDIsIGhlaWdodCAvIDIpKTsKCmNvbnN0IGxpbmsgPSBzdmcuYXBwZW5kKCJnIikKICAgIC5hdHRyKCJjbGFzcyIsICJsaW5rcyIpCiAgICAuc2VsZWN0QWxsKCJsaW5lIikKICAgIC5kYXRhKGxpbmtzKQogICAgLmVudGVyKCkuYXBwZW5kKCJsaW5lIikKICAgIC5hdHRyKCJjbGFzcyIsICJsaW5rIik7Cgpjb25zdCBub2RlID0gc3ZnLmFwcGVuZCgiZyIpCiAgICAuYXR0cigiY2xhc3MiLCAibm9kZXMiKQogICAgLnNlbGVjdEFsbCgiY2lyY2xlIikKICAgIC5kYXRhKG5vZGVzKQogICAgLmVudGVyKCkuYXBwZW5kKCJjaXJjbGUiKQogICAgLmF0dHIoImNsYXNzIiwgIm5vZGUiKQogICAgLmF0dHIoInIiLCA1KQogICAgLmNhbGwoZDMuZHJhZygpCiAgICAgICAgLm9uKCJzdGFydCIsIGRyYWdzdGFydGVkKQogICAgICAgIC5vbigiZHJhZyIsIGRyYWdnZWQpCiAgICAgICAgLm9uKCJlbmQiLCBkcmFnZW5kZWQpKTsKCnNpbXVsYXRpb24KICAgIC5ub2Rlcyhub2RlcykKICAgIC5vbigidGljayIsIHRpY2tlZCk7CgpzaW11bGF0aW9uLmZvcmNlKCJsaW5rIikKICAgIC5saW5rcyhsaW5rcyk7CgpmdW5jdGlvbiB0aWNrZWQoKSB7CiAgICBsaW5rCiAgICAgICAgLmF0dHIoIngxIiwgZCA9PiBkLnNvdXJjZS54KQogICAgICAgIC5hdHRyKCJ5MSIsIGQgPT4gZC5zb3VyY2UueSkKICAgICAgICAuYXR0cigieDIiLCBkID0+IGQudGFyZ2V0LngpCiAgICAgICAgLmF0dHIoInkyIiwgZCA9PiBkLnRhcmdldC55KTsKCiAgICBub2RlCiAgICAgICAgLmF0dHIoImN4IiwgZCA9PiBkLngpCiAgICAgICAgLmF0dHIoImN5IiwgZCA9PiBkLnkpOwp9CgpmdW5jdGlvbiBkcmFnc3RhcnRlZChldmVudCwgZCkgewogICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4zKS5yZXN0YXJ0KCk7CiAgICBkLmZ4ID0gZC54OwogICAgZC5meSA9IGQueTsKfQoKZnVuY3Rpb24gZHJhZ2dlZChldmVudCwgZCkgewogICAgZC5meCA9IGV2ZW50Lng7CiAgICBkLmZ5ID0gZXZlbnQueTsKfQoKZnVuY3Rpb24gZHJhZ2VuZGVkKGV2ZW50LCBkKSB7CiAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgIGQuZnggPSBudWxsOwogICAgZC5meSA9IG51bGw7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const svg = d3.select(&quot;svg&quot;),
    width = +svg.attr(&quot;width&quot;),
    height = +svg.attr(&quot;height&quot;);

const nodes = [
    { id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }
];

const links = [
    { source: 1, target: 2 },
    { source: 2, target: 3 },
    { source: 3, target: 4 },
    { source: 4, target: 1 }
];

const simulation = d3.forceSimulation(nodes)
    .force(&quot;link&quot;, d3.forceLink(links).id(d =&gt; d.id))
    .force(&quot;charge&quot;, d3.forceManyBody())
    .force(&quot;center&quot;, d3.forceCenter(width / 2, height / 2));

const link = svg.append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;links&quot;)
    .selectAll(&quot;line&quot;)
    .data(links)
    .enter().append(&quot;line&quot;)
    .attr(&quot;class&quot;, &quot;link&quot;);

const node = svg.append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;nodes&quot;)
    .selectAll(&quot;circle&quot;)
    .data(nodes)
    .enter().append(&quot;circle&quot;)
    .attr(&quot;class&quot;, &quot;node&quot;)
    .attr(&quot;r&quot;, 5)
    .call(d3.drag()
        .on(&quot;start&quot;, dragstarted)
        .on(&quot;drag&quot;, dragged)
        .on(&quot;end&quot;, dragended));

simulation
    .nodes(nodes)
    .on(&quot;tick&quot;, ticked);

simulation.force(&quot;link&quot;)
    .links(links);

function ticked() {
    link
        .attr(&quot;x1&quot;, d =&gt; d.source.x)
        .attr(&quot;y1&quot;, d =&gt; d.source.y)
        .attr(&quot;x2&quot;, d =&gt; d.target.x)
        .attr(&quot;y2&quot;, d =&gt; d.target.y);

    node
        .attr(&quot;cx&quot;, d =&gt; d.x)
        .attr(&quot;cy&quot;, d =&gt; d.y);
}

function dragstarted(event, d) {
    if (!event.active) simulation.alphaTarget(0.3).restart();
    d.fx = d.x;
    d.fy = d.y;
}

function dragged(event, d) {
    d.fx = event.x;
    d.fy = event.y;
}

function dragended(event, d) {
    if (!event.active) simulation.alphaTarget(0);
    d.fx = null;
    d.fy = null;
}</pre></div><div class='content'></div><h1>Customizing the Force Layout</h1>
<div class='content'><p>You can customize the behavior of the force layout by adjusting the forces applied to the nodes and links.</p>
</div><h2>Adjusting Forces</h2>
<div class='content'><ul>
<li><strong>Link Force</strong>: Controls the distance between linked nodes.</li>
<li><strong>Charge Force</strong>: Controls the repulsion or attraction between nodes.</li>
<li><strong>Centering Force</strong>: Keeps the graph centered in the SVG.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2ltdWxhdGlvbgogICAgLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKGxpbmtzKS5pZChkID0+IGQuaWQpLmRpc3RhbmNlKDEwMCkpCiAgICAuZm9yY2UoImNoYXJnZSIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtNTApKQogICAgLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3aWR0aCAvIDIsIGhlaWdodCAvIDIpKTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>simulation
    .force(&quot;link&quot;, d3.forceLink(links).id(d =&gt; d.id).distance(100))
    .force(&quot;charge&quot;, d3.forceManyBody().strength(-50))
    .force(&quot;center&quot;, d3.forceCenter(width / 2, height / 2));</pre></div><div class='content'></div><h2>Adding Labels</h2>
<div class='content'><p>You can add labels to nodes to make the visualization more informative.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgbGFiZWxzID0gc3ZnLmFwcGVuZCgiZyIpCiAgICAuYXR0cigiY2xhc3MiLCAibGFiZWxzIikKICAgIC5zZWxlY3RBbGwoInRleHQiKQogICAgLmRhdGEobm9kZXMpCiAgICAuZW50ZXIoKS5hcHBlbmQoInRleHQiKQogICAgLmF0dHIoImNsYXNzIiwgImxhYmVsIikKICAgIC50ZXh0KGQgPT4gZC5pZCk7CgpmdW5jdGlvbiB0aWNrZWQoKSB7CiAgICBsaW5rCiAgICAgICAgLmF0dHIoIngxIiwgZCA9PiBkLnNvdXJjZS54KQogICAgICAgIC5hdHRyKCJ5MSIsIGQgPT4gZC5zb3VyY2UueSkKICAgICAgICAuYXR0cigieDIiLCBkID0+IGQudGFyZ2V0LngpCiAgICAgICAgLmF0dHIoInkyIiwgZCA9PiBkLnRhcmdldC55KTsKCiAgICBub2RlCiAgICAgICAgLmF0dHIoImN4IiwgZCA9PiBkLngpCiAgICAgICAgLmF0dHIoImN5IiwgZCA9PiBkLnkpOwoKICAgIGxhYmVscwogICAgICAgIC5hdHRyKCJ4IiwgZCA9PiBkLngpCiAgICAgICAgLmF0dHIoInkiLCBkID0+IGQueSk7Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const labels = svg.append(&quot;g&quot;)
    .attr(&quot;class&quot;, &quot;labels&quot;)
    .selectAll(&quot;text&quot;)
    .data(nodes)
    .enter().append(&quot;text&quot;)
    .attr(&quot;class&quot;, &quot;label&quot;)
    .text(d =&gt; d.id);

function ticked() {
    link
        .attr(&quot;x1&quot;, d =&gt; d.source.x)
        .attr(&quot;y1&quot;, d =&gt; d.source.y)
        .attr(&quot;x2&quot;, d =&gt; d.target.x)
        .attr(&quot;y2&quot;, d =&gt; d.target.y);

    node
        .attr(&quot;cx&quot;, d =&gt; d.x)
        .attr(&quot;cy&quot;, d =&gt; d.y);

    labels
        .attr(&quot;x&quot;, d =&gt; d.x)
        .attr(&quot;y&quot;, d =&gt; d.y);
}</pre></div><div class='content'></div><h1>Advanced Customizations</h1>
<div class='content'><p>For more advanced customizations, you can create custom forces or use additional D3.js modules.</p>
</div><h2>Custom Forces</h2>
<div class='content'><p>You can create custom forces to achieve specific behaviors in your force layout.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gY3VzdG9tRm9yY2UoYWxwaGEpIHsKICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7CiAgICAgICAgbm9kZS52eCArPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7CiAgICAgICAgbm9kZS52eSArPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7CiAgICB9KTsKfQoKc2ltdWxhdGlvbi5mb3JjZSgiY3VzdG9tIiwgY3VzdG9tRm9yY2UpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function customForce(alpha) {
    nodes.forEach(node =&gt; {
        node.vx += Math.random() * 2 - 1;
        node.vy += Math.random() * 2 - 1;
    });
}

simulation.force(&quot;custom&quot;, customForce);</pre></div><div class='content'></div><h2>Using Additional Modules</h2>
<div class='content'><p>D3.js provides additional modules that can be used to enhance your force layout.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgZm9yY2VDb2xsaWRlIH0gZnJvbSAiZDMtZm9yY2UiOwoKc2ltdWxhdGlvbi5mb3JjZSgiY29sbGlkZSIsIGZvcmNlQ29sbGlkZSgxMCkpOw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { forceCollide } from &quot;d3-force&quot;;

simulation.force(&quot;collide&quot;, forceCollide(10));</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Force layouts in D3.js offer a flexible and powerful way to visualize network data. By understanding the basic setup and customization options, you can create dynamic and informative visualizations. Experiment with different forces and customizations to see how they affect the layout and discover the best way to represent your data.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='hierarchical-data-and-tree-layouts'>&#x25C4;Hierarchical Data and Tree Layouts</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Force Layouts in D3.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='choropleth-maps'>Choropleth Maps &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
