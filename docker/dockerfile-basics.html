<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dockerfile Basics</title>

    <link rel="alternate" href="https://campusempresa.com/docker/dockerfile-basics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/docker/dockerfile-basics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/docker/dockerfile-basics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/docker/dockerfile-basics" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/docker/dockerfile-basics" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-docker-images'>&#x25C4;Creating Docker Images</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dockerfile Basics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-running-docker-images'>Building and Running Docker Images &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Dockerfile</h1>
<div class='content'><p>A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. Using <code>docker build</code>, users can create an automated build that executes several command-line instructions in succession.</p>
</div><h1>Key Concepts of Dockerfile</h1>
<div class='content'><ul>
<li><strong>FROM</strong>: Sets the base image for subsequent instructions.</li>
<li><strong>RUN</strong>: Executes a command in the shell.</li>
<li><strong>CMD</strong>: Provides the default command for the container.</li>
<li><strong>LABEL</strong>: Adds metadata to an image.</li>
<li><strong>EXPOSE</strong>: Informs Docker that the container listens on the specified network ports at runtime.</li>
<li><strong>ENV</strong>: Sets environment variables.</li>
<li><strong>ADD</strong>: Copies new files, directories, or remote file URLs from <code>src</code> and adds them to the filesystem of the container at the path <code>dest</code>.</li>
<li><strong>COPY</strong>: Copies new files or directories from <code>src</code> and adds them to the filesystem of the container at the path <code>dest</code>.</li>
<li><strong>ENTRYPOINT</strong>: Configures a container that will run as an executable.</li>
<li><strong>VOLUME</strong>: Creates a mount point with the specified path and marks it as holding externally mounted volumes from native host or other containers.</li>
<li><strong>USER</strong>: Sets the UID (or username) to use when running the image and for any <code>RUN</code>, <code>CMD</code>, and <code>ENTRYPOINT</code> instructions that follow it in the Dockerfile.</li>
<li><strong>WORKDIR</strong>: Sets the working directory for any <code>RUN</code>, <code>CMD</code>, <code>ENTRYPOINT</code>, <code>COPY</code>, and <code>ADD</code> instructions that follow it in the Dockerfile.</li>
</ul>
</div><h1>Basic Dockerfile Example</h1>
<div class='content'><p>Let's create a simple Dockerfile for a Node.js application.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2UgYW4gb2ZmaWNpYWwgTm9kZS5qcyBydW50aW1lIGFzIGEgcGFyZW50IGltYWdlCkZST00gbm9kZToxNAoKIyBTZXQgdGhlIHdvcmtpbmcgZGlyZWN0b3J5IGluIHRoZSBjb250YWluZXIKV09SS0RJUiAvdXNyL3NyYy9hcHAKCiMgQ29weSB0aGUgcGFja2FnZS5qc29uIGFuZCBwYWNrYWdlLWxvY2suanNvbiBmaWxlcyB0byB0aGUgd29ya2luZyBkaXJlY3RvcnkKQ09QWSBwYWNrYWdlKi5qc29uIC4vCgojIEluc3RhbGwgYW55IG5lZWRlZCBwYWNrYWdlcyBzcGVjaWZpZWQgaW4gcGFja2FnZS5qc29uClJVTiBucG0gaW5zdGFsbAoKIyBDb3B5IHRoZSByZXN0IG9mIHRoZSBhcHBsaWNhdGlvbiBjb2RlIHRvIHRoZSB3b3JraW5nIGRpcmVjdG9yeQpDT1BZIC4gLgoKIyBNYWtlIHBvcnQgODA4MCBhdmFpbGFibGUgdG8gdGhlIHdvcmxkIG91dHNpZGUgdGhpcyBjb250YWluZXIKRVhQT1NFIDgwODAKCiMgRGVmaW5lIGVudmlyb25tZW50IHZhcmlhYmxlCkVOViBOT0RFX0VOVj1wcm9kdWN0aW9uCgojIFJ1biB0aGUgYXBwbGljYXRpb24KQ01EIFsibm9kZSIsICJhcHAuanMiXQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Use an official Node.js runtime as a parent image
FROM node:14

# Set the working directory in the container
WORKDIR /usr/src/app

# Copy the package.json and package-lock.json files to the working directory
COPY package*.json ./

# Install any needed packages specified in package.json
RUN npm install

# Copy the rest of the application code to the working directory
COPY . .

# Make port 8080 available to the world outside this container
EXPOSE 8080

# Define environment variable
ENV NODE_ENV=production

# Run the application
CMD [&quot;node&quot;, &quot;app.js&quot;]</pre></div><div class='content'></div><h2>Explanation of the Dockerfile</h2>
<div class='content'><ul>
<li><strong>FROM node:14</strong>: This line specifies the base image. In this case, it is the official Node.js image with the tag <code>14</code>.</li>
<li><strong>WORKDIR /usr/src/app</strong>: This sets the working directory inside the container to <code>/usr/src/app</code>.</li>
<li><em><em>COPY package</em>.json ./</em>*: This copies <code>package.json</code> and <code>package-lock.json</code> files to the working directory.</li>
<li><strong>RUN npm install</strong>: This runs the <code>npm install</code> command to install dependencies.</li>
<li><strong>COPY . .</strong>: This copies the rest of the application code to the working directory.</li>
<li><strong>EXPOSE 8080</strong>: This exposes port 8080 to the outside world.</li>
<li><strong>ENV NODE_ENV=production</strong>: This sets an environment variable <code>NODE_ENV</code> to <code>production</code>.</li>
<li><strong>CMD [&quot;node&quot;, &quot;app.js&quot;]</strong>: This specifies the command to run the application.</li>
</ul>
</div><h1>Common Dockerfile Instructions</h1>
<div class='content'><p>Here is a table summarizing some common Dockerfile instructions and their purposes:</p>
<p>| Instruction | Description |
|-------------|-------------|
| <code>FROM</code>      | Specifies the base image. |
| <code>RUN</code>       | Executes a command in the shell. |
| <code>CMD</code>       | Provides the default command for the container. |
| <code>LABEL</code>     | Adds metadata to an image. |
| <code>EXPOSE</code>    | Informs Docker that the container listens on the specified network ports. |
| <code>ENV</code>       | Sets environment variables. |
| <code>ADD</code>       | Copies new files, directories, or remote file URLs to the container. |
| <code>COPY</code>      | Copies new files or directories to the container. |
| <code>ENTRYPOINT</code>| Configures a container that will run as an executable. |
| <code>VOLUME</code>    | Creates a mount point with the specified path. |
| <code>USER</code>      | Sets the UID (or username) to use when running the image. |
| <code>WORKDIR</code>   | Sets the working directory for subsequent instructions. |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>Understanding the basics of Dockerfile is crucial for creating efficient and effective Docker images. By mastering the key instructions and their purposes, you can automate the build process and ensure your applications run consistently across different environments. Practice writing Dockerfiles for different applications to get a better grasp of these concepts.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-docker-images'>&#x25C4;Creating Docker Images</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dockerfile Basics</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-running-docker-images'>Building and Running Docker Images &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
