<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modules and Packages in Fortran</title>

    <link rel="alternate" href="https://campusempresa.com/fortran/modules-packages" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/fortran/modules-packages" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/fortran/modules-packages" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/fortran/modules-packages" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/fortran/modules-packages" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='binary-file-operations'>&#x25C4;Binary File Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Modules and Packages in Fortran</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parallel-programming-coarrays'>Parallel Programming with Coarrays &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Modules and packages are essential components in Fortran that help in organizing code, promoting reusability, and maintaining a clean namespace. This section will guide you through the basics of modules, how to create and use them, and how to organize them into packages for more complex projects.</p>
</div><h1>Introduction to Modules</h1>
<div class='content'><p>Modules in Fortran are used to group related procedures and data together. They help in encapsulating data and procedures, making the code more modular and easier to manage.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Module Definition</strong>: A module is defined using the <code>MODULE</code> and <code>END MODULE</code> statements.</li>
<li><strong>Public and Private Access</strong>: By default, all entities in a module are public, but you can restrict access using the <code>PRIVATE</code> keyword.</li>
<li><strong>Use Statement</strong>: To access the contents of a module in another program or module, the <code>USE</code> statement is employed.</li>
</ul>
</div><h2>Example: Basic Module</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TU9EVUxFIE1hdGhNb2R1bGUKICBJTVBMSUNJVCBOT05FCiAgUFJJVkFURQogIFBVQkxJQyA6OiBhZGQsIHN1YnRyYWN0CgogIENPTlRBSU5TCgogIEZVTkNUSU9OIGFkZChhLCBiKQogICAgSU5URUdFUiwgSU5URU5UKElOKSA6OiBhLCBiCiAgICBJTlRFR0VSIDo6IGFkZAogICAgYWRkID0gYSArIGIKICBFTkQgRlVOQ1RJT04gYWRkCgogIEZVTkNUSU9OIHN1YnRyYWN0KGEsIGIpCiAgICBJTlRFR0VSLCBJTlRFTlQoSU4pIDo6IGEsIGIKICAgIElOVEVHRVIgOjogc3VidHJhY3QKICAgIHN1YnRyYWN0ID0gYSAtIGIKICBFTkQgRlVOQ1RJT04gc3VidHJhY3QKCkVORCBNT0RVTEUgTWF0aE1vZHVsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MODULE MathModule
  IMPLICIT NONE
  PRIVATE
  PUBLIC :: add, subtract

  CONTAINS

  FUNCTION add(a, b)
    INTEGER, INTENT(IN) :: a, b
    INTEGER :: add
    add = a + b
  END FUNCTION add

  FUNCTION subtract(a, b)
    INTEGER, INTENT(IN) :: a, b
    INTEGER :: subtract
    subtract = a - b
  END FUNCTION subtract

END MODULE MathModule</pre></div><div class='content'><p>In this example:</p>
<ul>
<li>The module <code>MathModule</code> contains two public functions, <code>add</code> and <code>subtract</code>.</li>
<li>The <code>PRIVATE</code> keyword ensures that any other entities in the module are not accessible outside of it.</li>
</ul>
</div><h2>Using a Module</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBNYWluCiAgVVNFIE1hdGhNb2R1bGUKICBJTVBMSUNJVCBOT05FCgogIElOVEVHRVIgOjogcmVzdWx0CgogIHJlc3VsdCA9IGFkZCg1LCAzKQogIFBSSU5UICosICI1ICsgMyA9IiwgcmVzdWx0CgogIHJlc3VsdCA9IHN1YnRyYWN0KDUsIDMpCiAgUFJJTlQgKiwgIjUgLSAzID0iLCByZXN1bHQKCkVORCBQUk9HUkFNIE1haW4="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM Main
  USE MathModule
  IMPLICIT NONE

  INTEGER :: result

  result = add(5, 3)
  PRINT *, &quot;5 + 3 =&quot;, result

  result = subtract(5, 3)
  PRINT *, &quot;5 - 3 =&quot;, result

END PROGRAM Main</pre></div><div class='content'><p>Here, the <code>USE MathModule</code> statement makes the <code>add</code> and <code>subtract</code> functions available in the <code>Main</code> program.</p>
</div><h1>Advanced Module Features</h1>
<div class='content'></div><h2>Module Procedures</h2>
<div class='content'><p>Modules can contain procedures that are defined within the module itself. These are known as module procedures.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TU9EVUxFIEFkdmFuY2VkTWF0aE1vZHVsZQogIElNUExJQ0lUIE5PTkUKICBQVUJMSUMgOjogbXVsdGlwbHkKCiAgQ09OVEFJTlMKCiAgRlVOQ1RJT04gbXVsdGlwbHkoYSwgYikKICAgIElOVEVHRVIsIElOVEVOVChJTikgOjogYSwgYgogICAgSU5URUdFUiA6OiBtdWx0aXBseQogICAgbXVsdGlwbHkgPSBhICogYgogIEVORCBGVU5DVElPTiBtdWx0aXBseQoKRU5EIE1PRFVMRSBBZHZhbmNlZE1hdGhNb2R1bGU="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MODULE AdvancedMathModule
  IMPLICIT NONE
  PUBLIC :: multiply

  CONTAINS

  FUNCTION multiply(a, b)
    INTEGER, INTENT(IN) :: a, b
    INTEGER :: multiply
    multiply = a * b
  END FUNCTION multiply

END MODULE AdvancedMathModule</pre></div><div class='content'></div><h2>Module Variables</h2>
<div class='content'><p>Modules can also contain variables that can be shared across procedures.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TU9EVUxFIFNoYXJlZERhdGFNb2R1bGUKICBJTVBMSUNJVCBOT05FCiAgSU5URUdFUiA6OiBjb3VudGVyID0gMAogIFBVQkxJQyA6OiBjb3VudGVyCgogIENPTlRBSU5TCgogIFNVQlJPVVRJTkUgaW5jcmVtZW50X2NvdW50ZXIoKQogICAgY291bnRlciA9IGNvdW50ZXIgKyAxCiAgRU5EIFNVQlJPVVRJTkUgaW5jcmVtZW50X2NvdW50ZXIKCkVORCBNT0RVTEUgU2hhcmVkRGF0YU1vZHVsZQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MODULE SharedDataModule
  IMPLICIT NONE
  INTEGER :: counter = 0
  PUBLIC :: counter

  CONTAINS

  SUBROUTINE increment_counter()
    counter = counter + 1
  END SUBROUTINE increment_counter

END MODULE SharedDataModule</pre></div><div class='content'></div><h2>Example: Using Module Variables</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBDb3VudGVyUHJvZ3JhbQogIFVTRSBTaGFyZWREYXRhTW9kdWxlCiAgSU1QTElDSVQgTk9ORQoKICBDQUxMIGluY3JlbWVudF9jb3VudGVyKCkKICBQUklOVCAqLCAiQ291bnRlcjoiLCBjb3VudGVyCgogIENBTEwgaW5jcmVtZW50X2NvdW50ZXIoKQogIFBSSU5UICosICJDb3VudGVyOiIsIGNvdW50ZXIKCkVORCBQUk9HUkFNIENvdW50ZXJQcm9ncmFt"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM CounterProgram
  USE SharedDataModule
  IMPLICIT NONE

  CALL increment_counter()
  PRINT *, &quot;Counter:&quot;, counter

  CALL increment_counter()
  PRINT *, &quot;Counter:&quot;, counter

END PROGRAM CounterProgram</pre></div><div class='content'></div><h1>Packages in Fortran</h1>
<div class='content'><p>Fortran does not have a built-in concept of packages like some other programming languages, but you can organize your modules into directories to create a package-like structure.</p>
</div><h2>Organizing Modules into Packages</h2>
<div class='content'><ol>
<li><strong>Directory Structure</strong>: Create a directory for your package and place related modules inside it.</li>
<li><strong>Include Paths</strong>: Use compiler options to specify the paths to your module files.</li>
</ol>
</div><h2>Example Directory Structure</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXlfcHJvamVjdC8KICBzcmMvCiAgICBtYXRoLwogICAgICBNYXRoTW9kdWxlLmY5MAogICAgICBBZHZhbmNlZE1hdGhNb2R1bGUuZjkwCiAgICBtYWluLwogICAgICBNYWluUHJvZ3JhbS5mOTA="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my_project/
  src/
    math/
      MathModule.f90
      AdvancedMathModule.f90
    main/
      MainProgram.f90</pre></div><div class='content'></div><h2>Compiling with Packages</h2>
<div class='content'><p>When compiling, you need to specify the paths to the module files. For example, using <code>gfortran</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2ZvcnRyYW4gLUkuL3NyYy9tYXRoIC1vIG1haW5fcHJvZ3JhbSAuL3NyYy9tYWluL01haW5Qcm9ncmFtLmY5MCAuL3NyYy9tYXRoL01hdGhNb2R1bGUuZjkwIC4vc3JjL21hdGgvQWR2YW5jZWRNYXRoTW9kdWxlLmY5MA=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gfortran -I./src/math -o main_program ./src/main/MainProgram.f90 ./src/math/MathModule.f90 ./src/math/AdvancedMathModule.f90</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Modules and packages in Fortran are powerful tools for organizing and managing your code. By encapsulating related procedures and data, modules promote reusability and maintainability. Although Fortran does not have a formal package system, you can achieve similar functionality by organizing your modules into directories and managing include paths during compilation. Understanding and effectively using modules will significantly enhance your Fortran programming skills.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='binary-file-operations'>&#x25C4;Binary File Operations</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Modules and Packages in Fortran</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parallel-programming-coarrays'>Parallel Programming with Coarrays &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Accept</a>
    <a href="/cookies">More Information</a>
</div>	

	</div>    
</body>
</html>
