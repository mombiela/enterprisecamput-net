<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursion in Fortran</title>

    <link rel="alternate" href="https://campusempresa.com/fortran/recursion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/fortran/recursion" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/fortran/recursion" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/fortran/recursion" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/fortran/recursion" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='scope-lifetime-variables'>&#x25C4;Scope and Lifetime of Variables</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Recursion in Fortran</a>
	</div>
	<div class='col-4 text-end'>
					<a href='derived-types'>Derived Types &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Recursion</h1>
<div class='content'><p>Recursion is a programming technique where a function calls itself in order to solve a problem. It is particularly useful for problems that can be broken down into smaller, similar sub-problems. In Fortran, recursion can be implemented using recursive functions.</p>
</div><h2>Key Concepts</h2>
<div class='content'><ul>
<li><strong>Base Case</strong>: The condition under which the recursive function stops calling itself.</li>
<li><strong>Recursive Case</strong>: The part of the function where the function calls itself with a modified argument.</li>
<li><strong>Stack Overflow</strong>: A potential risk when the recursion depth is too high, leading to excessive memory usage.</li>
</ul>
</div><h1>Basic Recursion Example</h1>
<div class='content'><p>Let's start with a simple example: calculating the factorial of a number.</p>
</div><h2>Factorial Function</h2>
<div class='content'><p>The factorial of a number \( n \) (denoted as \( n! \)) is the product of all positive integers less than or equal to \( n \). The factorial of 0 is defined as 1.</p>
<h4>Code Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBmYWN0b3JpYWxfZXhhbXBsZQogICAgaW1wbGljaXQgbm9uZQogICAgaW50ZWdlciA6OiBuLCByZXN1bHQKCiAgICBwcmludCAqLCAiRW50ZXIgYSBudW1iZXI6IgogICAgcmVhZCAqLCBuCgogICAgcmVzdWx0ID0gZmFjdG9yaWFsKG4pCiAgICBwcmludCAqLCAiRmFjdG9yaWFsIG9mICIsIG4sICIgaXMgIiwgcmVzdWx0CmVuZCBwcm9ncmFtIGZhY3RvcmlhbF9leGFtcGxlCgpyZWN1cnNpdmUgZnVuY3Rpb24gZmFjdG9yaWFsKG4pIHJlc3VsdChmYWN0KQogICAgaW50ZWdlciwgaW50ZW50KGluKSA6OiBuCiAgICBpbnRlZ2VyIDo6IGZhY3QKCiAgICBpZiAobiA8PSAxKSB0aGVuCiAgICAgICAgZmFjdCA9IDEKICAgIGVsc2UKICAgICAgICBmYWN0ID0gbiAqIGZhY3RvcmlhbChuIC0gMSkKICAgIGVuZCBpZgplbmQgZnVuY3Rpb24gZmFjdG9yaWFs"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program factorial_example
    implicit none
    integer :: n, result

    print *, &quot;Enter a number:&quot;
    read *, n

    result = factorial(n)
    print *, &quot;Factorial of &quot;, n, &quot; is &quot;, result
end program factorial_example

recursive function factorial(n) result(fact)
    integer, intent(in) :: n
    integer :: fact

    if (n &lt;= 1) then
        fact = 1
    else
        fact = n * factorial(n - 1)
    end if
end function factorial</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Base Case</strong>: When \( n \leq 1 \), the function returns 1.</li>
<li><strong>Recursive Case</strong>: The function calls itself with \( n - 1 \) and multiplies the result by \( n \).</li>
</ul>
</div><h1>Advanced Recursion Example</h1>
<div class='content'><p>Let's explore a more complex example: the Fibonacci sequence.</p>
</div><h2>Fibonacci Sequence</h2>
<div class='content'><p>The Fibonacci sequence is a series of numbers where each number is the sum of the two preceding ones, usually starting with 0 and 1.</p>
<h4>Code Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBmaWJvbmFjY2lfZXhhbXBsZQogICAgaW1wbGljaXQgbm9uZQogICAgaW50ZWdlciA6OiBuLCBpCgogICAgcHJpbnQgKiwgIkVudGVyIHRoZSBudW1iZXIgb2YgdGVybXM6IgogICAgcmVhZCAqLCBuCgogICAgZG8gaSA9IDAsIG4tMQogICAgICAgIHByaW50ICosICJGaWJvbmFjY2koIiwgaSwgIikgPSAiLCBmaWJvbmFjY2koaSkKICAgIGVuZCBkbwplbmQgcHJvZ3JhbSBmaWJvbmFjY2lfZXhhbXBsZQoKcmVjdXJzaXZlIGZ1bmN0aW9uIGZpYm9uYWNjaShuKSByZXN1bHQoZmliKQogICAgaW50ZWdlciwgaW50ZW50KGluKSA6OiBuCiAgICBpbnRlZ2VyIDo6IGZpYgoKICAgIGlmIChuID09IDApIHRoZW4KICAgICAgICBmaWIgPSAwCiAgICBlbHNlaWYgKG4gPT0gMSkgdGhlbgogICAgICAgIGZpYiA9IDEKICAgIGVsc2UKICAgICAgICBmaWIgPSBmaWJvbmFjY2kobiAtIDEpICsgZmlib25hY2NpKG4gLSAyKQogICAgZW5kIGlmCmVuZCBmdW5jdGlvbiBmaWJvbmFjY2k="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program fibonacci_example
    implicit none
    integer :: n, i

    print *, &quot;Enter the number of terms:&quot;
    read *, n

    do i = 0, n-1
        print *, &quot;Fibonacci(&quot;, i, &quot;) = &quot;, fibonacci(i)
    end do
end program fibonacci_example

recursive function fibonacci(n) result(fib)
    integer, intent(in) :: n
    integer :: fib

    if (n == 0) then
        fib = 0
    elseif (n == 1) then
        fib = 1
    else
        fib = fibonacci(n - 1) + fibonacci(n - 2)
    end if
end function fibonacci</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Base Cases</strong>: When \( n = 0 \), the function returns 0. When \( n = 1 \), the function returns 1.</li>
<li><strong>Recursive Case</strong>: The function calls itself with \( n - 1 \) and \( n - 2 \) and sums the results.</li>
</ul>
</div><h1>Optimizing Recursion</h1>
<div class='content'><p>Recursion can be inefficient for problems like the Fibonacci sequence due to repeated calculations. One way to optimize is by using memoization or iterative approaches.</p>
</div><h2>Memoization Example</h2>
<div class='content'><p>Memoization involves storing the results of expensive function calls and reusing them when the same inputs occur again.</p>
<h4>Code Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZ3JhbSBmaWJvbmFjY2lfbWVtb2l6YXRpb25fZXhhbXBsZQogICAgaW1wbGljaXQgbm9uZQogICAgaW50ZWdlciwgcGFyYW1ldGVyIDo6IG1heF9uID0gMTAwCiAgICBpbnRlZ2VyIDo6IG4sIGkKICAgIGludGVnZXIsIGRpbWVuc2lvbigwOm1heF9uKSA6OiBtZW1vCgogICAgbWVtbyA9IC0xCgogICAgcHJpbnQgKiwgIkVudGVyIHRoZSBudW1iZXIgb2YgdGVybXM6IgogICAgcmVhZCAqLCBuCgogICAgZG8gaSA9IDAsIG4tMQogICAgICAgIHByaW50ICosICJGaWJvbmFjY2koIiwgaSwgIikgPSAiLCBmaWJvbmFjY2lfbWVtbyhpLCBtZW1vKQogICAgZW5kIGRvCmVuZCBwcm9ncmFtIGZpYm9uYWNjaV9tZW1vaXphdGlvbl9leGFtcGxlCgpyZWN1cnNpdmUgZnVuY3Rpb24gZmlib25hY2NpX21lbW8obiwgbWVtbykgcmVzdWx0KGZpYikKICAgIGludGVnZXIsIGludGVudChpbikgOjogbgogICAgaW50ZWdlciwgZGltZW5zaW9uKDopLCBpbnRlbnQoaW5vdXQpIDo6IG1lbW8KICAgIGludGVnZXIgOjogZmliCgogICAgaWYgKG1lbW8obikgLz0gLTEpIHRoZW4KICAgICAgICBmaWIgPSBtZW1vKG4pCiAgICBlbHNlCiAgICAgICAgaWYgKG4gPT0gMCkgdGhlbgogICAgICAgICAgICBmaWIgPSAwCiAgICAgICAgZWxzZWlmIChuID09IDEpIHRoZW4KICAgICAgICAgICAgZmliID0gMQogICAgICAgIGVsc2UKICAgICAgICAgICAgZmliID0gZmlib25hY2NpX21lbW8obiAtIDEsIG1lbW8pICsgZmlib25hY2NpX21lbW8obiAtIDIsIG1lbW8pCiAgICAgICAgZW5kIGlmCiAgICAgICAgbWVtbyhuKSA9IGZpYgogICAgZW5kIGlmCmVuZCBmdW5jdGlvbiBmaWJvbmFjY2lfbWVtbw=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>program fibonacci_memoization_example
    implicit none
    integer, parameter :: max_n = 100
    integer :: n, i
    integer, dimension(0:max_n) :: memo

    memo = -1

    print *, &quot;Enter the number of terms:&quot;
    read *, n

    do i = 0, n-1
        print *, &quot;Fibonacci(&quot;, i, &quot;) = &quot;, fibonacci_memo(i, memo)
    end do
end program fibonacci_memoization_example

recursive function fibonacci_memo(n, memo) result(fib)
    integer, intent(in) :: n
    integer, dimension(:), intent(inout) :: memo
    integer :: fib

    if (memo(n) /= -1) then
        fib = memo(n)
    else
        if (n == 0) then
            fib = 0
        elseif (n == 1) then
            fib = 1
        else
            fib = fibonacci_memo(n - 1, memo) + fibonacci_memo(n - 2, memo)
        end if
        memo(n) = fib
    end if
end function fibonacci_memo</pre></div><div class='content'></div><h2>Explanation</h2>
<div class='content'><ul>
<li><strong>Memo Array</strong>: An array <code>memo</code> is used to store the results of Fibonacci calculations.</li>
<li><strong>Check Memo</strong>: Before performing a recursive call, the function checks if the result is already in the memo array.</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Recursion is a powerful tool in Fortran for solving problems that can be broken down into smaller sub-problems. However, it is important to handle base cases correctly to avoid infinite recursion and potential stack overflow. For complex problems, optimizing recursion with techniques like memoization can significantly improve performance. By understanding and applying these concepts, you can effectively use recursion in your Fortran programs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='scope-lifetime-variables'>&#x25C4;Scope and Lifetime of Variables</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Recursion in Fortran</a>
	</div>
	<div class='col-4 text-end'>
					<a href='derived-types'>Derived Types &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
