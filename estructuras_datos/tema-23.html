<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVL Trees</title>

    <link rel="alternate" href="https://campusempresa.com/estructuras_datos/tema-23" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/estructuras_datos/tema-23" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/estructuras_datos/tema-23" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/estructuras_datos/tema-23" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/estructuras_datos/tema-23" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introduction to AVL Trees</h1>
<div class='content'><p>AVL trees are a type of self-balancing binary search tree. They were the first self-balancing binary search trees proposed by Adelson-Velsky and Landis in 1962. The main feature of AVL trees is that they maintain their balance through the AVL balancing property, which ensures that search, insertion, and deletion operations are performed in logarithmic time.</p>
</div><h1>AVL Balancing Property</h1>
<div class='content'><ul>
<li><strong>AVL Balancing</strong>: For each node in an AVL tree, the height difference between its left subtree and its right subtree (also known as the balance factor) must be -1, 0, or 1.</li>
<li><strong>Balance Factor</strong>: It is defined as the height of the left subtree minus the height of the right subtree.</li>
</ul>
</div><h1>Operations in AVL Trees</h1>
<div class='content'></div><h2>Insertion</h2>
<div class='content'><p>Insertion in an AVL tree follows the same steps as in a binary search tree, but after inserting a node, the AVL balancing property must be checked and restored if necessary. This is achieved through rotations.</p>
<h4>Insertion Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTm9kZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBrZXkpOgogICAgICAgIHNlbGYua2V5ID0ga2V5CiAgICAgICAgc2VsZi5sZWZ0ID0gTm9uZQogICAgICAgIHNlbGYucmlnaHQgPSBOb25lCiAgICAgICAgc2VsZi5oZWlnaHQgPSAxCgpjbGFzcyBBVkxUcmVlOgogICAgZGVmIGluc2VydChzZWxmLCByb290LCBrZXkpOgogICAgICAgIGlmIG5vdCByb290OgogICAgICAgICAgICByZXR1cm4gTm9kZShrZXkpCiAgICAgICAgZWxpZiBrZXkgPCByb290LmtleToKICAgICAgICAgICAgcm9vdC5sZWZ0ID0gc2VsZi5pbnNlcnQocm9vdC5sZWZ0LCBrZXkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcm9vdC5yaWdodCA9IHNlbGYuaW5zZXJ0KHJvb3QucmlnaHQsIGtleSkKCiAgICAgICAgcm9vdC5oZWlnaHQgPSAxICsgbWF4KHNlbGYuZ2V0X2hlaWdodChyb290LmxlZnQpLCBzZWxmLmdldF9oZWlnaHQocm9vdC5yaWdodCkpCiAgICAgICAgYmFsYW5jZSA9IHNlbGYuZ2V0X2JhbGFuY2Uocm9vdCkKCiAgICAgICAgIyBMZWZ0IExlZnQgQ2FzZQogICAgICAgIGlmIGJhbGFuY2UgPiAxIGFuZCBrZXkgPCByb290LmxlZnQua2V5OgogICAgICAgICAgICByZXR1cm4gc2VsZi5yaWdodF9yb3RhdGUocm9vdCkKCiAgICAgICAgIyBSaWdodCBSaWdodCBDYXNlCiAgICAgICAgaWYgYmFsYW5jZSA8IC0xIGFuZCBrZXkgPiByb290LnJpZ2h0LmtleToKICAgICAgICAgICAgcmV0dXJuIHNlbGYubGVmdF9yb3RhdGUocm9vdCkKCiAgICAgICAgIyBMZWZ0IFJpZ2h0IENhc2UKICAgICAgICBpZiBiYWxhbmNlID4gMSBhbmQga2V5ID4gcm9vdC5sZWZ0LmtleToKICAgICAgICAgICAgcm9vdC5sZWZ0ID0gc2VsZi5sZWZ0X3JvdGF0ZShyb290LmxlZnQpCiAgICAgICAgICAgIHJldHVybiBzZWxmLnJpZ2h0X3JvdGF0ZShyb290KQoKICAgICAgICAjIFJpZ2h0IExlZnQgQ2FzZQogICAgICAgIGlmIGJhbGFuY2UgPCAtMSBhbmQga2V5IDwgcm9vdC5yaWdodC5rZXk6CiAgICAgICAgICAgIHJvb3QucmlnaHQgPSBzZWxmLnJpZ2h0X3JvdGF0ZShyb290LnJpZ2h0KQogICAgICAgICAgICByZXR1cm4gc2VsZi5sZWZ0X3JvdGF0ZShyb290KQoKICAgICAgICByZXR1cm4gcm9vdAoKICAgIGRlZiBsZWZ0X3JvdGF0ZShzZWxmLCB6KToKICAgICAgICB5ID0gei5yaWdodAogICAgICAgIFQyID0geS5sZWZ0CiAgICAgICAgeS5sZWZ0ID0gegogICAgICAgIHoucmlnaHQgPSBUMgogICAgICAgIHouaGVpZ2h0ID0gMSArIG1heChzZWxmLmdldF9oZWlnaHQoei5sZWZ0KSwgc2VsZi5nZXRfaGVpZ2h0KHoucmlnaHQpKQogICAgICAgIHkuaGVpZ2h0ID0gMSArIG1heChzZWxmLmdldF9oZWlnaHQoeS5sZWZ0KSwgc2VsZi5nZXRfaGVpZ2h0KHkucmlnaHQpKQogICAgICAgIHJldHVybiB5CgogICAgZGVmIHJpZ2h0X3JvdGF0ZShzZWxmLCB6KToKICAgICAgICB5ID0gei5sZWZ0CiAgICAgICAgVDMgPSB5LnJpZ2h0CiAgICAgICAgeS5yaWdodCA9IHoKICAgICAgICB6LmxlZnQgPSBUMwogICAgICAgIHouaGVpZ2h0ID0gMSArIG1heChzZWxmLmdldF9oZWlnaHQoei5sZWZ0KSwgc2VsZi5nZXRfaGVpZ2h0KHoucmlnaHQpKQogICAgICAgIHkuaGVpZ2h0ID0gMSArIG1heChzZWxmLmdldF9oZWlnaHQoeS5sZWZ0KSwgc2VsZi5nZXRfaGVpZ2h0KHkucmlnaHQpKQogICAgICAgIHJldHVybiB5CgogICAgZGVmIGdldF9oZWlnaHQoc2VsZiwgcm9vdCk6CiAgICAgICAgaWYgbm90IHJvb3Q6CiAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgcmV0dXJuIHJvb3QuaGVpZ2h0CgogICAgZGVmIGdldF9iYWxhbmNlKHNlbGYsIHJvb3QpOgogICAgICAgIGlmIG5vdCByb290OgogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIHJldHVybiBzZWxmLmdldF9oZWlnaHQocm9vdC5sZWZ0KSAtIHNlbGYuZ2V0X2hlaWdodChyb290LnJpZ2h0KQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Node:
    def __init__(self, key):
        self.key = key
        self.left = None
        self.right = None
        self.height = 1

class AVLTree:
    def insert(self, root, key):
        if not root:
            return Node(key)
        elif key &lt; root.key:
            root.left = self.insert(root.left, key)
        else:
            root.right = self.insert(root.right, key)

        root.height = 1 + max(self.get_height(root.left), self.get_height(root.right))
        balance = self.get_balance(root)

        # Left Left Case
        if balance &gt; 1 and key &lt; root.left.key:
            return self.right_rotate(root)

        # Right Right Case
        if balance &lt; -1 and key &gt; root.right.key:
            return self.left_rotate(root)

        # Left Right Case
        if balance &gt; 1 and key &gt; root.left.key:
            root.left = self.left_rotate(root.left)
            return self.right_rotate(root)

        # Right Left Case
        if balance &lt; -1 and key &lt; root.right.key:
            root.right = self.right_rotate(root.right)
            return self.left_rotate(root)

        return root

    def left_rotate(self, z):
        y = z.right
        T2 = y.left
        y.left = z
        z.right = T2
        z.height = 1 + max(self.get_height(z.left), self.get_height(z.right))
        y.height = 1 + max(self.get_height(y.left), self.get_height(y.right))
        return y

    def right_rotate(self, z):
        y = z.left
        T3 = y.right
        y.right = z
        z.left = T3
        z.height = 1 + max(self.get_height(z.left), self.get_height(z.right))
        y.height = 1 + max(self.get_height(y.left), self.get_height(y.right))
        return y

    def get_height(self, root):
        if not root:
            return 0
        return root.height

    def get_balance(self, root):
        if not root:
            return 0
        return self.get_height(root.left) - self.get_height(root.right)</pre></div><div class='content'></div><h2>Deletion</h2>
<div class='content'><p>Deletion in an AVL tree also follows the same steps as in a binary search tree, but after deleting a node, the AVL balancing property must be checked and restored if necessary.</p>
<h4>Deletion Example</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRlbGV0ZV9ub2RlKHNlbGYsIHJvb3QsIGtleSk6CiAgICBpZiBub3Qgcm9vdDoKICAgICAgICByZXR1cm4gcm9vdAoKICAgIGVsaWYga2V5IDwgcm9vdC5rZXk6CiAgICAgICAgcm9vdC5sZWZ0ID0gc2VsZi5kZWxldGVfbm9kZShyb290LmxlZnQsIGtleSkKCiAgICBlbGlmIGtleSA+IHJvb3Qua2V5OgogICAgICAgIHJvb3QucmlnaHQgPSBzZWxmLmRlbGV0ZV9ub2RlKHJvb3QucmlnaHQsIGtleSkKCiAgICBlbHNlOgogICAgICAgIGlmIHJvb3QubGVmdCBpcyBOb25lOgogICAgICAgICAgICB0ZW1wID0gcm9vdC5yaWdodAogICAgICAgICAgICByb290ID0gTm9uZQogICAgICAgICAgICByZXR1cm4gdGVtcAoKICAgICAgICBlbGlmIHJvb3QucmlnaHQgaXMgTm9uZToKICAgICAgICAgICAgdGVtcCA9IHJvb3QubGVmdAogICAgICAgICAgICByb290ID0gTm9uZQogICAgICAgICAgICByZXR1cm4gdGVtcAoKICAgICAgICB0ZW1wID0gc2VsZi5nZXRfbWluX3ZhbHVlX25vZGUocm9vdC5yaWdodCkKICAgICAgICByb290LmtleSA9IHRlbXAua2V5CiAgICAgICAgcm9vdC5yaWdodCA9IHNlbGYuZGVsZXRlX25vZGUocm9vdC5yaWdodCwgdGVtcC5rZXkpCgogICAgaWYgcm9vdCBpcyBOb25lOgogICAgICAgIHJldHVybiByb290CgogICAgcm9vdC5oZWlnaHQgPSAxICsgbWF4KHNlbGYuZ2V0X2hlaWdodChyb290LmxlZnQpLCBzZWxmLmdldF9oZWlnaHQocm9vdC5yaWdodCkpCiAgICBiYWxhbmNlID0gc2VsZi5nZXRfYmFsYW5jZShyb290KQoKICAgICMgTGVmdCBMZWZ0IENhc2UKICAgIGlmIGJhbGFuY2UgPiAxIGFuZCBzZWxmLmdldF9iYWxhbmNlKHJvb3QubGVmdCkgPj0gMDoKICAgICAgICByZXR1cm4gc2VsZi5yaWdodF9yb3RhdGUocm9vdCkKCiAgICAjIExlZnQgUmlnaHQgQ2FzZQogICAgaWYgYmFsYW5jZSA+IDEgYW5kIHNlbGYuZ2V0X2JhbGFuY2Uocm9vdC5sZWZ0KSA8IDA6CiAgICAgICAgcm9vdC5sZWZ0ID0gc2VsZi5sZWZ0X3JvdGF0ZShyb290LmxlZnQpCiAgICAgICAgcmV0dXJuIHNlbGYucmlnaHRfcm90YXRlKHJvb3QpCgogICAgIyBSaWdodCBSaWdodCBDYXNlCiAgICBpZiBiYWxhbmNlIDwgLTEgYW5kIHNlbGYuZ2V0X2JhbGFuY2Uocm9vdC5yaWdodCkgPD0gMDoKICAgICAgICByZXR1cm4gc2VsZi5sZWZ0X3JvdGF0ZShyb290KQoKICAgICMgUmlnaHQgTGVmdCBDYXNlCiAgICBpZiBiYWxhbmNlIDwgLTEgYW5kIHNlbGYuZ2V0X2JhbGFuY2Uocm9vdC5yaWdodCkgPiAwOgogICAgICAgIHJvb3QucmlnaHQgPSBzZWxmLnJpZ2h0X3JvdGF0ZShyb290LnJpZ2h0KQogICAgICAgIHJldHVybiBzZWxmLmxlZnRfcm90YXRlKHJvb3QpCgogICAgcmV0dXJuIHJvb3QKCmRlZiBnZXRfbWluX3ZhbHVlX25vZGUoc2VsZiwgcm9vdCk6CiAgICBpZiByb290IGlzIE5vbmUgb3Igcm9vdC5sZWZ0IGlzIE5vbmU6CiAgICAgICAgcmV0dXJuIHJvb3QKICAgIHJldHVybiBzZWxmLmdldF9taW5fdmFsdWVfbm9kZShyb290LmxlZnQp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def delete_node(self, root, key):
    if not root:
        return root

    elif key &lt; root.key:
        root.left = self.delete_node(root.left, key)

    elif key &gt; root.key:
        root.right = self.delete_node(root.right, key)

    else:
        if root.left is None:
            temp = root.right
            root = None
            return temp

        elif root.right is None:
            temp = root.left
            root = None
            return temp

        temp = self.get_min_value_node(root.right)
        root.key = temp.key
        root.right = self.delete_node(root.right, temp.key)

    if root is None:
        return root

    root.height = 1 + max(self.get_height(root.left), self.get_height(root.right))
    balance = self.get_balance(root)

    # Left Left Case
    if balance &gt; 1 and self.get_balance(root.left) &gt;= 0:
        return self.right_rotate(root)

    # Left Right Case
    if balance &gt; 1 and self.get_balance(root.left) &lt; 0:
        root.left = self.left_rotate(root.left)
        return self.right_rotate(root)

    # Right Right Case
    if balance &lt; -1 and self.get_balance(root.right) &lt;= 0:
        return self.left_rotate(root)

    # Right Left Case
    if balance &lt; -1 and self.get_balance(root.right) &gt; 0:
        root.right = self.right_rotate(root.right)
        return self.left_rotate(root)

    return root

def get_min_value_node(self, root):
    if root is None or root.left is None:
        return root
    return self.get_min_value_node(root.left)</pre></div><div class='content'></div><h1>Comparison of Rotations</h1>
<div class='content'><p>| Rotation Type | Description |
|---------------|-------------|
| Simple Left Rotation | Performed when a right subtree is taller than the left subtree. |
| Simple Right Rotation | Performed when a left subtree is taller than the right subtree. |
| Double Left Rotation | Performed when a right subtree has a taller left subtree. |
| Double Right Rotation | Performed when a left subtree has a taller right subtree. |</p>
</div><h1>Conclusion</h1>
<div class='content'><p>AVL trees are an efficient data structure for search, insertion, and deletion operations, as they maintain a balance that guarantees logarithmic operation time. Understanding how rotations and the balancing property work is crucial for effectively implementing and working with AVL trees.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
