<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multithreading and Concurrency in Objective-C</title>

    <link rel="alternate" href="https://campusempresa.com/objective_c/multithreading-and-concurrency" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/objective_c/multithreading-and-concurrency" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/objective_c/multithreading-and-concurrency" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/objective_c/multithreading-and-concurrency" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/objective_c/multithreading-and-concurrency" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling'>&#x25C4;Error Handling</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Multithreading and Concurrency in Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='networking'>Networking &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Multithreading and Concurrency</h1>
<div class='content'><ul>
<li><strong>Multithreading</strong>: The ability of a CPU or a single core in a multi-core processor to provide multiple threads of execution concurrently.</li>
<li><strong>Concurrency</strong>: The execution of several instruction sequences at the same time.</li>
</ul>
</div><h1>Why Use Multithreading?</h1>
<div class='content'><ul>
<li><strong>Performance Improvement</strong>: Efficiently use CPU resources by performing multiple operations simultaneously.</li>
<li><strong>Responsiveness</strong>: Keep the user interface responsive by performing long-running tasks in the background.</li>
<li><strong>Resource Sharing</strong>: Share resources like memory and data among multiple threads.</li>
</ul>
</div><h1>Basics of Multithreading in Objective-C</h1>
<div class='content'><ul>
<li><strong>NSThread</strong>: A basic way to create and manage threads.</li>
<li><strong>GCD (Grand Central Dispatch)</strong>: A high-level API for managing concurrent operations.</li>
<li><strong>NSOperationQueue</strong>: An object-oriented way to manage operations.</li>
</ul>
</div><h2>Using NSThread</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRpbmcgYW5kIHN0YXJ0aW5nIGEgbmV3IHRocmVhZApOU1RocmVhZCAqbXlUaHJlYWQgPSBbW05TVGhyZWFkIGFsbG9jXSBpbml0V2l0aFRhcmdldDpzZWxmIHNlbGVjdG9yOkBzZWxlY3RvcihteVRocmVhZE1haW5NZXRob2QpIG9iamVjdDpuaWxdOwpbbXlUaHJlYWQgc3RhcnRdOwoKLy8gVGhyZWFkIG1haW4gbWV0aG9kCi0gKHZvaWQpbXlUaHJlYWRNYWluTWV0aG9kIHsKICAgIEBhdXRvcmVsZWFzZXBvb2wgewogICAgICAgIC8vIFBlcmZvcm0geW91ciB0YXNrIGhlcmUKICAgICAgICBOU0xvZyhAIlRocmVhZCBpcyBydW5uaW5nIik7CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creating and starting a new thread
NSThread *myThread = [[NSThread alloc] initWithTarget:self selector:@selector(myThreadMainMethod) object:nil];
[myThread start];

// Thread main method
- (void)myThreadMainMethod {
    @autoreleasepool {
        // Perform your task here
        NSLog(@&quot;Thread is running&quot;);
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>NSThread</code> is initialized with a target (self), a selector (method to run), and an optional object.</li>
<li><code>start</code> method begins the execution of the thread.</li>
<li>The method <code>myThreadMainMethod</code> contains the code to be executed in the new thread.</li>
</ul>
</li>
</ul>
</div><h2>Using GCD (Grand Central Dispatch)</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGlzcGF0Y2hpbmcgYSB0YXNrIHRvIGEgYmFja2dyb3VuZCBxdWV1ZQpkaXNwYXRjaF9hc3luYyhkaXNwYXRjaF9nZXRfZ2xvYmFsX3F1ZXVlKERJU1BBVENIX1FVRVVFX1BSSU9SSVRZX0RFRkFVTFQsIDApLCBeewogICAgLy8gUGVyZm9ybSB5b3VyIGJhY2tncm91bmQgdGFzayBoZXJlCiAgICBOU0xvZyhAIkJhY2tncm91bmQgdGFzayBpcyBydW5uaW5nIik7CiAgICAKICAgIC8vIFVwZGF0ZSBVSSBvbiB0aGUgbWFpbiB0aHJlYWQKICAgIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9tYWluX3F1ZXVlKCksIF57CiAgICAgICAgLy8gUGVyZm9ybSBVSSB1cGRhdGVzIGhlcmUKICAgICAgICBOU0xvZyhAIlVJIHVwZGF0ZWQgb24gbWFpbiB0aHJlYWQiKTsKICAgIH0pOwp9KTs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Dispatching a task to a background queue
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // Perform your background task here
    NSLog(@&quot;Background task is running&quot;);
    
    // Update UI on the main thread
    dispatch_async(dispatch_get_main_queue(), ^{
        // Perform UI updates here
        NSLog(@&quot;UI updated on main thread&quot;);
    });
});</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>dispatch_async</code> schedules a block of code to be executed asynchronously.</li>
<li><code>dispatch_get_global_queue</code> gets a global concurrent queue.</li>
<li><code>dispatch_get_main_queue</code> gets the main queue, used for UI updates.</li>
</ul>
</li>
</ul>
</div><h2>Using NSOperationQueue</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRpbmcgYW4gb3BlcmF0aW9uIHF1ZXVlCk5TT3BlcmF0aW9uUXVldWUgKm9wZXJhdGlvblF1ZXVlID0gW1tOU09wZXJhdGlvblF1ZXVlIGFsbG9jXSBpbml0XTsKCi8vIENyZWF0aW5nIGFuIG9wZXJhdGlvbgpOU0Jsb2NrT3BlcmF0aW9uICpvcGVyYXRpb24gPSBbTlNCbG9ja09wZXJhdGlvbiBibG9ja09wZXJhdGlvbldpdGhCbG9jazpeewogICAgLy8gUGVyZm9ybSB5b3VyIHRhc2sgaGVyZQogICAgTlNMb2coQCJPcGVyYXRpb24gaXMgcnVubmluZyIpOwp9XTsKCi8vIEFkZGluZyB0aGUgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZQpbb3BlcmF0aW9uUXVldWUgYWRkT3BlcmF0aW9uOm9wZXJhdGlvbl07"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creating an operation queue
NSOperationQueue *operationQueue = [[NSOperationQueue alloc] init];

// Creating an operation
NSBlockOperation *operation = [NSBlockOperation blockOperationWithBlock:^{
    // Perform your task here
    NSLog(@&quot;Operation is running&quot;);
}];

// Adding the operation to the queue
[operationQueue addOperation:operation];</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>NSOperationQueue</code> manages a queue of <code>NSOperation</code> objects.</li>
<li><code>NSBlockOperation</code> is a concrete subclass of <code>NSOperation</code> that executes a block of code.</li>
<li><code>addOperation</code> adds the operation to the queue for execution.</li>
</ul>
</li>
</ul>
</div><h1>Advanced Concepts</h1>
<div class='content'><ul>
<li><strong>Thread Synchronization</strong>: Ensuring that multiple threads can access shared resources without conflicts.</li>
<li><strong>Deadlock</strong>: A situation where two or more threads are blocked forever, waiting for each other.</li>
<li><strong>Race Condition</strong>: A condition where the outcome depends on the sequence or timing of uncontrollable events.</li>
</ul>
</div><h2>Thread Synchronization with @synchronized</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LSAodm9pZCljcml0aWNhbFNlY3Rpb24gewogICAgQHN5bmNocm9uaXplZChzZWxmKSB7CiAgICAgICAgLy8gQ29kZSB0aGF0IGFjY2Vzc2VzIHNoYXJlZCByZXNvdXJjZXMKICAgICAgICBOU0xvZyhAIkFjY2Vzc2luZyBzaGFyZWQgcmVzb3VyY2UiKTsKICAgIH0KfQ=="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>- (void)criticalSection {
    @synchronized(self) {
        // Code that accesses shared resources
        NSLog(@&quot;Accessing shared resource&quot;);
    }
}</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>@synchronized</code> ensures that only one thread can execute the code block at a time.</li>
</ul>
</li>
</ul>
</div><h2>Avoiding Deadlocks</h2>
<div class='content'><ul>
<li><strong>Best Practices</strong>:
<ul>
<li>Always acquire locks in a consistent order.</li>
<li>Avoid nested locks when possible.</li>
<li>Use timeout mechanisms.</li>
</ul>
</li>
</ul>
</div><h2>Handling Race Conditions</h2>
<div class='content'><ul>
<li><strong>Atomic Properties</strong>: Ensure that a property is accessed in a thread-safe manner.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QHByb3BlcnR5IChhdG9taWMsIHN0cm9uZykgTlNTdHJpbmcgKnNoYXJlZFN0cmluZzs="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@property (atomic, strong) NSString *sharedString;</pre></div><div class='content'><ul>
<li><strong>Explanation</strong>:
<ul>
<li><code>atomic</code> ensures that the property is accessed in a thread-safe way, preventing race conditions.</li>
</ul>
</li>
</ul>
</div><h1>Conclusion</h1>
<div class='content'><p>Multithreading and concurrency are powerful tools in Objective-C that can significantly improve the performance and responsiveness of your applications. By understanding and utilizing <code>NSThread</code>, GCD, and <code>NSOperationQueue</code>, you can efficiently manage concurrent tasks. Always be mindful of thread synchronization, deadlocks, and race conditions to ensure your multithreaded applications run smoothly.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling'>&#x25C4;Error Handling</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Multithreading and Concurrency in Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='networking'>Networking &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
