<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concurrency and Multithreading in Swift</title>

    <link rel="alternate" href="https://campusempresa.com/swift/concurrency-and-multithreading" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/swift/concurrency-and-multithreading" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/swift/concurrency-and-multithreading" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Building today's and tomorrow's society</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
													<b id="lit_lang_es" class="px-2">EN</b>
				|
				<a href="https://campusempresa.com/swift/concurrency-and-multithreading" class="px-2">ES</a></b>
				|
				<a href="https://campusempresa.cat/swift/concurrency-and-multithreading" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">The Project</a>
				<a href="/about">About Us</a>
				<a href="/contribute">Contribute</a>
				<a href="/donate">Donations</a>
				<a href="/licence">License</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='advanced-ui-techniques'>&#x25C4;Advanced UI Techniques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Concurrency and Multithreading in Swift</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-core-data'>Using Core Data &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introduction to Concurrency and Multithreading</h1>
<div class='content'><p>Concurrency and multithreading are essential concepts in modern programming, allowing applications to perform multiple tasks simultaneously, improving performance and responsiveness. In Swift, these concepts are implemented using various tools and techniques.</p>
</div><h1>Key Concepts</h1>
<div class='content'><ul>
<li><strong>Concurrency</strong>: The ability of a program to manage multiple tasks at the same time.</li>
<li><strong>Multithreading</strong>: The ability of a CPU to provide multiple threads of execution concurrently.</li>
<li><strong>Thread</strong>: The smallest unit of processing that can be performed in an OS.</li>
<li><strong>GCD (Grand Central Dispatch)</strong>: A low-level API for managing concurrent operations.</li>
<li><strong>OperationQueue</strong>: A higher-level abstraction for managing concurrent operations.</li>
</ul>
</div><h1>Grand Central Dispatch (GCD)</h1>
<div class='content'><p>GCD is a powerful tool for managing concurrent tasks in Swift. It provides a simple and efficient way to execute code asynchronously.</p>
</div><h2>Basic GCD Concepts</h2>
<div class='content'><ul>
<li><strong>Dispatch Queue</strong>: A queue that manages the execution of tasks.
<ul>
<li><strong>Main Queue</strong>: Runs on the main thread, used for UI updates.</li>
<li><strong>Global Queues</strong>: Concurrent queues provided by the system.</li>
<li><strong>Custom Queues</strong>: Queues created by the developer.</li>
</ul>
</li>
</ul>
</div><h2>Creating and Using Dispatch Queues</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXRpbmcgYSBjdXN0b20gc2VyaWFsIHF1ZXVlCmxldCBzZXJpYWxRdWV1ZSA9IERpc3BhdGNoUXVldWUobGFiZWw6ICJjb20uZXhhbXBsZS5zZXJpYWxRdWV1ZSIpCgovLyBDcmVhdGluZyBhIGN1c3RvbSBjb25jdXJyZW50IHF1ZXVlCmxldCBjb25jdXJyZW50UXVldWUgPSBEaXNwYXRjaFF1ZXVlKGxhYmVsOiAiY29tLmV4YW1wbGUuY29uY3VycmVudFF1ZXVlIiwgYXR0cmlidXRlczogLmNvbmN1cnJlbnQpCgovLyBBc3luY2hyb25vdXNseSBleGVjdXRpbmcgYSB0YXNrIG9uIGEgZ2xvYmFsIHF1ZXVlCkRpc3BhdGNoUXVldWUuZ2xvYmFsKCkuYXN5bmMgewogICAgLy8gUGVyZm9ybSBzb21lIGJhY2tncm91bmQgdGFzawogICAgcHJpbnQoIlRhc2sgcnVubmluZyBpbiBiYWNrZ3JvdW5kIikKfQoKLy8gU3luY2hyb25vdXNseSBleGVjdXRpbmcgYSB0YXNrIG9uIHRoZSBtYWluIHF1ZXVlCkRpc3BhdGNoUXVldWUubWFpbi5zeW5jIHsKICAgIC8vIFBlcmZvcm0gc29tZSB0YXNrIG9uIHRoZSBtYWluIHRocmVhZAogICAgcHJpbnQoIlRhc2sgcnVubmluZyBvbiBtYWluIHRocmVhZCIpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Creating a custom serial queue
let serialQueue = DispatchQueue(label: &quot;com.example.serialQueue&quot;)

// Creating a custom concurrent queue
let concurrentQueue = DispatchQueue(label: &quot;com.example.concurrentQueue&quot;, attributes: .concurrent)

// Asynchronously executing a task on a global queue
DispatchQueue.global().async {
    // Perform some background task
    print(&quot;Task running in background&quot;)
}

// Synchronously executing a task on the main queue
DispatchQueue.main.sync {
    // Perform some task on the main thread
    print(&quot;Task running on main thread&quot;)
}</pre></div><div class='content'></div><h2>Dispatch Groups</h2>
<div class='content'><p>Dispatch Groups allow you to group multiple tasks and be notified when they all complete.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGdyb3VwID0gRGlzcGF0Y2hHcm91cCgpCgpEaXNwYXRjaFF1ZXVlLmdsb2JhbCgpLmFzeW5jKGdyb3VwOiBncm91cCkgewogICAgLy8gVGFzayAxCiAgICBwcmludCgiVGFzayAxIHN0YXJ0ZWQiKQogICAgc2xlZXAoMikKICAgIHByaW50KCJUYXNrIDEgY29tcGxldGVkIikKfQoKRGlzcGF0Y2hRdWV1ZS5nbG9iYWwoKS5hc3luYyhncm91cDogZ3JvdXApIHsKICAgIC8vIFRhc2sgMgogICAgcHJpbnQoIlRhc2sgMiBzdGFydGVkIikKICAgIHNsZWVwKDEpCiAgICBwcmludCgiVGFzayAyIGNvbXBsZXRlZCIpCn0KCmdyb3VwLm5vdGlmeShxdWV1ZTogRGlzcGF0Y2hRdWV1ZS5tYWluKSB7CiAgICBwcmludCgiQWxsIHRhc2tzIGNvbXBsZXRlZCIpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let group = DispatchGroup()

DispatchQueue.global().async(group: group) {
    // Task 1
    print(&quot;Task 1 started&quot;)
    sleep(2)
    print(&quot;Task 1 completed&quot;)
}

DispatchQueue.global().async(group: group) {
    // Task 2
    print(&quot;Task 2 started&quot;)
    sleep(1)
    print(&quot;Task 2 completed&quot;)
}

group.notify(queue: DispatchQueue.main) {
    print(&quot;All tasks completed&quot;)
}</pre></div><div class='content'></div><h1>OperationQueue</h1>
<div class='content'><p>OperationQueue is a higher-level abstraction over GCD, providing more control over the execution of concurrent tasks.</p>
</div><h2>Basic OperationQueue Concepts</h2>
<div class='content'><ul>
<li><strong>Operation</strong>: A unit of work that can be added to an OperationQueue.</li>
<li><strong>OperationQueue</strong>: A queue that manages the execution of Operation objects.</li>
</ul>
</div><h2>Creating and Using OperationQueue</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG9wZXJhdGlvblF1ZXVlID0gT3BlcmF0aW9uUXVldWUoKQoKbGV0IG9wZXJhdGlvbjEgPSBCbG9ja09wZXJhdGlvbiB7CiAgICBwcmludCgiT3BlcmF0aW9uIDEgc3RhcnRlZCIpCiAgICBzbGVlcCgyKQogICAgcHJpbnQoIk9wZXJhdGlvbiAxIGNvbXBsZXRlZCIpCn0KCmxldCBvcGVyYXRpb24yID0gQmxvY2tPcGVyYXRpb24gewogICAgcHJpbnQoIk9wZXJhdGlvbiAyIHN0YXJ0ZWQiKQogICAgc2xlZXAoMSkKICAgIHByaW50KCJPcGVyYXRpb24gMiBjb21wbGV0ZWQiKQp9CgpvcGVyYXRpb25RdWV1ZS5hZGRPcGVyYXRpb24ob3BlcmF0aW9uMSkKb3BlcmF0aW9uUXVldWUuYWRkT3BlcmF0aW9uKG9wZXJhdGlvbjIp"))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let operationQueue = OperationQueue()

let operation1 = BlockOperation {
    print(&quot;Operation 1 started&quot;)
    sleep(2)
    print(&quot;Operation 1 completed&quot;)
}

let operation2 = BlockOperation {
    print(&quot;Operation 2 started&quot;)
    sleep(1)
    print(&quot;Operation 2 completed&quot;)
}

operationQueue.addOperation(operation1)
operationQueue.addOperation(operation2)</pre></div><div class='content'></div><h2>Dependencies Between Operations</h2>
<div class='content'><p>Operations can have dependencies, ensuring that one operation does not start until another has finished.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG9wZXJhdGlvbjEgPSBCbG9ja09wZXJhdGlvbiB7CiAgICBwcmludCgiT3BlcmF0aW9uIDEgc3RhcnRlZCIpCiAgICBzbGVlcCgyKQogICAgcHJpbnQoIk9wZXJhdGlvbiAxIGNvbXBsZXRlZCIpCn0KCmxldCBvcGVyYXRpb24yID0gQmxvY2tPcGVyYXRpb24gewogICAgcHJpbnQoIk9wZXJhdGlvbiAyIHN0YXJ0ZWQiKQogICAgc2xlZXAoMSkKICAgIHByaW50KCJPcGVyYXRpb24gMiBjb21wbGV0ZWQiKQp9CgpvcGVyYXRpb24yLmFkZERlcGVuZGVuY3kob3BlcmF0aW9uMSkKCmxldCBvcGVyYXRpb25RdWV1ZSA9IE9wZXJhdGlvblF1ZXVlKCkKb3BlcmF0aW9uUXVldWUuYWRkT3BlcmF0aW9ucyhbb3BlcmF0aW9uMSwgb3BlcmF0aW9uMl0sIHdhaXRVbnRpbEZpbmlzaGVkOiBmYWxzZSk="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let operation1 = BlockOperation {
    print(&quot;Operation 1 started&quot;)
    sleep(2)
    print(&quot;Operation 1 completed&quot;)
}

let operation2 = BlockOperation {
    print(&quot;Operation 2 started&quot;)
    sleep(1)
    print(&quot;Operation 2 completed&quot;)
}

operation2.addDependency(operation1)

let operationQueue = OperationQueue()
operationQueue.addOperations([operation1, operation2], waitUntilFinished: false)</pre></div><div class='content'></div><h1>Advanced Topics</h1>
<h2>Thread Safety</h2>
<div class='content'><p>Ensuring that shared resources are accessed in a thread-safe manner is crucial in concurrent programming.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVGhyZWFkU2FmZUNvdW50ZXIgewogICAgcHJpdmF0ZSB2YXIgdmFsdWUgPSAwCiAgICBwcml2YXRlIGxldCBxdWV1ZSA9IERpc3BhdGNoUXVldWUobGFiZWw6ICJjb20uZXhhbXBsZS50aHJlYWRTYWZlQ291bnRlciIpCgogICAgZnVuYyBpbmNyZW1lbnQoKSB7CiAgICAgICAgcXVldWUuc3luYyB7CiAgICAgICAgICAgIHZhbHVlICs9IDEKICAgICAgICB9CiAgICB9CgogICAgZnVuYyBnZXRWYWx1ZSgpIC0+IEludCB7CiAgICAgICAgcmV0dXJuIHF1ZXVlLnN5bmMgewogICAgICAgICAgICByZXR1cm4gdmFsdWUKICAgICAgICB9CiAgICB9Cn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ThreadSafeCounter {
    private var value = 0
    private let queue = DispatchQueue(label: &quot;com.example.threadSafeCounter&quot;)

    func increment() {
        queue.sync {
            value += 1
        }
    }

    func getValue() -&gt; Int {
        return queue.sync {
            return value
        }
    }
}</pre></div><div class='content'></div><h2>Async/Await (Swift 5.5+)</h2>
<div class='content'><p>Swift 5.5 introduced async/await for handling asynchronous code in a more readable and maintainable way.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBmZXRjaERhdGEoKSBhc3luYyAtPiBTdHJpbmcgewogICAgLy8gU2ltdWxhdGUgbmV0d29yayBjYWxsCiAgICBhd2FpdCBUYXNrLnNsZWVwKDIgKiAxXzAwMF8wMDBfMDAwKSAvLyAyIHNlY29uZHMKICAgIHJldHVybiAiRGF0YSBmZXRjaGVkIgp9CgpUYXNrIHsKICAgIGxldCBkYXRhID0gYXdhaXQgZmV0Y2hEYXRhKCkKICAgIHByaW50KGRhdGEpCn0="))));alert("Copied!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func fetchData() async -&gt; String {
    // Simulate network call
    await Task.sleep(2 * 1_000_000_000) // 2 seconds
    return &quot;Data fetched&quot;
}

Task {
    let data = await fetchData()
    print(data)
}</pre></div><div class='content'></div><h1>Conclusion</h1>
<div class='content'><p>Concurrency and multithreading are powerful tools that can significantly enhance the performance and responsiveness of your Swift applications. By understanding and utilizing GCD, OperationQueue, and advanced techniques like async/await, you can effectively manage concurrent tasks and ensure your applications run smoothly. Always remember to handle shared resources carefully to avoid race conditions and ensure thread safety.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='advanced-ui-techniques'>&#x25C4;Advanced UI Techniques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Concurrency and Multithreading in Swift</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-core-data'>Using Core Data &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Advertising</h1>
			<p>This space is reserved for advertising.</p>
			<p>If you want to be a sponsor, contact us to include links in this area: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Thank you for collaborating!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. All rights reserved</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
